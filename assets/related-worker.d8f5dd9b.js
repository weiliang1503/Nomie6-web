(function(){"use strict";function y(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var u={exports:{}},d=e=>e.reduce((r,t)=>r+t,0)/e.length;const g=d;var h=e=>{const r=g(e),s=e.map(a=>a-r).map(a=>a**2).reduce((a,n)=>a+n,0)/(e.length-1);return Math.sqrt(s)},v=e=>typeof e=="number"&&e===Number(e)&&Number.isFinite(e);const D=v;var b=e=>{if(e.length!==2)return!1;const[r,t]=e;return!(!r||!t||!Array.isArray(r)||!Array.isArray(t)||!r.length||!t.length||r.length!==t.length||r.concat(t).find(s=>!D(s)))},A=(e,r)=>Math.round(e*10**r+(e>=0?1:-1)*1e-4)/10**r,N=e=>typeof e=="object"&&e!==null&&!Array.isArray(e);const x=N;var I=e=>{let r=e,t={};e.length>2&&(x(e[2])&&(t=e[2]),r=e.slice(0,2));const s={returnString:t.string||!1,returnDecimals:t.decimals||9};return[r,s]};const f=d,p=h,$=b,M=A,O=I;var S=(...e)=>{const[r,t]=O(e);if(!$(r))throw new Error("Input not valid");const[a,n]=r,o={x:f(a),y:f(n)},c={x:p(a),y:p(n)},m=a.map((i,l)=>(i-o.x)*(n[l]-o.y)).reduce((i,l)=>i+l,0)/(c.x*c.y)/(a.length-1);return t.returnString===!0?m.toFixed(t.returnDecimals):M(m,t.returnDecimals)};(function(e){e.exports=S})(u);var j=y(u.exports);onmessage=e=>{const r=e.data,t=r.values.map(a=>isNaN(a)?0:a),s=[];Object.keys(r.compareTo).forEach(a=>{const n=r.compareTo[a].map(c=>isNaN(c)?0:c);let o=j(t,n,{decimals:5});s.push({tag:a,score:o})}),postMessage(s)}})();
