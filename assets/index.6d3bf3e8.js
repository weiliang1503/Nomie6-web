var fj=Object.defineProperty;var dj=(i,e,t)=>e in i?fj(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var hj=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports);var Ne=(i,e,t)=>(dj(i,typeof e!="symbol"?e+"":e,t),t);var det=hj((met,bd)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function W(){}const op=i=>i;function ft(i,e){for(const t in e)i[t]=e[t];return i}function mj(i){return i&&typeof i=="object"&&typeof i.then=="function"}function lP(i){return i()}function U2(){return Object.create(null)}function pt(i){i.forEach(lP)}function zt(i){return typeof i=="function"}function le(i,e){return i!=i?e==e:i!==e||i&&typeof i=="object"||typeof i=="function"}let dh;function Xi(i,e){return dh||(dh=document.createElement("a")),dh.href=e,i===dh.href}function pj(i){return Object.keys(i).length===0}function ol(i,...e){if(i==null)return W;const t=i.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function Zu(i){let e;return ol(i,t=>e=t)(),e}function Ee(i,e,t){i.$$.on_destroy.push(ol(e,t))}function He(i,e,t,n){if(i){const r=oP(i,e,t,n);return i[0](r)}}function oP(i,e,t,n){return i[1]&&n?ft(t.ctx.slice(),i[1](n(e))):t.ctx}function We(i,e,t,n){if(i[2]&&n){const r=i[2](n(t));if(e.dirty===void 0)return r;if(typeof r=="object"){const s=[],l=Math.max(e.dirty.length,r.length);for(let o=0;o<l;o+=1)s[o]=e.dirty[o]|r[o];return s}return e.dirty|r}return e.dirty}function Ve(i,e,t,n,r,s){if(r){const l=oP(e,t,n,s);i.p(l,r)}}function Ge(i){if(i.ctx.length>32){const e=[],t=i.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function ci(i){const e={};for(const t in i)t[0]!=="$"&&(e[t]=i[t]);return e}function An(i,e){const t={};e=new Set(e);for(const n in i)!e.has(n)&&n[0]!=="$"&&(t[n]=i[n]);return t}function rm(i){return i==null?"":i}function wn(i,e,t){return i.set(t),e}function Ct(i){return i&&zt(i.destroy)?i.destroy:W}const aP=typeof window<"u";let Yf=aP?()=>window.performance.now():()=>Date.now(),h0=aP?i=>requestAnimationFrame(i):W;const zu=new Set;function uP(i){zu.forEach(e=>{e.c(i)||(zu.delete(e),e.f())}),zu.size!==0&&h0(uP)}function ap(i){let e;return zu.size===0&&h0(uP),{promise:new Promise(t=>{zu.add(e={c:i,f:t})}),abort(){zu.delete(e)}}}function E(i,e){i.appendChild(e)}function cP(i){if(!i)return document;const e=i.getRootNode?i.getRootNode():i.ownerDocument;return e&&e.host?e:i.ownerDocument}function _j(i){const e=A("style");return gj(cP(i),e),e.sheet}function gj(i,e){return E(i.head||i,e),e.sheet}function w(i,e,t){i.insertBefore(e,t||null)}function y(i){i.parentNode&&i.parentNode.removeChild(i)}function it(i,e){for(let t=0;t<i.length;t+=1)i[t]&&i[t].d(e)}function A(i){return document.createElement(i)}function me(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function Z(i){return document.createTextNode(i)}function Y(){return Z(" ")}function $e(){return Z("")}function ke(i,e,t,n){return i.addEventListener(e,t,n),()=>i.removeEventListener(e,t,n)}function Or(i){return function(e){return e.preventDefault(),i.call(this,e)}}function Ro(i){return function(e){return e.stopPropagation(),i.call(this,e)}}function fP(i){return function(e){e.target===this&&i.call(this,e)}}function h(i,e,t){t==null?i.removeAttribute(e):i.getAttribute(e)!==t&&i.setAttribute(e,t)}function gt(i,e){const t=Object.getOwnPropertyDescriptors(i.__proto__);for(const n in e)e[n]==null?i.removeAttribute(n):n==="style"?i.style.cssText=e[n]:n==="__value"?i.value=i[n]=e[n]:t[n]&&t[n].set?i[n]=e[n]:h(i,n,e[n])}function qg(i,e,t){e in i?i[e]=typeof i[e]=="boolean"&&t===""?!0:t:h(i,e,t)}function vc(i){return i===""?null:+i}function vj(i){return Array.from(i.childNodes)}function oe(i,e){e=""+e,i.wholeText!==e&&(i.data=e)}function mn(i,e){i.value=e==null?"":e}function nt(i,e,t,n){t===null?i.style.removeProperty(e):i.style.setProperty(e,t,n?"important":"")}function gn(i,e){for(let t=0;t<i.options.length;t+=1){const n=i.options[t];if(n.__value===e){n.selected=!0;return}}i.selectedIndex=-1}function Ks(i){const e=i.querySelector(":checked")||i.options[0];return e&&e.__value}let hh;function bj(){if(hh===void 0){hh=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{hh=!0}}return hh}function kj(i,e){getComputedStyle(i).position==="static"&&(i.style.position="relative");const n=A("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const r=bj();let s;return r?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",s=ke(window,"message",l=>{l.source===n.contentWindow&&e()})):(n.src="about:blank",n.onload=()=>{s=ke(n.contentWindow,"resize",e)}),E(i,n),()=>{(r||s&&n.contentWindow)&&s(),y(n)}}function Je(i,e,t){i.classList[t?"add":"remove"](e)}function dP(i,e,{bubbles:t=!1,cancelable:n=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(i,t,n,e),r}class yj{constructor(e=!1){this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.is_svg?this.e=me(t.nodeName):this.e=A(t.nodeName),this.t=t,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)w(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(y)}}function an(i,e){return new i(e)}const sm=new Map;let lm=0;function wj(i){let e=5381,t=i.length;for(;t--;)e=(e<<5)-e^i.charCodeAt(t);return e>>>0}function $j(i,e){const t={stylesheet:_j(e),rules:{}};return sm.set(i,t),t}function om(i,e,t,n,r,s,l,o=0){const a=16.666/n;let u=`{
`;for(let k=0;k<=1;k+=a){const $=e+(t-e)*s(k);u+=k*100+`%{${l($,1-$)}}
`}const c=u+`100% {${l(t,1-t)}}
}`,f=`__svelte_${wj(c)}_${o}`,d=cP(i),{stylesheet:m,rules:p}=sm.get(d)||$j(d,i);p[f]||(p[f]=!0,m.insertRule(`@keyframes ${f} ${c}`,m.cssRules.length));const g=i.style.animation||"";return i.style.animation=`${g?`${g}, `:""}${f} ${n}ms linear ${r}ms 1 both`,lm+=1,f}function am(i,e){const t=(i.style.animation||"").split(", "),n=t.filter(e?s=>s.indexOf(e)<0:s=>s.indexOf("__svelte")===-1),r=t.length-n.length;r&&(i.style.animation=n.join(", "),lm-=r,lm||Fj())}function Fj(){h0(()=>{lm||(sm.forEach(i=>{const{ownerNode:e}=i.stylesheet;e&&y(e)}),sm.clear())})}let Uf;function Nl(i){Uf=i}function Cr(){if(!Uf)throw new Error("Function called outside component initialization");return Uf}function wt(i){Cr().$$.on_mount.push(i)}function Ej(i){Cr().$$.after_update.push(i)}function Dr(i){Cr().$$.on_destroy.push(i)}function Dt(){const i=Cr();return(e,t,{cancelable:n=!1}={})=>{const r=i.$$.callbacks[e];if(r){const s=dP(e,t,{cancelable:n});return r.slice().forEach(l=>{l.call(i,s)}),!s.defaultPrevented}return!0}}function Ts(i,e){return Cr().$$.context.set(i,e),e}function sr(i){return Cr().$$.context.get(i)}function Gr(i,e){const t=i.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const _f=[],De=[],Xh=[],Hg=[],hP=Promise.resolve();let Wg=!1;function mP(){Wg||(Wg=!0,hP.then(m0))}function Ds(){return mP(),hP}function Rn(i){Xh.push(i)}function qe(i){Hg.push(i)}const j_=new Set;let mh=0;function m0(){const i=Uf;do{for(;mh<_f.length;){const e=_f[mh];mh++,Nl(e),Dj(e.$$)}for(Nl(null),_f.length=0,mh=0;De.length;)De.pop()();for(let e=0;e<Xh.length;e+=1){const t=Xh[e];j_.has(t)||(j_.add(t),t())}Xh.length=0}while(_f.length);for(;Hg.length;)Hg.pop()();Wg=!1,j_.clear(),Nl(i)}function Dj(i){if(i.fragment!==null){i.update(),pt(i.before_update);const e=i.dirty;i.dirty=[-1],i.fragment&&i.fragment.p(i.ctx,e),i.after_update.forEach(Rn)}}let Qc;function p0(){return Qc||(Qc=Promise.resolve(),Qc.then(()=>{Qc=null})),Qc}function Ca(i,e,t){i.dispatchEvent(dP(`${e?"intro":"outro"}${t}`))}const Kh=new Set;let Js;function ie(){Js={r:0,c:[],p:Js}}function re(){Js.r||pt(Js.c),Js=Js.p}function _(i,e){i&&i.i&&(Kh.delete(i),i.i(e))}function v(i,e,t,n){if(i&&i.o){if(Kh.has(i))return;Kh.add(i),Js.c.push(()=>{Kh.delete(i),n&&(t&&i.d(1),n())}),i.o(e)}else n&&n()}const _0={duration:0};function up(i,e,t){const n={direction:"in"};let r=e(i,t,n),s=!1,l,o,a=0;function u(){l&&am(i,l)}function c(){const{delay:d=0,duration:m=300,easing:p=op,tick:g=W,css:k}=r||_0;k&&(l=om(i,0,1,m,d,p,k,a++)),g(0,1);const $=Yf()+d,D=$+m;o&&o.abort(),s=!0,Rn(()=>Ca(i,!0,"start")),o=ap(F=>{if(s){if(F>=D)return g(1,0),Ca(i,!0,"end"),u(),s=!1;if(F>=$){const C=p((F-$)/m);g(C,1-C)}}return s})}let f=!1;return{start(){f||(f=!0,am(i),zt(r)?(r=r(n),p0().then(c)):c())},invalidate(){f=!1},end(){s&&(u(),s=!1)}}}function g0(i,e,t){const n={direction:"out"};let r=e(i,t,n),s=!0,l;const o=Js;o.r+=1;function a(){const{delay:u=0,duration:c=300,easing:f=op,tick:d=W,css:m}=r||_0;m&&(l=om(i,1,0,c,u,f,m));const p=Yf()+u,g=p+c;Rn(()=>Ca(i,!1,"start")),ap(k=>{if(s){if(k>=g)return d(0,1),Ca(i,!1,"end"),--o.r||pt(o.c),!1;if(k>=p){const $=f((k-p)/c);d(1-$,$)}}return s})}return zt(r)?p0().then(()=>{r=r(n),a()}):a(),{end(u){u&&r.tick&&r.tick(1,0),s&&(l&&am(i,l),s=!1)}}}function lr(i,e,t,n){const r={direction:"both"};let s=e(i,t,r),l=n?0:1,o=null,a=null,u=null;function c(){u&&am(i,u)}function f(m,p){const g=m.b-l;return p*=Math.abs(g),{a:l,b:m.b,d:g,duration:p,start:m.start,end:m.start+p,group:m.group}}function d(m){const{delay:p=0,duration:g=300,easing:k=op,tick:$=W,css:D}=s||_0,F={start:Yf()+p,b:m};m||(F.group=Js,Js.r+=1),o||a?a=F:(D&&(c(),u=om(i,l,m,g,p,k,D)),m&&$(0,1),o=f(F,g),Rn(()=>Ca(i,m,"start")),ap(C=>{if(a&&C>a.start&&(o=f(a,g),a=null,Ca(i,o.b,"start"),D&&(c(),u=om(i,l,o.b,o.duration,0,k,s.css))),o){if(C>=o.end)$(l=o.b,1-l),Ca(i,o.b,"end"),a||(o.b?c():--o.group.r||pt(o.group.c)),o=null;else if(C>=o.start){const S=C-o.start;l=o.a+o.d*k(S/o.duration),$(l,1-l)}}return!!(o||a)}))}return{run(m){zt(s)?p0().then(()=>{s=s(r),d(m)}):d(m)},end(){c(),o=a=null}}}function v0(i,e){const t=e.token={};function n(r,s,l,o){if(e.token!==t)return;e.resolved=o;let a=e.ctx;l!==void 0&&(a=a.slice(),a[l]=o);const u=r&&(e.current=r)(a);let c=!1;e.block&&(e.blocks?e.blocks.forEach((f,d)=>{d!==s&&f&&(ie(),v(f,1,1,()=>{e.blocks[d]===f&&(e.blocks[d]=null)}),re())}):e.block.d(1),u.c(),_(u,1),u.m(e.mount(),e.anchor),c=!0),e.block=u,e.blocks&&(e.blocks[s]=u),c&&m0()}if(mj(i)){const r=Cr();if(i.then(s=>{Nl(r),n(e.then,1,e.value,s),Nl(null)},s=>{if(Nl(r),n(e.catch,2,e.error,s),Nl(null),!e.hasCatch)throw s}),e.current!==e.pending)return n(e.pending,0),!0}else{if(e.current!==e.then)return n(e.then,1,e.value,i),!0;e.resolved=i}}function b0(i,e,t){const n=e.slice(),{resolved:r}=i;i.current===i.then&&(n[i.value]=r),i.current===i.catch&&(n[i.error]=r),i.block.p(n,t)}const Cj=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function Sa(i,e){i.d(1),e.delete(i.key)}function Ci(i,e){v(i,1,1,()=>{e.delete(i.key)})}function qn(i,e,t,n,r,s,l,o,a,u,c,f){let d=i.length,m=s.length,p=d;const g={};for(;p--;)g[i[p].key]=p;const k=[],$=new Map,D=new Map;for(p=m;p--;){const P=f(r,s,p),I=t(P);let R=l.get(I);R?n&&R.p(P,e):(R=u(I,P),R.c()),$.set(I,k[p]=R),I in g&&D.set(I,Math.abs(p-g[I]))}const F=new Set,C=new Set;function S(P){_(P,1),P.m(o,c),l.set(P.key,P),c=P.first,m--}for(;d&&m;){const P=k[m-1],I=i[d-1],R=P.key,B=I.key;P===I?(c=P.first,d--,m--):$.has(B)?!l.has(R)||F.has(R)?S(P):C.has(B)?d--:D.get(R)>D.get(B)?(C.add(R),S(P)):(F.add(B),d--):(a(I,l),d--)}for(;d--;){const P=i[d];$.has(P.key)||a(P,l)}for(;m;)S(k[m-1]);return k}function At(i,e){const t={},n={},r={$$scope:1};let s=i.length;for(;s--;){const l=i[s],o=e[s];if(o){for(const a in l)a in o||(n[a]=1);for(const a in o)r[a]||(t[a]=o[a],r[a]=1);i[s]=o}else for(const a in l)r[a]=1}for(const l in n)l in t||(t[l]=void 0);return t}function Ki(i){return typeof i=="object"&&i!==null?i:{}}function Ue(i,e,t,n){const r=i.$$.props[e];r!==void 0&&(i.$$.bound[r]=t,n===void 0&&t(i.$$.ctx[r]))}function O(i){i&&i.c()}function N(i,e,t,n){const{fragment:r,after_update:s}=i.$$;r&&r.m(e,t),n||Rn(()=>{const l=i.$$.on_mount.map(lP).filter(zt);i.$$.on_destroy?i.$$.on_destroy.push(...l):pt(l),i.$$.on_mount=[]}),s.forEach(Rn)}function M(i,e){const t=i.$$;t.fragment!==null&&(pt(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Sj(i,e){i.$$.dirty[0]===-1&&(_f.push(i),mP(),i.$$.dirty.fill(0)),i.$$.dirty[e/31|0]|=1<<e%31}function ue(i,e,t,n,r,s,l,o=[-1]){const a=Uf;Nl(i);const u=i.$$={fragment:null,ctx:[],props:s,update:W,not_equal:r,bound:U2(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:U2(),dirty:o,skip_bound:!1,root:e.target||a.$$.root};l&&l(u.root);let c=!1;if(u.ctx=t?t(i,e.props||{},(f,d,...m)=>{const p=m.length?m[0]:d;return u.ctx&&r(u.ctx[f],u.ctx[f]=p)&&(!u.skip_bound&&u.bound[f]&&u.bound[f](p),c&&Sj(i,f)),d}):[],u.update(),c=!0,pt(u.before_update),u.fragment=n?n(u.ctx):!1,e.target){if(e.hydrate){const f=vj(e.target);u.fragment&&u.fragment.l(f),f.forEach(y)}else u.fragment&&u.fragment.c();e.intro&&_(i.$$.fragment),N(i,e.target,e.anchor,e.customElement),m0()}Nl(a)}class ce{$destroy(){M(this,1),this.$destroy=W}$on(e,t){if(!zt(t))return W;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const r=n.indexOf(t);r!==-1&&n.splice(r,1)}}$set(e){this.$$set&&!pj(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function pP(i){const e=i-1;return e*e*e+1}function q2(i){return i/=.5,i<1?.5*i*i:(i--,-.5*(i*(i-2)-1))}function al(i){return--i*i*i*i*i+1}function qf(i,{delay:e=0,duration:t=400,easing:n=op}={}){const r=+getComputedStyle(i).opacity;return{delay:e,duration:t,easing:n,css:s=>`opacity: ${s*r}`}}function xu(i,{delay:e=0,duration:t=400,easing:n=pP,x:r=0,y:s=0,opacity:l=0}={}){const o=getComputedStyle(i),a=+o.opacity,u=o.transform==="none"?"":o.transform,c=a*(1-l);return{delay:e,duration:t,easing:n,css:(f,d)=>`
			transform: ${u} translate(${(1-f)*r}px, ${(1-f)*s}px);
			opacity: ${a-c*d}`}}function cs(i,{delay:e=0,duration:t=400,easing:n=pP}={}){const r=getComputedStyle(i),s=+r.opacity,l=parseFloat(r.height),o=parseFloat(r.paddingTop),a=parseFloat(r.paddingBottom),u=parseFloat(r.marginTop),c=parseFloat(r.marginBottom),f=parseFloat(r.borderTopWidth),d=parseFloat(r.borderBottomWidth);return{delay:e,duration:t,easing:n,css:m=>`overflow: hidden;opacity: ${Math.min(m*20,1)*s};height: ${m*l}px;padding-top: ${m*o}px;padding-bottom: ${m*a}px;margin-top: ${m*u}px;margin-bottom: ${m*c}px;border-top-width: ${m*f}px;border-bottom-width: ${m*d}px;`}}const vu=[];function Tj(i,e){return{subscribe:Bt(i,e).subscribe}}function Bt(i,e=W){let t;const n=new Set;function r(o){if(le(i,o)&&(i=o,t)){const a=!vu.length;for(const u of n)u[1](),vu.push(u,i);if(a){for(let u=0;u<vu.length;u+=2)vu[u][0](vu[u+1]);vu.length=0}}}function s(o){r(o(i))}function l(o,a=W){const u=[o,a];return n.add(u),n.size===1&&(t=e(r)||W),o(i),()=>{n.delete(u),n.size===0&&(t(),t=null)}}return{set:r,update:s,subscribe:l}}function cr(i,e,t){const n=!Array.isArray(i),r=n?[i]:i,s=e.length<2;return Tj(t,l=>{let o=!1;const a=[];let u=0,c=W;const f=()=>{if(u)return;c();const m=e(n?a[0]:a,l);s?l(m):c=zt(m)?m:W},d=r.map((m,p)=>ol(m,g=>{a[p]=g,u&=~(1<<p),o&&f()},()=>{u|=1<<p}));return o=!0,f(),function(){pt(d),c()}})}function Aj(){const i=[],{subscribe:e,update:t,set:n}=Bt(i);function r(){let c;return t(f=>(c=`bd-${f.length}`,f.push(c),f)),c}function s(c){t(f=>(f.indexOf(c)===-1&&f.push(c),f))}function l(){let c;return t(f=>(c=f,f)),c}function o(c){t(f=>f.filter(d=>d!==c))}async function a(){const c=l().filter(f=>{const d=`child-${f}`;return!!document.getElementById(d)});t(f=>(f=c,f))}function u(){t(c=>[])}return{clearAll:u,remove:o,getId:r,add:s,subscribe:e,update:t,set:n,refresh:a}}const Pj=Aj();function Nj(i){return wt(()=>{document.body.classList.add("overflow-hidden")}),Dr(()=>{document.body.classList.remove("overflow-hidden")}),[]}class Mj extends ce{constructor(e){super(),ue(this,e,Nj,null,le,{})}}const Lj="modulepreload",Oj=function(i){return"/"+i},H2={},Ij=function(e,t,n){if(!t||t.length===0)return e();const r=document.getElementsByTagName("link");return Promise.all(t.map(s=>{if(s=Oj(s),s in H2)return;H2[s]=!0;const l=s.endsWith(".css"),o=l?'[rel="stylesheet"]':"";if(!!n)for(let c=r.length-1;c>=0;c--){const f=r[c];if(f.href===s&&(!l||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${o}`))return;const u=document.createElement("link");if(u.rel=l?"stylesheet":Lj,l||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),l)return new Promise((c,f)=>{u.addEventListener("load",c),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e())};function Bj(i={}){const{immediate:e=!1,onNeedRefresh:t,onOfflineReady:n,onRegistered:r,onRegisteredSW:s,onRegisterError:l}=i;let o,a,u,c;const f=async(m=!0)=>{await u,await(c==null?void 0:c())};async function d(){if("serviceWorker"in navigator){const{Workbox:m}=await Ij(()=>import("./workbox-window.prod.es5.d2780aeb.js"),[]);o=new m("/sw.js",{scope:"/",type:"classic"}),c=async()=>{a&&a.waiting&&await(o==null?void 0:o.messageSkipWaiting())},o.addEventListener("activated",p=>{!p.isUpdate&&p.isExternal?window.location.reload():p.isUpdate||n==null||n()});{const p=()=>{o==null||o.addEventListener("controlling",g=>{g.isUpdate&&window.location.reload()}),t==null||t()};o.addEventListener("waiting",p),o.addEventListener("externalwaiting",p)}o.register({immediate:e}).then(p=>{a=p,s?s("/sw.js",p):r==null||r(p)}).catch(p=>{l==null||l(p)})}}return u=d(),f}function _P(i={}){const{immediate:e=!0,onNeedRefresh:t,onOfflineReady:n,onRegistered:r,onRegisteredSW:s,onRegisterError:l}=i,o=Bt(!1),a=Bt(!1),u=Bj({immediate:e,onOfflineReady(){a.set(!0),n==null||n()},onNeedRefresh(){o.set(!0),t==null||t()},onRegistered:r,onRegisteredSW:s,onRegisterError:l});return{needRefresh:o,offlineReady:a,updateServiceWorker:u}}const zj=i=>({}),W2=i=>({}),Rj=i=>({}),V2=i=>({});function jj(i){let e,t,n,r,s,l,o,a;const u=i[5].header,c=He(u,i,i[4],V2),f=i[5].default,d=He(f,i,i[4],null),m=i[5].footer,p=He(m,i,i[4],W2);return{c(){e=A("div"),t=A("header"),c&&c.c(),n=Y(),r=A("main"),d&&d.c(),s=Y(),l=A("footer"),p&&p.c(),h(t,"class",i[2]),h(r,"class",i[1]),h(e,"class",o="bd-modal "+i[0]),h(e,"style",i[3])},m(g,k){w(g,e,k),E(e,t),c&&c.m(t,null),E(e,n),E(e,r),d&&d.m(r,null),E(e,s),E(e,l),p&&p.m(l,null),a=!0},p(g,[k]){c&&c.p&&(!a||k&16)&&Ve(c,u,g,g[4],a?We(u,g[4],k,Rj):Ge(g[4]),V2),(!a||k&4)&&h(t,"class",g[2]),d&&d.p&&(!a||k&16)&&Ve(d,f,g,g[4],a?We(f,g[4],k,null):Ge(g[4]),null),(!a||k&2)&&h(r,"class",g[1]),p&&p.p&&(!a||k&16)&&Ve(p,m,g,g[4],a?We(m,g[4],k,zj):Ge(g[4]),W2),(!a||k&1&&o!==(o="bd-modal "+g[0]))&&h(e,"class",o),(!a||k&8)&&h(e,"style",g[3])},i(g){a||(_(c,g),_(d,g),_(p,g),a=!0)},o(g){v(c,g),v(d,g),v(p,g),a=!1},d(g){g&&y(e),c&&c.d(g),d&&d.d(g),p&&p.d(g)}}}function Yj(i,e,t){let{$$slots:n={},$$scope:r}=e,{className:s=""}=e,{mainClass:l=""}=e,{headerClass:o=""}=e,{style:a=""}=e;return i.$$set=u=>{"className"in u&&t(0,s=u.className),"mainClass"in u&&t(1,l=u.mainClass),"headerClass"in u&&t(2,o=u.headerClass),"style"in u&&t(3,a=u.style),"$$scope"in u&&t(4,r=u.$$scope)},[s,l,o,a,r,n]}class _n extends ce{constructor(e){super(),ue(this,e,Yj,jj,le,{className:0,mainClass:1,headerClass:2,style:3})}}function G2(i){let e,t,n,r,s,l,o,a,u;function c(p,g){if(p[2])return qj;if(p[0])return Uj}let f=c(i),d=f&&f(i),m=i[0]&&Z2(i);return{c(){e=A("div"),t=A("div"),n=A("div"),d&&d.c(),r=Y(),s=A("div"),l=A("button"),l.textContent="Later",o=Y(),m&&m.c(),h(n,"class","px-2 pb-2 mb-2 text-lg font-medium leading-snug text-black message"),h(l,"class","px-4 py-2 filler font-bold bg-white shadow-sm rounded-xl text-primary-600"),h(s,"class","flex items-center justify-end space-x-4"),h(t,"class","pwa-toast svelte-1yg6efo"),h(t,"role","alert"),h(e,"class","install-backdrop svelte-1yg6efo"),nt(e,"z-index","8999")},m(p,g){w(p,e,g),E(e,t),E(t,n),d&&d.m(n,null),E(t,r),E(t,s),E(s,l),E(s,o),m&&m.m(s,null),a||(u=ke(l,"click",i[6]),a=!0)},p(p,g){f!==(f=c(p))&&(d&&d.d(1),d=f&&f(p),d&&(d.c(),d.m(n,null))),p[0]?m?m.p(p,g):(m=Z2(p),m.c(),m.m(s,null)):m&&(m.d(1),m=null)},d(p){p&&y(e),d&&d.d(),m&&m.d(),a=!1,u()}}}function Uj(i){let e,t,n;return{c(){e=A("h1"),e.textContent="\u{1F389} Update Available",t=Y(),n=A("p"),n.textContent="A new version of Nomie is ready to use.",h(e,"class","mb-2 text-2xl font-bold text-black")},m(r,s){w(r,e,s),w(r,t,s),w(r,n,s)},d(r){r&&y(e),r&&y(t),r&&y(n)}}}function qj(i){let e;return{c(){e=A("span"),e.textContent="App ready to work offline"},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Z2(i){let e,t,n;return{c(){e=A("button"),e.textContent="Update Now",h(e,"aria-label","Update the App"),h(e,"class","px-4 py-2 font-bold filler bg-white shadow-sm rounded-xl text-primary-600")},m(r,s){w(r,e,s),t||(n=ke(e,"click",i[7]),t=!0)},p:W,d(r){r&&y(e),t=!1,n()}}}function Hj(i){let e,t=i[1]&&G2(i);return{c(){t&&t.c(),e=$e()},m(n,r){t&&t.m(n,r),w(n,e,r)},p(n,[r]){n[1]?t?t.p(n,r):(t=G2(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:W,o:W,d(n){t&&t.d(n),n&&y(e)}}}function Wj(i,e,t){let n,r,s;const{offlineReady:l,needRefresh:o,updateServiceWorker:a}=_P({onRegistered(f){console.log("Nomie Service Worker registered",{installing:f.installing,active:f.active,scope:f.scope})},onRegisterError(f){console.error("Nomie Service Worker registration error",f)}});Ee(i,l,f=>t(2,s=f)),Ee(i,o,f=>t(0,r=f));function u(){l.set(!1),o.set(!1)}const c=()=>a(!0);return i.$$.update=()=>{i.$$.dirty&1&&t(1,n=r)},[r,n,s,l,o,a,u,c]}class Vj extends ce{constructor(e){super(),ue(this,e,Wj,Hj,le,{})}}function Gj(i){let e;return{c(){e=A("div"),h(e,"class","tailwind")},m(t,n){w(t,e,n)},p:W,i:W,o:W,d(t){t&&y(e)}}}class Zj extends ce{constructor(e){super(),ue(this,e,null,Gj,le,{})}}var Au,gf,Pu;window.navigator.pointerEnabled?(Au="pointerdown",gf="pointerup",Pu="pointermove"):window.navigator.msPointerEnabled?(Au="MSPointerDown",gf="MSPointerUp",Pu="MSPointerMove"):"ontouchstart"in window?(Au="touchstart",gf="touchend",Pu="touchmove"):(Au="mousedown",gf="mouseup",Pu="mousemove");function ef(i,e,t,n){if(!e)return void console.error("No event was provided. You do need to provide one.");if(typeof i=="string"&&(i=document.querySelector(i)),document.createEvent){var r=document.createEvent("Events");r.initEvent(e,!0,!1),r.data=t,r.originalEvent=n,i.dispatchEvent(r)}}var xj=function(){var i=Math.abs;function e(m){return"tagName"in m?m:m.parentNode}function t(m,p,g,k){return i(m-p)>=i(g-k)?0<m-p?"left":"right":0<g-k?"up":"down"}function n(m){if(d=null,u.last)try{u&&u.el&&(ef(u.el,"longtap",null,m),u={})}catch{}}function r(){d&&clearTimeout(d),d=null}function s(){l&&clearTimeout(l),a&&clearTimeout(a),o&&clearTimeout(o),d&&clearTimeout(d),l=a=o=d=null,u={}}var l,o,a,u={},c=150,f=20;/android/gim.test(navigator.userAgent)&&(c=200);var d;(function(){var m,p,g=document.body;g.addEventListener(Au,function(k){if(m=Date.now(),p=m-(u.last||m),Au==="mousedown")u.el=e(k.target),k.target.nodeName==="ripple"&&(u.el=k.target.parentNode),l&&clearTimeout(l),u.x1=k.pageX,u.y1=k.pageY;else if(k.touches.length===1){if(k.target.disabled)return;u.el=e(k.touches[0].target),l&&clearTimeout(l),u.x1=k.touches[0].pageX,u.y1=k.touches[0].pageY}0<p&&450>=p&&(u.isDoubleTap=!0),u.last=m,d=setTimeout(n,750,k)}),g.addEventListener(Pu,function(k){r(),Pu==="mousemove"?(u.x2=k.pageX,u.y2=k.pageY):k.touches.length===1?(u.x2=k.touches[0].pageX,u.y2=k.touches[0].pageY,u.move=!0):k.touches.length}),g.addEventListener(gf,function(k){r(),!u.el||(u.x2&&i(u.x1-u.x2)>f||u.y2&&i(u.y1-u.y2)>f?o=setTimeout(function(){if(u&&u.el){var $=t(u.x1,u.x2,u.y1,u.y2);ef(u.el,"swipe",$,k),ef(u.el,"swipe"+$,null,k),u={}}},0):"last"in u&&(a=setTimeout(function(){u&&u.isDoubleTap?u&&u.el&&(ef(u.el,"dbltap",null,k),k.preventDefault(),u={}):l=setTimeout(function(){l=null,u&&u.el&&!u.move?(ef(u.el,"tap",null,k),u={}):s()},c)},0)))}),g.addEventListener("touchcancel",s)})()},Yn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xj(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function Kj(i){var e=i.default;if(typeof e=="function"){var t=function(){return e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(i).forEach(function(n){var r=Object.getOwnPropertyDescriptor(i,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return i[n]}})}),t}var gP={exports:{}};(function(i,e){(function(t,n){i.exports=n()})(Yn,function(){var t=1e3,n=6e4,r=36e5,s="millisecond",l="second",o="minute",a="hour",u="day",c="week",f="month",d="quarter",m="year",p="date",g="Invalid Date",k=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,$=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,D={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(K){var G=["th","st","nd","rd"],U=K%100;return"["+K+(G[(U-20)%10]||G[U]||G[0])+"]"}},F=function(K,G,U){var Q=String(K);return!Q||Q.length>=G?K:""+Array(G+1-Q.length).join(U)+K},C={s:F,z:function(K){var G=-K.utcOffset(),U=Math.abs(G),Q=Math.floor(U/60),V=U%60;return(G<=0?"+":"-")+F(Q,2,"0")+":"+F(V,2,"0")},m:function K(G,U){if(G.date()<U.date())return-K(U,G);var Q=12*(U.year()-G.year())+(U.month()-G.month()),V=G.clone().add(Q,f),x=U-V<0,ee=G.clone().add(Q+(x?-1:1),f);return+(-(Q+(U-V)/(x?V-ee:ee-V))||0)},a:function(K){return K<0?Math.ceil(K)||0:Math.floor(K)},p:function(K){return{M:f,y:m,w:c,d:u,D:p,h:a,m:o,s:l,ms:s,Q:d}[K]||String(K||"").toLowerCase().replace(/s$/,"")},u:function(K){return K===void 0}},S="en",P={};P[S]=D;var I=function(K){return K instanceof q},R=function K(G,U,Q){var V;if(!G)return S;if(typeof G=="string"){var x=G.toLowerCase();P[x]&&(V=x),U&&(P[x]=U,V=x);var ee=G.split("-");if(!V&&ee.length>1)return K(ee[0])}else{var J=G.name;P[J]=G,V=J}return!Q&&V&&(S=V),V||!Q&&S},B=function(K,G){if(I(K))return K.clone();var U=typeof G=="object"?G:{};return U.date=K,U.args=arguments,new q(U)},z=C;z.l=R,z.i=I,z.w=function(K,G){return B(K,{locale:G.$L,utc:G.$u,x:G.$x,$offset:G.$offset})};var q=function(){function K(U){this.$L=R(U.locale,null,!0),this.parse(U)}var G=K.prototype;return G.parse=function(U){this.$d=function(Q){var V=Q.date,x=Q.utc;if(V===null)return new Date(NaN);if(z.u(V))return new Date;if(V instanceof Date)return new Date(V);if(typeof V=="string"&&!/Z$/i.test(V)){var ee=V.match(k);if(ee){var J=ee[2]-1||0,se=(ee[7]||"0").substring(0,3);return x?new Date(Date.UTC(ee[1],J,ee[3]||1,ee[4]||0,ee[5]||0,ee[6]||0,se)):new Date(ee[1],J,ee[3]||1,ee[4]||0,ee[5]||0,ee[6]||0,se)}}return new Date(V)}(U),this.$x=U.x||{},this.init()},G.init=function(){var U=this.$d;this.$y=U.getFullYear(),this.$M=U.getMonth(),this.$D=U.getDate(),this.$W=U.getDay(),this.$H=U.getHours(),this.$m=U.getMinutes(),this.$s=U.getSeconds(),this.$ms=U.getMilliseconds()},G.$utils=function(){return z},G.isValid=function(){return this.$d.toString()!==g},G.isSame=function(U,Q){var V=B(U);return this.startOf(Q)<=V&&V<=this.endOf(Q)},G.isAfter=function(U,Q){return B(U)<this.startOf(Q)},G.isBefore=function(U,Q){return this.endOf(Q)<B(U)},G.$g=function(U,Q,V){return z.u(U)?this[Q]:this.set(V,U)},G.unix=function(){return Math.floor(this.valueOf()/1e3)},G.valueOf=function(){return this.$d.getTime()},G.startOf=function(U,Q){var V=this,x=!!z.u(Q)||Q,ee=z.p(U),J=function(pe,Ie){var ye=z.w(V.$u?Date.UTC(V.$y,Ie,pe):new Date(V.$y,Ie,pe),V);return x?ye:ye.endOf(u)},se=function(pe,Ie){return z.w(V.toDate()[pe].apply(V.toDate("s"),(x?[0,0,0,0]:[23,59,59,999]).slice(Ie)),V)},te=this.$W,ge=this.$M,ae=this.$D,ve="set"+(this.$u?"UTC":"");switch(ee){case m:return x?J(1,0):J(31,11);case f:return x?J(1,ge):J(0,ge+1);case c:var Te=this.$locale().weekStart||0,Pe=(te<Te?te+7:te)-Te;return J(x?ae-Pe:ae+(6-Pe),ge);case u:case p:return se(ve+"Hours",0);case a:return se(ve+"Minutes",1);case o:return se(ve+"Seconds",2);case l:return se(ve+"Milliseconds",3);default:return this.clone()}},G.endOf=function(U){return this.startOf(U,!1)},G.$set=function(U,Q){var V,x=z.p(U),ee="set"+(this.$u?"UTC":""),J=(V={},V[u]=ee+"Date",V[p]=ee+"Date",V[f]=ee+"Month",V[m]=ee+"FullYear",V[a]=ee+"Hours",V[o]=ee+"Minutes",V[l]=ee+"Seconds",V[s]=ee+"Milliseconds",V)[x],se=x===u?this.$D+(Q-this.$W):Q;if(x===f||x===m){var te=this.clone().set(p,1);te.$d[J](se),te.init(),this.$d=te.set(p,Math.min(this.$D,te.daysInMonth())).$d}else J&&this.$d[J](se);return this.init(),this},G.set=function(U,Q){return this.clone().$set(U,Q)},G.get=function(U){return this[z.p(U)]()},G.add=function(U,Q){var V,x=this;U=Number(U);var ee=z.p(Q),J=function(ge){var ae=B(x);return z.w(ae.date(ae.date()+Math.round(ge*U)),x)};if(ee===f)return this.set(f,this.$M+U);if(ee===m)return this.set(m,this.$y+U);if(ee===u)return J(1);if(ee===c)return J(7);var se=(V={},V[o]=n,V[a]=r,V[l]=t,V)[ee]||1,te=this.$d.getTime()+U*se;return z.w(te,this)},G.subtract=function(U,Q){return this.add(-1*U,Q)},G.format=function(U){var Q=this,V=this.$locale();if(!this.isValid())return V.invalidDate||g;var x=U||"YYYY-MM-DDTHH:mm:ssZ",ee=z.z(this),J=this.$H,se=this.$m,te=this.$M,ge=V.weekdays,ae=V.months,ve=function(Ie,ye,st,dt){return Ie&&(Ie[ye]||Ie(Q,x))||st[ye].slice(0,dt)},Te=function(Ie){return z.s(J%12||12,Ie,"0")},Pe=V.meridiem||function(Ie,ye,st){var dt=Ie<12?"AM":"PM";return st?dt.toLowerCase():dt},pe={YY:String(this.$y).slice(-2),YYYY:this.$y,M:te+1,MM:z.s(te+1,2,"0"),MMM:ve(V.monthsShort,te,ae,3),MMMM:ve(ae,te),D:this.$D,DD:z.s(this.$D,2,"0"),d:String(this.$W),dd:ve(V.weekdaysMin,this.$W,ge,2),ddd:ve(V.weekdaysShort,this.$W,ge,3),dddd:ge[this.$W],H:String(J),HH:z.s(J,2,"0"),h:Te(1),hh:Te(2),a:Pe(J,se,!0),A:Pe(J,se,!1),m:String(se),mm:z.s(se,2,"0"),s:String(this.$s),ss:z.s(this.$s,2,"0"),SSS:z.s(this.$ms,3,"0"),Z:ee};return x.replace($,function(Ie,ye){return ye||pe[Ie]||ee.replace(":","")})},G.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},G.diff=function(U,Q,V){var x,ee=z.p(Q),J=B(U),se=(J.utcOffset()-this.utcOffset())*n,te=this-J,ge=z.m(this,J);return ge=(x={},x[m]=ge/12,x[f]=ge,x[d]=ge/3,x[c]=(te-se)/6048e5,x[u]=(te-se)/864e5,x[a]=te/r,x[o]=te/n,x[l]=te/t,x)[ee]||te,V?ge:z.a(ge)},G.daysInMonth=function(){return this.endOf(f).$D},G.$locale=function(){return P[this.$L]},G.locale=function(U,Q){if(!U)return this.$L;var V=this.clone(),x=R(U,Q,!0);return x&&(V.$L=x),V},G.clone=function(){return z.w(this.$d,this)},G.toDate=function(){return new Date(this.valueOf())},G.toJSON=function(){return this.isValid()?this.toISOString():null},G.toISOString=function(){return this.$d.toISOString()},G.toString=function(){return this.$d.toUTCString()},K}(),H=q.prototype;return B.prototype=H,[["$ms",s],["$s",l],["$m",o],["$H",a],["$W",u],["$M",f],["$y",m],["$D",p]].forEach(function(K){H[K[1]]=function(G){return this.$g(G,K[0],K[1])}}),B.extend=function(K,G){return K.$i||(K(G,q,B),K.$i=!0),B},B.locale=R,B.isDayjs=I,B.unix=function(K){return B(1e3*K)},B.en=P[S],B.Ls=P,B.p={},B})})(gP);const we=gP.exports;var bd={};(function i(e,t,n,r){var s=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL);function l(){}function o(G){var U=t.exports.Promise,Q=U!==void 0?U:e.Promise;return typeof Q=="function"?new Q(G):(G(l,l),null)}var a=function(){var G=Math.floor(16.666666666666668),U,Q,V={},x=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(U=function(ee){var J=Math.random();return V[J]=requestAnimationFrame(function se(te){x===te||x+G-1<te?(x=te,delete V[J],ee()):V[J]=requestAnimationFrame(se)}),J},Q=function(ee){V[ee]&&cancelAnimationFrame(V[ee])}):(U=function(ee){return setTimeout(ee,G)},Q=function(ee){return clearTimeout(ee)}),{frame:U,cancel:Q}}(),u=function(){var G,U,Q={};function V(x){function ee(J,se){x.postMessage({options:J||{},callback:se})}x.init=function(se){var te=se.transferControlToOffscreen();x.postMessage({canvas:te},[te])},x.fire=function(se,te,ge){if(U)return ee(se,null),U;var ae=Math.random().toString(36).slice(2);return U=o(function(ve){function Te(Pe){Pe.data.callback===ae&&(delete Q[ae],x.removeEventListener("message",Te),U=null,ge(),ve())}x.addEventListener("message",Te),ee(se,ae),Q[ae]=Te.bind(null,{data:{callback:ae}})}),U},x.reset=function(){x.postMessage({reset:!0});for(var se in Q)Q[se](),delete Q[se]}}return function(){if(G)return G;if(!n&&s){var x=["var CONFETTI, SIZE = {}, module = {};","("+i.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{G=new Worker(URL.createObjectURL(new Blob([x])))}catch(ee){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("\u{1F38A} Could not load worker",ee),null}V(G)}return G}}(),c={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function f(G,U){return U?U(G):G}function d(G){return G!=null}function m(G,U,Q){return f(G&&d(G[U])?G[U]:c[U],Q)}function p(G){return G<0?0:Math.floor(G)}function g(G,U){return Math.floor(Math.random()*(U-G))+G}function k(G){return parseInt(G,16)}function $(G){return G.map(D)}function D(G){var U=String(G).replace(/[^0-9a-f]/gi,"");return U.length<6&&(U=U[0]+U[0]+U[1]+U[1]+U[2]+U[2]),{r:k(U.substring(0,2)),g:k(U.substring(2,4)),b:k(U.substring(4,6))}}function F(G){var U=m(G,"origin",Object);return U.x=m(U,"x",Number),U.y=m(U,"y",Number),U}function C(G){G.width=document.documentElement.clientWidth,G.height=document.documentElement.clientHeight}function S(G){var U=G.getBoundingClientRect();G.width=U.width,G.height=U.height}function P(G){var U=document.createElement("canvas");return U.style.position="fixed",U.style.top="0px",U.style.left="0px",U.style.pointerEvents="none",U.style.zIndex=G,U}function I(G,U,Q,V,x,ee,J,se,te){G.save(),G.translate(U,Q),G.rotate(ee),G.scale(V,x),G.arc(0,0,1,J,se,te),G.restore()}function R(G){var U=G.angle*(Math.PI/180),Q=G.spread*(Math.PI/180);return{x:G.x,y:G.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:G.startVelocity*.5+Math.random()*G.startVelocity,angle2D:-U+(.5*Q-Math.random()*Q),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:G.color,shape:G.shape,tick:0,totalTicks:G.ticks,decay:G.decay,drift:G.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:G.gravity*3,ovalScalar:.6,scalar:G.scalar}}function B(G,U){U.x+=Math.cos(U.angle2D)*U.velocity+U.drift,U.y+=Math.sin(U.angle2D)*U.velocity+U.gravity,U.wobble+=U.wobbleSpeed,U.velocity*=U.decay,U.tiltAngle+=.1,U.tiltSin=Math.sin(U.tiltAngle),U.tiltCos=Math.cos(U.tiltAngle),U.random=Math.random()+2,U.wobbleX=U.x+10*U.scalar*Math.cos(U.wobble),U.wobbleY=U.y+10*U.scalar*Math.sin(U.wobble);var Q=U.tick++/U.totalTicks,V=U.x+U.random*U.tiltCos,x=U.y+U.random*U.tiltSin,ee=U.wobbleX+U.random*U.tiltCos,J=U.wobbleY+U.random*U.tiltSin;if(G.fillStyle="rgba("+U.color.r+", "+U.color.g+", "+U.color.b+", "+(1-Q)+")",G.beginPath(),U.shape==="circle")G.ellipse?G.ellipse(U.x,U.y,Math.abs(ee-V)*U.ovalScalar,Math.abs(J-x)*U.ovalScalar,Math.PI/10*U.wobble,0,2*Math.PI):I(G,U.x,U.y,Math.abs(ee-V)*U.ovalScalar,Math.abs(J-x)*U.ovalScalar,Math.PI/10*U.wobble,0,2*Math.PI);else if(U.shape==="star")for(var se=Math.PI/2*3,te=4*U.scalar,ge=8*U.scalar,ae=U.x,ve=U.y,Te=5,Pe=Math.PI/Te;Te--;)ae=U.x+Math.cos(se)*ge,ve=U.y+Math.sin(se)*ge,G.lineTo(ae,ve),se+=Pe,ae=U.x+Math.cos(se)*te,ve=U.y+Math.sin(se)*te,G.lineTo(ae,ve),se+=Pe;else G.moveTo(Math.floor(U.x),Math.floor(U.y)),G.lineTo(Math.floor(U.wobbleX),Math.floor(x)),G.lineTo(Math.floor(ee),Math.floor(J)),G.lineTo(Math.floor(V),Math.floor(U.wobbleY));return G.closePath(),G.fill(),U.tick<U.totalTicks}function z(G,U,Q,V,x){var ee=U.slice(),J=G.getContext("2d"),se,te,ge=o(function(ae){function ve(){se=te=null,J.clearRect(0,0,V.width,V.height),x(),ae()}function Te(){n&&!(V.width===r.width&&V.height===r.height)&&(V.width=G.width=r.width,V.height=G.height=r.height),!V.width&&!V.height&&(Q(G),V.width=G.width,V.height=G.height),J.clearRect(0,0,V.width,V.height),ee=ee.filter(function(Pe){return B(J,Pe)}),ee.length?se=a.frame(Te):ve()}se=a.frame(Te),te=ve});return{addFettis:function(ae){return ee=ee.concat(ae),ge},canvas:G,promise:ge,reset:function(){se&&a.cancel(se),te&&te()}}}function q(G,U){var Q=!G,V=!!m(U||{},"resize"),x=m(U,"disableForReducedMotion",Boolean),ee=s&&!!m(U||{},"useWorker"),J=ee?u():null,se=Q?C:S,te=G&&J?!!G.__confetti_initialized:!1,ge=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,ae;function ve(Pe,pe,Ie){for(var ye=m(Pe,"particleCount",p),st=m(Pe,"angle",Number),dt=m(Pe,"spread",Number),lt=m(Pe,"startVelocity",Number),vt=m(Pe,"decay",Number),kt=m(Pe,"gravity",Number),Ze=m(Pe,"drift",Number),bt=m(Pe,"colors",$),Yt=m(Pe,"ticks",Number),sn=m(Pe,"shapes"),Ln=m(Pe,"scalar"),In=F(Pe),On=ye,vn=[],hi=G.width*In.x,rt=G.height*In.y;On--;)vn.push(R({x:hi,y:rt,angle:st,spread:dt,startVelocity:lt,color:bt[On%bt.length],shape:sn[g(0,sn.length)],ticks:Yt,decay:vt,gravity:kt,drift:Ze,scalar:Ln}));return ae?ae.addFettis(vn):(ae=z(G,vn,se,pe,Ie),ae.promise)}function Te(Pe){var pe=x||m(Pe,"disableForReducedMotion",Boolean),Ie=m(Pe,"zIndex",Number);if(pe&&ge)return o(function(lt){lt()});Q&&ae?G=ae.canvas:Q&&!G&&(G=P(Ie),document.body.appendChild(G)),V&&!te&&se(G);var ye={width:G.width,height:G.height};J&&!te&&J.init(G),te=!0,J&&(G.__confetti_initialized=!0);function st(){if(J){var lt={getBoundingClientRect:function(){if(!Q)return G.getBoundingClientRect()}};se(lt),J.postMessage({resize:{width:lt.width,height:lt.height}});return}ye.width=ye.height=null}function dt(){ae=null,V&&e.removeEventListener("resize",st),Q&&G&&(document.body.removeChild(G),G=null,te=!1)}return V&&e.addEventListener("resize",st,!1),J?J.fire(Pe,ye,dt):ve(Pe,ye,dt)}return Te.reset=function(){J&&J.reset(),ae&&ae.reset()},Te}var H;function K(){return H||(H=q(null,{useWorker:!0,resize:!0})),H}t.exports=function(){return K().apply(this,arguments)},t.exports.reset=function(){K().reset()},t.exports.create=q})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),bd,!1);const Jj=bd.exports;bd.exports.create;const Fr=(i,e)=>new Promise(t=>{setTimeout(()=>{e&&e(),t(!0)},i)}),Et=Fr,vP=async({...i}={})=>{const e=document.getElementById("canvas"),t=Jj.create(e,{resize:!0,particleCount:100,spread:80,origin:{y:.6},zIndex:1e4});t(),await Et(i.duration||3e3),t.reset()};function Qj(i){let e,t,n;return{c(){e=A("div"),e.innerHTML='<canvas class="confetti" id="confetti"></canvas>',h(e,"class","confetti-wrapper")},m(r,s){w(r,e,s),n=!0},p:W,i(r){n||(Rn(()=>{t||(t=lr(e,qf,{},!0)),t.run(1)}),n=!0)},o(r){t||(t=lr(e,qf,{},!1)),t.run(0),n=!1},d(r){r&&y(e),r&&t&&t.end()}}}function eY(i){return wt(()=>{vP()}),[]}class tY extends ce{constructor(e){super(),ue(this,e,eY,Qj,le,{})}}var k0={};Object.defineProperty(k0,"__esModule",{value:!0});var Sf=k0.Md5=void 0,bP=function(){function i(){this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}return i.hashStr=function(e,t){return t===void 0&&(t=!1),this.onePassHasher.start().appendStr(e).end(t)},i.hashAsciiStr=function(e,t){return t===void 0&&(t=!1),this.onePassHasher.start().appendAsciiStr(e).end(t)},i._hex=function(e){var t=i.hexChars,n=i.hexOut,r,s,l,o;for(o=0;o<4;o+=1)for(s=o*8,r=e[o],l=0;l<8;l+=2)n[s+1+l]=t.charAt(r&15),r>>>=4,n[s+0+l]=t.charAt(r&15),r>>>=4;return n.join("")},i._md5cycle=function(e,t){var n=e[0],r=e[1],s=e[2],l=e[3];n+=(r&s|~r&l)+t[0]-680876936|0,n=(n<<7|n>>>25)+r|0,l+=(n&r|~n&s)+t[1]-389564586|0,l=(l<<12|l>>>20)+n|0,s+=(l&n|~l&r)+t[2]+606105819|0,s=(s<<17|s>>>15)+l|0,r+=(s&l|~s&n)+t[3]-1044525330|0,r=(r<<22|r>>>10)+s|0,n+=(r&s|~r&l)+t[4]-176418897|0,n=(n<<7|n>>>25)+r|0,l+=(n&r|~n&s)+t[5]+1200080426|0,l=(l<<12|l>>>20)+n|0,s+=(l&n|~l&r)+t[6]-1473231341|0,s=(s<<17|s>>>15)+l|0,r+=(s&l|~s&n)+t[7]-45705983|0,r=(r<<22|r>>>10)+s|0,n+=(r&s|~r&l)+t[8]+1770035416|0,n=(n<<7|n>>>25)+r|0,l+=(n&r|~n&s)+t[9]-1958414417|0,l=(l<<12|l>>>20)+n|0,s+=(l&n|~l&r)+t[10]-42063|0,s=(s<<17|s>>>15)+l|0,r+=(s&l|~s&n)+t[11]-1990404162|0,r=(r<<22|r>>>10)+s|0,n+=(r&s|~r&l)+t[12]+1804603682|0,n=(n<<7|n>>>25)+r|0,l+=(n&r|~n&s)+t[13]-40341101|0,l=(l<<12|l>>>20)+n|0,s+=(l&n|~l&r)+t[14]-1502002290|0,s=(s<<17|s>>>15)+l|0,r+=(s&l|~s&n)+t[15]+1236535329|0,r=(r<<22|r>>>10)+s|0,n+=(r&l|s&~l)+t[1]-165796510|0,n=(n<<5|n>>>27)+r|0,l+=(n&s|r&~s)+t[6]-1069501632|0,l=(l<<9|l>>>23)+n|0,s+=(l&r|n&~r)+t[11]+643717713|0,s=(s<<14|s>>>18)+l|0,r+=(s&n|l&~n)+t[0]-373897302|0,r=(r<<20|r>>>12)+s|0,n+=(r&l|s&~l)+t[5]-701558691|0,n=(n<<5|n>>>27)+r|0,l+=(n&s|r&~s)+t[10]+38016083|0,l=(l<<9|l>>>23)+n|0,s+=(l&r|n&~r)+t[15]-660478335|0,s=(s<<14|s>>>18)+l|0,r+=(s&n|l&~n)+t[4]-405537848|0,r=(r<<20|r>>>12)+s|0,n+=(r&l|s&~l)+t[9]+568446438|0,n=(n<<5|n>>>27)+r|0,l+=(n&s|r&~s)+t[14]-1019803690|0,l=(l<<9|l>>>23)+n|0,s+=(l&r|n&~r)+t[3]-187363961|0,s=(s<<14|s>>>18)+l|0,r+=(s&n|l&~n)+t[8]+1163531501|0,r=(r<<20|r>>>12)+s|0,n+=(r&l|s&~l)+t[13]-1444681467|0,n=(n<<5|n>>>27)+r|0,l+=(n&s|r&~s)+t[2]-51403784|0,l=(l<<9|l>>>23)+n|0,s+=(l&r|n&~r)+t[7]+1735328473|0,s=(s<<14|s>>>18)+l|0,r+=(s&n|l&~n)+t[12]-1926607734|0,r=(r<<20|r>>>12)+s|0,n+=(r^s^l)+t[5]-378558|0,n=(n<<4|n>>>28)+r|0,l+=(n^r^s)+t[8]-2022574463|0,l=(l<<11|l>>>21)+n|0,s+=(l^n^r)+t[11]+1839030562|0,s=(s<<16|s>>>16)+l|0,r+=(s^l^n)+t[14]-35309556|0,r=(r<<23|r>>>9)+s|0,n+=(r^s^l)+t[1]-1530992060|0,n=(n<<4|n>>>28)+r|0,l+=(n^r^s)+t[4]+1272893353|0,l=(l<<11|l>>>21)+n|0,s+=(l^n^r)+t[7]-155497632|0,s=(s<<16|s>>>16)+l|0,r+=(s^l^n)+t[10]-1094730640|0,r=(r<<23|r>>>9)+s|0,n+=(r^s^l)+t[13]+681279174|0,n=(n<<4|n>>>28)+r|0,l+=(n^r^s)+t[0]-358537222|0,l=(l<<11|l>>>21)+n|0,s+=(l^n^r)+t[3]-722521979|0,s=(s<<16|s>>>16)+l|0,r+=(s^l^n)+t[6]+76029189|0,r=(r<<23|r>>>9)+s|0,n+=(r^s^l)+t[9]-640364487|0,n=(n<<4|n>>>28)+r|0,l+=(n^r^s)+t[12]-421815835|0,l=(l<<11|l>>>21)+n|0,s+=(l^n^r)+t[15]+530742520|0,s=(s<<16|s>>>16)+l|0,r+=(s^l^n)+t[2]-995338651|0,r=(r<<23|r>>>9)+s|0,n+=(s^(r|~l))+t[0]-198630844|0,n=(n<<6|n>>>26)+r|0,l+=(r^(n|~s))+t[7]+1126891415|0,l=(l<<10|l>>>22)+n|0,s+=(n^(l|~r))+t[14]-1416354905|0,s=(s<<15|s>>>17)+l|0,r+=(l^(s|~n))+t[5]-57434055|0,r=(r<<21|r>>>11)+s|0,n+=(s^(r|~l))+t[12]+1700485571|0,n=(n<<6|n>>>26)+r|0,l+=(r^(n|~s))+t[3]-1894986606|0,l=(l<<10|l>>>22)+n|0,s+=(n^(l|~r))+t[10]-1051523|0,s=(s<<15|s>>>17)+l|0,r+=(l^(s|~n))+t[1]-2054922799|0,r=(r<<21|r>>>11)+s|0,n+=(s^(r|~l))+t[8]+1873313359|0,n=(n<<6|n>>>26)+r|0,l+=(r^(n|~s))+t[15]-30611744|0,l=(l<<10|l>>>22)+n|0,s+=(n^(l|~r))+t[6]-1560198380|0,s=(s<<15|s>>>17)+l|0,r+=(l^(s|~n))+t[13]+1309151649|0,r=(r<<21|r>>>11)+s|0,n+=(s^(r|~l))+t[4]-145523070|0,n=(n<<6|n>>>26)+r|0,l+=(r^(n|~s))+t[11]-1120210379|0,l=(l<<10|l>>>22)+n|0,s+=(n^(l|~r))+t[2]+718787259|0,s=(s<<15|s>>>17)+l|0,r+=(l^(s|~n))+t[9]-343485551|0,r=(r<<21|r>>>11)+s|0,e[0]=n+e[0]|0,e[1]=r+e[1]|0,e[2]=s+e[2]|0,e[3]=l+e[3]|0},i.prototype.start=function(){return this._dataLength=0,this._bufferLength=0,this._state.set(i.stateIdentity),this},i.prototype.appendStr=function(e){var t=this._buffer8,n=this._buffer32,r=this._bufferLength,s,l;for(l=0;l<e.length;l+=1){if(s=e.charCodeAt(l),s<128)t[r++]=s;else if(s<2048)t[r++]=(s>>>6)+192,t[r++]=s&63|128;else if(s<55296||s>56319)t[r++]=(s>>>12)+224,t[r++]=s>>>6&63|128,t[r++]=s&63|128;else{if(s=(s-55296)*1024+(e.charCodeAt(++l)-56320)+65536,s>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");t[r++]=(s>>>18)+240,t[r++]=s>>>12&63|128,t[r++]=s>>>6&63|128,t[r++]=s&63|128}r>=64&&(this._dataLength+=64,i._md5cycle(this._state,n),r-=64,n[0]=n[16])}return this._bufferLength=r,this},i.prototype.appendAsciiStr=function(e){for(var t=this._buffer8,n=this._buffer32,r=this._bufferLength,s,l=0;;){for(s=Math.min(e.length-l,64-r);s--;)t[r++]=e.charCodeAt(l++);if(r<64)break;this._dataLength+=64,i._md5cycle(this._state,n),r=0}return this._bufferLength=r,this},i.prototype.appendByteArray=function(e){for(var t=this._buffer8,n=this._buffer32,r=this._bufferLength,s,l=0;;){for(s=Math.min(e.length-l,64-r);s--;)t[r++]=e[l++];if(r<64)break;this._dataLength+=64,i._md5cycle(this._state,n),r=0}return this._bufferLength=r,this},i.prototype.getState=function(){var e=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[e[0],e[1],e[2],e[3]]}},i.prototype.setState=function(e){var t=e.buffer,n=e.state,r=this._state,s;for(this._dataLength=e.length,this._bufferLength=e.buflen,r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],s=0;s<t.length;s+=1)this._buffer8[s]=t.charCodeAt(s)},i.prototype.end=function(e){e===void 0&&(e=!1);var t=this._bufferLength,n=this._buffer8,r=this._buffer32,s=(t>>2)+1;this._dataLength+=t;var l=this._dataLength*8;if(n[t]=128,n[t+1]=n[t+2]=n[t+3]=0,r.set(i.buffer32Identity.subarray(s),s),t>55&&(i._md5cycle(this._state,r),r.set(i.buffer32Identity)),l<=4294967295)r[14]=l;else{var o=l.toString(16).match(/(.*?)(.{0,8})$/);if(o===null)return;var a=parseInt(o[2],16),u=parseInt(o[1],16)||0;r[14]=a,r[15]=u}return i._md5cycle(this._state,r),e?this._state:i._hex(this._state)},i.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),i.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),i.hexChars="0123456789abcdef",i.hexOut=[],i.onePassHasher=new i,i}();Sf=k0.Md5=bP;if(bP.hashStr("hello")!=="5d41402abc4b2a76b9719d911017c592")throw new Error("Md5 self test failed.");const pn=(i,e)=>{let t=`${new Date().getTime()+Math.random()}`,n=32;if(i){if(typeof i=="string"){let r=typeof e=="number"?e:n;return t=i,Sf.hashStr(t).toString().substr(0,r)}else if(typeof i=="number")return Sf.hashStr(t).toString().substr(0,i)}else return Sf.hashStr(t).toString().substr(0,n)};function ul(i){return Sf.hashStr(i).toString()}const nY=i=>{let e=0,t,n;if(i.length===0)return e;for(t=0;t<i.length;t++)n=i.charCodeAt(t),e=(e<<5)-e+n,e|=0;return e};class um{constructor(e={name:void 0}){Ne(this,"id");Ne(this,"name");Ne(this,"reason");Ne(this,"value",0);Ne(this,"image");Ne(this,"hash");Ne(this,"phash");Ne(this,"timestamp");if(this.id=e.id||`awd-${pn(6)}`,this.name=e.name,this.reason=e.reason,this.image=e.image,this.value=e.value,this.phash=e.phash,this.timestamp=e.timestamp||new Date,!this.name)throw new Error("Award name is required");this.hash=e.hash}getHash(){return ul(`${this.id}${this.phash}${this.timestamp.getTime()}${this.name}${this.reason}`)}}class iY{constructor(e,t){Ne(this,"chain");Ne(this,"storage");Ne(this,"path");this.storage=e,this.path=t}async open(){let e=await this.storage.get(this.path);if(this.chain=(e||[]).map(t=>new um(t)),!this.chain.length){let t=this.genesis;t.hash=t.getHash(),this.chain.push(t);try{await this.save()}catch(n){console.error(n.message)}}return this}async save(){return await this.storage.put(this.path,this.chain)}getById(e){return this.chain.find(t=>t.id===e)}awardExists(e){return!!this.getById(e.id)}latestAward(){return this.chain[this.chain.length-1]}get valid(){for(let e=1;e<this.chain.length;e++){const t=this.chain[e],n=this.chain[e-1];if(t.hash!==t.getHash()||t.phash!==n.hash)return!1}return!0}get genesis(){return new um({id:"nomie-6",name:"Started Nomie 6",reason:"You started using Nomie 6",image:"streak-0.svg",value:1,phash:"0"})}async add(e){if(this.chain.find(t=>t.id===e.id))return null;{let t=this.latestAward();e.phash=t.hash,e.hash=e.getHash(),this.chain.push(e);try{await this.save()}catch(n){console.error(n)}return e}}}function rY(i){let e,t,n,r,s,l,o;return{c(){e=me("svg"),t=me("title"),n=Z("Add Circle"),r=me("path"),s=me("path"),h(r,"d","M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-miterlimit","10"),h(r,"stroke-width","32"),h(s,"fill","none"),h(s,"stroke","currentColor"),h(s,"stroke-linecap","round"),h(s,"stroke-linejoin","round"),h(s,"stroke-width","32"),h(s,"d","M256 176v160M336 256H176"),h(e,"height",l=i[0]+"px"),h(e,"width",o=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(a,u){w(a,e,u),E(e,t),E(t,n),E(e,r),E(e,s)},p(a,[u]){u&1&&l!==(l=a[0]+"px")&&h(e,"height",l),u&1&&o!==(o=a[0]+"px")&&h(e,"width",o)},i:W,o:W,d(a){a&&y(e)}}}function sY(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class kd extends ce{constructor(e){super(),ue(this,e,sY,rY,le,{size:0})}}function lY(i){let e,t,n,r;return{c(){e=me("svg"),t=me("path"),h(t,"d","M3 5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H15C15.5304 3 16.0391 3.21071 16.4142 3.58579C16.7893 3.96086 17 4.46957 17 5V15C17 15.5304 16.7893 16.0391 16.4142 16.4142C16.0391 16.7893 15.5304 17 15 17H5C4.46957 17 3.96086 16.7893 3.58579 16.4142C3.21071 16.0391 3 15.5304 3 15V5ZM5 4C4.73478 4 4.48043 4.10536 4.29289 4.29289C4.10536 4.48043 4 4.73478 4 5V15C4 15.2652 4.10536 15.5196 4.29289 15.7071C4.48043 15.8946 4.73478 16 5 16H15C15.2652 16 15.5196 15.8946 15.7071 15.7071C15.8946 15.5196 16 15.2652 16 15V5C16 4.73478 15.8946 4.48043 15.7071 4.29289C15.5196 4.10536 15.2652 4 15 4H5ZM10 6C10.1326 6 10.2598 6.05268 10.3536 6.14645C10.4473 6.24021 10.5 6.36739 10.5 6.5V9.5H13.5C13.6326 9.5 13.7598 9.55268 13.8536 9.64645C13.9473 9.74021 14 9.86739 14 10C14 10.1326 13.9473 10.2598 13.8536 10.3536C13.7598 10.4473 13.6326 10.5 13.5 10.5H10.5V13.5C10.5 13.6326 10.4473 13.7598 10.3536 13.8536C10.2598 13.9473 10.1326 14 10 14C9.86739 14 9.74021 13.9473 9.64645 13.8536C9.55268 13.7598 9.5 13.6326 9.5 13.5V10.5H6.5C6.36739 10.5 6.24021 10.4473 6.14645 10.3536C6.05268 10.2598 6 10.1326 6 10C6 9.86739 6.05268 9.74021 6.14645 9.64645C6.24021 9.55268 6.36739 9.5 6.5 9.5H9.5V6.5C9.5 6.36739 9.55268 6.24021 9.64645 6.14645C9.74021 6.05268 9.86739 6 10 6Z"),h(t,"fill","currentColor"),h(e,"height",n=i[0]+"px"),h(e,"width",r=i[0]+"px"),h(e,"viewBox","0 0 20 20"),h(e,"fill","none"),h(e,"xmlns","http://www.w3.org/2000/svg")},m(s,l){w(s,e,l),E(e,t)},p(s,[l]){l&1&&n!==(n=s[0]+"px")&&h(e,"height",n),l&1&&r!==(r=s[0]+"px")&&h(e,"width",r)},i:W,o:W,d(s){s&&y(e)}}}function oY(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class aY extends ce{constructor(e){super(),ue(this,e,oY,lY,le,{size:0})}}function uY(i){let e,t,n,r,s,l;return{c(){e=me("svg"),t=me("title"),n=Z("Add"),r=me("path"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(r,"d","M256 112v288M400 256H112"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),E(e,t),E(t,n),E(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:W,o:W,d(o){o&&y(e)}}}function cY(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class y0 extends ce{constructor(e){super(),ue(this,e,cY,uY,le,{size:0})}}function fY(i){let e,t,n,r,s,l,o;return{c(){e=me("svg"),t=me("title"),n=Z("Alarm"),r=me("path"),s=me("path"),h(r,"d","M416.07 272a160 160 0 10-160 160 160 160 0 00160-160zM142.12 91.21A46.67 46.67 0 00112 80l-2.79.08C83.66 81.62 64 104 64.07 131c0 13.21 4.66 19.37 10.88 27.23a4.55 4.55 0 003.24 1.77h.88a3.23 3.23 0 002.54-1.31L142.38 99a5.38 5.38 0 001.55-4 5.26 5.26 0 00-1.81-3.79zM369.88 91.21A46.67 46.67 0 01400 80l2.79.08C428.34 81.62 448 104 447.93 131c0 13.21-4.66 19.37-10.88 27.23a4.55 4.55 0 01-3.24 1.76h-.88a3.23 3.23 0 01-2.54-1.31L369.62 99a5.38 5.38 0 01-1.55-4 5.26 5.26 0 011.81-3.79z"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-miterlimit","10"),h(r,"stroke-width","32"),h(s,"fill","none"),h(s,"stroke","currentColor"),h(s,"stroke-linecap","round"),h(s,"stroke-linejoin","round"),h(s,"stroke-width","32"),h(s,"d","M256.07 160v112h-80M416.07 432l-40-40M96.07 432l40-40"),h(e,"height",l=i[0]+"px"),h(e,"width",o=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(a,u){w(a,e,u),E(e,t),E(t,n),E(e,r),E(e,s)},p(a,[u]){u&1&&l!==(l=a[0]+"px")&&h(e,"height",l),u&1&&o!==(o=a[0]+"px")&&h(e,"width",o)},i:W,o:W,d(a){a&&y(e)}}}function dY(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class hY extends ce{constructor(e){super(),ue(this,e,dY,fY,le,{size:0})}}function mY(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p;return{c(){e=me("svg"),t=me("title"),n=Z("Apps"),r=me("rect"),s=me("rect"),l=me("rect"),o=me("rect"),a=me("rect"),u=me("rect"),c=me("rect"),f=me("rect"),d=me("rect"),h(r,"x","64"),h(r,"y","64"),h(r,"width","80"),h(r,"height","80"),h(r,"rx","40"),h(r,"ry","40"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-miterlimit","10"),h(r,"stroke-width","32"),h(s,"x","216"),h(s,"y","64"),h(s,"width","80"),h(s,"height","80"),h(s,"rx","40"),h(s,"ry","40"),h(s,"fill","none"),h(s,"stroke","currentColor"),h(s,"stroke-miterlimit","10"),h(s,"stroke-width","32"),h(l,"x","368"),h(l,"y","64"),h(l,"width","80"),h(l,"height","80"),h(l,"rx","40"),h(l,"ry","40"),h(l,"fill","none"),h(l,"stroke","currentColor"),h(l,"stroke-miterlimit","10"),h(l,"stroke-width","32"),h(o,"x","64"),h(o,"y","216"),h(o,"width","80"),h(o,"height","80"),h(o,"rx","40"),h(o,"ry","40"),h(o,"fill","none"),h(o,"stroke","currentColor"),h(o,"stroke-miterlimit","10"),h(o,"stroke-width","32"),h(a,"x","216"),h(a,"y","216"),h(a,"width","80"),h(a,"height","80"),h(a,"rx","40"),h(a,"ry","40"),h(a,"fill","none"),h(a,"stroke","currentColor"),h(a,"stroke-miterlimit","10"),h(a,"stroke-width","32"),h(u,"x","368"),h(u,"y","216"),h(u,"width","80"),h(u,"height","80"),h(u,"rx","40"),h(u,"ry","40"),h(u,"fill","none"),h(u,"stroke","currentColor"),h(u,"stroke-miterlimit","10"),h(u,"stroke-width","32"),h(c,"x","64"),h(c,"y","368"),h(c,"width","80"),h(c,"height","80"),h(c,"rx","40"),h(c,"ry","40"),h(c,"fill","none"),h(c,"stroke","currentColor"),h(c,"stroke-miterlimit","10"),h(c,"stroke-width","32"),h(f,"x","216"),h(f,"y","368"),h(f,"width","80"),h(f,"height","80"),h(f,"rx","40"),h(f,"ry","40"),h(f,"fill","none"),h(f,"stroke","currentColor"),h(f,"stroke-miterlimit","10"),h(f,"stroke-width","32"),h(d,"x","368"),h(d,"y","368"),h(d,"width","80"),h(d,"height","80"),h(d,"rx","40"),h(d,"ry","40"),h(d,"fill","none"),h(d,"stroke","currentColor"),h(d,"stroke-miterlimit","10"),h(d,"stroke-width","32"),h(e,"height",m=i[0]+"px"),h(e,"width",p=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(g,k){w(g,e,k),E(e,t),E(t,n),E(e,r),E(e,s),E(e,l),E(e,o),E(e,a),E(e,u),E(e,c),E(e,f),E(e,d)},p(g,[k]){k&1&&m!==(m=g[0]+"px")&&h(e,"height",m),k&1&&p!==(p=g[0]+"px")&&h(e,"width",p)},i:W,o:W,d(g){g&&y(e)}}}function pY(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class cp extends ce{constructor(e){super(),ue(this,e,pY,mY,le,{size:0})}}function _Y(i){let e,t,n,r,s,l;return{c(){e=me("svg"),t=me("title"),n=Z("Apps"),r=me("path"),h(r,"d","M104 160a56 56 0 1156-56 56.06 56.06 0 01-56 56zM256 160a56 56 0 1156-56 56.06 56.06 0 01-56 56zM408 160a56 56 0 1156-56 56.06 56.06 0 01-56 56zM104 312a56 56 0 1156-56 56.06 56.06 0 01-56 56zM256 312a56 56 0 1156-56 56.06 56.06 0 01-56 56zM408 312a56 56 0 1156-56 56.06 56.06 0 01-56 56zM104 464a56 56 0 1156-56 56.06 56.06 0 01-56 56zM256 464a56 56 0 1156-56 56.06 56.06 0 01-56 56zM408 464a56 56 0 1156-56 56.06 56.06 0 01-56 56z"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),E(e,t),E(t,n),E(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:W,o:W,d(o){o&&y(e)}}}function gY(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class kP extends ce{constructor(e){super(),ue(this,e,gY,_Y,le,{size:0})}}function vY(i){let e,t,n,r,s,l,o,a;return{c(){e=me("svg"),t=me("title"),n=Z("Archive"),r=me("path"),s=me("rect"),l=me("path"),h(r,"d","M80 152v256a40.12 40.12 0 0040 40h272a40.12 40.12 0 0040-40V152"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(s,"x","48"),h(s,"y","64"),h(s,"width","416"),h(s,"height","80"),h(s,"rx","28"),h(s,"ry","28"),h(s,"fill","none"),h(s,"stroke","currentColor"),h(s,"stroke-linejoin","round"),h(s,"stroke-width","32"),h(l,"fill","none"),h(l,"stroke","currentColor"),h(l,"stroke-linecap","round"),h(l,"stroke-linejoin","round"),h(l,"stroke-width","32"),h(l,"d","M320 304l-64 64-64-64M256 345.89V224"),h(e,"height",o=i[0]+"px"),h(e,"width",a=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(u,c){w(u,e,c),E(e,t),E(t,n),E(e,r),E(e,s),E(e,l)},p(u,[c]){c&1&&o!==(o=u[0]+"px")&&h(e,"height",o),c&1&&a!==(a=u[0]+"px")&&h(e,"width",a)},i:W,o:W,d(u){u&&y(e)}}}function bY(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class kY extends ce{constructor(e){super(),ue(this,e,bY,vY,le,{size:0})}}function yY(i){let e,t,n,r,s,l;return{c(){e=me("svg"),t=me("title"),n=Z("Arrow Back"),r=me("path"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","48"),h(r,"d","M244 400L100 256l144-144M120 256h292"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),E(e,t),E(t,n),E(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:W,o:W,d(o){o&&y(e)}}}function wY(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class yP extends ce{constructor(e){super(),ue(this,e,wY,yY,le,{size:0})}}function $Y(i){let e,t,n,r,s,l,o;return{c(){e=me("svg"),t=me("title"),n=Z("Bar Chart"),r=me("path"),s=me("path"),h(r,"d","M480 496H48a32 32 0 01-32-32V32a16 16 0 0132 0v432h432a16 16 0 010 32z"),h(s,"d","M156 432h-40a36 36 0 01-36-36V244a36 36 0 0136-36h40a36 36 0 0136 36v152a36 36 0 01-36 36zM300 432h-40a36 36 0 01-36-36V196a36 36 0 0136-36h40a36 36 0 0136 36v200a36 36 0 01-36 36zM443.64 432h-40a36 36 0 01-36-36V132a36 36 0 0136-36h40a36 36 0 0136 36v264a36 36 0 01-36 36z"),h(e,"height",l=i[0]+"px"),h(e,"width",o=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(a,u){w(a,e,u),E(e,t),E(t,n),E(e,r),E(e,s)},p(a,[u]){u&1&&l!==(l=a[0]+"px")&&h(e,"height",l),u&1&&o!==(o=a[0]+"px")&&h(e,"width",o)},i:W,o:W,d(a){a&&y(e)}}}function FY(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class EY extends ce{constructor(e){super(),ue(this,e,FY,$Y,le,{size:0})}}function DY(i){let e,t,n,r,s,l,o,a,u;return{c(){e=me("svg"),t=me("title"),n=Z("Bar Chart"),r=me("path"),s=me("rect"),l=me("rect"),o=me("rect"),h(r,"d","M32 32v432a16 16 0 0016 16h432"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(s,"x","96"),h(s,"y","224"),h(s,"width","80"),h(s,"height","192"),h(s,"rx","20"),h(s,"ry","20"),h(s,"fill","none"),h(s,"stroke","currentColor"),h(s,"stroke-linecap","round"),h(s,"stroke-linejoin","round"),h(s,"stroke-width","32"),h(l,"x","240"),h(l,"y","176"),h(l,"width","80"),h(l,"height","240"),h(l,"rx","20"),h(l,"ry","20"),h(l,"fill","none"),h(l,"stroke","currentColor"),h(l,"stroke-linecap","round"),h(l,"stroke-linejoin","round"),h(l,"stroke-width","32"),h(o,"x","383.64"),h(o,"y","112"),h(o,"width","80"),h(o,"height","304"),h(o,"rx","20"),h(o,"ry","20"),h(o,"fill","none"),h(o,"stroke","currentColor"),h(o,"stroke-linecap","round"),h(o,"stroke-linejoin","round"),h(o,"stroke-width","32"),h(e,"height",a=i[0]+"px"),h(e,"width",u=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(c,f){w(c,e,f),E(e,t),E(t,n),E(e,r),E(e,s),E(e,l),E(e,o)},p(c,[f]){f&1&&a!==(a=c[0]+"px")&&h(e,"height",a),f&1&&u!==(u=c[0]+"px")&&h(e,"width",u)},i:W,o:W,d(c){c&&y(e)}}}function CY(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class wP extends ce{constructor(e){super(),ue(this,e,CY,DY,le,{size:0})}}function SY(i){let e,t,n,r,s,l,o;return{c(){e=me("svg"),t=me("title"),n=Z("Bar Chart"),r=me("path"),s=me("path"),h(r,"d","M480 496H48a32 32 0 01-32-32V32a16 16 0 0132 0v432h432a16 16 0 010 32z"),h(s,"d","M156 432h-40a36 36 0 01-36-36V244a36 36 0 0136-36h40a36 36 0 0136 36v152a36 36 0 01-36 36zM300 432h-40a36 36 0 01-36-36V196a36 36 0 0136-36h40a36 36 0 0136 36v200a36 36 0 01-36 36zM443.64 432h-40a36 36 0 01-36-36V132a36 36 0 0136-36h40a36 36 0 0136 36v264a36 36 0 01-36 36z"),h(e,"height",l=i[0]+"px"),h(e,"width",o=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(a,u){w(a,e,u),E(e,t),E(t,n),E(e,r),E(e,s)},p(a,[u]){u&1&&l!==(l=a[0]+"px")&&h(e,"height",l),u&1&&o!==(o=a[0]+"px")&&h(e,"width",o)},i:W,o:W,d(a){a&&y(e)}}}function TY(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class $P extends ce{constructor(e){super(),ue(this,e,TY,SY,le,{size:0})}}function AY(i){let e,t,n,r,s,l;return{c(){e=me("svg"),t=me("title"),n=Z("Book"),r=me("path"),h(r,"d","M256 160c16-63.16 76.43-95.41 208-96a15.94 15.94 0 0116 16v288a16 16 0 01-16 16c-128 0-177.45 25.81-208 64-30.37-38-80-64-208-64-9.88 0-16-8.05-16-17.93V80a15.94 15.94 0 0116-16c131.57.59 192 32.84 208 96zM256 160v288"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),E(e,t),E(t,n),E(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:W,o:W,d(o){o&&y(e)}}}function PY(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class NY extends ce{constructor(e){super(),ue(this,e,PY,AY,le,{size:0})}}function MY(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p,g,k,$;return{c(){e=me("svg"),t=me("title"),n=Z("Calendar"),r=me("rect"),s=me("circle"),l=me("circle"),o=me("circle"),a=me("circle"),u=me("circle"),c=me("circle"),f=me("circle"),d=me("circle"),m=me("circle"),p=me("path"),g=me("path"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(r,"x","48"),h(r,"y","80"),h(r,"width","416"),h(r,"height","384"),h(r,"rx","48"),h(s,"cx","296"),h(s,"cy","232"),h(s,"r","24"),h(l,"cx","376"),h(l,"cy","232"),h(l,"r","24"),h(o,"cx","296"),h(o,"cy","312"),h(o,"r","24"),h(a,"cx","376"),h(a,"cy","312"),h(a,"r","24"),h(u,"cx","136"),h(u,"cy","312"),h(u,"r","24"),h(c,"cx","216"),h(c,"cy","312"),h(c,"r","24"),h(f,"cx","136"),h(f,"cy","392"),h(f,"r","24"),h(d,"cx","216"),h(d,"cy","392"),h(d,"r","24"),h(m,"cx","296"),h(m,"cy","392"),h(m,"r","24"),h(p,"fill","none"),h(p,"stroke","currentColor"),h(p,"stroke-linejoin","round"),h(p,"stroke-width","32"),h(p,"stroke-linecap","round"),h(p,"d","M128 48v32M384 48v32"),h(g,"fill","none"),h(g,"stroke","currentColor"),h(g,"stroke-linejoin","round"),h(g,"stroke-width","32"),h(g,"d","M464 160H48"),h(e,"height",k=i[0]+"px"),h(e,"width",$=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(D,F){w(D,e,F),E(e,t),E(t,n),E(e,r),E(e,s),E(e,l),E(e,o),E(e,a),E(e,u),E(e,c),E(e,f),E(e,d),E(e,m),E(e,p),E(e,g)},p(D,[F]){F&1&&k!==(k=D[0]+"px")&&h(e,"height",k),F&1&&$!==($=D[0]+"px")&&h(e,"width",$)},i:W,o:W,d(D){D&&y(e)}}}function LY(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class w0 extends ce{constructor(e){super(),ue(this,e,LY,MY,le,{size:0})}}function OY(i){let e,t,n,r,s,l;return{c(){e=me("svg"),t=me("title"),n=Z("Calendar"),r=me("path"),h(r,"d","M480 128a64 64 0 00-64-64h-16V48.45c0-8.61-6.62-16-15.23-16.43A16 16 0 00368 48v16H144V48.45c0-8.61-6.62-16-15.23-16.43A16 16 0 00112 48v16H96a64 64 0 00-64 64v12a4 4 0 004 4h440a4 4 0 004-4zM32 416a64 64 0 0064 64h320a64 64 0 0064-64V179a3 3 0 00-3-3H35a3 3 0 00-3 3zm344-208a24 24 0 11-24 24 24 24 0 0124-24zm0 80a24 24 0 11-24 24 24 24 0 0124-24zm-80-80a24 24 0 11-24 24 24 24 0 0124-24zm0 80a24 24 0 11-24 24 24 24 0 0124-24zm0 80a24 24 0 11-24 24 24 24 0 0124-24zm-80-80a24 24 0 11-24 24 24 24 0 0124-24zm0 80a24 24 0 11-24 24 24 24 0 0124-24zm-80-80a24 24 0 11-24 24 24 24 0 0124-24zm0 80a24 24 0 11-24 24 24 24 0 0124-24z"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),E(e,t),E(t,n),E(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:W,o:W,d(o){o&&y(e)}}}function IY(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class FP extends ce{constructor(e){super(),ue(this,e,IY,OY,le,{size:0})}}function BY(i){let e,t,n,r,s,l;return{c(){e=me("svg"),t=me("title"),n=Z("Chatbox"),r=me("path"),h(r,"d","M408 64H104a56.16 56.16 0 00-56 56v192a56.16 56.16 0 0056 56h40v80l93.72-78.14a8 8 0 015.13-1.86H408a56.16 56.16 0 0056-56V120a56.16 56.16 0 00-56-56z"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),E(e,t),E(t,n),E(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:W,o:W,d(o){o&&y(e)}}}function zY(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class EP extends ce{constructor(e){super(),ue(this,e,zY,BY,le,{size:0})}}function RY(i){let e,t,n,r,s,l;return{c(){e=me("svg"),t=me("title"),n=Z("Checkmark Circle"),r=me("path"),h(r,"d","M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm108.25 138.29l-134.4 160a16 16 0 01-12 5.71h-.27a16 16 0 01-11.89-5.3l-57.6-64a16 16 0 1123.78-21.4l45.29 50.32 122.59-145.91a16 16 0 0124.5 20.58z"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),E(e,t),E(t,n),E(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:W,o:W,d(o){o&&y(e)}}}function jY(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class fp extends ce{constructor(e){super(),ue(this,e,jY,RY,le,{size:0})}}function YY(i){let e,t,n,r,s,l;return{c(){e=me("svg"),t=me("title"),n=Z("Checkmark"),r=me("path"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(r,"d","M416 128L192 384l-96-96"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),E(e,t),E(t,n),E(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:W,o:W,d(o){o&&y(e)}}}function UY(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class qY extends ce{constructor(e){super(),ue(this,e,UY,YY,le,{size:0})}}function HY(i){let e,t,n,r,s,l;return{c(){e=me("svg"),t=me("title"),n=Z("Chevron Back"),r=me("path"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","48"),h(r,"d","M328 112L184 256l144 144"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),E(e,t),E(t,n),E(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:W,o:W,d(o){o&&y(e)}}}function WY(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class VY extends ce{constructor(e){super(),ue(this,e,WY,HY,le,{size:0})}}function GY(i){let e,t,n,r,s,l,o;return{c(){e=me("svg"),t=me("title"),n=Z("Chevron Back Circle"),r=me("path"),s=me("path"),h(r,"d","M256 64C150 64 64 150 64 256s86 192 192 192 192-86 192-192S362 64 256 64z"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-miterlimit","10"),h(r,"stroke-width","32"),h(s,"fill","none"),h(s,"stroke","currentColor"),h(s,"stroke-linecap","round"),h(s,"stroke-linejoin","round"),h(s,"stroke-width","32"),h(s,"d","M296 352l-96-96 96-96"),h(e,"height",l=i[0]+"px"),h(e,"width",o=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(a,u){w(a,e,u),E(e,t),E(t,n),E(e,r),E(e,s)},p(a,[u]){u&1&&l!==(l=a[0]+"px")&&h(e,"height",l),u&1&&o!==(o=a[0]+"px")&&h(e,"width",o)},i:W,o:W,d(a){a&&y(e)}}}function ZY(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class xY extends ce{constructor(e){super(),ue(this,e,ZY,GY,le,{size:0})}}function XY(i){let e,t,n,r,s,l;return{c(){e=me("svg"),t=me("title"),n=Z("Chevron Down"),r=me("path"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","48"),h(r,"d","M112 184l144 144 144-144"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),E(e,t),E(t,n),E(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:W,o:W,d(o){o&&y(e)}}}function KY(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class $0 extends ce{constructor(e){super(),ue(this,e,KY,XY,le,{size:0})}}function JY(i){let e,t,n,r,s,l,o;return{c(){e=me("svg"),t=me("title"),n=Z("Chevron Forward Circle"),r=me("path"),s=me("path"),h(r,"d","M64 256c0 106 86 192 192 192s192-86 192-192S362 64 256 64 64 150 64 256z"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-miterlimit","10"),h(r,"stroke-width","32"),h(s,"fill","none"),h(s,"stroke","currentColor"),h(s,"stroke-linecap","round"),h(s,"stroke-linejoin","round"),h(s,"stroke-width","32"),h(s,"d","M216 352l96-96-96-96"),h(e,"height",l=i[0]+"px"),h(e,"width",o=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(a,u){w(a,e,u),E(e,t),E(t,n),E(e,r),E(e,s)},p(a,[u]){u&1&&l!==(l=a[0]+"px")&&h(e,"height",l),u&1&&o!==(o=a[0]+"px")&&h(e,"width",o)},i:W,o:W,d(a){a&&y(e)}}}function QY(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class eU extends ce{constructor(e){super(),ue(this,e,QY,JY,le,{size:0})}}function tU(i){let e,t,n,r,s,l;return{c(){e=me("svg"),t=me("title"),n=Z("Chevron Forward"),r=me("path"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","48"),h(r,"d","M184 112l144 144-144 144"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),E(e,t),E(t,n),E(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:W,o:W,d(o){o&&y(e)}}}function nU(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class DP extends ce{constructor(e){super(),ue(this,e,nU,tU,le,{size:0})}}function iU(i){let e,t,n,r,s,l;return{c(){e=me("svg"),t=me("title"),n=Z("Chevron Up"),r=me("path"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","48"),h(r,"d","M112 328l144-144 144 144"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),E(e,t),E(t,n),E(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:W,o:W,d(o){o&&y(e)}}}function rU(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class sU extends ce{constructor(e){super(),ue(this,e,rU,iU,le,{size:0})}}function lU(i){let e,t,n,r,s,l;return{c(){e=me("svg"),t=me("title"),n=Z("Ellipse"),r=me("circle"),h(r,"cx","256"),h(r,"cy","256"),h(r,"r","192"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),E(e,t),E(t,n),E(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:W,o:W,d(o){o&&y(e)}}}function oU(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class aU extends ce{constructor(e){super(),ue(this,e,oU,lU,le,{size:0})}}function uU(i){let e,t,n,r,s,l;return{c(){e=me("svg"),t=me("title"),n=Z("Close"),r=me("path"),h(r,"d","M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),E(e,t),E(t,n),E(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:W,o:W,d(o){o&&y(e)}}}function cU(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class pl extends ce{constructor(e){super(),ue(this,e,cU,uU,le,{size:0})}}function fU(i){let e,t,n,r,s,l,o;return{c(){e=me("svg"),t=me("title"),n=Z("Copy"),r=me("rect"),s=me("path"),h(r,"x","128"),h(r,"y","128"),h(r,"width","336"),h(r,"height","336"),h(r,"rx","57"),h(r,"ry","57"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(s,"d","M383.5 128l.5-24a56.16 56.16 0 00-56-56H112a64.19 64.19 0 00-64 64v216a56.16 56.16 0 0056 56h24"),h(s,"fill","none"),h(s,"stroke","currentColor"),h(s,"stroke-linecap","round"),h(s,"stroke-linejoin","round"),h(s,"stroke-width","32"),h(e,"height",l=i[0]+"px"),h(e,"width",o=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(a,u){w(a,e,u),E(e,t),E(t,n),E(e,r),E(e,s)},p(a,[u]){u&1&&l!==(l=a[0]+"px")&&h(e,"height",l),u&1&&o!==(o=a[0]+"px")&&h(e,"width",o)},i:W,o:W,d(a){a&&y(e)}}}function dU(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class hU extends ce{constructor(e){super(),ue(this,e,dU,fU,le,{size:0})}}function mU(i){let e,t,n,r,s,l,o;return{c(){e=me("svg"),t=me("title"),n=Z("Create"),r=me("path"),s=me("path"),h(r,"d","M384 224v184a40 40 0 01-40 40H104a40 40 0 01-40-40V168a40 40 0 0140-40h167.48"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(s,"d","M459.94 53.25a16.06 16.06 0 00-23.22-.56L424.35 65a8 8 0 000 11.31l11.34 11.32a8 8 0 0011.34 0l12.06-12c6.1-6.09 6.67-16.01.85-22.38zM399.34 90L218.82 270.2a9 9 0 00-2.31 3.93L208.16 299a3.91 3.91 0 004.86 4.86l24.85-8.35a9 9 0 003.93-2.31L422 112.66a9 9 0 000-12.66l-9.95-10a9 9 0 00-12.71 0z"),h(e,"height",l=i[0]+"px"),h(e,"width",o=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(a,u){w(a,e,u),E(e,t),E(t,n),E(e,r),E(e,s)},p(a,[u]){u&1&&l!==(l=a[0]+"px")&&h(e,"height",l),u&1&&o!==(o=a[0]+"px")&&h(e,"width",o)},i:W,o:W,d(a){a&&y(e)}}}function pU(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class _l extends ce{constructor(e){super(),ue(this,e,pU,mU,le,{size:0})}}function _U(i){let e,t,n,r,s,l,o;return{c(){e=me("svg"),t=me("title"),n=Z("Download"),r=me("path"),s=me("path"),h(r,"d","M336 176h40a40 40 0 0140 40v208a40 40 0 01-40 40H136a40 40 0 01-40-40V216a40 40 0 0140-40h40"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(s,"fill","none"),h(s,"stroke","currentColor"),h(s,"stroke-linecap","round"),h(s,"stroke-linejoin","round"),h(s,"stroke-width","32"),h(s,"d","M176 272l80 80 80-80M256 48v288"),h(e,"height",l=i[0]+"px"),h(e,"width",o=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(a,u){w(a,e,u),E(e,t),E(t,n),E(e,r),E(e,s)},p(a,[u]){u&1&&l!==(l=a[0]+"px")&&h(e,"height",l),u&1&&o!==(o=a[0]+"px")&&h(e,"width",o)},i:W,o:W,d(a){a&&y(e)}}}function gU(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class yd extends ce{constructor(e){super(),ue(this,e,gU,_U,le,{size:0})}}function vU(i){let e,t,n,r,s,l,o;return{c(){e=me("svg"),t=me("title"),n=Z("Duplicate"),r=me("rect"),s=me("path"),h(r,"x","128"),h(r,"y","128"),h(r,"width","336"),h(r,"height","336"),h(r,"rx","57"),h(r,"ry","57"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(s,"d","M383.5 128l.5-24a56.16 56.16 0 00-56-56H112a64.19 64.19 0 00-64 64v216a56.16 56.16 0 0056 56h24M296 216v160M376 296H216"),h(s,"fill","none"),h(s,"stroke","currentColor"),h(s,"stroke-linecap","round"),h(s,"stroke-linejoin","round"),h(s,"stroke-width","32"),h(e,"height",l=i[0]+"px"),h(e,"width",o=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(a,u){w(a,e,u),E(e,t),E(t,n),E(e,r),E(e,s)},p(a,[u]){u&1&&l!==(l=a[0]+"px")&&h(e,"height",l),u&1&&o!==(o=a[0]+"px")&&h(e,"width",o)},i:W,o:W,d(a){a&&y(e)}}}function bU(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class kU extends ce{constructor(e){super(),ue(this,e,bU,vU,le,{size:0})}}function yU(i){let e,t,n,r,s,l,o;return{c(){e=me("svg"),t=me("title"),n=Z("Easel"),r=me("rect"),s=me("path"),h(r,"x","48"),h(r,"y","80"),h(r,"width","416"),h(r,"height","272"),h(r,"rx","32"),h(r,"ry","32"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(s,"fill","none"),h(s,"stroke","currentColor"),h(s,"stroke-linecap","round"),h(s,"stroke-linejoin","round"),h(s,"stroke-width","32"),h(s,"d","M256 416v-64M256 80V48M400 464l-32-112M112 464l32-112"),h(e,"height",l=i[0]+"px"),h(e,"width",o=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(a,u){w(a,e,u),E(e,t),E(t,n),E(e,r),E(e,s)},p(a,[u]){u&1&&l!==(l=a[0]+"px")&&h(e,"height",l),u&1&&o!==(o=a[0]+"px")&&h(e,"width",o)},i:W,o:W,d(a){a&&y(e)}}}function wU(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class F0 extends ce{constructor(e){super(),ue(this,e,wU,yU,le,{size:0})}}function $U(i){let e,t,n,r,s,l,o;return{c(){e=me("svg"),t=me("title"),n=Z("Easel"),r=me("rect"),s=me("path"),h(r,"x","80"),h(r,"y","112"),h(r,"width","352"),h(r,"height","208"),h(r,"rx","12"),h(r,"ry","12"),h(s,"d","M432 64H272V48a16 16 0 00-32 0v16H80a48.05 48.05 0 00-48 48v208a48.05 48.05 0 0048 48h42.79l-26.17 91.6a16 16 0 1030.76 8.8L156.07 368H240v48a16 16 0 0032 0v-48h83.93l28.69 100.4a16 16 0 1030.76-8.8L389.21 368H432a48.05 48.05 0 0048-48V112a48.05 48.05 0 00-48-48zm16 256a16 16 0 01-16 16H80a16 16 0 01-16-16V112a16 16 0 0116-16h352a16 16 0 0116 16z"),h(e,"height",l=i[0]+"px"),h(e,"width",o=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(a,u){w(a,e,u),E(e,t),E(t,n),E(e,r),E(e,s)},p(a,[u]){u&1&&l!==(l=a[0]+"px")&&h(e,"height",l),u&1&&o!==(o=a[0]+"px")&&h(e,"width",o)},i:W,o:W,d(a){a&&y(e)}}}function FU(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class CP extends ce{constructor(e){super(),ue(this,e,FU,$U,le,{size:0})}}function EU(i){let e,t,n,r,s,l;return{c(){e=me("svg"),t=me("title"),n=Z("Expand"),r=me("path"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(r,"d","M432 320v112H320M421.8 421.77L304 304M80 192V80h112M90.2 90.23L208 208M320 80h112v112M421.77 90.2L304 208M192 432H80V320M90.23 421.8L208 304"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),E(e,t),E(t,n),E(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:W,o:W,d(o){o&&y(e)}}}function DU(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class E0 extends ce{constructor(e){super(),ue(this,e,DU,EU,le,{size:0})}}function CU(i){let e,t,n,r,s,l,o;return{c(){e=me("svg"),t=me("title"),n=Z("Eye"),r=me("circle"),s=me("path"),h(r,"cx","256"),h(r,"cy","256"),h(r,"r","64"),h(s,"d","M490.84 238.6c-26.46-40.92-60.79-75.68-99.27-100.53C349 110.55 302 96 255.66 96c-42.52 0-84.33 12.15-124.27 36.11-40.73 24.43-77.63 60.12-109.68 106.07a31.92 31.92 0 00-.64 35.54c26.41 41.33 60.4 76.14 98.28 100.65C162 402 207.9 416 255.66 416c46.71 0 93.81-14.43 136.2-41.72 38.46-24.77 72.72-59.66 99.08-100.92a32.2 32.2 0 00-.1-34.76zM256 352a96 96 0 1196-96 96.11 96.11 0 01-96 96z"),h(e,"height",l=i[0]+"px"),h(e,"width",o=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(a,u){w(a,e,u),E(e,t),E(t,n),E(e,r),E(e,s)},p(a,[u]){u&1&&l!==(l=a[0]+"px")&&h(e,"height",l),u&1&&o!==(o=a[0]+"px")&&h(e,"width",o)},i:W,o:W,d(a){a&&y(e)}}}function SU(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class TU extends ce{constructor(e){super(),ue(this,e,SU,CU,le,{size:0})}}function AU(i){let e,t,n,r,s,l,o,a,u;return{c(){e=me("svg"),t=me("title"),n=Z("Git Compare"),r=me("path"),s=me("circle"),l=me("circle"),o=me("path"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(r,"d","M304 160l-64-64 64-64M207 352l64 64-64 64"),h(s,"cx","112"),h(s,"cy","96"),h(s,"r","48"),h(s,"fill","none"),h(s,"stroke","currentColor"),h(s,"stroke-linecap","round"),h(s,"stroke-linejoin","round"),h(s,"stroke-width","32"),h(l,"cx","400"),h(l,"cy","416"),h(l,"r","48"),h(l,"fill","none"),h(l,"stroke","currentColor"),h(l,"stroke-linecap","round"),h(l,"stroke-linejoin","round"),h(l,"stroke-width","32"),h(o,"d","M256 96h84a60 60 0 0160 60v212M255 416h-84a60 60 0 01-60-60V144"),h(o,"fill","none"),h(o,"stroke","currentColor"),h(o,"stroke-linecap","round"),h(o,"stroke-linejoin","round"),h(o,"stroke-width","32"),h(e,"height",a=i[0]+"px"),h(e,"width",u=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(c,f){w(c,e,f),E(e,t),E(t,n),E(e,r),E(e,s),E(e,l),E(e,o)},p(c,[f]){f&1&&a!==(a=c[0]+"px")&&h(e,"height",a),f&1&&u!==(u=c[0]+"px")&&h(e,"width",u)},i:W,o:W,d(c){c&&y(e)}}}function PU(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class NU extends ce{constructor(e){super(),ue(this,e,PU,AU,le,{size:0})}}function MU(i){let e,t,n,r,s,l;return{c(){e=me("svg"),t=me("title"),n=Z("Map"),r=me("path"),h(r,"d","M313.27 124.64L198.73 51.36a32 32 0 00-29.28.35L56.51 127.49A16 16 0 0048 141.63v295.8a16 16 0 0023.49 14.14l97.82-63.79a32 32 0 0129.5-.24l111.86 73a32 32 0 0029.27-.11l115.43-75.94a16 16 0 008.63-14.2V74.57a16 16 0 00-23.49-14.14l-98 63.86a32 32 0 01-29.24.35zM328 128v336M184 48v336"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),E(e,t),E(t,n),E(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:W,o:W,d(o){o&&y(e)}}}function LU(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class SP extends ce{constructor(e){super(),ue(this,e,LU,MU,le,{size:0})}}function OU(i){let e,t,n,r,s,l;return{c(){e=me("svg"),t=me("title"),n=Z("Menu"),r=me("path"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-miterlimit","10"),h(r,"stroke-width","32"),h(r,"d","M80 160h352M80 256h352M80 352h352"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),E(e,t),E(t,n),E(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:W,o:W,d(o){o&&y(e)}}}function IU(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class Xu extends ce{constructor(e){super(),ue(this,e,IU,OU,le,{size:0})}}function BU(i){let e,t,n,r,s,l,o,a;return{c(){e=me("svg"),t=me("title"),n=Z("Ellipsis Horizontal"),r=me("circle"),s=me("circle"),l=me("circle"),h(r,"cx","256"),h(r,"cy","256"),h(r,"r","48"),h(s,"cx","416"),h(s,"cy","256"),h(s,"r","48"),h(l,"cx","96"),h(l,"cy","256"),h(l,"r","48"),h(e,"height",o=i[0]+"px"),h(e,"width",a=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(u,c){w(u,e,c),E(e,t),E(t,n),E(e,r),E(e,s),E(e,l)},p(u,[c]){c&1&&o!==(o=u[0]+"px")&&h(e,"height",o),c&1&&a!==(a=u[0]+"px")&&h(e,"width",a)},i:W,o:W,d(u){u&&y(e)}}}function zU(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class RU extends ce{constructor(e){super(),ue(this,e,zU,BU,le,{size:0})}}function jU(i){let e,t,n,r,s,l,o,a;return{c(){e=me("svg"),t=me("title"),n=Z("Ellipsis Vertical"),r=me("circle"),s=me("circle"),l=me("circle"),h(r,"cx","256"),h(r,"cy","256"),h(r,"r","48"),h(s,"cx","256"),h(s,"cy","416"),h(s,"r","48"),h(l,"cx","256"),h(l,"cy","96"),h(l,"r","48"),h(e,"height",o=i[0]+"px"),h(e,"width",a=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(u,c){w(u,e,c),E(e,t),E(t,n),E(e,r),E(e,s),E(e,l)},p(u,[c]){c&1&&o!==(o=u[0]+"px")&&h(e,"height",o),c&1&&a!==(a=u[0]+"px")&&h(e,"width",a)},i:W,o:W,d(u){u&&y(e)}}}function YU(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class UU extends ce{constructor(e){super(),ue(this,e,YU,jU,le,{size:0})}}function qU(i){let e,t,n,r,s,l;return{c(){e=me("svg"),t=me("title"),n=Z("Navigate Circle"),r=me("path"),h(r,"d","M258.9 48C141.92 46.42 46.42 141.92 48 258.9c1.56 112.19 92.91 203.54 205.1 205.1 117 1.6 212.48-93.9 210.88-210.88C462.44 140.91 371.09 49.56 258.9 48zM351 175.24l-82.24 186.52c-4.79 10.47-20.78 7-20.78-4.56V268a4 4 0 00-4-4H154.8c-11.52 0-15-15.87-4.57-20.67L336.76 161A10.73 10.73 0 01351 175.24z"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),E(e,t),E(t,n),E(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:W,o:W,d(o){o&&y(e)}}}function HU(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class WU extends ce{constructor(e){super(),ue(this,e,HU,qU,le,{size:0})}}function VU(i){let e,t,n,r,s,l,o,a,u;return{c(){e=me("svg"),t=me("title"),n=Z("Options"),r=me("path"),s=me("circle"),l=me("circle"),o=me("circle"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(r,"d","M368 128h80M64 128h240M368 384h80M64 384h240M208 256h240M64 256h80"),h(s,"cx","336"),h(s,"cy","128"),h(s,"r","32"),h(s,"fill","none"),h(s,"stroke","currentColor"),h(s,"stroke-linecap","round"),h(s,"stroke-linejoin","round"),h(s,"stroke-width","32"),h(l,"cx","176"),h(l,"cy","256"),h(l,"r","32"),h(l,"fill","none"),h(l,"stroke","currentColor"),h(l,"stroke-linecap","round"),h(l,"stroke-linejoin","round"),h(l,"stroke-width","32"),h(o,"cx","336"),h(o,"cy","384"),h(o,"r","32"),h(o,"fill","none"),h(o,"stroke","currentColor"),h(o,"stroke-linecap","round"),h(o,"stroke-linejoin","round"),h(o,"stroke-width","32"),h(e,"height",a=i[0]+"px"),h(e,"width",u=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(c,f){w(c,e,f),E(e,t),E(t,n),E(e,r),E(e,s),E(e,l),E(e,o)},p(c,[f]){f&1&&a!==(a=c[0]+"px")&&h(e,"height",a),f&1&&u!==(u=c[0]+"px")&&h(e,"width",u)},i:W,o:W,d(c){c&&y(e)}}}function GU(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class ZU extends ce{constructor(e){super(),ue(this,e,GU,VU,le,{size:0})}}function xU(i){let e,t,n,r,s,l;return{c(){e=me("svg"),t=me("title"),n=Z("Pencil"),r=me("path"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(r,"d","M364.13 125.25L87 403l-23 45 44.99-23 277.76-277.13-22.62-22.62zM420.69 68.69l-22.62 22.62 22.62 22.63 22.62-22.63a16 16 0 000-22.62h0a16 16 0 00-22.62 0z"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),E(e,t),E(t,n),E(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:W,o:W,d(o){o&&y(e)}}}function XU(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class TP extends ce{constructor(e){super(),ue(this,e,XU,xU,le,{size:0})}}function KU(i){let e,t,n,r,s,l;return{c(){e=me("svg"),t=me("title"),n=Z("People"),r=me("path"),h(r,"d","M336 256c-20.56 0-40.44-9.18-56-25.84-15.13-16.25-24.37-37.92-26-61-1.74-24.62 5.77-47.26 21.14-63.76S312 80 336 80c23.83 0 45.38 9.06 60.7 25.52 15.47 16.62 23 39.22 21.26 63.63-1.67 23.11-10.9 44.77-26 61C376.44 246.82 356.57 256 336 256zm66-88zM467.83 432H204.18a27.71 27.71 0 01-22-10.67 30.22 30.22 0 01-5.26-25.79c8.42-33.81 29.28-61.85 60.32-81.08C264.79 297.4 299.86 288 336 288c36.85 0 71 9 98.71 26.05 31.11 19.13 52 47.33 60.38 81.55a30.27 30.27 0 01-5.32 25.78A27.68 27.68 0 01467.83 432zM147 260c-35.19 0-66.13-32.72-69-72.93-1.42-20.6 5-39.65 18-53.62 12.86-13.83 31-21.45 51-21.45s38 7.66 50.93 21.57c13.1 14.08 19.5 33.09 18 53.52-2.87 40.2-33.8 72.91-68.93 72.91zM212.66 291.45c-17.59-8.6-40.42-12.9-65.65-12.9-29.46 0-58.07 7.68-80.57 21.62-25.51 15.83-42.67 38.88-49.6 66.71a27.39 27.39 0 004.79 23.36A25.32 25.32 0 0041.72 400h111a8 8 0 007.87-6.57c.11-.63.25-1.26.41-1.88 8.48-34.06 28.35-62.84 57.71-83.82a8 8 0 00-.63-13.39c-1.57-.92-3.37-1.89-5.42-2.89z"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),E(e,t),E(t,n),E(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:W,o:W,d(o){o&&y(e)}}}function JU(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class QU extends ce{constructor(e){super(),ue(this,e,JU,KU,le,{size:0})}}function eq(i){let e,t,n,r,s,l,o,a,u;return{c(){e=me("svg"),t=me("title"),n=Z("People"),r=me("path"),s=me("path"),l=me("path"),o=me("path"),h(r,"d","M402 168c-2.93 40.67-33.1 72-66 72s-63.12-31.32-66-72c-3-42.31 26.37-72 66-72s69 30.46 66 72z"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(s,"d","M336 304c-65.17 0-127.84 32.37-143.54 95.41-2.08 8.34 3.15 16.59 11.72 16.59h263.65c8.57 0 13.77-8.25 11.72-16.59C463.85 335.36 401.18 304 336 304z"),h(s,"fill","none"),h(s,"stroke","currentColor"),h(s,"stroke-miterlimit","10"),h(s,"stroke-width","32"),h(l,"d","M200 185.94c-2.34 32.48-26.72 58.06-53 58.06s-50.7-25.57-53-58.06C91.61 152.15 115.34 128 147 128s55.39 24.77 53 57.94z"),h(l,"fill","none"),h(l,"stroke","currentColor"),h(l,"stroke-linecap","round"),h(l,"stroke-linejoin","round"),h(l,"stroke-width","32"),h(o,"d","M206 306c-18.05-8.27-37.93-11.45-59-11.45-52 0-102.1 25.85-114.65 76.2-1.65 6.66 2.53 13.25 9.37 13.25H154"),h(o,"fill","none"),h(o,"stroke","currentColor"),h(o,"stroke-linecap","round"),h(o,"stroke-miterlimit","10"),h(o,"stroke-width","32"),h(e,"height",a=i[0]+"px"),h(e,"width",u=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(c,f){w(c,e,f),E(e,t),E(t,n),E(e,r),E(e,s),E(e,l),E(e,o)},p(c,[f]){f&1&&a!==(a=c[0]+"px")&&h(e,"height",a),f&1&&u!==(u=c[0]+"px")&&h(e,"width",u)},i:W,o:W,d(c){c&&y(e)}}}function tq(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class nq extends ce{constructor(e){super(),ue(this,e,tq,eq,le,{size:0})}}function iq(i){let e,t,n,r,s,l,o;return{c(){e=me("svg"),t=me("title"),n=Z("Pulse"),r=me("path"),s=me("circle"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(r,"d","M48 320h64l64-256 64 384 64-224 32 96h64"),h(s,"cx","432"),h(s,"cy","320"),h(s,"r","32"),h(s,"fill","none"),h(s,"stroke","currentColor"),h(s,"stroke-linecap","round"),h(s,"stroke-linejoin","round"),h(s,"stroke-width","32"),h(e,"height",l=i[0]+"px"),h(e,"width",o=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(a,u){w(a,e,u),E(e,t),E(t,n),E(e,r),E(e,s)},p(a,[u]){u&1&&l!==(l=a[0]+"px")&&h(e,"height",l),u&1&&o!==(o=a[0]+"px")&&h(e,"width",o)},i:W,o:W,d(a){a&&y(e)}}}function rq(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class AP extends ce{constructor(e){super(),ue(this,e,rq,iq,le,{size:0})}}function sq(i){let e,t,n,r,s,l,o;return{c(){e=me("svg"),t=me("title"),n=Z("Remove Circle"),r=me("path"),s=me("path"),h(r,"d","M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-miterlimit","10"),h(r,"stroke-width","32"),h(s,"fill","none"),h(s,"stroke","currentColor"),h(s,"stroke-linecap","round"),h(s,"stroke-linejoin","round"),h(s,"stroke-width","32"),h(s,"d","M336 256H176"),h(e,"height",l=i[0]+"px"),h(e,"width",o=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(a,u){w(a,e,u),E(e,t),E(t,n),E(e,r),E(e,s)},p(a,[u]){u&1&&l!==(l=a[0]+"px")&&h(e,"height",l),u&1&&o!==(o=a[0]+"px")&&h(e,"width",o)},i:W,o:W,d(a){a&&y(e)}}}function lq(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class oq extends ce{constructor(e){super(),ue(this,e,lq,sq,le,{size:0})}}function aq(i){let e,t,n,r,s,l,o,a,u;return{c(){e=me("svg"),t=me("title"),n=Z("Ribbon"),r=me("circle"),s=me("path"),l=me("path"),o=me("circle"),h(r,"cx","256"),h(r,"cy","160"),h(r,"r","128"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(s,"d","M143.65 227.82L48 400l86.86-.42a16 16 0 0113.82 7.8L192 480l88.33-194.32"),h(s,"fill","none"),h(s,"stroke","currentColor"),h(s,"stroke-linecap","round"),h(s,"stroke-linejoin","round"),h(s,"stroke-width","32"),h(l,"d","M366.54 224L464 400l-86.86-.42a16 16 0 00-13.82 7.8L320 480l-64-140.8"),h(l,"fill","none"),h(l,"stroke","currentColor"),h(l,"stroke-linecap","round"),h(l,"stroke-linejoin","round"),h(l,"stroke-width","32"),h(o,"cx","256"),h(o,"cy","160"),h(o,"r","64"),h(o,"fill","none"),h(o,"stroke","currentColor"),h(o,"stroke-linecap","round"),h(o,"stroke-linejoin","round"),h(o,"stroke-width","32"),h(e,"height",a=i[0]+"px"),h(e,"width",u=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(c,f){w(c,e,f),E(e,t),E(t,n),E(e,r),E(e,s),E(e,l),E(e,o)},p(c,[f]){f&1&&a!==(a=c[0]+"px")&&h(e,"height",a),f&1&&u!==(u=c[0]+"px")&&h(e,"width",u)},i:W,o:W,d(c){c&&y(e)}}}function uq(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class PP extends ce{constructor(e){super(),ue(this,e,uq,aq,le,{size:0})}}function cq(i){let e,t,n,r,s,l,o,a;return{c(){e=me("svg"),t=me("title"),n=Z("Ribbon"),r=me("path"),s=me("ellipse"),l=me("path"),h(r,"d","M269 335.61q-6.33.47-12.78.47c-5.23 0-10.4-.24-15.51-.69a176.11 176.11 0 01-127.67-72.94 4 4 0 00-6.77.35l-72 129.4c-2.74 5-3.17 11-.28 15.88A16.78 16.78 0 0048.22 416h78a15.28 15.28 0 0113.62 7.33L178.5 488a16.26 16.26 0 0013.75 8c5.94-.33 12.09-4.19 14.56-9.6l66.11-145.15a4 4 0 00-3.92-5.64zM477.64 391.88l-71.53-129.17a4 4 0 00-6.74-.36 176.5 176.5 0 01-78.31 61.42 16.09 16.09 0 00-8.72 8.25l-36.86 81.1a7.92 7.92 0 000 6.6l30.27 66.59c2.45 5.41 8.59 9.36 14.52 9.69a16.3 16.3 0 0013.7-8.12l38.53-64.58c2.89-4.85 8.13-7.33 13.78-7.3h78.77c6.67 0 11.72-3.48 14-10a16.92 16.92 0 00-1.41-14.12z"),h(s,"cx","256.26"),h(s,"cy","160"),h(s,"rx","48.01"),h(s,"ry","48"),h(l,"d","M256.26 16c-79.42 0-144 64.59-144 144s64.61 144 144 144 144-64.6 144-144-64.59-144-144-144zm0 224a80 80 0 1180-80 80.1 80.1 0 01-80 80z"),h(e,"height",o=i[0]+"px"),h(e,"width",a=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(u,c){w(u,e,c),E(e,t),E(t,n),E(e,r),E(e,s),E(e,l)},p(u,[c]){c&1&&o!==(o=u[0]+"px")&&h(e,"height",o),c&1&&a!==(a=u[0]+"px")&&h(e,"width",a)},i:W,o:W,d(u){u&&y(e)}}}function fq(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class NP extends ce{constructor(e){super(),ue(this,e,fq,cq,le,{size:0})}}function dq(i){let e,t,n,r,s,l;return{c(){e=me("svg"),t=me("title"),n=Z("Search"),r=me("path"),h(r,"d","M456.69 421.39L362.6 327.3a173.81 173.81 0 0034.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 00327.3 362.6l94.09 94.09a25 25 0 0035.3-35.3zM97.92 222.72a124.8 124.8 0 11124.8 124.8 124.95 124.95 0 01-124.8-124.8z"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),E(e,t),E(t,n),E(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:W,o:W,d(o){o&&y(e)}}}function hq(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class dp extends ce{constructor(e){super(),ue(this,e,hq,dq,le,{size:0})}}function mq(i){let e,t,n,r,s,l;return{c(){e=me("svg"),t=me("title"),n=Z("Settings"),r=me("path"),h(r,"d","M262.29 192.31a64 64 0 1057.4 57.4 64.13 64.13 0 00-57.4-57.4zM416.39 256a154.34 154.34 0 01-1.53 20.79l45.21 35.46a10.81 10.81 0 012.45 13.75l-42.77 74a10.81 10.81 0 01-13.14 4.59l-44.9-18.08a16.11 16.11 0 00-15.17 1.75A164.48 164.48 0 01325 400.8a15.94 15.94 0 00-8.82 12.14l-6.73 47.89a11.08 11.08 0 01-10.68 9.17h-85.54a11.11 11.11 0 01-10.69-8.87l-6.72-47.82a16.07 16.07 0 00-9-12.22 155.3 155.3 0 01-21.46-12.57 16 16 0 00-15.11-1.71l-44.89 18.07a10.81 10.81 0 01-13.14-4.58l-42.77-74a10.8 10.8 0 012.45-13.75l38.21-30a16.05 16.05 0 006-14.08c-.36-4.17-.58-8.33-.58-12.5s.21-8.27.58-12.35a16 16 0 00-6.07-13.94l-38.19-30A10.81 10.81 0 0149.48 186l42.77-74a10.81 10.81 0 0113.14-4.59l44.9 18.08a16.11 16.11 0 0015.17-1.75A164.48 164.48 0 01187 111.2a15.94 15.94 0 008.82-12.14l6.73-47.89A11.08 11.08 0 01213.23 42h85.54a11.11 11.11 0 0110.69 8.87l6.72 47.82a16.07 16.07 0 009 12.22 155.3 155.3 0 0121.46 12.57 16 16 0 0015.11 1.71l44.89-18.07a10.81 10.81 0 0113.14 4.58l42.77 74a10.8 10.8 0 01-2.45 13.75l-38.21 30a16.05 16.05 0 00-6.05 14.08c.33 4.14.55 8.3.55 12.47z"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),E(e,t),E(t,n),E(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:W,o:W,d(o){o&&y(e)}}}function pq(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class MP extends ce{constructor(e){super(),ue(this,e,pq,mq,le,{size:0})}}function _q(i){let e,t,n,r,s,l;return{c(){e=me("svg"),t=me("title"),n=Z("Share"),r=me("path"),h(r,"d","M336 192h40a40 40 0 0140 40v192a40 40 0 01-40 40H136a40 40 0 01-40-40V232a40 40 0 0140-40h40M336 128l-80-80-80 80M256 321V48"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),E(e,t),E(t,n),E(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:W,o:W,d(o){o&&y(e)}}}function gq(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class LP extends ce{constructor(e){super(),ue(this,e,gq,_q,le,{size:0})}}function vq(i){let e,t,n,r,s,l;return{c(){e=me("svg"),t=me("title"),n=Z("Sparkles"),r=me("path"),h(r,"d","M259.92 262.91L216.4 149.77a9 9 0 00-16.8 0l-43.52 113.14a9 9 0 01-5.17 5.17L37.77 311.6a9 9 0 000 16.8l113.14 43.52a9 9 0 015.17 5.17l43.52 113.14a9 9 0 0016.8 0l43.52-113.14a9 9 0 015.17-5.17l113.14-43.52a9 9 0 000-16.8l-113.14-43.52a9 9 0 01-5.17-5.17zM108 68L88 16 68 68 16 88l52 20 20 52 20-52 52-20-52-20zM426.67 117.33L400 48l-26.67 69.33L304 144l69.33 26.67L400 240l26.67-69.33L496 144l-69.33-26.67z"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),E(e,t),E(t,n),E(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:W,o:W,d(o){o&&y(e)}}}function bq(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class kq extends ce{constructor(e){super(),ue(this,e,bq,vq,le,{size:0})}}function yq(i){let e,t,n,r,s,l;return{c(){e=me("svg"),t=me("title"),n=Z("Star"),r=me("path"),h(r,"d","M394 480a16 16 0 01-9.39-3L256 383.76 127.39 477a16 16 0 01-24.55-18.08L153 310.35 23 221.2a16 16 0 019-29.2h160.38l48.4-148.95a16 16 0 0130.44 0l48.4 149H480a16 16 0 019.05 29.2L359 310.35l50.13 148.53A16 16 0 01394 480z"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),E(e,t),E(t,n),E(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:W,o:W,d(o){o&&y(e)}}}function wq(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class $q extends ce{constructor(e){super(),ue(this,e,wq,yq,le,{size:0})}}function Fq(i){let e,t,n,r,s,l;return{c(){e=me("svg"),t=me("title"),n=Z("Star"),r=me("path"),h(r,"d","M394 480a16 16 0 01-9.39-3L256 383.76 127.39 477a16 16 0 01-24.55-18.08L153 310.35 23 221.2a16 16 0 019-29.2h160.38l48.4-148.95a16 16 0 0130.44 0l48.4 149H480a16 16 0 019.05 29.2L359 310.35l50.13 148.53A16 16 0 01394 480z"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),E(e,t),E(t,n),E(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:W,o:W,d(o){o&&y(e)}}}function Eq(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class OP extends ce{constructor(e){super(),ue(this,e,Eq,Fq,le,{size:0})}}function Dq(i){let e,t,n,r,s,l;return{c(){e=me("svg"),t=me("title"),n=Z("Stop"),r=me("path"),h(r,"d","M392 432H120a40 40 0 01-40-40V120a40 40 0 0140-40h272a40 40 0 0140 40v272a40 40 0 01-40 40z"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),E(e,t),E(t,n),E(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:W,o:W,d(o){o&&y(e)}}}function Cq(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class Sq extends ce{constructor(e){super(),ue(this,e,Cq,Dq,le,{size:0})}}function Tq(i){let e,t,n,r,s,l;return{c(){e=me("svg"),t=me("title"),n=Z("Swap Horizontal"),r=me("path"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(r,"d","M304 48l112 112-112 112M398.87 160H96M208 464L96 352l112-112M114 352h302"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),E(e,t),E(t,n),E(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:W,o:W,d(o){o&&y(e)}}}function Aq(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class Pq extends ce{constructor(e){super(),ue(this,e,Aq,Tq,le,{size:0})}}function Nq(i){let e,t,n,r,s,l,o;return{c(){e=me("svg"),t=me("title"),n=Z("Albums"),r=me("rect"),s=me("path"),h(r,"x","64"),h(r,"y","176"),h(r,"width","384"),h(r,"height","256"),h(r,"rx","28.87"),h(r,"ry","28.87"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(s,"stroke","currentColor"),h(s,"stroke-linecap","round"),h(s,"stroke-miterlimit","10"),h(s,"stroke-width","32"),h(s,"d","M144 80h224M112 128h288"),h(e,"height",l=i[0]+"px"),h(e,"width",o=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(a,u){w(a,e,u),E(e,t),E(t,n),E(e,r),E(e,s)},p(a,[u]){u&1&&l!==(l=a[0]+"px")&&h(e,"height",l),u&1&&o!==(o=a[0]+"px")&&h(e,"width",o)},i:W,o:W,d(a){a&&y(e)}}}function Mq(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class Lq extends ce{constructor(e){super(),ue(this,e,Mq,Nq,le,{size:0})}}function Oq(i){let e,t,n,r,s,l,o;return{c(){e=me("svg"),t=me("title"),n=Z("Text"),r=me("path"),s=me("path"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(r,"d","M32 415.5l120-320 120 320M230 303.5H74M326 239.5c12.19-28.69 41-48 74-48h0c46 0 80 32 80 80v144"),h(s,"d","M320 358.5c0 36 26.86 58 60 58 54 0 100-27 100-106v-15c-20 0-58 1-92 5-32.77 3.86-68 19-68 58z"),h(s,"fill","none"),h(s,"stroke","currentColor"),h(s,"stroke-linecap","round"),h(s,"stroke-linejoin","round"),h(s,"stroke-width","32"),h(e,"height",l=i[0]+"px"),h(e,"width",o=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(a,u){w(a,e,u),E(e,t),E(t,n),E(e,r),E(e,s)},p(a,[u]){u&1&&l!==(l=a[0]+"px")&&h(e,"height",l),u&1&&o!==(o=a[0]+"px")&&h(e,"width",o)},i:W,o:W,d(a){a&&y(e)}}}function Iq(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class Bq extends ce{constructor(e){super(),ue(this,e,Iq,Oq,le,{size:0})}}function zq(i){let e,t,n,r,s,l,o;return{c(){e=me("svg"),t=me("title"),n=Z("Thermometer"),r=me("path"),s=me("circle"),h(r,"d","M307.72 302.27a8 8 0 01-3.72-6.75V80a48 48 0 00-48-48h0a48 48 0 00-48 48v215.52a8 8 0 01-3.71 6.74 97.51 97.51 0 00-44.19 86.07A96 96 0 00352 384a97.49 97.49 0 00-44.28-81.73zM256 112v272"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-miterlimit","10"),h(r,"stroke-width","32"),h(s,"cx","256"),h(s,"cy","384"),h(s,"r","48"),h(e,"height",l=i[0]+"px"),h(e,"width",o=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(a,u){w(a,e,u),E(e,t),E(t,n),E(e,r),E(e,s)},p(a,[u]){u&1&&l!==(l=a[0]+"px")&&h(e,"height",l),u&1&&o!==(o=a[0]+"px")&&h(e,"width",o)},i:W,o:W,d(a){a&&y(e)}}}function Rq(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class jq extends ce{constructor(e){super(),ue(this,e,Rq,zq,le,{size:0})}}function Yq(i){let e,t,n,r,s,l,o,a;return{c(){e=me("svg"),t=me("title"),n=Z("Trash"),r=me("path"),s=me("path"),l=me("path"),h(r,"d","M112 112l20 320c.95 18.49 14.4 32 32 32h184c17.67 0 30.87-13.51 32-32l20-320"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(s,"stroke","currentColor"),h(s,"stroke-linecap","round"),h(s,"stroke-miterlimit","10"),h(s,"stroke-width","32"),h(s,"d","M80 112h352"),h(l,"d","M192 112V72h0a23.93 23.93 0 0124-24h80a23.93 23.93 0 0124 24h0v40M256 176v224M184 176l8 224M328 176l-8 224"),h(l,"fill","none"),h(l,"stroke","currentColor"),h(l,"stroke-linecap","round"),h(l,"stroke-linejoin","round"),h(l,"stroke-width","32"),h(e,"height",o=i[0]+"px"),h(e,"width",a=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(u,c){w(u,e,c),E(e,t),E(t,n),E(e,r),E(e,s),E(e,l)},p(u,[c]){c&1&&o!==(o=u[0]+"px")&&h(e,"height",o),c&1&&a!==(a=u[0]+"px")&&h(e,"width",a)},i:W,o:W,d(u){u&&y(e)}}}function Uq(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class wd extends ce{constructor(e){super(),ue(this,e,Uq,Yq,le,{size:0})}}const qq=yP,Hq=aY,gl=pl,Cs=fp,IP=_l,Wq=Bq,Vq=NU,BP=kq,Gq=EY,Zq=jq,xq=QU,Xq=Lq,zP=nq,Kq=$q,RP=EP,jP=SP,YP=NY,Ga=w0,Jq=E0,D0=UU,C0=y0,Qq=y0,$d=kd,UP=Xu,eH=LP,tH=wP,x2=$P,nH=ZU,qP=cp,iH=yd,rH=kP,sH=F0,lH=CP,oH=FP,bc=dp,aH=MP,uH=Sq,cH=TU,fH=hY,dH=WU,hH=NP,HP=PP,WP=xY,mH=OP,VP=eU,jo=DP,hp=VY,cm=$0,X2=sU,GP=TP,ZP=AP,pH=Pq,_H=kU,Za=wd,Vg=aU,gH=kY;var vH=typeof Yn=="object"&&Yn&&Yn.Object===Object&&Yn,xP=vH,bH=xP,kH=typeof self=="object"&&self&&self.Object===Object&&self,yH=bH||kH||Function("return this")(),xa=yH,wH=xa,$H=wH.Symbol,S0=$H;function FH(i,e){for(var t=-1,n=i==null?0:i.length,r=Array(n);++t<n;)r[t]=e(i[t],t,i);return r}var XP=FH,EH=Array.isArray,T0=EH,K2=S0,KP=Object.prototype,DH=KP.hasOwnProperty,CH=KP.toString,tf=K2?K2.toStringTag:void 0;function SH(i){var e=DH.call(i,tf),t=i[tf];try{i[tf]=void 0;var n=!0}catch{}var r=CH.call(i);return n&&(e?i[tf]=t:delete i[tf]),r}var TH=SH,AH=Object.prototype,PH=AH.toString;function NH(i){return PH.call(i)}var MH=NH,J2=S0,LH=TH,OH=MH,IH="[object Null]",BH="[object Undefined]",Q2=J2?J2.toStringTag:void 0;function zH(i){return i==null?i===void 0?BH:IH:Q2&&Q2 in Object(i)?LH(i):OH(i)}var Fd=zH;function RH(i){return i!=null&&typeof i=="object"}var Ed=RH,jH=Fd,YH=Ed,UH="[object Symbol]";function qH(i){return typeof i=="symbol"||YH(i)&&jH(i)==UH}var A0=qH,ek=S0,HH=XP,WH=T0,VH=A0,GH=1/0,tk=ek?ek.prototype:void 0,nk=tk?tk.toString:void 0;function JP(i){if(typeof i=="string")return i;if(WH(i))return HH(i,JP)+"";if(VH(i))return nk?nk.call(i):"";var e=i+"";return e=="0"&&1/i==-GH?"-0":e}var ZH=JP,xH=ZH;function XH(i){return i==null?"":xH(i)}var kc=XH;function KH(i,e,t){var n=-1,r=i.length;e<0&&(e=-e>r?0:r+e),t=t>r?r:t,t<0&&(t+=r),r=e>t?0:t-e>>>0,e>>>=0;for(var s=Array(r);++n<r;)s[n]=i[n+e];return s}var P0=KH,JH=P0;function QH(i,e,t){var n=i.length;return t=t===void 0?n:t,!e&&t>=n?i:JH(i,e,t)}var eW=QH,tW="\\ud800-\\udfff",nW="\\u0300-\\u036f",iW="\\ufe20-\\ufe2f",rW="\\u20d0-\\u20ff",sW=nW+iW+rW,lW="\\ufe0e\\ufe0f",oW="\\u200d",aW=RegExp("["+oW+tW+sW+lW+"]");function uW(i){return aW.test(i)}var QP=uW;function cW(i){return i.split("")}var fW=cW,eN="\\ud800-\\udfff",dW="\\u0300-\\u036f",hW="\\ufe20-\\ufe2f",mW="\\u20d0-\\u20ff",pW=dW+hW+mW,_W="\\ufe0e\\ufe0f",gW="["+eN+"]",Gg="["+pW+"]",Zg="\\ud83c[\\udffb-\\udfff]",vW="(?:"+Gg+"|"+Zg+")",tN="[^"+eN+"]",nN="(?:\\ud83c[\\udde6-\\uddff]){2}",iN="[\\ud800-\\udbff][\\udc00-\\udfff]",bW="\\u200d",rN=vW+"?",sN="["+_W+"]?",kW="(?:"+bW+"(?:"+[tN,nN,iN].join("|")+")"+sN+rN+")*",yW=sN+rN+kW,wW="(?:"+[tN+Gg+"?",Gg,nN,iN,gW].join("|")+")",$W=RegExp(Zg+"(?="+Zg+")|"+wW+yW,"g");function FW(i){return i.match($W)||[]}var EW=FW,DW=fW,CW=QP,SW=EW;function TW(i){return CW(i)?SW(i):DW(i)}var AW=TW,PW=eW,NW=QP,MW=AW,LW=kc;function OW(i){return function(e){e=LW(e);var t=NW(e)?MW(e):void 0,n=t?t[0]:e.charAt(0),r=t?PW(t,1).join(""):e.slice(1);return n[i]()+r}}var IW=OW,BW=IW,zW=BW("toUpperCase"),RW=zW,jW=kc,YW=RW;function UW(i){return YW(jW(i).toLowerCase())}var $o=UW;const or={primary_color:"#07B2F5",green_color:"#48bb78",red_color:"#f56565",storage_engine:"local",book_time_format:"YYYY-w",book_time_unit:"week",data_root:"data",book_root:"data/books",always_locate_key:"always-locate",dark_mode_key:"dark-mode",theme_key:"theme",support_email:"support@happydata.org",support_contact:"Email Support",messages_url:"https://s3.amazonaws.com/cdn.nomie.app/messages/messages.json",s3providersLink:"https://spectacular-collard-13a.notion.site/S3-Storage-Providers-fa4888f87e964ffaabbe113c1ede8f83",apiDocumentation:"https://spectacular-collard-13a.notion.site/Nomie-API-4c29294776524e84bdafed6251abb20c",positivity:[{emoji:"\u{1F534}",label:"Awful",score:-2},{emoji:"\u{1F7E0}",label:"Not Good",score:-1},{emoji:"\u24C4",label:"Neutral",score:0},{emoji:"\u{1F7E2}",label:"Good",score:1},{emoji:"\u{1F49A}",label:"Great",score:2}]};class N0{constructor(e){Ne(this,"dbPath");Ne(this,"data");this.dbPath=`${or.data_root}/localDB/${e}`;try{this.data=JSON.parse(localStorage.getItem(this.dbPath)||"{}")}catch{console.error("SideStorage could not parse the JSON data")}}get(e){return this.data.hasOwnProperty(e)?this.data[e]:null}put(e,t){this.data[e]=t,localStorage.setItem(this.dbPath,JSON.stringify(this.data))}}const Hf=Bt([]),ik=i=>{Hf.update(e=>e.filter(t=>t!==i))},un=i=>{Hf.update(e=>(e.push(i),e)),setTimeout(()=>{Hf.update(e=>e.filter(t=>t!==i))},i.timeout||2e3)},M0=new N0("preferences"),lN=M0.get("state")||{use24hour:!1,useMetric:!1,usePin:void 0,storageType:void 0,betaFeatures:!1,peopleBoard:!1,contextBoard:!1,allBoard:!1,nowBoard:!1,startPage:"track",theme:"auto",fontSize:"md",language:"en-us",weekStarts:"sunday",compactTrackers:!1,lastBackup:void 0,backupDays:7,hideBackupMessage:!1,hideMessages:!1,allowFileEdit:!1,alwaysLocate:!0},St=Bt(lN);let L0=lN;St.subscribe(i=>{L0=i,M0.put("state",i)});const Dd=()=>M0.get("state"),qW=async()=>{St.update(i=>(i.betaFeatures=!0,i)),un({message:"Beta Features Enabled",type:"success"})},Tf=i=>{const e=window.matchMedia("(prefers-color-scheme: dark)").matches;let t=i;i==="auto"&&(t=e?"dark":"light"),document.documentElement.className="",document.documentElement.classList.add(`mode-${t}`),document.documentElement.classList.add(`${t}`)},Pn=()=>{let i={time:"h:mm A",hour:"h A",hourCompact:"ha",date:"MMM Do YYYY",dateDay:"ddd MMM Do YYYY",shortDate:"M/D/YYYY",tinyDate:"MMM D",mmm_d_yyyy:"MMM D, YYYY",tinyNumber:"M/D",monthYear:"MMM YYYY"};return L0.use24hour&&(i={time:"HH:mm",hour:"HH00",date:"Do MMM YYYY",dateDay:"ddd Do MMM YYYY",hourCompact:"HH",shortDate:"D MM YYYY",tinyDate:"D MMM",mmm_d_yyyy:"D MMM, YYYY",tinyNumber:"D/M",monthYear:"MMM YYYY"}),i},rk=()=>L0.storageType,O0=i=>{St.update(e=>(e.storageType=i,e))},Ku=Bt([]),oN=cr(Ku,i=>{let e=i[i.length-1];if(e)return e.id}),en=i=>{Ku.update(e=>{const t=e.findIndex(r=>r.id===i.id),n=e[t];return t>-1?(e=e.filter((r,s)=>s!==t),e.push(n)):e.push(i),e})},Ot=i=>{const e=typeof i=="string"?i:i.id;Ku.update(t=>{const n=t.findIndex(s=>s.id===e),r=n>-1?t[n]:void 0;return r&&r.onClose&&r.onClose(),t.filter(s=>s!==r)})};var aN={exports:{}};(function(i,e){(function(t,n){i.exports=n()})(window,function(){return function(t){var n={};function r(s){if(n[s])return n[s].exports;var l=n[s]={i:s,l:!1,exports:{}};return t[s].call(l.exports,l,l.exports,r),l.l=!0,l.exports}return r.m=t,r.c=n,r.d=function(s,l,o){r.o(s,l)||Object.defineProperty(s,l,{enumerable:!0,get:o})},r.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},r.t=function(s,l){if(1&l&&(s=r(s)),8&l||4&l&&typeof s=="object"&&s&&s.__esModule)return s;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:s}),2&l&&typeof s!="string")for(var a in s)r.d(o,a,function(u){return s[u]}.bind(null,a));return o},r.n=function(s){var l=s&&s.__esModule?function(){return s.default}:function(){return s};return r.d(l,"a",l),l},r.o=function(s,l){return Object.prototype.hasOwnProperty.call(s,l)},r.p="",r(r.s=1)}([function(t,n,r){var s;/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */(function(l,o,a,u){var c,f=["","webkit","Moz","MS","ms","o"],d=o.createElement("div"),m=Math.round,p=Math.abs,g=Date.now;function k(de,Fe,Be){return setTimeout(I(de,Be),Fe)}function $(de,Fe,Be){return!!Array.isArray(de)&&(D(de,Be[Fe],Be),!0)}function D(de,Fe,Be){var tt;if(de)if(de.forEach)de.forEach(Fe,Be);else if(de.length!==void 0)for(tt=0;tt<de.length;)Fe.call(Be,de[tt],tt,de),tt++;else for(tt in de)de.hasOwnProperty(tt)&&Fe.call(Be,de[tt],tt,de)}function F(de,Fe,Be){var tt="DEPRECATED METHOD: "+Fe+`
`+Be+` AT 
`;return function(){var mt=new Error("get-stack-trace"),Lt=mt&&mt.stack?mt.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",yt=l.console&&(l.console.warn||l.console.log);return yt&&yt.call(l.console,tt,Lt),de.apply(this,arguments)}}c=typeof Object.assign!="function"?function(de){if(de==null)throw new TypeError("Cannot convert undefined or null to object");for(var Fe=Object(de),Be=1;Be<arguments.length;Be++){var tt=arguments[Be];if(tt!=null)for(var mt in tt)tt.hasOwnProperty(mt)&&(Fe[mt]=tt[mt])}return Fe}:Object.assign;var C=F(function(de,Fe,Be){for(var tt=Object.keys(Fe),mt=0;mt<tt.length;)(!Be||Be&&de[tt[mt]]===void 0)&&(de[tt[mt]]=Fe[tt[mt]]),mt++;return de},"extend","Use `assign`."),S=F(function(de,Fe){return C(de,Fe,!0)},"merge","Use `assign`.");function P(de,Fe,Be){var tt,mt=Fe.prototype;(tt=de.prototype=Object.create(mt)).constructor=de,tt._super=mt,Be&&c(tt,Be)}function I(de,Fe){return function(){return de.apply(Fe,arguments)}}function R(de,Fe){return typeof de=="function"?de.apply(Fe&&Fe[0]||void 0,Fe):de}function B(de,Fe){return de===void 0?Fe:de}function z(de,Fe,Be){D(G(Fe),function(tt){de.addEventListener(tt,Be,!1)})}function q(de,Fe,Be){D(G(Fe),function(tt){de.removeEventListener(tt,Be,!1)})}function H(de,Fe){for(;de;){if(de==Fe)return!0;de=de.parentNode}return!1}function K(de,Fe){return de.indexOf(Fe)>-1}function G(de){return de.trim().split(/\s+/g)}function U(de,Fe,Be){if(de.indexOf&&!Be)return de.indexOf(Fe);for(var tt=0;tt<de.length;){if(Be&&de[tt][Be]==Fe||!Be&&de[tt]===Fe)return tt;tt++}return-1}function Q(de){return Array.prototype.slice.call(de,0)}function V(de,Fe,Be){for(var tt=[],mt=[],Lt=0;Lt<de.length;){var yt=Fe?de[Lt][Fe]:de[Lt];U(mt,yt)<0&&tt.push(de[Lt]),mt[Lt]=yt,Lt++}return Be&&(tt=Fe?tt.sort(function(gi,nn){return gi[Fe]>nn[Fe]}):tt.sort()),tt}function x(de,Fe){for(var Be,tt,mt=Fe[0].toUpperCase()+Fe.slice(1),Lt=0;Lt<f.length;){if((tt=(Be=f[Lt])?Be+mt:Fe)in de)return tt;Lt++}}var ee=1;function J(de){var Fe=de.ownerDocument||de;return Fe.defaultView||Fe.parentWindow||l}var se="ontouchstart"in l,te=x(l,"PointerEvent")!==void 0,ge=se&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),ae=["x","y"],ve=["clientX","clientY"];function Te(de,Fe){var Be=this;this.manager=de,this.callback=Fe,this.element=de.element,this.target=de.options.inputTarget,this.domHandler=function(tt){R(de.options.enable,[de])&&Be.handler(tt)},this.init()}function Pe(de,Fe,Be){var tt=Be.pointers.length,mt=Be.changedPointers.length,Lt=1&Fe&&tt-mt==0,yt=12&Fe&&tt-mt==0;Be.isFirst=!!Lt,Be.isFinal=!!yt,Lt&&(de.session={}),Be.eventType=Fe,function(gi,nn){var $i=gi.session,yl=nn.pointers,io=yl.length;$i.firstInput||($i.firstInput=pe(nn)),io>1&&!$i.firstMultiple?$i.firstMultiple=pe(nn):io===1&&($i.firstMultiple=!1);var Qo=$i.firstInput,_r=$i.firstMultiple,ea=_r?_r.center:Qo.center,fu=nn.center=Ie(yl);nn.timeStamp=g(),nn.deltaTime=nn.timeStamp-Qo.timeStamp,nn.angle=lt(ea,fu),nn.distance=dt(ea,fu),function(gr,Qn){var Qi=Qn.center,Qr=gr.offsetDelta||{},er=gr.prevDelta||{},gs=gr.prevInput||{};Qn.eventType!==1&&gs.eventType!==4||(er=gr.prevDelta={x:gs.deltaX||0,y:gs.deltaY||0},Qr=gr.offsetDelta={x:Qi.x,y:Qi.y}),Qn.deltaX=er.x+(Qi.x-Qr.x),Qn.deltaY=er.y+(Qi.y-Qr.y)}($i,nn),nn.offsetDirection=st(nn.deltaX,nn.deltaY);var Bs=ye(nn.deltaTime,nn.deltaX,nn.deltaY);nn.overallVelocityX=Bs.x,nn.overallVelocityY=Bs.y,nn.overallVelocity=p(Bs.x)>p(Bs.y)?Bs.x:Bs.y,nn.scale=_r?(ta=_r.pointers,na=yl,dt(na[0],na[1],ve)/dt(ta[0],ta[1],ve)):1,nn.rotation=_r?function(gr,Qn){return lt(Qn[1],Qn[0],ve)+lt(gr[1],gr[0],ve)}(_r.pointers,yl):0,nn.maxPointers=$i.prevInput?nn.pointers.length>$i.prevInput.maxPointers?nn.pointers.length:$i.prevInput.maxPointers:nn.pointers.length,function(gr,Qn){var Qi,Qr,er,gs,vr=gr.lastInterval||Qn,zs=Qn.timeStamp-vr.timeStamp;if(Qn.eventType!=8&&(zs>25||vr.velocity===void 0)){var Rs=Qn.deltaX-vr.deltaX,ia=Qn.deltaY-vr.deltaY,Ur=ye(zs,Rs,ia);Qr=Ur.x,er=Ur.y,Qi=p(Ur.x)>p(Ur.y)?Ur.x:Ur.y,gs=st(Rs,ia),gr.lastInterval=Qn}else Qi=vr.velocity,Qr=vr.velocityX,er=vr.velocityY,gs=vr.direction;Qn.velocity=Qi,Qn.velocityX=Qr,Qn.velocityY=er,Qn.direction=gs}($i,nn);var ta,na,ro=gi.element;H(nn.srcEvent.target,ro)&&(ro=nn.srcEvent.target),nn.target=ro}(de,Be),de.emit("hammer.input",Be),de.recognize(Be),de.session.prevInput=Be}function pe(de){for(var Fe=[],Be=0;Be<de.pointers.length;)Fe[Be]={clientX:m(de.pointers[Be].clientX),clientY:m(de.pointers[Be].clientY)},Be++;return{timeStamp:g(),pointers:Fe,center:Ie(Fe),deltaX:de.deltaX,deltaY:de.deltaY}}function Ie(de){var Fe=de.length;if(Fe===1)return{x:m(de[0].clientX),y:m(de[0].clientY)};for(var Be=0,tt=0,mt=0;mt<Fe;)Be+=de[mt].clientX,tt+=de[mt].clientY,mt++;return{x:m(Be/Fe),y:m(tt/Fe)}}function ye(de,Fe,Be){return{x:Fe/de||0,y:Be/de||0}}function st(de,Fe){return de===Fe?1:p(de)>=p(Fe)?de<0?2:4:Fe<0?8:16}function dt(de,Fe,Be){Be||(Be=ae);var tt=Fe[Be[0]]-de[Be[0]],mt=Fe[Be[1]]-de[Be[1]];return Math.sqrt(tt*tt+mt*mt)}function lt(de,Fe,Be){Be||(Be=ae);var tt=Fe[Be[0]]-de[Be[0]],mt=Fe[Be[1]]-de[Be[1]];return 180*Math.atan2(mt,tt)/Math.PI}Te.prototype={handler:function(){},init:function(){this.evEl&&z(this.element,this.evEl,this.domHandler),this.evTarget&&z(this.target,this.evTarget,this.domHandler),this.evWin&&z(J(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&q(this.element,this.evEl,this.domHandler),this.evTarget&&q(this.target,this.evTarget,this.domHandler),this.evWin&&q(J(this.element),this.evWin,this.domHandler)}};var vt={mousedown:1,mousemove:2,mouseup:4};function kt(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,Te.apply(this,arguments)}P(kt,Te,{handler:function(de){var Fe=vt[de.type];1&Fe&&de.button===0&&(this.pressed=!0),2&Fe&&de.which!==1&&(Fe=4),this.pressed&&(4&Fe&&(this.pressed=!1),this.callback(this.manager,Fe,{pointers:[de],changedPointers:[de],pointerType:"mouse",srcEvent:de}))}});var Ze={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},bt={2:"touch",3:"pen",4:"mouse",5:"kinect"},Yt="pointerdown",sn="pointermove pointerup pointercancel";function Ln(){this.evEl=Yt,this.evWin=sn,Te.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}l.MSPointerEvent&&!l.PointerEvent&&(Yt="MSPointerDown",sn="MSPointerMove MSPointerUp MSPointerCancel"),P(Ln,Te,{handler:function(de){var Fe=this.store,Be=!1,tt=de.type.toLowerCase().replace("ms",""),mt=Ze[tt],Lt=bt[de.pointerType]||de.pointerType,yt=Lt=="touch",gi=U(Fe,de.pointerId,"pointerId");1&mt&&(de.button===0||yt)?gi<0&&(Fe.push(de),gi=Fe.length-1):12&mt&&(Be=!0),gi<0||(Fe[gi]=de,this.callback(this.manager,mt,{pointers:Fe,changedPointers:[de],pointerType:Lt,srcEvent:de}),Be&&Fe.splice(gi,1))}});var In={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function On(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,Te.apply(this,arguments)}function vn(de,Fe){var Be=Q(de.touches),tt=Q(de.changedTouches);return 12&Fe&&(Be=V(Be.concat(tt),"identifier",!0)),[Be,tt]}P(On,Te,{handler:function(de){var Fe=In[de.type];if(Fe===1&&(this.started=!0),this.started){var Be=vn.call(this,de,Fe);12&Fe&&Be[0].length-Be[1].length==0&&(this.started=!1),this.callback(this.manager,Fe,{pointers:Be[0],changedPointers:Be[1],pointerType:"touch",srcEvent:de})}}});var hi={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function rt(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},Te.apply(this,arguments)}function Ii(de,Fe){var Be=Q(de.touches),tt=this.targetIds;if(3&Fe&&Be.length===1)return tt[Be[0].identifier]=!0,[Be,Be];var mt,Lt,yt=Q(de.changedTouches),gi=[],nn=this.target;if(Lt=Be.filter(function($i){return H($i.target,nn)}),Fe===1)for(mt=0;mt<Lt.length;)tt[Lt[mt].identifier]=!0,mt++;for(mt=0;mt<yt.length;)tt[yt[mt].identifier]&&gi.push(yt[mt]),12&Fe&&delete tt[yt[mt].identifier],mt++;return gi.length?[V(Lt.concat(gi),"identifier",!0),gi]:void 0}P(rt,Te,{handler:function(de){var Fe=hi[de.type],Be=Ii.call(this,de,Fe);Be&&this.callback(this.manager,Fe,{pointers:Be[0],changedPointers:Be[1],pointerType:"touch",srcEvent:de})}});function mi(){Te.apply(this,arguments);var de=I(this.handler,this);this.touch=new rt(this.manager,de),this.mouse=new kt(this.manager,de),this.primaryTouch=null,this.lastTouches=[]}function Ye(de,Fe){1&de?(this.primaryTouch=Fe.changedPointers[0].identifier,mr.call(this,Fe)):12&de&&mr.call(this,Fe)}function mr(de){var Fe=de.changedPointers[0];if(Fe.identifier===this.primaryTouch){var Be={x:Fe.clientX,y:Fe.clientY};this.lastTouches.push(Be);var tt=this.lastTouches;setTimeout(function(){var mt=tt.indexOf(Be);mt>-1&&tt.splice(mt,1)},2500)}}function pr(de){for(var Fe=de.srcEvent.clientX,Be=de.srcEvent.clientY,tt=0;tt<this.lastTouches.length;tt++){var mt=this.lastTouches[tt],Lt=Math.abs(Fe-mt.x),yt=Math.abs(Be-mt.y);if(Lt<=25&&yt<=25)return!0}return!1}P(mi,Te,{handler:function(de,Fe,Be){var tt=Be.pointerType=="touch",mt=Be.pointerType=="mouse";if(!(mt&&Be.sourceCapabilities&&Be.sourceCapabilities.firesTouchEvents)){if(tt)Ye.call(this,Fe,Be);else if(mt&&pr.call(this,Be))return;this.callback(de,Fe,Be)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Ji=x(d.style,"touchAction"),kl=Ji!==void 0,Ke=function(){if(!kl)return!1;var de={},Fe=l.CSS&&l.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(Be){de[Be]=!Fe||l.CSS.supports("touch-action",Be)}),de}();function Mt(de,Fe){this.manager=de,this.set(Fe)}Mt.prototype={set:function(de){de=="compute"&&(de=this.compute()),kl&&this.manager.element.style&&Ke[de]&&(this.manager.element.style[Ji]=de),this.actions=de.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var de=[];return D(this.manager.recognizers,function(Fe){R(Fe.options.enable,[Fe])&&(de=de.concat(Fe.getTouchAction()))}),function(Fe){if(K(Fe,"none"))return"none";var Be=K(Fe,"pan-x"),tt=K(Fe,"pan-y");return Be&&tt?"none":Be||tt?Be?"pan-x":"pan-y":K(Fe,"manipulation")?"manipulation":"auto"}(de.join(" "))},preventDefaults:function(de){var Fe=de.srcEvent,Be=de.offsetDirection;if(this.manager.session.prevented)Fe.preventDefault();else{var tt=this.actions,mt=K(tt,"none")&&!Ke.none,Lt=K(tt,"pan-y")&&!Ke["pan-y"],yt=K(tt,"pan-x")&&!Ke["pan-x"];if(mt){var gi=de.pointers.length===1,nn=de.distance<2,$i=de.deltaTime<250;if(gi&&nn&&$i)return}if(!yt||!Lt)return mt||Lt&&6&Be||yt&&24&Be?this.preventSrc(Fe):void 0}},preventSrc:function(de){this.manager.session.prevented=!0,de.preventDefault()}};function tn(de){this.options=c({},this.defaults,de||{}),this.id=ee++,this.manager=null,this.options.enable=B(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function bn(de){return 16&de?"cancel":8&de?"end":4&de?"move":2&de?"start":""}function _i(de){return de==16?"down":de==8?"up":de==2?"left":de==4?"right":""}function Jr(de,Fe){var Be=Fe.manager;return Be?Be.get(de):de}function qi(){tn.apply(this,arguments)}function Ri(){qi.apply(this,arguments),this.pX=null,this.pY=null}function Ql(){qi.apply(this,arguments)}function eo(){tn.apply(this,arguments),this._timer=null,this._input=null}function to(){qi.apply(this,arguments)}function Ko(){qi.apply(this,arguments)}function no(){tn.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function _s(de,Fe){return(Fe=Fe||{}).recognizers=B(Fe.recognizers,_s.defaults.preset),new Jo(de,Fe)}tn.prototype={defaults:{},set:function(de){return c(this.options,de),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(de){if($(de,"recognizeWith",this))return this;var Fe=this.simultaneous;return Fe[(de=Jr(de,this)).id]||(Fe[de.id]=de,de.recognizeWith(this)),this},dropRecognizeWith:function(de){return $(de,"dropRecognizeWith",this)?this:(de=Jr(de,this),delete this.simultaneous[de.id],this)},requireFailure:function(de){if($(de,"requireFailure",this))return this;var Fe=this.requireFail;return U(Fe,de=Jr(de,this))===-1&&(Fe.push(de),de.requireFailure(this)),this},dropRequireFailure:function(de){if($(de,"dropRequireFailure",this))return this;de=Jr(de,this);var Fe=U(this.requireFail,de);return Fe>-1&&this.requireFail.splice(Fe,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(de){return!!this.simultaneous[de.id]},emit:function(de){var Fe=this,Be=this.state;function tt(mt){Fe.manager.emit(mt,de)}Be<8&&tt(Fe.options.event+bn(Be)),tt(Fe.options.event),de.additionalEvent&&tt(de.additionalEvent),Be>=8&&tt(Fe.options.event+bn(Be))},tryEmit:function(de){if(this.canEmit())return this.emit(de);this.state=32},canEmit:function(){for(var de=0;de<this.requireFail.length;){if(!(33&this.requireFail[de].state))return!1;de++}return!0},recognize:function(de){var Fe=c({},de);if(!R(this.options.enable,[this,Fe]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(Fe),30&this.state&&this.tryEmit(Fe)},process:function(de){},getTouchAction:function(){},reset:function(){}},P(qi,tn,{defaults:{pointers:1},attrTest:function(de){var Fe=this.options.pointers;return Fe===0||de.pointers.length===Fe},process:function(de){var Fe=this.state,Be=de.eventType,tt=6&Fe,mt=this.attrTest(de);return tt&&(8&Be||!mt)?16|Fe:tt||mt?4&Be?8|Fe:2&Fe?4|Fe:2:32}}),P(Ri,qi,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var de=this.options.direction,Fe=[];return 6&de&&Fe.push("pan-y"),24&de&&Fe.push("pan-x"),Fe},directionTest:function(de){var Fe=this.options,Be=!0,tt=de.distance,mt=de.direction,Lt=de.deltaX,yt=de.deltaY;return mt&Fe.direction||(6&Fe.direction?(mt=Lt===0?1:Lt<0?2:4,Be=Lt!=this.pX,tt=Math.abs(de.deltaX)):(mt=yt===0?1:yt<0?8:16,Be=yt!=this.pY,tt=Math.abs(de.deltaY))),de.direction=mt,Be&&tt>Fe.threshold&&mt&Fe.direction},attrTest:function(de){return qi.prototype.attrTest.call(this,de)&&(2&this.state||!(2&this.state)&&this.directionTest(de))},emit:function(de){this.pX=de.deltaX,this.pY=de.deltaY;var Fe=_i(de.direction);Fe&&(de.additionalEvent=this.options.event+Fe),this._super.emit.call(this,de)}}),P(Ql,qi,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(de){return this._super.attrTest.call(this,de)&&(Math.abs(de.scale-1)>this.options.threshold||2&this.state)},emit:function(de){if(de.scale!==1){var Fe=de.scale<1?"in":"out";de.additionalEvent=this.options.event+Fe}this._super.emit.call(this,de)}}),P(eo,tn,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(de){var Fe=this.options,Be=de.pointers.length===Fe.pointers,tt=de.distance<Fe.threshold,mt=de.deltaTime>Fe.time;if(this._input=de,!tt||!Be||12&de.eventType&&!mt)this.reset();else if(1&de.eventType)this.reset(),this._timer=k(function(){this.state=8,this.tryEmit()},Fe.time,this);else if(4&de.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(de){this.state===8&&(de&&4&de.eventType?this.manager.emit(this.options.event+"up",de):(this._input.timeStamp=g(),this.manager.emit(this.options.event,this._input)))}}),P(to,qi,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(de){return this._super.attrTest.call(this,de)&&(Math.abs(de.rotation)>this.options.threshold||2&this.state)}}),P(Ko,qi,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return Ri.prototype.getTouchAction.call(this)},attrTest:function(de){var Fe,Be=this.options.direction;return 30&Be?Fe=de.overallVelocity:6&Be?Fe=de.overallVelocityX:24&Be&&(Fe=de.overallVelocityY),this._super.attrTest.call(this,de)&&Be&de.offsetDirection&&de.distance>this.options.threshold&&de.maxPointers==this.options.pointers&&p(Fe)>this.options.velocity&&4&de.eventType},emit:function(de){var Fe=_i(de.offsetDirection);Fe&&this.manager.emit(this.options.event+Fe,de),this.manager.emit(this.options.event,de)}}),P(no,tn,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(de){var Fe=this.options,Be=de.pointers.length===Fe.pointers,tt=de.distance<Fe.threshold,mt=de.deltaTime<Fe.time;if(this.reset(),1&de.eventType&&this.count===0)return this.failTimeout();if(tt&&mt&&Be){if(de.eventType!=4)return this.failTimeout();var Lt=!this.pTime||de.timeStamp-this.pTime<Fe.interval,yt=!this.pCenter||dt(this.pCenter,de.center)<Fe.posThreshold;if(this.pTime=de.timeStamp,this.pCenter=de.center,yt&&Lt?this.count+=1:this.count=1,this._input=de,this.count%Fe.taps===0)return this.hasRequireFailures()?(this._timer=k(function(){this.state=8,this.tryEmit()},Fe.interval,this),2):8}return 32},failTimeout:function(){return this._timer=k(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==8&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),_s.VERSION="2.0.7",_s.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[to,{enable:!1}],[Ql,{enable:!1},["rotate"]],[Ko,{direction:6}],[Ri,{direction:6},["swipe"]],[no],[no,{event:"doubletap",taps:2},["tap"]],[eo]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function Jo(de,Fe){var Be;this.options=c({},_s.defaults,Fe||{}),this.options.inputTarget=this.options.inputTarget||de,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=de,this.input=new((Be=this).options.inputClass||(te?Ln:ge?rt:se?mi:kt))(Be,Pe),this.touchAction=new Mt(this,this.options.touchAction),cu(this,!0),D(this.options.recognizers,function(tt){var mt=this.add(new tt[0](tt[1]));tt[2]&&mt.recognizeWith(tt[2]),tt[3]&&mt.requireFailure(tt[3])},this)}function cu(de,Fe){var Be,tt=de.element;tt.style&&(D(de.options.cssProps,function(mt,Lt){Be=x(tt.style,Lt),Fe?(de.oldCssProps[Be]=tt.style[Be],tt.style[Be]=mt):tt.style[Be]=de.oldCssProps[Be]||""}),Fe||(de.oldCssProps={}))}Jo.prototype={set:function(de){return c(this.options,de),de.touchAction&&this.touchAction.update(),de.inputTarget&&(this.input.destroy(),this.input.target=de.inputTarget,this.input.init()),this},stop:function(de){this.session.stopped=de?2:1},recognize:function(de){var Fe=this.session;if(!Fe.stopped){var Be;this.touchAction.preventDefaults(de);var tt=this.recognizers,mt=Fe.curRecognizer;(!mt||mt&&8&mt.state)&&(mt=Fe.curRecognizer=null);for(var Lt=0;Lt<tt.length;)Be=tt[Lt],Fe.stopped===2||mt&&Be!=mt&&!Be.canRecognizeWith(mt)?Be.reset():Be.recognize(de),!mt&&14&Be.state&&(mt=Fe.curRecognizer=Be),Lt++}},get:function(de){if(de instanceof tn)return de;for(var Fe=this.recognizers,Be=0;Be<Fe.length;Be++)if(Fe[Be].options.event==de)return Fe[Be];return null},add:function(de){if($(de,"add",this))return this;var Fe=this.get(de.options.event);return Fe&&this.remove(Fe),this.recognizers.push(de),de.manager=this,this.touchAction.update(),de},remove:function(de){if($(de,"remove",this))return this;if(de=this.get(de)){var Fe=this.recognizers,Be=U(Fe,de);Be!==-1&&(Fe.splice(Be,1),this.touchAction.update())}return this},on:function(de,Fe){if(de!==void 0&&Fe!==void 0){var Be=this.handlers;return D(G(de),function(tt){Be[tt]=Be[tt]||[],Be[tt].push(Fe)}),this}},off:function(de,Fe){if(de!==void 0){var Be=this.handlers;return D(G(de),function(tt){Fe?Be[tt]&&Be[tt].splice(U(Be[tt],Fe),1):delete Be[tt]}),this}},emit:function(de,Fe){this.options.domEvents&&function(mt,Lt){var yt=o.createEvent("Event");yt.initEvent(mt,!0,!0),yt.gesture=Lt,Lt.target.dispatchEvent(yt)}(de,Fe);var Be=this.handlers[de]&&this.handlers[de].slice();if(Be&&Be.length){Fe.type=de,Fe.preventDefault=function(){Fe.srcEvent.preventDefault()};for(var tt=0;tt<Be.length;)Be[tt](Fe),tt++}},destroy:function(){this.element&&cu(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},c(_s,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Jo,Input:Te,TouchAction:Mt,TouchInput:rt,MouseInput:kt,PointerEventInput:Ln,TouchMouseInput:mi,SingleTouchInput:On,Recognizer:tn,AttrRecognizer:qi,Tap:no,Pan:Ri,Swipe:Ko,Pinch:Ql,Rotate:to,Press:eo,on:z,off:q,each:D,merge:S,extend:C,assign:c,inherit:P,bindFn:I,prefixed:x}),(l!==void 0?l:typeof self<"u"?self:{}).Hammer=_s,(s=function(){return _s}.call(n,r,n,t))===void 0||(t.exports=s)})(window,document)},function(t,n,r){r.r(n);var s=r(0),l=r.n(s),o=["swipe","swipeleft","swiperight","swipeup","swipedown"],a=function(F,C){var S=new l.a(F);S.get("swipe").set(C);for(var P=function(B){S.on(B,function(z){return F.dispatchEvent(new CustomEvent(B,{detail:z}))})},I=0,R=o;I<R.length;I++)P(R[I]);return{update:function(B){S.get("swipe").set(B)},destroy:function(){for(var B=0,z=o;B<z.length;B++){var q=z[B];S.off(q)}}}},u=["pan","panstart","panmove","panend","pancancel","panleft","panright","panup","pandown"],c=function(F,C){var S=new l.a(F);S.get("pan").set(C);for(var P=function(B){S.on(B,function(z){return F.dispatchEvent(new CustomEvent(B,{detail:z}))})},I=0,R=u;I<R.length;I++)P(R[I]);return{update:function(B){S.get("pan").set(B)},destroy:function(){for(var B=0,z=u;B<z.length;B++){var q=z[B];S.off(q)}}}},f=["pinch","pinchstart","pinchmove","pinchend","pinchcancel","pinchin","pinchout"],d=function(F,C){var S=new l.a(F);S.get("pinch").set(C);for(var P=function(B){S.on(B,function(z){return F.dispatchEvent(new CustomEvent(B,{detail:z}))})},I=0,R=f;I<R.length;I++)P(R[I]);return{update:function(B){S.get("pinch").set(B)},destroy:function(){for(var B=0,z=f;B<z.length;B++){var q=z[B];S.off(q)}}}},m=["press","pressup"],p=function(F,C){var S=new l.a(F);S.get("press").set(C);for(var P=function(B){S.on(B,function(z){return F.dispatchEvent(new CustomEvent(B,{detail:z}))})},I=0,R=m;I<R.length;I++)P(R[I]);return{update:function(B){S.get("press").set(B)},destroy:function(){for(var B=0,z=m;B<z.length;B++){var q=z[B];S.off(q)}}}},g=["rotate","rotatestart","rotatemove","rotateend","rotatecancel"],k=function(F,C){var S=new l.a(F);S.get("rotate").set(C);for(var P=function(B){S.on(B,function(z){return F.dispatchEvent(new CustomEvent(B,{detail:z}))})},I=0,R=g;I<R.length;I++)P(R[I]);return{update:function(B){S.get("rotate").set(B)},destroy:function(){for(var B=0,z=g;B<z.length;B++){var q=z[B];S.off(q)}}}},$=["tap"],D=function(F,C){var S=new l.a(F);S.get("tap").set(C);for(var P=function(B){S.on(B,function(z){return F.dispatchEvent(new CustomEvent(B,{detail:z}))})},I=0,R=$;I<R.length;I++)P(R[I]);return{update:function(B){S.get("tap").set(B)},destroy:function(){for(var B=0,z=$;B<z.length;B++){var q=z[B];S.off(q)}}}};r.d(n,"Hammer",function(){return l.a}),r.d(n,"swipe",function(){return a}),r.d(n,"pan",function(){return c}),r.d(n,"pinch",function(){return d}),r.d(n,"press",function(){return p}),r.d(n,"rotate",function(){return k}),r.d(n,"tap",function(){return D}),n.default={Hammer:l.a,swipe:a,pan:c,pinch:d,press:p,rotate:k,tap:D}}])})})(aN);const HW=i=>({}),sk=i=>({}),WW=i=>({}),lk=i=>({});function ok(i){let e,t,n;return{c(){e=A("div"),h(e,"class","flex items-center justify-center")},m(r,s){w(r,e,s),t||(n=ke(e,"click",Ro(Or(i[27]))),t=!0)},p:W,d(r){r&&y(e),t=!1,n()}}}function VW(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p=i[21]&&ok(i);const g=i[26].left,k=He(g,i,i[25],lk),$=i[26].default,D=He($,i,i[25],null),F=i[26].right,C=He(F,i,i[25],sk);return{c(){e=A("button"),t=A("div"),n=Y(),p&&p.c(),r=Y(),k&&k.c(),s=Y(),l=A("div"),D&&D.c(),a=Y(),C&&C.c(),h(t,"class","hit-mark"),h(l,"class",o="button-main "+i[6]),h(e,"role",i[17]),h(e,"id",i[0]),h(e,"style",i[8]),e.autofocus=i[18],e.disabled=i[9],h(e,"type","button"),h(e,"class",u=`${i[5]} nbtn ${i[7]?"nbtn-block":""} ${i[11]?"nbtn-icon":""} nbtn-${i[2]} nbtn-${i[3]} nbtn-${i[4]} nbtn-${i[1]} ${i[15]?"nbtn-inline":""} ${i[16]?"nbtn-text":""} `),h(e,"title",i[12]),h(e,"aria-label",c=i[13]||i[12]),Je(e,"confirming",i[21]),Je(e,"text-primary",i[19]),Je(e,"clear",i[20])},m(S,P){w(S,e,P),E(e,t),E(e,n),p&&p.m(e,null),E(e,r),k&&k.m(e,null),E(e,s),E(e,l),D&&D.m(l,null),E(e,a),C&&C.m(e,null),f=!0,i[18]&&e.focus(),d||(m=[Ct(aN.exports.press.call(null,e)),ke(e,"press",i[28]),ke(e,"click",Ro(Or(i[29])),{passive:!1})],d=!0)},p(S,[P]){S[21]?p?p.p(S,P):(p=ok(S),p.c(),p.m(e,r)):p&&(p.d(1),p=null),k&&k.p&&(!f||P&33554432)&&Ve(k,g,S,S[25],f?We(g,S[25],P,WW):Ge(S[25]),lk),D&&D.p&&(!f||P&33554432)&&Ve(D,$,S,S[25],f?We($,S[25],P,null):Ge(S[25]),null),(!f||P&64&&o!==(o="button-main "+S[6]))&&h(l,"class",o),C&&C.p&&(!f||P&33554432)&&Ve(C,F,S,S[25],f?We(F,S[25],P,HW):Ge(S[25]),sk),(!f||P&131072)&&h(e,"role",S[17]),(!f||P&1)&&h(e,"id",S[0]),(!f||P&256)&&h(e,"style",S[8]),(!f||P&262144)&&(e.autofocus=S[18]),(!f||P&512)&&(e.disabled=S[9]),(!f||P&100542&&u!==(u=`${S[5]} nbtn ${S[7]?"nbtn-block":""} ${S[11]?"nbtn-icon":""} nbtn-${S[2]} nbtn-${S[3]} nbtn-${S[4]} nbtn-${S[1]} ${S[15]?"nbtn-inline":""} ${S[16]?"nbtn-text":""} `))&&h(e,"class",u),(!f||P&4096)&&h(e,"title",S[12]),(!f||P&12288&&c!==(c=S[13]||S[12]))&&h(e,"aria-label",c),(!f||P&2197694)&&Je(e,"confirming",S[21]),(!f||P&624830)&&Je(e,"text-primary",S[19]),(!f||P&1149118)&&Je(e,"clear",S[20])},i(S){f||(_(k,S),_(D,S),_(C,S),f=!0)},o(S){v(k,S),v(D,S),v(C,S),f=!1},d(S){S&&y(e),p&&p.d(),k&&k.d(S),D&&D.d(S),C&&C.d(S),d=!1,pt(m)}}}function GW(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=Dt();let{id:l=void 0}=e,{size:o="md"}=e,{type:a=""}=e,{shape:u="rounded"}=e,{color:c=""}=e,{className:f=""}=e,{mainClass:d=""}=e,{block:m=!1}=e,{style:p=""}=e,{disabled:g=!1}=e,{delay:k=300}=e,{icon:$=!1}=e,{title:D=void 0}=e,{ariaLabel:F=void 0}=e,{prevent:C=!1}=e,{inline:S=!1}=e,{text:P=!1}=e,{confirm:I=!1}=e,{role:R=""}=e,{autofocus:B=!1}=e,{primary:z=!1}=e,{clear:q=!1}=e,H=!1,K;const G=async x=>{I?(clearTimeout(K),H?(s("click",x),t(21,H=!1)):(t(21,H=!0),K=setTimeout(()=>{t(21,H=!1)},3e3))):s("click",x)},U=()=>{t(21,H=!1)},Q=x=>{x.preventDefault(),x.stopPropagation(),s("longpress",x)},V=x=>{C&&(x.stopPropagation(),x.preventDefault()),k?setTimeout(()=>{G(x)},k):G(x)};return i.$$set=x=>{"id"in x&&t(0,l=x.id),"size"in x&&t(1,o=x.size),"type"in x&&t(2,a=x.type),"shape"in x&&t(3,u=x.shape),"color"in x&&t(4,c=x.color),"className"in x&&t(5,f=x.className),"mainClass"in x&&t(6,d=x.mainClass),"block"in x&&t(7,m=x.block),"style"in x&&t(8,p=x.style),"disabled"in x&&t(9,g=x.disabled),"delay"in x&&t(10,k=x.delay),"icon"in x&&t(11,$=x.icon),"title"in x&&t(12,D=x.title),"ariaLabel"in x&&t(13,F=x.ariaLabel),"prevent"in x&&t(14,C=x.prevent),"inline"in x&&t(15,S=x.inline),"text"in x&&t(16,P=x.text),"confirm"in x&&t(24,I=x.confirm),"role"in x&&t(17,R=x.role),"autofocus"in x&&t(18,B=x.autofocus),"primary"in x&&t(19,z=x.primary),"clear"in x&&t(20,q=x.clear),"$$scope"in x&&t(25,r=x.$$scope)},i.$$.update=()=>{i.$$.dirty&69665&&t(0,l=l||`auto-${ul(`${D}${f}${P}`)}`)},[l,o,a,u,c,f,d,m,p,g,k,$,D,F,C,S,P,R,B,z,q,H,s,G,I,r,n,U,Q,V]}class Me extends ce{constructor(e){super(),ue(this,e,GW,VW,le,{id:0,size:1,type:2,shape:3,color:4,className:5,mainClass:6,block:7,style:8,disabled:9,delay:10,icon:11,title:12,ariaLabel:13,prevent:14,inline:15,text:16,confirm:24,role:17,autofocus:18,primary:19,clear:20})}}function ak(i){let e,t,n,r;var s=i[0];function l(o){return{props:{size:o[3]}}}return s&&(t=an(s,l(i))),{c(){e=A("span"),t&&O(t.$$.fragment),h(e,"class",n="ion-icon "+i[1]+" text-current fill-current"),h(e,"style",i[2])},m(o,a){w(o,e,a),t&&N(t,e,null),r=!0},p(o,a){const u={};if(a&8&&(u.size=o[3]),s!==(s=o[0])){if(t){ie();const c=t;v(c.$$.fragment,1,0,()=>{M(c,1)}),re()}s?(t=an(s,l(o)),O(t.$$.fragment),_(t.$$.fragment,1),N(t,e,null)):t=null}else s&&t.$set(u);(!r||a&2&&n!==(n="ion-icon "+o[1]+" text-current fill-current"))&&h(e,"class",n),(!r||a&4)&&h(e,"style",o[2])},i(o){r||(t&&_(t.$$.fragment,o),r=!0)},o(o){t&&v(t.$$.fragment,o),r=!1},d(o){o&&y(e),t&&M(t)}}}function ZW(i){let e,t,n=i[0]&&ak(i);return{c(){n&&n.c(),e=$e()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,[s]){r[0]?n?(n.p(r,s),s&1&&_(n,1)):(n=ak(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ie(),v(n,1,1,()=>{n=null}),re())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function xW(i,e,t){let{icon:n=void 0}=e,{className:r=""}=e,{style:s=""}=e,{size:l=24}=e;return i.$$set=o=>{"icon"in o&&t(0,n=o.icon),"className"in o&&t(1,r=o.className),"style"in o&&t(2,s=o.style),"size"in o&&t(3,l=o.size)},[n,r,s,l]}class je extends ce{constructor(e){super(),ue(this,e,xW,ZW,le,{icon:0,className:1,style:2,size:3})}}const uk=["hour","month","value"],ck=["lt","lte","eq","gt","gte"];function Y_(i,e){let t=!1;typeof i.v=="string"&&(i.v=parseFloat(i.v));let n=i.v;return i.is=="gt"?t=e>n:i.is=="lt"?t=e<n:i.is=="lte"?t=e<=n:i.is=="gte"?t=e>=n:i.is=="eq"&&(t=e==n),t}function XW(i,e,t){let n={true:!1,next:!0,score:0};switch(i.if){case"hour":let r=new Date(t).getHours();n.true=Y_(i,r);break;case"month":let s=parseInt(we(t).format("DD"));n.true=Y_(i,s);break;case"value":typeof e=="string"&&(e=parseFloat(e)),n.true=Y_(i,e);break}return n.next=!n.true,n.score=i.sc,n}function Wf(i,e,t){let n=0;if(e.score&&!e.score_calc)n=parseInt(`${e.score}`);else if(e.score_calc){let s=e.score_calc.map(l=>XW(l,i,t)).filter(l=>l.true);n=s.length?parseFloat(`${s[0].score}`):n}return n}const KW=i=>{const e=i.match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g);return e?e.join("_").toLowerCase():""};var uN={exports:{}};(function(i,e){(function(t,n){i.exports=n()})(Yn,function(){return function(t,n,r){t=t||{};var s=n.prototype,l={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function o(u,c,f,d){return s.fromToBase(u,c,f,d)}r.en.relativeTime=l,s.fromToBase=function(u,c,f,d,m){for(var p,g,k,$=f.$locale().relativeTime||l,D=t.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],F=D.length,C=0;C<F;C+=1){var S=D[C];S.d&&(p=d?r(u).diff(f,S.d,!0):f.diff(u,S.d,!0));var P=(t.rounding||Math.round)(Math.abs(p));if(k=p>0,P<=S.r||!S.r){P<=1&&C>0&&(S=D[C-1]);var I=$[S.l];m&&(P=m(""+P)),g=typeof I=="string"?I.replace("%d",P):I(P,c,S.l,k);break}}if(c)return g;var R=k?$.future:$.past;return typeof R=="function"?R(g):R.replace("%s",g)},s.to=function(u,c){return o(u,c,this,!0)},s.from=function(u,c){return o(u,c,this)};var a=function(u){return u.$u?r.utc():r()};s.toNow=function(u){return this.to(a(this),u)},s.fromNow=function(u){return this.from(a(this),u)}}})})(uN);const I0=uN.exports;we.extend(I0);const JW=i=>{let e=we(i),t=parseInt(e.format("H"));return t>=6&&t<12?"morning":t>=12&&t<18?"afternoon":(t>=18&&t<20,"evening")},QW={toId(i){return[i.getTime().toString(16),Math.random().toString().substr(3,8)].join(".")},fromId(i){try{const e=i.split(".");return new Date(parseInt(e[0],16))}catch(e){throw e}},padTime(i){return(i+"").length===1?(i+"").padStart(2,"0"):i},isToday(i){return new Date().toDateString()===i.toDateString()},isSameDay(i,e){return i&&e?i.toDateString()===e.toDateString():!1},secondsToTime(i){i=i||0;let e=i,t=Math.floor(parseInt(`${e}`)/60).toString(),n;return parseInt(t)>59&&(n=Math.floor(parseInt(t)/60).toString(),t=(parseInt(t)-parseInt(n)*60).toString()),e=Math.floor(parseInt(`${e}`)%60),t=t,n?(n=parseInt(`${n}`),`${this.padTime(n)}:${this.padTime(t)}:${this.padTime(e)}`):`00:${this.padTime(t)}:${this.padTime(e)}`},dateToDesc(i){let e=we(i),t=parseInt(e.format("H"));return t>=6&&t<12?"morning":t>=12&&t<18?"afternoon":t>=18&&t<20?"evening":"night"},fromNow(i,e=!0){let t=we(i).fromNow(),n=t;return t=="a few seconds ago"?n="now":n=n.replace("minutes","min").replace("seconds","sec").replace("months","mon").replace("hours","hrs"),e||(n=n.replace("ago","").trim()),n},datetimeLocal(i){let e=i.split("T"),t=e[0],n=e[1];return we(t,"YYYY-MM-DD").set("hour",parseFloat(n.split(":")[0])).set("minute",parseFloat(n.split(":")[1])).toDate()},msToSecond(i){return i/1e3},timestringToSeconds(i){let e=i.split(":");return this.unitsToSeconds(e[0],e[1],e[2])},unitsToSeconds(i,e,t){let n=0;return n=(parseInt(i)||0)*60*60,n=n+(parseInt(e)||0)*60,n=n+(parseInt(t)||0),n},getNumberedArray(i){i++;let e=[];for(var t=0;t<i;t++)e.push((t+"").toString().length==1?`0${t}`:`${t}`);return e},toggleAMPM(i){let e=we(i),t=e.format("a"),n=parseInt(e.format("H"));return t=="am"&&n!==12?e.add(12,"hour").toDate():t=="pm"&&n!==12?e.subtract(12,"hour").toDate():e.toDate()},getDateFormat(i="md",e,t=!1){let n="";switch(i){case"xs":n=e=="imperial"?"M/D/YY":"D/M/YY";break;case"sm":n=e=="imperial"?"MM/DD/YYYY":"DD/MM/YYYY";break;case"md":n=e=="imperial"?"MMM D YYYY":"D MMM YYYY";break;case"lg":n=e=="imperial"?"MMM Do YYYY":"Do MMM YYYY";break;case"xl":n=e=="imperial"?"ddd MMM Do YYYY":"ddd Do MMM YYYY";break}return t?n.replace(/(YYYY|YY)/,""):n},getTimeFormat(i="md",e){switch(i){case"xs":return e=="imperial"?"ha":"H:mm";case"sm":return e=="imperial"?"h:mma":"HH:mm";default:return e=="imperial"?"h:mm a":"HH:mm"}},calendarMap:cN,getWeekOfMonth:fN,dateToWeekString:eV};function cN(i,e,t="day"){const n=we(i).startOf(t),r=we(e).endOf(t),s=Math.abs(r.startOf(t).diff(n,t))+1;return Array(s).fill(0).map(({},l)=>({date:n.add(l,t).toDate()}))}function fN(i){let e=i.getDate()+i.getDay();return parseInt(["0","1","2","3","4","5"][0|e/7])+1}function eV(i){return`${we(i).format("YYYY-MM")}-w${fN(i)}`}const tV={hour:{keyFormat:"YYYY-MM-DD-HH"},day:{keyFormat:"YYYY-MM-DD"},week:{keyFormat:"YYYY-MM-DD-w"},month:{keyFormat:"YYYY-MM"},quarter:{keyFormat:"YYYY-MM"},year:{keyFormat:"YYYY"}};var rs="INUMBER",yc="IOP1",wc="IOP2",$c="IOP3",Bl="IVAR",Ma="IVARNAME",Ju="IFUNCALL",mp="IFUNDEF",Ir="IEXPR",B0="IEXPREVAL",Xa="IMEMBER",pp="IENDSTATEMENT",Qu="IARRAY";function Sn(i,e){this.type=i,this.value=e!=null?e:0}Sn.prototype.toString=function(){switch(this.type){case rs:case yc:case wc:case $c:case Bl:case Ma:case pp:return this.value;case Ju:return"CALL "+this.value;case mp:return"DEF "+this.value;case Qu:return"ARRAY "+this.value;case Xa:return"."+this.value;default:return"Invalid Instruction"}};function _p(i){return new Sn(yc,i)}function ql(i){return new Sn(wc,i)}function dN(i){return new Sn($c,i)}function xg(i,e,t,n,r){for(var s=[],l=[],o,a,u,c,f=0;f<i.length;f++){var d=i[f],m=d.type;if(m===rs||m===Ma)Array.isArray(d.value)?s.push.apply(s,xg(d.value.map(function(p){return new Sn(rs,p)}).concat(new Sn(Qu,d.value.length)),e,t,n,r)):s.push(d);else if(m===Bl&&r.hasOwnProperty(d.value))d=new Sn(rs,r[d.value]),s.push(d);else if(m===wc&&s.length>1)a=s.pop(),o=s.pop(),c=t[d.value],d=new Sn(rs,c(o.value,a.value)),s.push(d);else if(m===$c&&s.length>2)u=s.pop(),a=s.pop(),o=s.pop(),d.value==="?"?s.push(o.value?a.value:u.value):(c=n[d.value],d=new Sn(rs,c(o.value,a.value,u.value)),s.push(d));else if(m===yc&&s.length>0)o=s.pop(),c=e[d.value],d=new Sn(rs,c(o.value)),s.push(d);else if(m===Ir){for(;s.length>0;)l.push(s.shift());l.push(new Sn(Ir,xg(d.value,e,t,n,r)))}else if(m===Xa&&s.length>0)o=s.pop(),s.push(new Sn(rs,o.value[d.value]));else{for(;s.length>0;)l.push(s.shift());l.push(d)}}for(;s.length>0;)l.push(s.shift());return l}function hN(i,e,t){for(var n=[],r=0;r<i.length;r++){var s=i[r],l=s.type;if(l===Bl&&s.value===e)for(var o=0;o<t.tokens.length;o++){var a=t.tokens[o],u;a.type===yc?u=_p(a.value):a.type===wc?u=ql(a.value):a.type===$c?u=dN(a.value):u=new Sn(a.type,a.value),n.push(u)}else l===Ir?n.push(new Sn(Ir,hN(s.value,e,t))):n.push(s)}return n}function ba(i,e,t){var n=[],r,s,l,o,a,u;if(z0(i))return Dl(i,t);for(var c=i.length,f=0;f<c;f++){var d=i[f],m=d.type;if(m===rs||m===Ma)n.push(d.value);else if(m===wc)s=n.pop(),r=n.pop(),d.value==="and"?n.push(r?!!ba(s,e,t):!1):d.value==="or"?n.push(r?!0:!!ba(s,e,t)):d.value==="="?(o=e.binaryOps[d.value],n.push(o(r,ba(s,e,t),t))):(o=e.binaryOps[d.value],n.push(o(Dl(r,t),Dl(s,t))));else if(m===$c)l=n.pop(),s=n.pop(),r=n.pop(),d.value==="?"?n.push(ba(r?s:l,e,t)):(o=e.ternaryOps[d.value],n.push(o(Dl(r,t),Dl(s,t),Dl(l,t))));else if(m===Bl)if(d.value in e.functions)n.push(e.functions[d.value]);else if(d.value in e.unaryOps&&e.parser.isOperatorEnabled(d.value))n.push(e.unaryOps[d.value]);else{var p=t[d.value];if(p!==void 0)n.push(p);else throw new Error("undefined variable: "+d.value)}else if(m===yc)r=n.pop(),o=e.unaryOps[d.value],n.push(o(Dl(r,t)));else if(m===Ju){for(u=d.value,a=[];u-- >0;)a.unshift(Dl(n.pop(),t));if(o=n.pop(),o.apply&&o.call)n.push(o.apply(void 0,a));else throw new Error(o+" is not a function")}else if(m===mp)n.push(function(){for(var g=n.pop(),k=[],$=d.value;$-- >0;)k.unshift(n.pop());var D=n.pop(),F=function(){for(var C=Object.assign({},t),S=0,P=k.length;S<P;S++)C[k[S]]=arguments[S];return ba(g,e,C)};return Object.defineProperty(F,"name",{value:D,writable:!1}),t[D]=F,F}());else if(m===Ir)n.push(nV(d,e));else if(m===B0)n.push(d);else if(m===Xa)r=n.pop(),n.push(r[d.value]);else if(m===pp)n.pop();else if(m===Qu){for(u=d.value,a=[];u-- >0;)a.unshift(n.pop());n.push(a)}else throw new Error("invalid Expression")}if(n.length>1)throw new Error("invalid Expression (parity)");return n[0]===0?0:Dl(n[0],t)}function nV(i,e,t){return z0(i)?i:{type:B0,value:function(n){return ba(i.value,e,n)}}}function z0(i){return i&&i.type===B0}function Dl(i,e){return z0(i)?i.value(e):i}function R0(i,e){for(var t=[],n,r,s,l,o,a,u=0;u<i.length;u++){var c=i[u],f=c.type;if(f===rs)typeof c.value=="number"&&c.value<0?t.push("("+c.value+")"):Array.isArray(c.value)?t.push("["+c.value.map(fk).join(", ")+"]"):t.push(fk(c.value));else if(f===wc)r=t.pop(),n=t.pop(),l=c.value,e?l==="^"?t.push("Math.pow("+n+", "+r+")"):l==="and"?t.push("(!!"+n+" && !!"+r+")"):l==="or"?t.push("(!!"+n+" || !!"+r+")"):l==="||"?t.push("(function(a,b){ return Array.isArray(a) && Array.isArray(b) ? a.concat(b) : String(a) + String(b); }(("+n+"),("+r+")))"):l==="=="?t.push("("+n+" === "+r+")"):l==="!="?t.push("("+n+" !== "+r+")"):l==="["?t.push(n+"[("+r+") | 0]"):t.push("("+n+" "+l+" "+r+")"):l==="["?t.push(n+"["+r+"]"):t.push("("+n+" "+l+" "+r+")");else if(f===$c)if(s=t.pop(),r=t.pop(),n=t.pop(),l=c.value,l==="?")t.push("("+n+" ? "+r+" : "+s+")");else throw new Error("invalid Expression");else if(f===Bl||f===Ma)t.push(c.value);else if(f===yc)n=t.pop(),l=c.value,l==="-"||l==="+"?t.push("("+l+n+")"):e?l==="not"?t.push("(!"+n+")"):l==="!"?t.push("fac("+n+")"):t.push(l+"("+n+")"):l==="!"?t.push("("+n+"!)"):t.push("("+l+" "+n+")");else if(f===Ju){for(a=c.value,o=[];a-- >0;)o.unshift(t.pop());l=t.pop(),t.push(l+"("+o.join(", ")+")")}else if(f===mp){for(r=t.pop(),a=c.value,o=[];a-- >0;)o.unshift(t.pop());n=t.pop(),e?t.push("("+n+" = function("+o.join(", ")+") { return "+r+" })"):t.push("("+n+"("+o.join(", ")+") = "+r+")")}else if(f===Xa)n=t.pop(),t.push(n+"."+c.value);else if(f===Qu){for(a=c.value,o=[];a-- >0;)o.unshift(t.pop());t.push("["+o.join(", ")+"]")}else if(f===Ir)t.push("("+R0(c.value,e)+")");else if(f!==pp)throw new Error("invalid Expression")}return t.length>1&&(e?t=[t.join(",")]:t=[t.join(";")]),String(t[0])}function fk(i){return typeof i=="string"?JSON.stringify(i).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029"):i}function Nu(i,e){for(var t=0;t<i.length;t++)if(i[t]===e)return!0;return!1}function j0(i,e,t){t=t||{};for(var n=!!t.withMembers,r=null,s=0;s<i.length;s++){var l=i[s];l.type===Bl||l.type===Ma?!n&&!Nu(e,l.value)?e.push(l.value):(r!==null&&(Nu(e,r)||e.push(r)),r=l.value):l.type===Xa&&n&&r!==null?r+="."+l.value:l.type===Ir?j0(l.value,e,t):r!==null&&(Nu(e,r)||e.push(r),r=null)}r!==null&&!Nu(e,r)&&e.push(r)}function As(i,e){this.tokens=i,this.parser=e,this.unaryOps=e.unaryOps,this.binaryOps=e.binaryOps,this.ternaryOps=e.ternaryOps,this.functions=e.functions}As.prototype.simplify=function(i){return i=i||{},new As(xg(this.tokens,this.unaryOps,this.binaryOps,this.ternaryOps,i),this.parser)};As.prototype.substitute=function(i,e){return e instanceof As||(e=this.parser.parse(String(e))),new As(hN(this.tokens,i,e),this.parser)};As.prototype.evaluate=function(i){return i=i||{},ba(this.tokens,this,i)};As.prototype.toString=function(){return R0(this.tokens,!1)};As.prototype.symbols=function(i){i=i||{};var e=[];return j0(this.tokens,e,i),e};As.prototype.variables=function(i){i=i||{};var e=[];j0(this.tokens,e,i);var t=this.functions;return e.filter(function(n){return!(n in t)})};As.prototype.toJSFunction=function(i,e){var t=this,n=new Function(i,"with(this.functions) with (this.ternaryOps) with (this.binaryOps) with (this.unaryOps) { return "+R0(this.simplify(e).tokens,!0)+"; }");return function(){return n.apply(t,arguments)}};var Vf="TEOF",ni="TOP",gp="TNUMBER",mN="TSTRING",zl="TPAREN",ec="TBRACKET",vp="TCOMMA",Y0="TNAME",U0="TSEMICOLON";function pN(i,e,t){this.type=i,this.value=e,this.index=t}pN.prototype.toString=function(){return this.type+": "+this.value};function wi(i,e){this.pos=0,this.current=null,this.unaryOps=i.unaryOps,this.binaryOps=i.binaryOps,this.ternaryOps=i.ternaryOps,this.consts=i.consts,this.expression=e,this.savedPosition=0,this.savedCurrent=null,this.options=i.options,this.parser=i}wi.prototype.newToken=function(i,e,t){return new pN(i,e,t!=null?t:this.pos)};wi.prototype.save=function(){this.savedPosition=this.pos,this.savedCurrent=this.current};wi.prototype.restore=function(){this.pos=this.savedPosition,this.current=this.savedCurrent};wi.prototype.next=function(){if(this.pos>=this.expression.length)return this.newToken(Vf,"EOF");if(this.isWhitespace()||this.isComment())return this.next();if(this.isRadixInteger()||this.isNumber()||this.isOperator()||this.isString()||this.isParen()||this.isBracket()||this.isComma()||this.isSemicolon()||this.isNamedOp()||this.isConst()||this.isName())return this.current;this.parseError('Unknown character "'+this.expression.charAt(this.pos)+'"')};wi.prototype.isString=function(){var i=!1,e=this.pos,t=this.expression.charAt(e);if(t==="'"||t==='"')for(var n=this.expression.indexOf(t,e+1);n>=0&&this.pos<this.expression.length;){if(this.pos=n+1,this.expression.charAt(n-1)!=="\\"){var r=this.expression.substring(e+1,n);this.current=this.newToken(mN,this.unescape(r),e),i=!0;break}n=this.expression.indexOf(t,n+1)}return i};wi.prototype.isParen=function(){var i=this.expression.charAt(this.pos);return i==="("||i===")"?(this.current=this.newToken(zl,i),this.pos++,!0):!1};wi.prototype.isBracket=function(){var i=this.expression.charAt(this.pos);return(i==="["||i==="]")&&this.isOperatorEnabled("[")?(this.current=this.newToken(ec,i),this.pos++,!0):!1};wi.prototype.isComma=function(){var i=this.expression.charAt(this.pos);return i===","?(this.current=this.newToken(vp,","),this.pos++,!0):!1};wi.prototype.isSemicolon=function(){var i=this.expression.charAt(this.pos);return i===";"?(this.current=this.newToken(U0,";"),this.pos++,!0):!1};wi.prototype.isConst=function(){for(var i=this.pos,e=i;e<this.expression.length;e++){var t=this.expression.charAt(e);if(t.toUpperCase()===t.toLowerCase()&&(e===this.pos||t!=="_"&&t!=="."&&(t<"0"||t>"9")))break}if(e>i){var n=this.expression.substring(i,e);if(n in this.consts)return this.current=this.newToken(gp,this.consts[n]),this.pos+=n.length,!0}return!1};wi.prototype.isNamedOp=function(){for(var i=this.pos,e=i;e<this.expression.length;e++){var t=this.expression.charAt(e);if(t.toUpperCase()===t.toLowerCase()&&(e===this.pos||t!=="_"&&(t<"0"||t>"9")))break}if(e>i){var n=this.expression.substring(i,e);if(this.isOperatorEnabled(n)&&(n in this.binaryOps||n in this.unaryOps||n in this.ternaryOps))return this.current=this.newToken(ni,n),this.pos+=n.length,!0}return!1};wi.prototype.isName=function(){for(var i=this.pos,e=i,t=!1;e<this.expression.length;e++){var n=this.expression.charAt(e);if(n.toUpperCase()===n.toLowerCase()){if(e===this.pos&&(n==="$"||n==="_")){n==="_"&&(t=!0);continue}else if(e===this.pos||!t||n!=="_"&&(n<"0"||n>"9"))break}else t=!0}if(t){var r=this.expression.substring(i,e);return this.current=this.newToken(Y0,r),this.pos+=r.length,!0}return!1};wi.prototype.isWhitespace=function(){for(var i=!1,e=this.expression.charAt(this.pos);(e===" "||e==="	"||e===`
`||e==="\r")&&(i=!0,this.pos++,!(this.pos>=this.expression.length));)e=this.expression.charAt(this.pos);return i};var iV=/^[0-9a-f]{4}$/i;wi.prototype.unescape=function(i){var e=i.indexOf("\\");if(e<0)return i;for(var t=i.substring(0,e);e>=0;){var n=i.charAt(++e);switch(n){case"'":t+="'";break;case'"':t+='"';break;case"\\":t+="\\";break;case"/":t+="/";break;case"b":t+="\b";break;case"f":t+="\f";break;case"n":t+=`
`;break;case"r":t+="\r";break;case"t":t+="	";break;case"u":var r=i.substring(e+1,e+5);iV.test(r)||this.parseError("Illegal escape sequence: \\u"+r),t+=String.fromCharCode(parseInt(r,16)),e+=4;break;default:throw this.parseError('Illegal escape sequence: "\\'+n+'"')}++e;var s=i.indexOf("\\",e);t+=i.substring(e,s<0?i.length:s),e=s}return t};wi.prototype.isComment=function(){var i=this.expression.charAt(this.pos);return i==="/"&&this.expression.charAt(this.pos+1)==="*"?(this.pos=this.expression.indexOf("*/",this.pos)+2,this.pos===1&&(this.pos=this.expression.length),!0):!1};wi.prototype.isRadixInteger=function(){var i=this.pos;if(i>=this.expression.length-2||this.expression.charAt(i)!=="0")return!1;++i;var e,t;if(this.expression.charAt(i)==="x")e=16,t=/^[0-9a-f]$/i,++i;else if(this.expression.charAt(i)==="b")e=2,t=/^[01]$/i,++i;else return!1;for(var n=!1,r=i;i<this.expression.length;){var s=this.expression.charAt(i);if(t.test(s))i++,n=!0;else break}return n&&(this.current=this.newToken(gp,parseInt(this.expression.substring(r,i),e)),this.pos=i),n};wi.prototype.isNumber=function(){for(var i=!1,e=this.pos,t=e,n=e,r=!1,s=!1,l;e<this.expression.length&&(l=this.expression.charAt(e),l>="0"&&l<="9"||!r&&l===".");)l==="."?r=!0:s=!0,e++,i=s;if(i&&(n=e),l==="e"||l==="E"){e++;for(var o=!0,a=!1;e<this.expression.length;){if(l=this.expression.charAt(e),o&&(l==="+"||l==="-"))o=!1;else if(l>="0"&&l<="9")a=!0,o=!1;else break;e++}a||(e=n)}return i?(this.current=this.newToken(gp,parseFloat(this.expression.substring(t,e))),this.pos=e):this.pos=n,i};wi.prototype.isOperator=function(){var i=this.pos,e=this.expression.charAt(this.pos);if(e==="+"||e==="-"||e==="*"||e==="/"||e==="%"||e==="^"||e==="?"||e===":"||e===".")this.current=this.newToken(ni,e);else if(e==="\u2219"||e==="\u2022")this.current=this.newToken(ni,"*");else if(e===">")this.expression.charAt(this.pos+1)==="="?(this.current=this.newToken(ni,">="),this.pos++):this.current=this.newToken(ni,">");else if(e==="<")this.expression.charAt(this.pos+1)==="="?(this.current=this.newToken(ni,"<="),this.pos++):this.current=this.newToken(ni,"<");else if(e==="|")if(this.expression.charAt(this.pos+1)==="|")this.current=this.newToken(ni,"||"),this.pos++;else return!1;else if(e==="=")this.expression.charAt(this.pos+1)==="="?(this.current=this.newToken(ni,"=="),this.pos++):this.current=this.newToken(ni,e);else if(e==="!")this.expression.charAt(this.pos+1)==="="?(this.current=this.newToken(ni,"!="),this.pos++):this.current=this.newToken(ni,e);else return!1;return this.pos++,this.isOperatorEnabled(this.current.value)?!0:(this.pos=i,!1)};wi.prototype.isOperatorEnabled=function(i){return this.parser.isOperatorEnabled(i)};wi.prototype.getCoordinates=function(){var i=0,e,t=-1;do i++,e=this.pos-t,t=this.expression.indexOf(`
`,t+1);while(t>=0&&t<this.pos);return{line:i,column:e}};wi.prototype.parseError=function(i){var e=this.getCoordinates();throw new Error("parse error ["+e.line+":"+e.column+"]: "+i)};function ai(i,e,t){this.parser=i,this.tokens=e,this.current=null,this.nextToken=null,this.next(),this.savedCurrent=null,this.savedNextToken=null,this.allowMemberAccess=t.allowMemberAccess!==!1}ai.prototype.next=function(){return this.current=this.nextToken,this.nextToken=this.tokens.next()};ai.prototype.tokenMatches=function(i,e){return typeof e>"u"?!0:Array.isArray(e)?Nu(e,i.value):typeof e=="function"?e(i):i.value===e};ai.prototype.save=function(){this.savedCurrent=this.current,this.savedNextToken=this.nextToken,this.tokens.save()};ai.prototype.restore=function(){this.tokens.restore(),this.current=this.savedCurrent,this.nextToken=this.savedNextToken};ai.prototype.accept=function(i,e){return this.nextToken.type===i&&this.tokenMatches(this.nextToken,e)?(this.next(),!0):!1};ai.prototype.expect=function(i,e){if(!this.accept(i,e)){var t=this.tokens.getCoordinates();throw new Error("parse error ["+t.line+":"+t.column+"]: Expected "+(e||i))}};ai.prototype.parseAtom=function(i){var e=this.tokens.unaryOps;function t(r){return r.value in e}if(this.accept(Y0)||this.accept(ni,t))i.push(new Sn(Bl,this.current.value));else if(this.accept(gp))i.push(new Sn(rs,this.current.value));else if(this.accept(mN))i.push(new Sn(rs,this.current.value));else if(this.accept(zl,"("))this.parseExpression(i),this.expect(zl,")");else if(this.accept(ec,"["))if(this.accept(ec,"]"))i.push(new Sn(Qu,0));else{var n=this.parseArrayList(i);i.push(new Sn(Qu,n))}else throw new Error("unexpected "+this.nextToken)};ai.prototype.parseExpression=function(i){var e=[];this.parseUntilEndStatement(i,e)||(this.parseVariableAssignmentExpression(e),!this.parseUntilEndStatement(i,e)&&this.pushExpression(i,e))};ai.prototype.pushExpression=function(i,e){for(var t=0,n=e.length;t<n;t++)i.push(e[t])};ai.prototype.parseUntilEndStatement=function(i,e){return this.accept(U0)?(this.nextToken&&this.nextToken.type!==Vf&&!(this.nextToken.type===zl&&this.nextToken.value===")")&&e.push(new Sn(pp)),this.nextToken.type!==Vf&&this.parseExpression(e),i.push(new Sn(Ir,e)),!0):!1};ai.prototype.parseArrayList=function(i){for(var e=0;!this.accept(ec,"]");)for(this.parseExpression(i),++e;this.accept(vp);)this.parseExpression(i),++e;return e};ai.prototype.parseVariableAssignmentExpression=function(i){for(this.parseConditionalExpression(i);this.accept(ni,"=");){var e=i.pop(),t=[],n=i.length-1;if(e.type===Ju){if(!this.tokens.isOperatorEnabled("()="))throw new Error("function definition is not permitted");for(var r=0,s=e.value+1;r<s;r++){var l=n-r;i[l].type===Bl&&(i[l]=new Sn(Ma,i[l].value))}this.parseVariableAssignmentExpression(t),i.push(new Sn(Ir,t)),i.push(new Sn(mp,e.value));continue}if(e.type!==Bl&&e.type!==Xa)throw new Error("expected variable for assignment");this.parseVariableAssignmentExpression(t),i.push(new Sn(Ma,e.value)),i.push(new Sn(Ir,t)),i.push(ql("="))}};ai.prototype.parseConditionalExpression=function(i){for(this.parseOrExpression(i);this.accept(ni,"?");){var e=[],t=[];this.parseConditionalExpression(e),this.expect(ni,":"),this.parseConditionalExpression(t),i.push(new Sn(Ir,e)),i.push(new Sn(Ir,t)),i.push(dN("?"))}};ai.prototype.parseOrExpression=function(i){for(this.parseAndExpression(i);this.accept(ni,"or");){var e=[];this.parseAndExpression(e),i.push(new Sn(Ir,e)),i.push(ql("or"))}};ai.prototype.parseAndExpression=function(i){for(this.parseComparison(i);this.accept(ni,"and");){var e=[];this.parseComparison(e),i.push(new Sn(Ir,e)),i.push(ql("and"))}};var rV=["==","!=","<","<=",">=",">","in"];ai.prototype.parseComparison=function(i){for(this.parseAddSub(i);this.accept(ni,rV);){var e=this.current;this.parseAddSub(i),i.push(ql(e.value))}};var sV=["+","-","||"];ai.prototype.parseAddSub=function(i){for(this.parseTerm(i);this.accept(ni,sV);){var e=this.current;this.parseTerm(i),i.push(ql(e.value))}};var lV=["*","/","%"];ai.prototype.parseTerm=function(i){for(this.parseFactor(i);this.accept(ni,lV);){var e=this.current;this.parseFactor(i),i.push(ql(e.value))}};ai.prototype.parseFactor=function(i){var e=this.tokens.unaryOps;function t(r){return r.value in e}if(this.save(),this.accept(ni,t)){if(this.current.value!=="-"&&this.current.value!=="+"){if(this.nextToken.type===zl&&this.nextToken.value==="("){this.restore(),this.parseExponential(i);return}else if(this.nextToken.type===U0||this.nextToken.type===vp||this.nextToken.type===Vf||this.nextToken.type===zl&&this.nextToken.value===")"){this.restore(),this.parseAtom(i);return}}var n=this.current;this.parseFactor(i),i.push(_p(n.value))}else this.parseExponential(i)};ai.prototype.parseExponential=function(i){for(this.parsePostfixExpression(i);this.accept(ni,"^");)this.parseFactor(i),i.push(ql("^"))};ai.prototype.parsePostfixExpression=function(i){for(this.parseFunctionCall(i);this.accept(ni,"!");)i.push(_p("!"))};ai.prototype.parseFunctionCall=function(i){var e=this.tokens.unaryOps;function t(s){return s.value in e}if(this.accept(ni,t)){var n=this.current;this.parseAtom(i),i.push(_p(n.value))}else for(this.parseMemberExpression(i);this.accept(zl,"(");)if(this.accept(zl,")"))i.push(new Sn(Ju,0));else{var r=this.parseArgumentList(i);i.push(new Sn(Ju,r))}};ai.prototype.parseArgumentList=function(i){for(var e=0;!this.accept(zl,")");)for(this.parseExpression(i),++e;this.accept(vp);)this.parseExpression(i),++e;return e};ai.prototype.parseMemberExpression=function(i){for(this.parseAtom(i);this.accept(ni,".")||this.accept(ec,"[");){var e=this.current;if(e.value==="."){if(!this.allowMemberAccess)throw new Error('unexpected ".", member access is not permitted');this.expect(Y0),i.push(new Sn(Xa,this.current.value))}else if(e.value==="["){if(!this.tokens.isOperatorEnabled("["))throw new Error('unexpected "[]", arrays are disabled');this.parseExpression(i),this.expect(ec,"]"),i.push(ql("["))}else throw new Error("unexpected symbol: "+e.value)}};function oV(i,e){return Number(i)+Number(e)}function aV(i,e){return i-e}function uV(i,e){return i*e}function cV(i,e){return i/e}function fV(i,e){return i%e}function dV(i,e){return Array.isArray(i)&&Array.isArray(e)?i.concat(e):""+i+e}function hV(i,e){return i===e}function mV(i,e){return i!==e}function pV(i,e){return i>e}function _V(i,e){return i<e}function gV(i,e){return i>=e}function vV(i,e){return i<=e}function bV(i,e){return Boolean(i&&e)}function kV(i,e){return Boolean(i||e)}function yV(i,e){return Nu(e,i)}function wV(i){return(Math.exp(i)-Math.exp(-i))/2}function $V(i){return(Math.exp(i)+Math.exp(-i))/2}function FV(i){return i===1/0?1:i===-1/0?-1:(Math.exp(i)-Math.exp(-i))/(Math.exp(i)+Math.exp(-i))}function EV(i){return i===-1/0?i:Math.log(i+Math.sqrt(i*i+1))}function DV(i){return Math.log(i+Math.sqrt(i*i-1))}function CV(i){return Math.log((1+i)/(1-i))/2}function dk(i){return Math.log(i)*Math.LOG10E}function SV(i){return-i}function TV(i){return!i}function AV(i){return i<0?Math.ceil(i):Math.floor(i)}function PV(i){return Math.random()*(i||1)}function hk(i){return q0(i+1)}function NV(i){return isFinite(i)&&i===Math.round(i)}var MV=4.7421875,U_=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];function q0(i){var e,t;if(NV(i)){if(i<=0)return isFinite(i)?1/0:NaN;if(i>171)return 1/0;for(var n=i-2,r=i-1;n>1;)r*=n,n--;return r===0&&(r=1),r}if(i<.5)return Math.PI/(Math.sin(Math.PI*i)*q0(1-i));if(i>=171.35)return 1/0;if(i>85){var s=i*i,l=s*i,o=l*i,a=o*i;return Math.sqrt(2*Math.PI/i)*Math.pow(i/Math.E,i)*(1+1/(12*i)+1/(288*s)-139/(51840*l)-571/(2488320*o)+163879/(209018880*a)+5246819/(75246796800*a*i))}--i,t=U_[0];for(var u=1;u<U_.length;++u)t+=U_[u]/(i+u);return e=i+MV+.5,Math.sqrt(2*Math.PI)*Math.pow(e,i+.5)*Math.exp(-e)*t}function LV(i){return Array.isArray(i)?i.length:String(i).length}function mk(){for(var i=0,e=0,t=0;t<arguments.length;t++){var n=Math.abs(arguments[t]),r;e<n?(r=e/n,i=i*r*r+1,e=n):n>0?(r=n/e,i+=r*r):i+=n}return e===1/0?1/0:e*Math.sqrt(i)}function pk(i,e,t){return i?e:t}function OV(i,e){return typeof e>"u"||+e==0?Math.round(i):(i=+i,e=-+e,isNaN(i)||!(typeof e=="number"&&e%1===0)?NaN:(i=i.toString().split("e"),i=Math.round(+(i[0]+"e"+(i[1]?+i[1]-e:-e))),i=i.toString().split("e"),+(i[0]+"e"+(i[1]?+i[1]+e:e))))}function IV(i,e,t){return t&&(t[i]=e),e}function BV(i,e){return i[e|0]}function zV(i){return arguments.length===1&&Array.isArray(i)?Math.max.apply(Math,i):Math.max.apply(Math,arguments)}function RV(i){return arguments.length===1&&Array.isArray(i)?Math.min.apply(Math,i):Math.min.apply(Math,arguments)}function jV(i,e){if(typeof i!="function")throw new Error("First argument to map is not a function");if(!Array.isArray(e))throw new Error("Second argument to map is not an array");return e.map(function(t,n){return i(t,n)})}function YV(i,e,t){if(typeof i!="function")throw new Error("First argument to fold is not a function");if(!Array.isArray(t))throw new Error("Second argument to fold is not an array");return t.reduce(function(n,r,s){return i(n,r,s)},e)}function UV(i,e){if(typeof i!="function")throw new Error("First argument to filter is not a function");if(!Array.isArray(e))throw new Error("Second argument to filter is not an array");return e.filter(function(t,n){return i(t,n)})}function qV(i,e){if(!(Array.isArray(e)||typeof e=="string"))throw new Error("Second argument to indexOf is not a string or array");return e.indexOf(i)}function HV(i,e){if(!Array.isArray(e))throw new Error("Second argument to join is not an array");return e.join(i)}function WV(i){return(i>0)-(i<0)||+i}var _k=1/3;function VV(i){return i<0?-Math.pow(-i,_k):Math.pow(i,_k)}function GV(i){return Math.exp(i)-1}function ZV(i){return Math.log(1+i)}function xV(i){return Math.log(i)/Math.LN2}function Ka(i){this.options=i||{},this.unaryOps={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sinh:Math.sinh||wV,cosh:Math.cosh||$V,tanh:Math.tanh||FV,asinh:Math.asinh||EV,acosh:Math.acosh||DV,atanh:Math.atanh||CV,sqrt:Math.sqrt,cbrt:Math.cbrt||VV,log:Math.log,log2:Math.log2||xV,ln:Math.log,lg:Math.log10||dk,log10:Math.log10||dk,expm1:Math.expm1||GV,log1p:Math.log1p||ZV,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,trunc:Math.trunc||AV,"-":SV,"+":Number,exp:Math.exp,not:TV,length:LV,"!":hk,sign:Math.sign||WV},this.binaryOps={"+":oV,"-":aV,"*":uV,"/":cV,"%":fV,"^":Math.pow,"||":dV,"==":hV,"!=":mV,">":pV,"<":_V,">=":gV,"<=":vV,and:bV,or:kV,in:yV,"=":IV,"[":BV},this.ternaryOps={"?":pk},this.functions={random:PV,fac:hk,min:RV,max:zV,hypot:Math.hypot||mk,pyt:Math.hypot||mk,pow:Math.pow,atan2:Math.atan2,if:pk,gamma:q0,roundTo:OV,map:jV,fold:YV,filter:UV,indexOf:qV,join:HV},this.consts={E:Math.E,PI:Math.PI,true:!0,false:!1}}Ka.prototype.parse=function(i){var e=[],t=new ai(this,new wi(this,i),{allowMemberAccess:this.options.allowMemberAccess});return t.parseExpression(e),t.expect(Vf,"EOF"),new As(e,this)};Ka.prototype.evaluate=function(i,e){return this.parse(i).evaluate(e)};var _N=new Ka;Ka.parse=function(i){return _N.parse(i)};Ka.evaluate=function(i,e){return _N.parse(i).evaluate(e)};var gk={"+":"add","-":"subtract","*":"multiply","/":"divide","%":"remainder","^":"power","!":"factorial","<":"comparison",">":"comparison","<=":"comparison",">=":"comparison","==":"comparison","!=":"comparison","||":"concatenate",and:"logical",or:"logical",not:"logical","?":"conditional",":":"conditional","=":"assignment","[":"array","()=":"fndef"};function XV(i){return gk.hasOwnProperty(i)?gk[i]:i}Ka.prototype.isOperatorEnabled=function(i){var e=XV(i),t=this.options.operators||{};return!(e in t)||!!t[e]};const KV={context:"+",person:"@",tracker:"#"};function JV(i){const e=i.split("(");let t=e.length===2?e[1].replace(")",""):"1";return t=t.length?t:"1",QV(t)}function QV(i){const e=i.match(/[a-z/%$]+/gi),t=e?e[0]:void 0;if(i.match(/\+|-|\/|\*|Mod|\(|\)/)){i=i.replace(/[a-z]+/gi,"");try{return{value:Ka.evaluate(i),uom:t}}catch{return{value:0,uom:t}}}else return i.split(".").length===2?{value:parseFloat(i),uom:t}:i.search(":")>-1?{value:QW.timestringToSeconds(i),uom:"timer"}:{value:parseInt(i),uom:t}}function eG(i){const e=i.trim().replace(/(s|'s|'|,|\.|!||\?|:)/gi,"");return{word:e,remainder:i.trim().replace(e,"")}}function fo(i){const{word:e,type:t,value:n,remainder:r,raw:s,uom:l}=i,o=KV[t]||"";return{id:(e.search(/\(/)>-1?e.replace(o,"").split("(")[0]:e.replace(o,"")).toLowerCase(),raw:s||e||"",prefix:o,type:t,value:n,remainder:r,uom:l}}const Gf=(i="")=>{const e=gN(i);if(e.length)return e[0]},gN=(i="")=>{const e=i.split(/\r?\n/),t=[];return e.forEach(n=>{Yo(n).forEach(s=>{t.push(s)}),e.length>1&&t.push(fo({type:"line-break",word:""}))}),t},Yo=(i="")=>i.trim().replace(/\n/g,` 
 `).split(" ").map(t=>{const n=eG(t),r=JV(t),s=t.trim().substring(0,1);if(s==="#"&&t.length>1)return t.match(/\d\d:\d\d/)?fo({type:"tracker",word:t.trim(),value:r.value,remainder:n.remainder.replace(t,""),uom:r.uom}):fo({type:"tracker",word:n.word,raw:t.trim(),value:r.value,remainder:n.remainder.replace(t,"").trim(),uom:r.uom});if(s==="@"&&t.length>1)return fo({type:"person",word:n.word.toLowerCase(),raw:t.trim(),value:r.value,remainder:n.remainder,uom:r.uom});if(s==="+"&&t.length>1)return fo({type:"context",word:n.word,raw:t.trim(),value:r.value,remainder:n.remainder,uom:r.uom});if(t.search(/(\w){3}:\/\/(\w)/)>-1)return fo({type:"link",word:t.trim().replace(/(https|http):\/\//gi,""),raw:t.trim()});if(t==`
`)return fo({type:"line-break",word:`
`});if(t)return fo({type:"generic",word:t.trim()})}).filter(t=>t);function vf(i="",e){return e=e||{},Yo(i).filter(t=>e.includeGeneric?!0:t.type!=="generic"&&t.type!=="line-break")}function tG(i){const e=vf(i);return e.length?e[0]:(i.length&&e.push({id:KW(i),prefix:"",raw:i,type:"generic"}),e.length?e[0]:null)}function nG(i="",e="generic"){switch(e){case"tracker":return`#${i}`;case"person":return`@${i}`;case"context":return`+${i}`;default:return i}}const Zf={parse:vf,toElement:tG,generateRaw:nG,people(i){return vf(i).filter(e=>e.type=="person")},trackers(i){return vf(i).filter(e=>e.type=="tracker")},context(i){return vf(i).filter(e=>e.type=="context")}};function iG(i){return!isNaN(i)&&i!==null&&i!==void 0}function rG(i){return Number(i)===i&&i%1!==0}function sG(i){let e=0,t=null,a={"*":u=>{e=e*u},"-":u=>{e=e-u},"+":u=>{e=e+u},"/":u=>{e=e/u},".":u=>{rG(e)||(e=parseFloat(`${e}.${u}`))}};return i.forEach((u,c)=>{iG(u)?c==0?e=u:t&&t(u):a[u]&&(t=a[u])}),i.length?e:0}function lG(i,e){for(var t,n=-1,r=i.length;++n<r;){var s=e(i[n]);s!==void 0&&(t=t===void 0?s:t+s)}return t}var vN=lG,oG=vN,aG=0/0;function uG(i,e){var t=i==null?0:i.length;return t?oG(i,e)/t:aG}var cG=uG;function fG(i){return i}var bp=fG,dG=cG,hG=bp;function mG(i){return dG(i,hG)}var pG=mG,_G=A0;function gG(i,e,t){for(var n=-1,r=i.length;++n<r;){var s=i[n],l=e(s);if(l!=null&&(o===void 0?l===l&&!_G(l):t(l,o)))var o=l,a=s}return a}var bN=gG;function vG(i,e){return i<e}var bG=vG,kG=bN,yG=bG,wG=bp;function $G(i){return i&&i.length?kG(i,wG,yG):void 0}var FG=$G,EG=vN,DG=bp;function CG(i){return i&&i.length?EG(i,DG):0}var SG=CG;function TG(i,e){return i>e}var AG=TG,PG=bN,NG=AG,MG=bp;function LG(i){return i&&i.length?PG(i,MG,NG):void 0}var OG=LG,IG=Math.floor,BG=Math.random;function zG(i,e){return i+IG(BG()*(e-i+1))}var kN=zG;function RG(i,e){return i===e||i!==i&&e!==e}var yN=RG;function jG(i){var e=typeof i;return i!=null&&(e=="object"||e=="function")}var Fc=jG,YG=Fd,UG=Fc,qG="[object AsyncFunction]",HG="[object Function]",WG="[object GeneratorFunction]",VG="[object Proxy]";function GG(i){if(!UG(i))return!1;var e=YG(i);return e==HG||e==WG||e==qG||e==VG}var wN=GG,ZG=9007199254740991;function xG(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=ZG}var $N=xG,XG=wN,KG=$N;function JG(i){return i!=null&&KG(i.length)&&!XG(i)}var FN=JG,QG=9007199254740991,eZ=/^(?:0|[1-9]\d*)$/;function tZ(i,e){var t=typeof i;return e=e==null?QG:e,!!e&&(t=="number"||t!="symbol"&&eZ.test(i))&&i>-1&&i%1==0&&i<e}var EN=tZ,nZ=yN,iZ=FN,rZ=EN,sZ=Fc;function lZ(i,e,t){if(!sZ(t))return!1;var n=typeof e;return(n=="number"?iZ(t)&&rZ(e,t.length):n=="string"&&e in t)?nZ(t[e],i):!1}var DN=lZ,oZ=/\s/;function aZ(i){for(var e=i.length;e--&&oZ.test(i.charAt(e)););return e}var uZ=aZ,cZ=uZ,fZ=/^\s+/;function dZ(i){return i&&i.slice(0,cZ(i)+1).replace(fZ,"")}var hZ=dZ,mZ=hZ,vk=Fc,pZ=A0,bk=0/0,_Z=/^[-+]0x[0-9a-f]+$/i,gZ=/^0b[01]+$/i,vZ=/^0o[0-7]+$/i,bZ=parseInt;function kZ(i){if(typeof i=="number")return i;if(pZ(i))return bk;if(vk(i)){var e=typeof i.valueOf=="function"?i.valueOf():i;i=vk(e)?e+"":e}if(typeof i!="string")return i===0?i:+i;i=mZ(i);var t=gZ.test(i);return t||vZ.test(i)?bZ(i.slice(2),t?2:8):_Z.test(i)?bk:+i}var H0=kZ,yZ=H0,kk=1/0,wZ=17976931348623157e292;function $Z(i){if(!i)return i===0?i:0;if(i=yZ(i),i===kk||i===-kk){var e=i<0?-1:1;return e*wZ}return i===i?i:0}var CN=$Z,FZ=kN,EZ=DN,yk=CN,DZ=parseFloat,CZ=Math.min,SZ=Math.random;function TZ(i,e,t){if(t&&typeof t!="boolean"&&EZ(i,e,t)&&(e=t=void 0),t===void 0&&(typeof e=="boolean"?(t=e,e=void 0):typeof i=="boolean"&&(t=i,i=void 0)),i===void 0&&e===void 0?(i=0,e=1):(i=yk(i),e===void 0?(e=i,i=0):e=yk(e)),i>e){var n=i;i=e,e=n}if(t||i%1||e%1){var r=SZ();return CZ(i+r*(e-i+DZ("1e-"+((r+"").length-1))),e)}return FZ(i,e)}var AZ=TZ,PZ=CN;function NZ(i){var e=PZ(i),t=e%1;return e===e?t?e-t:e:0}var W0=NZ,MZ=xa,LZ=W0,OZ=H0,wk=kc,IZ=MZ.isFinite,BZ=Math.min;function zZ(i){var e=Math[i];return function(t,n){if(t=OZ(t),n=n==null?0:BZ(LZ(n),292),n&&IZ(t)){var r=(wk(t)+"e").split("e"),s=e(r[0]+"e"+(+r[1]+n));return r=(wk(s)+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return e(t)}}var RZ=zZ,jZ=RZ,YZ=jZ("round"),q_=YZ,UZ=kN;function qZ(i){var e=i.length;return e?i[UZ(0,e-1)]:void 0}var SN=qZ,HZ=XP;function WZ(i,e){return HZ(e,function(t){return i[t]})}var VZ=WZ;function GZ(i,e){for(var t=-1,n=Array(i);++t<i;)n[t]=e(t);return n}var ZZ=GZ,xZ=Fd,XZ=Ed,KZ="[object Arguments]";function JZ(i){return XZ(i)&&xZ(i)==KZ}var QZ=JZ,$k=QZ,ex=Ed,TN=Object.prototype,tx=TN.hasOwnProperty,nx=TN.propertyIsEnumerable,ix=$k(function(){return arguments}())?$k:function(i){return ex(i)&&tx.call(i,"callee")&&!nx.call(i,"callee")},rx=ix,Xg={exports:{}};function sx(){return!1}var lx=sx;(function(i,e){var t=xa,n=lx,r=e&&!e.nodeType&&e,s=r&&!0&&i&&!i.nodeType&&i,l=s&&s.exports===r,o=l?t.Buffer:void 0,a=o?o.isBuffer:void 0,u=a||n;i.exports=u})(Xg,Xg.exports);var ox=Fd,ax=$N,ux=Ed,cx="[object Arguments]",fx="[object Array]",dx="[object Boolean]",hx="[object Date]",mx="[object Error]",px="[object Function]",_x="[object Map]",gx="[object Number]",vx="[object Object]",bx="[object RegExp]",kx="[object Set]",yx="[object String]",wx="[object WeakMap]",$x="[object ArrayBuffer]",Fx="[object DataView]",Ex="[object Float32Array]",Dx="[object Float64Array]",Cx="[object Int8Array]",Sx="[object Int16Array]",Tx="[object Int32Array]",Ax="[object Uint8Array]",Px="[object Uint8ClampedArray]",Nx="[object Uint16Array]",Mx="[object Uint32Array]",si={};si[Ex]=si[Dx]=si[Cx]=si[Sx]=si[Tx]=si[Ax]=si[Px]=si[Nx]=si[Mx]=!0;si[cx]=si[fx]=si[$x]=si[dx]=si[Fx]=si[hx]=si[mx]=si[px]=si[_x]=si[gx]=si[vx]=si[bx]=si[kx]=si[yx]=si[wx]=!1;function Lx(i){return ux(i)&&ax(i.length)&&!!si[ox(i)]}var Ox=Lx;function Ix(i){return function(e){return i(e)}}var Bx=Ix,Kg={exports:{}};(function(i,e){var t=xP,n=e&&!e.nodeType&&e,r=n&&!0&&i&&!i.nodeType&&i,s=r&&r.exports===n,l=s&&t.process,o=function(){try{var a=r&&r.require&&r.require("util").types;return a||l&&l.binding&&l.binding("util")}catch{}}();i.exports=o})(Kg,Kg.exports);var zx=Ox,Rx=Bx,Fk=Kg.exports,Ek=Fk&&Fk.isTypedArray,jx=Ek?Rx(Ek):zx,Yx=jx,Ux=ZZ,qx=rx,Hx=T0,Wx=Xg.exports,Vx=EN,Gx=Yx,Zx=Object.prototype,xx=Zx.hasOwnProperty;function Xx(i,e){var t=Hx(i),n=!t&&qx(i),r=!t&&!n&&Wx(i),s=!t&&!n&&!r&&Gx(i),l=t||n||r||s,o=l?Ux(i.length,String):[],a=o.length;for(var u in i)(e||xx.call(i,u))&&!(l&&(u=="length"||r&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Vx(u,a)))&&o.push(u);return o}var Kx=Xx,Jx=Object.prototype;function Qx(i){var e=i&&i.constructor,t=typeof e=="function"&&e.prototype||Jx;return i===t}var eX=Qx;function tX(i,e){return function(t){return i(e(t))}}var nX=tX,iX=nX,rX=iX(Object.keys,Object),sX=rX,lX=eX,oX=sX,aX=Object.prototype,uX=aX.hasOwnProperty;function cX(i){if(!lX(i))return oX(i);var e=[];for(var t in Object(i))uX.call(i,t)&&t!="constructor"&&e.push(t);return e}var fX=cX,dX=Kx,hX=fX,mX=FN;function pX(i){return mX(i)?dX(i):hX(i)}var _X=pX,gX=VZ,vX=_X;function bX(i){return i==null?[]:gX(i,vX(i))}var kX=bX,yX=SN,wX=kX;function $X(i){return yX(wX(i))}var FX=$X,EX=SN,DX=FX,CX=T0;function SX(i){var e=CX(i)?EX:DX;return e(i)}var TX=SX,kr=function(i){this.value=i};kr.math={isDegree:!0,acos:function(i){return kr.math.isDegree?180/Math.PI*Math.acos(i):Math.acos(i)},add:function(i,e){return i+e},asin:function(i){return kr.math.isDegree?180/Math.PI*Math.asin(i):Math.asin(i)},atan:function(i){return kr.math.isDegree?180/Math.PI*Math.atan(i):Math.atan(i)},acosh:function(i){return Math.log(i+Math.sqrt(i*i-1))},asinh:function(i){return Math.log(i+Math.sqrt(i*i+1))},atanh:function(i){return Math.log((1+i)/(1-i))},C:function(i,e){var t=1,n=i-e,r=e;r<n&&(r=n,n=e);for(var s=r+1;s<=i;s++)t*=s;return t/kr.math.fact(n)},changeSign:function(i){return-i},cos:function(i){return kr.math.isDegree&&(i=kr.math.toRadian(i)),Math.cos(i)},cosh:function(i){return(Math.pow(Math.E,i)+Math.pow(Math.E,-1*i))/2},div:function(i,e){return i/e},fact:function(i){if(i%1!==0)return"NaN";for(var e=1,t=2;t<=i;t++)e*=t;return e},inverse:function(i){return 1/i},log:function(i){return Math.log(i)/Math.log(10)},mod:function(i,e){return i%e},mul:function(i,e){return i*e},P:function(i,e){for(var t=1,n=Math.floor(i)-Math.floor(e)+1;n<=Math.floor(i);n++)t*=n;return t},Pi:function(i,e,t){for(var n=1,r=i;r<=e;r++)n*=Number(t.postfixEval({n:r}));return n},pow10x:function(i){for(var e=1;i--;)e*=10;return e},sigma:function(i,e,t){for(var n=0,r=i;r<=e;r++)n+=Number(t.postfixEval({n:r}));return n},sin:function(i){return kr.math.isDegree&&(i=kr.math.toRadian(i)),Math.sin(i)},sinh:function(i){return(Math.pow(Math.E,i)-Math.pow(Math.E,-1*i))/2},sub:function(i,e){return i-e},tan:function(i){return kr.math.isDegree&&(i=kr.math.toRadian(i)),Math.tan(i)},tanh:function(i){return kr.sinha(i)/kr.cosha(i)},toRadian:function(i){return i*Math.PI/180},and:function(i,e){return i&e}};kr.Exception=function(i){this.message=i};var AX=kr,Kt=AX;function br(i,e){for(var t=0;t<i.length;t++)i[t]+=e;return i}var go=[{token:"sin",show:"sin",type:0,value:Kt.math.sin},{token:"cos",show:"cos",type:0,value:Kt.math.cos},{token:"tan",show:"tan",type:0,value:Kt.math.tan},{token:"pi",show:"&pi;",type:3,value:"PI"},{token:"(",show:"(",type:4,value:"("},{token:")",show:")",type:5,value:")"},{token:"P",show:"P",type:10,value:Kt.math.P},{token:"C",show:"C",type:10,value:Kt.math.C},{token:" ",show:" ",type:14,value:" ".anchor},{token:"asin",show:"asin",type:0,value:Kt.math.asin},{token:"acos",show:"acos",type:0,value:Kt.math.acos},{token:"atan",show:"atan",type:0,value:Kt.math.atan},{token:"7",show:"7",type:1,value:"7"},{token:"8",show:"8",type:1,value:"8"},{token:"9",show:"9",type:1,value:"9"},{token:"int",show:"Int",type:0,value:Math.floor},{token:"cosh",show:"cosh",type:0,value:Kt.math.cosh},{token:"acosh",show:"acosh",type:0,value:Kt.math.acosh},{token:"ln",show:" ln",type:0,value:Math.log},{token:"^",show:"^",type:10,value:Math.pow},{token:"root",show:"root",type:0,value:Math.sqrt},{token:"4",show:"4",type:1,value:"4"},{token:"5",show:"5",type:1,value:"5"},{token:"6",show:"6",type:1,value:"6"},{token:"/",show:"&divide;",type:2,value:Kt.math.div},{token:"!",show:"!",type:7,value:Kt.math.fact},{token:"tanh",show:"tanh",type:0,value:Kt.math.tanh},{token:"atanh",show:"atanh",type:0,value:Kt.math.atanh},{token:"Mod",show:" Mod ",type:2,value:Kt.math.mod},{token:"1",show:"1",type:1,value:"1"},{token:"2",show:"2",type:1,value:"2"},{token:"3",show:"3",type:1,value:"3"},{token:"*",show:"&times;",type:2,value:Kt.math.mul},{token:"sinh",show:"sinh",type:0,value:Kt.math.sinh},{token:"asinh",show:"asinh",type:0,value:Kt.math.asinh},{token:"e",show:"e",type:3,value:"E"},{token:"log",show:" log",type:0,value:Kt.math.log},{token:"0",show:"0",type:1,value:"0"},{token:".",show:".",type:6,value:"."},{token:"+",show:"+",type:9,value:Kt.math.add},{token:"-",show:"-",type:9,value:Kt.math.sub},{token:",",show:",",type:11,value:","},{token:"Sigma",show:"&Sigma;",type:12,value:Kt.math.sigma},{token:"n",show:"n",type:13,value:"n"},{token:"Pi",show:"&Pi;",type:12,value:Kt.math.Pi},{token:"pow",show:"pow",type:8,value:Math.pow,numberOfArguments:2},{token:"&",show:"&",type:9,value:Kt.math.and}],Jg={0:11,1:0,2:3,3:0,4:0,5:0,6:0,7:11,8:11,9:1,10:10,11:0,12:11,13:0,14:-1,15:11};for(var ph=0;ph<go.length;ph++)go[ph].precedence=Jg[go[ph].type];var qs={0:!0,1:!0,3:!0,4:!0,6:!0,8:!0,9:!0,12:!0,13:!0,14:!0,15:!0},bu={0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0,10:!0,11:!0,12:!0,13:!0,15:!0},PX={0:!0,3:!0,4:!0,8:!0,12:!0,13:!0,15:!0},ys={},nf={0:!0,1:!0,3:!0,4:!0,6:!0,8:!0,12:!0,13:!0,15:!0},NX={1:!0},wr=[[],["1","2","3","7","8","9","4","5","6","+","-","*","/","(",")","^","!","P","C","e","0",".",",","n"," ","&"],["pi","ln","Pi"],["sin","cos","tan","Del","int","Mod","log","pow"],["asin","acos","atan","cosh","root","tanh","sinh"],["acosh","atanh","asinh","Sigma"]];function MX(i,e,t,n){for(var r=0;r<n;r++)if(i[t+r]!==e[r])return!1;return!0}Kt.tokenTypes={FUNCTION_WITH_ONE_ARG:0,NUMBER:1,BINARY_OPERATOR_HIGH_PRECENDENCE:2,CONSTANT:3,OPENING_PARENTHESIS:4,CLOSING_PARENTHESIS:5,DECIMAL:6,POSTFIX_FUNCTION_WITH_ONE_ARG:7,FUNCTION_WITH_N_ARGS:8,BINARY_OPERATOR_LOW_PRECENDENCE:9,BINARY_OPERATOR_PERMUTATION:10,COMMA:11,EVALUATED_FUNCTION:12,EVALUATED_FUNCTION_PARAMETER:13,SPACE:14};Kt.addToken=function(i){for(var e=0;e<i.length;e++){var t=i[e].token.length,n=-1;i[e].type===Kt.tokenTypes.FUNCTION_WITH_N_ARGS&&i[e].numberOfArguments===void 0&&(i[e].numberOfArguments=2),wr[t]=wr[t]||[];for(var r=0;r<wr[t].length;r++)if(i[e].token===wr[t][r]){n=AN(wr[t][r],go);break}n===-1?(go.push(i[e]),i[e].precedence=Jg[i[e].type],wr.length<=i[e].token.length&&(wr[i[e].token.length]=[]),wr[i[e].token.length].push(i[e].token)):(go[n]=i[e],i[e].precedence=Jg[i[e].type])}};function AN(i,e){for(var t=0;t<e.length;t++)if(e[t].token===i)return t;return-1}function LX(i){for(var e=[],t=i.length,n,r,s,l=0;l<t;l++)if(!(l<t-1&&i[l]===" "&&i[l+1]===" ")){for(n="",r=i.length-l>wr.length-2?wr.length-1:i.length-l;r>0;r--)if(wr[r]!==void 0)for(s=0;s<wr[r].length;s++)MX(i,wr[r][s],l,r)&&(n=wr[r][s],s=wr[r].length,r=0);if(l+=n.length-1,n==="")throw new Kt.Exception("Can't understand after "+i.slice(l));e.push(go[AN(n,go)])}return e}var OX={value:Kt.math.changeSign,type:0,pre:21,show:"-"},_h={value:")",show:")",type:5,pre:0},rf={value:"(",type:4,pre:0,show:"("};Kt.lex=function(i,e){var t=[rf],n=[],r=i,s=qs,l=0,o=ys,a="",u;typeof e<"u"&&Kt.addToken(e);var c={},f=LX(r);for(u=0;u<f.length;u++){var d=f[u];if(d.type===14){if(u>0&&u<f.length-1&&f[u+1].type===1&&(f[u-1].type===1||f[u-1].type===6))throw new Kt.Exception("Unexpected Space");continue}var m=d.token,p=d.type,g=d.value,k=d.precedence,$=d.show,D=t[t.length-1],F;for(F=n.length;F--&&n[F]===0;)if([0,2,3,4,5,9,11,12,13].indexOf(p)!==-1){if(s[p]!==!0)throw new Kt.Exception(m+" is not allowed after "+a);t.push(_h),s=bu,o=nf,n.pop()}if(s[p]!==!0)throw new Kt.Exception(m+" is not allowed after "+a);if(o[p]===!0&&(p=2,g=Kt.math.mul,$="&times;",k=3,u=u-1),c={value:g,type:p,pre:k,show:$,numberOfArguments:d.numberOfArguments},p===0)s=qs,o=ys,br(n,2),t.push(c),f[u+1].type!==4&&(t.push(rf),n.push(2));else if(p===1)D.type===1?(D.value+=g,br(n,1)):t.push(c),s=bu,o=PX;else if(p===2)s=qs,o=ys,br(n,2),t.push(c);else if(p===3)t.push(c),s=bu,o=nf;else if(p===4)br(n,1),l++,s=qs,o=ys,t.push(c);else if(p===5){if(!l)throw new Kt.Exception("Closing parenthesis are more than opening one, wait What!!!");l--,s=bu,o=nf,t.push(c),br(n,1)}else if(p===6){if(D.hasDec)throw new Kt.Exception("Two decimals are not allowed in one number");D.type!==1&&(D={value:0,type:1,pre:0},t.push(D)),s=NX,br(n,1),o=ys,D.value+=g,D.hasDec=!0}else p===7&&(s=bu,o=nf,br(n,1),t.push(c));p===8?(s=qs,o=ys,br(n,d.numberOfArguments+2),t.push(c),f[u+1].type!==4&&(t.push(rf),n.push(d.numberOfArguments+2))):p===9?(D.type===9?D.value===Kt.math.add?(D.value=g,D.show=$,br(n,1)):D.value===Kt.math.sub&&$==="-"&&(D.value=Kt.math.add,D.show="+",br(n,1)):D.type!==5&&D.type!==7&&D.type!==1&&D.type!==3&&D.type!==13?m==="-"&&(s=qs,o=ys,br(n,2).push(2),t.push(OX),t.push(rf)):(t.push(c),br(n,2)),s=qs,o=ys):p===10?(s=qs,o=ys,br(n,2),t.push(c)):p===11?(s=qs,o=ys,t.push(c)):p===12?(s=qs,o=ys,br(n,6),t.push(c),f[u+1].type!==4&&(t.push(rf),n.push(6))):p===13&&(s=bu,o=nf,t.push(c)),br(n,-1),a=m}for(F=n.length;F--;)t.push(_h);if(s[5]!==!0)throw new Kt.Exception("complete the expression");for(;l--;)t.push(_h);return t.push(_h),new Kt(t)};var IX=Kt,Qg=IX;Qg.prototype.toPostfix=function(){for(var i=[],e,t,n,r,s,l=[{value:"(",type:4,pre:0}],o=this.value,a=1;a<o.length;a++)if(o[a].type===1||o[a].type===3||o[a].type===13)o[a].type===1&&(o[a].value=Number(o[a].value)),i.push(o[a]);else if(o[a].type===4)l.push(o[a]);else if(o[a].type===5)for(;(t=l.pop()).type!==4;)i.push(t);else if(o[a].type===11){for(;(t=l.pop()).type!==4;)i.push(t);l.push(t)}else{e=o[a],r=e.pre,s=l[l.length-1],n=s.pre;var u=s.value=="Math.pow"&&e.value=="Math.pow";if(r>n)l.push(e);else{for(;n>=r&&!u||u&&r<n;)t=l.pop(),s=l[l.length-1],i.push(t),n=s.pre,u=e.value=="Math.pow"&&s.value=="Math.pow";l.push(e)}}return new Qg(i)};var BX=Qg,Af=BX;Af.prototype.postfixEval=function(i){i=i||{},i.PI=Math.PI,i.E=Math.E;for(var e=[],t,n,r,s=this.value,l=typeof i.n<"u",o=0;o<s.length;o++)if(s[o].type===1)e.push({value:s[o].value,type:1});else if(s[o].type===3)e.push({value:i[s[o].value],type:1});else if(s[o].type===0)typeof e[e.length-1].type>"u"?e[e.length-1].value.push(s[o]):e[e.length-1].value=s[o].value(e[e.length-1].value);else if(s[o].type===7)typeof e[e.length-1].type>"u"?e[e.length-1].value.push(s[o]):e[e.length-1].value=s[o].value(e[e.length-1].value);else if(s[o].type===8){for(var a=[],u=0;u<s[o].numberOfArguments;u++)a.push(e.pop().value);e.push({type:1,value:s[o].value.apply(s[o],a.reverse())})}else s[o].type===10?(t=e.pop(),n=e.pop(),typeof n.type>"u"?(n.value=n.concat(t),n.value.push(s[o]),e.push(n)):typeof t.type>"u"?(t.unshift(n),t.push(s[o]),e.push(t)):e.push({type:1,value:s[o].value(n.value,t.value)})):s[o].type===2||s[o].type===9?(t=e.pop(),n=e.pop(),typeof n.type>"u"?(n=n.concat(t),n.push(s[o]),e.push(n)):typeof t.type>"u"?(t.unshift(n),t.push(s[o]),e.push(t)):e.push({type:1,value:s[o].value(n.value,t.value)})):s[o].type===12?(t=e.pop(),typeof t.type<"u"&&(t=[t]),n=e.pop(),r=e.pop(),e.push({type:1,value:s[o].value(r.value,n.value,new Af(t))})):s[o].type===13&&(l?e.push({value:i[s[o].value],type:3}):e.push([s[o]]));if(e.length>1)throw new Af.Exception("Uncaught Syntax error");return e[0].value>1e15?"Infinity":parseFloat(e[0].value.toFixed(15))};Af.eval=function(i,e,t){return typeof e>"u"?this.lex(i).toPostfix().postfixEval():typeof t>"u"?typeof e.length<"u"?this.lex(i,e).toPostfix().postfixEval():this.lex(i).toPostfix().postfixEval(e):this.lex(i,e).toPostfix().postfixEval(t)};var zX=Af,PN=zX;PN.prototype.formulaEval=function(){for(var i,e,t,n=[],r=this.value,s=0;s<r.length;s++)r[s].type===1||r[s].type===3?n.push({value:r[s].type===3?r[s].show:r[s].value,type:1}):r[s].type===13?n.push({value:r[s].show,type:1}):r[s].type===0?n[n.length-1]={value:r[s].show+(r[s].show!="-"?"(":"")+n[n.length-1].value+(r[s].show!="-"?")":""),type:0}:r[s].type===7?n[n.length-1]={value:(n[n.length-1].type!=1?"(":"")+n[n.length-1].value+(n[n.length-1].type!=1?")":"")+r[s].show,type:7}:r[s].type===10?(i=n.pop(),e=n.pop(),r[s].show==="P"||r[s].show==="C"?n.push({value:"<sup>"+e.value+"</sup>"+r[s].show+"<sub>"+i.value+"</sub>",type:10}):n.push({value:(e.type!=1?"(":"")+e.value+(e.type!=1?")":"")+"<sup>"+i.value+"</sup>",type:1})):r[s].type===2||r[s].type===9?(i=n.pop(),e=n.pop(),n.push({value:(e.type!=1?"(":"")+e.value+(e.type!=1?")":"")+r[s].show+(i.type!=1?"(":"")+i.value+(i.type!=1?")":""),type:r[s].type})):r[s].type===12&&(i=n.pop(),e=n.pop(),t=n.pop(),n.push({value:r[s].show+"("+t.value+","+e.value+","+i.value+")",type:12}));return n[0].value};var RX=PN;const ht={evaluate(i){return RX(i)},sum:i=>(i||[]).length?SG(i):0,round:(i,e)=>(e=e||100,Math.round(e*i)/e),max:i=>(i||[]).length?OG([...i]):0,min:(i,e=!1)=>i.length?(i=e==!0?i:i.filter(t=>t),FG(i)):0,average:(i,e)=>(i=i||[0],i=i.length?i:[0],e&&(i=e?i.filter(t=>t):i),q_(pG(i),2)||0),percentage:(i,e,t)=>q_(t?(i-e)/i*100:100-(i-e)/i*100),random_range:(i,e)=>AZ(i,e),random:i=>TX(i),percentile(i){const e=this.sum(i);return i.map(t=>this.percentage(e,t))},trustfulNumber(i,e){return isNaN(i)?e:i},isNumber(i){return!isNaN(i)&&i!==null&&i!==void 0},isInt(i){return Number(i)===i&&i%1===0},isFloat(i){return Number(i)===i&&i%1!==0},calculate(i){return sG(i)}},Nn=i=>{if(typeof i=="number")return Math.round(100*i)/100;if(typeof i=="string"&&i.search(/\./)>-1){const e=parseFloat(`${i}`);return Math.round(100*e)/100}return typeof i=="string"?parseInt(`${i}`):NaN};function Ja(i,e,t){e=e||new Date;let n=Zf.trackers(i||"");t=t||{};let r=n.map(s=>t[s.id]?Wf(Nn(s.value),t[s.id],e):0);return ht.sum(r)}const xf=i=>{if(i){const e=i.getBoundingClientRect(),t=document.body,n=document.documentElement,r=window.pageYOffset||n.scrollTop||t.scrollTop,s=window.pageXOffset||n.scrollLeft||t.scrollLeft,l=n.clientTop||t.clientTop||0,o=n.clientLeft||t.clientLeft||0,a=e.top+r-l,u=e.left+s-o;return{top:Math.round(a),left:Math.round(u),eleHeight:e.height,eleWidth:e.width}}};function jX(){let i={visible:!1,buttons:[],caller:void 0};const{subscribe:e,set:t,update:n}=Bt(i);async function r(o,a){n(u=>(u.buttons=o,u.caller=a,u.visible=!0,u))}function s(){n(o=>(o.onCancel&&o.onCancel(),o.visible=!1,o.onClick=void 0,o.onCancel=void 0,o))}function l(){n(o=>(o.visible=!1,o.title=void 0,o.buttons=[],o.emoji=void 0,o.onCancel=void 0,o.onClick=void 0,o))}return{subscribe:e,update:n,set:t,cancel:s,present:r,close:l}}const e1=jX(),V0=Bt(!1),YX=()=>{V0.update(i=>!0)},NN=()=>{V0.update(i=>!1)},G0=(i,e)=>{pn(),e1.present(e,i)};class Uo{constructor(e,t=!0){Ne(this,"label");Ne(this,"render");this.label=e,this.render=t}success(e,t){this.render&&(console.log("\u2705 \u2705 \u2705 \u2705 "+this.label),this.showArgs("\u2705 ",arguments),console.log(""))}log(e,t){this.render&&this.showArgs(`${this.label} \u21A0`,arguments)}error(e){console.log("\u{1F4DB} \u{1F4DB} \u{1F4DB} \u{1F4DB} \u{1F4DB} \u{1F4DB} "),console.log("\u{1F4DB} "+this.label),this.showArgs("\u{1F4DB}",arguments),console.log("\u{1F4DB} \u{1F4DB} \u{1F4DB} \u{1F4DB} \u{1F4DB} \u{1F4DB} "),console.log("")}notice(e){console.log("\u{1F46F}\u{1F46F}\u{1F46F}\u{1F46F}\u{1F46F}\u{1F46F}\u{1F46F}\u{1F46F}\u{1F46F}\u{1F46F}\u{1F46F}\u{1F46F}\u{1F46F}\u{1F46F}\u{1F46F}\u{1F46F}\u{1F46F}"),console.log("\u{1F46F} "+this.label),this.showArgs("\u{1F46F}",arguments),console.log("\u{1F46F}\u{1F46F}\u{1F46F}\u{1F46F}\u{1F46F}\u{1F46F}\u{1F46F}\u{1F46F}\u{1F46F}\u{1F46F}\u{1F46F}\u{1F46F}\u{1F46F}\u{1F46F}\u{1F46F}\u{1F46F}\u{1F46F}"),console.log("")}showArgs(e,t){if(t)for(let n=0;n<t.length;n++)console.log(n==0?"\u2B50\uFE0F "+e:"\u2728   ",t[n])}}function Ps(i){return Ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ps(i)}function UX(i,e){if(Ps(i)!=="object"||i===null)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var n=t.call(i,e||"default");if(Ps(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function MN(i){var e=UX(i,"string");return Ps(e)==="symbol"?e:String(e)}function qX(i,e,t){return e=MN(e),e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function Ar(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&n.push.apply(n,Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.forEach(function(r){qX(i,r,t[r])})}return i}function Hl(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function Dk(i,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,MN(n.key),n)}}function Wl(i,e,t){return e&&Dk(i.prototype,e),t&&Dk(i,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function La(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function Xf(i,e){if(e&&(Ps(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return La(i)}function tc(i){return tc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},tc(i)}function t1(i,e){return t1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},t1(i,e)}function kp(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&t1(i,e)}function n1(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=i[t];return n}function HX(i){if(Array.isArray(i))return n1(i)}function WX(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function LN(i,e){if(!!i){if(typeof i=="string")return n1(i,e);var t=Object.prototype.toString.call(i).slice(8,-1);if(t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set")return Array.from(i);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return n1(i,e)}}function VX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GX(i){return HX(i)||WX(i)||LN(i)||VX()}function ZX(i){if(Array.isArray(i))return i}function xX(i,e){var t=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(t!=null){var n,r,s,l,o=[],a=!0,u=!1;try{if(s=(t=t.call(i)).next,e===0){if(Object(t)!==t)return;a=!1}else for(;!(a=(n=s.call(t)).done)&&(o.push(n.value),o.length!==e);a=!0);}catch(c){u=!0,r=c}finally{try{if(!a&&t.return!=null&&(l=t.return(),Object(l)!==l))return}finally{if(u)throw r}}return o}}function XX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ck(i,e){return ZX(i)||xX(i,e)||LN(i,e)||XX()}var KX={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){var n;console&&console[e]&&(n=console)[e].apply(n,GX(t))}},JX=function(){function i(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Hl(this,i),this.init(e,t)}return Wl(i,[{key:"init",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=t||KX,this.options=n,this.debug=n.debug}},{key:"setDebug",value:function(t){this.debug=t}},{key:"log",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}},{key:"warn",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}},{key:"error",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"error","")}},{key:"deprecate",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(t,n,r,s){return s&&!this.debug?null:(typeof t[0]=="string"&&(t[0]="".concat(r).concat(this.prefix," ").concat(t[0])),this.logger[n](t))}},{key:"create",value:function(t){return new i(this.logger,Ar({},{prefix:"".concat(this.prefix,":").concat(t,":")},this.options))}}]),i}(),Ml=new JX,Fo=function(){function i(){Hl(this,i),this.observers={}}return Wl(i,[{key:"on",value:function(t,n){var r=this;return t.split(" ").forEach(function(s){r.observers[s]=r.observers[s]||[],r.observers[s].push(n)}),this}},{key:"off",value:function(t,n){if(!!this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t]=this.observers[t].filter(function(r){return r!==n})}}},{key:"emit",value:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];if(this.observers[t]){var l=[].concat(this.observers[t]);l.forEach(function(a){a.apply(void 0,r)})}if(this.observers["*"]){var o=[].concat(this.observers["*"]);o.forEach(function(a){a.apply(a,[t].concat(r))})}}}]),i}();function sf(){var i,e,t=new Promise(function(n,r){i=n,e=r});return t.resolve=i,t.reject=e,t}function H_(i){return i==null?"":""+i}function QX(i,e,t){i.forEach(function(n){e[n]&&(t[n]=e[n])})}function Z0(i,e,t){function n(o){return o&&o.indexOf("###")>-1?o.replace(/###/g,"."):o}function r(){return!i||typeof i=="string"}for(var s=typeof e!="string"?[].concat(e):e.split(".");s.length>1;){if(r())return{};var l=n(s.shift());!i[l]&&t&&(i[l]=new t),i=i[l]}return r()?{}:{obj:i,k:n(s.shift())}}function Sk(i,e,t){var n=Z0(i,e,Object),r=n.obj,s=n.k;r[s]=t}function eK(i,e,t,n){var r=Z0(i,e,Object),s=r.obj,l=r.k;s[l]=s[l]||[],n&&(s[l]=s[l].concat(t)),n||s[l].push(t)}function fm(i,e){var t=Z0(i,e),n=t.obj,r=t.k;if(!!n)return n[r]}function Tk(i,e,t){var n=fm(i,t);return n!==void 0?n:fm(e,t)}function ON(i,e,t){for(var n in e)n in i?typeof i[n]=="string"||i[n]instanceof String||typeof e[n]=="string"||e[n]instanceof String?t&&(i[n]=e[n]):ON(i[n],e[n],t):i[n]=e[n];return i}function ku(i){return i.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var tK={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function nK(i){return typeof i=="string"?i.replace(/[&<>"'\/]/g,function(e){return tK[e]}):i}var iK=function(i){kp(e,i);function e(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return Hl(this,e),n=Xf(this,tc(e).call(this)),Fo.call(La(n)),n.data=t||{},n.options=r,n.options.keySeparator===void 0&&(n.options.keySeparator="."),n}return Wl(e,[{key:"addNamespaces",value:function(n){this.options.ns.indexOf(n)<0&&this.options.ns.push(n)}},{key:"removeNamespaces",value:function(n){var r=this.options.ns.indexOf(n);r>-1&&this.options.ns.splice(r,1)}},{key:"getResource",value:function(n,r,s){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator,a=[n,r];return s&&typeof s!="string"&&(a=a.concat(s)),s&&typeof s=="string"&&(a=a.concat(o?s.split(o):s)),n.indexOf(".")>-1&&(a=n.split(".")),fm(this.data,a)}},{key:"addResource",value:function(n,r,s,l){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},a=this.options.keySeparator;a===void 0&&(a=".");var u=[n,r];s&&(u=u.concat(a?s.split(a):s)),n.indexOf(".")>-1&&(u=n.split("."),l=r,r=u[1]),this.addNamespaces(r),Sk(this.data,u,l),o.silent||this.emit("added",n,r,s,l)}},{key:"addResources",value:function(n,r,s){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var o in s)(typeof s[o]=="string"||Object.prototype.toString.apply(s[o])==="[object Array]")&&this.addResource(n,r,o,s[o],{silent:!0});l.silent||this.emit("added",n,r,s)}},{key:"addResourceBundle",value:function(n,r,s,l,o){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},u=[n,r];n.indexOf(".")>-1&&(u=n.split("."),l=s,s=r,r=u[1]),this.addNamespaces(r);var c=fm(this.data,u)||{};l?ON(c,s,o):c=Ar({},c,s),Sk(this.data,u,c),a.silent||this.emit("added",n,r,s)}},{key:"removeResourceBundle",value:function(n,r){this.hasResourceBundle(n,r)&&delete this.data[n][r],this.removeNamespaces(r),this.emit("removed",n,r)}},{key:"hasResourceBundle",value:function(n,r){return this.getResource(n,r)!==void 0}},{key:"getResourceBundle",value:function(n,r){return r||(r=this.options.defaultNS),this.options.compatibilityAPI==="v1"?Ar({},{},this.getResource(n,r)):this.getResource(n,r)}},{key:"getDataByLanguage",value:function(n){return this.data[n]}},{key:"toJSON",value:function(){return this.data}}]),e}(Fo),IN={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,r,s){var l=this;return e.forEach(function(o){l.processors[o]&&(t=l.processors[o].process(t,n,r,s))}),t}},Ak=function(i){kp(e,i);function e(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Hl(this,e),n=Xf(this,tc(e).call(this)),Fo.call(La(n)),QX(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,La(n)),n.options=r,n.options.keySeparator===void 0&&(n.options.keySeparator="."),n.logger=Ml.create("translator"),n}return Wl(e,[{key:"changeLanguage",value:function(n){n&&(this.language=n)}},{key:"exists",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},s=this.resolve(n,r);return s&&s.res!==void 0}},{key:"extractFromKey",value:function(n,r){var s=r.nsSeparator||this.options.nsSeparator;s===void 0&&(s=":");var l=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,o=r.ns||this.options.defaultNS;if(s&&n.indexOf(s)>-1){var a=n.split(s);(s!==l||s===l&&this.options.ns.indexOf(a[0])>-1)&&(o=a.shift()),n=a.join(l)}return typeof o=="string"&&(o=[o]),{key:n,namespaces:o}}},{key:"translate",value:function(n,r){var s=this;if(Ps(r)!=="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),r||(r={}),n==null)return"";Array.isArray(n)||(n=[String(n)]);var l=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,o=this.extractFromKey(n[n.length-1],r),a=o.key,u=o.namespaces,c=u[u.length-1],f=r.lng||this.language,d=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(f&&f.toLowerCase()==="cimode"){if(d){var m=r.nsSeparator||this.options.nsSeparator;return c+m+a}return a}var p=this.resolve(n,r),g=p&&p.res,k=p&&p.usedKey||a,$=p&&p.exactUsedKey||a,D=Object.prototype.toString.apply(g),F=["[object Number]","[object Function]","[object RegExp]"],C=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,S=!this.i18nFormat||this.i18nFormat.handleAsObject,P=typeof g!="string"&&typeof g!="boolean"&&typeof g!="number";if(S&&g&&P&&F.indexOf(D)<0&&!(typeof C=="string"&&D==="[object Array]")){if(!r.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(k,g,r):"key '".concat(a," (").concat(this.language,")' returned an object instead of string.");if(l){var I=D==="[object Array]",R=I?[]:{},B=I?$:k;for(var z in g)if(Object.prototype.hasOwnProperty.call(g,z)){var q="".concat(B).concat(l).concat(z);R[z]=this.translate(q,Ar({},r,{joinArrays:!1,ns:u})),R[z]===q&&(R[z]=g[z])}g=R}}else if(S&&typeof C=="string"&&D==="[object Array]")g=g.join(C),g&&(g=this.extendTranslation(g,n,r));else{var H=!1,K=!1;if(!this.isValidLookup(g)&&r.defaultValue!==void 0){if(H=!0,r.count!==void 0){var G=this.pluralResolver.getSuffix(f,r.count);g=r["defaultValue".concat(G)]}g||(g=r.defaultValue)}this.isValidLookup(g)||(K=!0,g=a);var U=r.defaultValue&&r.defaultValue!==g&&this.options.updateMissing;if(K||H||U){this.logger.log(U?"updateKey":"missingKey",f,c,a,U?r.defaultValue:g);var Q=[],V=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&V&&V[0])for(var x=0;x<V.length;x++)Q.push(V[x]);else this.options.saveMissingTo==="all"?Q=this.languageUtils.toResolveHierarchy(r.lng||this.language):Q.push(r.lng||this.language);var ee=function(te,ge){s.options.missingKeyHandler?s.options.missingKeyHandler(te,c,ge,U?r.defaultValue:g,U,r):s.backendConnector&&s.backendConnector.saveMissing&&s.backendConnector.saveMissing(te,c,ge,U?r.defaultValue:g,U,r),s.emit("missingKey",te,c,ge,g)};if(this.options.saveMissing){var J=r.count!==void 0&&typeof r.count!="string";this.options.saveMissingPlurals&&J?Q.forEach(function(se){var te=s.pluralResolver.getPluralFormsOfKey(se,a);te.forEach(function(ge){return ee([se],ge)})}):ee(Q,a)}}g=this.extendTranslation(g,n,r,p),K&&g===a&&this.options.appendNamespaceToMissingKey&&(g="".concat(c,":").concat(a)),K&&this.options.parseMissingKeyHandler&&(g=this.options.parseMissingKeyHandler(g))}return g}},{key:"extendTranslation",value:function(n,r,s,l){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)n=this.i18nFormat.parse(n,s,l.usedLng,l.usedNS,l.usedKey,{resolved:l});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init(Ar({},s,{interpolation:Ar({},this.options.interpolation,s.interpolation)}));var a=s.replace&&typeof s.replace!="string"?s.replace:s;this.options.interpolation.defaultVariables&&(a=Ar({},this.options.interpolation.defaultVariables,a)),n=this.interpolator.interpolate(n,a,s.lng||this.language,s),s.nest!==!1&&(n=this.interpolator.nest(n,function(){return o.translate.apply(o,arguments)},s)),s.interpolation&&this.interpolator.reset()}var u=s.postProcess||this.options.postProcess,c=typeof u=="string"?[u]:u;return n!=null&&c&&c.length&&s.applyPostProcessor!==!1&&(n=IN.handle(c,n,r,this.options&&this.options.postProcessPassResolved?Ar({i18nResolved:l},s):s,this)),n}},{key:"resolve",value:function(n){var r=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l,o,a,u,c;return typeof n=="string"&&(n=[n]),n.forEach(function(f){if(!r.isValidLookup(l)){var d=r.extractFromKey(f,s),m=d.key;o=m;var p=d.namespaces;r.options.fallbackNS&&(p=p.concat(r.options.fallbackNS));var g=s.count!==void 0&&typeof s.count!="string",k=s.context!==void 0&&typeof s.context=="string"&&s.context!=="",$=s.lngs?s.lngs:r.languageUtils.toResolveHierarchy(s.lng||r.language,s.fallbackLng);p.forEach(function(D){r.isValidLookup(l)||(c=D,r.utils&&r.utils.hasLoadedNamespace&&!r.utils.hasLoadedNamespace(c)&&r.logger.warn('key "'.concat(o,'" for namespace "').concat(c,`" won't get resolved as namespace was not yet loaded`),"This means something IS WRONG in your application setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"),$.forEach(function(F){if(!r.isValidLookup(l)){u=F;var C=m,S=[C];if(r.i18nFormat&&r.i18nFormat.addLookupKeys)r.i18nFormat.addLookupKeys(S,m,F,D,s);else{var P;g&&(P=r.pluralResolver.getSuffix(F,s.count)),g&&k&&S.push(C+P),k&&S.push(C+="".concat(r.options.contextSeparator).concat(s.context)),g&&S.push(C+=P)}for(var I;I=S.pop();)r.isValidLookup(l)||(a=I,l=r.getResource(F,D,I,s))}}))})}}),{res:l,usedKey:o,exactUsedKey:a,usedLng:u,usedNS:c}}},{key:"isValidLookup",value:function(n){return n!==void 0&&!(!this.options.returnNull&&n===null)&&!(!this.options.returnEmptyString&&n==="")}},{key:"getResource",value:function(n,r,s){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(n,r,s,l):this.resourceStore.getResource(n,r,s,l)}}]),e}(Fo);function W_(i){return i.charAt(0).toUpperCase()+i.slice(1)}var rK=function(){function i(e){Hl(this,i),this.options=e,this.whitelist=this.options.whitelist||!1,this.logger=Ml.create("languageUtils")}return Wl(i,[{key:"getScriptPartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return null;var n=t.split("-");return n.length===2?null:(n.pop(),this.formatLanguageCode(n.join("-")))}},{key:"getLanguagePartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return t;var n=t.split("-");return this.formatLanguageCode(n[0])}},{key:"formatLanguageCode",value:function(t){if(typeof t=="string"&&t.indexOf("-")>-1){var n=["hans","hant","latn","cyrl","cans","mong","arab"],r=t.split("-");return this.options.lowerCaseLng?r=r.map(function(s){return s.toLowerCase()}):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=W_(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=W_(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=W_(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}},{key:"isWhitelisted",value:function(t){return(this.options.load==="languageOnly"||this.options.nonExplicitWhitelist)&&(t=this.getLanguagePartFromCode(t)),!this.whitelist||!this.whitelist.length||this.whitelist.indexOf(t)>-1}},{key:"getFallbackCodes",value:function(t,n){if(!t)return[];if(typeof t=="string"&&(t=[t]),Object.prototype.toString.apply(t)==="[object Array]")return t;if(!n)return t.default||[];var r=t[n];return r||(r=t[this.getScriptPartFromCode(n)]),r||(r=t[this.formatLanguageCode(n)]),r||(r=t.default),r||[]}},{key:"toResolveHierarchy",value:function(t,n){var r=this,s=this.getFallbackCodes(n||this.options.fallbackLng||[],t),l=[],o=function(u){!u||(r.isWhitelisted(u)?l.push(u):r.logger.warn("rejecting non-whitelisted language code: ".concat(u)))};return typeof t=="string"&&t.indexOf("-")>-1?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(t))):typeof t=="string"&&o(this.formatLanguageCode(t)),s.forEach(function(a){l.indexOf(a)<0&&o(r.formatLanguageCode(a))}),l}}]),i}(),sK=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he"],nr:[1,2,20,21],fc:22}],lK={1:function(e){return Number(e>1)},2:function(e){return Number(e!=1)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(e===0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(e==1?0:e>=2&&e<=4?1:2)},7:function(e){return Number(e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(e==1?0:e==2?1:e!=8&&e!=11?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(e==1?0:e==2?1:e<7?2:e<11?3:4)},11:function(e){return Number(e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(e!==0)},14:function(e){return Number(e==1?0:e==2?1:e==3?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:e!==0?1:2)},17:function(e){return Number(e==1||e%10==1?0:1)},18:function(e){return Number(e==0?0:e==1?1:2)},19:function(e){return Number(e==1?0:e===0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(e==1?0:e===0||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(e===1?0:e===2?1:(e<0||e>10)&&e%10==0?2:3)}};function oK(){var i={};return sK.forEach(function(e){e.lngs.forEach(function(t){i[t]={numbers:e.nr,plurals:lK[e.fc]}})}),i}var aK=function(){function i(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Hl(this,i),this.languageUtils=e,this.options=t,this.logger=Ml.create("pluralResolver"),this.rules=oK()}return Wl(i,[{key:"addRule",value:function(t,n){this.rules[t]=n}},{key:"getRule",value:function(t){return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}},{key:"needsPlural",value:function(t){var n=this.getRule(t);return n&&n.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(t,n){var r=this,s=[],l=this.getRule(t);return l&&l.numbers.forEach(function(o){var a=r.getSuffix(t,o);s.push("".concat(n).concat(a))}),s}},{key:"getSuffix",value:function(t,n){var r=this,s=this.getRule(t);if(s){var l=s.noAbs?s.plurals(n):s.plurals(Math.abs(n)),o=s.numbers[l];this.options.simplifyPluralSuffix&&s.numbers.length===2&&s.numbers[0]===1&&(o===2?o="plural":o===1&&(o=""));var a=function(){return r.options.prepend&&o.toString()?r.options.prepend+o.toString():o.toString()};return this.options.compatibilityJSON==="v1"?o===1?"":typeof o=="number"?"_plural_".concat(o.toString()):a():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&s.numbers.length===2&&s.numbers[0]===1?a():this.options.prepend&&l.toString()?this.options.prepend+l.toString():l.toString()}return this.logger.warn("no plural rule found for: ".concat(t)),""}}]),i}(),uK=function(){function i(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Hl(this,i),this.logger=Ml.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(t){return t},this.init(e)}return Wl(i,[{key:"init",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});var n=t.interpolation;this.escape=n.escape!==void 0?n.escape:nK,this.escapeValue=n.escapeValue!==void 0?n.escapeValue:!0,this.useRawValueToEscape=n.useRawValueToEscape!==void 0?n.useRawValueToEscape:!1,this.prefix=n.prefix?ku(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?ku(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?ku(n.nestingPrefix):n.nestingPrefixEscaped||ku("$t("),this.nestingSuffix=n.nestingSuffix?ku(n.nestingSuffix):n.nestingSuffixEscaped||ku(")"),this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var t="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(t,"g");var n="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(n,"g");var r="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(r,"g")}},{key:"interpolate",value:function(t,n,r,s){var l=this,o,a,u,c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function f(k){return k.replace(/\$/g,"$$$$")}var d=function($){if($.indexOf(l.formatSeparator)<0)return Tk(n,c,$);var D=$.split(l.formatSeparator),F=D.shift().trim(),C=D.join(l.formatSeparator).trim();return l.format(Tk(n,c,F),C,r)};this.resetRegExp();var m=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler;for(u=0;o=this.regexpUnescape.exec(t);){if(a=d(o[1].trim()),a===void 0)if(typeof m=="function"){var p=m(t,o,s);a=typeof p=="string"?p:""}else this.logger.warn("missed to pass in variable ".concat(o[1]," for interpolating ").concat(t)),a="";else typeof a!="string"&&!this.useRawValueToEscape&&(a=H_(a));if(t=t.replace(o[0],f(a)),this.regexpUnescape.lastIndex=0,u++,u>=this.maxReplaces)break}for(u=0;o=this.regexp.exec(t);){if(a=d(o[1].trim()),a===void 0)if(typeof m=="function"){var g=m(t,o,s);a=typeof g=="string"?g:""}else this.logger.warn("missed to pass in variable ".concat(o[1]," for interpolating ").concat(t)),a="";else typeof a!="string"&&!this.useRawValueToEscape&&(a=H_(a));if(a=this.escapeValue?f(this.escape(a)):f(a),t=t.replace(o[0],a),this.regexp.lastIndex=0,u++,u>=this.maxReplaces)break}return t}},{key:"nest",value:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,l,o=Ar({},r);o.applyPostProcessor=!1,delete o.defaultValue;function a(u,c){if(u.indexOf(",")<0)return u;var f=u.split(",");u=f.shift();var d=f.join(",");d=this.interpolate(d,o),d=d.replace(/'/g,'"');try{o=JSON.parse(d),c&&(o=Ar({},c,o))}catch(m){this.logger.error("failed parsing options string in nesting for key ".concat(u),m)}return delete o.defaultValue,u}for(;s=this.nestingRegexp.exec(t);){if(l=n(a.call(this,s[1].trim(),o),o),l&&s[0]===t&&typeof l!="string")return l;typeof l!="string"&&(l=H_(l)),l||(this.logger.warn("missed to resolve ".concat(s[1]," for nesting ").concat(t)),l=""),t=t.replace(s[0],l),this.regexp.lastIndex=0}return t}}]),i}();function cK(i,e){for(var t=i.indexOf(e);t!==-1;)i.splice(t,1),t=i.indexOf(e)}var fK=function(i){kp(e,i);function e(t,n,r){var s,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return Hl(this,e),s=Xf(this,tc(e).call(this)),Fo.call(La(s)),s.backend=t,s.store=n,s.services=r,s.languageUtils=r.languageUtils,s.options=l,s.logger=Ml.create("backendConnector"),s.state={},s.queue=[],s.backend&&s.backend.init&&s.backend.init(r,l.backend,l),s}return Wl(e,[{key:"queueLoad",value:function(n,r,s,l){var o=this,a=[],u=[],c=[],f=[];return n.forEach(function(d){var m=!0;r.forEach(function(p){var g="".concat(d,"|").concat(p);!s.reload&&o.store.hasResourceBundle(d,p)?o.state[g]=2:o.state[g]<0||(o.state[g]===1?u.indexOf(g)<0&&u.push(g):(o.state[g]=1,m=!1,u.indexOf(g)<0&&u.push(g),a.indexOf(g)<0&&a.push(g),f.indexOf(p)<0&&f.push(p)))}),m||c.push(d)}),(a.length||u.length)&&this.queue.push({pending:u,loaded:{},errors:[],callback:l}),{toLoad:a,pending:u,toLoadLanguages:c,toLoadNamespaces:f}}},{key:"loaded",value:function(n,r,s){var l=n.split("|"),o=Ck(l,2),a=o[0],u=o[1];r&&this.emit("failedLoading",a,u,r),s&&this.store.addResourceBundle(a,u,s),this.state[n]=r?-1:2;var c={};this.queue.forEach(function(f){eK(f.loaded,[a],u),cK(f.pending,n),r&&f.errors.push(r),f.pending.length===0&&!f.done&&(Object.keys(f.loaded).forEach(function(d){c[d]||(c[d]=[]),f.loaded[d].length&&f.loaded[d].forEach(function(m){c[d].indexOf(m)<0&&c[d].push(m)})}),f.done=!0,f.errors.length?f.callback(f.errors):f.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(function(f){return!f.done})}},{key:"read",value:function(n,r,s){var l=this,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:250,u=arguments.length>5?arguments[5]:void 0;return n.length?this.backend[s](n,r,function(c,f){if(c&&f&&o<5){setTimeout(function(){l.read.call(l,n,r,s,o+1,a*2,u)},a);return}u(c,f)}):u(null,{})}},{key:"prepareLoading",value:function(n,r){var s=this,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();typeof n=="string"&&(n=this.languageUtils.toResolveHierarchy(n)),typeof r=="string"&&(r=[r]);var a=this.queueLoad(n,r,l,o);if(!a.toLoad.length)return a.pending.length||o(),null;a.toLoad.forEach(function(u){s.loadOne(u)})}},{key:"load",value:function(n,r,s){this.prepareLoading(n,r,{},s)}},{key:"reload",value:function(n,r,s){this.prepareLoading(n,r,{reload:!0},s)}},{key:"loadOne",value:function(n){var r=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",l=n.split("|"),o=Ck(l,2),a=o[0],u=o[1];this.read(a,u,"read",null,null,function(c,f){c&&r.logger.warn("".concat(s,"loading namespace ").concat(u," for language ").concat(a," failed"),c),!c&&f&&r.logger.log("".concat(s,"loaded namespace ").concat(u," for language ").concat(a),f),r.loaded(n,c,f)})}},{key:"saveMissing",value:function(n,r,s,l,o){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(r)){this.logger.warn('did not save key "'.concat(s,'" for namespace "').concat(r,'" as the namespace was not yet loaded'),"This means something IS WRONG in your application setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}this.backend&&this.backend.create&&this.backend.create(n,r,s,l,null,Ar({},a,{isUpdate:o})),!(!n||!n[0])&&this.store.addResource(n[0],r,s,l)}}]),e}(Fo);function dK(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if(Ps(e[1])==="object"&&(t=e[1]),typeof e[1]=="string"&&(t.defaultValue=e[1]),typeof e[2]=="string"&&(t.tDescription=e[2]),Ps(e[2])==="object"||Ps(e[3])==="object"){var n=e[3]||e[2];Object.keys(n).forEach(function(r){t[r]=n[r]})}return t},interpolation:{escapeValue:!0,format:function(e,t,n){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",maxReplaces:1e3}}}function Pk(i){return typeof i.ns=="string"&&(i.ns=[i.ns]),typeof i.fallbackLng=="string"&&(i.fallbackLng=[i.fallbackLng]),typeof i.fallbackNS=="string"&&(i.fallbackNS=[i.fallbackNS]),i.whitelist&&i.whitelist.indexOf("cimode")<0&&(i.whitelist=i.whitelist.concat(["cimode"])),i}function gh(){}var hK=function(i){kp(e,i);function e(){var t,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(Hl(this,e),t=Xf(this,tc(e).call(this)),Fo.call(La(t)),t.options=Pk(n),t.services={},t.logger=Ml,t.modules={external:[]},r&&!t.isInitialized&&!n.isClone){if(!t.options.initImmediate)return t.init(n,r),Xf(t,La(t));setTimeout(function(){t.init(n,r)},0)}return t}return Wl(e,[{key:"init",value:function(){var n=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;typeof r=="function"&&(s=r,r={}),this.options=Ar({},dK(),this.options,Pk(r)),this.format=this.options.interpolation.format,s||(s=gh);function l(d){return d?typeof d=="function"?new d:d:null}if(!this.options.isClone){this.modules.logger?Ml.init(l(this.modules.logger),this.options):Ml.init(null,this.options);var o=new rK(this.options);this.store=new iK(this.options.resources,this.options);var a=this.services;a.logger=Ml,a.resourceStore=this.store,a.languageUtils=o,a.pluralResolver=new aK(o,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),a.interpolator=new uK(this.options),a.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},a.backendConnector=new fK(l(this.modules.backend),a.resourceStore,a,this.options),a.backendConnector.on("*",function(d){for(var m=arguments.length,p=new Array(m>1?m-1:0),g=1;g<m;g++)p[g-1]=arguments[g];n.emit.apply(n,[d].concat(p))}),this.modules.languageDetector&&(a.languageDetector=l(this.modules.languageDetector),a.languageDetector.init(a,this.options.detection,this.options)),this.modules.i18nFormat&&(a.i18nFormat=l(this.modules.i18nFormat),a.i18nFormat.init&&a.i18nFormat.init(this)),this.translator=new Ak(this.services,this.options),this.translator.on("*",function(d){for(var m=arguments.length,p=new Array(m>1?m-1:0),g=1;g<m;g++)p[g-1]=arguments[g];n.emit.apply(n,[d].concat(p))}),this.modules.external.forEach(function(d){d.init&&d.init(n)})}var u=["getResource","addResource","addResources","addResourceBundle","removeResourceBundle","hasResourceBundle","getResourceBundle","getDataByLanguage"];u.forEach(function(d){n[d]=function(){var m;return(m=n.store)[d].apply(m,arguments)}});var c=sf(),f=function(){n.changeLanguage(n.options.lng,function(m,p){n.isInitialized=!0,n.logger.log("initialized",n.options),n.emit("initialized",n.options),c.resolve(p),s(m,p)})};return this.options.resources||!this.options.initImmediate?f():setTimeout(f,0),c}},{key:"loadResources",value:function(){var n=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:gh;if(!this.options.resources||this.options.partialBundledLanguages){if(this.language&&this.language.toLowerCase()==="cimode")return r();var s=[],l=function(u){if(!!u){var c=n.services.languageUtils.toResolveHierarchy(u);c.forEach(function(f){s.indexOf(f)<0&&s.push(f)})}};if(this.language)l(this.language);else{var o=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);o.forEach(function(a){return l(a)})}this.options.preload&&this.options.preload.forEach(function(a){return l(a)}),this.services.backendConnector.load(s,this.options.ns,r)}else r(null)}},{key:"reloadResources",value:function(n,r,s){var l=sf();return n||(n=this.languages),r||(r=this.options.ns),s||(s=gh),this.services.backendConnector.reload(n,r,function(o){l.resolve(),s(o)}),l}},{key:"use",value:function(n){return n.type==="backend"&&(this.modules.backend=n),(n.type==="logger"||n.log&&n.warn&&n.error)&&(this.modules.logger=n),n.type==="languageDetector"&&(this.modules.languageDetector=n),n.type==="i18nFormat"&&(this.modules.i18nFormat=n),n.type==="postProcessor"&&IN.addPostProcessor(n),n.type==="3rdParty"&&this.modules.external.push(n),this}},{key:"changeLanguage",value:function(n,r){var s=this,l=sf();this.emit("languageChanging",n);var o=function(c,f){s.translator.changeLanguage(f),f&&(s.emit("languageChanged",f),s.logger.log("languageChanged",f)),l.resolve(function(){return s.t.apply(s,arguments)}),r&&r(c,function(){return s.t.apply(s,arguments)})},a=function(c){c&&(s.language=c,s.languages=s.services.languageUtils.toResolveHierarchy(c),s.translator.language||s.translator.changeLanguage(c),s.services.languageDetector&&s.services.languageDetector.cacheUserLanguage(c)),s.loadResources(function(f){o(f,c)})};return!n&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!n&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(a):a(n),l}},{key:"getFixedT",value:function(n,r){var s=this,l=function o(a,u){var c;if(Ps(u)!=="object"){for(var f=arguments.length,d=new Array(f>2?f-2:0),m=2;m<f;m++)d[m-2]=arguments[m];c=s.options.overloadTranslationOptionHandler([a,u].concat(d))}else c=Ar({},u);return c.lng=c.lng||o.lng,c.lngs=c.lngs||o.lngs,c.ns=c.ns||o.ns,s.t(a,c)};return typeof n=="string"?l.lng=n:l.lngs=n,l.ns=r,l}},{key:"t",value:function(){var n;return this.translator&&(n=this.translator).translate.apply(n,arguments)}},{key:"exists",value:function(){var n;return this.translator&&(n=this.translator).exists.apply(n,arguments)}},{key:"setDefaultNamespace",value:function(n){this.options.defaultNS=n}},{key:"hasLoadedNamespace",value:function(n){var r=this;if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var s=this.languages[0],l=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;var a=function(c,f){var d=r.services.backendConnector.state["".concat(c,"|").concat(f)];return d===-1||d===2};return!!(this.hasResourceBundle(s,n)||!this.services.backendConnector.backend||a(s,n)&&(!l||a(o,n)))}},{key:"loadNamespaces",value:function(n,r){var s=this,l=sf();return this.options.ns?(typeof n=="string"&&(n=[n]),n.forEach(function(o){s.options.ns.indexOf(o)<0&&s.options.ns.push(o)}),this.loadResources(function(o){l.resolve(),r&&r(o)}),l):(r&&r(),Promise.resolve())}},{key:"loadLanguages",value:function(n,r){var s=sf();typeof n=="string"&&(n=[n]);var l=this.options.preload||[],o=n.filter(function(a){return l.indexOf(a)<0});return o.length?(this.options.preload=l.concat(o),this.loadResources(function(a){s.resolve(),r&&r(a)}),s):(r&&r(),Promise.resolve())}},{key:"dir",value:function(n){if(n||(n=this.languages&&this.languages.length>0?this.languages[0]:this.language),!n)return"rtl";var r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"];return r.indexOf(this.services.languageUtils.getLanguagePartFromCode(n))>=0?"rtl":"ltr"}},{key:"createInstance",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return new e(n,r)}},{key:"cloneInstance",value:function(){var n=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gh,l=Ar({},this.options,r,{isClone:!0}),o=new e(l),a=["store","services","language"];return a.forEach(function(u){o[u]=n[u]}),o.translator=new Ak(o.services,o.options),o.translator.on("*",function(u){for(var c=arguments.length,f=new Array(c>1?c-1:0),d=1;d<c;d++)f[d-1]=arguments[d];o.emit.apply(o,[u].concat(f))}),o.init(l,s),o.translator.options=o.options,o}}]),e}(Fo),Nk=new hK;const mK={translation:{general:{"whats-up":"Come va?",date:"Data",location:"Posizione",remove:"Rimuovi",error:"Errore",all:"Tutto",sum:"Somma",avg:"Media",min:"Min",max:"Max",save:"Salva",saved:"Salvato",delete:"Elimina",cancel:"Annulla",show:"Mostra",done:"Fatto",hide:"Nascondi",customize:"Personalizza",start:"Inizio",end:"Fine",set:"Imposta",edit:"Modifica",created:"Creato",local:"Locale",finished:"Finito",cloud:"Cloud",search:"Cerca","delete-from-nomie":"Elimina {{thing}} da Nomie?","learn-more":"Scopri di pi\xF9","open-source":"Open Source",version:"Versione",questions:"Domande?",faq:"FAQ","continue-question":"Continua?",loading:"Caricamento...",day:"Giorno",month:"Mese",year:"Anno",map:"Mappa",time:"Orario",close:"Chiudi"},stats:{when:"Quando",chart:"Grafico",where:"Dove",streak:"Serie",logs:"Registro","all-logs":"Tutti i registri"},tabs:{track:"Track",history:"Storico",settings:"Impostazioni",plugins:"Plugin",people:"Persone",dash:"Dash"},history:{"no-records-found":"Nessun elemento trovato"},export:{csv:{download:"Scarica CSV...",description:"Esporta i dati dei tuoi tracker in CSV. \xC8 supportato solo un anno alla volta. Tieni presente che le esportazioni in CSV non possono essere reimportate in Nomie al momento. "},backup:{description:"Crea un file di backup importabile. Questo ti permette di trasferire i tuoi dati da un dispositivo all'altro usando un unico file JSON che contiene TUTTI i tuoi dati di Nomie.",download:"Scarica file di backup..."}},board:{"board-empty":"Sembra sia vuoto!","edit-board":"Modifica scheda","board-label":"Etichetta della scheda","create-custom-tracker":"Crea tracker","add-existing-tracker":"Aggiungi tracker esistente","browse-starter-trackers":"Sfoglia catalogo","add-a-board":"Aggiungi una scheda","add-a-board-description":"Le schede ti aiutano ad organizzare i tracker. Per esempio: socialit\xE0, cibo, esercizio fisico possono contenere tracker specifici per tali attivit\xE0. Puoi avere lo stesso tracker su pi\xF9 schede.","board-input-placeholder":"Nome scheda o emoji \u{1F44D}"},settings:{language:"Lingua","sign-out":"Disconnettiti","enable-boards":"Abilita schede",settings:"Impostazioni",theme:"Tema","use-location":"Monitora posizione","dark-mode":"Modalit\xE0 scura","require-pin":"Richiedi PIN","24-hour-clock":"Orologio 24 ore",data:"Dati","nomie-api":"API Nomie","import-from-backup":"Importa da backup","generate-backup":"Genera backup","generate-csv":"Genera CSV","find-and-replace":"Trova e sostituisci",storage:"Archiviazione","use-local":"Passa a locale","use-cloud":"Passa a cloud","first-book":"Prima voce","about-nomie":"Riguardo Nomie","export-confirm":`Questa operazione potrebbe richiedere un paio di minuti. 
            Se hai molti dati, pu\xF2 sembrare che il processo si sia bloccato. 
            Sii paziente.`,"export-complete":"Esportazione completata!","switch-to-cloud-notice":`I dati non sono spostati automaticamente nel cloud.
            Devi prima esportare i tuoi dati locali, poi importarli quando il cambio \xE8 completato. 
            Puoi sempre tornare indietro`,"switch-to-cloud-confirm":"Passare a Blockstack?","switch-to-local-notice":`I dati non sono spostati automaticamente DAL cloud.
            Devi prima esportare i tuoi dati, poi importarli quando il cambio \xE8 completato. 
            Puoi sempre tornare indietro`,"switch-to-local-confirm":"Passare a locale?","pin-details":"Inserisci un PIN da 1 a 6 cifre","aggressive-sync":"Sicronizzazione aggressiva","aggressive-description":`Usi Nomie su pi\xF9 dispositivi? Abilita la sincronizzazione aggressiva
            per sincronizzare pi\xF9 frequentemente`},tracker:{"things-to-track":"Catalogo tracker","pick-at-least-one":"Aggiungi almeno un tracker per continuare...","install-tracker-question":"Installa {{tracker}}?","add-tracker":"Aggiungi tracker","edit-tracker":"Modifica tracker","tracker-selector":"Selettore tracker",label:"Etichetta",emoji:"Emoji",tag:"Tag",type:"Tipo","save-on-tap":"Salva al tocco","measure-by":"Misura con",calculate:"Calcola",count:"Conteggio",default:"Default",positivity:"Positivit\xE0","min-max":"Min/Max","note-placeholder":"#usa #gli_hashtag #che_preferisci","note-description":`Combina pi\xF9 tracker insieme usando i loro
      #hashtag. Per esempio, #mood #qualit\xE0_sonno. Nomie ti chieder\xE0
            i valori richiesti uno per uno.`,"delete-description":"Puoi sempre ricrearlo pi\xF9 tardi. I dati storici non verranno cancellati."}}},pK={translation:{general:{"whats-up":"\u6709\u4EC0\u4E48\u65B0\u9C9C\u4E8B\uFF1F",date:"\u65E5\u671F",location:"\u4F4D\u7F6E",remove:"\u5220\u9664",all:"\u5168\u90E8",sum:"\u603B\u548C",avg:"\u5E73\u5747\u6570",min:"\u6700\u5C0F\u503C",max:"\u6700\u5927\u503C",save:"\u4FDD\u5B58",cancel:"\u53D6\u6D88",show:"\u663E\u793A",done:"\u5B8C\u6210",hide:"\u9690\u85CF",customize:"\u81EA\u5B9A\u4E49",start:"\u5F00\u59CB",end:"\u7ED3\u675F",set:"\u8BBE\u5B9A",edit:"\u7F16\u8F91",created:"\u521B\u5EFA",local:"\u672C\u5730",finished:"\u5DF2\u5B8C\u6210",cloud:"\u4E91\u7AEF",search:"\u641C\u7D22","delete-from-nomie":"\u4ECE Nomie \u5220\u9664 {{thing}}\uFF1F","learn-more":"\u4E86\u89E3\u8BE6\u60C5","open-source":"\u5F00\u6E90",version:"\u7248\u672C",questions:"\u95EE\u9898\uFF1F",faq:"\u5E38\u89C1\u95EE\u9898","continue-question":"\u786E\u8BA4\u7EE7\u7EED\uFF1F",loading:"\u52A0\u8F7D\u4E2D..."},tabs:{track:"\u8BB0\u5F55",history:"\u5386\u53F2",settings:"\u8BBE\u7F6E",plugins:"\u63D2\u4EF6",people:"\u4EBA",dash:"\u4EEA\u8868\u677F"},history:{"no-records-found":"\u6CA1\u6709\u627E\u5230\u4EFB\u4F55\u8BB0\u5F55"},export:{csv:{download:"\u4E0B\u8F7D CSV...",description:"Export your individual tracker data to CSV. Only one year at a time is supported. Please note, that CSV exports cannot currently be imported back into Nomie. "},backup:{description:"Create an importable backup file. This allows you to transfer your data from one device to another using a single JSON file that contains ALL of you Nomie data.",download:"\u4E0B\u8F7D\u5907\u4EFD\u6587\u4EF6..."}},board:{"board-empty":"\u8FD9\u91CC\u4EC0\u4E48\u90FD\u6CA1\u6709\uFF01","edit-board":"\u7F16\u8F91\u6807\u7B7E\u9875","board-label":"\u6807\u7B7E\u9875\u540D\u79F0","create-custom-tracker":"\u65B0\u5EFA\u8BB0\u5F55\u5668","add-existing-tracker":"\u6DFB\u52A0\u73B0\u6709\u8BB0\u5F55\u5668","browse-starter-trackers":"\u6D4F\u89C8\u8BB0\u5F55\u5668\u5E93","add-a-board":"\u65B0\u5EFA\u6807\u7B7E\u9875","add-a-board-description":"Tabs help you organize your trackers. For example: social, food, and fitness can contain trackers specifically for those activies. You can have the same tracker on multiple tabs.","board-input-placeholder":"\u6807\u7B7E\u9875\u540D\u79F0\u6216 Emoji \u{1F44D}"},settings:{"sign-out":"\u767B\u51FA","enable-boards":"\u8BB0\u5F55\u5668\u6807\u7B7E\u9875",settings:"\u8BBE\u7F6E","use-location":"\u4F7F\u7528\u4F4D\u7F6E\u4FE1\u606F","dark-mode":"\u6DF1\u8272\u6A21\u5F0F","require-pin":"\u4F7F\u7528\u5BC6\u7801","24-hour-clock":"24 \u5C0F\u65F6\u5236",data:"\u65E5\u671F","nomie-api":"Nomie API","import-from-backup":"\u5BFC\u5165\u5907\u4EFD","generate-backup":"\u5BFC\u51FA\u5907\u4EFD","generate-csv":"\u5BFC\u51FA\u4E3A CSV","find-and-replace":"\u67E5\u627E\u548C\u66FF\u6362",storage:"\u50A8\u5B58","use-local":"\u5207\u6362\u5230\u672C\u5730","use-cloud":"\u5207\u6362\u5230\u4E91\u7AEF","first-book":"\u7B2C\u4E00\u4EFD\u8BB0\u5F55","about-nomie":"\u5173\u4E8E Nomie","export-confirm":`This process might take a couple minutes. 
            If you have a lot of data, it will seem like it gets hung up. 
            Have patience.`,"export-complete":"\u5BFC\u51FA\u5B8C\u6210\uFF01","switch-to-cloud-notice":`Data is not automatically migrated to the cloud.
            You should export your local data first, then import it once the switch is complete. 
            You can always switch back`,"switch-to-cloud-confirm":"\u5207\u6362\u5230 Blockstack \u50A8\u5B58\uFF1F","switch-to-local-notice":`Data is not automatically migrated FROM the cloud.
            You should export your data first, then import it once the switch is complete. 
            You can always switch back`,"switch-to-local-confirm":"\u5207\u6362\u5230\u672C\u5730\u50A8\u5B58\uFF1F","pin-details":"\u8BF7\u8F93\u5165 1 \u5230 6 \u4F4D\u7684\u6570\u5B57","aggressive-sync":"\u5F3A\u5236\u540C\u6B65","aggressive-description":"\u5728\u591A\u4E2A\u8BBE\u5907\u4E0A\u540C\u65F6\u4F7F\u7528 Nomie \u65F6\uFF0C\u6253\u5F00\u5F3A\u5236\u540C\u6B65\u6765\u589E\u52A0\u540C\u6B65\u9891\u7387"},tracker:{"things-to-track":"\u9700\u8981\u8BB0\u5F55\u7684\u4E8B\u60C5","install-tracker-question":"\u5B89\u88C5 {{tracker}}\uFF1F","add-tracker":"\u6DFB\u52A0\u8BB0\u5F55\u5668","edit-tracker":"\u7F16\u8F91\u8BB0\u5F55\u5668",label:"\u540D\u79F0",emoji:"Emoji",tag:"\u6807\u7B7E",type:"\u79CD\u7C7B","save-on-tap":"\u70B9\u51FB\u5373\u4FDD\u5B58","measure-by":"\u7EDF\u8BA1\u5355\u4F4D",calculate:"\u8BA1\u7B97",count:"\u4E2A\u6570",default:"\u9ED8\u8BA4",positivity:"\u79EF\u6781\u6027","min-max":"\u6700\u5C0F\u503C/\u6700\u5927\u503C","note-placeholder":"#any #tracker #hashtags","note-description":`Combine multiple trackers together using their
            #hashtags. For example, #mood #sleep_quality. Nomie will then ask
            for values one by one.`,"delete-description":"You can always recreate it later. No historic data will be deleted deleted."}}},_K={name:"base",author:"Brandon",translation:{settings:{"pin-required":"Nomie","pin-invalid":"Nomie","danger-zone":"Nomie","delete-warning":"Nomie",destroy:"Nomie","delete-warning-again":"Nomie","deleting-data":"Nomie",settings:"Nomie","tab-features":"Nomie","tab-tweaks":"Nomie","tab-data":"Nomie","tab-about":"Nomie","patron-official":"Nomie","become-a-patron":"Nomie","patron-description":"Nomie","patron-unlock":"Nomie","patron-join-now":"Nomie","storage-location":"Nomie","import-data":"Nomie","nomie-api":"Nomie","import-from-backup":"Nomie","import-from-csv":"Nomie","export-data":"Nomie","generate-backup":"Nomie","generate-csv":"Nomie","hide-backup-reminder":"Nomie",miscellaneous:"Nomie","update-last-used-date":"Nomie","destroy-all-data":"Nomie","join-the-community":"Nomie","redo-setup":"Nomie","export-title":"Nomie","export-confirm":"Nomie","export-complete":"Nomie",sunday:"Nomie",monday:"Nomie",theme:"Nomie",theme_accent:"Nomie","base-font-size":"Nomie","small-tracker-buttons":"Nomie","hide-tab-labels":"Nomie",locale:"Nomie","first-day-of-week":"Nomie",sun:"Nomie",mon:"Nomie",language:"Nomie","24-hour-clock":"Nomie","translate-nomie":"Nomie","pin-details":"Nomie","confirm-pin":"Nomie","pins-do-not-match":"Nomie","feature-people-tracking":"Nomie","feature-people-description":"Nomie","feature-dashboard":"Nomie","feature-dashboard-description":"Nomie","use-location":"Nomie","use-location-description":"Nomie","require-pin":"Nomie","require-pin-description":"Nomie","set-pin":"Nomie","enable-advanced-buttons":"Nomie","pin-requirements":"Nomie","select-nomie-backup":"Nomie","sign-out":"Nomie","allow-file-editing":"Nomie","find-and-replace":"Nomie"},tracker:{stats:"Nomie",streak:"Nomie","edit-tracker":"Nomie","duplication-complete":"Nomie","edit-tracker-now":"Nomie","update-all-tracker-last-used":"Nomie",type:"Nomie",positivity:"Nomie",neutral:"Nomie",positive:"Nomie",negative:"Nomie","add-condition":"Nomie","create-condition":"Nomie","delete-from-nomie":"Nomie","delete-description":"Nomie",label:"Nomie","tracker-type":"Nomie","save-on-tap":"Nomie","save-on-tap-description":"Nomie",min:"Nomie",max:"Nomie","note-placeholder":"Nomie","note-description":"Nomie",step:"Nomie","measure-by":"Nomie","calculate-total":"Nomie",value:"Nomie","default-value":"Nomie",include:"Nomie","include-placeholder":"Nomie","hide-on-all-board":"Nomie","duplicate-tracker":"Nomie","remove-tracker":"Nomie","things-to-track":"Nomie","pick-at-least-one":"Nomie","add-tracker":"Nomie"},general:{error:"Nomie",loading:"Nomie","update-complete":"Nomie",edit:"Nomie","on-this-day":"Nomie","copy-to-clipboard":"Nomie","share-as-image":"Nomie",delete:"Nomie",ok:"Nomie",cancel:"Nomie",duplicate:"Nomie",faq:"Nomie",latest:"Nomie",change:"Nomie","browse-files":"Nomie",type:"Nomie","tracker-count":"Nomie",first_log:"Nomie","launch-count":"Nomie",device:"Nomie",platform:"Nomie",pwa:"Nomie",questions:"Nomie",supporters:"Nomie",success:"Nomie",failure:"Nomie",saving:"Nomie",accept:"Nomie","select-date":"Nomie","no-results":"Nomie","all-trackers":"Nomie",start:"Nomie",end:"Nomie",beta:"Nomie",done:"Nomie",saved:"Nomie",save:"Nomie","tracker-selector":"Nomie",close:"Nomie",customize:"Nomie",select:"Nomie",stop:"Nomie",notice:"Nomie",sum:"Nomie",avg:"Nomie",download:"Nomie",total:"Nomie",average:"Nomie",score:"Nomie",home:"Nomie",map:"Nomie",logs:"Nomie","search-for":"Nomie",options:"Nomie",today:"Nomie",goto:"Nomie",style:"Nomie",disable:"Nomie",history:"Nomie",trackers:"Nomie",people:"Nomie",notes:"Nomie",locations:"Nomie",context:"Nomie","no-favorites-found":"Nomie","edit-log":"Nomie",positivity:"Nomie",note:"Nomie",where:"Nomie",when:"Nomie",boards:"Nomie",dashboards:"Nomie",finished:"Nomie",setup:"Nomie",more:"Nomie","trackable-item":"Nomie",remove:"Nomie",widget:"Nomie",update:"Nomie","add-a-tracker":"Nomie","import-from-file":"Nomie","delete-from-nomie":"Nomie","no-known-backups":"Nomie","backup-now":"Nomie","error-connecting":"Nomie",search:"Nomie","save-list-edits":"Nomie",journal:"Nomie","whats-up":"Nomie",location:"Nomie",back:"Nomie"},locations:{"select-a-location":"Nomie"},dashboard:{"edit-widget":"Nomie","small-widget":"Nomie","medium-widget":"Nomie","large-widget":"Nomie","move-tabs":"Nomie","delete-widget":"Nomie","widget-options":"Nomie","select-a-widget":"Nomie","widget-under-value-color":"Nomie","widget-over-value-color":"Nomie","add-a-widget":"Nomie","add-tab":"Nomie",options:"Nomie","select-dashboard-to-move-widget":"Nomie","empty-message":"Nomie","widget-editor":"Nomie"},storage:{local_title:"Nomie",local_description:"Nomie",blockstack_title:"Nomie",pouchdb_title:"Nomie",type_selector_title:"Nomie",pouchdb:"Nomie",blockstack:"Nomie"},people:{"person-name":"Nomie","empty-message":"Nomie","add-a-person":"Nomie","check-in":"Nomie"},tabs:{people:"Nomie",history:"Nomie",dashboard:"Nomie",track:"Nomie",settings:"Nomie"},"nomie-api":{"generate-api-key":"Nomie","manually-set-keys":"Nomie","clear-remaining":"Nomie","no-recent-logs-capture":"Nomie","auto-accept":"Nomie","auto-import-description":"Nomie","api-key":"Nomie","api-key-copied":"Nomie","private-key":"Nomie","private-key-copied":"Nomie","example-request":"Nomie",fields:"Nomie","forget-api":"Nomie","destroy-api":"Nomie"},history:{"go-to-today":"Nomie","empty-day":"Nomie"},export:{"csv-description":"Nomie","csv-download":"Nomie","backup-description":"Nomie","backup-download":"Nomie"},"csv-import":{"saved-templates":"Nomie","select-csv-file":"Nomie","map-fields":"Nomie","compose-note":"Nomie"},positivity:{"sort-message":"Nomie"},stats:{"daily-average":"Nomie",range:"Nomie",compare:"Nomie",time:"Nomie",streak:"Nomie","compare-trackers":"Nomie","compare-description":"Nomie",analyze:"Nomie"},time:{"start-of-month":"Nomie","start-of-year":"Nomie","start-of-week":"Nomie"},setup:{"choose-time-format":"Nomie","choose-theme":"Nomie","pick-data-storage":"Nomie","use-location":"Nomie","choose-first-day-of-week":"Nomie"},search:{"search-trackers":"Nomie","previous-searches":"Nomie","search-people":"Nomie","no-results":"Nomie","search-history":"Nomie"},"on-this-day":{"no-notes":"Nomie","no-people":"Nomie","no-context":"Nomie"},location:{"saved-locations":"Nomie","unable-to-get-your-location":"Nomie","pick-a-location":"Nomie","use-current-location":"Nomie",locating:"Nomie"},import:{"import-all":"Nomie",import:"Nomie"},board:{"edit-sort":"Nomie","create-new-board":"Nomie","board-options":"Nomie","add-existing-tracker":"Nomie","create-custom-tracker":"Nomie","browse-starter-trackers":"Nomie","add-a-board":"Nomie","board-input-placeholder":"Nomie","last-used":"Nomie","sort-tabs":"Nomie"},picker:{title:"Nomie"},theme:{light:"Nomie",dark:"Nomie",auto:"Nomie"}}},gK={name:"base",author:"Brandon",translation:{settings:{"pin-required":"Pin Required","pin-invalid":"Invalid Pin, try again","danger-zone":"Danger Zone","delete-warning":"This will destroy ALL data in Nomie. Are you absolutely sure?",destroy:"Destroy","delete-warning-again":"So you REALLY want all ALL data in Nomie destroyed?","deleting-data":"Deleting data...",settings:"Settings","tab-features":"Features","tab-tweaks":"Tweaks","tab-data":"Data","tab-about":"About","patron-official":"Official Nomie Patron","become-a-patron":"Become a Patron","patron-description":"Starting at $2/mon for early features, exclusive content, and support.","patron-unlock":"Unlock","patron-join-now":"Join Now","storage-location":"Storage Location","import-data":"Import Data","nomie-api":"Nomie API","import-from-backup":"Import from Backup","import-from-csv":"Import from CSV","export-data":"Export Data","generate-backup":"Generate Backup","generate-csv":"Generate CSV","hide-backup-reminder":"Hide backup reminder",miscellaneous:"Miscellaneous","update-last-used-date":"Update Usage and Streak Data","destroy-all-data":"Destroy all Data","join-the-community":"Join the Community","redo-setup":"Redo Setup","export-title":"Generate a Backup","export-confirm":"Depending on how long much data you have, this might take a while.","export-complete":"Export Complete",sunday:"Sunday",monday:"Monday",theme:"Theme",theme_accent:"Accent","base-font-size":"Text Size","small-tracker-buttons":"Compact Trackers","hide-tab-labels":"Hide bottom tab labels",locale:"Locale","first-day-of-week":"Week Starts On",sun:"Sun",mon:"Mon",language:"Language","24-hour-clock":"24 hour clock","translate-nomie":"Help Translate Nomie","pin-details":"Set your Pin","confirm-pin":"Confirm Pin","pins-do-not-match":"Pins do not match","feature-people-tracking":"People Tracking","feature-people-description":"Keep track of those you interact with the most","feature-dashboard":"Personal Dashboard","feature-dashboard-description":"A dedicated tab for creating custom views of your data","use-location":"Track Location","use-location-description":"Lookup location each time you save a log","require-pin":"Require Access Pin","require-pin-description":"Require a pin to launch Nomie. Don't forget it!","set-pin":"Set Lock Pin","enable-advanced-buttons":"Advanced Tracker Buttons","pin-requirements":"1 to 6 digits","select-nomie-backup":"Select Nomie Backup...","sign-out":"Sign Out","allow-file-editing":"Allow file editing","find-and-replace":"Find and Replace"},tracker:{stats:"Stats",streak:"Streak","edit-tracker":"Edit Tracker","duplication-complete":"Duplication Complete","edit-tracker-now":"Would you like to edit the new tracker?","update-all-tracker-last-used":"Update last used dates on all trackers?",type:"Tally",positivity:"Positivity",neutral:"Neutral",positive:"Positive",negative:"Negative","add-condition":"Add Rule","create-condition":"New Positivity Rule...","delete-from-nomie":"Delete from Nomie?","delete-description":"You can always recreate it later. No log data will be deleted.",label:"Tracker Label","tracker-type":"Tracker Type","save-on-tap":"Save on Tap","save-on-tap-description":"Save note immediately after tapping the button.",min:"Min Value",max:"Max Value","note-placeholder":"Any content including #tracker @people +context","note-description":"Combine multiple trackers together using their #hashtags. For example, #mood #sleep_quality. Nomie will then ask for values one by one.",step:"Range Step","measure-by":"Measure By","calculate-total":"Calculate Totals",value:"Default Value","default-value":"Default Value",include:"Also Include","include-placeholder":"Insert additional #trackers, @people, and +context when using this tracker","hide-on-all-board":"Hide on All Board","duplicate-tracker":"Duplicate Tracker","remove-tracker":"Delete Tracker","things-to-track":"Things to Track","pick-at-least-one":"Pick at least 1 to continue","add-tracker":"Add Tracker"},general:{error:"Error",loading:"Loading...","update-complete":"Update complete",edit:"Edit","on-this-day":"On this Day","copy-to-clipboard":"Copy to Clipboard","share-as-image":"Share as Image",delete:"Delete",ok:"Ok",cancel:"Cancel",duplicate:"Duplicate",faq:"FAQ",latest:"Latest",change:"Change","browse-files":"Browse Files...",type:"Finding old data","tracker-count":"Tracker Count",first_log:"First Log","launch-count":"Launch Count",device:"Device",platform:"Platform",pwa:"PWA",questions:"Questions",supporters:"Supporters",success:"Success",failure:"Failure",saving:"Saving",accept:"Accept","select-date":"Select Date","no-results":"No results","all-trackers":"All Trackers",start:"Start",end:"End",beta:"Beta",done:"Done",saved:"Saved",save:"Save","tracker-selector":"Tracker Selector",close:"Close",customize:"Custom",select:"Select",stop:"Stop",notice:"Notice",sum:"Sum",avg:"Average",download:"Download",total:"Total",average:"Average",score:"Score",home:"Home",map:"Map",logs:"Logs","search-for":"Search For",options:"Options",today:"Today",goto:"Go to...",style:"Style",disable:"Disable",history:"History",trackers:"Trackers",people:"People",notes:"Notes",locations:"Locations",context:"Context","no-favorites-found":"No Favorites Found","edit-log":"Edit Record",positivity:"Positivity",note:"Note",where:"Where",when:"When",boards:"Boards",dashboards:"Dashboards",finished:"Finished",setup:"Setup",more:"More","trackable-item":"Trackable Item",remove:"Remove",widget:"widget",update:"Update","add-a-tracker":"Add a Tracker","import-from-file":"Import from File","delete-from-nomie":"Delete from Nomie?","no-known-backups":"No recent backups","backup-now":"Backup Now","error-connecting":"Error Connecting",search:"Search","save-list-edits":"Save List Edits",journal:"Journal","whats-up":"What's up?",location:"Location",back:"Back"},locations:{"select-a-location":"Select a Location"},dashboard:{"edit-widget":"Edit Widget","small-widget":"Small Widget","medium-widget":"Medium Widget","large-widget":"Large Widget","move-tabs":"Move Tabs","delete-widget":"Delete Widget","widget-options":"Widget Options","select-a-widget":"Select a Widget","widget-under-value-color":"Under value color","widget-over-value-color":"Over value color","add-a-widget":"Add a Widget...","add-tab":"Add a Dashboard Tab...",options:"Dashboard Options","select-dashboard-to-move-widget":"Move widget to which dashboard?","empty-message":"Fill in the blanks with different charts, statistics, and other widgets to build your own personalized picture of your life.","widget-editor":"Widget Editor"},storage:{local_title:"This Device Only",local_description:"Good for getting started, but make sure you backup your data.",blockstack_title:"Blockstack",pouchdb_title:"CouchDB (beta)",type_selector_title:"Storage Options",pouchdb:"Local + CouchDB",blockstack:"Blockstack"},people:{"person-name":"Person Name","empty-message":"Track & monitor how you interact with your friends and family","add-a-person":"Add a Person...","check-in":"Check-in"},tabs:{people:"People",history:"History",dashboard:"Dash",track:"Track",settings:"Settings"},"nomie-api":{"generate-api-key":"Generate API Key...","manually-set-keys":"Manually set API/Private Key...","clear-remaining":"Clear Remaining","no-recent-logs-capture":"No Recent Logs Captured","auto-accept":"Auto Accept","auto-import-description":"Auto import API logs when Nomie launches","api-key":"API Key","api-key-copied":"API Key Copied","private-key":"Private Key","private-key-copied":"Private Key Copied","example-request":"Example Request",fields:"Fields","forget-api":"Forget API Key...","destroy-api":"Destroy API Key..."},history:{"go-to-today":"Go to Today","empty-day":"No data was found"},export:{"csv-description":"Export individual tracker data to CSV. Only one year at a time is supported.","csv-download":"Download CSV...","backup-description":"Create an importable backup file. This allows you to transfer your data from one device to another using a single file (JSON) that contains ALL your Nomie data.","backup-download":"Download Backup"},"csv-import":{"saved-templates":"Saved Templates","select-csv-file":"Select CSV File...","map-fields":"Map Fields","compose-note":"Compose a note for this CSV data"},positivity:{"sort-message":"First true wins"},stats:{"daily-average":"Daily Average",range:"Range",compare:"Relate",time:"Time",streak:"Streak","compare-trackers":"Compare Trackers","compare-description":"Find potentially related trackers either automatically, or by selecting manually.",analyze:"Auto"},time:{"start-of-month":"Start of month","start-of-year":"Start of year","start-of-week":"Start of week"},setup:{"choose-time-format":"Which format looks right?","choose-theme":"Choose your Theme","pick-data-storage":"Choose your data's location...","use-location":"Locations","choose-first-day-of-week":"Pick first day of the week"},search:{"search-trackers":"Search Trackers...","previous-searches":"Previous Searches","search-people":"Search People...","no-results":"No results found","search-history":"Search History..."},"on-this-day":{"no-notes":"No Notes on this Day","no-people":"No People on this Day","no-context":"No Context on this Day"},location:{"saved-locations":"Saved Locations","unable-to-get-your-location":"Unable to get your location","pick-a-location":"Pick a Location","use-current-location":"Use Current Location",locating:"Locating..."},import:{"import-all":"Import All",import:"Import"},board:{"edit-sort":"Edit / Sort","create-new-board":"Add New Tab","board-options":"Tab Options","add-existing-tracker":"From Existing","create-custom-tracker":"Add New Tracker","browse-starter-trackers":"Browse Library","add-a-board":"Add a Tab","board-input-placeholder":"Tab name or Emoji \u{1F44D}","last-used":"Last used","sort-tabs":"Sort Tabs"},picker:{title:"List one item per line"},theme:{light:"Light",dark:"Dark",auto:"Auto"}}},vK={name:"German",author:"Brandon",translation:{settings:{"pin-required":"Pin ben\xF6tigt","pin-invalid":"ung\xFCltige Pin, versuche es noch einmal","danger-zone":"Gefahrenzone","delete-warning":"Dies wird ALLE deiner Daten in Nomie vernichten. Bist du dir wirklich sicher?",destroy:"Vernichten","delete-warning-again":"Du willst also WIRKLICH deine GESAMTEN Daten in Nomie vernichten?","deleting-data":"L\xF6sche Daten...",settings:"Einstellungen","tab-features":"Features","tab-tweaks":"Anpassungen","tab-data":"Daten","tab-about":"\xDCber","patron-official":"Offizieller Nomie Patron","become-a-patron":"Werde Patron","patron-description":"ab 2$ im Monat f\xFCr fr\xFCheren Zugang zu Features, exklusive Inhalte und zu unserer Unterst\xFCtzung.","patron-unlock":"Freischalten","patron-join-now":"Tritt jetzt bei","storage-location":"Speicherort","import-data":"Importiere Daten","nomie-api":"Nomie API","import-from-backup":"Importiere Backup","import-from-csv":"Importiere CSV","export-data":"Exportiere Daten","generate-backup":"Erstelle Backup","generate-csv":"Erstelle CSV","hide-backup-reminder":"Verstecke Backup-Erinnerung",miscellaneous:"Sonstiges","update-last-used-date":'Aktualisiere "Zuletzt Benutzt" bei jedem Tracker',"destroy-all-data":"Vernichte alle Daten","join-the-community":"Tritt der Community bei","redo-setup":"Aufbau zur\xFCcksetzen","export-title":"Erstelle ein Backup","export-confirm":"Wenn du viele Daten eingetragen hast, kann das eine Weile dauern.","export-complete":"Export abgeschlossen",sunday:"Sonntag",monday:"Montag",theme:"Theme",theme_accent:"Akzent","base-font-size":"Textgr\xF6\xDFe","small-tracker-buttons":"Kompakte Tracker","hide-tab-labels":"Tab-Beschreibungen unten ausblenden.",locale:"Ort","first-day-of-week":"Woche beginnt am",sun:"Son",mon:"Mon",language:"Sprache","24-hour-clock":"24-Stunden Uhr","translate-nomie":"Hilf, Nomie zu \xFCbersetzen","pin-details":"Erstelle deinen Pincode","confirm-pin":"Best\xE4tige deinen Pincode","pins-do-not-match":"Pincodes stimmen nicht \xFCberein","feature-people-tracking":"Tracke Personen","feature-people-description":"Behalte im Auge, mit wem du am meisten interagierst.","feature-dashboard":"Pers\xF6nliches Dashboard","feature-dashboard-description":"Ein Tab um personalisierte Ansichten deiner Daten zu kreieren.","use-location":"Tracke Standpunkt","use-location-description":"Notiere deinen Standpunkt bei jedem Eintrag","require-pin":"Stelle einen Pincode ein","require-pin-description":"Stelle einen Pincode zur Nutzung von Nomie ein. Vergiss es nicht!","set-pin":"Erstelle Pincode","enable-advanced-buttons":"Erweiterte Tracker Buttons","pin-requirements":"1 bis 6 Zeichen","select-nomie-backup":"W\xE4hle Nomie Backup...","sign-out":"Ausloggen","allow-file-editing":"Datei-Bearbeitung erlauben","find-and-replace":"Finden und Ersetzen"},tracker:{stats:"Statistiken",streak:"Streak","edit-tracker":"Bearbeite Tracker","duplication-complete":"Kopieren abgeschlossen","edit-tracker-now":"M\xF6chtest du den neuen Tracker bearbeiten?","update-all-tracker-last-used":'Aktualisiere "Zuletzt Benutzt" bei jedem Tracker',type:"Z\xE4hler",positivity:"Positivit\xE4t",neutral:"Neutral",positive:"Positiv",negative:"Negativ","add-condition":"Regel hinzuf\xFCgen","create-condition":"Neue Positivit\xE4ts-Regel","delete-from-nomie":"Aus Nomie l\xF6schen?","delete-description":"Das kannst du sp\xE4ter wiederherstellen. Deine Eintr\xE4ge werden nicht endg\xFCltig gel\xF6scht.",label:"Name des Trackers","tracker-type":"Art des Trackers","save-on-tap":"Beim Antippen Speichern","save-on-tap-description":"Speichert deine Notiz direkt nach dem antippen.",min:"Mindestwert",max:"H\xF6chstwert","note-placeholder":"Erstelle Inhalte mit #Tracker @Personen +Kontext","note-description":"Kombiniere mehrere Tracker, indem du ihre #Hashtags benutzt. Zum Beispiel: #Stimmung #Schlafqualit\xE4t. Nomie wird dich dann nach den einzelnen Werten fragen.",step:"Schrittgr\xF6\xDFe","measure-by":"Einheit","calculate-total":"Gesamtzahl berechnen",value:"Standardwert","default-value":"Standardwert",include:"miteinbeziehen","include-placeholder":"F\xFCge weitere #Tracker, @Personen und +Kontext hinzu, wenn du diesen Tracker nutzt","hide-on-all-board":"In jeder \xDCbersicht verstecken","duplicate-tracker":"Tracker kopieren","remove-tracker":"Tracker l\xF6schen","things-to-track":"Dinge zum Tracken","pick-at-least-one":"W\xE4hle mindestens 1 um fortzufahren","add-tracker":"Tracker hinzuf\xFCgen"},general:{error:"Error",loading:"L\xE4dt...","update-complete":"Update abgeschlossen",edit:"Bearbeiten","on-this-day":"An diesem Teg","copy-to-clipboard":"In Ablage kopieren","share-as-image":"Als Bild teilen",delete:"L\xF6schen",ok:"Ok",cancel:"Abbrechen",duplicate:"Kopie",faq:"FAQ",latest:"Letzte",change:"\xC4ndern","browse-files":"Ordner durchsuchen...",type:"Alte Daten finden","tracker-count":"Tracker-Anzahl",first_log:"Erster Eintrag","launch-count":"Launch-Z\xE4hler",device:"Ger\xE4t",platform:"Plattform",pwa:"PWA",questions:"Fragen",supporters:"Unterst\xFCtzer",success:"Erfolg",failure:"Misserfolg",saving:"Speichert",accept:"Akkzeptieren","select-date":"Datum ausw\xE4hlen","no-results":"Keine Ergebnisse","all-trackers":"Alle Tracker",start:"Start",end:"Ende",beta:"Beta",done:"Fertig",saved:"Gespeichert",save:"Speichern","tracker-selector":"Tracker-Auswahl",close:"Schlie\xDFen",customize:"Benutzerdefiniert",select:"Ausw\xE4hlen",stop:"Stop",notice:"Notiz",sum:"Summe",avg:"Durchschnitt",download:"Download",total:"Gesamt",average:"Durchschnitt",score:"Stand",home:"Home",map:"Karte",logs:"Eintr\xE4ge","search-for":"Suchen",options:"Optionen",today:"Heute",goto:"Gehe zu...",style:"Style",disable:"deaktivieren",history:"Verlauf",trackers:"Tracker",people:"Personen",notes:"Notizen",locations:"Orte",context:"Kontext","no-favorites-found":"Keine Favoriten gefunden","edit-log":"Eintrag bearbeiten",positivity:"Positivit\xE4t",note:"Notiz",where:"Wo",when:"Wann",boards:"Boards",dashboards:"Dashboards",finished:"Abgeschlossen",setup:"Aufbau",more:"Mehr","trackable-item":"Trackbare Sache",remove:"Entfernen",widget:"Steuerelement",update:"Update","add-a-tracker":"Tracker hinzuf\xFCgen","import-from-file":"Importiere von  Datei","delete-from-nomie":"Aus Nomie l\xF6schen?","no-known-backups":"Keine bekannten Backups","backup-now":"Jetzt Backup erstellen","error-connecting":"Verbindungsfehler",search:"Suchen","save-list-edits":"Speichere \xC4nderungen der Liste",journal:"Tagebuch","whats-up":"Was gibt's?",location:"Ort",back:"Zur\xFCck"},locations:{"select-a-location":"W\xE4hle einen Ort"},dashboard:{"edit-widget":"Element bearbeiten","small-widget":"kleines Element","medium-widget":"mittelgro\xDFes Element","large-widget":"gro\xDFes Element","move-tabs":"Tabs verschieben","delete-widget":"Element l\xF6schen","widget-options":"Element-Optionen","select-a-widget":"w\xE4hle ein Steuerelement","widget-under-value-color":"Farbe bei niedrigem Wert","widget-over-value-color":"Farbe bei hohem Wert","add-a-widget":"Steuerelement hinzuf\xFCgen","add-tab":"Neuen Tab hinzuf\xFCgen",options:"Dashboard-Optionen","select-dashboard-to-move-widget":"Element auf welches Dashboard verschieben?","empty-message":"F\xFCge verschiedene Diagramme, Statistiken und andere Steuerelemente hinzu, um einen ma\xDFgeschneiderten Blick auf dein Leben zu erstellen.","widget-editor":"Steuerelement-Editor"},storage:{local_title:"Nur dieses Ger\xE4t",local_description:"Gut, um anzufangen. Erstelle aber zur Sicherheit ein Backup deiner Daten.",blockstack_title:"Blockstack",pouchdb_title:"CouchDB (beta)",type_selector_title:"Speicheroptionen",pouchdb:"Lokal + CouchDB",blockstack:"Blockstack"},people:{"person-name":"Name der Person","empty-message":"Notiere und \xFCberpr\xFCfe, wie du mit Freunden und Familie interagierst.","add-a-person":"Person hinzuf\xFCgen...","check-in":"Check-in"},tabs:{people:"Personen",history:"Verlauf",dashboard:"Dash",track:"Track",settings:"Einstellungen"},"nomie-api":{"generate-api-key":"API Schl\xFCssel generieren...","manually-set-keys":"API/Privaten Schl\xFCssel eigenh\xE4ndig einstellen...","clear-remaining":"Rest l\xF6schen","no-recent-logs-capture":"Keine k\xFCrzlich entstandenen Eintr\xE4ge","auto-accept":"automatisch akzeptieren","auto-import-description":"API-Eintr\xE4ge automatisch importieren wenn Nomie ge\xF6ffnet wird","api-key":"API-Schl\xFCssel","api-key-copied":"API-Schl\xFCssel kopiert","private-key":"Privater Schl\xFCssel","private-key-copied":"Privater Schl\xFCssel kopiert","example-request":"Beispielanfrage",fields:"Felder","forget-api":"API-Schl\xFCssel vergessen","destroy-api":"API-Schl\xFCssel vernichten"},history:{"go-to-today":"Zu Heute springen","empty-day":"Keine Daten gefunden"},export:{"csv-description":"Exportiere deine Tracker-Daten als CSV. Die Datei kann nicht mehr als ein Jahr am St\xFCck erfassen.","csv-download":"Downloade CSV...","backup-description":"Erstelle eine importierbare Backup-Datei. So kannst du ALL deine Nomie-Daten  mit einer einzelnen Datei (JSON) von einem Ger\xE4t auf ein anderes \xFCbertragen.","backup-download":"Backup downloaden"},"csv-import":{"saved-templates":"Gespeicherte Templates","select-csv-file":"W\xE4hle CSV File...","map-fields":"Bereiche erfassen","compose-note":"Erstelle eine Notiz f\xFCr diese CSV Daten"},positivity:{"sort-message":"First true wins"},stats:{"daily-average":"Tagesdurchschnitt",range:"Spannweite",compare:"Vergleichen",time:"Zeit",streak:"Durchlauf","compare-trackers":"Tracker vergleichen","compare-description":"Finde Tracker, die m\xF6glicherweise miteinander zu tun haben. Entweder automatisch, oder von dir selbst ausgew\xE4hlt.",analyze:"Automatisch"},time:{"start-of-month":"Monatsbeginn","start-of-year":"Jahresbeginn","start-of-week":"Wochenbeginn"},setup:{"choose-time-format":"Welche Zeit sieht richtig aus?","choose-theme":"Design w\xE4hlen","pick-data-storage":"W\xE4hle, wo deine Daten gespeichert werden sollen","use-location":"Standpunkt-Tracking aktivieren","choose-first-day-of-week":"W\xE4hle den ersten Tag der Woche"},search:{"search-trackers":"Tracker durchsuchen...","previous-searches":"Vorherige Suchanfragen","search-people":"Personen durchsuchen...","no-results":"Keine Suchergebnisse","search-history":"Verlauf durchsuchen..."},"on-this-day":{"no-notes":"Keine Notizen an diesem Tag","no-people":"Keine Personen an diesem Tag","no-context":"Kein Kontext an diesem Tag"},location:{"saved-locations":"Gespeicherte Orte","unable-to-get-your-location":"Ortung nicht m\xF6glich","pick-a-location":"W\xE4hle einen Ort","use-current-location":"Benutze aktuellen Standpunkt",locating:"Lokalisiere.."},import:{"import-all":"Importiere alle",import:"Importiere"},board:{"edit-sort":"Bearbeiten / Sortieren","create-new-board":"Neuen Tab hinzuf\xFCgen","board-options":"Tab-Optionen","add-existing-tracker":"Aus meinen Trackern w\xE4hlen","create-custom-tracker":"Erstelle einen Tracker","browse-starter-trackers":"Bibliothek durchsuchen","add-a-board":"F\xFCge einen Tab hinzu","board-input-placeholder":"Tab-Name oder Emoji","last-used":"Zuletzt benutzt","sort-tabs":"Tabs sortieren"},picker:{title:"Z\xE4hle ein Element pro Zeile auf."},theme:{light:"Hell",dark:"Dunkel",auto:"Automatisch"}}},ca={en:{label:"English",lang:gK},it:{label:"Italian",lang:mK},de:{label:"German",lang:vK},zhcn:{label:"Simplified Chinese",lang:pK},test:{label:"Tester",lang:_K}};new Uo("\u{1F6A6} Lang");const bK=()=>{let i={lang:localStorage.getItem("n4-lang")||"en"};const{update:e,subscribe:t,set:n}=Bt(i);return Nk.init({lng:i.lang,fallbackLng:"en",resources:{en:ca.en.lang,zhcn:ca.zhcn.lang,it:ca.it.lang,de:ca.de.lang,test:ca.test.lang}}),{update:e,subscribe:t,set:n,...{t(s,l){return Nk.t(s,l)},getLangs(){return Object.keys(ca).map(s=>{let l=ca[s];return l.key=s,l})},setLang(s){e(l=>(l.lang=s,l)),localStorage.setItem("n4-lang",s),setTimeout(()=>{window.location.href="/"},10)}}}},_e=bK();var kK=kc,BN=/[\\^$.*+?()[\]{}|]/g,yK=RegExp(BN.source);function wK(i){return i=kK(i),i&&yK.test(i)?i.replace(BN,"\\$&"):i}var x0=wK;function $K(i,e,t,n){var r=-1,s=i==null?0:i.length;for(n&&s&&(t=i[++r]);++r<s;)t=e(t,i[r],r,i);return t}var FK=$K;function EK(i){return function(e){return i==null?void 0:i[e]}}var DK=EK,CK=DK,SK={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},TK=CK(SK),AK=TK,PK=AK,NK=kc,MK=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,LK="\\u0300-\\u036f",OK="\\ufe20-\\ufe2f",IK="\\u20d0-\\u20ff",BK=LK+OK+IK,zK="["+BK+"]",RK=RegExp(zK,"g");function jK(i){return i=NK(i),i&&i.replace(MK,PK).replace(RK,"")}var YK=jK,UK=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function qK(i){return i.match(UK)||[]}var HK=qK,WK=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function VK(i){return WK.test(i)}var GK=VK,zN="\\ud800-\\udfff",ZK="\\u0300-\\u036f",xK="\\ufe20-\\ufe2f",XK="\\u20d0-\\u20ff",KK=ZK+xK+XK,RN="\\u2700-\\u27bf",jN="a-z\\xdf-\\xf6\\xf8-\\xff",JK="\\xac\\xb1\\xd7\\xf7",QK="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",eJ="\\u2000-\\u206f",tJ=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",YN="A-Z\\xc0-\\xd6\\xd8-\\xde",nJ="\\ufe0e\\ufe0f",UN=JK+QK+eJ+tJ,qN="['\u2019]",Mk="["+UN+"]",iJ="["+KK+"]",HN="\\d+",rJ="["+RN+"]",WN="["+jN+"]",VN="[^"+zN+UN+HN+RN+jN+YN+"]",sJ="\\ud83c[\\udffb-\\udfff]",lJ="(?:"+iJ+"|"+sJ+")",oJ="[^"+zN+"]",GN="(?:\\ud83c[\\udde6-\\uddff]){2}",ZN="[\\ud800-\\udbff][\\udc00-\\udfff]",Su="["+YN+"]",aJ="\\u200d",Lk="(?:"+WN+"|"+VN+")",uJ="(?:"+Su+"|"+VN+")",Ok="(?:"+qN+"(?:d|ll|m|re|s|t|ve))?",Ik="(?:"+qN+"(?:D|LL|M|RE|S|T|VE))?",xN=lJ+"?",XN="["+nJ+"]?",cJ="(?:"+aJ+"(?:"+[oJ,GN,ZN].join("|")+")"+XN+xN+")*",fJ="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",dJ="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",hJ=XN+xN+cJ,mJ="(?:"+[rJ,GN,ZN].join("|")+")"+hJ,pJ=RegExp([Su+"?"+WN+"+"+Ok+"(?="+[Mk,Su,"$"].join("|")+")",uJ+"+"+Ik+"(?="+[Mk,Su+Lk,"$"].join("|")+")",Su+"?"+Lk+"+"+Ok,Su+"+"+Ik,dJ,fJ,HN,mJ].join("|"),"g");function _J(i){return i.match(pJ)||[]}var gJ=_J,vJ=HK,bJ=GK,kJ=kc,yJ=gJ;function wJ(i,e,t){return i=kJ(i),e=t?void 0:e,e===void 0?bJ(i)?yJ(i):vJ(i):i.match(e)||[]}var $J=wJ,FJ=FK,EJ=YK,DJ=$J,CJ="['\u2019]",SJ=RegExp(CJ,"g");function TJ(i){return function(e){return FJ(DJ(EJ(e).replace(SJ,"")),i,"")}}var KN=TJ,AJ=$o,PJ=KN,NJ=PJ(function(i,e,t){return e=e.toLowerCase(),i+(t?AJ(e):e)}),MJ=NJ;function Rl(i,e,t=0){if(i.length<=e)return i;if(t){let n=i.substr(i.length-t,i.length);return`${i.substr(0,e-t)}...${n}`}else return i.substr(0,e)+"..."}const dm=i=>`id-${MJ(i)}`,LJ=(i,e,t)=>{window.open(`mailto:support@happydata.org?subject=${encodeURIComponent(e)}&body=${encodeURIComponent(t)}`,"_system")},Kf=i=>i.replace(/(\#|\@|\+)/gi,"");function i1(i){i=`${i}`;const e=i.split(" ");return e.length==1&&i.length?i.substr(0,2).toUpperCase():e.length>1?`${e[0].substr(0,1)}${e[e.length-1].substr(0,1)}`.toUpperCase():"NA"}const OJ=(i,e,t,n)=>{let r=`${i}`,s=r.substring(0,n),l=r.substring(n,r.length),o=new RegExp(x0(e),"gi");return`${s}${l.replace(o,t)}`},IJ={truncate:Rl,initials:i1},X0=["#f44336","#E91E63","#9C27B0","#673AB7","#3F51B5","#2196F3","#03A9F4","#00BCD4","#009688","#4CAF50","#8BC34A","#CDDC39","#795548","#607D8B","#B39DDB","#9FA8DA","#90CAF9","#81D4FA","#80DEEA","#80CBC4","#A5D6A7","#B0BEC5","#e57373","#9575CD","#7986CB","#64B5F6","#4FC3F7","#4DD0E1","#4DB6AC","#81C784","#AED581","#DCE775","#A1887F","#90A4AE","#ef5350","#EC407A","#AB47BC","#7E57C2","#5C6BC0","#42A5F5","#29B6F6","#26C6DA","#26A69A","#66BB6A","#9CCC65","#8D6E63","#78909C","#f44336","#E91E63","#9C27B0","#673AB7","#3F51B5","#2196F3","#03A9F4","#00BCD4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548","#9E9E9E","#607D8B","#e53935","#D81B60","#8E24AA","#5E35B1","#3949AB","#1E88E5","#039BE5","#00ACC1","#00897B","#43A047","#7CB342","#C0CA33","#FDD835","#FFB300","#FB8C00","#F4511E","#6D4C41","#757575","#546E7A","#d32f2f","#C2185B","#7B1FA2","#512DA8","#303F9F","#1976D2","#0288D1","#0097A7","#00796B","#388E3C","#689F38","#AFB42B","#FBC02D","#FFA000","#F57C00","#E64A19","#5D4037","#616161","#455A64","#c62828","#AD1457","#6A1B9A","#4527A0","#283593","#1565C0","#0277BD","#00838F","#00695C","#2E7D32","#558B2F","#9E9D24","#F9A825","#FF8F00","#EF6C00","#D84315","#4E342E","#424242","#37474F","#b71c1c","#880E4F","#4A148C","#311B92","#1A237E","#0D47A1","#01579B","#006064","#004D40","#1B5E20","#33691E","#827717","#F57F17","#FF6F00","#E65100","#BF360C","#3E2723","#212121","#263238","#ff8a80","#FF80AB","#EA80FC","#B388FF","#8C9EFF","#82B1FF","#E040FB","#7C4DFF","#536DFE","#448AFF","#40C4FF","#64FFDA","#69F0AE","#D500F9","#3D5AFE","#2979FF","#00B0FF","#00E5FF","#1DE9B6","#00E676","#d50000","#C51162","#AA00FF","#6200EA","#304FFE","#2962FF","#0091EA","#00B8D4","#00BFA5","#00C853","#64DD17","#DD2C00"],JN=X0,BJ=()=>ht.random(X0),zJ=(i,e=1)=>{let t;return/^#([A-Fa-f0-9]{3}){1,2}$/.test(i)?(t=i.substring(1).split(""),t.length==3&&(t=[t[0],t[0],t[1],t[1],t[2],t[2]]),t="0x"+t.join(""),"rgba("+[t>>16&255,t>>8&255,t&255].join(",")+`,${e})`):`rgba(155,155,155,${e})`},Bk=(i,e=1)=>{let t;return/^#([A-Fa-f0-9]{3}){1,2}$/.test(i)?(t=i.substring(1).split(""),t.length==3&&(t=[t[0],t[0],t[1],t[1],t[2],t[2]]),t="0x"+t.join(""),[t>>16&255,t>>8&255,t&255].join(",")):"155,155,155"};class RJ{constructor(e){Ne(this,"hash");Ne(this,"assets");this.hash=this.fh5(e),this.assets={}}fh5(e){let t=3735928559;for(let n=0;n<e.length;n++)t=Math.imul(t^e.charCodeAt(n),2654435761);return(t^t>>>16)>>>0}xor(){return this.hash%2}pick(e,t=""){const n=Math.sqrt(parseInt(`${this.hash}${t}`,16)).toString().substr(3,4);return e.length?e[parseInt(n)%e.length]:null}}class jJ{constructor(e={}){Ne(this,"colors",[]);Ne(this,"size",42);Ne(this,"radius",.12);this.colors=(e.colors||[]).length?e.colors:JN,this.size=e.size||42,this.radius=e.radius||.12}}const bf=(i="")=>{let e=new jJ;return new RJ(i).pick(e.colors)};function zk(i){const e="\u200D",t=i.replace(/[a-zA-Z0-9]+/g,"").split(e);let n=0;for(const r of t){const s=Array.from(r.split(/[\ufe00-\ufe0f]/).join("")).length;n+=s}return n/t.length}function YJ(i){let e=i1(i[1])+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p(n,r){r&2&&e!==(e=i1(n[1])+"")&&oe(t,e)},d(n){n&&y(t)}}}function UJ(i){let e;return{c(){e=Z(i[3])},m(t,n){w(t,e,n)},p(t,n){n&8&&oe(e,t[3])},d(t){t&&y(e)}}}function qJ(i){let e,t,n,r,s;function l(u,c){if(u[3])return UJ;if(u[1]&&!u[2])return YJ}let o=l(i),a=o&&o(i);return{c(){e=A("div"),a&&a.c(),h(e,"class",t="n-avatar "+(i[3]?`emolen-${zk(i[3])}`:"no-emoji")+" "+i[0]+" "+i[5].join(" ")),h(e,"style",n=`${i[6].join("; ")}; ${i[4]}`)},m(u,c){w(u,e,c),a&&a.m(e,null),r||(s=ke(e,"click",Or(i[7])),r=!0)},p(u,[c]){o===(o=l(u))&&a?a.p(u,c):(a&&a.d(1),a=o&&o(u),a&&(a.c(),a.m(e,null))),c&41&&t!==(t="n-avatar "+(u[3]?`emolen-${zk(u[3])}`:"no-emoji")+" "+u[0]+" "+u[5].join(" "))&&h(e,"class",t),c&16&&n!==(n=`${u[6].join("; ")}; ${u[4]}`)&&h(e,"style",n)},i:W,o:W,d(u){u&&y(e),a&&a.d(),r=!1,s()}}}function HJ(i,e,t){let{size:n=32}=e,{label:r=void 0}=e,{src:s=void 0}=e,{emoji:l=void 0}=e,{transparent:o=!1}=e,{style:a=""}=e,{color:u=void 0}=e,{circle:c=!1}=e,{className:f=""}=e;const d=Dt();let m=[],p=[];function g(){d("click")}return i.$$set=k=>{"size"in k&&t(0,n=k.size),"label"in k&&t(1,r=k.label),"src"in k&&t(2,s=k.src),"emoji"in k&&t(3,l=k.emoji),"transparent"in k&&t(8,o=k.transparent),"style"in k&&t(4,a=k.style),"color"in k&&t(9,u=k.color),"circle"in k&&t(10,c=k.circle),"className"in k&&t(11,f=k.className)},i.$$.update=()=>{if(i.$$.dirty&3887){if(t(5,p=[f]),m.push(`--avatar-size:${n}px`),m.push(`height:${n}px; min-width:${n}px; width:${n}px`),s&&s.length)p.push("src"),m.push(`background-image:url(${s})`);else if(l&&l.length)p.push("emoji"),u&&m.push(`color:${u}`);else if(r&&r.length){p.push("label");const k=u||bf(r);m.push(`background-color:${k}; text-shadow:0px 2px 2px rgba(0,0,0,0.2); color:#FFF !important`),m.push(`font-size: ${n*.5}px`)}o&&p.push("transparent"),c?p.push("circle"):p.push("rounded")}},[n,r,s,l,a,p,m,g,o,u,c,f]}class Si extends ce{constructor(e){super(),ue(this,e,HJ,qJ,le,{size:0,label:1,src:2,emoji:3,transparent:8,style:4,color:9,circle:10,className:11})}}function WJ(i){let e,t,n,r,s;const l=i[20].default,o=He(l,i,i[19],null);return{c(){e=A("div"),o&&o.c(),h(e,"style",i[9]),h(e,"class",t="n-text "+` ${i[15]?"leading1":""} ${i[16]?"leading2":""} ${i[17]?"leading3":""} ${i[0]||"sm"} ${i[3]} text-${i[4]} ${i[11]?"truncate":""} ${i[12]?"truncate-2":""} ${i[13]?"truncate-3":""} ${i[7]?"line-height-md":""} ${i[2]?"text-center":""} ${i[14]?"text-underline":""} ${i[5]?"faded ":""} ${i[1]?"font-weight-bold ":""} ${i[8]?"font-weight-medium ":""}`.trim()+" svelte-ncnqt4")},m(a,u){w(a,e,u),o&&o.m(e,null),n=!0,r||(s=ke(e,"click",i[22]),r=!0)},p(a,u){o&&o.p&&(!n||u&524288)&&Ve(o,l,a,a[19],n?We(l,a[19],u,null):Ge(a[19]),null),(!n||u&512)&&h(e,"style",a[9]),(!n||u&260543&&t!==(t="n-text "+` ${a[15]?"leading1":""} ${a[16]?"leading2":""} ${a[17]?"leading3":""} ${a[0]||"sm"} ${a[3]} text-${a[4]} ${a[11]?"truncate":""} ${a[12]?"truncate-2":""} ${a[13]?"truncate-3":""} ${a[7]?"line-height-md":""} ${a[2]?"text-center":""} ${a[14]?"text-underline":""} ${a[5]?"faded ":""} ${a[1]?"font-weight-bold ":""} ${a[8]?"font-weight-medium ":""}`.trim()+" svelte-ncnqt4"))&&h(e,"class",t)},i(a){n||(_(o,a),n=!0)},o(a){v(o,a),n=!1},d(a){a&&y(e),o&&o.d(a),r=!1,s()}}}function VJ(i){let e,t,n,r,s;const l=i[20].default,o=He(l,i,i[19],null);return{c(){e=A("span"),o&&o.c(),h(e,"style",i[9]),h(e,"class",t="n-text "+` ${i[15]?"leading1":""} ${i[16]?"leading2":""} ${i[17]?"leading3":""} ${i[0]||"sm"} ${i[3]} text-${i[4]} ${i[11]?"truncate":""} ${i[12]?"truncate-2":""} ${i[13]?"truncate-3":""} ${i[7]?"line-height-md":""} ${i[2]?"text-center":""} ${i[14]?"text-underline":""} ${i[5]?"faded ":""} ${i[1]?"font-weight-bold ":""} ${i[8]?"font-weight-medium ":""}`.trim()+" svelte-ncnqt4")},m(a,u){w(a,e,u),o&&o.m(e,null),n=!0,r||(s=ke(e,"click",i[21]),r=!0)},p(a,u){o&&o.p&&(!n||u&524288)&&Ve(o,l,a,a[19],n?We(l,a[19],u,null):Ge(a[19]),null),(!n||u&512)&&h(e,"style",a[9]),(!n||u&260543&&t!==(t="n-text "+` ${a[15]?"leading1":""} ${a[16]?"leading2":""} ${a[17]?"leading3":""} ${a[0]||"sm"} ${a[3]} text-${a[4]} ${a[11]?"truncate":""} ${a[12]?"truncate-2":""} ${a[13]?"truncate-3":""} ${a[7]?"line-height-md":""} ${a[2]?"text-center":""} ${a[14]?"text-underline":""} ${a[5]?"faded ":""} ${a[1]?"font-weight-bold ":""} ${a[8]?"font-weight-medium ":""}`.trim()+" svelte-ncnqt4"))&&h(e,"class",t)},i(a){n||(_(o,a),n=!0)},o(a){v(o,a),n=!1},d(a){a&&y(e),o&&o.d(a),r=!1,s()}}}function GJ(i){let e,t,n,r;const s=[VJ,WJ],l=[];function o(a,u){return a[10]==="span"||a[6]?0:1}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=$e()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,[u]){let c=e;e=o(a),e===c?l[e].p(a,u):(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function ZJ(i,e,t){let{$$slots:n={},$$scope:r}=e,{size:s="md"}=e,{bold:l=!1}=e,{center:o=!1}=e,{className:a=""}=e,{color:u=""}=e,{faded:c=!1}=e,{inline:f=!1}=e,{lineHeightMd:d=!1}=e,{medium:m=!1}=e,{style:p=""}=e,{tag:g="div"}=e,{truncate:k=!1}=e,{truncate2:$=!1}=e,{truncate3:D=!1}=e,{underline:F=!1}=e,{leading1:C=!1}=e,{leading2:S=!1}=e,{leading3:P=!1}=e;const I=Dt(),R=()=>{I("click")},B=()=>{I("click")};return i.$$set=z=>{"size"in z&&t(0,s=z.size),"bold"in z&&t(1,l=z.bold),"center"in z&&t(2,o=z.center),"className"in z&&t(3,a=z.className),"color"in z&&t(4,u=z.color),"faded"in z&&t(5,c=z.faded),"inline"in z&&t(6,f=z.inline),"lineHeightMd"in z&&t(7,d=z.lineHeightMd),"medium"in z&&t(8,m=z.medium),"style"in z&&t(9,p=z.style),"tag"in z&&t(10,g=z.tag),"truncate"in z&&t(11,k=z.truncate),"truncate2"in z&&t(12,$=z.truncate2),"truncate3"in z&&t(13,D=z.truncate3),"underline"in z&&t(14,F=z.underline),"leading1"in z&&t(15,C=z.leading1),"leading2"in z&&t(16,S=z.leading2),"leading3"in z&&t(17,P=z.leading3),"$$scope"in z&&t(19,r=z.$$scope)},[s,l,o,a,u,c,f,d,m,p,g,k,$,D,F,C,S,P,I,r,n,R,B]}class Di extends ce{constructor(e){super(),ue(this,e,ZJ,GJ,le,{size:0,bold:1,center:2,className:3,color:4,faded:5,inline:6,lineHeightMd:7,medium:8,style:9,tag:10,truncate:11,truncate2:12,truncate3:13,underline:14,leading1:15,leading2:16,leading3:17})}}const xJ=i=>({}),Rk=i=>({}),XJ=i=>({}),jk=i=>({}),KJ=i=>({}),Yk=i=>({}),JJ=i=>({}),Uk=i=>({}),QJ=i=>({}),qk=i=>({});function Hk(i){let e,t,n,r,s,l,o,a;const u=i[9]["header-left"],c=He(u,i,i[10],qk),f=i[9]["header-right"],d=He(f,i,i[10],Uk),m=i[9].subheader,p=He(m,i,i[10],Yk);return{c(){e=A("header"),t=A("div"),n=A("h2"),r=Z(i[4]),s=Y(),c&&c.c(),l=Y(),d&&d.c(),o=Y(),p&&p.c(),h(n,"class","text-lg lg:text-2xl pl-1 font-bold leading-tight"),h(t,"class","outside-title flex items-end lg:mt-4 mb-1 lg:mb-2")},m(g,k){w(g,e,k),E(e,t),E(t,n),E(n,r),E(t,s),c&&c.m(t,null),E(t,l),d&&d.m(t,null),E(e,o),p&&p.m(e,null),a=!0},p(g,k){(!a||k&16)&&oe(r,g[4]),c&&c.p&&(!a||k&1024)&&Ve(c,u,g,g[10],a?We(u,g[10],k,QJ):Ge(g[10]),qk),d&&d.p&&(!a||k&1024)&&Ve(d,f,g,g[10],a?We(f,g[10],k,JJ):Ge(g[10]),Uk),p&&p.p&&(!a||k&1024)&&Ve(p,m,g,g[10],a?We(m,g[10],k,KJ):Ge(g[10]),Yk)},i(g){a||(_(c,g),_(d,g),_(p,g),a=!0)},o(g){v(c,g),v(d,g),v(p,g),a=!1},d(g){g&&y(e),c&&c.d(g),d&&d.d(g),p&&p.d(g)}}}function Wk(i){let e,t,n,r;t=new Di({props:{size:"xs",className:"pt-3 px-3 pb-2",bold:!0,faded:!0,$$slots:{default:[eQ]},$$scope:{ctx:i}}});const s=i[9]["header-left"],l=He(s,i,i[10],jk);return{c(){e=A("div"),O(t.$$.fragment),n=Y(),l&&l.c(),h(e,"class","flex items-center justify-between")},m(o,a){w(o,e,a),N(t,e,null),E(e,n),l&&l.m(e,null),r=!0},p(o,a){const u={};a&1040&&(u.$$scope={dirty:a,ctx:o}),t.$set(u),l&&l.p&&(!r||a&1024)&&Ve(l,s,o,o[10],r?We(s,o[10],a,XJ):Ge(o[10]),jk)},i(o){r||(_(t.$$.fragment,o),_(l,o),r=!0)},o(o){v(t.$$.fragment,o),v(l,o),r=!1},d(o){o&&y(e),M(t),l&&l.d(o)}}}function eQ(i){let e=i[4].toUpperCase()+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p(n,r){r&16&&e!==(e=n[4].toUpperCase()+"")&&oe(t,e)},d(n){n&&y(t)}}}function tQ(i){let e,t,n,r,s,l,o=i[4]&&i[7]&&Hk(i),a=i[4]&&!i[7]&&Wk(i);const u=i[9].default,c=He(u,i,i[10],null),f=i[9].bottom,d=He(f,i,i[10],Rk);return{c(){o&&o.c(),e=Y(),t=A("div"),a&&a.c(),n=Y(),c&&c.c(),s=Y(),d&&d.c(),h(t,"id",i[6]),h(t,"class",r="n-list "+(i[5]?"disabled":"")+" "+(i[1]?"solo":"")+" "+(i[2]?"transparent":"")+" "+i[3]),h(t,"style",i[0]),h(t,"role",i[8])},m(m,p){o&&o.m(m,p),w(m,e,p),w(m,t,p),a&&a.m(t,null),E(t,n),c&&c.m(t,null),w(m,s,p),d&&d.m(m,p),l=!0},p(m,[p]){m[4]&&m[7]?o?(o.p(m,p),p&144&&_(o,1)):(o=Hk(m),o.c(),_(o,1),o.m(e.parentNode,e)):o&&(ie(),v(o,1,1,()=>{o=null}),re()),m[4]&&!m[7]?a?(a.p(m,p),p&144&&_(a,1)):(a=Wk(m),a.c(),_(a,1),a.m(t,n)):a&&(ie(),v(a,1,1,()=>{a=null}),re()),c&&c.p&&(!l||p&1024)&&Ve(c,u,m,m[10],l?We(u,m[10],p,null):Ge(m[10]),null),(!l||p&64)&&h(t,"id",m[6]),(!l||p&46&&r!==(r="n-list "+(m[5]?"disabled":"")+" "+(m[1]?"solo":"")+" "+(m[2]?"transparent":"")+" "+m[3]))&&h(t,"class",r),(!l||p&1)&&h(t,"style",m[0]),(!l||p&256)&&h(t,"role",m[8]),d&&d.p&&(!l||p&1024)&&Ve(d,f,m,m[10],l?We(f,m[10],p,xJ):Ge(m[10]),Rk)},i(m){l||(_(o),_(a),_(c,m),_(d,m),l=!0)},o(m){v(o),v(a),v(c,m),v(d,m),l=!1},d(m){o&&o.d(m),m&&y(e),m&&y(t),a&&a.d(),c&&c.d(m),m&&y(s),d&&d.d(m)}}}function nQ(i,e,t){let{$$slots:n={},$$scope:r}=e,{style:s=""}=e,{solo:l=!1}=e,{transparent:o=!1}=e,{className:a=""}=e,{title:u=void 0}=e,{disabled:c=!1}=e,{id:f=""}=e,{outside:d=!1}=e,{role:m="menu"}=e;return i.$$set=p=>{"style"in p&&t(0,s=p.style),"solo"in p&&t(1,l=p.solo),"transparent"in p&&t(2,o=p.transparent),"className"in p&&t(3,a=p.className),"title"in p&&t(4,u=p.title),"disabled"in p&&t(5,c=p.disabled),"id"in p&&t(6,f=p.id),"outside"in p&&t(7,d=p.outside),"role"in p&&t(8,m=p.role),"$$scope"in p&&t(10,r=p.$$scope)},[s,l,o,a,u,c,f,d,m,n,r]}class Ft extends ce{constructor(e){super(),ue(this,e,nQ,tQ,le,{style:0,solo:1,transparent:2,className:3,title:4,disabled:5,id:6,outside:7,role:8})}}const QN=i=>K0.find(e=>e.id==i),K0=[{id:"open-streak-1",name:"1 Day Open Streak",value:.01,config:{type:"open-streak",days:1}},{id:"open-streak-2",name:"2 Day Open Streak",value:.02,config:{type:"open-streak",days:2}},{id:"open-streak-7",name:"7 Day Open Streak",value:.05,config:{type:"open-streak",days:7}},{id:"open-streak-14",name:"14 Day Open Streak",value:.1,config:{type:"open-streak",days:14}},{id:"open-streak-30",name:"30 Day Open Streak",value:.6,config:{type:"open-streak",days:30}},{id:"open-streak-90",name:"90 Day Open Streak",value:1,config:{type:"open-streak",days:90}},{id:"usage-1-year",name:"1 Year of Nomie",value:.6,config:{type:"usage-length",days:365}},{id:"usage-2-year",name:"2 Years of Nomie",value:.6,config:{type:"usage-length",days:365*2}},{id:"usage-3-year",name:"3 Years of Nomie",value:.6,config:{type:"usage-length",days:365*3}},{id:"usage-4-year",name:"4 Years of Nomie",value:.6,config:{type:"usage-length",days:365*4}},{id:"usage-5-year",name:"5 Years of Nomie",value:.6,config:{type:"usage-length",days:365*5}},{id:"usage-6-year",name:"s of Nomie",value:.6,config:{type:"usage-length",days:365*6}},{id:"usage-7-year",name:"7 Years of Nomie",value:.6,config:{type:"usage-length",days:365*7}},{id:"usage-8-year",name:"8 Years of Nomie",value:.6,config:{type:"usage-length",days:365*8}},{id:"usage-9-year",name:"9 Years of Nomie",value:.6,config:{type:"usage-length",days:365*9}},{id:"usage-10-year",name:"A decade of Nomie",value:.6,config:{type:"usage-length",days:365*10}},{id:"award-creator",name:"The Creator",reason:"Created a tracker",value:.8},{id:"award-wordsmith",name:"Wordsmith",value:.7}];function Vk(i,e,t){const n=i.slice();return n[7]=e[t],n[9]=t,n}function Gk(i,e,t){const n=i.slice();return n[10]=e[t],n[12]=t,n}function Zk(i){let e,t;function n(...s){return i[5](i[10],...s)}function r(...s){return i[6](i[10],...s)}return e=new Me({props:{role:"menuitem",id:`${i[10].id||`button-id-${i[12]}`}`,size:"lg",ariaLabel:i[10].title,disabled:i[10].disabled,mainClass:"flex items-center space-between",className:"pm2-button h-auto flex items-center "+(i[10].awardRequired?i[2].awards.find(n)?"unlocked":"locked":""),$$slots:{right:[oQ],left:[rQ],default:[iQ]},$$scope:{ctx:i}}}),e.$on("click",r),{c(){O(e.$$.fragment)},m(s,l){N(e,s,l),t=!0},p(s,l){i=s;const o={};l&2&&(o.id=`${i[10].id||`button-id-${i[12]}`}`),l&2&&(o.ariaLabel=i[10].title),l&2&&(o.disabled=i[10].disabled),l&6&&(o.className="pm2-button h-auto flex items-center "+(i[10].awardRequired?i[2].awards.find(n)?"unlocked":"locked":"")),l&8194&&(o.$$scope={dirty:l,ctx:i}),e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){v(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function xk(i){let e,t,n=i[10].description+"",r;return{c(){e=A("div"),t=A("p"),r=Z(n),h(t,"class","line-clamp-3 leading-tight"),h(e,"class","text-sm text-gray-500 leading-tight font-base text-left pr-4 mt-1"),h(e,"aria-label","Description")},m(s,l){w(s,e,l),E(e,t),E(t,r)},p(s,l){l&2&&n!==(n=s[10].description+"")&&oe(r,n)},d(s){s&&y(e)}}}function Xk(i){let e,t=i[10].right+"",n;return{c(){e=A("div"),n=Z(t),h(e,"class","right-text")},m(r,s){w(r,e,s),E(e,n)},p(r,s){s&2&&t!==(t=r[10].right+"")&&oe(n,t)},d(r){r&&y(e)}}}function iQ(i){let e,t,n=i[10].title+"",r,s,l,o,a=i[10].description&&xk(i),u=i[10].right&&Xk(i);return{c(){e=A("div"),t=A("div"),r=Z(n),s=Y(),a&&a.c(),l=Y(),u&&u.c(),o=$e(),h(t,"class","title"),h(e,"class","w-full pr-4")},m(c,f){w(c,e,f),E(e,t),E(t,r),E(e,s),a&&a.m(e,null),w(c,l,f),u&&u.m(c,f),w(c,o,f)},p(c,f){f&2&&n!==(n=c[10].title+"")&&oe(r,n),c[10].description?a?a.p(c,f):(a=xk(c),a.c(),a.m(e,null)):a&&(a.d(1),a=null),c[10].right?u?u.p(c,f):(u=Xk(c),u.c(),u.m(o.parentNode,o)):u&&(u.d(1),u=null)},d(c){c&&y(e),a&&a.d(),c&&y(l),u&&u.d(c),c&&y(o)}}}function Kk(i){let e,t,n,r;return t=new je({props:{className:"text-gray-800 dark:text-gray-200",icon:fp}}),{c(){e=A("div"),O(t.$$.fragment),h(e,"class","mr-4")},m(s,l){w(s,e,l),N(t,e,null),r=!0},p:W,i(s){r||(_(t.$$.fragment,s),n||Rn(()=>{n=up(e,xu,{y:50}),n.start()}),r=!0)},o(s){v(t.$$.fragment,s),r=!1},d(s){s&&y(e),M(t)}}}function rQ(i){let e,t,n=i[10].checked&&Kk();return{c(){e=A("div"),n&&n.c(),h(e,"slot","left"),h(e,"class","text-gray-500")},m(r,s){w(r,e,s),n&&n.m(e,null),t=!0},p(r,s){r[10].checked?n?(n.p(r,s),s&2&&_(n,1)):(n=Kk(),n.c(),_(n,1),n.m(e,null)):n&&(ie(),v(n,1,1,()=>{n=null}),re())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){r&&y(e),n&&n.d()}}}function sQ(i){let e,t;return e=new Si({props:{emoji:i[10].emoji,size:42}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.emoji=n[10].emoji),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function lQ(i){let e,t;return e=new je({props:{icon:i[10].icon,className:"text-gray-500"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.icon=n[10].icon),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function oQ(i){let e,t,n,r;const s=[lQ,sQ],l=[];function o(a,u){return a[10].icon?0:a[10].emoji?1:-1}return~(t=o(i))&&(n=l[t]=s[t](i)),{c(){e=A("div"),n&&n.c(),h(e,"slot","right"),h(e,"class","flex items-center")},m(a,u){w(a,e,u),~t&&l[t].m(e,null),r=!0},p(a,u){let c=t;t=o(a),t===c?~t&&l[t].p(a,u):(n&&(ie(),v(l[c],1,1,()=>{l[c]=null}),re()),~t?(n=l[t],n?n.p(a,u):(n=l[t]=s[t](a),n.c()),_(n,1),n.m(e,null)):n=null)},i(a){r||(_(n),r=!0)},o(a){v(n),r=!1},d(a){a&&y(e),~t&&l[t].d()}}}function Jk(i){let e,t,n=i[10].title&&Zk(i);return{c(){n&&n.c(),e=$e()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,s){r[10].title?n?(n.p(r,s),s&2&&_(n,1)):(n=Zk(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ie(),v(n,1,1,()=>{n=null}),re())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function aQ(i){let e,t,n=i[7],r=[];for(let l=0;l<n.length;l+=1)r[l]=Jk(Gk(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=Y()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o&14){n=l[7];let a;for(a=0;a<n.length;a+=1){const u=Gk(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=Jk(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ie(),a=n.length;a<r.length;a+=1)s(a);re()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){it(r,l),l&&y(e)}}}function Qk(i){let e,t;return e=new Ft({props:{className:"rounded-xl pop-buttons  "+(i[0]=="grid"?"list-grid":"")+" overflow-y-auto",$$slots:{default:[aQ]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.className="rounded-xl pop-buttons  "+(n[0]=="grid"?"list-grid":"")+" overflow-y-auto"),r&8198&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function uQ(i){let e,t,n=i[1],r=[];for(let l=0;l<n.length;l+=1)r[l]=Qk(Vk(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=$e()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,[o]){if(o&15){n=l[1];let a;for(a=0;a<n.length;a+=1){const u=Vk(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=Qk(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ie(),a=n.length;a<r.length;a+=1)s(a);re()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){it(r,l),l&&y(e)}}}function cQ(i,e,t){let n;Ee(i,zr,c=>t(2,n=c));let{buttons:r=[]}=e,{listType:s="list"}=e,l=Dt(),o=[];const a=(c,f)=>f.id==c.awardRequired,u=async(c,f)=>{c.disabled||(c.awardRequired&&!n.awards.find(d=>d.id==c.awardRequired)?Xe.alert(`You need the ${QN(c.awardRequired).name} Award before you can use this feature`):(await Et(200),c.click(),l("clicked",f),c.skipClosing||l("close")))};return i.$$set=c=>{"buttons"in c&&t(4,r=c.buttons),"listType"in c&&t(0,s=c.listType)},i.$$.update=()=>{if(i.$$.dirty&18&&r){t(1,o=[[]]);let c=o.length-1;r.forEach(f=>{f.divider&&(o.push([]),c=o.length-1),o[c].push(f)})}},[s,o,n,l,r,a,u]}class fQ extends ce{constructor(e){super(),ue(this,e,cQ,uQ,le,{buttons:4,listType:0})}}function dQ(i){let e,t;return e=new Si({props:{size:i[3],className:i[1],style:i[2],label:"Unknown",color:"#666666"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&8&&(s.size=n[3]),r&2&&(s.className=n[1]),r&4&&(s.style=n[2]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function hQ(i){let e,t;return e=new Si({props:{size:i[3],className:i[1],style:i[2],src:i[0].avatar,emoji:i[0].emoji,label:i[0].label,color:i[0].color}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&8&&(s.size=n[3]),r&2&&(s.className=n[1]),r&4&&(s.style=n[2]),r&1&&(s.src=n[0].avatar),r&1&&(s.emoji=n[0].emoji),r&1&&(s.label=n[0].label),r&1&&(s.color=n[0].color),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function mQ(i){let e,t,n,r;const s=[hQ,dQ],l=[];function o(a,u){return a[0]?0:1}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=$e()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,[u]){let c=e;e=o(a),e===c?l[e].p(a,u):(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function pQ(i,e,t){let{trackable:n}=e,{className:r=""}=e,{style:s=""}=e,{size:l=32}=e;return i.$$set=o=>{"trackable"in o&&t(0,n=o.trackable),"className"in o&&t(1,r=o.className),"style"in o&&t(2,s=o.style),"size"in o&&t(3,l=o.size)},[n,r,s,l]}class fi extends ce{constructor(e){super(),ue(this,e,pQ,mQ,le,{trackable:0,className:1,style:2,size:3})}}function ey(i){let e,t,n,r,s,l,o,a=i[0].trackable&&ty(i),u=i[0].title&&ny(i),c=i[0].description&&iy(i);return{c(){e=A("header"),a&&a.c(),t=Y(),n=A("main"),u&&u.c(),r=Y(),c&&c.c(),s=Y(),l=A("div"),h(n,"class","py-0"),h(l,"class","filler"),h(e,"class","space-x-3 px-2 flex items-center py-1")},m(f,d){w(f,e,d),a&&a.m(e,null),E(e,t),E(e,n),u&&u.m(n,null),E(n,r),c&&c.m(n,null),E(e,s),E(e,l),o=!0},p(f,d){f[0].trackable?a?(a.p(f,d),d&1&&_(a,1)):(a=ty(f),a.c(),_(a,1),a.m(e,t)):a&&(ie(),v(a,1,1,()=>{a=null}),re()),f[0].title?u?u.p(f,d):(u=ny(f),u.c(),u.m(n,r)):u&&(u.d(1),u=null),f[0].description?c?c.p(f,d):(c=iy(f),c.c(),c.m(n,null)):c&&(c.d(1),c=null)},i(f){o||(_(a),o=!0)},o(f){v(a),o=!1},d(f){f&&y(e),a&&a.d(),u&&u.d(),c&&c.d()}}}function ty(i){let e,t;return e=new fi({props:{size:48,className:"shadow-md",trackable:i[0].trackable}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.trackable=n[0].trackable),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function ny(i){let e,t=i[0].title+"",n,r;return{c(){e=A("h5"),n=Z(t),h(e,"aria-label","Title"),h(e,"class",r="font-semibold text-black dark:text-white text-lg leading-tight "+(i[0].description?"mt-3":"pb-1"))},m(s,l){w(s,e,l),E(e,n)},p(s,l){l&1&&t!==(t=s[0].title+"")&&oe(n,t),l&1&&r!==(r="font-semibold text-black dark:text-white text-lg leading-tight "+(s[0].description?"mt-3":"pb-1"))&&h(e,"class",r)},d(s){s&&y(e)}}}function iy(i){let e,t=i[0].description+"",n;return{c(){e=A("p"),n=Z(t),h(e,"class","p-0 m-0 mb-2 mt-2 text-sm leading-tight text-gray-600 dark:text-gray-400 line-clamp-4")},m(r,s){w(r,e,s),E(e,n)},p(r,s){s&1&&t!==(t=r[0].description+"")&&oe(n,t)},d(r){r&&y(e)}}}function ry(i){let e,t,n;const r=[i[0].componentProps||{}];var s=i[0].component;function l(o){let a={};for(let u=0;u<r.length;u+=1)a=ft(a,r[u]);return{props:a}}return s&&(t=an(s,l())),{c(){e=A("div"),t&&O(t.$$.fragment),h(e,"class","rounded-xl overflow-hidden flex-shrink-0 text-gray-500")},m(o,a){w(o,e,a),t&&N(t,e,null),n=!0},p(o,a){const u=a&1?At(r,[Ki(o[0].componentProps||{})]):{};if(s!==(s=o[0].component)){if(t){ie();const c=t;v(c.$$.fragment,1,0,()=>{M(c,1)}),re()}s?(t=an(s,l()),O(t.$$.fragment),_(t.$$.fragment,1),N(t,e,null)):t=null}else s&&t.$set(u)},i(o){n||(t&&_(t.$$.fragment,o),n=!0)},o(o){t&&v(t.$$.fragment,o),n=!1},d(o){o&&y(e),t&&M(t)}}}function _Q(i){let e=_e.t("general.close","Close")+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p:W,d(n){n&&y(t)}}}function gQ(i){let e,t,n,r,s,l,o,a,u,c,f=(i[0].title||i[0].description)&&ey(i),d=i[0].component&&ry(i);return l=new fQ({props:{buttons:i[0].buttons,listType:i[0].buttonView}}),l.$on("close",i[2]),u=new Me({props:{size:"lg",className:"w-full bg-red-gradient text-white stiff",style:"min-height:50px;",$$slots:{default:[_Q]},$$scope:{ctx:i}}}),u.$on("click",i[3]),{c(){e=A("div"),t=A("div"),f&&f.c(),n=Y(),d&&d.c(),r=Y(),s=A("main"),O(l.$$.fragment),o=Y(),a=A("footer"),O(u.$$.fragment),h(s,"class","overflow-y-auto space-y-3"),h(a,"class","pb-1"),h(t,"class","pop-menu2 shadow-2xl"),h(t,"role","dialog"),h(e,"class","pop-menu2-wrapper w-full max-w-md"),nt(e,"min-width","320px")},m(m,p){w(m,e,p),E(e,t),f&&f.m(t,null),E(t,n),d&&d.m(t,null),E(t,r),E(t,s),N(l,s,null),E(t,o),E(t,a),N(u,a,null),c=!0},p(m,[p]){m[0].title||m[0].description?f?(f.p(m,p),p&1&&_(f,1)):(f=ey(m),f.c(),_(f,1),f.m(t,n)):f&&(ie(),v(f,1,1,()=>{f=null}),re()),m[0].component?d?(d.p(m,p),p&1&&_(d,1)):(d=ry(m),d.c(),_(d,1),d.m(t,r)):d&&(ie(),v(d,1,1,()=>{d=null}),re());const g={};p&1&&(g.buttons=m[0].buttons),p&1&&(g.listType=m[0].buttonView),l.$set(g);const k={};p&16&&(k.$$scope={dirty:p,ctx:m}),u.$set(k)},i(m){c||(_(f),_(d),_(l.$$.fragment,m),_(u.$$.fragment,m),c=!0)},o(m){v(f),v(d),v(l.$$.fragment,m),v(u.$$.fragment,m),c=!1},d(m){m&&y(e),f&&f.d(),d&&d.d(),M(l),M(u)}}}function vQ(i,e,t){let{menu:n}=e,{id:r}=e;const s=o=>{Ot(r)},l=()=>{Ot(r)};return i.$$set=o=>{"menu"in o&&t(0,n=o.menu),"id"in o&&t(1,r=o.id)},[n,r,s,l]}class bQ extends ce{constructor(e){super(),ue(this,e,vQ,gQ,le,{menu:0,id:1})}}const ls=i=>{en({id:`popmenu-${i.id}`,component:bQ,tappable:!0,componentProps:{menu:i},position:"bottom"})},Oa=(i,e=[])=>{const t=y_(i);ls({id:`date-options-${i.toDateString()}`,title:"Date Options",buttons:[...t,...e]})},kQ=i=>or.positivity.sort((e,t)=>e.score<t.score?1:-1).map(e=>({title:e.label,emoji:e.emoji,click(){i(e)}})),yQ=i=>new Promise(e=>{ls({title:"Select Positivity",id:"select-positivity",buttons:kQ(e)})});function Eo(i,e=!1){let t=typeof i=="number"?i:0;t<-2?t=-2:t>2?t=2:t===void 0&&(t=0);let n=or.positivity.find(r=>r.score==t);if(n)return e?n.emoji:n}function wQ(i,e){let t=0,n=0,r=0,s=0,l=Array(24).fill(0);return i.forEach(o=>{let a=o.score||Ja(o.note,o.end,e);a==0?r++:a>0?t=t+a:n=n+Math.abs(a),s++;let u=o.endDayjs().hour();l[u]=l[u]+a}),{positive:t,negative:n,neutral:r,total:s,byHour:l}}new Uo("modules/hooks");class eM{constructor(){Ne(this,"hooks");this.hooks={}}hook(e,t){if(typeof t=="function")return this.hooks[e]=this.hooks[e]||[],this.hooks[e].push(t),()=>{this.hooks[e]=this.hooks[e].filter(n=>n!==t)}}run(e,t){this.hooks.hasOwnProperty(e)&&this.hooks[e].forEach(n=>{n(t)})}}const $Q=i=>new FQ(i).pick(X0);class FQ{constructor(e){Ne(this,"hash");Ne(this,"assets");this.hash=this.fh5(e),this.assets={}}fh5(e){let t=3735928559;for(let n=0;n<e.length;n++)t=Math.imul(t^e.charCodeAt(n),2654435761);return(t^t>>>16)>>>0}xor(){return this.hash%2}pick(e,t=""){const n=Math.sqrt(parseInt(`${this.hash}${t}`,16)).toString().substr(3,4);return e.length?e[parseInt(n)%e.length]:null}}class yp{constructor(e){Ne(this,"tag");Ne(this,"duration");Ne(this,"label");Ne(this,"avatar");Ne(this,"emoji");Ne(this,"color");e&&typeof e=="string"?(this.tag=e,this.label=e.replace("+","")):e&&typeof e=="object"&&e.tag&&(this.tag=e.tag,this.label=e.label||e.tag,this.duration=e.duration||1,this.avatar=e.avatar,this.emoji=e.emoji,this.color=e.color||$Q(this.tag))}get asObject(){return JSON.parse(JSON.stringify(this))}toTrackable(){return new ri({type:"context",id:this.tag,ctx:this,value:1})}}var EQ=Fd,DQ=Ed,CQ="[object Number]";function SQ(i){return typeof i=="number"||DQ(i)&&EQ(i)==CQ}var TQ=SQ;class jl{constructor(e={}){Ne(this,"username");Ne(this,"displayName");Ne(this,"avatar");Ne(this,"emoji");Ne(this,"color");Ne(this,"last");Ne(this,"notes");typeof e=="string"?(this.username=e,this.displayName=e,this.last=new Date,this.notes="",e={}):typeof e=="object"&&(this.username=e.username?e.username.toLowerCase():void 0,this.displayName=e.displayName||e.username,this.avatar=e.avatar,this.last=e.last?new Date(e.last):new Date,this.notes=e.notes||"",this.emoji=e.emoji,this.color=e.color)}setLast(e){e=e||new Date,this.last=e}getLast(){return this.last}toTrackable(){return new ri({type:"person",id:this.username,person:this})}setUsername(e){this.username=e}setDisplayName(e){this.displayName=e}setAvatar(e){this.avatar=e}getUsername(){return this.username}getDisplayName(){return this.displayName||this.username}getAvatar(){return this.avatar}}const Do={num:{singular:"Count",plural:"Count",symbol:"",type:"general"},steps:{singular:"Step",plural:"Steps",symbol:"steps",type:"general"},bottles:{singular:"Bottle",plural:"Bottles",symbol:"",type:"general"},reps:{singular:"Rep",plural:"Reps",symbol:"",type:"general"},pages:{singular:"Page",plural:"Pages",symbol:"",type:"general"},tabs:{singular:"Tab",plural:"Tabs",symbol:"",type:"health"},calorie:{singular:"Calorie",plural:"Calories",symbol:"cal",type:"health"},kcal:{singular:"Kcal",plural:"Kcals",symbol:"kcal",type:"health"},capsules:{singular:"Capsule",plural:"Capsules",symbol:"caps",type:"health"},bpm:{singular:"Beat Per Minute",plural:"Beat Per Minute",symbol:"bpm",type:"health"},pain:{singular:"Pain",plural:"Pain",symbol:"",type:"health"},percent:{singular:"Percent",plural:"Percent",symbol:"%",type:"general",symbolAffix:"post"},iu:{singular:"International Unit",plural:"International Units",symbolAffix:"post",symbol:"IU",type:"general"},dollars:{singular:"Dollar",plural:"Dollars",symbol:"$",type:"currency",symbolAffix:"pre",display:function(i){return"$"+i.toFixed(2)}},peso:{singular:"Peso",plural:"Peso",symbol:"$",type:"currency",symbolAffix:"pre",display:function(i){return"$"+i.toFixed(2)}},franc:{singular:"Franc",plural:"Francs",symbol:"Fr.",type:"currency",symbolAffix:"pre",display:function(i){return"Fr. "+i.toFixed(2)}},cpound:{singular:"Pound",plural:"Pounds",symbol:"\xA3",type:"currency",symbolAffix:"pre",display:function(i){return"\xA3"+i.toFixed(2)}},rupee:{singular:"Rupee",plural:"Rupees",symbol:"Rs.",type:"currency",symbolAffix:"pre",display:function(i){return"Rs. "+i.toFixed(2)}},yen:{singular:"Yen",plural:"Yen",symbol:"\xA5",type:"currency",symbolAffix:"pre",display:function(i){return"\xA5"+i.toFixed(2)}},yuan:{singular:"Yuan",plural:"Yuan",symbol:"\xA5",type:"currency",symbolAffix:"pre",display:function(i){return"\xA5"+i.toFixed(2)}},bitcoin:{singular:"Bitcoin",plural:"Bitcoins",type:"currency",symbolAffix:"pre",symbol:"B"},euro:{singular:"Euro",plural:"Euros",symbol:"\u20AC",type:"currency",symbolAffix:"pre",display:function(i){return"\u20AC"+i.toFixed(2)}},timer:{singular:"Time",plural:"Time",symbol:"",type:"timer",symbolAffix:"post",symbolSpace:!1,display:function(i){var e=parseInt(i,10),t=Math.floor(e/3600),n=Math.floor((e-t*3600)/60),r=e-t*3600-n*60;return t?t+"h "+n+"m":n+"m "+r+"s"}},sec:{singular:"Second",plural:"Seconds",symbol:"secs",type:"time",symbolAffix:"post",symbolSpace:!0,display:function(i){return i<3600?i+"s":Math.round(i/60*100)/100+"m"}},min:{singular:"Minute",plural:"Minutes",symbol:"m",type:"time",symbolAffix:"post",symbolSpace:!1,display:function(i){return i<60?i+"m":i>60&&i<1441?Math.round(i/60*100)/100+"h":(i>1440&&i<1e4,(i/1440).toFixed(0)+"d")}},hour:{singular:"Hour",plural:"Hours",symbol:"hrs",type:"time",symbolAffix:"post",symbolSpace:!1,display:function(i){return i<168?Math.round(i*100)/100+"h":(i/24).toFixed(0)+"d"}},day:{singular:"Day",plural:"Days",symbol:"days",type:"time"},mm:{singular:"Millimeter",plural:"Millimeters",symbol:"mm",type:"distance",system:"metric"},cm:{singular:"Centimeter",plural:"Centimeters",symbol:"cm",type:"distance",symbolAffix:"post",symbolSpace:!0,system:"metric"},meter:{singular:"Meter",plural:"Meter",symbol:"m",type:"distance",symbolAffix:"post",symbolSpace:!0,system:"metric"},km:{singular:"Kilometer",plural:"Kilometers",symbol:"km",type:"distance",symbolAffix:"post",symbolSpace:!0,system:"metric",cousin:"mile",convert(i){return i&&i*.621371}},inch:{singular:"Inch",plural:"Inches",symbol:"in",type:"distance",symbolAffix:"post",symbolSpace:!0},degrees:{singular:"Degree",plural:"Degrees",symbol:"\xB0",type:"temperature",symbolAffix:"post",symbolSpace:!1},celsius:{singular:"Celsius",plural:"Celsius",symbol:"\xB0C",type:"temperature",symbolAffix:"post",symbolSpace:!1,system:"metric",cousin:"fahrenheit"},kelvin:{singular:"Kelvin",plural:"Kelvin",symbol:"K",type:"temperature",symbolAffix:"post",symbolSpace:!1},fahrenheit:{singular:"Fahrenheit",plural:"Fahrenheit",symbol:"\xB0F",type:"temperature",symbolAffix:"post",symbolSpace:!1,system:"imperial",cousin:"celcius"},foot:{singular:"Foot",plural:"Feet",symbol:"ft",type:"distance",symbolAffix:"post",symbolSpace:!0,system:"imperial"},yard:{singular:"Yard",plural:"Yards",symbol:"yrds",type:"distance",symbolAffix:"post",symbolSpace:!0,system:"imperial"},mile:{singular:"Mile",plural:"Miles",symbol:"mi",type:"distance",symbolAffix:"post",system:"imperial",cousin:"km",convert(i){return i&&i/.621371}},mcg:{singular:"Microgram",plural:"Micrograms",symbol:"mcg",type:"weight",symbolAffix:"post"},mg:{singular:"Milligram",plural:"Milligrams",symbol:"mg",type:"weight",symbolAffix:"post",system:"metric"},gram:{singular:"Gram",plural:"Grams",symbol:"g",type:"weight",symbolAffix:"post",system:"metric",cousin:"oz",convert(i){return i&&i/28.3495}},kg:{singular:"Kilogram",plural:"Kilograms",symbol:"kg",type:"weight",symbolAffix:"post",system:"metric",cousin:"pound",convert(i){return i&&i/.453592}},stone:{singular:"Stone",plural:"Stones",symbol:"st",type:"weight",system:"metric"},oz:{singular:"Ounce",plural:"Ounces",symbol:"oz",type:"weight",symbolAffix:"post",symbolSpace:!0,system:"imperial",cousin:"gram",convert(i){return i&&i*28.3495}},pound:{singular:"Pound",plural:"Pounds",symbol:"lbs",type:"weight",symbolAffix:"post",symbolSpace:!0,system:"imperial",cousin:"kg",convert(i){return i&&i*.453592}},cup:{singular:"Cup",plural:"Cups",symbol:"cups",type:"volume",symbolAffix:"post",symbolSpace:!0,system:"imperial"},fluidounce:{singular:"Fluid Ounce",plural:"Fluid Ounces",symbol:"oz",type:"volume",symbolAffix:"post",symbolSpace:!0,system:"imperial",cousin:"milliliter",convert(i){return i*29.57353}},pint:{singular:"Pint",plural:"Pints",symbol:"pint",type:"volume"},deciliter:{singular:"Deciliter",plural:"Deciliters",symbol:"dL",type:"volume"},mdgl:{singular:"Blood Sugar",plural:"Blood Sugar",symbol:"mg/dl",type:"health",symbolAffix:"post",symbolSpace:!0},quart:{singular:"Quart",plural:"Quarts",symbol:"qt",type:"volume",symbolAffix:"post"},gallon:{singular:"Gallon",plural:"Gallons",symbol:"gal",type:"volume",symbolAffix:"post",symbolSpace:!0,system:"imperial",cousin:"liter",convert(i){return i!==0?i*3.78:i}},liter:{singular:"Liter",plural:"Liters",symbol:"L",type:"volume",symbolAffix:"post",symbolSpace:!1,system:"metric",cousin:"gallon",convert(i){return i!==0?i/3.78:i}},kiloliter:{singular:"Kiloliter",plural:"Kiloliters",symbol:"kl",type:"volume",symbolAffix:"post",symbolSpace:!1,system:"metric"},milliliter:{singular:"Millilitre",plural:"Millilitres",symbol:"ml",type:"volume",symbolAffix:"post",symbolSpace:!1,system:"metric"}},sy=i=>{const e=Do[i];return e?e.plural:i},J0=i=>{const e=Do[i];return!e||!e.symbol?"":e.symbol},AQ=i=>Do[i],PQ=(i,e,t=!0)=>{const n=[i],r=AQ(e);return r?(r.symbolAffix==="post"&&t?n.push(`${r.symbolSpace?" ":""}${r.symbol}`):r.symbolAffix==="pre"&&t&&n.unshift(`${r.symbol}${r.symbolSpace?" ":""}`),n.join(" ")):i},NQ=(i,e,t)=>{const n=Do[e];return!n||!n.display?PQ(i,e,t):n.display(i,t)},tM=(i=!0)=>{let e={};return Object.keys(Do).forEach(t=>{let n=Do[t];n.key=t,e[n.type]=e[n.type]||[],e[n.type].push(n)}),Object.keys(e).forEach(t=>{e[t]=e[t].sort((n,r)=>n.plural>r.plural?1:-1)}),i&&delete e.timer,e};function nM(i){return(i||"").replace(/('|"|\?|-|\)|\(|\*|\&|\||\$|\@|\+|\#)/gi,"").trim().replace(/( )/g,"_").toLowerCase()}class oi{constructor(e){Ne(this,"id");Ne(this,"tag");Ne(this,"label");Ne(this,"type");Ne(this,"color");Ne(this,"math");Ne(this,"ignore_zeros");Ne(this,"uom");Ne(this,"emoji");Ne(this,"avatar");Ne(this,"default");Ne(this,"max");Ne(this,"min");Ne(this,"maxLabel");Ne(this,"minLabel");Ne(this,"step");Ne(this,"score");Ne(this,"score_calc");Ne(this,"goal");Ne(this,"one_tap");Ne(this,"include");Ne(this,"note");Ne(this,"hidden");Ne(this,"started");Ne(this,"picks");Ne(this,"_dirty");Ne(this,"focus");e=e||{},this.tag=this.toTag(e.tag||""),this.tag.length?this._dirty=void 0:this._dirty=!0,this.id=e.id||pn(),this.type=e.type||"tick",this.color=e.color||"#369DD3",this.math=e.math||"sum",this.ignore_zeros=e.ignore_zeros||!1,this.uom=e.uom||"num",this.focus=e.focus||[],this.emoji=e.emoji||null,this.avatar=e.avatar||null,this.default=e.default,this.type==="range"&&(this.max=e.max?e.max.toString():"10",this.min=e.max?e.min.toString():"1",this.step=e.step||"1",this.minLabel=e.minLabel,this.maxLabel=e.maxLabel),this.score=e.score,this.score_calc=e.score_calc,this.goal=e.goal,this.one_tap=e.one_tap===!0,this.include=e.include||"",this.note=e.note,this.hidden=e.hidden===!0,this.type==="timer"&&(this.started=e.started),this.picks=e.picks||void 0,e.label?this.label=e.label:this.label=this.displayTag()}getUID(){return pn(this.tag)}toTrackable(e){return new ri({type:"tracker",id:this.id,tracker:this,value:Nn(e)})}toNoteString(e=void 0){const t=[];return t.push(`#${this.tag}`),e!==void 0?(t.push(`(${e})`),this.include&&this.include.length&&t.push(` ${this.getIncluded(e)}`)):this.default&&(t.push(`(${this.default})`),this.include&&this.include.length&&(t.push(" "),t.push(` ${this.getIncluded(this.default)}`))),t.join("").trim()}getIncluded(e){let t=this.include||"";return t.search("{value}")>-1?t=t.replace(/\{value\}/gi,e||""):t=t.replace(/\*/,e||""),t.trim()}toToken(e){const t=e?`#${this.tag}(${e})`:`#${this.tag}`;return{id:this.tag,type:"tracker",raw:t,prefix:"#",value:Nn(e)}}displayTag(){return this.tag.replace(/_/g," ").split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}toTag(e){return nM(e)}displayValue(e,t=!0){let n=Nn(e)||0;return NQ(Math.round(n*100)/100,this.uom,t)}calculateScore(e,t){return Wf(e,this,t)}displayValues(e,t=!0){const n=this.math==="sum"?ht.sum(e):ht.average(e);return this.displayValue(n,t)}get asObject(){return JSON.parse(JSON.stringify(this))}}function nc(i){return i===!1?!1:i!=null}const jn={emoji(i){const e=["(?:[\u2700-\u27BF]|(?:\uD83C[\uDDE6-\uDDFF]){2}|[\uD800-\uDBFF][\uDC00-\uDFFF]|[#-9]\uFE0F?\u20E3|\u3299|\u3297|\u303D|\u3030|\u24C2|\uD83C[\uDD70-\uDD71]|\uD83C[\uDD7E-\uDD7F]|\u{1F18E}|\uD83C[\uDD91-\uDD9A]|\uD83C[\uDDE6-\uDDFF]|[\uD83C[\uDE01-\uDE02]|\u{1F21A}|\u{1F22F}|[\uD83C[\uDE32-\uDE3A]|[\uD83C[\uDE50-\uDE51]|\u203C|\u2049|[\u25AA-\u25AB]|\u25B6|\u25C0|[\u25FB-\u25FE]|\xA9|\xAE|\u2122|\u2139|\u{1F004}|[\u2600-\u26FF]|\u2B05|\u2B06|\u2B07|\u2B1B|\u2B1C|\u2B50|\u2B55|\u231A|\u231B|\u2328|\u23CF|[\u23E9-\u23F3]|[\u23F8-\u23FA]|\u{1F0CF}|\u2934|\u2935|[\u2190-\u21FF])"];return!!i.match(e.join("|"))},truthy(i){return nc(i)},number(i){return!isNaN(i)},url(i){try{return Boolean(new URL(i))}catch{return!1}}};class ri{constructor(e){Ne(this,"type");Ne(this,"id");Ne(this,"person");Ne(this,"tracker");Ne(this,"context");Ne(this,"ctx");Ne(this,"value");this.type=e.type,e.type=="tracker"?(this.tracker=e.tracker instanceof oi?e.tracker:new oi(e.tracker),this.id=e.id||`#${(this.tracker||{}).tag}`):e.type==="person"?(this.person=e.person?e.person instanceof jl?e.person:new jl(e.person):void 0,this.id=e.id||"@(this.person || {}).username"):e.type==="context"&&(this.context=e.context,this.id=e.id,this.ctx=new yp(e.ctx||this.context)),this.value=e.value}get label(){switch(this.type){case"tracker":return`${this.tracker.label||""}`;case"person":return`${this.person.displayName||""}`;case"context":return`${this.ctx.label||""}`}}get prefix(){switch(this.type){case"tracker":return"#";case"person":return"@";case"context":return"+";default:return""}}set avatar(e){this.type=="tracker"?this.tracker.avatar=e:this.type=="person"?this.person.avatar=e:this.type=="context"&&(this.ctx.avatar=e)}set emoji(e){this.type=="tracker"?this.tracker.emoji=e:this.type=="person"?this.person.emoji=e:this.type=="context"&&(this.ctx.emoji=e)}set tag(e){this.type=="tracker"?this.tracker.tag=e:this.type=="person"?this.person.username=e:this.type=="context"&&(this.ctx.tag=e)}set label(e){this.type=="tracker"?this.tracker.label=e:this.type=="person"?this.person.displayName=e:this.type=="context"&&(this.ctx.label=e)}set color(e){this.type=="tracker"?this.tracker.color=e:this.type=="person"?this.person.color=e:this.type=="context"&&(this.ctx.color=e)}get avatar(){if(this.type=="tracker")return this.tracker.avatar;if(this.type=="person")return this.person.avatar;if(this.type=="context")return this.ctx.avatar}get emoji(){if(this.type=="tracker")return this.tracker.emoji;if(this.type=="person")return this.person.emoji;if(this.type==="context")return this.ctx.emoji}get canSave(){return this.type=="tracker"?!!(this.tracker.label&&this.tracker.type&&this.tracker.tag):this.type=="person"?!!this.person.username:this.type==="context"?!!this.ctx.label:!1}get defaultValue(){switch(this.type){case"tracker":return this.tracker.default!==void 0?this.tracker.default:1;case"person":return 1;case"context":return 1}}formatValue(e,t){return this.tracker?this.tracker.displayValue(e,t):e}tallyValues(e){var n;const t=e.filter(r=>!isNaN(r));return((n=this.tracker)==null?void 0:n.math)==="mean"?ht.average(t):ht.sum(t)}get color(){var e,t,n;switch(this.type){case"tracker":return((e=this.tracker)==null?void 0:e.color)||bf(`#${this.tracker.tag}`);case"person":return((t=this.person)==null?void 0:t.color)||bf(`@${this.person.username}`);case"context":return((n=this.ctx)==null?void 0:n.color)||bf(`+${this.context}`);default:return bf(`unknown-${this.id}`)}}getNoteValue(e,t=!0){const n=this.tag,r=e||this.value||this.defaultValue||NaN;if(this.type=="tracker"){let s=[];return!isNaN(r)&&jn.truthy(r)?s.push(`${n}(${r})`):s.push(`${n}`),t&&s.push(this.tracker.getIncluded(Nn(r))),s.join(" ")}else if(TQ(r)&&this.type!=="person")return`${n}(${r})`;return n}get tag(){if(this.type=="tracker")return this.tracker.tag?`#${this.tracker.tag}`:void 0;if(this.type=="person")return this.person.username?`@${this.person.username}`:void 0;if(this.type==="context")return this.ctx.tag?`+${this.ctx.tag}`:void 0}tagWithValue(e){return e?`${this.tag}(${e})`:this.tag}}const Mu=i=>{const e=we(i),t=e.format("DD").substring(0,1);return`${e.format("YYYY-MM-")}${t}`},MQ=(i,e)=>{let t=i.startOf("day"),n=e.endOf("day"),r=Math.abs(n.diff(t,"day"))+1;const s={};for(let l=0;l<r;l++){const o=Mu(t.add(l,"day"));s.hasOwnProperty(o)||(s[o]=o)}return Object.keys(s)},iM=i=>{const e=Yo(i),t=e.filter(n=>n.type==="generic").length;return Math.round(100*ht.percentage(e.length,t))/100},LQ=i=>iM(i)>=50,rM=i=>i.split(" ").length<5?!1:LQ(i),sM=(i,e=!1)=>e&&i.value?`${i.prefix}${i.id}(${i.value})`:`${i.prefix}${i.id}`,pi=(i,e={})=>{if(["tracker","person","context"].indexOf(i.type)>-1){const t=`${i.prefix}${i.id}`;let n=e[t];return n?(n.value=Nn(i.value),i.type=="tracker"&&n.value,n):(n||(i.type==="tracker"?(n=new oi({tag:t}).toTrackable(),n.value=i.value?Nn(`${i.value}`):NaN,n.tracker.default=n.value):i.type==="person"?n=new jl({username:`${i.id}`}).toTrackable():i.type==="context"&&(n=new yp({tag:i.id,label:i.id}).toTrackable(),n.value=i.value?Nn(`${i.value}`):NaN)),n)}else return};class Gt{constructor(e){Ne(this,"_dirty");Ne(this,"_id");Ne(this,"note");Ne(this,"start");Ne(this,"end");Ne(this,"score");Ne(this,"lat");Ne(this,"lng");Ne(this,"location");Ne(this,"offset");Ne(this,"modified");Ne(this,"source");Ne(this,"pinned");Ne(this,"trackers");Ne(this,"people");Ne(this,"context");e=e||{},this._dirty=e._id?void 0:!0,this._id=e._id||pn(10),this.note=(e.note||e.notes||"").trim(),this.end=e.end?new Date(e.end):new Date,this.start=e.start?new Date(e.start):new Date(this.end.getTime()-1e3),this.pinned=!!e.pinned,this.score=e.score,this.lat=e.lat||null,this.lng=e.lng||null,this.location=e.location||"",this.offset=e.offset||new Date().getTimezoneOffset(),this.modified=e.modified||!1,this.source=e.source||null}get hasNote(){return iM(this.note||"")>5}endDayjs(){return we(this.end)}startDayjs(){return we(this.start)}get elements(){return Yo(this.note)}get bookId(){return Mu(this.end)}get hasTodo(){return`${this.note||""}`.search(/(\[\]|\[x\])/gi)>-1}toObject(){return{_id:this._id,note:this.note,end:this.end,start:this.start,score:this.score,lat:this.lat,lng:this.lng,location:this.location,source:this.source,modified:this.modified}}hash(){return nY([this.note,this.start,this.end,this.lat,this.lng].join(""))}isValid(){return!!(this.note.length>0||this.lat||this.lng)}calculateScore(e){return Ja(this.note,this.end,e)}setScore(e){this.score=e}addTag(e,t){return t?this.note=`${this.note} #${e}(${t})`:this.note=`${this.note} #${e}`,this.getMeta(),this}get geoType(){return{lat:this.lat,lng:this.lng,name:this.location}}hasTracker(e){return this.trackers||this.getMeta(),!!this.trackers.find(t=>t.id==e)}getTrackerValues(e){return this.trackers.filter(t=>t.id==e).map(t=>t.value)}noteTextLength(){return this.getScrubbedNote().length}getScrubbedNote(){return this.note.split(" ").filter(t=>!(t.length>1&&t.substr(0,1)=="#")).join(" ")}expand(){return this.expanded()}expanded(){return Object.assign(this,{tokens:Zf.parse(this.note),duration:this.end.getTime()-this.start.getTime(),startDate:new Date(this.start),endDate:new Date(this.end)})}getTrackerValue(e,t="sum"){let n=this.getMeta().trackers.filter(r=>r.id==e).map(r=>parseFloat(`${r.value}`));return t=="sum"?ht.round(ht.sum(n)):ht.round(ht.average(n))}getTrackables(e={}){const t=this.getMeta(),n=[];return t.trackers.forEach(r=>{let s=pi(r,e);n.push(new ri(s))}),t.people.forEach(r=>{n.push(pi(r,e))}),t.context.forEach(r=>{n.push(pi(r,e))}),n.filter(r=>r)}getMeta(){let e=Zf.parse(this.note);return Object.assign(this,{duration:this.end.getTime()-this.start.getTime(),startDate:we(this.start),endDate:we(this.end),people:e.filter(t=>t.type=="person"),context:e.filter(t=>t.type=="context"),trackers:e.filter(t=>t.type=="tracker")})}}var OQ=xa,IQ=function(){return OQ.Date.now()},BQ=IQ,zQ=Fc,V_=BQ,ly=H0,RQ="Expected a function",jQ=Math.max,YQ=Math.min;function UQ(i,e,t){var n,r,s,l,o,a,u=0,c=!1,f=!1,d=!0;if(typeof i!="function")throw new TypeError(RQ);e=ly(e)||0,zQ(t)&&(c=!!t.leading,f="maxWait"in t,s=f?jQ(ly(t.maxWait)||0,e):s,d="trailing"in t?!!t.trailing:d);function m(P){var I=n,R=r;return n=r=void 0,u=P,l=i.apply(R,I),l}function p(P){return u=P,o=setTimeout($,e),c?m(P):l}function g(P){var I=P-a,R=P-u,B=e-I;return f?YQ(B,s-R):B}function k(P){var I=P-a,R=P-u;return a===void 0||I>=e||I<0||f&&R>=s}function $(){var P=V_();if(k(P))return D(P);o=setTimeout($,g(P))}function D(P){return o=void 0,d&&n?m(P):(n=r=void 0,l)}function F(){o!==void 0&&clearTimeout(o),u=0,n=a=r=o=void 0}function C(){return o===void 0?l:D(V_())}function S(){var P=V_(),I=k(P);if(n=arguments,r=this,a=P,I){if(o===void 0)return p(a);if(f)return clearTimeout(o),o=setTimeout($,e),m(a)}return o===void 0&&(o=setTimeout($,e)),l}return S.cancel=F,S.flush=C,S}var Q0=UQ;function qQ(i){let e,t,n,r,s,l,o;return{c(){e=me("svg"),t=me("title"),n=Z("Magnet"),r=me("path"),s=me("path"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-miterlimit","10"),h(r,"stroke-width","32"),h(r,"d","M191.98 463.79v-48M90.16 421.61l33.94-33.94M47.98 319.79h48"),h(s,"d","M267.56 312.32l-31.11 31.11a16 16 0 000 22.63l45.26 45.25a16 16 0 0022.62 0l31.12-31.11a4 4 0 000-5.66l-62.23-62.22a4 4 0 00-5.66 0zM131.8 176.55l-31.11 31.12a16 16 0 000 22.62l45.25 45.26a16 16 0 0022.63 0l31.11-31.11a4 4 0 000-5.66l-62.22-62.23a4 4 0 00-5.66 0zM428.85 83.28a144 144 0 00-203.71-.06l-65.06 65.05a4 4 0 000 5.66l62.23 62.22a4 4 0 005.66 0l65-65.05a48 48 0 0168.46.59c18.3 18.92 17.47 49.24-1.14 67.85L295.85 284a4 4 0 000 5.66l62.22 62.23a4 4 0 005.66 0l64.08-64.08c56.37-56.34 57.37-148.13 1.04-204.53z"),h(e,"height",l=i[0]+"px"),h(e,"width",o=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(a,u){w(a,e,u),E(e,t),E(t,n),E(e,r),E(e,s)},p(a,[u]){u&1&&l!==(l=a[0]+"px")&&h(e,"height",l),u&1&&o!==(o=a[0]+"px")&&h(e,"width",o)},i:W,o:W,d(a){a&&y(e)}}}function HQ(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class WQ extends ce{constructor(e){super(),ue(this,e,HQ,qQ,le,{size:0})}}const VQ=i=>({}),oy=i=>({}),GQ=i=>({}),ay=i=>({}),ZQ=i=>({}),uy=i=>({});function xQ(i){let e,t,n,r,s,l,o,a,u,c;const f=i[5].left,d=He(f,i,i[4],uy),m=i[5].main,p=He(m,i,i[4],ay),g=i[5].default,k=He(g,i,i[4],null),$=i[5].right,D=He($,i,i[4],oy);return{c(){e=A("div"),t=A("div"),d&&d.c(),n=Y(),r=A("div"),p&&p.c(),s=Y(),k&&k.c(),o=Y(),a=A("div"),D&&D.c(),h(t,"class","left"),h(r,"class",l="main "+i[2]),h(a,"class","flex items-center justify-end text-right right"),h(e,"class",u="n-toolbar-grid "+(i[3]?"shadow":"")+" "+i[0]),h(e,"style",i[1])},m(F,C){w(F,e,C),E(e,t),d&&d.m(t,null),E(e,n),E(e,r),p&&p.m(r,null),E(r,s),k&&k.m(r,null),E(e,o),E(e,a),D&&D.m(a,null),c=!0},p(F,[C]){d&&d.p&&(!c||C&16)&&Ve(d,f,F,F[4],c?We(f,F[4],C,ZQ):Ge(F[4]),uy),p&&p.p&&(!c||C&16)&&Ve(p,m,F,F[4],c?We(m,F[4],C,GQ):Ge(F[4]),ay),k&&k.p&&(!c||C&16)&&Ve(k,g,F,F[4],c?We(g,F[4],C,null):Ge(F[4]),null),(!c||C&4&&l!==(l="main "+F[2]))&&h(r,"class",l),D&&D.p&&(!c||C&16)&&Ve(D,$,F,F[4],c?We($,F[4],C,VQ):Ge(F[4]),oy),(!c||C&9&&u!==(u="n-toolbar-grid "+(F[3]?"shadow":"")+" "+F[0]))&&h(e,"class",u),(!c||C&2)&&h(e,"style",F[1])},i(F){c||(_(d,F),_(p,F),_(k,F),_(D,F),c=!0)},o(F){v(d,F),v(p,F),v(k,F),v(D,F),c=!1},d(F){F&&y(e),d&&d.d(F),p&&p.d(F),k&&k.d(F),D&&D.d(F)}}}function XQ(i,e,t){let{$$slots:n={},$$scope:r}=e,{className:s=""}=e,{style:l=""}=e,{mainClass:o=""}=e,{shadow:a=!1}=e;return i.$$set=u=>{"className"in u&&t(0,s=u.className),"style"in u&&t(1,l=u.style),"mainClass"in u&&t(2,o=u.mainClass),"shadow"in u&&t(3,a=u.shadow),"$$scope"in u&&t(4,r=u.$$scope)},[s,l,o,a,r,n]}class Jt extends ce{constructor(e){super(),ue(this,e,XQ,xQ,le,{className:0,style:1,mainClass:2,shadow:3})}}function KQ(i){try{const e=document.createElement("textarea");return e.value=i,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),!0}catch(e){alert(e.message)}}new Uo("\u{1F4F2} Device Store");const ws={xs:-1,sm:0,md:350,lg:767,xl:1280,"2xl":1536},r1={appName:navigator.appName,appCodeName:navigator.appCodeName,appVersion:navigator.appVersion,userAgent:navigator.userAgent,product:navigator.product},cy=JSON.stringify(r1).toLowerCase(),G_=function(i){if(i>ws.xs&&i<ws.sm)return"xs";if(i>ws.sm&&i<ws.md)return"sm";if(i>ws.md&&i<ws.lg)return"md";if(i>ws.lg&&i<ws.xl)return"lg";if(i>ws.xl)return"xl"},lM={xs:"0.94em",sm:"0.98em",md:"1.15em",lg:"1.25em",xl:"1.4em"},JQ=()=>{let i=cy.match(/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i),e=i?i[0]:"browser";const t={lastUrl:"",width:window.innerWidth,height:window.innerHeight,platform:navigator.platform,device:e,offline:!navigator.onLine,pwa:window.navigator.standalone===!0||window.matchMedia("(display-mode: standalone)").matches,info:r1,size:G_(window.innerWidth),fontSize:localStorage.getItem("fontSize")||"md"},{update:n,subscribe:r,set:s}=Bt(t);document.documentElement.style.fontSize=lM[t.fontSize]||"16px";const l=a=>{n(u=>({...u,...a}))};return{subscribe:r,update:n,set:s,...{copy(a,u){KQ(a),un({message:u||"Copied"})},tempURL(a,u=""){n(c=>(c.lastUrl=document.location.pathname,c)),window.history.pushState({},u,a)},restoreURL(){n(a=>{let u=a.lastUrl;return window.history.pushState({},"Nomie",u),a.lastUrl=void 0,a})},isDesktop(){return document.body.scrollWidth>=900},iOS(){return/iPad|iPhone|iPod/.test(navigator.platform)?!0:navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&/MacIntel/.test(navigator.platform)},scrollToTop(){document.body.scrollTop=document.documentElement.scrollTop=0},open(a){window.open(`${a}`,"_blank")},isSmallerThan(a){return window.innerWidth<ws[a]},isLargerThan(a){return window.innerWidth>ws[a]},reload(){window.location.reload()},is(a){return typeof a=="string"&&(a=new RegExp(a,"gi")),cy.match(a)},init(){const a=()=>{navigator.onLine?(document.body.classList.remove("is-offline"),window.offline=!1,l({offline:!1,width:window.innerWidth,size:G_(window.innerWidth),height:window.innerHeight})):(document.body.classList.add("is-offline"),window.offline=!0,l({offline:!0,width:window.innerWidth,size:G_(window.innerWidth),height:window.innerHeight}))};window.addEventListener("online",a),window.addEventListener("offline",a),window.addEventListener("resize",a),a()}},info:r1}},Hn=JQ(),QQ=i=>{const e=lM[i]||"16px";localStorage.setItem("fontSize",i),document.documentElement.style.fontSize=e,Hn.update(t=>(t.fontSize=i,t))};function fy(i,e,t){const n=i.slice();return n[28]=e[t],n}function dy(i,e,t){const n=i.slice();return n[31]=e[t],n}function hy(i,e,t){const n=i.slice();return n[31]=e[t],n}function my(i){let e,t,n,r,s,l,o,a,u,c,f,d,m=i[4]&&py(i);function p(C,S){return C[3]?tee:eee}let g=p(i),k=g(i),$=i[12],D=[];for(let C=0;C<$.length;C+=1)D[C]=vy(fy(i,$,C));let F=!i[3]&&by(i);return{c(){e=A("div"),t=A("div"),n=A("div"),m&&m.c(),r=Y(),k.c(),s=Y(),l=A("span"),l.textContent=":",o=Y(),a=A("select");for(let C=0;C<D.length;C+=1)D[C].c();u=Y(),F&&F.c(),h(l,"class","blinker"),h(a,"class","minutes"),i[7]===void 0&&Rn(()=>i[23].call(a)),h(n,"class","flex items-center time-parts"),h(t,"class","time-picker"),h(e,"class",c="time-picker-wrapper "+i[1]),h(e,"style",i[2])},m(C,S){w(C,e,S),E(e,t),E(t,n),m&&m.m(n,null),E(n,r),k.m(n,null),E(n,s),E(n,l),E(n,o),E(n,a);for(let P=0;P<D.length;P+=1)D[P].m(a,null);gn(a,i[7]),E(t,u),F&&F.m(t,null),f||(d=[ke(a,"blur",i[17]),ke(a,"change",i[23]),ke(a,"change",i[14])],f=!0)},p(C,S){if(C[4]?m?m.p(C,S):(m=py(C),m.c(),m.m(n,r)):m&&(m.d(1),m=null),g===(g=p(C))&&k?k.p(C,S):(k.d(1),k=g(C),k&&(k.c(),k.m(n,s))),S[0]&4224){$=C[12];let P;for(P=0;P<$.length;P+=1){const I=fy(C,$,P);D[P]?D[P].p(I,S):(D[P]=vy(I),D[P].c(),D[P].m(a,null))}for(;P<D.length;P+=1)D[P].d(1);D.length=$.length}S[0]&4224&&gn(a,C[7]),C[3]?F&&(F.d(1),F=null):F?F.p(C,S):(F=by(C),F.c(),F.m(t,null)),S[0]&2&&c!==(c="time-picker-wrapper "+C[1])&&h(e,"class",c),S[0]&4&&h(e,"style",C[2])},d(C){C&&y(e),m&&m.d(),k.d(),it(D,C),F&&F.d(),f=!1,pt(d)}}}function py(i){let e,t,n=i[0].format(i[13].tinyDate)+"",r,s,l,o;return{c(){e=A("div"),t=A("button"),r=Z(n),h(t,"class","text-sm font-bold px-2 uppercase"),h(e,"class",s="section "+i[5]+" border-r border-gray-500 border-opacity-30 mr-1")},m(a,u){w(a,e,u),E(e,t),E(t,r),l||(o=ke(t,"click",i[20]),l=!0)},p(a,u){u[0]&1&&n!==(n=a[0].format(a[13].tinyDate)+"")&&oe(r,n),u[0]&32&&s!==(s="section "+a[5]+" border-r border-gray-500 border-opacity-30 mr-1")&&h(e,"class",s)},d(a){a&&y(e),l=!1,o()}}}function eee(i){let e,t,n,r=i[10],s=[];for(let l=0;l<r.length;l+=1)s[l]=_y(dy(i,r,l));return{c(){e=A("select");for(let l=0;l<s.length;l+=1)s[l].c();h(e,"class","hour"),i[9]===void 0&&Rn(()=>i[22].call(e))},m(l,o){w(l,e,o);for(let a=0;a<s.length;a+=1)s[a].m(e,null);gn(e,i[9]),t||(n=[ke(e,"blur",i[19]),ke(e,"change",i[22]),ke(e,"change",i[14])],t=!0)},p(l,o){if(o[0]&1536){r=l[10];let a;for(a=0;a<r.length;a+=1){const u=dy(l,r,a);s[a]?s[a].p(u,o):(s[a]=_y(u),s[a].c(),s[a].m(e,null))}for(;a<s.length;a+=1)s[a].d(1);s.length=r.length}o[0]&1536&&gn(e,l[9])},d(l){l&&y(e),it(s,l),t=!1,pt(n)}}}function tee(i){let e,t,n,r=i[10],s=[];for(let l=0;l<r.length;l+=1)s[l]=gy(hy(i,r,l));return{c(){e=A("select");for(let l=0;l<s.length;l+=1)s[l].c();h(e,"class","hour"),i[6]===void 0&&Rn(()=>i[21].call(e))},m(l,o){w(l,e,o);for(let a=0;a<s.length;a+=1)s[a].m(e,null);gn(e,i[6]),t||(n=[ke(e,"blur",i[18]),ke(e,"change",i[21]),ke(e,"change",i[14])],t=!0)},p(l,o){if(o[0]&1088){r=l[10];let a;for(a=0;a<r.length;a+=1){const u=hy(l,r,a);s[a]?s[a].p(u,o):(s[a]=gy(u),s[a].c(),s[a].m(e,null))}for(;a<s.length;a+=1)s[a].d(1);s.length=r.length}o[0]&1088&&gn(e,l[6])},d(l){l&&y(e),it(s,l),t=!1,pt(n)}}}function _y(i){let e,t=(`${i[31]}`.length==1?`0${i[31]}`:i[31])+"",n,r,s,l,o;return{c(){e=A("option"),n=Z(t),r=Y(),h(e,"data-hour12",i[9]),h(e,"data-mmatch",s=`${i[31]}`==`${i[9]}`),e.__value=l=i[31],e.value=e.__value,e.selected=o=`${i[31]}`==`${i[9]}`,nt(e,"text-align","center")},m(a,u){w(a,e,u),E(e,n),E(e,r)},p(a,u){u[0]&1024&&t!==(t=(`${a[31]}`.length==1?`0${a[31]}`:a[31])+"")&&oe(n,t),u[0]&1536&&h(e,"data-hour12",a[9]),u[0]&1536&&s!==(s=`${a[31]}`==`${a[9]}`)&&h(e,"data-mmatch",s),u[0]&1024&&l!==(l=a[31])&&(e.__value=l,e.value=e.__value),u[0]&1536&&o!==(o=`${a[31]}`==`${a[9]}`)&&(e.selected=o)},d(a){a&&y(e)}}}function gy(i){let e,t=(`${i[31]}`.length==1?`0${i[31]}`:i[31])+"",n,r,s,l;return{c(){e=A("option"),n=Z(t),r=Y(),e.__value=s=i[31],e.value=e.__value,e.selected=l=i[31]===i[6],nt(e,"text-align","center")},m(o,a){w(o,e,a),E(e,n),E(e,r)},p(o,a){a[0]&1024&&t!==(t=(`${o[31]}`.length==1?`0${o[31]}`:o[31])+"")&&oe(n,t),a[0]&1024&&s!==(s=o[31])&&(e.__value=s,e.value=e.__value),a[0]&1088&&l!==(l=o[31]===o[6])&&(e.selected=l)},d(o){o&&y(e)}}}function vy(i){let e,t=(`${i[28]}`.length==1?`0${i[28]}`:i[28])+"",n,r,s;return{c(){e=A("option"),n=Z(t),r=Y(),e.__value=i[28],e.value=e.__value,e.selected=s=i[28]==i[7]},m(l,o){w(l,e,o),E(e,n),E(e,r)},p(l,o){o[0]&4224&&s!==(s=l[28]==l[7])&&(e.selected=s)},d(l){l&&y(e)}}}function by(i){let e,t,n,r,s;return{c(){e=A("select"),t=A("option"),t.textContent="AM",n=A("option"),n.textContent="PM",t.__value="am",t.value=t.__value,n.__value="pm",n.value=n.__value,i[8]===void 0&&Rn(()=>i[24].call(e))},m(l,o){w(l,e,o),E(e,t),E(e,n),gn(e,i[8]),r||(s=[ke(e,"change",i[24]),ke(e,"change",i[25])],r=!0)},p(l,o){o[0]&256&&gn(e,l[8])},d(l){l&&y(e),r=!1,pt(s)}}}function nee(i){let e,t=i[0]&&my(i);return{c(){t&&t.c(),e=$e()},m(n,r){t&&t.m(n,r),w(n,e,r)},p(n,r){n[0]?t?t.p(n,r):(t=my(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:W,o:W,d(n){t&&t.d(n),n&&y(e)}}}function iee(i,e,t){let n;const r=Dt();let{time:s=new Date().getTime()}=e,{className:l=""}=e,{style:o=""}=e,{is24Hour:a}=e,{showDateButton:u=!1}=e,{dateButtonClass:c=""}=e,{value:f=void 0}=e,d,m,p,g,k,$=Array(24).fill(0).map(({},U)=>U),D=Array(12).fill(0).map(({},U)=>U+1),F=Array(60).fill(0).map(({},U)=>U);const C=Pn();function S(U){let Q=f,V=Q.get("day"),x=m;a||(x=k,x==12&&g=="am"?x=0:g=="am"&&x>12?x=x-12:g=="pm"&&x<12&&(x=x+12));const ee=Q.set("hour",x).set("minute",p).set("day",V);r("change",ee.toDate())}function P(U){Gr.call(this,i,U)}function I(U){Gr.call(this,i,U)}function R(U){Gr.call(this,i,U)}const B=()=>{r("dateClick")};function z(){m=Ks(this),t(6,m),t(0,f),t(16,d),t(15,s),t(10,n),t(3,a),t(26,$),t(27,D)}function q(){k=Ks(this),t(9,k),t(0,f),t(16,d),t(6,m),t(15,s),t(10,n),t(3,a),t(26,$),t(27,D)}function H(){p=Ks(this),t(7,p),t(0,f),t(16,d),t(6,m),t(15,s),t(12,F)}function K(){g=Ks(this),t(8,g),t(0,f),t(16,d),t(6,m),t(15,s)}const G=()=>S();return i.$$set=U=>{"time"in U&&t(15,s=U.time),"className"in U&&t(1,l=U.className),"style"in U&&t(2,o=U.style),"is24Hour"in U&&t(3,a=U.is24Hour),"showDateButton"in U&&t(4,u=U.showDateButton),"dateButtonClass"in U&&t(5,c=U.dateButtonClass),"value"in U&&t(0,f=U.value)},i.$$.update=()=>{i.$$.dirty[0]&32768&&s&&t(0,f=we(new Date(s))),i.$$.dirty[0]&8&&t(10,n=a?$:D),i.$$.dirty[0]&65601&&f&&f.format("hh:mm a")!==we(d||"2010-01-01T01:01:01").format("hh:mm a")&&(t(16,d=f),t(6,m=parseInt(f.format("HH"))),t(9,k=(m+11)%12+1),t(7,p=parseInt(f.format("mm"))),t(8,g=f.format("a")))},[f,l,o,a,u,c,m,p,g,k,n,r,F,C,S,s,d,P,I,R,B,z,q,H,K,G]}class oM extends ce{constructor(e){super(),ue(this,e,iee,nee,le,{time:15,className:1,style:2,is24Hour:3,showDateButton:4,dateButtonClass:5,value:0},null,[-1,-1])}}function ky(i,e,t){const n=i.slice();return n[12]=e[t],n}function yy(i){let e,t,n,r,s,l,o,a,u,c,f,d=i[8].filter(Fy).sort(Ey),m=[];for(let p=0;p<d.length;p+=1)m[p]=$y(ky(i,d,p));return{c(){e=A("div"),t=A("div");for(let p=0;p<m.length;p+=1)m[p].c();n=Y(),r=A("div"),s=A("div"),l=A("span"),o=Z(i[6]),h(s,"class","score-ball is-neutral"),h(r,"class","unit neutral"),h(r,"data-score",i[2]),h(r,"style",a=`height:${i[5]}; width:${i[7].percent}%`),h(t,"class","bar"),nt(t,"height",i[5]),h(e,"class",u="positivity-bar cursor-pointer "+i[3]+" "+(i[6]<0?"is-negative":i[6]>0?"is-positive":"is-neutral")),h(e,"style",i[4])},m(p,g){w(p,e,g),E(e,t);for(let k=0;k<m.length;k+=1)m[k].m(t,null);E(t,n),E(t,r),E(r,s),E(s,l),E(l,o),c||(f=ke(e,"click",i[10]),c=!0)},p(p,g){if(g&352){d=p[8].filter(Fy).sort(Ey);let k;for(k=0;k<d.length;k+=1){const $=ky(p,d,k);m[k]?m[k].p($,g):(m[k]=$y($),m[k].c(),m[k].m(t,n))}for(;k<m.length;k+=1)m[k].d(1);m.length=d.length}g&64&&oe(o,p[6]),g&4&&h(r,"data-score",p[2]),g&160&&a!==(a=`height:${p[5]}; width:${p[7].percent}%`)&&h(r,"style",a),g&32&&nt(t,"height",p[5]),g&72&&u!==(u="positivity-bar cursor-pointer "+p[3]+" "+(p[6]<0?"is-negative":p[6]>0?"is-positive":"is-neutral"))&&h(e,"class",u),g&16&&h(e,"style",p[4])},d(p){p&&y(e),it(m,p),c=!1,f()}}}function wy(i){let e,t,n,r,s,l,o,a;return{c(){e=A("div"),t=A("div"),n=A("span"),r=Z(i[6]),h(t,"class",s="score-ball "+(i[6]<0?"is-negative":i[6]>0?"is-positive":"is-neutral")),h(e,"class",l="unit relative "+i[12].type),h(e,"data-score",o=i[12].count),h(e,"style",a=`height:${i[5]}; width:${i[12].percent}%`)},m(u,c){w(u,e,c),E(e,t),E(t,n),E(n,r)},p(u,c){c&64&&oe(r,u[6]),c&64&&s!==(s="score-ball "+(u[6]<0?"is-negative":u[6]>0?"is-positive":"is-neutral"))&&h(t,"class",s),c&256&&l!==(l="unit relative "+u[12].type)&&h(e,"class",l),c&256&&o!==(o=u[12].count)&&h(e,"data-score",o),c&288&&a!==(a=`height:${u[5]}; width:${u[12].percent}%`)&&h(e,"style",a)},d(u){u&&y(e)}}}function $y(i){let e,t=(i[12].count>0||i[12].count<0)&&wy(i);return{c(){t&&t.c(),e=$e()},m(n,r){t&&t.m(n,r),w(n,e,r)},p(n,r){n[12].count>0||n[12].count<0?t?t.p(n,r):(t=wy(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){t&&t.d(n),n&&y(e)}}}function ree(i){let e,t=(i[1]||i[2]||i[0])&&yy(i);return{c(){t&&t.c(),e=$e()},m(n,r){t&&t.m(n,r),w(n,e,r)},p(n,[r]){n[1]||n[2]||n[0]?t?t.p(n,r):(t=yy(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:W,o:W,d(n){t&&t.d(n),n&&y(e)}}}const Fy=i=>i.type!=="neutral",Ey=(i,e)=>i.count>e.count?1:-1;function see(i,e,t){let{positive:n}=e,{negative:r}=e,{neutral:s}=e,{className:l=""}=e,{style:o=""}=e,{height:a="8pt"}=e,u=0,c={type:"neutral",count:0,percent:0},f=[];function d(){let g=`Using your total negative (red), positive (green), and neutral (gray) events for the day, Nomie calculates your Positivity Score. 
      ${f.map(k=>`${ht.round(k.count)} ${k.type}`).join(", ")}
    `;Xe.alert("What is this?",g)}function m(){let g=ht.sum([r,s,n]),k=ht.percentage(g,r),$=ht.percentage(g,s),D=ht.percentage(g,n);t(7,c={type:"neutral",percent:$,count:s}),t(8,f=[{type:"negative",percent:k,count:r},{type:"positive",percent:D,count:n},{type:"neutral",percent:$,count:s}]),t(6,u=n-r)}const p=()=>d();return i.$$set=g=>{"positive"in g&&t(0,n=g.positive),"negative"in g&&t(1,r=g.negative),"neutral"in g&&t(2,s=g.neutral),"className"in g&&t(3,l=g.className),"style"in g&&t(4,o=g.style),"height"in g&&t(5,a=g.height)},i.$$.update=()=>{i.$$.dirty&7&&s|n|r&&m()},[n,r,s,l,o,a,u,c,f,d,p]}class lee extends ce{constructor(e){super(),ue(this,e,see,ree,le,{positive:0,negative:1,neutral:2,className:3,style:4,height:5})}}function oee(i){let e,t,n;return{c(){e=A("div"),t=A("div"),t.innerHTML=`<div class="ball-container svelte-lgqs6c"><div class="single-ball svelte-lgqs6c"><div class="ball ball-top-left svelte-lgqs6c">\xA0</div></div> 
      <div class="contener_mixte"><div class="ball ball-top-right svelte-lgqs6c">\xA0</div></div> 
      <div class="contener_mixte"><div class="ball ball-bottom-left svelte-lgqs6c">\xA0</div></div> 
      <div class="contener_mixte"><div class="ball ball-bottom-right svelte-lgqs6c">\xA0</div></div></div>`,h(t,"class","inner svelte-lgqs6c"),h(e,"class","wrapper svelte-lgqs6c"),h(e,"style",n="--size: "+i[0]+i[1]+"; --floatSize: "+i[0]+"; --ballTopLeftColor: "+i[2]+"; --ballTopRightColor: "+i[3]+"; --ballBottomLeftColor: "+i[4]+"; --ballBottomRightColor: "+i[5]+"; --duration: "+i[7]+"; "+i[6])},m(r,s){w(r,e,s),E(e,t)},p(r,[s]){s&255&&n!==(n="--size: "+r[0]+r[1]+"; --floatSize: "+r[0]+"; --ballTopLeftColor: "+r[2]+"; --ballTopRightColor: "+r[3]+"; --ballBottomLeftColor: "+r[4]+"; --ballBottomRightColor: "+r[5]+"; --duration: "+r[7]+"; "+r[6])&&h(e,"style",n)},i:W,o:W,d(r){r&&y(e)}}}function aee(i,e,t){let{size:n="60"}=e,{unit:r="px"}=e,{ballTopLeft:s="#FF3E00"}=e,{ballTopRight:l="#F8B334"}=e,{ballBottomLeft:o="#40B3FF"}=e,{ballBottomRight:a="#676778"}=e,{style:u=""}=e,{duration:c="1.5s"}=e;return i.$$set=f=>{"size"in f&&t(0,n=f.size),"unit"in f&&t(1,r=f.unit),"ballTopLeft"in f&&t(2,s=f.ballTopLeft),"ballTopRight"in f&&t(3,l=f.ballTopRight),"ballBottomLeft"in f&&t(4,o=f.ballBottomLeft),"ballBottomRight"in f&&t(5,a=f.ballBottomRight),"style"in f&&t(6,u=f.style),"duration"in f&&t(7,c=f.duration)},[n,r,s,l,o,a,u,c]}class uee extends ce{constructor(e){super(),ue(this,e,aee,oee,le,{size:0,unit:1,ballTopLeft:2,ballTopRight:3,ballBottomLeft:4,ballBottomRight:5,style:6,duration:7})}}function cee(i){let e,t;return e=new uee({props:{size:i[0],style:i[1]}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&1&&(s.size=n[0]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function fee(i,e,t){let{size:n=60}=e;const r="";return i.$$set=s=>{"size"in s&&t(0,n=s.size)},[n,r]}class Mn extends ce{constructor(e){super(),ue(this,e,fee,cee,le,{size:0,style:1})}get style(){return this.$$.ctx[1]}}function dee(i){let e,t;return e=new je({props:{icon:hp,size:24,className:"text-primary-500"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Dy(i){let e,t;return e=new Me({props:{className:"calendar-action "+(i[0]?"tap-icon":"text-white bg-primary-500"),delay:0,icon:!0,color:"transparent",shape:"round",$$slots:{default:[hee]},$$scope:{ctx:i}}}),e.$on("click",i[7]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.className="calendar-action "+(n[0]?"tap-icon":"text-white bg-primary-500")),r&512&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function hee(i){let e,t;return e=new je({props:{icon:Ga,size:24}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function mee(i){let e,t;return e=new je({props:{icon:jo,size:24,className:"text-primary-500"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function pee(i){let e,t,n,r,s,l,o,a;t=new Me({props:{className:"previous-action",icon:!0,delay:0,$$slots:{default:[dee]},$$scope:{ctx:i}}}),t.$on("click",i[6]);let u=!i[1]&&Dy(i);const c=i[5].default,f=He(c,i,i[9],null);return l=new Me({props:{className:"next-action",delay:0,icon:!0,$$slots:{default:[mee]},$$scope:{ctx:i}}}),l.$on("click",i[8]),{c(){e=A("div"),O(t.$$.fragment),n=Y(),u&&u.c(),r=Y(),f&&f.c(),s=Y(),O(l.$$.fragment),h(e,"class",o="flex items-center flex-grow-0 flex-shrink-0 next-prev-cal "+i[3]+" svelte-1apmul7"),h(e,"style",i[2])},m(d,m){w(d,e,m),N(t,e,null),E(e,n),u&&u.m(e,null),E(e,r),f&&f.m(e,null),E(e,s),N(l,e,null),a=!0},p(d,[m]){const p={};m&512&&(p.$$scope={dirty:m,ctx:d}),t.$set(p),d[1]?u&&(ie(),v(u,1,1,()=>{u=null}),re()):u?(u.p(d,m),m&2&&_(u,1)):(u=Dy(d),u.c(),_(u,1),u.m(e,r)),f&&f.p&&(!a||m&512)&&Ve(f,c,d,d[9],a?We(c,d[9],m,null):Ge(d[9]),null);const g={};m&512&&(g.$$scope={dirty:m,ctx:d}),l.$set(g),(!a||m&8&&o!==(o="flex items-center flex-grow-0 flex-shrink-0 next-prev-cal "+d[3]+" svelte-1apmul7"))&&h(e,"class",o),(!a||m&4)&&h(e,"style",d[2])},i(d){a||(_(t.$$.fragment,d),_(u),_(f,d),_(l.$$.fragment,d),a=!0)},o(d){v(t.$$.fragment,d),v(u),v(f,d),v(l.$$.fragment,d),a=!1},d(d){d&&y(e),M(t),u&&u.d(),f&&f.d(d),M(l)}}}function _ee(i,e,t){let{$$slots:n={},$$scope:r}=e,{isToday:s=!0}=e,{hideCal:l=!1}=e,{style:o=""}=e,{className:a=""}=e;const u=Dt(),c=()=>{u("previous")},f=()=>{u("calendar")},d=()=>{u("next")};return i.$$set=m=>{"isToday"in m&&t(0,s=m.isToday),"hideCal"in m&&t(1,l=m.hideCal),"style"in m&&t(2,o=m.style),"className"in m&&t(3,a=m.className),"$$scope"in m&&t(9,r=m.$$scope)},[s,l,o,a,u,n,c,f,d,r]}class Ec extends ce{constructor(e){super(),ue(this,e,_ee,pee,le,{isToday:0,hideCal:1,style:2,className:3})}}function Cy(i,e,t){const n=i.slice();return n[33]=e[t],n}function Sy(i,e,t){const n=i.slice();return n[33]=e[t],n[37]=t,n}function gee(i){let e,t,n;return t=new Mn({}),{c(){e=A("div"),O(t.$$.fragment),h(e,"class","loading flex w-full h-auto justify-center items-center")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p:W,i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function vee(i){let e,t,n,r,s,l,o,a,u,c,f=i[6]&&Ty(i),d=i[0].weekdays||[],m=[];for(let $=0;$<d.length;$+=1)m[$]=Py(Sy(i,d,$));let p=i[12]||[],g=[];for(let $=0;$<p.length;$+=1)g[$]=My(Cy(i,p,$));let k=i[9]&&!i[10]&&Ly(i);return{c(){e=A("div"),t=A("div"),f&&f.c(),n=Y(),r=A("div");for(let $=0;$<m.length;$+=1)m[$].c();s=Y();for(let $=0;$<g.length;$+=1)g[$].c();a=Y(),k&&k.c(),u=$e(),h(r,"class","body svelte-1s23l4v"),h(t,"class","n-calendar-container calendar svelte-1s23l4v"),h(e,"class",l="n-calendar "+i[2]+" "+i[1]+" "+(i[10]?"compact":"")+" svelte-1s23l4v"),h(e,"style",o=`${i[5]?`width:${i[5]};`:""} ${i[4]?`height:${i[4]};`:""} outline:none;  ${i[3]};`)},m($,D){w($,e,D),E(e,t),f&&f.m(t,null),E(t,n),E(t,r);for(let F=0;F<m.length;F+=1)m[F].m(r,null);E(r,s);for(let F=0;F<g.length;F+=1)g[F].m(r,null);w($,a,D),k&&k.m($,D),w($,u,D),c=!0},p($,D){if($[6]?f?(f.p($,D),D[0]&64&&_(f,1)):(f=Ty($),f.c(),_(f,1),f.m(t,n)):f&&(ie(),v(f,1,1,()=>{f=null}),re()),D[0]&1){d=$[0].weekdays||[];let F;for(F=0;F<d.length;F+=1){const C=Sy($,d,F);m[F]?m[F].p(C,D):(m[F]=Py(C),m[F].c(),m[F].m(r,s))}for(;F<m.length;F+=1)m[F].d(1);m.length=d.length}if(D[0]&102401){p=$[12]||[];let F;for(F=0;F<p.length;F+=1){const C=Cy($,p,F);g[F]?g[F].p(C,D):(g[F]=My(C),g[F].c(),g[F].m(r,null))}for(;F<g.length;F+=1)g[F].d(1);g.length=p.length}(!c||D[0]&1030&&l!==(l="n-calendar "+$[2]+" "+$[1]+" "+($[10]?"compact":"")+" svelte-1s23l4v"))&&h(e,"class",l),(!c||D[0]&56&&o!==(o=`${$[5]?`width:${$[5]};`:""} ${$[4]?`height:${$[4]};`:""} outline:none;  ${$[3]};`))&&h(e,"style",o),$[9]&&!$[10]?k?(k.p($,D),D[0]&1536&&_(k,1)):(k=Ly($),k.c(),_(k,1),k.m(u.parentNode,u)):k&&(ie(),v(k,1,1,()=>{k=null}),re())},i($){c||(_(f),_(k),c=!0)},o($){v(f),v(k),c=!1},d($){$&&y(e),f&&f.d(),it(m,$),it(g,$),$&&y(a),k&&k.d($),$&&y(u)}}}function Ty(i){let e,t,n,r,s,l,o,a,u=i[7]&&!i[10]&&Ay(i);return{c(){e=A("div"),t=A("div"),n=A("span"),r=Z(i[13]),s=Y(),l=Z(i[14]),o=Y(),u&&u.c(),h(n,"class","text-black dark:text-white text-sm svelte-1s23l4v"),h(t,"class","month filler pr-3"),h(e,"class","header flex svelte-1s23l4v")},m(c,f){w(c,e,f),E(e,t),E(t,n),E(n,r),E(n,s),E(n,l),E(e,o),u&&u.m(e,null),a=!0},p(c,f){(!a||f[0]&8192)&&oe(r,c[13]),(!a||f[0]&16384)&&oe(l,c[14]),c[7]&&!c[10]?u?(u.p(c,f),f[0]&1152&&_(u,1)):(u=Ay(c),u.c(),_(u,1),u.m(e,null)):u&&(ie(),v(u,1,1,()=>{u=null}),re())},i(c){a||(_(u),a=!0)},o(c){v(u),a=!1},d(c){c&&y(e),u&&u.d()}}}function Ay(i){let e,t;return e=new Ec({props:{hideCal:!i[8]}}),e.$on("previous",i[16].prevMonth),e.$on("next",i[16].nextMonth),e.$on("calendar",i[25]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[0]&256&&(s.hideCal=!n[8]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Py(i){let e,t=i[33][0]+"",n,r;return{c(){e=A("div"),n=Z(t),h(e,"class","day-name svelte-1s23l4v"),h(e,"aria-label",r=i[33])},m(s,l){w(s,e,l),E(e,n)},p(s,l){l[0]&1&&t!==(t=s[33][0]+"")&&oe(n,t),l[0]&1&&r!==(r=s[33])&&h(e,"aria-label",r)},d(s){s&&y(e)}}}function Ny(i){let e,t,n=i[33].format("D")+"",r,s,l,o,a,u,c;function f(...d){return i[26](i[33],...d)}return{c(){e=A("div"),t=A("span"),r=Z(n),h(t,"class","svelte-1s23l4v"),h(e,"data-date",s=i[33].format("YYYY-MM-DD")),h(e,"data-day",l=i[33].format("DD")),h(e,"class",o=rm(i[16].getDayClass(i[33]))+" svelte-1s23l4v"),h(e,"style",a=i[16].getDayStyle(i[33]))},m(d,m){w(d,e,m),E(e,t),E(t,r),u||(c=ke(e,"click",f),u=!0)},p(d,m){i=d,m[0]&4096&&n!==(n=i[33].format("D")+"")&&oe(r,n),m[0]&4096&&s!==(s=i[33].format("YYYY-MM-DD"))&&h(e,"data-date",s),m[0]&4096&&l!==(l=i[33].format("DD"))&&h(e,"data-day",l),m[0]&4096&&o!==(o=rm(i[16].getDayClass(i[33]))+" svelte-1s23l4v")&&h(e,"class",o),m[0]&4096&&a!==(a=i[16].getDayStyle(i[33]))&&h(e,"style",a)},d(d){d&&y(e),u=!1,c()}}}function My(i){let e,t,n=i[33]&&Ny(i);return{c(){e=A("div"),n&&n.c(),t=Y(),h(e,"class","day-container clickable svelte-1s23l4v")},m(r,s){w(r,e,s),n&&n.m(e,null),E(e,t)},p(r,s){r[33]?n?n.p(r,s):(n=Ny(r),n.c(),n.m(e,t)):n&&(n.d(1),n=null)},d(r){r&&y(e),n&&n.d()}}}function Ly(i){let e,t;return e=new lee({props:{positive:i[0].totals.positive,neutral:i[0].totals.neutral,negative:i[0].totals.negative}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[0]&1&&(s.positive=n[0].totals.positive),r[0]&1&&(s.neutral=n[0].totals.neutral),r[0]&1&&(s.negative=n[0].totals.negative),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function bee(i){let e,t,n,r;const s=[vee,gee],l=[];function o(a,u){return a[0].date&&a[11]?0:1}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=$e()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?l[e].p(a,u):(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function kee(i,e,t){let n;Ee(i,St,J=>t(24,n=J));const r=new Uo("\u{1F4C5} calendar/calendar"),s=Dt();let{initialDate:l=we()}=e,{size:o="md"}=e,{className:a=""}=e,{style:u=""}=e,{height:c=void 0}=e,{width:f=void 0}=e,d="sunday",{events:m=[]}=e,{offDays:p=[[1,7]]}=e,{showHeader:g=!0}=e,{showControls:k=!0}=e,{showCalControl:$=!0}=e,{showDetails:D=!0}=e,{tracker:F=null}=e;const C=or.primary_color;let{compact:S=!1}=e,{state:P={date:l.format?l:we(l),selectedDate:void 0,today:new Date,weekdays:null,percentage:null,totals:{positive:0,negative:0,neutral:0}}}=e,I=!1;wt(()=>{t(11,I=!0)}),Dr(()=>{t(11,I=!1)});let R,B="MMMM",z=P.date.startOf("month").toDate().getDay()+1,q=P.date.daysInMonth(),H=P.date.format(B),K=P.date.format("YYYY"),G=we(P.date).startOf("month");function U(){t(23,Q=P.date),t(0,P.totals.neutral=0,P),t(0,P.totals.positive=0,P),t(0,P.totals.negative=0,P),z=P.date.startOf("month").toDate().getDay()+1,q=P.date.daysInMonth(),t(13,H=P.date.format(B)),t(14,K=P.date.format("YYYY")),G=we(P.date).startOf("month");let se=Array((z-(d==="sunday"?1:2)+7)%7).fill(null),te=Array(q).fill(0).map((ge,ae)=>we(G).add(ae,"day"));t(12,R=se.concat(te)),t(0,P.percentage=te.length/(se.length+te.length),P)}let Q=null;const V={prevMonth(){t(0,P.date=P.date.subtract(1,"month"),P)},nextMonth(){t(0,P.date=P.date.add(1,"month"),P)},generateWeekdayNames(J){let se=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];if(J==="monday"){let te=se.shift();se.push(te)}return se},refresh(){},goToday(J=!0){t(0,P.date=we(),P),J&&s("dayClick",P.date)},getDayStyle(J){let se=0,te,ge=m.filter(ae=>J.toDate().toDateString()===new Date(ae.end).toDateString()).map(ae=>(ae.trackers||ae.getMeta(),F.math=="sum"?ht.sum(ae.getTrackerValues(F.tag)):ht.average(ae.getTrackerValues(F.tag))));return ge.length&&(F.math=="sum"?se=ht.sum(ge):se=ht.average(ge)),se&&(te=Wf(se,F)),ge.length?(te==0?t(0,P.totals.neutral=P.totals.neutral+1,P):te>0?t(0,P.totals.positive=P.totals.positive+1,P):te<0&&t(0,P.totals.negative=P.totals.negative+1,P),V.getDayBorder(te)):""},getDayBorder(J){return J?J>0?"font-weight:bold; border:solid 2px var(--color-green); color:#FFF; background-color:var(--color-green)":"font-weight:bold; border:solid 2px var(--color-red); color:#FFF; background-color:var(--color-red)":"font-weight:bold; border:solid 2px var(--color-primary-bright); color:#FFF; background-color:var(--color-primary-bright);"},getDayClass(J){try{const se=J.format("YYYY-MM-DD"),te=P.date.format("YYYY-MM-DD"),ge=(P.selectedDate||we()).format("YYYY-MM-DD"),ae=we().format("YYYY-MM-DD"),ve=m.find(Pe=>se===te);return["day",`day-${J.format("D")}`,`weekday-${J.toDate().getDay()}`,ve?"selected":"not-selected",p.includes(J.toDate().getDay())?"off-day":null,se===ae?"today":null,se===ge?"active":"inactive"].join(" ")}catch(se){return r.error(se),"error-generating-classes"}}},x=()=>{V.goToday(!1)},ee=(J,se)=>{t(0,P.selectedDate=J,P),s("dayClick",J)};return i.$$set=J=>{"initialDate"in J&&t(17,l=J.initialDate),"size"in J&&t(1,o=J.size),"className"in J&&t(2,a=J.className),"style"in J&&t(3,u=J.style),"height"in J&&t(4,c=J.height),"width"in J&&t(5,f=J.width),"events"in J&&t(18,m=J.events),"offDays"in J&&t(19,p=J.offDays),"showHeader"in J&&t(6,g=J.showHeader),"showControls"in J&&t(7,k=J.showControls),"showCalControl"in J&&t(8,$=J.showCalControl),"showDetails"in J&&t(9,D=J.showDetails),"tracker"in J&&t(20,F=J.tracker),"compact"in J&&t(10,S=J.compact),"state"in J&&t(0,P=J.state)},i.$$.update=()=>{i.$$.dirty[0]&16777216&&t(22,d=n.weekStarts),i.$$.dirty[0]&1024&&(S?B="MMM":B="MMMM"),i.$$.dirty[0]&4325376&&l&&(t(0,P.date=we(l),P),t(0,P.weekdays=V.generateWeekdayNames(d),P)),i.$$.dirty[0]&8388609&&P.date&&P.date!=Q&&U()},[P,o,a,u,c,f,g,k,$,D,S,I,R,H,K,s,V,l,m,p,F,C,d,Q,n,x,ee]}class yee extends ce{constructor(e){super(),ue(this,e,kee,bee,le,{initialDate:17,size:1,className:2,style:3,height:4,width:5,events:18,offDays:19,showHeader:6,showControls:7,showCalControl:8,showDetails:9,tracker:20,color:21,compact:10,state:0},null,[-1,-1])}get color(){return this.$$.ctx[21]}}const wee=i=>({}),Oy=i=>({});function Iy(i){let e,t,n,r,s,l=(i[6].use24hour?i[4].format("ddd D MMM YYYY"):i[4].format("ddd MMM D YYYY"))+"",o,a,u,c,f,d,m,p,g;const k=i[12].left,$=He(k,i,i[11],Oy);function D(S){i[14](S)}let F={is24Hour:i[6].use24hour};i[0]!==void 0&&(F.time=i[0]),u=new oM({props:F}),De.push(()=>Ue(u,"time",D,i[0])),u.$on("change",i[15]);let C=i[5]&&By(i);return{c(){e=A("div"),t=A("div"),n=A("div"),$&&$.c(),r=Y(),s=A("button"),o=Z(l),a=Y(),O(u.$$.fragment),f=Y(),C&&C.c(),h(s,"class","justify-content-start flex-grow text-sm"),h(n,"class","flex"),h(t,"class","date-time-bar"),h(t,"style",i[1]),h(e,"class",d="date-time-bar-wrapper "+(i[3]=="top"?"calendar-top":"calendar-bottom"))},m(S,P){w(S,e,P),E(e,t),E(t,n),$&&$.m(n,null),E(n,r),E(n,s),E(s,o),E(t,a),N(u,t,null),E(e,f),C&&C.m(e,null),m=!0,p||(g=ke(s,"click",i[13]),p=!0)},p(S,P){$&&$.p&&(!m||P&2048)&&Ve($,k,S,S[11],m?We(k,S[11],P,wee):Ge(S[11]),Oy),(!m||P&80)&&l!==(l=(S[6].use24hour?S[4].format("ddd D MMM YYYY"):S[4].format("ddd MMM D YYYY"))+"")&&oe(o,l);const I={};P&64&&(I.is24Hour=S[6].use24hour),!c&&P&1&&(c=!0,I.time=S[0],qe(()=>c=!1)),u.$set(I),(!m||P&2)&&h(t,"style",S[1]),S[5]?C?(C.p(S,P),P&32&&_(C,1)):(C=By(S),C.c(),_(C,1),C.m(e,null)):C&&(ie(),v(C,1,1,()=>{C=null}),re()),(!m||P&8&&d!==(d="date-time-bar-wrapper "+(S[3]=="top"?"calendar-top":"calendar-bottom")))&&h(e,"class",d)},i(S){m||(_($,S),_(u.$$.fragment,S),_(C),m=!0)},o(S){v($,S),v(u.$$.fragment,S),v(C),m=!1},d(S){S&&y(e),$&&$.d(S),M(u),C&&C.d(),p=!1,g()}}}function By(i){let e,t,n,r;return t=new yee({props:{className:i[2],initialDate:i[4],showCalControl:!0}}),t.$on("dayClick",i[16]),{c(){e=A("div"),O(t.$$.fragment),h(e,"class","view date")},m(s,l){w(s,e,l),N(t,e,null),r=!0},p(s,l){i=s;const o={};l&4&&(o.className=i[2]),l&16&&(o.initialDate=i[4]),t.$set(o)},i(s){r||(_(t.$$.fragment,s),Rn(()=>{n||(n=lr(e,cs,{delay:0,duration:300,easing:al},!0)),n.run(1)}),r=!0)},o(s){v(t.$$.fragment,s),n||(n=lr(e,cs,{delay:0,duration:300,easing:al},!1)),n.run(0),r=!1},d(s){s&&y(e),M(t),s&&n&&n.end()}}}function $ee(i){let e,t,n=i[4]&&Iy(i);return{c(){n&&n.c(),e=$e()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,[s]){r[4]?n?(n.p(r,s),s&16&&_(n,1)):(n=Iy(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ie(),v(n,1,1,()=>{n=null}),re())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function Fee(i,e,t){let n;Ee(i,St,P=>t(6,n=P));let{$$slots:r={},$$scope:s}=e;const l=Dt();let{date:o=new Date().getTime()}=e,{opened:a=!1}=e,{style:u=""}=e,{calendarClass:c=""}=e,{calendarPosition:f="bottom"}=e,d,m,p=a;async function g(){t(5,p=!p)}function k(){t(0,o=o||new Date().getTime()),t(4,m=o instanceof Date?we(o):we(new Date(o))),t(5,p=a),t(10,d=o)}async function $(P){t(4,m=P),t(4,m),!a&&p&&(await Fr(300),await Fr(200),t(5,p=!1)),l("change",m)}wt(k);const D=()=>{g()};function F(P){o=P,t(0,o)}const C=P=>{$(we(new Date(P.detail)))},S=P=>{let I=P.detail.hour(m.hour()).minute(m.minute());$(I)};return i.$$set=P=>{"date"in P&&t(0,o=P.date),"opened"in P&&t(9,a=P.opened),"style"in P&&t(1,u=P.style),"calendarClass"in P&&t(2,c=P.calendarClass),"calendarPosition"in P&&t(3,f=P.calendarPosition),"$$scope"in P&&t(11,s=P.$$scope)},i.$$.update=()=>{i.$$.dirty&1025&&(o&&o!==d||!o&&d)&&k()},[o,u,c,f,m,p,n,g,$,a,d,s,r,D,F,C,S]}class aM extends ce{constructor(e){super(),ue(this,e,Fee,$ee,le,{date:0,opened:9,style:1,calendarClass:2,calendarPosition:3})}}function Eee(i){let e,t,n,r,s;return{c(){e=A("input"),h(e,"style",i[2]),h(e,"type","datetime-local"),h(e,"placeholder",t=we().format(i[6])),h(e,"class",n="native-datetime m-0 size-"+i[3])},m(l,o){w(l,e,o),mn(e,i[5]),i[14](e),r||(s=[ke(e,"input",i[7]),ke(e,"input",i[13])],r=!0)},p(l,o){o&4&&h(e,"style",l[2]),o&64&&t!==(t=we().format(l[6]))&&h(e,"placeholder",t),o&8&&n!==(n="native-datetime m-0 size-"+l[3])&&h(e,"class",n),o&32&&mn(e,l[5])},i:W,o:W,d(l){l&&y(e),i[14](null),r=!1,pt(s)}}}function Dee(i){let e,t,n;function r(l){i[11](l)}let s={style:i[2]};return i[0]!==void 0&&(s.date=i[0]),e=new aM({props:s}),De.push(()=>Ue(e,"date",r,i[0])),e.$on("change",i[12]),{c(){O(e.$$.fragment)},m(l,o){N(e,l,o),n=!0},p(l,o){const a={};o&4&&(a.style=l[2]),!t&&o&1&&(t=!0,a.date=l[0],qe(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){M(e,l)}}}function Cee(i){let e,t,n,r,s;const l=[Dee,Eee],o=[];function a(u,c){return Hn.is(/(firefox)/gi)?0:1}return t=a(),n=o[t]=l[t](i),{c(){e=A("div"),n.c(),h(e,"class",r="n-date-picker "+i[1])},m(u,c){w(u,e,c),o[t].m(e,null),s=!0},p(u,[c]){n.p(u,c),(!s||c&2&&r!==(r="n-date-picker "+u[1]))&&h(e,"class",r)},i(u){s||(_(n),s=!0)},o(u){v(n),s=!1},d(u){u&&y(e),o[t].d()}}}const zy="YYYY-MM-DDTHH:mm";function See(i,e,t){let n;Ee(i,St,F=>t(10,n=F));let{date:r}=e,{time:s=void 0}=e,{className:l=""}=e,{style:o=""}=e,{size:a="sm"}=e;const u=Dt();let c,f,d,m;function p(F){t(8,r=new Date(F.target.value)),t(0,s=r.getTime()),u("change",r)}function g(F){s=F,t(0,s)}const k=F=>{p({target:{value:F.detail}})};function $(){f=this.value,t(5,f),t(0,s),t(9,d)}function D(F){De[F?"unshift":"push"](()=>{c=F,t(4,c)})}return i.$$set=F=>{"date"in F&&t(8,r=F.date),"time"in F&&t(0,s=F.time),"className"in F&&t(1,l=F.className),"style"in F&&t(2,o=F.style),"size"in F&&t(3,a=F.size)},i.$$.update=()=>{i.$$.dirty&1024&&t(6,m=n.use24hour?"dd/mm/yyyy HH:mm":"mm/dd/yyyy hh:mm a"),i.$$.dirty&513&&(s?s!==d&&(t(9,d=s),t(5,f=we(new Date(s)).format(zy))):t(5,f=we(new Date).format(zy)))},[s,l,o,a,c,f,m,p,r,d,n,g,k,$,D]}class Tee extends ce{constructor(e){super(),ue(this,e,See,Cee,le,{date:8,time:0,className:1,style:2,size:3})}}const Xn={awardChainDoc(i="local"){return"awards.json"},routes:{board(i){return`/board/${i}`},analytics(){return"/analytics"},search(){return"/search"},history(){return"/history"},dashboard(){return"/dashboard"},people(){return"/people"},settings(){return"/settings"},uoms(){return"/uoms"}},storage:{trackers(){return"trackers.json"},backup(){return"backup-settings.json"},search(){return"searches.json"},book(i){return`${or.data_root}/books/${i}`},boards(){return"boards.json"},uniboards(){return"uniboards.json"},dashboards(){return"dashboards.json"},context(){return"context.json"},csvTemplates(){return"csv-templates.json"},templates(){return"templates.json"},people(){return"people.json"},locations(){return"locations.json"},writingPrompts(){return"writing-prompts.json"},plugins(){return"plugins.json"},goals(){return"goals.json"},awards(){return"awards.json"},lastUsage(){return"last-usage.json"},lastUsed(){return"trackable-usage.json"},trackableUsage(){return"trackable-usage.json"},uom(){return"uoms.json"}},local:{storage(i){return`storage/${i}`},storageType(){return Xn.local.storage("root/storage_type")},sidestore(i){return`${or.data_root}/localDB/${i}`}}};function vh(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var uM={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(i,e){(function(t){i.exports=t()})(function(){return function t(n,r,s){function l(u,c){if(!r[u]){if(!n[u]){var f=typeof vh=="function"&&vh;if(!c&&f)return f(u,!0);if(o)return o(u,!0);var d=new Error("Cannot find module '"+u+"'");throw d.code="MODULE_NOT_FOUND",d}var m=r[u]={exports:{}};n[u][0].call(m.exports,function(p){var g=n[u][1][p];return l(g||p)},m,m.exports,t,n,r,s)}return r[u].exports}for(var o=typeof vh=="function"&&vh,a=0;a<s.length;a++)l(s[a]);return l}({1:[function(t,n,r){(function(s){var l=s.MutationObserver||s.WebKitMutationObserver,o;if(l){var a=0,u=new l(p),c=s.document.createTextNode("");u.observe(c,{characterData:!0}),o=function(){c.data=a=++a%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var f=new s.MessageChannel;f.port1.onmessage=p,o=function(){f.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?o=function(){var k=s.document.createElement("script");k.onreadystatechange=function(){p(),k.onreadystatechange=null,k.parentNode.removeChild(k),k=null},s.document.documentElement.appendChild(k)}:o=function(){setTimeout(p,0)};var d,m=[];function p(){d=!0;for(var k,$,D=m.length;D;){for($=m,m=[],k=-1;++k<D;)$[k]();D=m.length}d=!1}n.exports=g;function g(k){m.push(k)===1&&!d&&o()}}).call(this,typeof Yn<"u"?Yn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(t,n,r){var s=t(1);function l(){}var o={},a=["REJECTED"],u=["FULFILLED"],c=["PENDING"];n.exports=f;function f(S){if(typeof S!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,S!==l&&g(this,S)}f.prototype.catch=function(S){return this.then(null,S)},f.prototype.then=function(S,P){if(typeof S!="function"&&this.state===u||typeof P!="function"&&this.state===a)return this;var I=new this.constructor(l);if(this.state!==c){var R=this.state===u?S:P;m(I,R,this.outcome)}else this.queue.push(new d(I,S,P));return I};function d(S,P,I){this.promise=S,typeof P=="function"&&(this.onFulfilled=P,this.callFulfilled=this.otherCallFulfilled),typeof I=="function"&&(this.onRejected=I,this.callRejected=this.otherCallRejected)}d.prototype.callFulfilled=function(S){o.resolve(this.promise,S)},d.prototype.otherCallFulfilled=function(S){m(this.promise,this.onFulfilled,S)},d.prototype.callRejected=function(S){o.reject(this.promise,S)},d.prototype.otherCallRejected=function(S){m(this.promise,this.onRejected,S)};function m(S,P,I){s(function(){var R;try{R=P(I)}catch(B){return o.reject(S,B)}R===S?o.reject(S,new TypeError("Cannot resolve promise with itself")):o.resolve(S,R)})}o.resolve=function(S,P){var I=k(p,P);if(I.status==="error")return o.reject(S,I.value);var R=I.value;if(R)g(S,R);else{S.state=u,S.outcome=P;for(var B=-1,z=S.queue.length;++B<z;)S.queue[B].callFulfilled(P)}return S},o.reject=function(S,P){S.state=a,S.outcome=P;for(var I=-1,R=S.queue.length;++I<R;)S.queue[I].callRejected(P);return S};function p(S){var P=S&&S.then;if(S&&(typeof S=="object"||typeof S=="function")&&typeof P=="function")return function(){P.apply(S,arguments)}}function g(S,P){var I=!1;function R(H){I||(I=!0,o.reject(S,H))}function B(H){I||(I=!0,o.resolve(S,H))}function z(){P(B,R)}var q=k(z);q.status==="error"&&R(q.value)}function k(S,P){var I={};try{I.value=S(P),I.status="success"}catch(R){I.status="error",I.value=R}return I}f.resolve=$;function $(S){return S instanceof this?S:o.resolve(new this(l),S)}f.reject=D;function D(S){var P=new this(l);return o.reject(P,S)}f.all=F;function F(S){var P=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=S.length,R=!1;if(!I)return this.resolve([]);for(var B=new Array(I),z=0,q=-1,H=new this(l);++q<I;)K(S[q],q);return H;function K(G,U){P.resolve(G).then(Q,function(V){R||(R=!0,o.reject(H,V))});function Q(V){B[U]=V,++z===I&&!R&&(R=!0,o.resolve(H,B))}}}f.race=C;function C(S){var P=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=S.length,R=!1;if(!I)return this.resolve([]);for(var B=-1,z=new this(l);++B<I;)q(S[B]);return z;function q(H){P.resolve(H).then(function(K){R||(R=!0,o.resolve(z,K))},function(K){R||(R=!0,o.reject(z,K))})}}},{1:1}],3:[function(t,n,r){(function(s){typeof s.Promise!="function"&&(s.Promise=t(2))}).call(this,typeof Yn<"u"?Yn:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(t,n,r){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(he){return typeof he}:function(he){return he&&typeof Symbol=="function"&&he.constructor===Symbol&&he!==Symbol.prototype?"symbol":typeof he};function l(he,Ae){if(!(he instanceof Ae))throw new TypeError("Cannot call a class as a function")}function o(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var a=o();function u(){try{if(!a||!a.open)return!1;var he=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),Ae=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!he||Ae)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function c(he,Ae){he=he||[],Ae=Ae||{};try{return new Blob(he,Ae)}catch(Ce){if(Ce.name!=="TypeError")throw Ce;for(var be=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,Oe=new be,ze=0;ze<he.length;ze+=1)Oe.append(he[ze]);return Oe.getBlob(Ae.type)}}typeof Promise>"u"&&t(3);var f=Promise;function d(he,Ae){Ae&&he.then(function(be){Ae(null,be)},function(be){Ae(be)})}function m(he,Ae,be){typeof Ae=="function"&&he.then(Ae),typeof be=="function"&&he.catch(be)}function p(he){return typeof he!="string"&&(console.warn(he+" used as a key, but it is not a string."),he=String(he)),he}function g(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var k="local-forage-detect-blob-support",$=void 0,D={},F=Object.prototype.toString,C="readonly",S="readwrite";function P(he){for(var Ae=he.length,be=new ArrayBuffer(Ae),Oe=new Uint8Array(be),ze=0;ze<Ae;ze++)Oe[ze]=he.charCodeAt(ze);return be}function I(he){return new f(function(Ae){var be=he.transaction(k,S),Oe=c([""]);be.objectStore(k).put(Oe,"key"),be.onabort=function(ze){ze.preventDefault(),ze.stopPropagation(),Ae(!1)},be.oncomplete=function(){var ze=navigator.userAgent.match(/Chrome\/(\d+)/),Ce=navigator.userAgent.match(/Edge\//);Ae(Ce||!ze||parseInt(ze[1],10)>=43)}}).catch(function(){return!1})}function R(he){return typeof $=="boolean"?f.resolve($):I(he).then(function(Ae){return $=Ae,$})}function B(he){var Ae=D[he.name],be={};be.promise=new f(function(Oe,ze){be.resolve=Oe,be.reject=ze}),Ae.deferredOperations.push(be),Ae.dbReady?Ae.dbReady=Ae.dbReady.then(function(){return be.promise}):Ae.dbReady=be.promise}function z(he){var Ae=D[he.name],be=Ae.deferredOperations.pop();if(be)return be.resolve(),be.promise}function q(he,Ae){var be=D[he.name],Oe=be.deferredOperations.pop();if(Oe)return Oe.reject(Ae),Oe.promise}function H(he,Ae){return new f(function(be,Oe){if(D[he.name]=D[he.name]||te(),he.db)if(Ae)B(he),he.db.close();else return be(he.db);var ze=[he.name];Ae&&ze.push(he.version);var Ce=a.open.apply(a,ze);Ae&&(Ce.onupgradeneeded=function(et){var ut=Ce.result;try{ut.createObjectStore(he.storeName),et.oldVersion<=1&&ut.createObjectStore(k)}catch(_t){if(_t.name==="ConstraintError")console.warn('The database "'+he.name+'" has been upgraded from version '+et.oldVersion+" to version "+et.newVersion+', but the storage "'+he.storeName+'" already exists.');else throw _t}}),Ce.onerror=function(et){et.preventDefault(),Oe(Ce.error)},Ce.onsuccess=function(){var et=Ce.result;et.onversionchange=function(ut){ut.target.close()},be(et),z(he)}})}function K(he){return H(he,!1)}function G(he){return H(he,!0)}function U(he,Ae){if(!he.db)return!0;var be=!he.db.objectStoreNames.contains(he.storeName),Oe=he.version<he.db.version,ze=he.version>he.db.version;if(Oe&&(he.version!==Ae&&console.warn('The database "'+he.name+`" can't be downgraded from version `+he.db.version+" to version "+he.version+"."),he.version=he.db.version),ze||be){if(be){var Ce=he.db.version+1;Ce>he.version&&(he.version=Ce)}return!0}return!1}function Q(he){return new f(function(Ae,be){var Oe=new FileReader;Oe.onerror=be,Oe.onloadend=function(ze){var Ce=btoa(ze.target.result||"");Ae({__local_forage_encoded_blob:!0,data:Ce,type:he.type})},Oe.readAsBinaryString(he)})}function V(he){var Ae=P(atob(he.data));return c([Ae],{type:he.type})}function x(he){return he&&he.__local_forage_encoded_blob}function ee(he){var Ae=this,be=Ae._initReady().then(function(){var Oe=D[Ae._dbInfo.name];if(Oe&&Oe.dbReady)return Oe.dbReady});return m(be,he,he),be}function J(he){B(he);for(var Ae=D[he.name],be=Ae.forages,Oe=0;Oe<be.length;Oe++){var ze=be[Oe];ze._dbInfo.db&&(ze._dbInfo.db.close(),ze._dbInfo.db=null)}return he.db=null,K(he).then(function(Ce){return he.db=Ce,U(he)?G(he):Ce}).then(function(Ce){he.db=Ae.db=Ce;for(var et=0;et<be.length;et++)be[et]._dbInfo.db=Ce}).catch(function(Ce){throw q(he,Ce),Ce})}function se(he,Ae,be,Oe){Oe===void 0&&(Oe=1);try{var ze=he.db.transaction(he.storeName,Ae);be(null,ze)}catch(Ce){if(Oe>0&&(!he.db||Ce.name==="InvalidStateError"||Ce.name==="NotFoundError"))return f.resolve().then(function(){if(!he.db||Ce.name==="NotFoundError"&&!he.db.objectStoreNames.contains(he.storeName)&&he.version<=he.db.version)return he.db&&(he.version=he.db.version+1),G(he)}).then(function(){return J(he).then(function(){se(he,Ae,be,Oe-1)})}).catch(be);be(Ce)}}function te(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function ge(he){var Ae=this,be={db:null};if(he)for(var Oe in he)be[Oe]=he[Oe];var ze=D[be.name];ze||(ze=te(),D[be.name]=ze),ze.forages.push(Ae),Ae._initReady||(Ae._initReady=Ae.ready,Ae.ready=ee);var Ce=[];function et(){return f.resolve()}for(var ut=0;ut<ze.forages.length;ut++){var _t=ze.forages[ut];_t!==Ae&&Ce.push(_t._initReady().catch(et))}var ct=ze.forages.slice(0);return f.all(Ce).then(function(){return be.db=ze.db,K(be)}).then(function($t){return be.db=$t,U(be,Ae._defaultConfig.version)?G(be):$t}).then(function($t){be.db=ze.db=$t,Ae._dbInfo=be;for(var Nt=0;Nt<ct.length;Nt++){var Ht=ct[Nt];Ht!==Ae&&(Ht._dbInfo.db=be.db,Ht._dbInfo.version=be.version)}})}function ae(he,Ae){var be=this;he=p(he);var Oe=new f(function(ze,Ce){be.ready().then(function(){se(be._dbInfo,C,function(et,ut){if(et)return Ce(et);try{var _t=ut.objectStore(be._dbInfo.storeName),ct=_t.get(he);ct.onsuccess=function(){var $t=ct.result;$t===void 0&&($t=null),x($t)&&($t=V($t)),ze($t)},ct.onerror=function(){Ce(ct.error)}}catch($t){Ce($t)}})}).catch(Ce)});return d(Oe,Ae),Oe}function ve(he,Ae){var be=this,Oe=new f(function(ze,Ce){be.ready().then(function(){se(be._dbInfo,C,function(et,ut){if(et)return Ce(et);try{var _t=ut.objectStore(be._dbInfo.storeName),ct=_t.openCursor(),$t=1;ct.onsuccess=function(){var Nt=ct.result;if(Nt){var Ht=Nt.value;x(Ht)&&(Ht=V(Ht));var jt=he(Ht,Nt.key,$t++);jt!==void 0?ze(jt):Nt.continue()}else ze()},ct.onerror=function(){Ce(ct.error)}}catch(Nt){Ce(Nt)}})}).catch(Ce)});return d(Oe,Ae),Oe}function Te(he,Ae,be){var Oe=this;he=p(he);var ze=new f(function(Ce,et){var ut;Oe.ready().then(function(){return ut=Oe._dbInfo,F.call(Ae)==="[object Blob]"?R(ut.db).then(function(_t){return _t?Ae:Q(Ae)}):Ae}).then(function(_t){se(Oe._dbInfo,S,function(ct,$t){if(ct)return et(ct);try{var Nt=$t.objectStore(Oe._dbInfo.storeName);_t===null&&(_t=void 0);var Ht=Nt.put(_t,he);$t.oncomplete=function(){_t===void 0&&(_t=null),Ce(_t)},$t.onabort=$t.onerror=function(){var jt=Ht.error?Ht.error:Ht.transaction.error;et(jt)}}catch(jt){et(jt)}})}).catch(et)});return d(ze,be),ze}function Pe(he,Ae){var be=this;he=p(he);var Oe=new f(function(ze,Ce){be.ready().then(function(){se(be._dbInfo,S,function(et,ut){if(et)return Ce(et);try{var _t=ut.objectStore(be._dbInfo.storeName),ct=_t.delete(he);ut.oncomplete=function(){ze()},ut.onerror=function(){Ce(ct.error)},ut.onabort=function(){var $t=ct.error?ct.error:ct.transaction.error;Ce($t)}}catch($t){Ce($t)}})}).catch(Ce)});return d(Oe,Ae),Oe}function pe(he){var Ae=this,be=new f(function(Oe,ze){Ae.ready().then(function(){se(Ae._dbInfo,S,function(Ce,et){if(Ce)return ze(Ce);try{var ut=et.objectStore(Ae._dbInfo.storeName),_t=ut.clear();et.oncomplete=function(){Oe()},et.onabort=et.onerror=function(){var ct=_t.error?_t.error:_t.transaction.error;ze(ct)}}catch(ct){ze(ct)}})}).catch(ze)});return d(be,he),be}function Ie(he){var Ae=this,be=new f(function(Oe,ze){Ae.ready().then(function(){se(Ae._dbInfo,C,function(Ce,et){if(Ce)return ze(Ce);try{var ut=et.objectStore(Ae._dbInfo.storeName),_t=ut.count();_t.onsuccess=function(){Oe(_t.result)},_t.onerror=function(){ze(_t.error)}}catch(ct){ze(ct)}})}).catch(ze)});return d(be,he),be}function ye(he,Ae){var be=this,Oe=new f(function(ze,Ce){if(he<0){ze(null);return}be.ready().then(function(){se(be._dbInfo,C,function(et,ut){if(et)return Ce(et);try{var _t=ut.objectStore(be._dbInfo.storeName),ct=!1,$t=_t.openKeyCursor();$t.onsuccess=function(){var Nt=$t.result;if(!Nt){ze(null);return}he===0||ct?ze(Nt.key):(ct=!0,Nt.advance(he))},$t.onerror=function(){Ce($t.error)}}catch(Nt){Ce(Nt)}})}).catch(Ce)});return d(Oe,Ae),Oe}function st(he){var Ae=this,be=new f(function(Oe,ze){Ae.ready().then(function(){se(Ae._dbInfo,C,function(Ce,et){if(Ce)return ze(Ce);try{var ut=et.objectStore(Ae._dbInfo.storeName),_t=ut.openKeyCursor(),ct=[];_t.onsuccess=function(){var $t=_t.result;if(!$t){Oe(ct);return}ct.push($t.key),$t.continue()},_t.onerror=function(){ze(_t.error)}}catch($t){ze($t)}})}).catch(ze)});return d(be,he),be}function dt(he,Ae){Ae=g.apply(this,arguments);var be=this.config();he=typeof he!="function"&&he||{},he.name||(he.name=he.name||be.name,he.storeName=he.storeName||be.storeName);var Oe=this,ze;if(!he.name)ze=f.reject("Invalid arguments");else{var Ce=he.name===be.name&&Oe._dbInfo.db,et=Ce?f.resolve(Oe._dbInfo.db):K(he).then(function(ut){var _t=D[he.name],ct=_t.forages;_t.db=ut;for(var $t=0;$t<ct.length;$t++)ct[$t]._dbInfo.db=ut;return ut});he.storeName?ze=et.then(function(ut){if(!!ut.objectStoreNames.contains(he.storeName)){var _t=ut.version+1;B(he);var ct=D[he.name],$t=ct.forages;ut.close();for(var Nt=0;Nt<$t.length;Nt++){var Ht=$t[Nt];Ht._dbInfo.db=null,Ht._dbInfo.version=_t}var jt=new f(function(cn,ei){var Zn=a.open(he.name,_t);Zn.onerror=function(tr){var vs=Zn.result;vs.close(),ei(tr)},Zn.onupgradeneeded=function(){var tr=Zn.result;tr.deleteObjectStore(he.storeName)},Zn.onsuccess=function(){var tr=Zn.result;tr.close(),cn(tr)}});return jt.then(function(cn){ct.db=cn;for(var ei=0;ei<$t.length;ei++){var Zn=$t[ei];Zn._dbInfo.db=cn,z(Zn._dbInfo)}}).catch(function(cn){throw(q(he,cn)||f.resolve()).catch(function(){}),cn})}}):ze=et.then(function(ut){B(he);var _t=D[he.name],ct=_t.forages;ut.close();for(var $t=0;$t<ct.length;$t++){var Nt=ct[$t];Nt._dbInfo.db=null}var Ht=new f(function(jt,cn){var ei=a.deleteDatabase(he.name);ei.onerror=function(){var Zn=ei.result;Zn&&Zn.close(),cn(ei.error)},ei.onblocked=function(){console.warn('dropInstance blocked for database "'+he.name+'" until all open connections are closed')},ei.onsuccess=function(){var Zn=ei.result;Zn&&Zn.close(),jt(Zn)}});return Ht.then(function(jt){_t.db=jt;for(var cn=0;cn<ct.length;cn++){var ei=ct[cn];z(ei._dbInfo)}}).catch(function(jt){throw(q(he,jt)||f.resolve()).catch(function(){}),jt})})}return d(ze,Ae),ze}var lt={_driver:"asyncStorage",_initStorage:ge,_support:u(),iterate:ve,getItem:ae,setItem:Te,removeItem:Pe,clear:pe,length:Ie,key:ye,keys:st,dropInstance:dt};function vt(){return typeof openDatabase=="function"}var kt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ze="~~local_forage_type~",bt=/^~~local_forage_type~([^~]+)~/,Yt="__lfsc__:",sn=Yt.length,Ln="arbf",In="blob",On="si08",vn="ui08",hi="uic8",rt="si16",Ii="si32",mi="ur16",Ye="ui32",mr="fl32",pr="fl64",Ji=sn+Ln.length,kl=Object.prototype.toString;function Ke(he){var Ae=he.length*.75,be=he.length,Oe,ze=0,Ce,et,ut,_t;he[he.length-1]==="="&&(Ae--,he[he.length-2]==="="&&Ae--);var ct=new ArrayBuffer(Ae),$t=new Uint8Array(ct);for(Oe=0;Oe<be;Oe+=4)Ce=kt.indexOf(he[Oe]),et=kt.indexOf(he[Oe+1]),ut=kt.indexOf(he[Oe+2]),_t=kt.indexOf(he[Oe+3]),$t[ze++]=Ce<<2|et>>4,$t[ze++]=(et&15)<<4|ut>>2,$t[ze++]=(ut&3)<<6|_t&63;return ct}function Mt(he){var Ae=new Uint8Array(he),be="",Oe;for(Oe=0;Oe<Ae.length;Oe+=3)be+=kt[Ae[Oe]>>2],be+=kt[(Ae[Oe]&3)<<4|Ae[Oe+1]>>4],be+=kt[(Ae[Oe+1]&15)<<2|Ae[Oe+2]>>6],be+=kt[Ae[Oe+2]&63];return Ae.length%3===2?be=be.substring(0,be.length-1)+"=":Ae.length%3===1&&(be=be.substring(0,be.length-2)+"=="),be}function tn(he,Ae){var be="";if(he&&(be=kl.call(he)),he&&(be==="[object ArrayBuffer]"||he.buffer&&kl.call(he.buffer)==="[object ArrayBuffer]")){var Oe,ze=Yt;he instanceof ArrayBuffer?(Oe=he,ze+=Ln):(Oe=he.buffer,be==="[object Int8Array]"?ze+=On:be==="[object Uint8Array]"?ze+=vn:be==="[object Uint8ClampedArray]"?ze+=hi:be==="[object Int16Array]"?ze+=rt:be==="[object Uint16Array]"?ze+=mi:be==="[object Int32Array]"?ze+=Ii:be==="[object Uint32Array]"?ze+=Ye:be==="[object Float32Array]"?ze+=mr:be==="[object Float64Array]"?ze+=pr:Ae(new Error("Failed to get type for BinaryArray"))),Ae(ze+Mt(Oe))}else if(be==="[object Blob]"){var Ce=new FileReader;Ce.onload=function(){var et=Ze+he.type+"~"+Mt(this.result);Ae(Yt+In+et)},Ce.readAsArrayBuffer(he)}else try{Ae(JSON.stringify(he))}catch(et){console.error("Couldn't convert value into a JSON string: ",he),Ae(null,et)}}function bn(he){if(he.substring(0,sn)!==Yt)return JSON.parse(he);var Ae=he.substring(Ji),be=he.substring(sn,Ji),Oe;if(be===In&&bt.test(Ae)){var ze=Ae.match(bt);Oe=ze[1],Ae=Ae.substring(ze[0].length)}var Ce=Ke(Ae);switch(be){case Ln:return Ce;case In:return c([Ce],{type:Oe});case On:return new Int8Array(Ce);case vn:return new Uint8Array(Ce);case hi:return new Uint8ClampedArray(Ce);case rt:return new Int16Array(Ce);case mi:return new Uint16Array(Ce);case Ii:return new Int32Array(Ce);case Ye:return new Uint32Array(Ce);case mr:return new Float32Array(Ce);case pr:return new Float64Array(Ce);default:throw new Error("Unkown type: "+be)}}var _i={serialize:tn,deserialize:bn,stringToBuffer:Ke,bufferToString:Mt};function Jr(he,Ae,be,Oe){he.executeSql("CREATE TABLE IF NOT EXISTS "+Ae.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],be,Oe)}function qi(he){var Ae=this,be={db:null};if(he)for(var Oe in he)be[Oe]=typeof he[Oe]!="string"?he[Oe].toString():he[Oe];var ze=new f(function(Ce,et){try{be.db=openDatabase(be.name,String(be.version),be.description,be.size)}catch(ut){return et(ut)}be.db.transaction(function(ut){Jr(ut,be,function(){Ae._dbInfo=be,Ce()},function(_t,ct){et(ct)})},et)});return be.serializer=_i,ze}function Ri(he,Ae,be,Oe,ze,Ce){he.executeSql(be,Oe,ze,function(et,ut){ut.code===ut.SYNTAX_ERR?et.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[Ae.storeName],function(_t,ct){ct.rows.length?Ce(_t,ut):Jr(_t,Ae,function(){_t.executeSql(be,Oe,ze,Ce)},Ce)},Ce):Ce(et,ut)},Ce)}function Ql(he,Ae){var be=this;he=p(he);var Oe=new f(function(ze,Ce){be.ready().then(function(){var et=be._dbInfo;et.db.transaction(function(ut){Ri(ut,et,"SELECT * FROM "+et.storeName+" WHERE key = ? LIMIT 1",[he],function(_t,ct){var $t=ct.rows.length?ct.rows.item(0).value:null;$t&&($t=et.serializer.deserialize($t)),ze($t)},function(_t,ct){Ce(ct)})})}).catch(Ce)});return d(Oe,Ae),Oe}function eo(he,Ae){var be=this,Oe=new f(function(ze,Ce){be.ready().then(function(){var et=be._dbInfo;et.db.transaction(function(ut){Ri(ut,et,"SELECT * FROM "+et.storeName,[],function(_t,ct){for(var $t=ct.rows,Nt=$t.length,Ht=0;Ht<Nt;Ht++){var jt=$t.item(Ht),cn=jt.value;if(cn&&(cn=et.serializer.deserialize(cn)),cn=he(cn,jt.key,Ht+1),cn!==void 0){ze(cn);return}}ze()},function(_t,ct){Ce(ct)})})}).catch(Ce)});return d(Oe,Ae),Oe}function to(he,Ae,be,Oe){var ze=this;he=p(he);var Ce=new f(function(et,ut){ze.ready().then(function(){Ae===void 0&&(Ae=null);var _t=Ae,ct=ze._dbInfo;ct.serializer.serialize(Ae,function($t,Nt){Nt?ut(Nt):ct.db.transaction(function(Ht){Ri(Ht,ct,"INSERT OR REPLACE INTO "+ct.storeName+" (key, value) VALUES (?, ?)",[he,$t],function(){et(_t)},function(jt,cn){ut(cn)})},function(Ht){if(Ht.code===Ht.QUOTA_ERR){if(Oe>0){et(to.apply(ze,[he,_t,be,Oe-1]));return}ut(Ht)}})})}).catch(ut)});return d(Ce,be),Ce}function Ko(he,Ae,be){return to.apply(this,[he,Ae,be,1])}function no(he,Ae){var be=this;he=p(he);var Oe=new f(function(ze,Ce){be.ready().then(function(){var et=be._dbInfo;et.db.transaction(function(ut){Ri(ut,et,"DELETE FROM "+et.storeName+" WHERE key = ?",[he],function(){ze()},function(_t,ct){Ce(ct)})})}).catch(Ce)});return d(Oe,Ae),Oe}function _s(he){var Ae=this,be=new f(function(Oe,ze){Ae.ready().then(function(){var Ce=Ae._dbInfo;Ce.db.transaction(function(et){Ri(et,Ce,"DELETE FROM "+Ce.storeName,[],function(){Oe()},function(ut,_t){ze(_t)})})}).catch(ze)});return d(be,he),be}function Jo(he){var Ae=this,be=new f(function(Oe,ze){Ae.ready().then(function(){var Ce=Ae._dbInfo;Ce.db.transaction(function(et){Ri(et,Ce,"SELECT COUNT(key) as c FROM "+Ce.storeName,[],function(ut,_t){var ct=_t.rows.item(0).c;Oe(ct)},function(ut,_t){ze(_t)})})}).catch(ze)});return d(be,he),be}function cu(he,Ae){var be=this,Oe=new f(function(ze,Ce){be.ready().then(function(){var et=be._dbInfo;et.db.transaction(function(ut){Ri(ut,et,"SELECT key FROM "+et.storeName+" WHERE id = ? LIMIT 1",[he+1],function(_t,ct){var $t=ct.rows.length?ct.rows.item(0).key:null;ze($t)},function(_t,ct){Ce(ct)})})}).catch(Ce)});return d(Oe,Ae),Oe}function de(he){var Ae=this,be=new f(function(Oe,ze){Ae.ready().then(function(){var Ce=Ae._dbInfo;Ce.db.transaction(function(et){Ri(et,Ce,"SELECT key FROM "+Ce.storeName,[],function(ut,_t){for(var ct=[],$t=0;$t<_t.rows.length;$t++)ct.push(_t.rows.item($t).key);Oe(ct)},function(ut,_t){ze(_t)})})}).catch(ze)});return d(be,he),be}function Fe(he){return new f(function(Ae,be){he.transaction(function(Oe){Oe.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(ze,Ce){for(var et=[],ut=0;ut<Ce.rows.length;ut++)et.push(Ce.rows.item(ut).name);Ae({db:he,storeNames:et})},function(ze,Ce){be(Ce)})},function(Oe){be(Oe)})})}function Be(he,Ae){Ae=g.apply(this,arguments);var be=this.config();he=typeof he!="function"&&he||{},he.name||(he.name=he.name||be.name,he.storeName=he.storeName||be.storeName);var Oe=this,ze;return he.name?ze=new f(function(Ce){var et;he.name===be.name?et=Oe._dbInfo.db:et=openDatabase(he.name,"","",0),he.storeName?Ce({db:et,storeNames:[he.storeName]}):Ce(Fe(et))}).then(function(Ce){return new f(function(et,ut){Ce.db.transaction(function(_t){function ct(jt){return new f(function(cn,ei){_t.executeSql("DROP TABLE IF EXISTS "+jt,[],function(){cn()},function(Zn,tr){ei(tr)})})}for(var $t=[],Nt=0,Ht=Ce.storeNames.length;Nt<Ht;Nt++)$t.push(ct(Ce.storeNames[Nt]));f.all($t).then(function(){et()}).catch(function(jt){ut(jt)})},function(_t){ut(_t)})})}):ze=f.reject("Invalid arguments"),d(ze,Ae),ze}var tt={_driver:"webSQLStorage",_initStorage:qi,_support:vt(),iterate:eo,getItem:Ql,setItem:Ko,removeItem:no,clear:_s,length:Jo,key:cu,keys:de,dropInstance:Be};function mt(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Lt(he,Ae){var be=he.name+"/";return he.storeName!==Ae.storeName&&(be+=he.storeName+"/"),be}function yt(){var he="_localforage_support_test";try{return localStorage.setItem(he,!0),localStorage.removeItem(he),!1}catch{return!0}}function gi(){return!yt()||localStorage.length>0}function nn(he){var Ae=this,be={};if(he)for(var Oe in he)be[Oe]=he[Oe];return be.keyPrefix=Lt(he,Ae._defaultConfig),gi()?(Ae._dbInfo=be,be.serializer=_i,f.resolve()):f.reject()}function $i(he){var Ae=this,be=Ae.ready().then(function(){for(var Oe=Ae._dbInfo.keyPrefix,ze=localStorage.length-1;ze>=0;ze--){var Ce=localStorage.key(ze);Ce.indexOf(Oe)===0&&localStorage.removeItem(Ce)}});return d(be,he),be}function yl(he,Ae){var be=this;he=p(he);var Oe=be.ready().then(function(){var ze=be._dbInfo,Ce=localStorage.getItem(ze.keyPrefix+he);return Ce&&(Ce=ze.serializer.deserialize(Ce)),Ce});return d(Oe,Ae),Oe}function io(he,Ae){var be=this,Oe=be.ready().then(function(){for(var ze=be._dbInfo,Ce=ze.keyPrefix,et=Ce.length,ut=localStorage.length,_t=1,ct=0;ct<ut;ct++){var $t=localStorage.key(ct);if($t.indexOf(Ce)===0){var Nt=localStorage.getItem($t);if(Nt&&(Nt=ze.serializer.deserialize(Nt)),Nt=he(Nt,$t.substring(et),_t++),Nt!==void 0)return Nt}}});return d(Oe,Ae),Oe}function Qo(he,Ae){var be=this,Oe=be.ready().then(function(){var ze=be._dbInfo,Ce;try{Ce=localStorage.key(he)}catch{Ce=null}return Ce&&(Ce=Ce.substring(ze.keyPrefix.length)),Ce});return d(Oe,Ae),Oe}function _r(he){var Ae=this,be=Ae.ready().then(function(){for(var Oe=Ae._dbInfo,ze=localStorage.length,Ce=[],et=0;et<ze;et++){var ut=localStorage.key(et);ut.indexOf(Oe.keyPrefix)===0&&Ce.push(ut.substring(Oe.keyPrefix.length))}return Ce});return d(be,he),be}function ea(he){var Ae=this,be=Ae.keys().then(function(Oe){return Oe.length});return d(be,he),be}function fu(he,Ae){var be=this;he=p(he);var Oe=be.ready().then(function(){var ze=be._dbInfo;localStorage.removeItem(ze.keyPrefix+he)});return d(Oe,Ae),Oe}function Bs(he,Ae,be){var Oe=this;he=p(he);var ze=Oe.ready().then(function(){Ae===void 0&&(Ae=null);var Ce=Ae;return new f(function(et,ut){var _t=Oe._dbInfo;_t.serializer.serialize(Ae,function(ct,$t){if($t)ut($t);else try{localStorage.setItem(_t.keyPrefix+he,ct),et(Ce)}catch(Nt){(Nt.name==="QuotaExceededError"||Nt.name==="NS_ERROR_DOM_QUOTA_REACHED")&&ut(Nt),ut(Nt)}})})});return d(ze,be),ze}function ta(he,Ae){if(Ae=g.apply(this,arguments),he=typeof he!="function"&&he||{},!he.name){var be=this.config();he.name=he.name||be.name,he.storeName=he.storeName||be.storeName}var Oe=this,ze;return he.name?ze=new f(function(Ce){he.storeName?Ce(Lt(he,Oe._defaultConfig)):Ce(he.name+"/")}).then(function(Ce){for(var et=localStorage.length-1;et>=0;et--){var ut=localStorage.key(et);ut.indexOf(Ce)===0&&localStorage.removeItem(ut)}}):ze=f.reject("Invalid arguments"),d(ze,Ae),ze}var na={_driver:"localStorageWrapper",_initStorage:nn,_support:mt(),iterate:io,getItem:yl,setItem:Bs,removeItem:fu,clear:$i,length:ea,key:Qo,keys:_r,dropInstance:ta},ro=function(Ae,be){return Ae===be||typeof Ae=="number"&&typeof be=="number"&&isNaN(Ae)&&isNaN(be)},gr=function(Ae,be){for(var Oe=Ae.length,ze=0;ze<Oe;){if(ro(Ae[ze],be))return!0;ze++}return!1},Qn=Array.isArray||function(he){return Object.prototype.toString.call(he)==="[object Array]"},Qi={},Qr={},er={INDEXEDDB:lt,WEBSQL:tt,LOCALSTORAGE:na},gs=[er.INDEXEDDB._driver,er.WEBSQL._driver,er.LOCALSTORAGE._driver],vr=["dropInstance"],zs=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(vr),Rs={description:"",driver:gs.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ia(he,Ae){he[Ae]=function(){var be=arguments;return he.ready().then(function(){return he[Ae].apply(he,be)})}}function Ur(){for(var he=1;he<arguments.length;he++){var Ae=arguments[he];if(Ae)for(var be in Ae)Ae.hasOwnProperty(be)&&(Qn(Ae[be])?arguments[0][be]=Ae[be].slice():arguments[0][be]=Ae[be])}return arguments[0]}var ra=function(){function he(Ae){l(this,he);for(var be in er)if(er.hasOwnProperty(be)){var Oe=er[be],ze=Oe._driver;this[be]=ze,Qi[ze]||this.defineDriver(Oe)}this._defaultConfig=Ur({},Rs),this._config=Ur({},this._defaultConfig,Ae),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return he.prototype.config=function(be){if((typeof be>"u"?"undefined":s(be))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var Oe in be){if(Oe==="storeName"&&(be[Oe]=be[Oe].replace(/\W/g,"_")),Oe==="version"&&typeof be[Oe]!="number")return new Error("Database version must be a number.");this._config[Oe]=be[Oe]}return"driver"in be&&be.driver?this.setDriver(this._config.driver):!0}else return typeof be=="string"?this._config[be]:this._config},he.prototype.defineDriver=function(be,Oe,ze){var Ce=new f(function(et,ut){try{var _t=be._driver,ct=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!be._driver){ut(ct);return}for(var $t=zs.concat("_initStorage"),Nt=0,Ht=$t.length;Nt<Ht;Nt++){var jt=$t[Nt],cn=!gr(vr,jt);if((cn||be[jt])&&typeof be[jt]!="function"){ut(ct);return}}var ei=function(){for(var vs=function(Hc){return function(){var du=new Error("Method "+Hc+" is not implemented by the current driver"),Wc=f.reject(du);return d(Wc,arguments[arguments.length-1]),Wc}},sa=0,qc=vr.length;sa<qc;sa++){var so=vr[sa];be[so]||(be[so]=vs(so))}};ei();var Zn=function(vs){Qi[_t]&&console.info("Redefining LocalForage driver: "+_t),Qi[_t]=be,Qr[_t]=vs,et()};"_support"in be?be._support&&typeof be._support=="function"?be._support().then(Zn,ut):Zn(!!be._support):Zn(!0)}catch(tr){ut(tr)}});return m(Ce,Oe,ze),Ce},he.prototype.driver=function(){return this._driver||null},he.prototype.getDriver=function(be,Oe,ze){var Ce=Qi[be]?f.resolve(Qi[be]):f.reject(new Error("Driver not found."));return m(Ce,Oe,ze),Ce},he.prototype.getSerializer=function(be){var Oe=f.resolve(_i);return m(Oe,be),Oe},he.prototype.ready=function(be){var Oe=this,ze=Oe._driverSet.then(function(){return Oe._ready===null&&(Oe._ready=Oe._initDriver()),Oe._ready});return m(ze,be,be),ze},he.prototype.setDriver=function(be,Oe,ze){var Ce=this;Qn(be)||(be=[be]);var et=this._getSupportedDrivers(be);function ut(){Ce._config.driver=Ce.driver()}function _t(Nt){return Ce._extend(Nt),ut(),Ce._ready=Ce._initStorage(Ce._config),Ce._ready}function ct(Nt){return function(){var Ht=0;function jt(){for(;Ht<Nt.length;){var cn=Nt[Ht];return Ht++,Ce._dbInfo=null,Ce._ready=null,Ce.getDriver(cn).then(_t).catch(jt)}ut();var ei=new Error("No available storage method found.");return Ce._driverSet=f.reject(ei),Ce._driverSet}return jt()}}var $t=this._driverSet!==null?this._driverSet.catch(function(){return f.resolve()}):f.resolve();return this._driverSet=$t.then(function(){var Nt=et[0];return Ce._dbInfo=null,Ce._ready=null,Ce.getDriver(Nt).then(function(Ht){Ce._driver=Ht._driver,ut(),Ce._wrapLibraryMethodsWithReady(),Ce._initDriver=ct(et)})}).catch(function(){ut();var Nt=new Error("No available storage method found.");return Ce._driverSet=f.reject(Nt),Ce._driverSet}),m(this._driverSet,Oe,ze),this._driverSet},he.prototype.supports=function(be){return!!Qr[be]},he.prototype._extend=function(be){Ur(this,be)},he.prototype._getSupportedDrivers=function(be){for(var Oe=[],ze=0,Ce=be.length;ze<Ce;ze++){var et=be[ze];this.supports(et)&&Oe.push(et)}return Oe},he.prototype._wrapLibraryMethodsWithReady=function(){for(var be=0,Oe=zs.length;be<Oe;be++)ia(this,zs[be])},he.prototype.createInstance=function(be){return new he(be)},he}(),kn=new ra;n.exports=kn},{3:3}]},{},[4])(4)})})(uM);const Lu=uM.exports;var Aee=xa,Pee=Aee["__core-js_shared__"],Nee=Pee,Z_=Nee,Ry=function(){var i=/[^.]+$/.exec(Z_&&Z_.keys&&Z_.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}();function Mee(i){return!!Ry&&Ry in i}var Lee=Mee,Oee=Function.prototype,Iee=Oee.toString;function Bee(i){if(i!=null){try{return Iee.call(i)}catch{}try{return i+""}catch{}}return""}var zee=Bee,Ree=wN,jee=Lee,Yee=Fc,Uee=zee,qee=/[\\^$.*+?()[\]{}|]/g,Hee=/^\[object .+?Constructor\]$/,Wee=Function.prototype,Vee=Object.prototype,Gee=Wee.toString,Zee=Vee.hasOwnProperty,xee=RegExp("^"+Gee.call(Zee).replace(qee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Xee(i){if(!Yee(i)||jee(i))return!1;var e=Ree(i)?xee:Hee;return e.test(Uee(i))}var Kee=Xee;function Jee(i,e){return i==null?void 0:i[e]}var Qee=Jee,ete=Kee,tte=Qee;function nte(i,e){var t=tte(i,e);return ete(t)?t:void 0}var ev=nte,ite=ev,rte=ite(Object,"create"),wp=rte,jy=wp;function ste(){this.__data__=jy?jy(null):{},this.size=0}var lte=ste;function ote(i){var e=this.has(i)&&delete this.__data__[i];return this.size-=e?1:0,e}var ate=ote,ute=wp,cte="__lodash_hash_undefined__",fte=Object.prototype,dte=fte.hasOwnProperty;function hte(i){var e=this.__data__;if(ute){var t=e[i];return t===cte?void 0:t}return dte.call(e,i)?e[i]:void 0}var mte=hte,pte=wp,_te=Object.prototype,gte=_te.hasOwnProperty;function vte(i){var e=this.__data__;return pte?e[i]!==void 0:gte.call(e,i)}var bte=vte,kte=wp,yte="__lodash_hash_undefined__";function wte(i,e){var t=this.__data__;return this.size+=this.has(i)?0:1,t[i]=kte&&e===void 0?yte:e,this}var $te=wte,Fte=lte,Ete=ate,Dte=mte,Cte=bte,Ste=$te;function Dc(i){var e=-1,t=i==null?0:i.length;for(this.clear();++e<t;){var n=i[e];this.set(n[0],n[1])}}Dc.prototype.clear=Fte;Dc.prototype.delete=Ete;Dc.prototype.get=Dte;Dc.prototype.has=Cte;Dc.prototype.set=Ste;var Tte=Dc;function Ate(){this.__data__=[],this.size=0}var Pte=Ate,Nte=yN;function Mte(i,e){for(var t=i.length;t--;)if(Nte(i[t][0],e))return t;return-1}var $p=Mte,Lte=$p,Ote=Array.prototype,Ite=Ote.splice;function Bte(i){var e=this.__data__,t=Lte(e,i);if(t<0)return!1;var n=e.length-1;return t==n?e.pop():Ite.call(e,t,1),--this.size,!0}var zte=Bte,Rte=$p;function jte(i){var e=this.__data__,t=Rte(e,i);return t<0?void 0:e[t][1]}var Yte=jte,Ute=$p;function qte(i){return Ute(this.__data__,i)>-1}var Hte=qte,Wte=$p;function Vte(i,e){var t=this.__data__,n=Wte(t,i);return n<0?(++this.size,t.push([i,e])):t[n][1]=e,this}var Gte=Vte,Zte=Pte,xte=zte,Xte=Yte,Kte=Hte,Jte=Gte;function Cc(i){var e=-1,t=i==null?0:i.length;for(this.clear();++e<t;){var n=i[e];this.set(n[0],n[1])}}Cc.prototype.clear=Zte;Cc.prototype.delete=xte;Cc.prototype.get=Xte;Cc.prototype.has=Kte;Cc.prototype.set=Jte;var Qte=Cc,ene=ev,tne=xa,nne=ene(tne,"Map"),ine=nne,Yy=Tte,rne=Qte,sne=ine;function lne(){this.size=0,this.__data__={hash:new Yy,map:new(sne||rne),string:new Yy}}var one=lne;function ane(i){var e=typeof i;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?i!=="__proto__":i===null}var une=ane,cne=une;function fne(i,e){var t=i.__data__;return cne(e)?t[typeof e=="string"?"string":"hash"]:t.map}var Fp=fne,dne=Fp;function hne(i){var e=dne(this,i).delete(i);return this.size-=e?1:0,e}var mne=hne,pne=Fp;function _ne(i){return pne(this,i).get(i)}var gne=_ne,vne=Fp;function bne(i){return vne(this,i).has(i)}var kne=bne,yne=Fp;function wne(i,e){var t=yne(this,i),n=t.size;return t.set(i,e),this.size+=t.size==n?0:1,this}var $ne=wne,Fne=one,Ene=mne,Dne=gne,Cne=kne,Sne=$ne;function Sc(i){var e=-1,t=i==null?0:i.length;for(this.clear();++e<t;){var n=i[e];this.set(n[0],n[1])}}Sc.prototype.clear=Fne;Sc.prototype.delete=Ene;Sc.prototype.get=Dne;Sc.prototype.has=Cne;Sc.prototype.set=Sne;var Tne=Sc,Ane="__lodash_hash_undefined__";function Pne(i){return this.__data__.set(i,Ane),this}var Nne=Pne;function Mne(i){return this.__data__.has(i)}var Lne=Mne,One=Tne,Ine=Nne,Bne=Lne;function hm(i){var e=-1,t=i==null?0:i.length;for(this.__data__=new One;++e<t;)this.add(i[e])}hm.prototype.add=hm.prototype.push=Ine;hm.prototype.has=Bne;var zne=hm;function Rne(i,e,t,n){for(var r=i.length,s=t+(n?1:-1);n?s--:++s<r;)if(e(i[s],s,i))return s;return-1}var jne=Rne;function Yne(i){return i!==i}var Une=Yne;function qne(i,e,t){for(var n=t-1,r=i.length;++n<r;)if(i[n]===e)return n;return-1}var Hne=qne,Wne=jne,Vne=Une,Gne=Hne;function Zne(i,e,t){return e===e?Gne(i,e,t):Wne(i,Vne,t)}var xne=Zne,Xne=xne;function Kne(i,e){var t=i==null?0:i.length;return!!t&&Xne(i,e,0)>-1}var Jne=Kne;function Qne(i,e,t){for(var n=-1,r=i==null?0:i.length;++n<r;)if(t(e,i[n]))return!0;return!1}var eie=Qne;function tie(i,e){return i.has(e)}var nie=tie,iie=ev,rie=xa,sie=iie(rie,"Set"),lie=sie;function oie(){}var aie=oie;function uie(i){var e=-1,t=Array(i.size);return i.forEach(function(n){t[++e]=n}),t}var cM=uie,x_=lie,cie=aie,fie=cM,die=1/0,hie=x_&&1/fie(new x_([,-0]))[1]==die?function(i){return new x_(i)}:cie,mie=hie,pie=zne,_ie=Jne,gie=eie,vie=nie,bie=mie,kie=cM,yie=200;function wie(i,e,t){var n=-1,r=_ie,s=i.length,l=!0,o=[],a=o;if(t)l=!1,r=gie;else if(s>=yie){var u=e?null:bie(i);if(u)return kie(u);l=!1,r=vie,a=new pie}else a=e?[]:o;e:for(;++n<s;){var c=i[n],f=e?e(c):c;if(c=t||c!==0?c:0,l&&f===f){for(var d=a.length;d--;)if(a[d]===f)continue e;e&&a.push(f),o.push(c)}else r(a,f,t)||(a!==o&&a.push(f),o.push(c))}return o}var $ie=wie,Fie=$ie;function Eie(i){return i&&i.length?Fie(i):[]}var Die=Eie;const fM=Lu.createInstance({name:"log-cache"}),Cie=async i=>{try{const e=`${i.endDayjs().format("YYYY-MM-DD")}/${i._id}`;return fM.removeItem(e)}catch{return}},Sie=async()=>await fM.clear(),Vl=i=>{sa_event(i)},Tie=async()=>{await Xe.confirm("Switch to Local Only?","You can always switch back later. Note that data is not shared between storage types.")&&(O0("local"),window.location.href="/")},Aie=async i=>{const e=Dd();let t=Op.map(n=>{let r=!1;return{title:n.name,disabled:r,description:`${n.price} ${n.description}`,click(){e.storageType!==n.id&&(Vl(`switch-engine-${n.id}`),i.onSelect(n.id))},icon:i.current===n.id?Cs:Vg}});ls({id:"storage-options",title:`${_e.t("storage.type_selector_title","Storage Options")}`,description:`${_e.t("storage.type_selector_description","How would you like your data stored?")}`,buttons:t})},Pie=async()=>{try{let i=await Xe.confirm(`${_e.t("settings.danger-zone")}`,`${_e.t("settings.delete-warning","This will destroy ALL data in Nomie. Are you absolutely sure?")}`,`${_e.t("settings.destroy","Destroy")}`);if(i&&(await Et(300),i=await Xe.confirm(`${_e.t("settings.danger-zone")}`,`${_e.t("settings.delete-warning-again","So you REALLY want all ALL data in Nomie destroyed?")}`,`${_e.t("settings.destroy","Destroy")}`),await Et(200),i)){Xe.blocker(`${_e.t("settings.deleting-data","Deleting data...")}`),await Et(200);let e=await Vt.list(),t=[];e.forEach(n=>{t.push(Vt.delete(n))}),await Promise.all(t),await Lu.clear(),await Sie(),localStorage.clear(),Xe.stopBlocker(),await Xe.alert("Done","Your data has been destroyed."),window.location.href="/"}}catch(i){Xe.alert(_e.t("general.error"),i.message)}};let bh=[];const Nie={onReady(i){bh.indexOf(i)==-1&&bh.push(i)},basePath(i){return i},fireReady(){bh.forEach(i=>{i()}),bh=[]},async init(){return navigator.storage&&navigator.storage.persist&&(await navigator.storage.persisted()||await navigator.storage.persist()),this.fireReady()},async getProfile(){return{username:"Local User"}},async put(i,e){return Lu.setItem(i,JSON.stringify(e))},async get(i){return Lu.getItem(i).then(e=>e?JSON.parse(e):null)},async list(){return Lu.keys().then(i=>i)},async delete(i){return Lu.removeItem(i)}},Mie={},Lie=Object.freeze(Object.defineProperty({__proto__:null,default:Mie},Symbol.toStringTag,{value:"Module"})),Oie=Kj(Lie);var tv={};tv.test=function(){return typeof Yn.queueMicrotask=="function"};tv.install=function(i){return function(){Yn.queueMicrotask(i)}};var nv={},dM=Yn.MutationObserver||Yn.WebKitMutationObserver;nv.test=function(){return dM};nv.install=function(i){var e=0,t=new dM(i),n=Yn.document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}};var iv={};iv.test=function(){return Yn.setImmediate?!1:typeof Yn.MessageChannel<"u"};iv.install=function(i){var e=new Yn.MessageChannel;return e.port1.onmessage=i,function(){e.port2.postMessage(0)}};var rv={};rv.test=function(){return"document"in Yn&&"onreadystatechange"in Yn.document.createElement("script")};rv.install=function(i){return function(){var e=Yn.document.createElement("script");return e.onreadystatechange=function(){i(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},Yn.document.documentElement.appendChild(e),i}};var sv={};sv.test=function(){return!0};sv.install=function(i){return function(){setTimeout(i,0)}};var kf=[Oie,tv,nv,iv,rv,sv],Ru,$a,yf=-1,mo=[],s1=!1;function Iie(){!Ru||!$a||(Ru=!1,$a.length?mo=$a.concat(mo):yf=-1,mo.length&&hM())}function hM(){if(!Ru){s1=!1,Ru=!0;for(var i=mo.length,e=setTimeout(Iie);i;){for($a=mo,mo=[];$a&&++yf<i;)$a[yf].run();yf=-1,i=mo.length}$a=null,yf=-1,Ru=!1,clearTimeout(e)}}var mM,lf=-1,Bie=kf.length;for(;++lf<Bie;)if(kf[lf]&&kf[lf].test&&kf[lf].test()){mM=kf[lf].install(hM);break}function pM(i,e){this.fun=i,this.array=e}pM.prototype.run=function(){var i=this.fun,e=this.array;switch(e.length){case 0:return i();case 1:return i(e[0]);case 2:return i(e[0],e[1]);case 3:return i(e[0],e[1],e[2]);default:return i.apply(null,e)}};var cl=zie;function zie(i){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];mo.push(new pM(i,e)),!s1&&!Ru&&(s1=!0,mM())}var kh,Rie=new Uint8Array(16);function jie(){if(!kh&&(kh=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!kh))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return kh(Rie)}const Yie=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Uie(i){return typeof i=="string"&&Yie.test(i)}var Vi=[];for(var X_=0;X_<256;++X_)Vi.push((X_+256).toString(16).substr(1));function qie(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(Vi[i[e+0]]+Vi[i[e+1]]+Vi[i[e+2]]+Vi[i[e+3]]+"-"+Vi[i[e+4]]+Vi[i[e+5]]+"-"+Vi[i[e+6]]+Vi[i[e+7]]+"-"+Vi[i[e+8]]+Vi[i[e+9]]+"-"+Vi[i[e+10]]+Vi[i[e+11]]+Vi[i[e+12]]+Vi[i[e+13]]+Vi[i[e+14]]+Vi[i[e+15]]).toLowerCase();if(!Uie(t))throw TypeError("Stringified UUID is invalid");return t}function _M(i,e,t){i=i||{};var n=i.random||(i.rng||jie)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(var r=0;r<16;++r)e[t+r]=n[r];return e}return qie(n)}var gM={exports:{}};(function(i,e){(function(t){i.exports=t()})(function(t){var n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function r($,D){var F=$[0],C=$[1],S=$[2],P=$[3];F+=(C&S|~C&P)+D[0]-680876936|0,F=(F<<7|F>>>25)+C|0,P+=(F&C|~F&S)+D[1]-389564586|0,P=(P<<12|P>>>20)+F|0,S+=(P&F|~P&C)+D[2]+606105819|0,S=(S<<17|S>>>15)+P|0,C+=(S&P|~S&F)+D[3]-1044525330|0,C=(C<<22|C>>>10)+S|0,F+=(C&S|~C&P)+D[4]-176418897|0,F=(F<<7|F>>>25)+C|0,P+=(F&C|~F&S)+D[5]+1200080426|0,P=(P<<12|P>>>20)+F|0,S+=(P&F|~P&C)+D[6]-1473231341|0,S=(S<<17|S>>>15)+P|0,C+=(S&P|~S&F)+D[7]-45705983|0,C=(C<<22|C>>>10)+S|0,F+=(C&S|~C&P)+D[8]+1770035416|0,F=(F<<7|F>>>25)+C|0,P+=(F&C|~F&S)+D[9]-1958414417|0,P=(P<<12|P>>>20)+F|0,S+=(P&F|~P&C)+D[10]-42063|0,S=(S<<17|S>>>15)+P|0,C+=(S&P|~S&F)+D[11]-1990404162|0,C=(C<<22|C>>>10)+S|0,F+=(C&S|~C&P)+D[12]+1804603682|0,F=(F<<7|F>>>25)+C|0,P+=(F&C|~F&S)+D[13]-40341101|0,P=(P<<12|P>>>20)+F|0,S+=(P&F|~P&C)+D[14]-1502002290|0,S=(S<<17|S>>>15)+P|0,C+=(S&P|~S&F)+D[15]+1236535329|0,C=(C<<22|C>>>10)+S|0,F+=(C&P|S&~P)+D[1]-165796510|0,F=(F<<5|F>>>27)+C|0,P+=(F&S|C&~S)+D[6]-1069501632|0,P=(P<<9|P>>>23)+F|0,S+=(P&C|F&~C)+D[11]+643717713|0,S=(S<<14|S>>>18)+P|0,C+=(S&F|P&~F)+D[0]-373897302|0,C=(C<<20|C>>>12)+S|0,F+=(C&P|S&~P)+D[5]-701558691|0,F=(F<<5|F>>>27)+C|0,P+=(F&S|C&~S)+D[10]+38016083|0,P=(P<<9|P>>>23)+F|0,S+=(P&C|F&~C)+D[15]-660478335|0,S=(S<<14|S>>>18)+P|0,C+=(S&F|P&~F)+D[4]-405537848|0,C=(C<<20|C>>>12)+S|0,F+=(C&P|S&~P)+D[9]+568446438|0,F=(F<<5|F>>>27)+C|0,P+=(F&S|C&~S)+D[14]-1019803690|0,P=(P<<9|P>>>23)+F|0,S+=(P&C|F&~C)+D[3]-187363961|0,S=(S<<14|S>>>18)+P|0,C+=(S&F|P&~F)+D[8]+1163531501|0,C=(C<<20|C>>>12)+S|0,F+=(C&P|S&~P)+D[13]-1444681467|0,F=(F<<5|F>>>27)+C|0,P+=(F&S|C&~S)+D[2]-51403784|0,P=(P<<9|P>>>23)+F|0,S+=(P&C|F&~C)+D[7]+1735328473|0,S=(S<<14|S>>>18)+P|0,C+=(S&F|P&~F)+D[12]-1926607734|0,C=(C<<20|C>>>12)+S|0,F+=(C^S^P)+D[5]-378558|0,F=(F<<4|F>>>28)+C|0,P+=(F^C^S)+D[8]-2022574463|0,P=(P<<11|P>>>21)+F|0,S+=(P^F^C)+D[11]+1839030562|0,S=(S<<16|S>>>16)+P|0,C+=(S^P^F)+D[14]-35309556|0,C=(C<<23|C>>>9)+S|0,F+=(C^S^P)+D[1]-1530992060|0,F=(F<<4|F>>>28)+C|0,P+=(F^C^S)+D[4]+1272893353|0,P=(P<<11|P>>>21)+F|0,S+=(P^F^C)+D[7]-155497632|0,S=(S<<16|S>>>16)+P|0,C+=(S^P^F)+D[10]-1094730640|0,C=(C<<23|C>>>9)+S|0,F+=(C^S^P)+D[13]+681279174|0,F=(F<<4|F>>>28)+C|0,P+=(F^C^S)+D[0]-358537222|0,P=(P<<11|P>>>21)+F|0,S+=(P^F^C)+D[3]-722521979|0,S=(S<<16|S>>>16)+P|0,C+=(S^P^F)+D[6]+76029189|0,C=(C<<23|C>>>9)+S|0,F+=(C^S^P)+D[9]-640364487|0,F=(F<<4|F>>>28)+C|0,P+=(F^C^S)+D[12]-421815835|0,P=(P<<11|P>>>21)+F|0,S+=(P^F^C)+D[15]+530742520|0,S=(S<<16|S>>>16)+P|0,C+=(S^P^F)+D[2]-995338651|0,C=(C<<23|C>>>9)+S|0,F+=(S^(C|~P))+D[0]-198630844|0,F=(F<<6|F>>>26)+C|0,P+=(C^(F|~S))+D[7]+1126891415|0,P=(P<<10|P>>>22)+F|0,S+=(F^(P|~C))+D[14]-1416354905|0,S=(S<<15|S>>>17)+P|0,C+=(P^(S|~F))+D[5]-57434055|0,C=(C<<21|C>>>11)+S|0,F+=(S^(C|~P))+D[12]+1700485571|0,F=(F<<6|F>>>26)+C|0,P+=(C^(F|~S))+D[3]-1894986606|0,P=(P<<10|P>>>22)+F|0,S+=(F^(P|~C))+D[10]-1051523|0,S=(S<<15|S>>>17)+P|0,C+=(P^(S|~F))+D[1]-2054922799|0,C=(C<<21|C>>>11)+S|0,F+=(S^(C|~P))+D[8]+1873313359|0,F=(F<<6|F>>>26)+C|0,P+=(C^(F|~S))+D[15]-30611744|0,P=(P<<10|P>>>22)+F|0,S+=(F^(P|~C))+D[6]-1560198380|0,S=(S<<15|S>>>17)+P|0,C+=(P^(S|~F))+D[13]+1309151649|0,C=(C<<21|C>>>11)+S|0,F+=(S^(C|~P))+D[4]-145523070|0,F=(F<<6|F>>>26)+C|0,P+=(C^(F|~S))+D[11]-1120210379|0,P=(P<<10|P>>>22)+F|0,S+=(F^(P|~C))+D[2]+718787259|0,S=(S<<15|S>>>17)+P|0,C+=(P^(S|~F))+D[9]-343485551|0,C=(C<<21|C>>>11)+S|0,$[0]=F+$[0]|0,$[1]=C+$[1]|0,$[2]=S+$[2]|0,$[3]=P+$[3]|0}function s($){var D=[],F;for(F=0;F<64;F+=4)D[F>>2]=$.charCodeAt(F)+($.charCodeAt(F+1)<<8)+($.charCodeAt(F+2)<<16)+($.charCodeAt(F+3)<<24);return D}function l($){var D=[],F;for(F=0;F<64;F+=4)D[F>>2]=$[F]+($[F+1]<<8)+($[F+2]<<16)+($[F+3]<<24);return D}function o($){var D=$.length,F=[1732584193,-271733879,-1732584194,271733878],C,S,P,I,R,B;for(C=64;C<=D;C+=64)r(F,s($.substring(C-64,C)));for($=$.substring(C-64),S=$.length,P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],C=0;C<S;C+=1)P[C>>2]|=$.charCodeAt(C)<<(C%4<<3);if(P[C>>2]|=128<<(C%4<<3),C>55)for(r(F,P),C=0;C<16;C+=1)P[C]=0;return I=D*8,I=I.toString(16).match(/(.*?)(.{0,8})$/),R=parseInt(I[2],16),B=parseInt(I[1],16)||0,P[14]=R,P[15]=B,r(F,P),F}function a($){var D=$.length,F=[1732584193,-271733879,-1732584194,271733878],C,S,P,I,R,B;for(C=64;C<=D;C+=64)r(F,l($.subarray(C-64,C)));for($=C-64<D?$.subarray(C-64):new Uint8Array(0),S=$.length,P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],C=0;C<S;C+=1)P[C>>2]|=$[C]<<(C%4<<3);if(P[C>>2]|=128<<(C%4<<3),C>55)for(r(F,P),C=0;C<16;C+=1)P[C]=0;return I=D*8,I=I.toString(16).match(/(.*?)(.{0,8})$/),R=parseInt(I[2],16),B=parseInt(I[1],16)||0,P[14]=R,P[15]=B,r(F,P),F}function u($){var D="",F;for(F=0;F<4;F+=1)D+=n[$>>F*8+4&15]+n[$>>F*8&15];return D}function c($){var D;for(D=0;D<$.length;D+=1)$[D]=u($[D]);return $.join("")}c(o("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function $(D,F){return D=D|0||0,D<0?Math.max(D+F,0):Math.min(D,F)}ArrayBuffer.prototype.slice=function(D,F){var C=this.byteLength,S=$(D,C),P=C,I,R,B,z;return F!==t&&(P=$(F,C)),S>P?new ArrayBuffer(0):(I=P-S,R=new ArrayBuffer(I),B=new Uint8Array(R),z=new Uint8Array(this,S,I),B.set(z),R)}}();function f($){return/[\u0080-\uFFFF]/.test($)&&($=unescape(encodeURIComponent($))),$}function d($,D){var F=$.length,C=new ArrayBuffer(F),S=new Uint8Array(C),P;for(P=0;P<F;P+=1)S[P]=$.charCodeAt(P);return D?S:C}function m($){return String.fromCharCode.apply(null,new Uint8Array($))}function p($,D,F){var C=new Uint8Array($.byteLength+D.byteLength);return C.set(new Uint8Array($)),C.set(new Uint8Array(D),$.byteLength),F?C:C.buffer}function g($){var D=[],F=$.length,C;for(C=0;C<F-1;C+=2)D.push(parseInt($.substr(C,2),16));return String.fromCharCode.apply(String,D)}function k(){this.reset()}return k.prototype.append=function($){return this.appendBinary(f($)),this},k.prototype.appendBinary=function($){this._buff+=$,this._length+=$.length;var D=this._buff.length,F;for(F=64;F<=D;F+=64)r(this._hash,s(this._buff.substring(F-64,F)));return this._buff=this._buff.substring(F-64),this},k.prototype.end=function($){var D=this._buff,F=D.length,C,S=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],P;for(C=0;C<F;C+=1)S[C>>2]|=D.charCodeAt(C)<<(C%4<<3);return this._finish(S,F),P=c(this._hash),$&&(P=g(P)),this.reset(),P},k.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},k.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},k.prototype.setState=function($){return this._buff=$.buff,this._length=$.length,this._hash=$.hash,this},k.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},k.prototype._finish=function($,D){var F=D,C,S,P;if($[F>>2]|=128<<(F%4<<3),F>55)for(r(this._hash,$),F=0;F<16;F+=1)$[F]=0;C=this._length*8,C=C.toString(16).match(/(.*?)(.{0,8})$/),S=parseInt(C[2],16),P=parseInt(C[1],16)||0,$[14]=S,$[15]=P,r(this._hash,$)},k.hash=function($,D){return k.hashBinary(f($),D)},k.hashBinary=function($,D){var F=o($),C=c(F);return D?g(C):C},k.ArrayBuffer=function(){this.reset()},k.ArrayBuffer.prototype.append=function($){var D=p(this._buff.buffer,$,!0),F=D.length,C;for(this._length+=$.byteLength,C=64;C<=F;C+=64)r(this._hash,l(D.subarray(C-64,C)));return this._buff=C-64<F?new Uint8Array(D.buffer.slice(C-64)):new Uint8Array(0),this},k.ArrayBuffer.prototype.end=function($){var D=this._buff,F=D.length,C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],S,P;for(S=0;S<F;S+=1)C[S>>2]|=D[S]<<(S%4<<3);return this._finish(C,F),P=c(this._hash),$&&(P=g(P)),this.reset(),P},k.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},k.ArrayBuffer.prototype.getState=function(){var $=k.prototype.getState.call(this);return $.buff=m($.buff),$},k.ArrayBuffer.prototype.setState=function($){return $.buff=d($.buff,!0),k.prototype.setState.call(this,$)},k.ArrayBuffer.prototype.destroy=k.prototype.destroy,k.ArrayBuffer.prototype._finish=k.prototype._finish,k.ArrayBuffer.hash=function($,D){var F=a(new Uint8Array($)),C=c(F);return D?g(C):C},k})})(gM);const l1=gM.exports;var Ep={};Ep.stringify=function(e){var t=[];t.push({obj:e});for(var n="",r,s,l,o,a,u,c,f,d,m,p;r=t.pop();)if(s=r.obj,l=r.prefix||"",o=r.val||"",n+=l,o)n+=o;else if(typeof s!="object")n+=typeof s>"u"?null:JSON.stringify(s);else if(s===null)n+="null";else if(Array.isArray(s)){for(t.push({val:"]"}),a=s.length-1;a>=0;a--)u=a===0?"":",",t.push({obj:s[a],prefix:u});t.push({val:"["})}else{c=[];for(f in s)s.hasOwnProperty(f)&&c.push(f);for(t.push({val:"}"}),a=c.length-1;a>=0;a--)d=c[a],m=s[d],p=a>0?",":"",p+=JSON.stringify(d)+":",t.push({obj:m,prefix:p});t.push({val:"{"})}return n};function yu(i,e,t){var n=t[t.length-1];i===n.element&&(t.pop(),n=t[t.length-1]);var r=n.element,s=n.index;if(Array.isArray(r))r.push(i);else if(s===e.length-2){var l=e.pop();r[l]=i}else e.push(i)}Ep.parse=function(i){for(var e=[],t=[],n=0,r,s,l,o,a,u,c,f,d;;){if(r=i[n++],r==="}"||r==="]"||typeof r>"u"){if(e.length===1)return e.pop();yu(e.pop(),e,t);continue}switch(r){case" ":case"	":case`
`:case":":case",":break;case"n":n+=3,yu(null,e,t);break;case"t":n+=3,yu(!0,e,t);break;case"f":n+=4,yu(!1,e,t);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(s="",n--;;)if(l=i[n++],/[\d\.\-e\+]/.test(l))s+=l;else{n--;break}yu(parseFloat(s),e,t);break;case'"':for(o="",a=void 0,u=0;c=i[n++],c!=='"'||a==="\\"&&u%2===1;)o+=c,a=c,a==="\\"?u++:u=0;yu(JSON.parse('"'+o+'"'),e,t);break;case"[":f={element:[],index:e.length},e.push(f.element),t.push(f);break;case"{":d={element:{},index:e.length},e.push(d.element),t.push(d);break;default:throw new Error("unexpectedly reached end of input: "+r)}}};var Tc=Hie;function Hie(i){return function(){var e=arguments.length;if(e){for(var t=[],n=-1;++n<e;)t[n]=arguments[n];return i.call(this,t)}else return i.call(this,[])}}var xr={exports:{}};typeof Object.create=="function"?xr.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:xr.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}};var ar={exports:{}},ju=typeof Reflect=="object"?Reflect:null,Uy=ju&&typeof ju.apply=="function"?ju.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)},Jh;ju&&typeof ju.ownKeys=="function"?Jh=ju.ownKeys:Object.getOwnPropertySymbols?Jh=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Jh=function(e){return Object.getOwnPropertyNames(e)};function Wie(i){console&&console.warn&&console.warn(i)}var vM=Number.isNaN||function(e){return e!==e};function Wn(){Wn.init.call(this)}ar.exports=Wn;ar.exports.once=xie;Wn.EventEmitter=Wn;Wn.prototype._events=void 0;Wn.prototype._eventsCount=0;Wn.prototype._maxListeners=void 0;var qy=10;function Dp(i){if(typeof i!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof i)}Object.defineProperty(Wn,"defaultMaxListeners",{enumerable:!0,get:function(){return qy},set:function(i){if(typeof i!="number"||i<0||vM(i))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+i+".");qy=i}});Wn.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Wn.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||vM(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function bM(i){return i._maxListeners===void 0?Wn.defaultMaxListeners:i._maxListeners}Wn.prototype.getMaxListeners=function(){return bM(this)};Wn.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r=e==="error",s=this._events;if(s!==void 0)r=r&&s.error===void 0;else if(!r)return!1;if(r){var l;if(t.length>0&&(l=t[0]),l instanceof Error)throw l;var o=new Error("Unhandled error."+(l?" ("+l.message+")":""));throw o.context=l,o}var a=s[e];if(a===void 0)return!1;if(typeof a=="function")Uy(a,this,t);else for(var u=a.length,c=FM(a,u),n=0;n<u;++n)Uy(c[n],this,t);return!0};function kM(i,e,t,n){var r,s,l;if(Dp(t),s=i._events,s===void 0?(s=i._events=Object.create(null),i._eventsCount=0):(s.newListener!==void 0&&(i.emit("newListener",e,t.listener?t.listener:t),s=i._events),l=s[e]),l===void 0)l=s[e]=t,++i._eventsCount;else if(typeof l=="function"?l=s[e]=n?[t,l]:[l,t]:n?l.unshift(t):l.push(t),r=bM(i),r>0&&l.length>r&&!l.warned){l.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+l.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=i,o.type=e,o.count=l.length,Wie(o)}return i}Wn.prototype.addListener=function(e,t){return kM(this,e,t,!1)};Wn.prototype.on=Wn.prototype.addListener;Wn.prototype.prependListener=function(e,t){return kM(this,e,t,!0)};function Vie(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function yM(i,e,t){var n={fired:!1,wrapFn:void 0,target:i,type:e,listener:t},r=Vie.bind(n);return r.listener=t,n.wrapFn=r,r}Wn.prototype.once=function(e,t){return Dp(t),this.on(e,yM(this,e,t)),this};Wn.prototype.prependOnceListener=function(e,t){return Dp(t),this.prependListener(e,yM(this,e,t)),this};Wn.prototype.removeListener=function(e,t){var n,r,s,l,o;if(Dp(t),r=this._events,r===void 0)return this;if(n=r[e],n===void 0)return this;if(n===t||n.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if(typeof n!="function"){for(s=-1,l=n.length-1;l>=0;l--)if(n[l]===t||n[l].listener===t){o=n[l].listener,s=l;break}if(s<0)return this;s===0?n.shift():Gie(n,s),n.length===1&&(r[e]=n[0]),r.removeListener!==void 0&&this.emit("removeListener",e,o||t)}return this};Wn.prototype.off=Wn.prototype.removeListener;Wn.prototype.removeAllListeners=function(e){var t,n,r;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var s=Object.keys(n),l;for(r=0;r<s.length;++r)l=s[r],l!=="removeListener"&&this.removeAllListeners(l);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=n[e],typeof t=="function")this.removeListener(e,t);else if(t!==void 0)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this};function wM(i,e,t){var n=i._events;if(n===void 0)return[];var r=n[e];return r===void 0?[]:typeof r=="function"?t?[r.listener||r]:[r]:t?Zie(r):FM(r,r.length)}Wn.prototype.listeners=function(e){return wM(this,e,!0)};Wn.prototype.rawListeners=function(e){return wM(this,e,!1)};Wn.listenerCount=function(i,e){return typeof i.listenerCount=="function"?i.listenerCount(e):$M.call(i,e)};Wn.prototype.listenerCount=$M;function $M(i){var e=this._events;if(e!==void 0){var t=e[i];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}Wn.prototype.eventNames=function(){return this._eventsCount>0?Jh(this._events):[]};function FM(i,e){for(var t=new Array(e),n=0;n<e;++n)t[n]=i[n];return t}function Gie(i,e){for(;e+1<i.length;e++)i[e]=i[e+1];i.pop()}function Zie(i){for(var e=new Array(i.length),t=0;t<e.length;++t)e[t]=i[t].listener||i[t];return e}function xie(i,e){return new Promise(function(t,n){function r(l){i.removeListener(e,s),n(l)}function s(){typeof i.removeListener=="function"&&i.removeListener("error",r),t([].slice.call(arguments))}EM(i,e,s,{once:!0}),e!=="error"&&Xie(i,r,{once:!0})})}function Xie(i,e,t){typeof i.on=="function"&&EM(i,"error",e,t)}function EM(i,e,t,n){if(typeof i.on=="function")n.once?i.once(e,t):i.on(e,t);else if(typeof i.addEventListener=="function")i.addEventListener(e,function r(s){n.once&&i.removeEventListener(e,r),t(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof i)}function Cp(i){return"$"+i}function DM(i){return i.substring(1)}function Gl(){this._store={}}Gl.prototype.get=function(i){var e=Cp(i);return this._store[e]};Gl.prototype.set=function(i,e){var t=Cp(i);return this._store[t]=e,!0};Gl.prototype.has=function(i){var e=Cp(i);return e in this._store};Gl.prototype.keys=function(){return Object.keys(this._store).map(i=>DM(i))};Gl.prototype.delete=function(i){var e=Cp(i),t=e in this._store;return delete this._store[e],t};Gl.prototype.forEach=function(i){for(var e=Object.keys(this._store),t=0,n=e.length;t<n;t++){var r=e[t],s=this._store[r];r=DM(r),i(s,r)}};Object.defineProperty(Gl.prototype,"size",{get:function(){return Object.keys(this._store).length}});function Cd(i){if(this._store=new Gl,i&&Array.isArray(i))for(var e=0,t=i.length;e<t;e++)this.add(i[e])}Cd.prototype.add=function(i){return this._store.set(i,!0)};Cd.prototype.has=function(i){return this._store.has(i)};Cd.prototype.forEach=function(i){this._store.forEach(function(e,t){i(t)})};Object.defineProperty(Cd.prototype,"size",{get:function(){return this._store.size}});function Kie(){if(typeof Symbol>"u"||typeof Map>"u"||typeof Set>"u")return!1;var i=Object.getOwnPropertyDescriptor(Map,Symbol.species);return i&&"get"in i&&Map[Symbol.species]===Map}var ic,Nr;Kie()?(ic=Set,Nr=Map):(ic=Cd,Nr=Gl);function Jie(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer||typeof Blob<"u"&&i instanceof Blob}function Qie(i){if(typeof i.slice=="function")return i.slice(0);var e=new ArrayBuffer(i.byteLength),t=new Uint8Array(e),n=new Uint8Array(i);return t.set(n),e}function ere(i){if(i instanceof ArrayBuffer)return Qie(i);var e=i.size,t=i.type;return typeof i.slice=="function"?i.slice(0,e,t):i.webkitSlice(0,e,t)}var CM=Function.prototype.toString,tre=CM.call(Object);function nre(i){var e=Object.getPrototypeOf(i);if(e===null)return!0;var t=e.constructor;return typeof t=="function"&&t instanceof t&&CM.call(t)==tre}function zi(i){var e,t,n;if(!i||typeof i!="object")return i;if(Array.isArray(i)){for(e=[],t=0,n=i.length;t<n;t++)e[t]=zi(i[t]);return e}if(i instanceof Date&&isFinite(i))return i.toISOString();if(Jie(i))return ere(i);if(!nre(i))return i;e={};for(t in i)if(Object.prototype.hasOwnProperty.call(i,t)){var r=zi(i[t]);typeof r<"u"&&(e[t]=r)}return e}function SM(i){var e=!1;return Tc(function(t){if(e)throw new Error("once called more than once");e=!0,i.apply(this,t)})}function TM(i){return Tc(function(e){e=zi(e);var t=this,n=typeof e[e.length-1]=="function"?e.pop():!1,r=new Promise(function(s,l){var o;try{var a=SM(function(u,c){u?l(u):s(c)});e.push(a),o=i.apply(t,e),o&&typeof o.then=="function"&&s(o)}catch(u){l(u)}});return n&&r.then(function(s){n(null,s)},n),r})}function ire(i,e,t){if(i.constructor.listeners("debug").length){for(var n=["api",i.name,e],r=0;r<t.length-1;r++)n.push(t[r]);i.constructor.emit("debug",n);var s=t[t.length-1];t[t.length-1]=function(l,o){var a=["api",i.name,e];a=a.concat(l?["error",l]:["success",o]),i.constructor.emit("debug",a),s(l,o)}}}function Li(i,e){return TM(Tc(function(t){if(this._closed)return Promise.reject(new Error("database is closed"));if(this._destroyed)return Promise.reject(new Error("database is destroyed"));var n=this;return ire(n,i,t),this.taskqueue.isReady?e.apply(this,t):new Promise(function(r,s){n.taskqueue.addTask(function(l){l?s(l):r(n[i].apply(n,t))})})}))}function Sd(i,e){for(var t={},n=0,r=e.length;n<r;n++){var s=e[n];s in i&&(t[s]=i[s])}return t}var rre=6;function Hy(i){return i}function sre(i){return[{ok:i}]}function AM(i,e,t){var n=e.docs,r=new Nr;n.forEach(function(g){r.has(g.id)?r.get(g.id).push(g):r.set(g.id,[g])});var s=r.size,l=0,o=new Array(s);function a(){var g=[];o.forEach(function(k){k.docs.forEach(function($){g.push({id:k.id,docs:[$]})})}),t(null,{results:g})}function u(){++l===s&&a()}function c(g,k,$){o[g]={id:k,docs:$},u()}var f=[];r.forEach(function(g,k){f.push(k)});var d=0;function m(){if(!(d>=f.length)){var g=Math.min(d+rre,f.length),k=f.slice(d,g);p(k,d),d+=k.length}}function p(g,k){g.forEach(function($,D){var F=k+D,C=r.get($),S=Sd(C[0],["atts_since","attachments"]);S.open_revs=C.map(function(I){return I.rev}),S.open_revs=S.open_revs.filter(Hy);var P=Hy;S.open_revs.length===0&&(delete S.open_revs,P=sre),["revs","attachments","binary","ajax","latest"].forEach(function(I){I in e&&(S[I]=e[I])}),i.get($,S,function(I,R){var B;I?B=[{error:I}]:B=P(R),c(F,$,B),m()})})}m()}var o1;try{localStorage.setItem("_pouch_check_localstorage",1),o1=!!localStorage.getItem("_pouch_check_localstorage")}catch{o1=!1}function Sp(){return o1}xr.exports(Ac,ar.exports);function lre(i){Sp()&&addEventListener("storage",function(e){i.emit(e.key)})}function Ac(){ar.exports.call(this),this._listeners={},lre(this)}Ac.prototype.addListener=function(i,e,t,n){if(this._listeners[e])return;var r=this,s=!1;function l(){if(!r._listeners[e])return;if(s){s="waiting";return}s=!0;var o=Sd(n,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);function a(){s=!1}t.changes(o).on("change",function(u){u.seq>n.since&&!n.cancelled&&(n.since=u.seq,n.onChange(u))}).on("complete",function(){s==="waiting"&&cl(l),s=!1}).on("error",a)}this._listeners[e]=l,this.on(i,l)};Ac.prototype.removeListener=function(i,e){e in this._listeners&&(ar.exports.prototype.removeListener.call(this,i,this._listeners[e]),delete this._listeners[e])};Ac.prototype.notifyLocalWindows=function(i){Sp()&&(localStorage[i]=localStorage[i]==="a"?"b":"a")};Ac.prototype.notify=function(i){this.emit(i),this.notifyLocalWindows(i)};function fs(i){if(typeof console<"u"&&typeof console[i]=="function"){var e=Array.prototype.slice.call(arguments,1);console[i].apply(console,e)}}function ore(i,e){var t=6e5;i=parseInt(i,10)||0,e=parseInt(e,10),e!==e||e<=i?e=(i||1)<<1:e=e+1,e>t&&(i=t>>1,e=t);var n=Math.random(),r=e-i;return~~(r*n+i)}function are(i){var e=0;return i||(e=2e3),ore(i,e)}function a1(i,e){fs("info","The above "+i+" is totally normal. "+e)}var u1;typeof Object.assign=="function"?u1=Object.assign:u1=function(i){for(var e=Object(i),t=1;t<arguments.length;t++){var n=arguments[t];if(n!=null)for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var Ia=u1;xr.exports(Jn,Error);function Jn(i,e,t){Error.call(this,t),this.status=i,this.name=e,this.message=t,this.error=!0}Jn.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};new Jn(401,"unauthorized","Name or password is incorrect.");var ure=new Jn(400,"bad_request","Missing JSON list of 'docs'"),Es=new Jn(404,"not_found","missing"),rc=new Jn(409,"conflict","Document update conflict"),PM=new Jn(400,"bad_request","_id field must contain a string"),cre=new Jn(412,"missing_id","_id is required for puts"),fre=new Jn(400,"bad_request","Only reserved document ids may start with underscore.");new Jn(412,"precondition_failed","Database not open");var NM=new Jn(500,"unknown_error","Database encountered an unknown error"),MM=new Jn(500,"badarg","Some query argument is invalid");new Jn(400,"invalid_request","Request was invalid");var dre=new Jn(400,"query_parse_error","Some query parameter is invalid"),Wy=new Jn(500,"doc_validation","Bad special document member"),Tp=new Jn(400,"bad_request","Something wrong with the request"),lv=new Jn(400,"bad_request","Document must be a JSON object");new Jn(404,"not_found","Database not found");var ov=new Jn(500,"indexed_db_went_bad","unknown");new Jn(500,"web_sql_went_bad","unknown");new Jn(500,"levelDB_went_went_bad","unknown");new Jn(403,"forbidden","Forbidden by design doc validate_doc_update function");var LM=new Jn(400,"bad_request","Invalid rev format");new Jn(412,"file_exists","The database could not be created, the file already exists.");var hre=new Jn(412,"missing_stub","A pre-existing attachment stub wasn't found");new Jn(413,"invalid_url","Provided URL is invalid");function rn(i,e){function t(n){for(var r=Object.getOwnPropertyNames(i),s=0,l=r.length;s<l;s++)typeof i[r[s]]!="function"&&(this[r[s]]=i[r[s]]);this.stack===void 0&&(this.stack=new Error().stack),n!==void 0&&(this.reason=n)}return t.prototype=Jn.prototype,new t(e)}function sc(i){if(typeof i!="object"){var e=i;i=NM,i.data=e}return"error"in i&&i.error==="conflict"&&(i.name="conflict",i.status=409),"name"in i||(i.name=i.error||"unknown"),"status"in i||(i.status=500),"message"in i||(i.message=i.message||i.reason),"stack"in i||(i.stack=new Error().stack),i}function mre(i,e,t){try{return!i(e,t)}catch(r){var n="Filter function threw: "+r.toString();return rn(Tp,n)}}function av(i){var e={},t=i.filter&&typeof i.filter=="function";return e.query=i.query_params,function(r){r.doc||(r.doc={});var s=t&&mre(i.filter,r.doc,e);if(typeof s=="object")return s;if(s)return!1;if(!i.include_docs)delete r.doc;else if(!i.attachments)for(var l in r.doc._attachments)Object.prototype.hasOwnProperty.call(r.doc._attachments,l)&&(r.doc._attachments[l].stub=!0);return!0}}function mm(i){for(var e=[],t=0,n=i.length;t<n;t++)e=e.concat(i[t]);return e}function OM(i){var e;if(i?typeof i!="string"?e=rn(PM):/^_/.test(i)&&!/^_(design|local)/.test(i)&&(e=rn(fre)):e=rn(cre),e)throw e}function fl(i){return typeof i._remote=="boolean"?i._remote:typeof i.type=="function"?(fs("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),i.type()==="http"):!1}function pre(i,e){return"listenerCount"in i?i.listenerCount(e):ar.exports.listenerCount(i,e)}function c1(i){if(!i)return null;var e=i.split("/");return e.length===2?e:e.length===1?[i,i]:null}function Vy(i){var e=c1(i);return e?e.join("/"):null}var Gy=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],Zy="queryKey",_re=/(?:^|&)([^&=]*)=?([^&]*)/g,gre=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;function IM(i){for(var e=gre.exec(i),t={},n=14;n--;){var r=Gy[n],s=e[n]||"",l=["user","password"].indexOf(r)!==-1;t[r]=l?decodeURIComponent(s):s}return t[Zy]={},t[Gy[12]].replace(_re,function(o,a,u){a&&(t[Zy][a]=u)}),t}function uv(i,e){var t=[],n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t.push(r),n.push(e[r]));return t.push(i),Function.apply(null,t).apply(null,n)}function Ap(i,e,t){return i.get(e).catch(function(n){if(n.status!==404)throw n;return{}}).then(function(n){var r=n._rev,s=t(n);return s?(s._id=e,s._rev=r,vre(i,s,t)):{updated:!1,rev:r}})}function vre(i,e,t){return i.put(e).then(function(n){return{updated:!0,rev:n.rev}},function(n){if(n.status!==409)throw n;return Ap(i,e._id,t)})}var cv=function(i){return atob(i)},Td=function(i){return btoa(i)};function fv(i,e){i=i||[],e=e||{};try{return new Blob(i,e)}catch(s){if(s.name!=="TypeError")throw s;for(var t=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,n=new t,r=0;r<i.length;r+=1)n.append(i[r]);return n.getBlob(e.type)}}function bre(i){for(var e=i.length,t=new ArrayBuffer(e),n=new Uint8Array(t),r=0;r<e;r++)n[r]=i.charCodeAt(r);return t}function dv(i,e){return fv([bre(i)],{type:e})}function hv(i,e){return dv(cv(i),e)}function kre(i){for(var e="",t=new Uint8Array(i),n=t.byteLength,r=0;r<n;r++)e+=String.fromCharCode(t[r]);return e}function BM(i,e){var t=new FileReader,n=typeof t.readAsBinaryString=="function";t.onloadend=function(r){var s=r.target.result||"";if(n)return e(s);e(kre(s))},n?t.readAsBinaryString(i):t.readAsArrayBuffer(i)}function zM(i,e){BM(i,function(t){e(t)})}function mv(i,e){zM(i,function(t){e(Td(t))})}function yre(i,e){var t=new FileReader;t.onloadend=function(n){var r=n.target.result||new ArrayBuffer(0);e(r)},t.readAsArrayBuffer(i)}var wre=self.setImmediate||self.setTimeout,$re=32768;function Fre(i){return Td(i)}function Ere(i,e,t){return i.webkitSlice?i.webkitSlice(e,t):i.slice(e,t)}function Dre(i,e,t,n,r){(t>0||n<e.size)&&(e=Ere(e,t,n)),yre(e,function(s){i.append(s),r()})}function Cre(i,e,t,n,r){(t>0||n<e.length)&&(e=e.substring(t,n)),i.appendBinary(e),r()}function pv(i,e){var t=typeof i=="string",n=t?i.length:i.size,r=Math.min($re,n),s=Math.ceil(n/r),l=0,o=t?new l1:new l1.ArrayBuffer,a=t?Cre:Dre;function u(){wre(f)}function c(){var d=o.end(!0),m=Fre(d);e(m),o.destroy()}function f(){var d=l*r,m=d+r;l++,l<s?a(o,i,d,m,u):a(o,i,d,m,c)}f()}function RM(i){return l1.hash(i)}function jM(i,e){if(!e)return _M().replace(/-/g,"").toLowerCase();var t=Ia({},i);return delete t._rev_tree,RM(JSON.stringify(t))}var Pp=_M;function Ba(i){for(var e,t,n,r=i.rev_tree.slice(),s;s=r.pop();){var l=s.ids,o=l[2],a=s.pos;if(o.length){for(var u=0,c=o.length;u<c;u++)r.push({pos:a+1,ids:o[u]});continue}var f=!!l[1].deleted,d=l[0];(!e||(n!==f?n:t!==a?t<a:e<d))&&(e=d,t=a,n=f)}return t+"-"+e}function Qa(i,e){for(var t=i.slice(),n;n=t.pop();)for(var r=n.pos,s=n.ids,l=s[2],o=e(l.length===0,r,s[0],n.ctx,s[1]),a=0,u=l.length;a<u;a++)t.push({pos:r+1,ids:l[a],ctx:o})}function Sre(i,e){return i.pos-e.pos}function _v(i){var e=[];Qa(i,function(r,s,l,o,a){r&&e.push({rev:s+"-"+l,pos:s,opts:a})}),e.sort(Sre).reverse();for(var t=0,n=e.length;t<n;t++)delete e[t].pos;return e}function gv(i){for(var e=Ba(i),t=_v(i.rev_tree),n=[],r=0,s=t.length;r<s;r++){var l=t[r];l.rev!==e&&!l.opts.deleted&&n.push(l.rev)}return n}function Tre(i){var e=[];return Qa(i.rev_tree,function(t,n,r,s,l){l.status==="available"&&!t&&(e.push(n+"-"+r),l.status="missing")}),e}function YM(i){for(var e=[],t=i.slice(),n;n=t.pop();){var r=n.pos,s=n.ids,l=s[0],o=s[1],a=s[2],u=a.length===0,c=n.history?n.history.slice():[];c.push({id:l,opts:o}),u&&e.push({pos:r+1-c.length,ids:c});for(var f=0,d=a.length;f<d;f++)t.push({pos:r+1,ids:a[f],history:c})}return e.reverse()}function Are(i,e){return i.pos-e.pos}function Pre(i,e,t){for(var n=0,r=i.length,s;n<r;)s=n+r>>>1,t(i[s],e)<0?n=s+1:r=s;return n}function Nre(i,e,t){var n=Pre(i,e,t);i.splice(n,0,e)}function xy(i,e){for(var t,n,r=e,s=i.length;r<s;r++){var l=i[r],o=[l.id,l.opts,[]];n?(n[2].push(o),n=o):t=n=o}return t}function Mre(i,e){return i[0]<e[0]?-1:1}function Xy(i,e){for(var t=[{tree1:i,tree2:e}],n=!1;t.length>0;){var r=t.pop(),s=r.tree1,l=r.tree2;(s[1].status||l[1].status)&&(s[1].status=s[1].status==="available"||l[1].status==="available"?"available":"missing");for(var o=0;o<l[2].length;o++){if(!s[2][0]){n="new_leaf",s[2][0]=l[2][o];continue}for(var a=!1,u=0;u<s[2].length;u++)s[2][u][0]===l[2][o][0]&&(t.push({tree1:s[2][u],tree2:l[2][o]}),a=!0);a||(n="new_branch",Nre(s[2],l[2][o],Mre))}}return{conflicts:n,tree:i}}function UM(i,e,t){var n=[],r=!1,s=!1,l;if(!i.length)return{tree:[e],conflicts:"new_leaf"};for(var o=0,a=i.length;o<a;o++){var u=i[o];if(u.pos===e.pos&&u.ids[0]===e.ids[0])l=Xy(u.ids,e.ids),n.push({pos:u.pos,ids:l.tree}),r=r||l.conflicts,s=!0;else if(t!==!0){var c=u.pos<e.pos?u:e,f=u.pos<e.pos?e:u,d=f.pos-c.pos,m=[],p=[];for(p.push({ids:c.ids,diff:d,parent:null,parentIdx:null});p.length>0;){var g=p.pop();if(g.diff===0){g.ids[0]===f.ids[0]&&m.push(g);continue}for(var k=g.ids[2],$=0,D=k.length;$<D;$++)p.push({ids:k[$],diff:g.diff-1,parent:g.ids,parentIdx:$})}var F=m[0];F?(l=Xy(F.ids,f.ids),F.parent[2][F.parentIdx]=l.tree,n.push({pos:c.pos,ids:c.ids}),r=r||l.conflicts,s=!0):n.push(u)}else n.push(u)}return s||n.push(e),n.sort(Are),{tree:n,conflicts:r||"internal_node"}}function Lre(i,e){for(var t=YM(i),n,r,s=0,l=t.length;s<l;s++){var o=t[s],a=o.ids,u;if(a.length>e){n||(n={});var c=a.length-e;u={pos:o.pos+c,ids:xy(a,c)};for(var f=0;f<c;f++){var d=o.pos+f+"-"+a[f].id;n[d]=!0}}else u={pos:o.pos,ids:xy(a,0)};r?r=UM(r,u,!0).tree:r=[u]}return n&&Qa(r,function(m,p,g){delete n[p+"-"+g]}),{tree:r,revs:n?Object.keys(n):[]}}function qM(i,e,t){var n=UM(i,e),r=Lre(n.tree,t);return{tree:r.tree,stemmedRevs:r.revs,conflicts:n.conflicts}}function Ore(i,e){for(var t=i.slice(),n=e.split("-"),r=parseInt(n[0],10),s=n[1],l;l=t.pop();){if(l.pos===r&&l.ids[0]===s)return!0;for(var o=l.ids[2],a=0,u=o.length;a<u;a++)t.push({pos:l.pos+1,ids:o[a]})}return!1}function Ire(i){return i.ids}function Ll(i,e){e||(e=Ba(i));for(var t=e.substring(e.indexOf("-")+1),n=i.rev_tree.map(Ire),r;r=n.pop();){if(r[0]===t)return!!r[1].deleted;n=n.concat(r[2])}}function za(i){return/^_local/.test(i)}function Bre(i,e){for(var t=e.rev_tree.slice(),n;n=t.pop();){var r=n.pos,s=n.ids,l=s[0],o=s[1],a=s[2],u=a.length===0,c=n.history?n.history.slice():[];if(c.push({id:l,pos:r,opts:o}),u)for(var f=0,d=c.length;f<d;f++){var m=c[f],p=m.pos+"-"+m.id;if(p===i)return r+"-"+l}for(var g=0,k=a.length;g<k;g++)t.push({pos:r+1,ids:a[g],history:c})}throw new Error("Unable to resolve latest revision for id "+e.id+", rev "+i)}xr.exports(Ad,ar.exports);function zre(i,e,t,n){try{i.emit("change",e,t,n)}catch(r){fs("error",'Error in .on("change", function):',r)}}function Ad(i,e,t){ar.exports.call(this);var n=this;this.db=i,e=e?zi(e):{};var r=e.complete=SM(function(o,a){o?pre(n,"error")>0&&n.emit("error",o):n.emit("complete",a),n.removeAllListeners(),i.removeListener("destroyed",s)});t&&(n.on("complete",function(o){t(null,o)}),n.on("error",t));function s(){n.cancel()}i.once("destroyed",s),e.onChange=function(o,a,u){n.isCancelled||zre(n,o,a,u)};var l=new Promise(function(o,a){e.complete=function(u,c){u?a(u):o(c)}});n.once("cancel",function(){i.removeListener("destroyed",s),e.complete(null,{status:"cancelled"})}),this.then=l.then.bind(l),this.catch=l.catch.bind(l),this.then(function(o){r(null,o)},r),i.taskqueue.isReady?n.validateChanges(e):i.taskqueue.addTask(function(o){o?e.complete(o):n.isCancelled?n.emit("cancel"):n.validateChanges(e)})}Ad.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")};function Rre(i,e,t){var n=[{rev:i._rev}];t.style==="all_docs"&&(n=_v(e.rev_tree).map(function(s){return{rev:s.rev}}));var r={id:e.id,changes:n,doc:i};return Ll(e,i._rev)&&(r.deleted=!0),t.conflicts&&(r.doc._conflicts=gv(e),r.doc._conflicts.length||delete r.doc._conflicts),r}Ad.prototype.validateChanges=function(i){var e=i.complete,t=this;Xt._changesFilterPlugin?Xt._changesFilterPlugin.validate(i,function(n){if(n)return e(n);t.doChanges(i)}):t.doChanges(i)};Ad.prototype.doChanges=function(i){var e=this,t=i.complete;if(i=zi(i),"live"in i&&!("continuous"in i)&&(i.continuous=i.live),i.processChange=Rre,i.since==="latest"&&(i.since="now"),i.since||(i.since=0),i.since==="now"){this.db.info().then(function(s){if(e.isCancelled){t(null,{status:"cancelled"});return}i.since=s.update_seq,e.doChanges(i)},t);return}if(Xt._changesFilterPlugin){if(Xt._changesFilterPlugin.normalize(i),Xt._changesFilterPlugin.shouldFilter(this,i))return Xt._changesFilterPlugin.filter(this,i)}else["doc_ids","filter","selector","view"].forEach(function(s){s in i&&fs("warn",'The "'+s+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')});"descending"in i||(i.descending=!1),i.limit=i.limit===0?1:i.limit,i.complete=t;var n=this.db._changes(i);if(n&&typeof n.cancel=="function"){var r=e.cancel;e.cancel=Tc(function(s){n.cancel(),r.apply(this,s)})}};function Ky(i,e){return i<e?-1:i>e?1:0}function vv(i,e){return function(t,n){t||n[0]&&n[0].error?(t=t||n[0],t.docId=e,i(t)):i(null,n.length?n[0]:n)}}function jre(i){for(var e=0;e<i.length;e++){var t=i[e];if(t._deleted)delete t._attachments;else if(t._attachments)for(var n=Object.keys(t._attachments),r=0;r<n.length;r++){var s=n[r];t._attachments[s]=Sd(t._attachments[s],["data","digest","content_type","length","revpos","stub"])}}}function Yre(i,e){var t=Ky(i._id,e._id);if(t!==0)return t;var n=i._revisions?i._revisions.start:0,r=e._revisions?e._revisions.start:0;return Ky(n,r)}function Ure(i){var e={},t=[];return Qa(i,function(n,r,s,l){var o=r+"-"+s;return n&&(e[o]=0),l!==void 0&&t.push({from:l,to:o}),o}),t.reverse(),t.forEach(function(n){e[n.from]===void 0?e[n.from]=1+e[n.to]:e[n.from]=Math.min(e[n.from],1+e[n.to])}),e}function qre(i){var e="limit"in i?i.keys.slice(i.skip,i.limit+i.skip):i.skip>0?i.keys.slice(i.skip):i.keys;i.keys=e,i.skip=0,delete i.limit,i.descending&&(e.reverse(),i.descending=!1)}function HM(i){var e=i._compactionQueue[0],t=e.opts,n=e.callback;i.get("_local/compaction").catch(function(){return!1}).then(function(r){r&&r.last_seq&&(t.last_seq=r.last_seq),i._compact(t,function(s,l){s?n(s):n(null,l),cl(function(){i._compactionQueue.shift(),i._compactionQueue.length&&HM(i)})})})}function Hre(i){return i.charAt(0)==="_"?i+" is not a valid attachment name, attachment names cannot start with '_'":!1}xr.exports(ui,ar.exports);function ui(){ar.exports.call(this);for(var i in ui.prototype)typeof this[i]=="function"&&(this[i]=this[i].bind(this))}ui.prototype.post=Li("post",function(i,e,t){if(typeof e=="function"&&(t=e,e={}),typeof i!="object"||Array.isArray(i))return t(rn(lv));this.bulkDocs({docs:[i]},e,vv(t,i._id))});ui.prototype.put=Li("put",function(i,e,t){if(typeof e=="function"&&(t=e,e={}),typeof i!="object"||Array.isArray(i))return t(rn(lv));if(OM(i._id),za(i._id)&&typeof this._putLocal=="function")return i._deleted?this._removeLocal(i,t):this._putLocal(i,t);var n=this;e.force&&i._rev?(r(),s(function(l){var o=l?null:{ok:!0,id:i._id,rev:i._rev};t(l,o)})):s(t);function r(){var l=i._rev.split("-"),o=l[1],a=parseInt(l[0],10),u=a+1,c=jM();i._revisions={start:u,ids:[c,o]},i._rev=u+"-"+c,e.new_edits=!1}function s(l){typeof n._put=="function"&&e.new_edits!==!1?n._put(i,e,l):n.bulkDocs({docs:[i]},e,vv(l,i._id))}});ui.prototype.putAttachment=Li("putAttachment",function(i,e,t,n,r){var s=this;typeof r=="function"&&(r=n,n=t,t=null),typeof r>"u"&&(r=n,n=t,t=null),r||fs("warn","Attachment",e,"on document",i,"is missing content_type");function l(o){var a="_rev"in o?parseInt(o._rev,10):0;return o._attachments=o._attachments||{},o._attachments[e]={content_type:r,data:n,revpos:++a},s.put(o)}return s.get(i).then(function(o){if(o._rev!==t)throw rn(rc);return l(o)},function(o){if(o.reason===Es.message)return l({_id:i});throw o})});ui.prototype.removeAttachment=Li("removeAttachment",function(i,e,t,n){var r=this;r.get(i,function(s,l){if(s){n(s);return}if(l._rev!==t){n(rn(rc));return}if(!l._attachments)return n();delete l._attachments[e],Object.keys(l._attachments).length===0&&delete l._attachments,r.put(l,n)})});ui.prototype.remove=Li("remove",function(i,e,t,n){var r;typeof e=="string"?(r={_id:i,_rev:e},typeof t=="function"&&(n=t,t={})):(r=i,typeof e=="function"?(n=e,t={}):(n=t,t=e)),t=t||{},t.was_delete=!0;var s={_id:r._id,_rev:r._rev||t.rev};if(s._deleted=!0,za(s._id)&&typeof this._removeLocal=="function")return this._removeLocal(r,n);this.bulkDocs({docs:[s]},t,vv(n,s._id))});ui.prototype.revsDiff=Li("revsDiff",function(i,e,t){typeof e=="function"&&(t=e,e={});var n=Object.keys(i);if(!n.length)return t(null,{});var r=0,s=new Nr;function l(a,u){s.has(a)||s.set(a,{missing:[]}),s.get(a).missing.push(u)}function o(a,u){var c=i[a].slice(0);Qa(u,function(f,d,m,p,g){var k=d+"-"+m,$=c.indexOf(k);$!==-1&&(c.splice($,1),g.status!=="available"&&l(a,k))}),c.forEach(function(f){l(a,f)})}n.map(function(a){this._getRevisionTree(a,function(u,c){if(u&&u.status===404&&u.message==="missing")s.set(a,{missing:i[a]});else{if(u)return t(u);o(a,c)}if(++r===n.length){var f={};return s.forEach(function(d,m){f[m]=d}),t(null,f)}})},this)});ui.prototype.bulkGet=Li("bulkGet",function(i,e){AM(this,i,e)});ui.prototype.compactDocument=Li("compactDocument",function(i,e,t){var n=this;this._getRevisionTree(i,function(r,s){if(r)return t(r);var l=Ure(s),o=[],a=[];Object.keys(l).forEach(function(u){l[u]>e&&o.push(u)}),Qa(s,function(u,c,f,d,m){var p=c+"-"+f;m.status==="available"&&o.indexOf(p)!==-1&&a.push(p)}),n._doCompaction(i,a,t)})});ui.prototype.compact=Li("compact",function(i,e){typeof i=="function"&&(e=i,i={});var t=this;i=i||{},t._compactionQueue=t._compactionQueue||[],t._compactionQueue.push({opts:i,callback:e}),t._compactionQueue.length===1&&HM(t)});ui.prototype._compact=function(i,e){var t=this,n={return_docs:!1,last_seq:i.last_seq||0},r=[];function s(o){r.push(t.compactDocument(o.id,0))}function l(o){var a=o.last_seq;Promise.all(r).then(function(){return Ap(t,"_local/compaction",function(c){return!c.last_seq||c.last_seq<a?(c.last_seq=a,c):!1})}).then(function(){e(null,{ok:!0})}).catch(e)}t.changes(n).on("change",s).on("complete",l).on("error",e)};ui.prototype.get=Li("get",function(i,e,t){if(typeof e=="function"&&(t=e,e={}),typeof i!="string")return t(rn(PM));if(za(i)&&typeof this._getLocal=="function")return this._getLocal(i,t);var n=[],r=this;function s(){var a=[],u=n.length;if(!u)return t(null,a);n.forEach(function(c){r.get(i,{rev:c,revs:e.revs,latest:e.latest,attachments:e.attachments,binary:e.binary},function(f,d){if(f)a.push({missing:c});else{for(var m,p=0,g=a.length;p<g;p++)if(a[p].ok&&a[p].ok._rev===d._rev){m=!0;break}m||a.push({ok:d})}u--,u||t(null,a)})})}if(e.open_revs){if(e.open_revs==="all")this._getRevisionTree(i,function(a,u){if(a)return t(a);n=_v(u).map(function(c){return c.rev}),s()});else if(Array.isArray(e.open_revs)){n=e.open_revs;for(var l=0;l<n.length;l++){var o=n[l];if(!(typeof o=="string"&&/^\d+-/.test(o)))return t(rn(LM))}s()}else return t(rn(NM,"function_clause"));return}return this._get(i,e,function(a,u){if(a)return a.docId=i,t(a);var c=u.doc,f=u.metadata,d=u.ctx;if(e.conflicts){var m=gv(f);m.length&&(c._conflicts=m)}if(Ll(f,c._rev)&&(c._deleted=!0),e.revs||e.revs_info){for(var p=c._rev.split("-"),g=parseInt(p[0],10),k=p[1],$=YM(f.rev_tree),D=null,F=0;F<$.length;F++){var C=$[F],S=C.ids.map(function(K){return K.id}).indexOf(k),P=S===g-1;(P||!D&&S!==-1)&&(D=C)}if(!D)return a=new Error("invalid rev tree"),a.docId=i,t(a);var I=D.ids.map(function(K){return K.id}).indexOf(c._rev.split("-")[1])+1,R=D.ids.length-I;if(D.ids.splice(I,R),D.ids.reverse(),e.revs&&(c._revisions={start:D.pos+D.ids.length-1,ids:D.ids.map(function(K){return K.id})}),e.revs_info){var B=D.pos+D.ids.length;c._revs_info=D.ids.map(function(K){return B--,{rev:B+"-"+K.id,status:K.opts.status}})}}if(e.attachments&&c._attachments){var z=c._attachments,q=Object.keys(z).length;if(q===0)return t(null,c);Object.keys(z).forEach(function(K){this._getAttachment(c._id,K,z[K],{rev:c._rev,binary:e.binary,ctx:d},function(G,U){var Q=c._attachments[K];Q.data=U,delete Q.stub,delete Q.length,--q||t(null,c)})},r)}else{if(c._attachments)for(var H in c._attachments)Object.prototype.hasOwnProperty.call(c._attachments,H)&&(c._attachments[H].stub=!0);t(null,c)}})});ui.prototype.getAttachment=Li("getAttachment",function(i,e,t,n){var r=this;t instanceof Function&&(n=t,t={}),this._get(i,t,function(s,l){if(s)return n(s);if(l.doc._attachments&&l.doc._attachments[e])t.ctx=l.ctx,t.binary=!0,r._getAttachment(i,e,l.doc._attachments[e],t,n);else return n(rn(Es))})});ui.prototype.allDocs=Li("allDocs",function(i,e){if(typeof i=="function"&&(e=i,i={}),i.skip=typeof i.skip<"u"?i.skip:0,i.start_key&&(i.startkey=i.start_key),i.end_key&&(i.endkey=i.end_key),"keys"in i){if(!Array.isArray(i.keys))return e(new TypeError("options.keys must be an array"));var t=["startkey","endkey","key"].filter(function(n){return n in i})[0];if(t){e(rn(dre,"Query parameter `"+t+"` is not compatible with multi-get"));return}if(!fl(this)&&(qre(i),i.keys.length===0))return this._allDocs({limit:0},e)}return this._allDocs(i,e)});ui.prototype.changes=function(i,e){return typeof i=="function"&&(e=i,i={}),i=i||{},i.return_docs="return_docs"in i?i.return_docs:!i.live,new Ad(this,i,e)};ui.prototype.close=Li("close",function(i){return this._closed=!0,this.emit("closed"),this._close(i)});ui.prototype.info=Li("info",function(i){var e=this;this._info(function(t,n){if(t)return i(t);n.db_name=n.db_name||e.name,n.auto_compaction=!!(e.auto_compaction&&!fl(e)),n.adapter=e.adapter,i(null,n)})});ui.prototype.id=Li("id",function(i){return this._id(i)});ui.prototype.type=function(){return typeof this._type=="function"?this._type():this.adapter};ui.prototype.bulkDocs=Li("bulkDocs",function(i,e,t){if(typeof e=="function"&&(t=e,e={}),e=e||{},Array.isArray(i)&&(i={docs:i}),!i||!i.docs||!Array.isArray(i.docs))return t(rn(ure));for(var n=0;n<i.docs.length;++n)if(typeof i.docs[n]!="object"||Array.isArray(i.docs[n]))return t(rn(lv));var r;if(i.docs.forEach(function(o){o._attachments&&Object.keys(o._attachments).forEach(function(a){r=r||Hre(a),o._attachments[a].content_type||fs("warn","Attachment",a,"on document",o._id,"is missing content_type")})}),r)return t(rn(Tp,r));"new_edits"in e||("new_edits"in i?e.new_edits=i.new_edits:e.new_edits=!0);var s=this;!e.new_edits&&!fl(s)&&i.docs.sort(Yre),jre(i.docs);var l=i.docs.map(function(o){return o._id});return this._bulkDocs(i,e,function(o,a){if(o)return t(o);if(e.new_edits||(a=a.filter(function(f){return f.error})),!fl(s))for(var u=0,c=a.length;u<c;u++)a[u].id=a[u].id||l[u];t(null,a)})});ui.prototype.registerDependentDatabase=Li("registerDependentDatabase",function(i,e){var t=zi(this.__opts);this.__opts.view_adapter&&(t.adapter=this.__opts.view_adapter);var n=new this.constructor(i,t);function r(s){return s.dependentDbs=s.dependentDbs||{},s.dependentDbs[i]?!1:(s.dependentDbs[i]=!0,s)}Ap(this,"_local/_pouch_dependentDbs",r).then(function(){e(null,{db:n})}).catch(e)});ui.prototype.destroy=Li("destroy",function(i,e){typeof i=="function"&&(e=i,i={});var t=this,n="use_prefix"in t?t.use_prefix:!0;function r(){t._destroy(i,function(s,l){if(s)return e(s);t._destroyed=!0,t.emit("destroyed"),e(null,l||{ok:!0})})}if(fl(t))return r();t.get("_local/_pouch_dependentDbs",function(s,l){if(s)return s.status!==404?e(s):r();var o=l.dependentDbs,a=t.constructor,u=Object.keys(o).map(function(c){var f=n?c.replace(new RegExp("^"+a.prefix),""):c;return new a(f,t.__opts).destroy()});Promise.all(u).then(r,e)})});function Pd(){this.isReady=!1,this.failed=!1,this.queue=[]}Pd.prototype.execute=function(){var i;if(this.failed)for(;i=this.queue.shift();)i(this.failed);else for(;i=this.queue.shift();)i()};Pd.prototype.fail=function(i){this.failed=i,this.execute()};Pd.prototype.ready=function(i){this.isReady=!0,this.db=i,this.execute()};Pd.prototype.addTask=function(i){this.queue.push(i),this.failed&&this.execute()};function Wre(i,e){var t=i.match(/([a-z-]*):\/\/(.*)/);if(t)return{name:/https?/.test(t[1])?t[1]+"://"+t[2]:t[2],adapter:t[1]};var n=Xt.adapters,r=Xt.preferredAdapters,s=Xt.prefix,l=e.adapter;if(!l)for(var o=0;o<r.length;++o){if(l=r[o],l==="idb"&&"websql"in n&&Sp()&&localStorage["_pouch__websqldb_"+s+i]){fs("log",'PouchDB is downgrading "'+i+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');continue}break}var a=n[l],u=a&&"use_prefix"in a?a.use_prefix:!0;return{name:u?s+i:i,adapter:l}}function Vre(i){function e(n){i.removeListener("closed",t),n||i.constructor.emit("destroyed",i.name)}function t(){i.removeListener("destroyed",e),i.constructor.emit("unref",i)}i.once("destroyed",e),i.once("closed",t),i.constructor.emit("ref",i)}xr.exports(Xt,ui);function Xt(i,e){if(!(this instanceof Xt))return new Xt(i,e);var t=this;if(e=e||{},i&&typeof i=="object"&&(e=i,i=e.name,delete e.name),e.deterministic_revs===void 0&&(e.deterministic_revs=!0),this.__opts=e=zi(e),t.auto_compaction=e.auto_compaction,t.prefix=Xt.prefix,typeof i!="string")throw new Error("Missing/invalid DB name");var n=(e.prefix||"")+i,r=Wre(n,e);if(e.name=r.name,e.adapter=e.adapter||r.adapter,t.name=i,t._adapter=e.adapter,Xt.emit("debug",["adapter","Picked adapter: ",e.adapter]),!Xt.adapters[e.adapter]||!Xt.adapters[e.adapter].valid())throw new Error("Invalid Adapter: "+e.adapter);if(e.view_adapter&&(!Xt.adapters[e.view_adapter]||!Xt.adapters[e.view_adapter].valid()))throw new Error("Invalid View Adapter: "+e.view_adapter);ui.call(t),t.taskqueue=new Pd,t.adapter=e.adapter,Xt.adapters[e.adapter].call(t,e,function(s){if(s)return t.taskqueue.fail(s);Vre(t),t.emit("created",t),Xt.emit("created",t.name),t.taskqueue.ready(t)})}var Gre=typeof AbortController<"u"?AbortController:function(){return{abort:function(){}}},WM=fetch,Yu=Headers;Xt.adapters={};Xt.preferredAdapters=[];Xt.prefix="_pouch_";var Jy=new ar.exports;function Zre(i){Object.keys(ar.exports.prototype).forEach(function(t){typeof ar.exports.prototype[t]=="function"&&(i[t]=Jy[t].bind(Jy))});var e=i._destructionListeners=new Nr;i.on("ref",function(n){e.has(n.name)||e.set(n.name,[]),e.get(n.name).push(n)}),i.on("unref",function(n){if(!!e.has(n.name)){var r=e.get(n.name),s=r.indexOf(n);s<0||(r.splice(s,1),r.length>1?e.set(n.name,r):e.delete(n.name))}}),i.on("destroyed",function(n){if(!!e.has(n)){var r=e.get(n);e.delete(n),r.forEach(function(s){s.emit("destroyed",!0)})}})}Zre(Xt);Xt.adapter=function(i,e,t){e.valid()&&(Xt.adapters[i]=e,t&&Xt.preferredAdapters.push(i))};Xt.plugin=function(i){if(typeof i=="function")i(Xt);else{if(typeof i!="object"||Object.keys(i).length===0)throw new Error('Invalid plugin: got "'+i+'", expected an object or a function');Object.keys(i).forEach(function(e){Xt.prototype[e]=i[e]})}return this.__defaults&&(Xt.__defaults=Ia({},this.__defaults)),Xt};Xt.defaults=function(i){function e(t,n){if(!(this instanceof e))return new e(t,n);n=n||{},t&&typeof t=="object"&&(n=t,t=n.name,delete n.name),n=Ia({},e.__defaults,n),Xt.call(this,t,n)}return xr.exports(e,Xt),e.preferredAdapters=Xt.preferredAdapters.slice(),Object.keys(Xt).forEach(function(t){t in e||(e[t]=Xt[t])}),e.__defaults=Ia({},this.__defaults,i),e};Xt.fetch=function(i,e){return WM(i,e)};var xre="7.3.1";function bv(i,e){for(var t=i,n=0,r=e.length;n<r;n++){var s=e[n];if(t=t[s],!t)break}return t}function Xre(i,e){return i<e?-1:i>e?1:0}function kv(i){for(var e=[],t="",n=0,r=i.length;n<r;n++){var s=i[n];n>0&&i[n-1]==="\\"&&(s==="$"||s===".")?t=t.substring(0,t.length-1)+s:s==="."?(e.push(t),t=""):t+=s}return e.push(t),e}var Kre=["$or","$nor","$not"];function VM(i){return Kre.indexOf(i)>-1}function GM(i){return Object.keys(i)[0]}function Jre(i){return i[GM(i)]}function Jf(i){var e={},t={$or:!0,$nor:!0};return i.forEach(function(n){Object.keys(n).forEach(function(r){var s=n[r];if(typeof s!="object"&&(s={$eq:s}),VM(r))if(s instanceof Array){if(t[r]){t[r]=!1,e[r]=s;return}var l=[];e[r].forEach(function(a){Object.keys(s).forEach(function(u){var c=s[u],f=Math.max(Object.keys(a).length,Object.keys(c).length),d=Jf([a,c]);Object.keys(d).length<=f||l.push(d)})}),e[r]=l}else e[r]=Jf([s]);else{var o=e[r]=e[r]||{};Object.keys(s).forEach(function(a){var u=s[a];if(a==="$gt"||a==="$gte")return Qre(a,u,o);if(a==="$lt"||a==="$lte")return ese(a,u,o);if(a==="$ne")return tse(u,o);if(a==="$eq")return nse(u,o);if(a==="$regex")return ise(u,o);o[a]=u})}})}),e}function Qre(i,e,t){typeof t.$eq<"u"||(typeof t.$gte<"u"?i==="$gte"?e>t.$gte&&(t.$gte=e):e>=t.$gte&&(delete t.$gte,t.$gt=e):typeof t.$gt<"u"?i==="$gte"?e>t.$gt&&(delete t.$gt,t.$gte=e):e>t.$gt&&(t.$gt=e):t[i]=e)}function ese(i,e,t){typeof t.$eq<"u"||(typeof t.$lte<"u"?i==="$lte"?e<t.$lte&&(t.$lte=e):e<=t.$lte&&(delete t.$lte,t.$lt=e):typeof t.$lt<"u"?i==="$lte"?e<t.$lt&&(delete t.$lt,t.$lte=e):e<t.$lt&&(t.$lt=e):t[i]=e)}function tse(i,e){"$ne"in e?e.$ne.push(i):e.$ne=[i]}function nse(i,e){delete e.$gt,delete e.$gte,delete e.$lt,delete e.$lte,delete e.$ne,e.$eq=i}function ise(i,e){"$regex"in e?e.$regex.push(i):e.$regex=[i]}function ZM(i){for(var e in i){if(Array.isArray(i))for(var t in i)i[t].$and&&(i[t]=Jf(i[t].$and));var n=i[e];typeof n=="object"&&ZM(n)}return i}function xM(i,e){for(var t in i){t==="$and"&&(e=!0);var n=i[t];typeof n=="object"&&(e=xM(n,e))}return e}function rse(i){var e=zi(i),t=!1;xM(e,!1)&&(e=ZM(e),"$and"in e&&(e=Jf(e.$and)),t=!0),["$or","$nor"].forEach(function(o){o in e&&e[o].forEach(function(a){for(var u=Object.keys(a),c=0;c<u.length;c++){var f=u[c],d=a[f];(typeof d!="object"||d===null)&&(a[f]={$eq:d})}})}),"$not"in e&&(e.$not=Jf([e.$not]));for(var n=Object.keys(e),r=0;r<n.length;r++){var s=n[r],l=e[s];typeof l!="object"||l===null?l={$eq:l}:t||("$ne"in l&&(l.$ne=[l.$ne]),"$regex"in l&&(l.$regex=[l.$regex])),e[s]=l}return e}function sse(i,e,t){for(var n="",r=t-i.length;n.length<r;)n+=e;return n}function lse(i,e,t){var n=sse(i,e,t);return n+i}var XM=-324,f1=3,d1="";function Fi(i,e){if(i===e)return 0;i=Ra(i),e=Ra(e);var t=h1(i),n=h1(e);if(t-n!==0)return t-n;switch(typeof i){case"number":return i-e;case"boolean":return i<e?-1:1;case"string":return dse(i,e)}return Array.isArray(i)?fse(i,e):hse(i,e)}function Ra(i){switch(typeof i){case"undefined":return null;case"number":return i===1/0||i===-1/0||isNaN(i)?null:i;case"object":var e=i;if(Array.isArray(i)){var t=i.length;i=new Array(t);for(var n=0;n<t;n++)i[n]=Ra(e[n])}else{if(i instanceof Date)return i.toJSON();if(i!==null){i={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var s=e[r];typeof s<"u"&&(i[r]=Ra(s))}}}}return i}function ose(i){if(i!==null)switch(typeof i){case"boolean":return i?1:0;case"number":return mse(i);case"string":return i.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var e=Array.isArray(i),t=e?i:Object.keys(i),n=-1,r=t.length,s="";if(e)for(;++n<r;)s+=$s(t[n]);else for(;++n<r;){var l=t[n];s+=$s(l)+$s(i[l])}return s}return""}function $s(i){var e="\0";return i=Ra(i),h1(i)+d1+ose(i)+e}function ase(i,e){var t=e,n,r=i[e]==="1";if(r)n=0,e++;else{var s=i[e]==="0";e++;var l="",o=i.substring(e,e+f1),a=parseInt(o,10)+XM;for(s&&(a=-a),e+=f1;;){var u=i[e];if(u==="\0")break;l+=u,e++}l=l.split("."),l.length===1?n=parseInt(l,10):n=parseFloat(l[0]+"."+l[1]),s&&(n=n-10),a!==0&&(n=parseFloat(n+"e"+a))}return{num:n,length:e-t}}function use(i,e){var t=i.pop();if(e.length){var n=e[e.length-1];t===n.element&&(e.pop(),n=e[e.length-1]);var r=n.element,s=n.index;if(Array.isArray(r))r.push(t);else if(s===i.length-2){var l=i.pop();r[l]=t}else i.push(t)}}function cse(i){for(var e=[],t=[],n=0;;){var r=i[n++];if(r==="\0"){if(e.length===1)return e.pop();use(e,t);continue}switch(r){case"1":e.push(null);break;case"2":e.push(i[n]==="1"),n++;break;case"3":var s=ase(i,n);e.push(s.num),n+=s.length;break;case"4":for(var l="";;){var o=i[n];if(o==="\0")break;l+=o,n++}l=l.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),e.push(l);break;case"5":var a={element:[],index:e.length};e.push(a.element),t.push(a);break;case"6":var u={element:{},index:e.length};e.push(u.element),t.push(u);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+r)}}}function fse(i,e){for(var t=Math.min(i.length,e.length),n=0;n<t;n++){var r=Fi(i[n],e[n]);if(r!==0)return r}return i.length===e.length?0:i.length>e.length?1:-1}function dse(i,e){return i===e?0:i>e?1:-1}function hse(i,e){for(var t=Object.keys(i),n=Object.keys(e),r=Math.min(t.length,n.length),s=0;s<r;s++){var l=Fi(t[s],n[s]);if(l!==0||(l=Fi(i[t[s]],e[n[s]]),l!==0))return l}return t.length===n.length?0:t.length>n.length?1:-1}function h1(i){var e=["boolean","number","string","object"],t=e.indexOf(typeof i);if(~t)return i===null?1:Array.isArray(i)?5:t<3?t+2:t+3;if(Array.isArray(i))return 5}function mse(i){if(i===0)return"1";var e=i.toExponential().split(/e\+?/),t=parseInt(e[1],10),n=i<0,r=n?"0":"2",s=(n?-t:t)-XM,l=lse(s.toString(),"0",f1);r+=d1+l;var o=Math.abs(parseFloat(e[0]));n&&(o=10-o);var a=o.toFixed(20);return a=a.replace(/\.?0+$/,""),r+=d1+a,r}function pse(i){function e(t){return i.map(function(n){var r=GM(n),s=kv(r),l=bv(t,s);return l})}return function(t,n){var r=e(t.doc),s=e(n.doc),l=Fi(r,s);return l!==0?l:Xre(t.doc._id,n.doc._id)}}function _se(i,e,t){if(i=i.filter(function(l){return Uu(l.doc,e.selector,t)}),e.sort){var n=pse(e.sort);i=i.sort(n),typeof e.sort[0]!="string"&&Jre(e.sort[0])==="desc"&&(i=i.reverse())}if("limit"in e||"skip"in e){var r=e.skip||0,s=("limit"in e?e.limit:i.length)+r;i=i.slice(r,s)}return i}function Uu(i,e,t){return t.every(function(n){var r=e[n],s=kv(n),l=bv(i,s);return VM(n)?gse(n,r,i):pm(r,i,s,l)})}function pm(i,e,t,n){return i?typeof i=="object"?Object.keys(i).every(function(r){var s=i[r];if(r.indexOf("$")===0)return Qy(r,e,s,t,n);var l=kv(r);if(n===void 0&&typeof s!="object"&&l.length>0)return!1;var o=bv(n,l);return typeof s=="object"?pm(s,e,t,o):Qy("$eq",e,s,l,o)}):i===n:!0}function gse(i,e,t){return i==="$or"?e.some(function(n){return Uu(t,n,Object.keys(n))}):i==="$not"?!Uu(t,e,Object.keys(e)):!e.find(function(n){return Uu(t,n,Object.keys(n))})}function Qy(i,e,t,n,r){if(!tw[i])throw new Error('unknown operator "'+i+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return tw[i](e,t,n,r)}function of(i){return typeof i<"u"&&i!==null}function fa(i){return typeof i<"u"}function vse(i,e){if(typeof i!="number"||parseInt(i,10)!==i)return!1;var t=e[0],n=e[1];return i%t===n}function ew(i,e){return e.some(function(t){return i instanceof Array?i.some(function(n){return Fi(t,n)===0}):Fi(t,i)===0})}function bse(i,e){return e.every(function(t){return i.some(function(n){return Fi(t,n)===0})})}function kse(i,e){return i.length===e}function yse(i,e){var t=new RegExp(e);return t.test(i)}function wse(i,e){switch(e){case"null":return i===null;case"boolean":return typeof i=="boolean";case"number":return typeof i=="number";case"string":return typeof i=="string";case"array":return i instanceof Array;case"object":return{}.toString.call(i)==="[object Object]"}}var tw={$elemMatch:function(i,e,t,n){return!Array.isArray(n)||n.length===0?!1:typeof n[0]=="object"&&n[0]!==null?n.some(function(r){return Uu(r,e,Object.keys(e))}):n.some(function(r){return pm(e,i,t,r)})},$allMatch:function(i,e,t,n){return!Array.isArray(n)||n.length===0?!1:typeof n[0]=="object"&&n[0]!==null?n.every(function(r){return Uu(r,e,Object.keys(e))}):n.every(function(r){return pm(e,i,t,r)})},$eq:function(i,e,t,n){return fa(n)&&Fi(n,e)===0},$gte:function(i,e,t,n){return fa(n)&&Fi(n,e)>=0},$gt:function(i,e,t,n){return fa(n)&&Fi(n,e)>0},$lte:function(i,e,t,n){return fa(n)&&Fi(n,e)<=0},$lt:function(i,e,t,n){return fa(n)&&Fi(n,e)<0},$exists:function(i,e,t,n){return e?fa(n):!fa(n)},$mod:function(i,e,t,n){return of(n)&&vse(n,e)},$ne:function(i,e,t,n){return e.every(function(r){return Fi(n,r)!==0})},$in:function(i,e,t,n){return of(n)&&ew(n,e)},$nin:function(i,e,t,n){return of(n)&&!ew(n,e)},$size:function(i,e,t,n){return of(n)&&Array.isArray(n)&&kse(n,e)},$all:function(i,e,t,n){return Array.isArray(n)&&bse(n,e)},$regex:function(i,e,t,n){return of(n)&&typeof n=="string"&&e.every(function(r){return yse(n,r)})},$type:function(i,e,t,n){return wse(n,e)}};function $se(i,e){if(typeof e!="object")throw new Error("Selector error: expected a JSON object");e=rse(e);var t={doc:i},n=_se([t],{selector:e},Object.keys(e));return n&&n.length===1}function Fse(i){return uv(`"use strict";
return `+i+";",{})}function Ese(i){var e=["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+i+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join(`
`);return uv(e,{})}function Dse(i,e){if(i.selector&&i.filter&&i.filter!=="_selector"){var t=typeof i.filter=="string"?i.filter:"function";return e(new Error('selector invalid for filter "'+t+'"'))}e()}function Cse(i){i.view&&!i.filter&&(i.filter="_view"),i.selector&&!i.filter&&(i.filter="_selector"),i.filter&&typeof i.filter=="string"&&(i.filter==="_view"?i.view=Vy(i.view):i.filter=Vy(i.filter))}function Sse(i,e){return e.filter&&typeof e.filter=="string"&&!e.doc_ids&&!fl(i.db)}function Tse(i,e){var t=e.complete;if(e.filter==="_view"){if(!e.view||typeof e.view!="string"){var n=rn(Tp,"`view` filter parameter not found or invalid.");return t(n)}var r=c1(e.view);i.db.get("_design/"+r[0],function(l,o){if(i.isCancelled)return t(null,{status:"cancelled"});if(l)return t(sc(l));var a=o&&o.views&&o.views[r[1]]&&o.views[r[1]].map;if(!a)return t(rn(Es,o.views?"missing json key: "+r[1]:"missing json key: views"));e.filter=Ese(a),i.doChanges(e)})}else if(e.selector)e.filter=function(l){return $se(l,e.selector)},i.doChanges(e);else{var s=c1(e.filter);i.db.get("_design/"+s[0],function(l,o){if(i.isCancelled)return t(null,{status:"cancelled"});if(l)return t(sc(l));var a=o&&o.filters&&o.filters[s[1]];if(!a)return t(rn(Es,o&&o.filters?"missing json key: "+s[1]:"missing json key: filters"));e.filter=Fse(a),i.doChanges(e)})}}function Ase(i){i._changesFilterPlugin={validate:Dse,normalize:Cse,shouldFilter:Sse,filter:Tse}}Xt.plugin(Ase);Xt.version=xre;function KM(i){return i.reduce(function(e,t){return e[t]=!0,e},{})}var Pse=KM(["_id","_rev","_access","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),Nse=KM(["_access","_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);function nw(i){if(!/^\d+-/.test(i))return rn(LM);var e=i.indexOf("-"),t=i.substring(0,e),n=i.substring(e+1);return{prefix:parseInt(t,10),id:n}}function Mse(i,e){for(var t=i.start-i.ids.length+1,n=i.ids,r=[n[0],e,[]],s=1,l=n.length;s<l;s++)r=[n[s],{status:"missing"},[r]];return[{pos:t,ids:r}]}function JM(i,e,t){t||(t={deterministic_revs:!0});var n,r,s,l={status:"available"};if(i._deleted&&(l.deleted=!0),e)if(i._id||(i._id=Pp()),r=jM(i,t.deterministic_revs),i._rev){if(s=nw(i._rev),s.error)return s;i._rev_tree=[{pos:s.prefix,ids:[s.id,{status:"missing"},[[r,l,[]]]]}],n=s.prefix+1}else i._rev_tree=[{pos:1,ids:[r,l,[]]}],n=1;else if(i._revisions&&(i._rev_tree=Mse(i._revisions,l),n=i._revisions.start,r=i._revisions.ids[0]),!i._rev_tree){if(s=nw(i._rev),s.error)return s;n=s.prefix,r=s.id,i._rev_tree=[{pos:n,ids:[r,l,[]]}]}OM(i._id),i._rev=n+"-"+r;var o={metadata:{},data:{}};for(var a in i)if(Object.prototype.hasOwnProperty.call(i,a)){var u=a[0]==="_";if(u&&!Pse[a]){var c=rn(Wy,a);throw c.message=Wy.message+": "+a,c}else u&&!Nse[a]?o.metadata[a.slice(1)]=i[a]:o.data[a]=i[a]}return o}function Lse(i){try{return cv(i)}catch{var e=rn(MM,"Attachment is not a valid base64 string");return{error:e}}}function Ose(i,e,t){var n=Lse(i.data);if(n.error)return t(n.error);i.length=n.length,e==="blob"?i.data=dv(n,i.content_type):e==="base64"?i.data=Td(n):i.data=n,pv(n,function(r){i.digest="md5-"+r,t()})}function Ise(i,e,t){pv(i.data,function(n){i.digest="md5-"+n,i.length=i.data.size||i.data.length||0,e==="binary"?zM(i.data,function(r){i.data=r,t()}):e==="base64"?mv(i.data,function(r){i.data=r,t()}):t()})}function Bse(i,e,t){if(i.stub)return t();typeof i.data=="string"?Ose(i,e,t):Ise(i,e,t)}function zse(i,e,t){if(!i.length)return t();var n=0,r;i.forEach(function(l){var o=l.data&&l.data._attachments?Object.keys(l.data._attachments):[],a=0;if(!o.length)return s();function u(f){r=f,a++,a===o.length&&s()}for(var c in l.data._attachments)Object.prototype.hasOwnProperty.call(l.data._attachments,c)&&Bse(l.data._attachments[c],e,u)});function s(){n++,i.length===n&&(r?t(r):t())}}function Rse(i,e,t,n,r,s,l,o){if(Ore(e.rev_tree,t.metadata.rev)&&!o)return n[r]=t,s();var a=e.winningRev||Ba(e),u="deleted"in e?e.deleted:Ll(e,a),c="deleted"in t.metadata?t.metadata.deleted:Ll(t.metadata),f=/^1-/.test(t.metadata.rev);if(u&&!c&&o&&f){var d=t.data;d._rev=a,d._id=t.metadata.id,t=JM(d,o)}var m=qM(e.rev_tree,t.metadata.rev_tree[0],i),p=o&&(u&&c&&m.conflicts!=="new_leaf"||!u&&m.conflicts!=="new_leaf"||u&&!c&&m.conflicts==="new_branch");if(p){var g=rn(rc);return n[r]=g,s()}var k=t.metadata.rev;t.metadata.rev_tree=m.tree,t.stemmedRevs=m.stemmedRevs||[],e.rev_map&&(t.metadata.rev_map=e.rev_map);var $=Ba(t.metadata),D=Ll(t.metadata,$),F=u===D?0:u<D?-1:1,C;k===$?C=D:C=Ll(t.metadata,k),l(t,$,D,C,!0,F,r,s)}function jse(i){return i.metadata.rev_tree[0].ids[1].status==="missing"}function Yse(i,e,t,n,r,s,l,o,a){i=i||1e3;function u(g,k,$){var D=Ba(g.metadata),F=Ll(g.metadata,D);if("was_delete"in o&&F)return s[k]=rn(Es,"deleted"),$();var C=c&&jse(g);if(C){var S=rn(rc);return s[k]=S,$()}var P=F?0:1;l(g,D,F,F,!1,P,k,$)}var c=o.new_edits,f=new Nr,d=0,m=e.length;function p(){++d===m&&a&&a()}e.forEach(function(g,k){if(g._id&&za(g._id)){var $=g._deleted?"_removeLocal":"_putLocal";t[$](g,{ctx:r},function(F,C){s[k]=F||C,p()});return}var D=g.metadata.id;f.has(D)?(m--,f.get(D).push([g,k])):f.set(D,[[g,k]])}),f.forEach(function(g,k){var $=0;function D(){++$<g.length?F():p()}function F(){var C=g[$],S=C[0],P=C[1];if(n.has(k))Rse(i,n.get(k),S,s,P,D,l,c);else{var I=qM([],S.metadata.rev_tree[0],i);S.metadata.rev_tree=I.tree,S.stemmedRevs=I.stemmedRevs||[],u(S,P,D)}}F()})}var Use=5,Pi="document-store",Gi="by-sequence",ss="attach-store",Fa="attach-seq-store",yr="meta-store",Hs="local-store",m1="detect-blob-support";function qse(i){try{return JSON.parse(i)}catch{return Ep.parse(i)}}function Hse(i){try{return JSON.stringify(i)}catch{return Ep.stringify(i)}}function xs(i){return function(e){var t="unknown_error";e.target&&e.target.error&&(t=e.target.error.name||e.target.error.message),i(rn(ov,t,e.type))}}function p1(i,e,t){return{data:Hse(i),winningRev:e,deletedOrLocal:t?"1":"0",seq:i.seq,id:i.id}}function Ea(i){if(!i)return null;var e=qse(i.data);return e.winningRev=i.winningRev,e.deleted=i.deletedOrLocal==="1",e.seq=i.seq,e}function _m(i){if(!i)return i;var e=i._doc_id_rev.lastIndexOf(":");return i._id=i._doc_id_rev.substring(0,e-1),i._rev=i._doc_id_rev.substring(e+1),delete i._doc_id_rev,i}function QM(i,e,t,n){t?n(i?typeof i!="string"?i:hv(i,e):fv([""],{type:e})):i?typeof i!="string"?BM(i,function(r){n(Td(r))}):n(i):n("")}function eL(i,e,t,n){var r=Object.keys(i._attachments||{});if(!r.length)return n&&n();var s=0;function l(){++s===r.length&&n&&n()}function o(a,u){var c=a._attachments[u],f=c.digest,d=t.objectStore(ss).get(f);d.onsuccess=function(m){c.body=m.target.result.body,l()}}r.forEach(function(a){e.attachments&&e.include_docs?o(i,a):(i._attachments[a].stub=!0,l())})}function _1(i,e){return Promise.all(i.map(function(t){if(t.doc&&t.doc._attachments){var n=Object.keys(t.doc._attachments);return Promise.all(n.map(function(r){var s=t.doc._attachments[r];if("body"in s){var l=s.body,o=s.content_type;return new Promise(function(a){QM(l,o,e,function(u){t.doc._attachments[r]=Ia(Sd(s,["digest","content_type"]),{data:u}),a()})})}}))}}))}function tL(i,e,t){var n=[],r=t.objectStore(Gi),s=t.objectStore(ss),l=t.objectStore(Fa),o=i.length;function a(){o--,o||u()}function u(){!n.length||n.forEach(function(c){var f=l.index("digestSeq").count(IDBKeyRange.bound(c+"::",c+"::\uFFFF",!1,!1));f.onsuccess=function(d){var m=d.target.result;m||s.delete(c)}})}i.forEach(function(c){var f=r.index("_doc_id_rev"),d=e+"::"+c;f.getKey(d).onsuccess=function(m){var p=m.target.result;if(typeof p!="number")return a();r.delete(p);var g=l.index("seq").openCursor(IDBKeyRange.only(p));g.onsuccess=function(k){var $=k.target.result;if($){var D=$.value.digestSeq.split("::")[0];n.push(D),l.delete($.primaryKey),$.continue()}else a()}}})}function Fs(i,e,t){try{return{txn:i.transaction(e,t)}}catch(n){return{error:n}}}var Pf=new Ac;function Wse(i,e,t,n,r,s){for(var l=e.docs,o,a,u,c,f,d,m,p,g=0,k=l.length;g<k;g++){var $=l[g];$._id&&za($._id)||($=l[g]=JM($,t.new_edits,i),$.error&&!m&&(m=$))}if(m)return s(m);var D=!1,F=0,C=new Array(l.length),S=new Nr,P=!1,I=n._meta.blobSupport?"blob":"base64";zse(l,I,function(se){if(se)return s(se);R()});function R(){var se=[Pi,Gi,ss,Hs,Fa,yr],te=Fs(r,se,"readwrite");if(te.error)return s(te.error);o=te.txn,o.onabort=xs(s),o.ontimeout=xs(s),o.oncomplete=K,a=o.objectStore(Pi),u=o.objectStore(Gi),c=o.objectStore(ss),f=o.objectStore(Fa),d=o.objectStore(yr),d.get(yr).onsuccess=function(ge){p=ge.target.result,q()},U(function(ge){if(ge)return P=!0,s(ge);H()})}function B(){D=!0,q()}function z(){Yse(i.revs_limit,l,n,S,o,C,Q,t,B)}function q(){!p||!D||(p.docCount+=F,d.put(p))}function H(){if(!l.length)return;var se=0;function te(){++se===l.length&&z()}function ge(pe){var Ie=Ea(pe.target.result);Ie&&S.set(Ie.id,Ie),te()}for(var ae=0,ve=l.length;ae<ve;ae++){var Te=l[ae];if(Te._id&&za(Te._id)){te();continue}var Pe=a.get(Te.metadata.id);Pe.onsuccess=ge}}function K(){P||(Pf.notify(n._meta.name),s(null,C))}function G(se,te){var ge=c.get(se);ge.onsuccess=function(ae){if(ae.target.result)te();else{var ve=rn(hre,"unknown stub attachment with digest "+se);ve.status=412,te(ve)}}}function U(se){var te=[];if(l.forEach(function(Te){Te.data&&Te.data._attachments&&Object.keys(Te.data._attachments).forEach(function(Pe){var pe=Te.data._attachments[Pe];pe.stub&&te.push(pe.digest)})}),!te.length)return se();var ge=0,ae;function ve(){++ge===te.length&&se(ae)}te.forEach(function(Te){G(Te,function(Pe){Pe&&!ae&&(ae=Pe),ve()})})}function Q(se,te,ge,ae,ve,Te,Pe,pe){se.metadata.winningRev=te,se.metadata.deleted=ge;var Ie=se.data;Ie._id=se.metadata.id,Ie._rev=se.metadata.rev,ae&&(Ie._deleted=!0);var ye=Ie._attachments&&Object.keys(Ie._attachments).length;if(ye)return x(se,te,ge,ve,Pe,pe);F+=Te,q(),V(se,te,ge,ve,Pe,pe)}function V(se,te,ge,ae,ve,Te){var Pe=se.data,pe=se.metadata;Pe._doc_id_rev=pe.id+"::"+pe.rev,delete Pe._id,delete Pe._rev;function Ie(lt){var vt=se.stemmedRevs||[];ae&&n.auto_compaction&&(vt=vt.concat(Tre(se.metadata))),vt&&vt.length&&tL(vt,se.metadata.id,o),pe.seq=lt.target.result;var kt=p1(pe,te,ge),Ze=a.put(kt);Ze.onsuccess=st}function ye(lt){lt.preventDefault(),lt.stopPropagation();var vt=u.index("_doc_id_rev"),kt=vt.getKey(Pe._doc_id_rev);kt.onsuccess=function(Ze){var bt=u.put(Pe,Ze.target.result);bt.onsuccess=Ie}}function st(){C[ve]={ok:!0,id:pe.id,rev:pe.rev},S.set(se.metadata.id,se.metadata),ee(se,pe.seq,Te)}var dt=u.put(Pe);dt.onsuccess=Ie,dt.onerror=ye}function x(se,te,ge,ae,ve,Te){var Pe=se.data,pe=0,Ie=Object.keys(Pe._attachments);function ye(){pe===Ie.length&&V(se,te,ge,ae,ve,Te)}function st(){pe++,ye()}Ie.forEach(function(dt){var lt=se.data._attachments[dt];if(lt.stub)pe++,ye();else{var vt=lt.data;delete lt.data,lt.revpos=parseInt(te,10);var kt=lt.digest;J(kt,vt,st)}})}function ee(se,te,ge){var ae=0,ve=Object.keys(se.data._attachments||{});if(!ve.length)return ge();function Te(){++ae===ve.length&&ge()}function Pe(Ie){var ye=se.data._attachments[Ie].digest,st=f.put({seq:te,digestSeq:ye+"::"+te});st.onsuccess=Te,st.onerror=function(dt){dt.preventDefault(),dt.stopPropagation(),Te()}}for(var pe=0;pe<ve.length;pe++)Pe(ve[pe])}function J(se,te,ge){var ae=c.count(se);ae.onsuccess=function(ve){var Te=ve.target.result;if(Te)return ge();var Pe={digest:se,body:te},pe=c.put(Pe);pe.onsuccess=ge}}}function nL(i,e,t,n,r){n===-1&&(n=1e3);var s=typeof i.getAll=="function"&&typeof i.getAllKeys=="function"&&n>1&&!t,l,o,a;function u(m){o=m.target.result,l&&r(l,o,a)}function c(m){l=m.target.result,o&&r(l,o,a)}function f(){if(!l.length)return r();var m=l[l.length-1],p;if(e&&e.upper)try{p=IDBKeyRange.bound(m,e.upper,!0,e.upperOpen)}catch(g){if(g.name==="DataError"&&g.code===0)return r()}else p=IDBKeyRange.lowerBound(m,!0);e=p,l=null,o=null,i.getAll(e,n).onsuccess=u,i.getAllKeys(e,n).onsuccess=c}function d(m){var p=m.target.result;if(!p)return r();r([p.key],[p.value],p)}s?(a={continue:f},i.getAll(e,n).onsuccess=u,i.getAllKeys(e,n).onsuccess=c):t?i.openCursor(e,"prev").onsuccess=d:i.openCursor(e).onsuccess=d}function Vse(i,e,t){if(typeof i.getAll=="function"){i.getAll(e).onsuccess=t;return}var n=[];function r(s){var l=s.target.result;l?(n.push(l.value),l.continue()):t({target:{result:n}})}i.openCursor(e).onsuccess=r}function Gse(i,e,t){var n=new Array(i.length),r=0;i.forEach(function(s,l){e.get(s).onsuccess=function(o){o.target.result?n[l]=o.target.result:n[l]={key:s,error:"not_found"},r++,r===i.length&&t(i,n,{})}})}function Zse(i,e,t,n,r){try{if(i&&e)return r?IDBKeyRange.bound(e,i,!t,!1):IDBKeyRange.bound(i,e,!1,!t);if(i)return r?IDBKeyRange.upperBound(i):IDBKeyRange.lowerBound(i);if(e)return r?IDBKeyRange.lowerBound(e,!t):IDBKeyRange.upperBound(e,!t);if(n)return IDBKeyRange.only(n)}catch(s){return{error:s}}return null}function xse(i,e,t){var n="startkey"in i?i.startkey:!1,r="endkey"in i?i.endkey:!1,s="key"in i?i.key:!1,l="keys"in i?i.keys:!1,o=i.skip||0,a=typeof i.limit=="number"?i.limit:-1,u=i.inclusive_end!==!1,c,f;if(!l&&(c=Zse(n,r,u,s,i.descending),f=c&&c.error,f&&!(f.name==="DataError"&&f.code===0)))return t(rn(ov,f.name,f.message));var d=[Pi,Gi,yr];i.attachments&&d.push(ss);var m=Fs(e,d,"readonly");if(m.error)return t(m.error);var p=m.txn;p.oncomplete=K,p.onabort=xs(t);var g=p.objectStore(Pi),k=p.objectStore(Gi),$=p.objectStore(yr),D=k.index("_doc_id_rev"),F=[],C,S;$.get(yr).onsuccess=function(G){C=G.target.result.docCount},i.update_seq&&P(k,function(G){G.target.result&&G.target.result.length>0&&(S=G.target.result[0])});function P(G,U){function Q(V){var x=V.target.result,ee=void 0;return x&&x.key&&(ee=x.key),U({target:{result:[ee]}})}G.openCursor(null,"prev").onsuccess=Q}function I(G,U,Q){var V=G.id+"::"+Q;D.get(V).onsuccess=function(ee){if(U.doc=_m(ee.target.result)||{},i.conflicts){var J=gv(G);J.length&&(U.doc._conflicts=J)}eL(U.doc,i,p)}}function R(G,U){var Q={id:U.id,key:U.id,value:{rev:G}},V=U.deleted;V?l&&(F.push(Q),Q.value.deleted=!0,Q.doc=null):o--<=0&&(F.push(Q),i.include_docs&&I(U,Q,G))}function B(G){for(var U=0,Q=G.length;U<Q&&F.length!==a;U++){var V=G[U];if(V.error&&l){F.push(V);continue}var x=Ea(V),ee=x.winningRev;R(ee,x)}}function z(G,U,Q){!Q||(B(U),F.length<a&&Q.continue())}function q(G){var U=G.target.result;i.descending&&(U=U.reverse()),B(U)}function H(){var G={total_rows:C,offset:i.skip,rows:F};i.update_seq&&S!==void 0&&(G.update_seq=S),t(null,G)}function K(){i.attachments?_1(F,i.binary).then(H):H()}if(!(f||a===0)){if(l)return Gse(i.keys,g,z);if(a===-1)return Vse(g,c,q);nL(g,c,i.descending,a+o,z)}}function Xse(i){return new Promise(function(e){var t=fv([""]),n=i.objectStore(m1).put(t,"key");n.onsuccess=function(){var r=navigator.userAgent.match(/Chrome\/(\d+)/),s=navigator.userAgent.match(/Edge\//);e(s||!r||parseInt(r[1],10)>=43)},n.onerror=i.onabort=function(r){r.preventDefault(),r.stopPropagation(),e(!1)}}).catch(function(){return!1})}function Kse(i,e){var t=i.objectStore(Pi).index("deletedOrLocal");t.count(IDBKeyRange.only("0")).onsuccess=function(n){e(n.target.result)}}var g1=!1,v1=[];function Jse(i,e,t,n){try{i(e,t)}catch(r){n.emit("error",r)}}function iw(){g1||!v1.length||(g1=!0,v1.shift()())}function Qse(i,e,t){v1.push(function(){i(function(s,l){Jse(e,s,l,t),g1=!1,cl(function(){iw()})})}),iw()}function ele(i,e,t,n){if(i=zi(i),i.continuous){var r=t+":"+Pp();return Pf.addListener(t,r,e,i),Pf.notify(t),{cancel:function(){Pf.removeListener(t,r)}}}var s=i.doc_ids&&new ic(i.doc_ids);i.since=i.since||0;var l=i.since,o="limit"in i?i.limit:-1;o===0&&(o=1);var a=[],u=0,c=av(i),f=new Nr,d,m,p,g;function k(R,B,z){if(!z||!R.length)return;var q=new Array(R.length),H=new Array(R.length);function K(Q,V){var x=i.processChange(V,Q,i);l=x.seq=Q.seq;var ee=c(x);return typeof ee=="object"?Promise.reject(ee):ee?(u++,i.return_docs&&a.push(x),i.attachments&&i.include_docs?new Promise(function(J){eL(V,i,d,function(){_1([x],i.binary).then(function(){J(x)})})}):Promise.resolve(x)):Promise.resolve()}function G(){for(var Q=[],V=0,x=q.length;V<x&&u!==o;V++){var ee=q[V];if(!!ee){var J=H[V];Q.push(K(J,ee))}}Promise.all(Q).then(function(se){for(var te=0,ge=se.length;te<ge;te++)se[te]&&i.onChange(se[te])}).catch(i.complete),u!==o&&z.continue()}var U=0;B.forEach(function(Q,V){var x=_m(Q),ee=R[V];D(x,ee,function(J,se){H[V]=J,q[V]=se,++U===R.length&&G()})})}function $(R,B,z,q){if(z.seq!==B)return q();if(z.winningRev===R._rev)return q(z,R);var H=R._id+"::"+z.winningRev,K=g.get(H);K.onsuccess=function(G){q(z,_m(G.target.result))}}function D(R,B,z){if(s&&!s.has(R._id))return z();var q=f.get(R._id);if(q)return $(R,B,q,z);p.get(R._id).onsuccess=function(H){q=Ea(H.target.result),f.set(R._id,q),$(R,B,q,z)}}function F(){i.complete(null,{results:a,last_seq:l})}function C(){!i.continuous&&i.attachments?_1(a).then(F):F()}var S=[Pi,Gi];i.attachments&&S.push(ss);var P=Fs(n,S,"readonly");if(P.error)return i.complete(P.error);d=P.txn,d.onabort=xs(i.complete),d.oncomplete=C,m=d.objectStore(Gi),p=d.objectStore(Pi),g=m.index("_doc_id_rev");var I=i.since&&!i.descending?IDBKeyRange.lowerBound(i.since,!0):null;nL(m,I,i.descending,o,k)}var wu=new Nr,K_,J_=new Nr;function iL(i,e){var t=this;Qse(function(n){tle(t,i,n)},e,t.constructor)}function tle(i,e,t){var n=e.name,r=null,s=null;i._meta=null;function l(k){return function($,D){$&&$ instanceof Error&&!$.reason&&s&&($.reason=s),k($,D)}}function o(k){var $=k.createObjectStore(Pi,{keyPath:"id"});k.createObjectStore(Gi,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),k.createObjectStore(ss,{keyPath:"digest"}),k.createObjectStore(yr,{keyPath:"id",autoIncrement:!1}),k.createObjectStore(m1),$.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),k.createObjectStore(Hs,{keyPath:"_id"});var D=k.createObjectStore(Fa,{autoIncrement:!0});D.createIndex("seq","seq"),D.createIndex("digestSeq","digestSeq",{unique:!0})}function a(k,$){var D=k.objectStore(Pi);D.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),D.openCursor().onsuccess=function(F){var C=F.target.result;if(C){var S=C.value,P=Ll(S);S.deletedOrLocal=P?"1":"0",D.put(S),C.continue()}else $()}}function u(k){k.createObjectStore(Hs,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}function c(k,$){var D=k.objectStore(Hs),F=k.objectStore(Pi),C=k.objectStore(Gi),S=F.openCursor();S.onsuccess=function(P){var I=P.target.result;if(I){var R=I.value,B=R.id,z=za(B),q=Ba(R);if(z){var H=B+"::"+q,K=B+"::",G=B+"::~",U=C.index("_doc_id_rev"),Q=IDBKeyRange.bound(K,G,!1,!1),V=U.openCursor(Q);V.onsuccess=function(x){if(V=x.target.result,!V)F.delete(I.primaryKey),I.continue();else{var ee=V.value;ee._doc_id_rev===H&&D.put(ee),C.delete(V.primaryKey),V.continue()}}}else I.continue()}else $&&$()}}function f(k){var $=k.createObjectStore(Fa,{autoIncrement:!0});$.createIndex("seq","seq"),$.createIndex("digestSeq","digestSeq",{unique:!0})}function d(k,$){var D=k.objectStore(Gi),F=k.objectStore(ss),C=k.objectStore(Fa),S=F.count();S.onsuccess=function(P){var I=P.target.result;if(!I)return $();D.openCursor().onsuccess=function(R){var B=R.target.result;if(!B)return $();for(var z=B.value,q=B.primaryKey,H=Object.keys(z._attachments||{}),K={},G=0;G<H.length;G++){var U=z._attachments[H[G]];K[U.digest]=!0}var Q=Object.keys(K);for(G=0;G<Q.length;G++){var V=Q[G];C.put({seq:q,digestSeq:V+"::"+q})}B.continue()}}}function m(k){function $(S){return S.data?Ea(S):(S.deleted=S.deletedOrLocal==="1",S)}var D=k.objectStore(Gi),F=k.objectStore(Pi),C=F.openCursor();C.onsuccess=function(S){var P=S.target.result;if(!P)return;var I=$(P.value);I.winningRev=I.winningRev||Ba(I);function R(){var z=I.id+"::",q=I.id+"::\uFFFF",H=D.index("_doc_id_rev").openCursor(IDBKeyRange.bound(z,q)),K=0;H.onsuccess=function(G){var U=G.target.result;if(!U)return I.seq=K,B();var Q=U.primaryKey;Q>K&&(K=Q),U.continue()}}function B(){var z=p1(I,I.winningRev,I.deleted),q=F.put(z);q.onsuccess=function(){P.continue()}}if(I.seq)return B();R()}}i._remote=!1,i.type=function(){return"idb"},i._id=TM(function(k){k(null,i._meta.instanceId)}),i._bulkDocs=function($,D,F){Wse(e,$,D,i,r,l(F))},i._get=function($,D,F){var C,S,P,I=D.ctx;if(!I){var R=Fs(r,[Pi,Gi,ss],"readonly");if(R.error)return F(R.error);I=R.txn}function B(){F(P,{doc:C,metadata:S,ctx:I})}I.objectStore(Pi).get($).onsuccess=function(z){if(S=Ea(z.target.result),!S)return P=rn(Es,"missing"),B();var q;if(D.rev)q=D.latest?Bre(D.rev,S):D.rev;else{q=S.winningRev;var H=Ll(S);if(H)return P=rn(Es,"deleted"),B()}var K=I.objectStore(Gi),G=S.id+"::"+q;K.index("_doc_id_rev").get(G).onsuccess=function(U){if(C=U.target.result,C&&(C=_m(C)),!C)return P=rn(Es,"missing"),B();B()}}},i._getAttachment=function(k,$,D,F,C){var S;if(F.ctx)S=F.ctx;else{var P=Fs(r,[Pi,Gi,ss],"readonly");if(P.error)return C(P.error);S=P.txn}var I=D.digest,R=D.content_type;S.objectStore(ss).get(I).onsuccess=function(B){var z=B.target.result.body;QM(z,R,F.binary,function(q){C(null,q)})}},i._info=function($){var D,F,C=Fs(r,[yr,Gi],"readonly");if(C.error)return $(C.error);var S=C.txn;S.objectStore(yr).get(yr).onsuccess=function(P){F=P.target.result.docCount},S.objectStore(Gi).openCursor(null,"prev").onsuccess=function(P){var I=P.target.result;D=I?I.key:0},S.oncomplete=function(){$(null,{doc_count:F,update_seq:D,idb_attachment_format:i._meta.blobSupport?"binary":"base64"})}},i._allDocs=function($,D){xse($,r,l(D))},i._changes=function($){return ele($,i,n,r)},i._close=function(k){r.close(),wu.delete(n),k()},i._getRevisionTree=function(k,$){var D=Fs(r,[Pi],"readonly");if(D.error)return $(D.error);var F=D.txn,C=F.objectStore(Pi).get(k);C.onsuccess=function(S){var P=Ea(S.target.result);P?$(null,P.rev_tree):$(rn(Es))}},i._doCompaction=function(k,$,D){var F=[Pi,Gi,ss,Fa],C=Fs(r,F,"readwrite");if(C.error)return D(C.error);var S=C.txn,P=S.objectStore(Pi);P.get(k).onsuccess=function(I){var R=Ea(I.target.result);Qa(R.rev_tree,function(q,H,K,G,U){var Q=H+"-"+K;$.indexOf(Q)!==-1&&(U.status="missing")}),tL($,k,S);var B=R.winningRev,z=R.deleted;S.objectStore(Pi).put(p1(R,B,z))},S.onabort=xs(D),S.oncomplete=function(){D()}},i._getLocal=function(k,$){var D=Fs(r,[Hs],"readonly");if(D.error)return $(D.error);var F=D.txn,C=F.objectStore(Hs).get(k);C.onerror=xs($),C.onsuccess=function(S){var P=S.target.result;P?(delete P._doc_id_rev,$(null,P)):$(rn(Es))}},i._putLocal=function(k,$,D){typeof $=="function"&&(D=$,$={}),delete k._revisions;var F=k._rev,C=k._id;F?k._rev="0-"+(parseInt(F.split("-")[1],10)+1):k._rev="0-1";var S=$.ctx,P;if(!S){var I=Fs(r,[Hs],"readwrite");if(I.error)return D(I.error);S=I.txn,S.onerror=xs(D),S.oncomplete=function(){P&&D(null,P)}}var R=S.objectStore(Hs),B;F?(B=R.get(C),B.onsuccess=function(z){var q=z.target.result;if(!q||q._rev!==F)D(rn(rc));else{var H=R.put(k);H.onsuccess=function(){P={ok:!0,id:k._id,rev:k._rev},$.ctx&&D(null,P)}}}):(B=R.add(k),B.onerror=function(z){D(rn(rc)),z.preventDefault(),z.stopPropagation()},B.onsuccess=function(){P={ok:!0,id:k._id,rev:k._rev},$.ctx&&D(null,P)})},i._removeLocal=function(k,$,D){typeof $=="function"&&(D=$,$={});var F=$.ctx;if(!F){var C=Fs(r,[Hs],"readwrite");if(C.error)return D(C.error);F=C.txn,F.oncomplete=function(){S&&D(null,S)}}var S,P=k._id,I=F.objectStore(Hs),R=I.get(P);R.onerror=xs(D),R.onsuccess=function(B){var z=B.target.result;!z||z._rev!==k._rev?D(rn(Es)):(I.delete(P),S={ok:!0,id:P,rev:"0-0"},$.ctx&&D(null,S))}},i._destroy=function(k,$){Pf.removeAllListeners(n);var D=J_.get(n);D&&D.result&&(D.result.close(),wu.delete(n));var F=indexedDB.deleteDatabase(n);F.onsuccess=function(){J_.delete(n),Sp()&&n in localStorage&&delete localStorage[n],$(null,{ok:!0})},F.onerror=xs($)};var p=wu.get(n);if(p)return r=p.idb,i._meta=p.global,cl(function(){t(null,i)});var g=indexedDB.open(n,Use);J_.set(n,g),g.onupgradeneeded=function(k){var $=k.target.result;if(k.oldVersion<1)return o($);var D=k.currentTarget.transaction;k.oldVersion<3&&u($),k.oldVersion<4&&f($);var F=[a,c,d,m],C=k.oldVersion;function S(){var P=F[C-1];C++,P&&P(D,S)}S()},g.onsuccess=function(k){r=k.target.result,r.onversionchange=function(){r.close(),wu.delete(n)},r.onabort=function(B){fs("error","Database has a global failure",B.target.error),s=B.target.error,r.close(),wu.delete(n)};var $=r.transaction([yr,m1,Pi],"readwrite"),D=!1,F,C,S,P;function I(){typeof S>"u"||!D||(i._meta={name:n,instanceId:P,blobSupport:S},wu.set(n,{idb:r,global:i._meta}),t(null,i))}function R(){if(!(typeof C>"u"||typeof F>"u")){var B=n+"_id";B in F?P=F[B]:F[B]=P=Pp(),F.docCount=C,$.objectStore(yr).put(F)}}$.objectStore(yr).get(yr).onsuccess=function(B){F=B.target.result||{id:yr},R()},Kse($,function(B){C=B,R()}),K_||(K_=Xse($)),K_.then(function(B){S=B,I()}),$.oncomplete=function(){D=!0,I()},$.onabort=xs(t)},g.onerror=function(k){var $=k.target.error&&k.target.error.message;$?$.indexOf("stored database is a higher version")!==-1&&($=new Error('This DB was created with the newer "indexeddb" adapter, but you are trying to open it with the older "idb" adapter')):$="Failed to open indexedDB, are you in private browsing mode?",fs("error",$),t(rn(ov,$))}}iL.valid=function(){try{return typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}};function nle(i){i.adapter("idb",iL,!0)}function ile(i,e){return new Promise(function(t,n){var r=0,s=0,l=0,o=i.length,a;function u(){r++,i[s++]().then(f,d)}function c(){++l===o?a?n(a):t():m()}function f(){r--,c()}function d(p){r--,a=a||p,c()}function m(){for(;r<e&&s<o;)u()}m()})}var rle=25,sle=50,yh=5e3,lle=1e4,Q_={};function eg(i){var e=i.doc||i.ok,t=e&&e._attachments;!t||Object.keys(t).forEach(function(n){var r=t[n];r.data=hv(r.data,r.content_type)})}function da(i){return/^_design/.test(i)?"_design/"+encodeURIComponent(i.slice(8)):/^_local/.test(i)?"_local/"+encodeURIComponent(i.slice(7)):encodeURIComponent(i)}function rw(i){return!i._attachments||!Object.keys(i._attachments)?Promise.resolve():Promise.all(Object.keys(i._attachments).map(function(e){var t=i._attachments[e];if(t.data&&typeof t.data!="string")return new Promise(function(n){mv(t.data,n)}).then(function(n){t.data=n})}))}function ole(i){if(!i.prefix)return!1;var e=IM(i.prefix).protocol;return e==="http"||e==="https"}function ale(i,e){if(ole(e)){var t=e.name.substr(e.prefix.length),n=e.prefix.replace(/\/?$/,"/");i=n+encodeURIComponent(t)}var r=IM(i);(r.user||r.password)&&(r.auth={username:r.user,password:r.password});var s=r.path.replace(/(^\/|\/$)/g,"").split("/");return r.db=s.pop(),r.db.indexOf("%")===-1&&(r.db=encodeURIComponent(r.db)),r.path=s.join("/"),r}function Bi(i,e){return Qh(i,i.db+"/"+e)}function Qh(i,e){var t=i.path?"/":"";return i.protocol+"://"+i.host+(i.port?":"+i.port:"")+"/"+i.path+t+e}function wh(i){return"?"+Object.keys(i).map(function(e){return e+"="+encodeURIComponent(i[e])}).join("&")}function ule(i){var e=typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.toLowerCase():"",t=e.indexOf("msie")!==-1,n=e.indexOf("trident")!==-1,r=e.indexOf("edge")!==-1,s=!("method"in i)||i.method==="GET";return(t||n||r)&&s}function b1(i,e){var t=this,n=ale(i.name,i),r=Bi(n,"");i=zi(i);var s=function(f,d){if(d=d||{},d.headers=d.headers||new Yu,d.credentials="include",i.auth||n.auth){var m=i.auth||n.auth,p=m.username+":"+m.password,g=Td(unescape(encodeURIComponent(p)));d.headers.set("Authorization","Basic "+g)}var k=i.headers||{};Object.keys(k).forEach(function(D){d.headers.append(D,k[D])}),ule(d)&&(f+=(f.indexOf("?")===-1?"?":"&")+"_nonce="+Date.now());var $=i.fetch||WM;return $(f,d)};function l(f,d){return Li(f,Tc(function(m){u().then(function(){return d.apply(this,m)}).catch(function(p){var g=m.pop();g(p)})})).bind(t)}function o(f,d,m){var p={};return d=d||{},d.headers=d.headers||new Yu,d.headers.get("Content-Type")||d.headers.set("Content-Type","application/json"),d.headers.get("Accept")||d.headers.set("Accept","application/json"),s(f,d).then(function(g){return p.ok=g.ok,p.status=g.status,g.json()}).then(function(g){if(p.data=g,!p.ok){p.data.status=p.status;var k=sc(p.data);if(m)return m(k);throw k}if(Array.isArray(p.data)&&(p.data=p.data.map(function($){return $.error||$.missing?sc($):$})),m)m(null,p.data);else return p})}var a;function u(){return i.skip_setup?Promise.resolve():a||(a=o(r).catch(function(f){return f&&f.status&&f.status===404?(a1(404,"PouchDB is just detecting if the remote exists."),o(r,{method:"PUT"})):Promise.reject(f)}).catch(function(f){return f&&f.status&&f.status===412?!0:Promise.reject(f)}),a.catch(function(){a=null}),a)}cl(function(){e(null,t)}),t._remote=!0,t.type=function(){return"http"},t.id=l("id",function(f){s(Qh(n,"")).then(function(d){return d.json()}).catch(function(){return{}}).then(function(d){var m=d&&d.uuid?d.uuid+n.db:Bi(n,"");f(null,m)})}),t.compact=l("compact",function(f,d){typeof f=="function"&&(d=f,f={}),f=zi(f),o(Bi(n,"_compact"),{method:"POST"}).then(function(){function m(){t.info(function(p,g){g&&!g.compact_running?d(null,{ok:!0}):setTimeout(m,f.interval||200)})}m()})}),t.bulkGet=Li("bulkGet",function(f,d){var m=this;function p(D){var F={};f.revs&&(F.revs=!0),f.attachments&&(F.attachments=!0),f.latest&&(F.latest=!0),o(Bi(n,"_bulk_get"+wh(F)),{method:"POST",body:JSON.stringify({docs:f.docs})}).then(function(C){f.attachments&&f.binary&&C.data.results.forEach(function(S){S.docs.forEach(eg)}),D(null,C.data)}).catch(D)}function g(){var D=sle,F=Math.ceil(f.docs.length/D),C=0,S=new Array(F);function P(B){return function(z,q){S[B]=q.results,++C===F&&d(null,{results:mm(S)})}}for(var I=0;I<F;I++){var R=Sd(f,["revs","attachments","binary","latest"]);R.docs=f.docs.slice(I*D,Math.min(f.docs.length,(I+1)*D)),AM(m,R,P(I))}}var k=Qh(n,""),$=Q_[k];typeof $!="boolean"?p(function(D,F){D?(Q_[k]=!1,a1(D.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),g()):(Q_[k]=!0,d(null,F))}):$?p(d):g()}),t._info=function(f){u().then(function(){return s(Bi(n,""))}).then(function(d){return d.json()}).then(function(d){d.host=Bi(n,""),f(null,d)}).catch(f)},t.fetch=function(f,d){return u().then(function(){var m=f.substring(0,1)==="/"?Qh(n,f.substring(1)):Bi(n,f);return s(m,d)})},t.get=l("get",function(f,d,m){typeof d=="function"&&(m=d,d={}),d=zi(d);var p={};d.revs&&(p.revs=!0),d.revs_info&&(p.revs_info=!0),d.latest&&(p.latest=!0),d.open_revs&&(d.open_revs!=="all"&&(d.open_revs=JSON.stringify(d.open_revs)),p.open_revs=d.open_revs),d.rev&&(p.rev=d.rev),d.conflicts&&(p.conflicts=d.conflicts),d.update_seq&&(p.update_seq=d.update_seq),f=da(f);function g(D){var F=D._attachments,C=F&&Object.keys(F);if(!F||!C.length)return;function S(I){var R=F[I],B=da(D._id)+"/"+c(I)+"?rev="+D._rev;return s(Bi(n,B)).then(function(z){return"buffer"in z?z.buffer():z.blob()}).then(function(z){if(d.binary){var q=Object.getOwnPropertyDescriptor(z.__proto__,"type");return(!q||q.set)&&(z.type=R.content_type),z}return new Promise(function(H){mv(z,H)})}).then(function(z){delete R.stub,delete R.length,R.data=z})}var P=C.map(function(I){return function(){return S(I)}});return ile(P,5)}function k(D){return Array.isArray(D)?Promise.all(D.map(function(F){if(F.ok)return g(F.ok)})):g(D)}var $=Bi(n,f+wh(p));o($).then(function(D){return Promise.resolve().then(function(){if(d.attachments)return k(D.data)}).then(function(){m(null,D.data)})}).catch(function(D){D.docId=f,m(D)})}),t.remove=l("remove",function(f,d,m,p){var g;typeof d=="string"?(g={_id:f,_rev:d},typeof m=="function"&&(p=m,m={})):(g=f,typeof d=="function"?(p=d,m={}):(p=m,m=d));var k=g._rev||m.rev,$=Bi(n,da(g._id))+"?rev="+k;o($,{method:"DELETE"},p).catch(p)});function c(f){return f.split("/").map(encodeURIComponent).join("/")}t.getAttachment=l("getAttachment",function(f,d,m,p){typeof m=="function"&&(p=m,m={});var g=m.rev?"?rev="+m.rev:"",k=Bi(n,da(f))+"/"+c(d)+g,$;s(k,{method:"GET"}).then(function(D){if($=D.headers.get("content-type"),D.ok)return typeof process<"u"&&!process.browser&&typeof D.buffer=="function"?D.buffer():D.blob();throw D}).then(function(D){if(typeof process<"u"&&!process.browser){var F=Object.getOwnPropertyDescriptor(D.__proto__,"type");(!F||F.set)&&(D.type=$)}p(null,D)}).catch(function(D){p(D)})}),t.removeAttachment=l("removeAttachment",function(f,d,m,p){var g=Bi(n,da(f)+"/"+c(d))+"?rev="+m;o(g,{method:"DELETE"},p).catch(p)}),t.putAttachment=l("putAttachment",function(f,d,m,p,g,k){typeof g=="function"&&(k=g,g=p,p=m,m=null);var $=da(f)+"/"+c(d),D=Bi(n,$);if(m&&(D+="?rev="+m),typeof p=="string"){var F;try{F=cv(p)}catch{return k(rn(MM,"Attachment is not a valid base64 string"))}p=F?dv(F,g):""}o(D,{headers:new Yu({"Content-Type":g}),method:"PUT",body:p},k).catch(k)}),t._bulkDocs=function(f,d,m){f.new_edits=d.new_edits,u().then(function(){return Promise.all(f.docs.map(rw))}).then(function(){return o(Bi(n,"_bulk_docs"),{method:"POST",body:JSON.stringify(f)},m)}).catch(m)},t._put=function(f,d,m){u().then(function(){return rw(f)}).then(function(){return o(Bi(n,da(f._id)),{method:"PUT",body:JSON.stringify(f)})}).then(function(p){m(null,p.data)}).catch(function(p){p.docId=f&&f._id,m(p)})},t.allDocs=l("allDocs",function(f,d){typeof f=="function"&&(d=f,f={}),f=zi(f);var m={},p,g="GET";f.conflicts&&(m.conflicts=!0),f.update_seq&&(m.update_seq=!0),f.descending&&(m.descending=!0),f.include_docs&&(m.include_docs=!0),f.attachments&&(m.attachments=!0),f.key&&(m.key=JSON.stringify(f.key)),f.start_key&&(f.startkey=f.start_key),f.startkey&&(m.startkey=JSON.stringify(f.startkey)),f.end_key&&(f.endkey=f.end_key),f.endkey&&(m.endkey=JSON.stringify(f.endkey)),typeof f.inclusive_end<"u"&&(m.inclusive_end=!!f.inclusive_end),typeof f.limit<"u"&&(m.limit=f.limit),typeof f.skip<"u"&&(m.skip=f.skip);var k=wh(m);typeof f.keys<"u"&&(g="POST",p={keys:f.keys}),o(Bi(n,"_all_docs"+k),{method:g,body:JSON.stringify(p)}).then(function($){f.include_docs&&f.attachments&&f.binary&&$.data.rows.forEach(eg),d(null,$.data)}).catch(d)}),t._changes=function(f){var d="batch_size"in f?f.batch_size:rle;f=zi(f),f.continuous&&!("heartbeat"in f)&&(f.heartbeat=lle);var m="timeout"in f?f.timeout:30*1e3;"timeout"in f&&f.timeout&&m-f.timeout<yh&&(m=f.timeout+yh),"heartbeat"in f&&f.heartbeat&&m-f.heartbeat<yh&&(m=f.heartbeat+yh);var p={};"timeout"in f&&f.timeout&&(p.timeout=f.timeout);var g=typeof f.limit<"u"?f.limit:!1,k=g;if(f.style&&(p.style=f.style),(f.include_docs||f.filter&&typeof f.filter=="function")&&(p.include_docs=!0),f.attachments&&(p.attachments=!0),f.continuous&&(p.feed="longpoll"),f.seq_interval&&(p.seq_interval=f.seq_interval),f.conflicts&&(p.conflicts=!0),f.descending&&(p.descending=!0),f.update_seq&&(p.update_seq=!0),"heartbeat"in f&&f.heartbeat&&(p.heartbeat=f.heartbeat),f.filter&&typeof f.filter=="string"&&(p.filter=f.filter),f.view&&typeof f.view=="string"&&(p.filter="_view",p.view=f.view),f.query_params&&typeof f.query_params=="object")for(var $ in f.query_params)Object.prototype.hasOwnProperty.call(f.query_params,$)&&(p[$]=f.query_params[$]);var D="GET",F;f.doc_ids?(p.filter="_doc_ids",D="POST",F={doc_ids:f.doc_ids}):f.selector&&(p.filter="_selector",D="POST",F={selector:f.selector});var C=new Gre,S,P=function(B,z){if(!f.aborted){p.since=B,typeof p.since=="object"&&(p.since=JSON.stringify(p.since)),f.descending?g&&(p.limit=k):p.limit=!g||k>d?d:k;var q=Bi(n,"_changes"+wh(p)),H={signal:C.signal,method:D,body:JSON.stringify(F)};S=B,!f.aborted&&u().then(function(){return o(q,H,z)}).catch(z)}},I={results:[]},R=function(B,z){if(!f.aborted){var q=0;if(z&&z.results){q=z.results.length,I.last_seq=z.last_seq;var H=null,K=null;typeof z.pending=="number"&&(H=z.pending),(typeof I.last_seq=="string"||typeof I.last_seq=="number")&&(K=I.last_seq);var G={};G.query=f.query_params,z.results=z.results.filter(function(Q){k--;var V=av(f)(Q);return V&&(f.include_docs&&f.attachments&&f.binary&&eg(Q),f.return_docs&&I.results.push(Q),f.onChange(Q,H,K)),V})}else if(B){f.aborted=!0,f.complete(B);return}z&&z.last_seq&&(S=z.last_seq);var U=g&&k<=0||z&&q<d||f.descending;f.continuous&&!(g&&k<=0)||!U?cl(function(){P(S,R)}):f.complete(null,I)}};return P(f.since||0,R),{cancel:function(){f.aborted=!0,C.abort()}}},t.revsDiff=l("revsDiff",function(f,d,m){typeof d=="function"&&(m=d,d={}),o(Bi(n,"_revs_diff"),{method:"POST",body:JSON.stringify(f)},m).catch(m)}),t._close=function(f){f()},t._destroy=function(f,d){o(Bi(n,""),{method:"DELETE"}).then(function(m){d(null,m)}).catch(function(m){m.status===404?d(null,{ok:!0}):d(m)})}}b1.valid=function(){return!0};function cle(i){i.adapter("http",b1,!1),i.adapter("https",b1,!1)}function ka(i){this.status=400,this.name="query_parse_error",this.message=i,this.error=!0;try{Error.captureStackTrace(this,ka)}catch{}}xr.exports(ka,Error);function Np(i){this.status=404,this.name="not_found",this.message=i,this.error=!0;try{Error.captureStackTrace(this,Np)}catch{}}xr.exports(Np,Error);function Mp(i){this.status=500,this.name="invalid_value",this.message=i,this.error=!0;try{Error.captureStackTrace(this,Mp)}catch{}}xr.exports(Mp,Error);function rL(i,e){return e&&i.then(function(t){cl(function(){e(null,t)})},function(t){cl(function(){e(t)})}),i}function fle(i){return Tc(function(e){var t=e.pop(),n=i.apply(this,e);return typeof t=="function"&&rL(n,t),n})}function dle(i,e){return i.then(function(t){return e().then(function(){return t})},function(t){return e().then(function(){throw t})})}function tg(i,e){return function(){var t=arguments,n=this;return i.add(function(){return e.apply(n,t)})}}function sw(i){var e=new ic(i),t=new Array(e.size),n=-1;return e.forEach(function(r){t[++n]=r}),t}function ng(i){var e=new Array(i.size),t=-1;return i.forEach(function(n,r){e[++t]=r}),e}function lw(i){var e="builtin "+i+" function requires map values to be numbers or number arrays";return new Mp(e)}function k1(i){for(var e=0,t=0,n=i.length;t<n;t++){var r=i[t];if(typeof r!="number")if(Array.isArray(r)){e=typeof e=="number"?[e]:e;for(var s=0,l=r.length;s<l;s++){var o=r[s];if(typeof o!="number")throw lw("_sum");typeof e[s]>"u"?e.push(o):e[s]+=o}}else throw lw("_sum");else typeof e=="number"?e+=r:e[0]+=r}return e}var hle=fs.bind(null,"log"),mle=Array.isArray,ple=JSON.parse;function sL(i,e){return uv("return ("+i.replace(/;\s*$/,"")+");",{emit:e,sum:k1,log:hle,isArray:mle,toJSON:ple})}function Qf(){this.promise=new Promise(function(i){i()})}Qf.prototype.add=function(i){return this.promise=this.promise.catch(function(){}).then(function(){return i()}),this.promise};Qf.prototype.finish=function(){return this.promise};function ow(i){if(!i)return"undefined";switch(typeof i){case"function":return i.toString();case"string":return i.toString();default:return JSON.stringify(i)}}function _le(i,e){return ow(i)+ow(e)+"undefined"}function aw(i,e,t,n,r,s){var l=_le(t,n),o;if(!r&&(o=i._cachedViews=i._cachedViews||{},o[l]))return o[l];var a=i.info().then(function(u){var c=u.db_name+"-mrview-"+(r?"temp":RM(l));function f(d){d.views=d.views||{};var m=e;m.indexOf("/")===-1&&(m=e+"/"+e);var p=d.views[m]=d.views[m]||{};if(!p[c])return p[c]=!0,d}return Ap(i,"_local/"+s,f).then(function(){return i.registerDependentDatabase(c).then(function(d){var m=d.db;m.auto_compaction=!0;var p={name:c,db:m,sourceDB:i,adapter:i.adapter,mapFun:t,reduceFun:n};return p.db.get("_local/lastSeq").catch(function(g){if(g.status!==404)throw g}).then(function(g){return p.seq=g?g.seq:0,o&&p.db.once("destroyed",function(){delete o[l]}),p})})})});return o&&(o[l]=a),a}var uw={},cw=new Qf,gle=50;function ig(i){return i.indexOf("/")===-1?[i,i]:i.split("/")}function vle(i){return i.length===1&&/^1-/.test(i[0].rev)}function fw(i,e,t){try{i.emit("error",e)}catch{fs("error",`The user's map/reduce function threw an uncaught error.
You can debug this error by doing:
myDatabase.on('error', function (err) { debugger; });
Please double-check your map/reduce function.`),fs("error",e,t)}}function ble(i,e,t,n){function r(V,x,ee){try{x(ee)}catch(J){fw(V,J,{fun:x,doc:ee})}}function s(V,x,ee,J,se){try{return{output:x(ee,J,se)}}catch(te){return fw(V,te,{fun:x,keys:ee,values:J,rereduce:se}),{error:te}}}function l(V,x){var ee=Fi(V.key,x.key);return ee!==0?ee:Fi(V.value,x.value)}function o(V,x,ee){return ee=ee||0,typeof x=="number"?V.slice(ee,x+ee):ee>0?V.slice(ee):V}function a(V){var x=V.value,ee=x&&typeof x=="object"&&x._id||V.id;return ee}function u(V){V.rows.forEach(function(x){var ee=x.doc&&x.doc._attachments;!ee||Object.keys(ee).forEach(function(J){var se=ee[J];ee[J].data=hv(se.data,se.content_type)})})}function c(V){return function(x){return V.include_docs&&V.attachments&&V.binary&&u(x),x}}function f(V,x,ee,J){var se=x[V];typeof se<"u"&&(J&&(se=encodeURIComponent(JSON.stringify(se))),ee.push(V+"="+se))}function d(V){if(typeof V<"u"){var x=Number(V);return!isNaN(x)&&x===parseInt(V,10)?x:V}}function m(V){return V.group_level=d(V.group_level),V.limit=d(V.limit),V.skip=d(V.skip),V}function p(V){if(V){if(typeof V!="number")return new ka('Invalid value for integer: "'+V+'"');if(V<0)return new ka('Invalid value for positive integer: "'+V+'"')}}function g(V,x){var ee=V.descending?"endkey":"startkey",J=V.descending?"startkey":"endkey";if(typeof V[ee]<"u"&&typeof V[J]<"u"&&Fi(V[ee],V[J])>0)throw new ka("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(x.reduce&&V.reduce!==!1){if(V.include_docs)throw new ka("{include_docs:true} is invalid for reduce");if(V.keys&&V.keys.length>1&&!V.group&&!V.group_level)throw new ka("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(se){var te=p(V[se]);if(te)throw te})}function k(V,x,ee){var J=[],se,te="GET",ge,ae;if(f("reduce",ee,J),f("include_docs",ee,J),f("attachments",ee,J),f("limit",ee,J),f("descending",ee,J),f("group",ee,J),f("group_level",ee,J),f("skip",ee,J),f("stale",ee,J),f("conflicts",ee,J),f("startkey",ee,J,!0),f("start_key",ee,J,!0),f("endkey",ee,J,!0),f("end_key",ee,J,!0),f("inclusive_end",ee,J),f("key",ee,J,!0),f("update_seq",ee,J),J=J.join("&"),J=J===""?"":"?"+J,typeof ee.keys<"u"){var ve=2e3,Te="keys="+encodeURIComponent(JSON.stringify(ee.keys));Te.length+J.length+1<=ve?J+=(J[0]==="?"?"&":"?")+Te:(te="POST",typeof x=="string"?se={keys:ee.keys}:x.keys=ee.keys)}if(typeof x=="string"){var Pe=ig(x);return V.fetch("_design/"+Pe[0]+"/_view/"+Pe[1]+J,{headers:new Yu({"Content-Type":"application/json"}),method:te,body:JSON.stringify(se)}).then(function(pe){return ge=pe.ok,ae=pe.status,pe.json()}).then(function(pe){if(!ge)throw pe.status=ae,sc(pe);return pe.rows.forEach(function(Ie){if(Ie.value&&Ie.value.error&&Ie.value.error==="builtin_reduce_error")throw new Error(Ie.reason)}),pe}).then(c(ee))}return se=se||{},Object.keys(x).forEach(function(pe){Array.isArray(x[pe])?se[pe]=x[pe]:se[pe]=x[pe].toString()}),V.fetch("_temp_view"+J,{headers:new Yu({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(se)}).then(function(pe){return ge=pe.ok,ae=pe.status,pe.json()}).then(function(pe){if(!ge)throw pe.status=ae,sc(pe);return pe}).then(c(ee))}function $(V,x,ee){return new Promise(function(J,se){V._query(x,ee,function(te,ge){if(te)return se(te);J(ge)})})}function D(V){return new Promise(function(x,ee){V._viewCleanup(function(J,se){if(J)return ee(J);x(se)})})}function F(V){return function(x){if(x.status===404)return V;throw x}}function C(V,x,ee){var J="_local/doc_"+V,se={_id:J,keys:[]},te=ee.get(V),ge=te[0],ae=te[1];function ve(){return vle(ae)?Promise.resolve(se):x.db.get(J).catch(F(se))}function Te(pe){return pe.keys.length?x.db.allDocs({keys:pe.keys,include_docs:!0}):Promise.resolve({rows:[]})}function Pe(pe,Ie){for(var ye=[],st=new ic,dt=0,lt=Ie.rows.length;dt<lt;dt++){var vt=Ie.rows[dt],kt=vt.doc;if(!!kt&&(ye.push(kt),st.add(kt._id),kt._deleted=!ge.has(kt._id),!kt._deleted)){var Ze=ge.get(kt._id);"value"in Ze&&(kt.value=Ze.value)}}var bt=ng(ge);return bt.forEach(function(Yt){if(!st.has(Yt)){var sn={_id:Yt},Ln=ge.get(Yt);"value"in Ln&&(sn.value=Ln.value),ye.push(sn)}}),pe.keys=sw(bt.concat(pe.keys)),ye.push(pe),ye}return ve().then(function(pe){return Te(pe).then(function(Ie){return Pe(pe,Ie)})})}function S(V,x,ee){var J="_local/lastSeq";return V.db.get(J).catch(F({_id:J,seq:0})).then(function(se){var te=ng(x);return Promise.all(te.map(function(ge){return C(ge,V,x)})).then(function(ge){var ae=mm(ge);return se.seq=ee,ae.push(se),V.db.bulkDocs({docs:ae})})})}function P(V){var x=typeof V=="string"?V:V.name,ee=uw[x];return ee||(ee=uw[x]=new Qf),ee}function I(V,x){return tg(P(V),function(){return R(V,x)})()}function R(V,x){var ee,J;function se(dt,lt){var vt={id:J._id,key:Ra(dt)};typeof lt<"u"&&lt!==null&&(vt.value=Ra(lt)),ee.push(vt)}var te=e(V.mapFun,se),ge=V.seq||0;function ae(dt,lt){return function(){return S(V,dt,lt)}}let ve=0,Te={view:V.name,indexed_docs:ve};V.sourceDB.emit("indexing",Te);var Pe=new Qf;function pe(){return V.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:ge,limit:x.changes_batch_size}).then(Ie)}function Ie(dt){var lt=dt.results;if(!lt.length)return;var vt=ye(lt);Pe.add(ae(vt,ge)),ve=ve+lt.length;let kt={view:V.name,last_seq:dt.last_seq,results_count:lt.length,indexed_docs:ve};if(V.sourceDB.emit("indexing",kt),!(lt.length<x.changes_batch_size))return pe()}function ye(dt){for(var lt=new Nr,vt=0,kt=dt.length;vt<kt;vt++){var Ze=dt[vt];if(Ze.doc._id[0]!=="_"){ee=[],J=Ze.doc,J._deleted||r(V.sourceDB,te,J),ee.sort(l);var bt=st(ee);lt.set(Ze.doc._id,[bt,Ze.changes])}ge=Ze.seq}return lt}function st(dt){for(var lt=new Nr,vt,kt=0,Ze=dt.length;kt<Ze;kt++){var bt=dt[kt],Yt=[bt.key,bt.id];kt>0&&Fi(bt.key,vt)===0&&Yt.push(kt),lt.set($s(Yt),bt),vt=bt.key}return lt}return pe().then(function(){return Pe.finish()}).then(function(){V.seq=ge})}function B(V,x,ee){ee.group_level===0&&delete ee.group_level;var J=ee.group||ee.group_level,se=t(V.reduceFun),te=[],ge=isNaN(ee.group_level)?Number.POSITIVE_INFINITY:ee.group_level;x.forEach(function(pe){var Ie=te[te.length-1],ye=J?pe.key:null;if(J&&Array.isArray(ye)&&(ye=ye.slice(0,ge)),Ie&&Fi(Ie.groupKey,ye)===0){Ie.keys.push([pe.key,pe.id]),Ie.values.push(pe.value);return}te.push({keys:[[pe.key,pe.id]],values:[pe.value],groupKey:ye})}),x=[];for(var ae=0,ve=te.length;ae<ve;ae++){var Te=te[ae],Pe=s(V.sourceDB,se,Te.keys,Te.values,!1);if(Pe.error&&Pe.error instanceof Mp)throw Pe.error;x.push({value:Pe.error?null:Pe.output,key:Te.groupKey})}return{rows:o(x,ee.limit,ee.skip)}}function z(V,x){return tg(P(V),function(){return q(V,x)})()}function q(V,x){var ee,J=V.reduceFun&&x.reduce!==!1,se=x.skip||0;typeof x.keys<"u"&&!x.keys.length&&(x.limit=0,delete x.keys);function te(dt){return dt.include_docs=!0,V.db.allDocs(dt).then(function(lt){return ee=lt.total_rows,lt.rows.map(function(vt){if("value"in vt.doc&&typeof vt.doc.value=="object"&&vt.doc.value!==null){var kt=Object.keys(vt.doc.value).sort(),Ze=["id","key","value"];if(!(kt<Ze||kt>Ze))return vt.doc.value}var bt=cse(vt.doc._id);return{key:bt[0],id:bt[1],value:"value"in vt.doc?vt.doc.value:null}})})}function ge(dt){var lt;if(J?lt=B(V,dt,x):typeof x.keys>"u"?lt={total_rows:ee,offset:se,rows:dt}:lt={total_rows:ee,offset:se,rows:o(dt,x.limit,x.skip)},x.update_seq&&(lt.update_seq=V.seq),x.include_docs){var vt=sw(dt.map(a));return V.sourceDB.allDocs({keys:vt,include_docs:!0,conflicts:x.conflicts,attachments:x.attachments,binary:x.binary}).then(function(kt){var Ze=new Nr;return kt.rows.forEach(function(bt){Ze.set(bt.id,bt.doc)}),dt.forEach(function(bt){var Yt=a(bt),sn=Ze.get(Yt);sn&&(bt.doc=sn)}),lt})}else return lt}if(typeof x.keys<"u"){var ae=x.keys,ve=ae.map(function(dt){var lt={startkey:$s([dt]),endkey:$s([dt,{}])};return x.update_seq&&(lt.update_seq=!0),te(lt)});return Promise.all(ve).then(mm).then(ge)}else{var Te={descending:x.descending};x.update_seq&&(Te.update_seq=!0);var Pe,pe;if("start_key"in x&&(Pe=x.start_key),"startkey"in x&&(Pe=x.startkey),"end_key"in x&&(pe=x.end_key),"endkey"in x&&(pe=x.endkey),typeof Pe<"u"&&(Te.startkey=x.descending?$s([Pe,{}]):$s([Pe])),typeof pe<"u"){var Ie=x.inclusive_end!==!1;x.descending&&(Ie=!Ie),Te.endkey=$s(Ie?[pe,{}]:[pe])}if(typeof x.key<"u"){var ye=$s([x.key]),st=$s([x.key,{}]);Te.descending?(Te.endkey=ye,Te.startkey=st):(Te.startkey=ye,Te.endkey=st)}return J||(typeof x.limit=="number"&&(Te.limit=x.limit),Te.skip=se),te(Te).then(ge)}}function H(V){return V.fetch("_view_cleanup",{headers:new Yu({"Content-Type":"application/json"}),method:"POST"}).then(function(x){return x.json()})}function K(V){return V.get("_local/"+i).then(function(x){var ee=new Nr;Object.keys(x.views).forEach(function(se){var te=ig(se),ge="_design/"+te[0],ae=te[1],ve=ee.get(ge);ve||(ve=new ic,ee.set(ge,ve)),ve.add(ae)});var J={keys:ng(ee),include_docs:!0};return V.allDocs(J).then(function(se){var te={};se.rows.forEach(function(ve){var Te=ve.key.substring(8);ee.get(ve.key).forEach(function(Pe){var pe=Te+"/"+Pe;x.views[pe]||(pe=Pe);var Ie=Object.keys(x.views[pe]),ye=ve.doc&&ve.doc.views&&ve.doc.views[Pe];Ie.forEach(function(st){te[st]=te[st]||ye})})});var ge=Object.keys(te).filter(function(ve){return!te[ve]}),ae=ge.map(function(ve){return tg(P(ve),function(){return new V.constructor(ve,V.__opts).destroy()})()});return Promise.all(ae).then(function(){return{ok:!0}})})},F({ok:!0}))}function G(V,x,ee){if(typeof V._query=="function")return $(V,x,ee);if(fl(V))return k(V,x,ee);var J={changes_batch_size:V.__opts.view_update_changes_batch_size||gle};if(typeof x!="string")return g(ee,x),cw.add(function(){var ve=aw(V,"temp_view/temp_view",x.map,x.reduce,!0,i);return ve.then(function(Te){return dle(I(Te,J).then(function(){return z(Te,ee)}),function(){return Te.db.destroy()})})}),cw.finish();var se=x,te=ig(se),ge=te[0],ae=te[1];return V.get("_design/"+ge).then(function(ve){var Te=ve.views&&ve.views[ae];if(!Te)throw new Np("ddoc "+ve._id+" has no view named "+ae);n(ve,ae),g(ee,Te);var Pe=aw(V,se,Te.map,Te.reduce,!1,i);return Pe.then(function(pe){return ee.stale==="ok"||ee.stale==="update_after"?(ee.stale==="update_after"&&cl(function(){I(pe,J)}),z(pe,ee)):I(pe,J).then(function(){return z(pe,ee)})})})}function U(V,x,ee){var J=this;typeof x=="function"&&(ee=x,x={}),x=x?m(x):{},typeof V=="function"&&(V={map:V});var se=Promise.resolve().then(function(){return G(J,V,x)});return rL(se,ee),se}var Q=fle(function(){var V=this;return typeof V._viewCleanup=="function"?D(V):fl(V)?H(V):K(V)});return{query:U,viewCleanup:Q}}var rg={_sum:function(i,e){return k1(e)},_count:function(i,e){return e.length},_stats:function(i,e){function t(n){for(var r=0,s=0,l=n.length;s<l;s++){var o=n[s];r+=o*o}return r}return{sum:k1(e),min:Math.min.apply(null,e),max:Math.max.apply(null,e),count:e.length,sumsqr:t(e)}}};function kle(i){if(/^_sum/.test(i))return rg._sum;if(/^_count/.test(i))return rg._count;if(/^_stats/.test(i))return rg._stats;if(/^_/.test(i))throw new Error(i+" is not a supported reduce function.")}function yle(i,e){if(typeof i=="function"&&i.length===2){var t=i;return function(n){return t(n,e)}}else return sL(i.toString(),e)}function wle(i){var e=i.toString(),t=kle(e);return t||sL(e)}function $le(i,e){var t=i.views&&i.views[e];if(typeof t.map!="string")throw new Np("ddoc "+i._id+" has no string view named "+e+", instead found object of type: "+typeof t.map)}var Fle="mrviews",lL=ble(Fle,yle,wle,$le);function Ele(i,e,t){return lL.query.call(this,i,e,t)}function Dle(i){return lL.viewCleanup.call(this,i)}var Cle={query:Ele,viewCleanup:Dle};function dw(i){return/^1-/.test(i)}function Sle(i,e,t){return!i._attachments||!i._attachments[t]||i._attachments[t].digest!==e._attachments[t].digest}function hw(i,e){var t=Object.keys(e._attachments);return Promise.all(t.map(function(n){return i.getAttachment(e._id,n,{rev:e._rev})}))}function Tle(i,e,t){var n=fl(e)&&!fl(i),r=Object.keys(t._attachments);return n?i.get(t._id).then(function(s){return Promise.all(r.map(function(l){return Sle(s,t,l)?e.getAttachment(t._id,l):i.getAttachment(s._id,l)}))}).catch(function(s){if(s.status!==404)throw s;return hw(e,t)}):hw(e,t)}function Ale(i){var e=[];return Object.keys(i).forEach(function(t){var n=i[t].missing;n.forEach(function(r){e.push({id:t,rev:r})})}),{docs:e,revs:!0,latest:!0}}function Ple(i,e,t,n){t=zi(t);var r=[],s=!0;function l(){var d=Ale(t);if(!!d.docs.length)return i.bulkGet(d).then(function(m){if(n.cancelled)throw new Error("cancelled");return Promise.all(m.results.map(function(p){return Promise.all(p.docs.map(function(g){var k=g.ok;return g.error&&(s=!1),!k||!k._attachments?k:Tle(e,i,k).then(function($){var D=Object.keys(k._attachments);return $.forEach(function(F,C){var S=k._attachments[D[C]];delete S.stub,delete S.length,S.data=F}),k})}))})).then(function(p){r=r.concat(mm(p).filter(Boolean))})})}function o(d){return d._attachments&&Object.keys(d._attachments).length>0}function a(d){return d._conflicts&&d._conflicts.length>0}function u(d){return i.allDocs({keys:d,include_docs:!0,conflicts:!0}).then(function(m){if(n.cancelled)throw new Error("cancelled");m.rows.forEach(function(p){p.deleted||!p.doc||!dw(p.value.rev)||o(p.doc)||a(p.doc)||(p.doc._conflicts&&delete p.doc._conflicts,r.push(p.doc),delete t[p.id])})})}function c(){var d=Object.keys(t).filter(function(m){var p=t[m].missing;return p.length===1&&dw(p[0])});if(d.length>0)return u(d)}function f(){return{ok:s,docs:r}}return Promise.resolve().then(c).then(l).then(f)}var mw=1,pw="pouchdb",Nle=5,Ws=0;function yv(i,e,t,n,r){return i.get(e).catch(function(s){if(s.status===404)return(i.adapter==="http"||i.adapter==="https")&&a1(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:n,_id:e,history:[],replicator:pw,version:mw};throw s}).then(function(s){if(!r.cancelled&&s.last_seq!==t)return s.history=(s.history||[]).filter(function(l){return l.session_id!==n}),s.history.unshift({last_seq:t,session_id:n}),s.history=s.history.slice(0,Nle),s.version=mw,s.replicator=pw,s.session_id=n,s.last_seq=t,i.put(s).catch(function(l){if(l.status===409)return yv(i,e,t,n,r);throw l})})}function Nd(i,e,t,n,r){this.src=i,this.target=e,this.id=t,this.returnValue=n,this.opts=r||{}}Nd.prototype.writeCheckpoint=function(i,e){var t=this;return this.updateTarget(i,e).then(function(){return t.updateSource(i,e)})};Nd.prototype.updateTarget=function(i,e){return this.opts.writeTargetCheckpoint?yv(this.target,this.id,i,e,this.returnValue):Promise.resolve(!0)};Nd.prototype.updateSource=function(i,e){if(this.opts.writeSourceCheckpoint){var t=this;return yv(this.src,this.id,i,e,this.returnValue).catch(function(n){if(aL(n))return t.opts.writeSourceCheckpoint=!1,!0;throw n})}else return Promise.resolve(!0)};var _w={undefined:function(i,e){return Fi(i.last_seq,e.last_seq)===0?e.last_seq:0},1:function(i,e){return Mle(e,i).last_seq}};Nd.prototype.getCheckpoint=function(){var i=this;return i.opts&&i.opts.writeSourceCheckpoint&&!i.opts.writeTargetCheckpoint?i.src.get(i.id).then(function(e){return e.last_seq||Ws}).catch(function(e){if(e.status!==404)throw e;return Ws}):i.target.get(i.id).then(function(e){return i.opts&&i.opts.writeTargetCheckpoint&&!i.opts.writeSourceCheckpoint?e.last_seq||Ws:i.src.get(i.id).then(function(t){if(e.version!==t.version)return Ws;var n;return e.version?n=e.version.toString():n="undefined",n in _w?_w[n](e,t):Ws},function(t){if(t.status===404&&e.last_seq)return i.src.put({_id:i.id,last_seq:Ws}).then(function(){return Ws},function(n){return aL(n)?(i.opts.writeSourceCheckpoint=!1,e.last_seq):Ws});throw t})}).catch(function(e){if(e.status!==404)throw e;return Ws})};function Mle(i,e){return i.session_id===e.session_id?{last_seq:i.last_seq,history:i.history}:oL(i.history,e.history)}function oL(i,e){var t=i[0],n=i.slice(1),r=e[0],s=e.slice(1);if(!t||e.length===0)return{last_seq:Ws,history:[]};var l=t.session_id;if(y1(l,e))return{last_seq:t.last_seq,history:i};var o=r.session_id;return y1(o,n)?{last_seq:r.last_seq,history:s}:oL(n,s)}function y1(i,e){var t=e[0],n=e.slice(1);return!i||e.length===0?!1:i===t.session_id?!0:y1(i,n)}function aL(i){return typeof i.status=="number"&&Math.floor(i.status/100)===4}var gw=0;function Lle(i,e,t,n){if(i.retry===!1){e.emit("error",t),e.removeAllListeners();return}if(typeof i.back_off_function!="function"&&(i.back_off_function=are),e.emit("requestError",t),e.state==="active"||e.state==="pending"){e.emit("paused",t),e.state="stopped";var r=function(){i.current_back_off=gw},s=function(){e.removeListener("active",r)};e.once("paused",s),e.once("active",r)}i.current_back_off=i.current_back_off||gw,i.current_back_off=i.back_off_function(i.current_back_off),setTimeout(n,i.current_back_off)}function Ole(i){return Object.keys(i).sort(Fi).reduce(function(e,t){return e[t]=i[t],e},{})}function Ile(i,e,t){var n=t.doc_ids?t.doc_ids.sort(Fi):"",r=t.filter?t.filter.toString():"",s="",l="",o="";return t.selector&&(o=JSON.stringify(t.selector)),t.filter&&t.query_params&&(s=JSON.stringify(Ole(t.query_params))),t.filter&&t.filter==="_view"&&(l=t.view.toString()),Promise.all([i.id(),e.id()]).then(function(a){var u=a[0]+a[1]+r+l+s+n+o;return new Promise(function(c){pv(u,c)})}).then(function(a){return a=a.replace(/\//g,".").replace(/\+/g,"_"),"_local/"+a})}function uL(i,e,t,n,r){var s=[],l,o={seq:0,changes:[],docs:[]},a=!1,u=!1,c=!1,f=0,d=t.continuous||t.live||!1,m=t.batch_size||100,p=t.batches_limit||10,g=t.style||"all_docs",k=!1,$=t.doc_ids,D=t.selector,F,C,S=[],P=Pp();r=r||{ok:!0,start_time:new Date().toISOString(),docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var I={};n.ready(i,e);function R(){return C?Promise.resolve():Ile(i,e,t).then(function(ge){F=ge;var ae={};t.checkpoint===!1?ae={writeSourceCheckpoint:!1,writeTargetCheckpoint:!1}:t.checkpoint==="source"?ae={writeSourceCheckpoint:!0,writeTargetCheckpoint:!1}:t.checkpoint==="target"?ae={writeSourceCheckpoint:!1,writeTargetCheckpoint:!0}:ae={writeSourceCheckpoint:!0,writeTargetCheckpoint:!0},C=new Nd(i,e,F,n,ae)})}function B(){if(S=[],l.docs.length!==0){var ge=l.docs,ae={timeout:t.timeout};return e.bulkDocs({docs:ge,new_edits:!1},ae).then(function(ve){if(n.cancelled)throw Q(),new Error("cancelled");var Te=Object.create(null);ve.forEach(function(pe){pe.error&&(Te[pe.id]=pe)});var Pe=Object.keys(Te).length;r.doc_write_failures+=Pe,r.docs_written+=ge.length-Pe,ge.forEach(function(pe){var Ie=Te[pe._id];if(Ie){r.errors.push(Ie);var ye=(Ie.name||"").toLowerCase();if(ye==="unauthorized"||ye==="forbidden")n.emit("denied",zi(Ie));else throw Ie}else S.push(pe)})},function(ve){throw r.doc_write_failures+=ge.length,ve})}}function z(){if(l.error)throw new Error("There was a problem getting docs.");r.last_seq=f=l.seq;var ge=zi(r);return S.length&&(ge.docs=S,typeof l.pending=="number"&&(ge.pending=l.pending,delete l.pending),n.emit("change",ge)),a=!0,C.writeCheckpoint(l.seq,P).then(function(){if(n.emit("checkpoint",{checkpoint:l.seq}),a=!1,n.cancelled)throw Q(),new Error("cancelled");l=void 0,J()}).catch(function(ae){throw te(ae),ae})}function q(){var ge={};return l.changes.forEach(function(ae){n.emit("checkpoint",{revs_diff:ae}),ae.id!=="_user/"&&(ge[ae.id]=ae.changes.map(function(ve){return ve.rev}))}),e.revsDiff(ge).then(function(ae){if(n.cancelled)throw Q(),new Error("cancelled");l.diffs=ae})}function H(){return Ple(i,e,l.diffs,n).then(function(ge){l.error=!ge.ok,ge.docs.forEach(function(ae){delete l.diffs[ae._id],r.docs_read++,l.docs.push(ae)})})}function K(){if(!(n.cancelled||l)){if(s.length===0){G(!0);return}l=s.shift(),n.emit("checkpoint",{start_next_batch:l.seq}),q().then(H).then(B).then(z).then(K).catch(function(ge){U("batch processing terminated with error",ge)})}}function G(ge){if(o.changes.length===0){s.length===0&&!l&&((d&&I.live||u)&&(n.state="pending",n.emit("paused")),u&&Q());return}(ge||u||o.changes.length>=m)&&(s.push(o),o={seq:0,changes:[],docs:[]},(n.state==="pending"||n.state==="stopped")&&(n.state="active",n.emit("active")),K())}function U(ge,ae){c||(ae.message||(ae.message=ge),r.ok=!1,r.status="aborting",s=[],o={seq:0,changes:[],docs:[]},Q(ae))}function Q(ge){if(!c&&!(n.cancelled&&(r.status="cancelled",a)))if(r.status=r.status||"complete",r.end_time=new Date().toISOString(),r.last_seq=f,c=!0,ge){ge=rn(ge),ge.result=r;var ae=(ge.name||"").toLowerCase();ae==="unauthorized"||ae==="forbidden"?(n.emit("error",ge),n.removeAllListeners()):Lle(t,n,ge,function(){uL(i,e,t,n)})}else n.emit("complete",r),n.removeAllListeners()}function V(ge,ae,ve){if(n.cancelled)return Q();typeof ae=="number"&&(o.pending=ae);var Te=av(t)(ge);!Te||(o.seq=ge.seq||ve,o.changes.push(ge),n.emit("checkpoint",{pending_batch:o.seq}),cl(function(){G(s.length===0&&I.live)}))}function x(ge){if(k=!1,n.cancelled)return Q();if(ge.results.length>0)I.since=ge.results[ge.results.length-1].seq,J(),G(!0);else{var ae=function(){d?(I.live=!0,J()):u=!0,G(!0)};!l&&ge.results.length===0?(a=!0,C.writeCheckpoint(ge.last_seq,P).then(function(){a=!1,r.last_seq=f=ge.last_seq,ae()}).catch(te)):ae()}}function ee(ge){if(k=!1,n.cancelled)return Q();U("changes rejected",ge)}function J(){if(!(!k&&!u&&s.length<p))return;k=!0;function ge(){ve.cancel()}function ae(){n.removeListener("cancel",ge)}n._changes&&(n.removeListener("cancel",n._abortChanges),n._changes.cancel()),n.once("cancel",ge);var ve=i.changes(I).on("change",V);ve.then(ae,ae),ve.then(x).catch(ee),t.retry&&(n._changes=ve,n._abortChanges=ge)}function se(){R().then(function(){if(n.cancelled){Q();return}return C.getCheckpoint().then(function(ge){f=ge,I={since:f,limit:m,batch_size:m,style:g,doc_ids:$,selector:D,return_docs:!0},t.filter&&(typeof t.filter!="string"?I.include_docs=!0:I.filter=t.filter),"heartbeat"in t&&(I.heartbeat=t.heartbeat),"timeout"in t&&(I.timeout=t.timeout),t.query_params&&(I.query_params=t.query_params),t.view&&(I.view=t.view),J()})}).catch(function(ge){U("getCheckpoint rejected with ",ge)})}function te(ge){a=!1,U("writeCheckpoint completed with error",ge)}if(n.cancelled){Q();return}n._addedListeners||(n.once("cancel",Q),typeof t.complete=="function"&&(n.once("error",t.complete),n.once("complete",function(ge){t.complete(null,ge)})),n._addedListeners=!0),typeof t.since>"u"?se():R().then(function(){return a=!0,C.writeCheckpoint(t.since,P)}).then(function(){if(a=!1,n.cancelled){Q();return}f=t.since,se()}).catch(te)}xr.exports(Lp,ar.exports);function Lp(){ar.exports.call(this),this.cancelled=!1,this.state="pending";var i=this,e=new Promise(function(t,n){i.once("complete",t),i.once("error",n)});i.then=function(t,n){return e.then(t,n)},i.catch=function(t){return e.catch(t)},i.catch(function(){})}Lp.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")};Lp.prototype.ready=function(i,e){var t=this;if(t._readyCalled)return;t._readyCalled=!0;function n(){t.cancel()}i.once("destroyed",n),e.once("destroyed",n);function r(){i.removeListener("destroyed",n),e.removeListener("destroyed",n)}t.once("complete",r),t.once("error",r)};function gm(i,e){var t=e.PouchConstructor;return typeof i=="string"?new t(i,e):i}function w1(i,e,t,n){if(typeof t=="function"&&(n=t,t={}),typeof t>"u"&&(t={}),t.doc_ids&&!Array.isArray(t.doc_ids))throw rn(Tp,"`doc_ids` filter parameter is not a list.");t.complete=n,t=zi(t),t.continuous=t.continuous||t.live,t.retry="retry"in t?t.retry:!1,t.PouchConstructor=t.PouchConstructor||this;var r=new Lp,s=gm(i,t),l=gm(e,t);return uL(s,l,t,r),r}xr.exports(wv,ar.exports);function Ble(i,e,t,n){return typeof t=="function"&&(n=t,t={}),typeof t>"u"&&(t={}),t=zi(t),t.PouchConstructor=t.PouchConstructor||this,i=gm(i,t),e=gm(e,t),new wv(i,e,t,n)}function wv(i,e,t,n){var r=this;this.canceled=!1;var s=t.push?Ia({},t,t.push):t,l=t.pull?Ia({},t,t.pull):t;this.push=w1(i,e,s),this.pull=w1(e,i,l),this.pushPaused=!0,this.pullPaused=!0;function o(F){r.emit("change",{direction:"pull",change:F})}function a(F){r.emit("change",{direction:"push",change:F})}function u(F){r.emit("denied",{direction:"push",doc:F})}function c(F){r.emit("denied",{direction:"pull",doc:F})}function f(){r.pushPaused=!0,r.pullPaused&&r.emit("paused")}function d(){r.pullPaused=!0,r.pushPaused&&r.emit("paused")}function m(){r.pushPaused=!1,r.pullPaused&&r.emit("active",{direction:"push"})}function p(){r.pullPaused=!1,r.pushPaused&&r.emit("active",{direction:"pull"})}var g={};function k(F){return function(C,S){var P=C==="change"&&(S===o||S===a),I=C==="denied"&&(S===c||S===u),R=C==="paused"&&(S===d||S===f),B=C==="active"&&(S===p||S===m);(P||I||R||B)&&(C in g||(g[C]={}),g[C][F]=!0,Object.keys(g[C]).length===2&&r.removeAllListeners(C))}}t.live&&(this.push.on("complete",r.pull.cancel.bind(r.pull)),this.pull.on("complete",r.push.cancel.bind(r.push)));function $(F,C,S){F.listeners(C).indexOf(S)==-1&&F.on(C,S)}this.on("newListener",function(F){F==="change"?($(r.pull,"change",o),$(r.push,"change",a)):F==="denied"?($(r.pull,"denied",c),$(r.push,"denied",u)):F==="active"?($(r.pull,"active",p),$(r.push,"active",m)):F==="paused"&&($(r.pull,"paused",d),$(r.push,"paused",f))}),this.on("removeListener",function(F){F==="change"?(r.pull.removeListener("change",o),r.push.removeListener("change",a)):F==="denied"?(r.pull.removeListener("denied",c),r.push.removeListener("denied",u)):F==="active"?(r.pull.removeListener("active",p),r.push.removeListener("active",m)):F==="paused"&&(r.pull.removeListener("paused",d),r.push.removeListener("paused",f))}),this.pull.on("removeListener",k("pull")),this.push.on("removeListener",k("push"));var D=Promise.all([this.push,this.pull]).then(function(F){var C={push:F[0],pull:F[1]};return r.emit("complete",C),n&&n(null,C),r.removeAllListeners(),C},function(F){if(r.cancel(),n?n(F):r.emit("error",F),r.removeAllListeners(),n)throw F});this.then=function(F,C){return D.then(F,C)},this.catch=function(F){return D.catch(F)}}wv.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())};function zle(i){i.replicate=w1,i.sync=Ble,Object.defineProperty(i.prototype,"replicate",{get:function(){var e=this;return typeof this.replicateMethods>"u"&&(this.replicateMethods={from:function(t,n,r){return e.constructor.replicate(t,e,n,r)},to:function(t,n,r){return e.constructor.replicate(e,t,n,r)}}),this.replicateMethods}}),i.prototype.sync=function(e,t,n){return this.constructor.sync(this,e,t,n)}}Xt.plugin(nle).plugin(cle).plugin(Cle).plugin(zle);class cL{constructor(e){Ne(this,"url");Ne(this,"syncEnabled");Ne(this,"username");Ne(this,"password");Ne(this,"dbPrefix");Ne(this,"database");Ne(this,"_dirty");e=e||{},this.url=e.url?new URL(e.url):null,e.host&&(this.url=new URL(e.host)),e.valid&&(this.syncEnabled=!0),this.username=e.username||null,this.password=e.password||null,this.dbPrefix=e.dbPrefix||"",this.database=e.database||"nomie",this.syncEnabled=e.syncEnabled||!1}setURL(e){try{this.url=new URL(e),this._dirty=!1}catch(t){console.error("Set URL error",t.message)}return this}isValid(){return this.url}getURL(){this.url}auth(){return btoa(`${this.username}:${this.password}`)}}let vw=[],$u={},Rle,sg="nomie6-pouch";const jle={name:"PouchDB",syncValid:!1,description:"Stored locally, with CouchDB Syncing support",authRequired:!1,remote:null,sync:!1,dbKey:sg,syncing:!1,syncer:null,db:new Xt(sg,{auto_compaction:!0,ajax:{cache:!1}}),basePath(i){return"/"},onReady(i){i(this)},fireReady(){vw.forEach(i=>{i()}),vw=[]},remoteToUrl(){let i=this.getRemote();if(i.isValid()){let e=i.url;return e.pathname=`/${i.database}`,e.toString()}else return null},onChange(i){this.syncing=!0,i.direction=="pull"&&i.change.docs.forEach(e=>{$u.hasOwnProperty(e._id)&&$u[e._id].forEach(t=>{t(e.data)})})},onPaused(i){this.syncing=!1},onError(i){Xe.alert(_e.t("sync.error","Sync Error"),i.message),console.error(i),this.syncing=!1},stopSync(){if(this.syncer){this.syncer.cancel(),this.syncing=!1;let i=this.getRemote();i.syncEnabled=!1,this.saveRemote(i)}},startSync(){let i=this.getRemote(),e=0,t=this.remoteToUrl(),n=this;if(t){let r={live:!0,retry:!0,ajax:{cache:!1},batch_size:10};(i.username||i.password)&&(r.auth={username:i.username,password:i.password}),this.syncer=Xt.sync(sg,t,r),this.syncer.catch(s=>{console.error(`Catch error in syncer ${s.message}`),this.syncing=!1}).then(s=>{n.syncing=!0,n.syncValid=!0}),this.syncer.on("complete",this.onChange).on("change",this.onChange).on("paused",this.onPaused).on("error",s=>{this.onError(s),e++,e>10&&alert("Something bad is going on")})}},getRemote(){return this.remote=new cL(Vt.local.get("pouchdb-remote")),this.remote},saveRemote(i){this.remote=i,Vt.local.put("pouchdb-remote",i)},init(){return this.getRemote(),this.sync=this.remote.sync,this.remote.syncEnabled&&setTimeout(()=>{this.startSync()},500),this.fireReady()},info(){return{sync:Rle}},async getProfile(){return{username:"Local User"}},async put(i,e){let t={_id:i,data:e},n=await this.getFullDoc(i);try{return n?this.db.put({...n,...t}):this.db.put(t)}catch(r){console.error(r),Xe.error(r.message)}},async getFullDoc(i){let e=null;try{e=await this.db.get(i)}catch{}return e},async get(i,e){e&&($u[i]||[]).indexOf(e)==-1&&($u[i]=$u[i]||[],$u[i].push(e));let t=null;try{let n=await this.getFullDoc(i);t=n?n.data:null}catch{}return t},async list(){let i=await this.db.allDocs();return(i?i.rows:[]).map(t=>t.id)},async delete(i){let e=await this.getFullDoc(i);return e?await this.db.remove(e):null}},Op=[{id:"local",name:"Local Only",shortName:"Local",description:"Data is stored on this device only.",price:"FREE",multipleDevices:!1,engine:Nie},{id:"pouchdb",name:"CouchDB",shortName:"CouchDB",description:"Sync to your own CouchDB server",price:"FREE",multipleDevices:!1,engine:jle,advanced:!0}],Yle=i=>Op.find(e=>e.id==i),fL={};Op.map(i=>{fL[i.id]=i.engine});const dL={engines:fL,engine:rk(),storageType(){return this.engine||this._storageType()||"local"},convertPath(i){const e=this.getEngine();return e.convertPath?e.convertPath(i):i},_storageType(){return rk()},setType(i){O0(i)},getEngine(){try{return this.engines[this.storageType()]}catch(i){return console.error("Error getting Engine"),console.error("e",i.message),null}},getProfile(){return this.getEngine().getProfile()},onReady(i){return this.getEngine().onReady(i)},async init(){try{return this.getEngine().init()}catch(i){await Xe.confirm("Error loading this storage engine",`${i}.
 Restart with Local Storage?`)&&Tie()}},async get(i,e=null){return await this.getEngine().get(i,e)},async put(i,e){return await this.getEngine().put(i,e).catch(t=>{throw t})},async putBinary(i,e){return await this.getEngine().putBinary(i,e)},async delete(i){return await this.getEngine().delete(i)},async list(){return await this.getEngine().list()},local:{get(i){return JSON.parse(localStorage.getItem(`storage/${i}`)||"null")},put(i,e){return localStorage.setItem(`storage/${i}`,JSON.stringify(e))},remove(i){return localStorage.removeItem(`storage/${i}`)}},SideStore:N0},Vt=dL;window.NStorage=dL;const $v=(i,e)=>{const t={},{update:n,subscribe:r,set:s}=Bt(t);let l={};const o=async p=>{const g=await Vt.get(i)||{};return l=p||{},Object.keys(g).forEach(k=>{e.itemInitializer&&(g[k]=e.itemInitializer(g[k],k))}),n(k=>g),e.initialized&&e.initialized(g,l),g},a=async p=>{const g=p;return Object.keys(g).map(k=>{const $=e.itemSerializer?e.itemSerializer(g[k]):p[k];g[k]=$}),await Vt.put(i,g),p};return{init:o,upsert:async p=>{let g;return n(k=>{const $=p[e.key];return k[$]=e.itemInitializer?e.itemInitializer(p):p,g=k,k}),await a(g)},upsertMany:async p=>{let g;return n(k=>(Object.keys(p).forEach($=>{const D=p[$];k[$]=e.itemInitializer?e.itemInitializer(D):D}),g=k,k)),await a(g)},remove:async p=>{let g;return n(k=>{let $=p[e.key];return $&&k[$]&&delete k[$],g=k,k}),await a(g)},update:n,updateSync:async p=>{let g;return n(k=>(g=p(k),g)),await a(g)},subscribe:r,set:s,rawState:()=>{let p;return n(g=>(p=g,g)),p}}};var Ta={},Ip={},bw=6e4,Ule=function(e){var t=new Date(e.getTime()),n=t.getTimezoneOffset();t.setSeconds(0,0);var r=t.getTime()%bw;return n*bw+r};function qle(i){return i instanceof Date}var hL=qle,lg=Ule,Hle=hL,og=36e5,$1=6e4,Wle=2,Vle=/[T ]/,Gle=/:/,Zle=/^(\d{2})$/,xle=[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],Xle=/^(\d{4})/,Kle=[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],Jle=/^-(\d{2})$/,Qle=/^-?(\d{3})$/,eoe=/^-?(\d{2})-?(\d{2})$/,toe=/^-?W(\d{2})$/,noe=/^-?W(\d{2})-?(\d{1})$/,ioe=/^(\d{2}([.,]\d*)?)$/,roe=/^(\d{2}):?(\d{2}([.,]\d*)?)$/,soe=/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,loe=/([Z+-].*)$/,ooe=/^(Z)$/,aoe=/^([+-])(\d{2})$/,uoe=/^([+-])(\d{2}):?(\d{2})$/;function coe(i,e){if(Hle(i))return new Date(i.getTime());if(typeof i!="string")return new Date(i);var t=e||{},n=t.additionalDigits;n==null?n=Wle:n=Number(n);var r=foe(i),s=doe(r.date,n),l=s.year,o=s.restDateString,a=hoe(o,l);if(a){var u=a.getTime(),c=0,f;if(r.time&&(c=moe(r.time)),r.timezone)f=poe(r.timezone)*$1;else{var d=u+c,m=new Date(d);f=lg(m);var p=new Date(d);p.setDate(m.getDate()+1);var g=lg(p)-lg(m);g>0&&(f+=g)}return new Date(u+c+f)}else return new Date(i)}function foe(i){var e={},t=i.split(Vle),n;if(Gle.test(t[0])?(e.date=null,n=t[0]):(e.date=t[0],n=t[1]),n){var r=loe.exec(n);r?(e.time=n.replace(r[1],""),e.timezone=r[1]):e.time=n}return e}function doe(i,e){var t=xle[e],n=Kle[e],r;if(r=Xle.exec(i)||n.exec(i),r){var s=r[1];return{year:parseInt(s,10),restDateString:i.slice(s.length)}}if(r=Zle.exec(i)||t.exec(i),r){var l=r[1];return{year:parseInt(l,10)*100,restDateString:i.slice(l.length)}}return{year:null}}function hoe(i,e){if(e===null)return null;var t,n,r,s;if(i.length===0)return n=new Date(0),n.setUTCFullYear(e),n;if(t=Jle.exec(i),t)return n=new Date(0),r=parseInt(t[1],10)-1,n.setUTCFullYear(e,r),n;if(t=Qle.exec(i),t){n=new Date(0);var l=parseInt(t[1],10);return n.setUTCFullYear(e,0,l),n}if(t=eoe.exec(i),t){n=new Date(0),r=parseInt(t[1],10)-1;var o=parseInt(t[2],10);return n.setUTCFullYear(e,r,o),n}if(t=toe.exec(i),t)return s=parseInt(t[1],10)-1,kw(e,s);if(t=noe.exec(i),t){s=parseInt(t[1],10)-1;var a=parseInt(t[2],10)-1;return kw(e,s,a)}return null}function moe(i){var e,t,n;if(e=ioe.exec(i),e)return t=parseFloat(e[1].replace(",",".")),t%24*og;if(e=roe.exec(i),e)return t=parseInt(e[1],10),n=parseFloat(e[2].replace(",",".")),t%24*og+n*$1;if(e=soe.exec(i),e){t=parseInt(e[1],10),n=parseInt(e[2],10);var r=parseFloat(e[3].replace(",","."));return t%24*og+n*$1+r*1e3}return null}function poe(i){var e,t;return e=ooe.exec(i),e?0:(e=aoe.exec(i),e?(t=parseInt(e[2],10)*60,e[1]==="+"?-t:t):(e=uoe.exec(i),e?(t=parseInt(e[2],10)*60+parseInt(e[3],10),e[1]==="+"?-t:t):0))}function kw(i,e,t){e=e||0,t=t||0;var n=new Date(0);n.setUTCFullYear(i,0,4);var r=n.getUTCDay()||7,s=e*7+t+1-r;return n.setUTCDate(n.getUTCDate()+s),n}var Bp=coe,_oe=Bp;function goe(i){var e=_oe(i);return e.setHours(0,0,0,0),e}var Fv=goe,yw=Fv,ww=6e4,voe=864e5;function boe(i,e){var t=yw(i),n=yw(e),r=t.getTime()-t.getTimezoneOffset()*ww,s=n.getTime()-n.getTimezoneOffset()*ww;return Math.round((r-s)/voe)}var koe=boe,$w=Bp;function yoe(i,e){var t=$w(i),n=t.getTime(),r=$w(e),s=r.getTime();return n<s?-1:n>s?1:0}var woe=yoe,Fw=Bp,$oe=koe,Ew=woe;function Foe(i,e){var t=Fw(i),n=Fw(e),r=Ew(t,n),s=Math.abs($oe(t,n));t.setDate(t.getDate()-r*s);var l=Ew(t,n)===-r;return r*(s-l)}var Eoe=Foe,as={},Doe=Bp;function Coe(i,e){var t=Doe(i),n=Number(e);return t.setDate(t.getDate()+n),t}var mL=Coe,Soe=mL;function Toe(i,e){var t=Number(e);return Soe(i,-t)}var pL=Toe,Aoe=hL;function Poe(i){if(Aoe(i))return!isNaN(i);throw new TypeError(toString.call(i)+" is not an instance of Date")}var Noe=Poe;Object.defineProperty(as,"__esModule",{value:!0});as.getDatesParameter=as.sortDates=as.filterInvalidDates=as.relativeDates=void 0;var Moe=Fv,Nf=zp(Moe),Loe=pL,Ooe=zp(Loe),Ioe=mL,Boe=zp(Ioe),zoe=Noe,Roe=zp(zoe);function zp(i){return i&&i.__esModule?i:{default:i}}as.relativeDates=function(){return{today:(0,Nf.default)(new Date),yesterday:(0,Nf.default)((0,Ooe.default)(new Date,1)),tomorrow:(0,Nf.default)((0,Boe.default)(new Date,1))}};as.filterInvalidDates=function(e){return e.filter(function(t){return(0,Roe.default)(new Date(t))?new Date(t):console.error("The date '"+t+"' is not in a valid date format and date-streaks is ignoring it. Browsers do not consistently support this and this package's results may fail. Verify the array of dates you're passing to date-streaks are all valid date strings. http://momentjs.com/docs/#/parsing/string/")})};as.sortDates=function(e){return e.sort(function(t,n){return(0,Nf.default)(n)-(0,Nf.default)(t)}).reverse()};as.getDatesParameter=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Array.isArray(e))return e;var t=e.dates;return t||[]};Object.defineProperty(Ip,"__esModule",{value:!0});var joe=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},Yoe=Eoe,$h=Uoe(Yoe),Fh=as;function Uoe(i){return i&&i.__esModule?i:{default:i}}function qoe(i,e){var t={};for(var n in i)e.indexOf(n)>=0||!Object.prototype.hasOwnProperty.call(i,n)||(t[n]=i[n]);return t}function Hoe(i){if(Array.isArray(i)){for(var e=0,t=Array(i.length);e<i.length;e++)t[e]=i[e];return t}else return Array.from(i)}function Woe(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=(0,Fh.getDatesParameter)(i),t=(0,Fh.relativeDates)(),n=t.today,r=t.yesterday,s=(0,Fh.filterInvalidDates)(e),l=(0,Fh.sortDates)(s),o=l.reduce(function(u,c,f){var d=new Date(c),m=l[f+1]?new Date(l[f+1]):d,p=(0,$h.default)(m,d),g=u.isToday||(0,$h.default)(c,n)===0,k=u.isYesterday||(0,$h.default)(c,r)===0,$=u.isInFuture||(0,$h.default)(n,c)<0;return p===0?g&&(u.todayInStreak=!0):p===1?++u.streaks[u.streaks.length-1]:u.streaks.push(1),joe({},u,{longestStreak:Math.max.apply(Math,Hoe(u.streaks)),withinCurrentStreak:u.isToday||u.isYesterday||u.isInFuture||g||k||$,currentStreak:g||k||$?u.streaks[u.streaks.length-1]:0,isInFuture:$,isYesterday:k,isToday:g})},{currentStreak:0,longestStreak:0,streaks:[1],todayInStreak:!1,withinCurrentStreak:!1,isInFuture:!1,isToday:!1,isYesterday:!1});o.isToday,o.isYesterday,o.isInFuture;var a=qoe(o,["isToday","isYesterday","isInFuture"]);return a}Ip.default=Woe;var Ev={};Object.defineProperty(Ev,"__esModule",{value:!0});var Dw=as,Voe=Ip,Goe=Zoe(Voe);function Zoe(i){return i&&i.__esModule?i:{default:i}}function Cw(i){if(Array.isArray(i)){for(var e=0,t=Array(i.length);e<i.length;e++)t[e]=i[e];return t}else return Array.from(i)}function xoe(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=(0,Dw.getDatesParameter)(i);if(e.length===0)return[];var t=(0,Goe.default)({dates:e}),n=t.streaks,r=n===void 0?[]:n,s=[].concat(Cw((0,Dw.sortDates)(e)));return r.reduce(function(l,o){var a=void 0,u=void 0,c=s.slice(0,o);return s.splice(0,o),c&&c.length>1?(a=new Date(c[0]),u=new Date(c[c.length-1])):(a=new Date(c[0]),u=null),[].concat(Cw(l),[{start:a,end:u,duration:o}])},[]).reverse()}Ev.default=xoe;var Dv={};Object.defineProperty(Dv,"__esModule",{value:!0});var Xoe=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},Koe=Fv,Sw=_L(Koe),Joe=pL,Qoe=_L(Joe),eae=as;function _L(i){return i&&i.__esModule?i:{default:i}}function tae(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function nae(i){if(Array.isArray(i)){for(var e=0,t=Array(i.length);e<i.length;e++)t[e]=i[e];return t}else return Array.from(i)}var iae=function(e){var t=e.dates,n=t===void 0?[]:t,r=e.length,s=r===void 0?7:r,l=e.endDate,o=l===void 0?new Date:l,a=[].concat(nae(Array(s))).map(function(f,d){return(0,Sw.default)((0,Qoe.default)(o,d))}),u=(0,eae.sortDates)(n).map(function(f){return(0,Sw.default)(f).getTime()}),c=a.reduce(function(f,d){return f=Xoe({},f,tae({},d,u.includes(d.getTime()))),f},{});return c};Dv.default=iae;Object.defineProperty(Ta,"__esModule",{value:!0});Ta.trackRecord=Ta.streakRanges=Sv=Ta.summary=void 0;var rae=Ip,sae=Cv(rae),lae=Ev,oae=Cv(lae),aae=Dv,uae=Cv(aae);function Cv(i){return i&&i.__esModule?i:{default:i}}var Sv=Ta.summary=sae.default;Ta.streakRanges=oae.default;Ta.trackRecord=uae.default;class $r{constructor(e){Ne(this,"trackable");Ne(this,"values");Ne(this,"hours");Ne(this,"dates");Ne(this,"positivity");Ne(this,"displayValue");Ne(this,"groupedBy");Ne(this,"logs");Ne(this,"unitScores");Ne(this,"noteScores");this.trackable=new ri(e.trackable),this.values=e.values||[],this.dates=e.dates||[],this.displayValue=e.displayValue,this.hours=e.hours||[],this.groupedBy=e.groupedBy,this.logs=e.logs||[],this.positivity=e.positivity||[]}getTotalScore(e){return ht.sum((this.logs||[]).map(t=>Ja(t.note,t.end,e)))}get middleDate(){return new Date((this.dates[0].toDate().getTime()+this.dates[this.dates.length-1].toDate().getTime())/2)}get firstDate(){return this.logs.sort((e,t)=>e.end>t.end?1:-1)[0].end}get lastDate(){return this.logs.sort((e,t)=>e.end<t.end?1:-1)[0].end}groupBy(e,t,n=!1){const r=e;let s={};for(let c=0;c<this.dates.length;c++){let f=this.dates[c],d=we(f).format(t);s[d]=s[d]||{key:d,values:[],date:f,format:t};let m=isNaN(this.values[c])?NaN:this.values[c];s[d].values.push(m)}const l=Object.keys(s).map(c=>{let f=s[c].values.filter(d=>!isNaN(d)).length;return{dates:s[c].date,values:f>0?this.trackable.tallyValues(s[c].values):NaN}}),o=l.map(c=>c.values),a=l.map(c=>c.dates),u=(this.logs||[]).map(c=>c.score);return new $r({trackable:this.trackable,displayValue:this.displayValue,values:o,dates:a,groupedBy:r,noteScores:u,positivity:o.map((c,f)=>{var d;return n?0:this.trackable.tracker?(d=this.trackable.tracker)==null?void 0:d.calculateScore(c,a[f].toDate()):0})})}get total(){return this.trackable.tallyValues(this.values)}formatValue(e,t=!0){return this.trackable.tracker?this.trackable.tracker.displayValue(e,t):`${e}`}get totalDisplay(){try{return`${this.trackable.formatValue(this.total)}`}catch{return""}}get totalFormatted(){return this.totalDisplay}get totalOnly(){try{return`${this.trackable.formatValue(this.total,!1)}`}catch{return""}}get average(){return ht.average(this.values.filter(e=>!isNaN(e)))}get averaged(){const e=new $r(this),t=e.values.filter(r=>!isNaN(r)),n=ht.max(t);return e.values=e.values.map(r=>isNaN(r)?r:ht.percentage(n,r)),e}getMinMax(e){let t;e=="min"?t=ht.min(this.values):t=ht.max(this.values);let n=this.values.indexOf(t);if(n>-1)return{date:this.dates[n],value:this.values[n],display:this.trackable.formatValue(this.values[n])}}get max(){return this.getMinMax("max")}get min(){return this.getMinMax("min")}get byDay(){return this.groupBy("day","YYYY-MM-DD")}get streakSummary(){return Sv({dates:this.dates.map(e=>e.startOf("day").toDate())})}truncate(e,t){const n=[],r=[];return this.dates.map((s,l)=>{s.unix()<=t.unix()&&s.unix()>=e.unix()&&(n.push(this.values[l]),r.push(this.dates[l]))}),new $r({trackable:this.trackable,displayValue:this.displayValue,values:n,dates:r,groupedBy:this.groupedBy})}reverse(){let e=new $r(this);return e.values=[...this.values].reverse(),e.dates=[...this.dates].reverse(),e.positivity=[...this.positivity].reverse(),e}backfill(e,t){if(!e&&!this.dates.length)return new $r({trackable:this.trackable,displayValue:this.displayValue,values:this.values,dates:this.dates,groupedBy:this.groupedBy});const n=we(e||this.dates[0]),r=we(t||this.dates[this.dates.length-1]);let s,l;l=n.toDate().getTime()>r.toDate().getTime()?n:r,s=n.toDate().getTime()<r.toDate().getTime()?n:r;const o=this.groupedBy||"day",a=cN(s.toDate(),l.toDate(),o),u=a.map(d=>we(d.date)),c=a.map(()=>NaN),f=(tV[o]||{}).keyFormat;if(!f)throw new Error(`Could not find calendar groupby ${o}`);return u.forEach((d,m)=>{const p=this.dates.findIndex(g=>we(g).format(f)===we(d).format(f));p>-1&&(c[m]=this.values[p])}),new $r({trackable:this.trackable,displayValue:this.displayValue,values:c,dates:u,groupedBy:o,positivity:c.map((d,m)=>{var p;return this.trackable.tracker?(p=this.trackable.tracker)==null?void 0:p.calculateScore(d,u[m].toDate()):0})})}}const cae=(i,e)=>{const t=[],n=i.getTrackables();return e.forEach(r=>{n.find(s=>s.tag===r.tag)&&t.push(1)}),t.length==e.length},Tw=(i,e)=>i.filter(t=>{let n=!0;return e.trackables&&(n=cae(t,e.trackables)),n&&e.start&&(n=t.end.getTime()>=e.start.toDate().getTime()),n&&e.end&&(n=t.end.getTime()<=e.end.toDate().getTime()),n});function Ms(i,e={}){let t={};return i.sort((n,r)=>n.end>r.end?1:-1).forEach(n=>{t=fae(n,t,e)}),t}function fae(i,e={},t={}){const n=e;return i.getTrackables(t.trackables||{}).forEach(r=>{const s=n[r.tag],l=parseInt(we(new Date(i.end)).format("HH"));{if(s){const o=nc(r.value)?Nn(`${r.value||0}`):1,a=r.tracker?Wf(o,r.tracker):0;if(n[r.tag]){const u=n[r.tag];u.values.push(o),u.hours.push(l),u.logs.push(i),u.positivity.push(a),u.dates.push(i.endDayjs())}}else{const o=nc(r.value)?Nn(`${r.value||0}`):1,a=r.tracker?Wf(o,r.tracker):0,u=new $r({trackable:r,values:[o],hours:[l],dates:[i.endDayjs()],logs:[i],positivity:[a]});n[r.tag]=n[r.tag]||u}n[r.tag].displayValue=r.formatValue(r.tallyValues(n[r.tag].values))}}),n}const dae=(i,e,t=new Date)=>{var m,p;const r={tag:i.tag},s=new Date(i.last.d),l=new Date(e.d),o=((m=i.max)==null?void 0:m.v)||0,a=((p=i.min)==null?void 0:p.v)||0,u=e.v||0,c=e.v||0;s>=l?r.last=i.last:r.last=e,o>=u?r.max=i.max:r.max=e,a<=c?r.min=i.min:r.min=e,i.longest=i.longest||{v:0,d:void 0};const{streak:f,longest:d}=hae(e,i.streak,i.longest,t);return r.streak=f,r.longest=d,r},hae=(i,e,t,n=new Date)=>{let r=we(e.d);const s={...e},l={...t};return r.format("YYYY-MM-DD")===we(n).format("YYYY-MM-DD")?s.v=s.v||1:r.startOf("day").format("YYYY-MM-DD")===we(n).startOf("day").subtract(1,"day").format("YYYY-MM-DD")?(s.v=s.v+1,s.d=i.d):(s.v=1,s.d=i.d),{streak:s,longest:l}},Br=$v(Xn.storage.trackableUsage(),{label:"Usage Store",key:"tag",itemInitializer:(i,e)=>(i.tag=e,i),itemSerializer:i=>i});cr(Br,i=>{const e={};return Object.keys(i).map(t=>{e[t]=i[t].streak}),e});const gL=cr(Br,i=>{const e={};return Object.keys(i).map(t=>{let n=i[t].last;n&&(e[t]=n)}),e}),mae=i=>Br.rawState()[i.tag],pae=async i=>{await Br.init();const e=Br.rawState();return await gae(i,e)},_ae=async(i,e=650)=>{const t=await Ut.query({start:we().subtract(e,"days"),end:we().endOf("day")});let n=Ms(t,i),r={};return Object.keys(n).forEach(l=>{var o,a;if(i[l]){let u=n[l];if(u)try{let c=u.streakSummary,f=u.logs[u.logs.length-1],d=u.values[u.values.length-1],m=u.dates[u.dates.length-1];r[l]={tag:u.trackable.tag,min:{v:((o=u.min)==null?void 0:o.value)||0,d:(a=u.min)==null?void 0:a.date.toDate()},max:{v:u.max.value,d:u.max.date.toDate()},last:{v:d,d:m==null?void 0:m.toDate()},longest:{v:c.longestStreak},streak:c.todayInStreak?{v:c.currentStreak,d:new Date}:{v:0,d:new Date},logId:f==null?void 0:f._id,bookId:f==null?void 0:f.bookId}}catch(c){console.error(c)}}}),await Br.updateSync(l=>({...l,...r}))},gae=async(i,e)=>{const t=e,n=i.elements.filter(l=>l.type!=="generic").map(l=>({tag:sM(l),token:l})).filter(l=>l.tag.trim().length),r={};return n.forEach(l=>{const o=l.tag,a=l.token.value,u=t[o],c=Nn(a);let f={d:i.end,v:c};u?i.end.toDateString()!==new Date().toDateString()||(r[o]=dae(u||{},f)):r[o]={tag:o,last:f,min:f,max:f,logId:i._id,bookId:i.bookId,streak:{v:1,d:new Date},longest:{v:1,d:new Date}}}),await Br.updateSync(l=>({...l,...r}))};class vae{constructor(e,t,n,r){Ne(this,"storage");Ne(this,"status");Ne(this,"rows");Ne(this,"ledgerTools");this.storage=e,this.rows=t,this.status=n,this.ledgerTools=r}async import(){let e=this.status||function(){},t={};this.rows.forEach(o=>{let a=o instanceof Gt?o:new Gt(o),u=a.bookId;delete a._dirty,t[u]=t[u]||[],t[u].push(a)});let n=Object.keys(t).map(o=>({date:o,records:t[o]})),r={},s=0;const l=[];for(let o=0;o<n.length;o++){let a=n[o],u=a.date,c=[];r[u]?c=r[u]:(c=await this.ledgerTools.getBook(u,!0),c=c||[],r[u]=c),a.records.forEach(f=>{c.findIndex(d=>d.hash()==f.hash())==-1?c.push(f):s++}),await this.ledgerTools.saveBook(a.date,c).catch(f=>{console.error("Error importing",f.message),l.push(a.date)}),this.storage.engine.id==="firebase"&&await Et(20),e({importing:"logs",step:o,total:n.length-1,duplicates:s})}return s&&console.error(`${s} duplicates found`),l.length&&alert(`Importer failed to import ${l.length} weeks of data. ${l.join(", ")}`),r}}var bae=P0,kae=DN,yae=W0,wae=Math.ceil,$ae=Math.max;function Fae(i,e,t){(t?kae(i,e,t):e===void 0)?e=1:e=$ae(yae(e),0);var n=i==null?0:i.length;if(!n||e<1)return[];for(var r=0,s=0,l=Array(wae(n/e));r<n;)l[s++]=bae(i,r,r+=e);return l}var Tv=Fae;const vm={split(i=[]){let e=Math.ceil(i.length*.5);return[i.splice(0,e),i.splice(-e)]},unique(i){return Die(i)},chunk(i,e){return Tv(i,e)}},Co=(i,e)=>Array.from(new Set(i.map(t=>t[e]))).map(t=>i.find(n=>n.id===t));function bm(i){return typeof i=="string"?i.replace(/[^A-Za-z0-9]/g,function(e){return Eae[e]||e}):i}const Eae={\u00C1:"A",\u0102:"A",\u1EAE:"A",\u1EB6:"A",\u1EB0:"A",\u1EB2:"A",\u1EB4:"A",\u01CD:"A",\u00C2:"A",\u1EA4:"A",\u1EAC:"A",\u1EA6:"A",\u1EA8:"A",\u1EAA:"A",\u00C4:"A",\u01DE:"A",\u0226:"A",\u01E0:"A",\u1EA0:"A",\u0200:"A",\u00C0:"A",\u1EA2:"A",\u0202:"A",\u0100:"A",\u0104:"A",\u00C5:"A",\u01FA:"A",\u1E00:"A","\u023A":"A",\u00C3:"A","\uA732":"AA",\u00C6:"AE",\u01FC:"AE",\u01E2:"AE","\uA734":"AO","\uA736":"AU","\uA738":"AV","\uA73A":"AV","\uA73C":"AY",\u1E02:"B",\u1E04:"B",\u0181:"B",\u1E06:"B","\u0243":"B",\u0182:"B",\u0106:"C",\u010C:"C",\u00C7:"C",\u1E08:"C",\u0108:"C",\u010A:"C",\u0187:"C","\u023B":"C",\u010E:"D",\u1E10:"D",\u1E12:"D",\u1E0A:"D",\u1E0C:"D",\u018A:"D",\u1E0E:"D",\u01F2:"D",\u01C5:"D",\u0110:"D",\u00D0:"D",\u018B:"D",\u01F1:"DZ",\u01C4:"DZ",\u00C9:"E",\u0114:"E",\u011A:"E",\u0228:"E",\u1E1C:"E",\u00CA:"E",\u1EBE:"E",\u1EC6:"E",\u1EC0:"E",\u1EC2:"E",\u1EC4:"E",\u1E18:"E",\u00CB:"E",\u0116:"E",\u1EB8:"E",\u0204:"E",\u00C8:"E",\u1EBA:"E",\u0206:"E",\u0112:"E",\u1E16:"E",\u1E14:"E",\u0118:"E","\u0246":"E",\u1EBC:"E",\u1E1A:"E","\uA76A":"ET",\u1E1E:"F",\u0191:"F",\u01F4:"G",\u011E:"G",\u01E6:"G",\u0122:"G",\u011C:"G",\u0120:"G",\u0193:"G",\u1E20:"G",\u01E4:"G",\u1E2A:"H",\u021E:"H",\u1E28:"H",\u0124:"H","\u2C67":"H",\u1E26:"H",\u1E22:"H",\u1E24:"H",\u0126:"H",\u00CD:"I",\u012C:"I",\u01CF:"I",\u00CE:"I",\u00CF:"I",\u1E2E:"I",\u0130:"I",\u1ECA:"I",\u0208:"I",\u00CC:"I",\u1EC8:"I",\u020A:"I",\u012A:"I",\u012E:"I",\u0197:"I",\u0128:"I",\u1E2C:"I","\uA779":"D","\uA77B":"F","\uA77D":"G","\uA782":"R","\uA784":"S","\uA786":"T","\uA76C":"IS",\u0134:"J","\u0248":"J",\u1E30:"K",\u01E8:"K",\u0136:"K","\u2C69":"K","\uA742":"K",\u1E32:"K",\u0198:"K",\u1E34:"K","\uA740":"K","\uA744":"K",\u0139:"L","\u023D":"L",\u013D:"L",\u013B:"L",\u1E3C:"L",\u1E36:"L",\u1E38:"L","\u2C60":"L","\uA748":"L",\u1E3A:"L",\u013F:"L","\u2C62":"L",\u01C8:"L",\u0141:"L",\u01C7:"LJ",\u1E3E:"M",\u1E40:"M",\u1E42:"M","\u2C6E":"M",\u0143:"N",\u0147:"N",\u0145:"N",\u1E4A:"N",\u1E44:"N",\u1E46:"N",\u01F8:"N",\u019D:"N",\u1E48:"N","\u0220":"N",\u01CB:"N",\u00D1:"N",\u01CA:"NJ",\u00D3:"O",\u014E:"O",\u01D1:"O",\u00D4:"O",\u1ED0:"O",\u1ED8:"O",\u1ED2:"O",\u1ED4:"O",\u1ED6:"O",\u00D6:"O",\u022A:"O",\u022E:"O",\u0230:"O",\u1ECC:"O",\u0150:"O",\u020C:"O",\u00D2:"O",\u1ECE:"O",\u01A0:"O",\u1EDA:"O",\u1EE2:"O",\u1EDC:"O",\u1EDE:"O",\u1EE0:"O",\u020E:"O","\uA74A":"O","\uA74C":"O",\u014C:"O",\u1E52:"O",\u1E50:"O",\u019F:"O",\u01EA:"O",\u01EC:"O",\u00D8:"O",\u01FE:"O",\u00D5:"O",\u1E4C:"O",\u1E4E:"O",\u022C:"O",\u01A2:"OI","\uA74E":"OO",\u0190:"E",\u0186:"O",\u0222:"OU",\u1E54:"P",\u1E56:"P","\uA752":"P",\u01A4:"P","\uA754":"P","\u2C63":"P","\uA750":"P","\uA758":"Q","\uA756":"Q",\u0154:"R",\u0158:"R",\u0156:"R",\u1E58:"R",\u1E5A:"R",\u1E5C:"R",\u0210:"R",\u0212:"R",\u1E5E:"R","\u024C":"R","\u2C64":"R","\uA73E":"C",\u018E:"E",\u015A:"S",\u1E64:"S",\u0160:"S",\u1E66:"S",\u015E:"S",\u015C:"S",\u0218:"S",\u1E60:"S",\u1E62:"S",\u1E68:"S",\u00DF:"ss",\u0164:"T",\u0162:"T",\u1E70:"T",\u021A:"T","\u023E":"T",\u1E6A:"T",\u1E6C:"T",\u01AC:"T",\u1E6E:"T",\u01AE:"T",\u0166:"T","\u2C6F":"A","\uA780":"L",\u019C:"M","\u0245":"V","\uA728":"TZ",\u00DA:"U",\u016C:"U",\u01D3:"U",\u00DB:"U",\u1E76:"U",\u00DC:"U",\u01D7:"U",\u01D9:"U",\u01DB:"U",\u01D5:"U",\u1E72:"U",\u1EE4:"U",\u0170:"U",\u0214:"U",\u00D9:"U",\u1EE6:"U",\u01AF:"U",\u1EE8:"U",\u1EF0:"U",\u1EEA:"U",\u1EEC:"U",\u1EEE:"U",\u0216:"U",\u016A:"U",\u1E7A:"U",\u0172:"U",\u016E:"U",\u0168:"U",\u1E78:"U",\u1E74:"U","\uA75E":"V",\u1E7E:"V",\u01B2:"V",\u1E7C:"V","\uA760":"VY",\u1E82:"W",\u0174:"W",\u1E84:"W",\u1E86:"W",\u1E88:"W",\u1E80:"W","\u2C72":"W",\u1E8C:"X",\u1E8A:"X",\u00DD:"Y",\u0176:"Y",\u0178:"Y",\u1E8E:"Y",\u1EF4:"Y",\u1EF2:"Y",\u01B3:"Y",\u1EF6:"Y","\u1EFE":"Y",\u0232:"Y","\u024E":"Y",\u1EF8:"Y",\u0179:"Z",\u017D:"Z",\u1E90:"Z","\u2C6B":"Z",\u017B:"Z",\u1E92:"Z",\u0224:"Z",\u1E94:"Z",\u01B5:"Z",\u00DE:"TH",\u0132:"IJ",\u0152:"OE","\u1D00":"A","\u1D01":"AE",\u0299:"B","\u1D03":"B","\u1D04":"C","\u1D05":"D","\u1D07":"E","\uA730":"F",\u0262:"G",\u029B:"G",\u029C:"H",\u026A:"I",\u0281:"R","\u1D0A":"J","\u1D0B":"K",\u029F:"L","\u1D0C":"L","\u1D0D":"M",\u0274:"N","\u1D0F":"O",\u0276:"OE","\u1D10":"O","\u1D15":"OU","\u1D18":"P",\u0280:"R","\u1D0E":"N","\u1D19":"R","\uA731":"S","\u1D1B":"T","\u2C7B":"E","\u1D1A":"R","\u1D1C":"U","\u1D20":"V","\u1D21":"W",\u028F:"Y","\u1D22":"Z",\u00E1:"a",\u0103:"a",\u1EAF:"a",\u1EB7:"a",\u1EB1:"a",\u1EB3:"a",\u1EB5:"a",\u01CE:"a",\u00E2:"a",\u1EA5:"a",\u1EAD:"a",\u1EA7:"a",\u1EA9:"a",\u1EAB:"a",\u00E4:"a",\u01DF:"a",\u0227:"a",\u01E1:"a",\u1EA1:"a",\u0201:"a",\u00E0:"a",\u1EA3:"a",\u0203:"a",\u0101:"a",\u0105:"a","\u1D8F":"a",\u1E9A:"a",\u00E5:"a",\u01FB:"a",\u1E01:"a","\u2C65":"a",\u00E3:"a","\uA733":"aa",\u00E6:"ae",\u01FD:"ae",\u01E3:"ae","\uA735":"ao","\uA737":"au","\uA739":"av","\uA73B":"av","\uA73D":"ay",\u1E03:"b",\u1E05:"b",\u0253:"b",\u1E07:"b","\u1D6C":"b","\u1D80":"b",\u0180:"b",\u0183:"b",\u0275:"o",\u0107:"c",\u010D:"c",\u00E7:"c",\u1E09:"c",\u0109:"c",\u0255:"c",\u010B:"c",\u0188:"c","\u023C":"c",\u010F:"d",\u1E11:"d",\u1E13:"d","\u0221":"d",\u1E0B:"d",\u1E0D:"d",\u0257:"d","\u1D91":"d",\u1E0F:"d","\u1D6D":"d","\u1D81":"d",\u0111:"d",\u0256:"d",\u018C:"d",\u00F0:"d",\u0131:"i","\u0237":"j",\u025F:"j",\u0284:"j",\u01F3:"dz",\u01C6:"dz",\u00E9:"e",\u0115:"e",\u011B:"e",\u0229:"e",\u1E1D:"e",\u00EA:"e",\u1EBF:"e",\u1EC7:"e",\u1EC1:"e",\u1EC3:"e",\u1EC5:"e",\u1E19:"e",\u00EB:"e",\u0117:"e",\u1EB9:"e",\u0205:"e",\u00E8:"e",\u1EBB:"e",\u0207:"e",\u0113:"e",\u1E17:"e",\u1E15:"e","\u2C78":"e",\u0119:"e","\u1D92":"e","\u0247":"e",\u1EBD:"e",\u1E1B:"e","\uA76B":"et",\u1E1F:"f",\u0192:"f","\u1D6E":"f","\u1D82":"f",\u01F5:"g",\u011F:"g",\u01E7:"g",\u0123:"g",\u011D:"g",\u0121:"g",\u0260:"g",\u1E21:"g","\u1D83":"g",\u01E5:"g",\u1E2B:"h",\u021F:"h",\u1E29:"h",\u0125:"h","\u2C68":"h",\u1E27:"h",\u1E23:"h",\u1E25:"h",\u0266:"h",\u1E96:"h",\u0127:"h",\u0195:"hv",\u00ED:"i",\u012D:"i",\u01D0:"i",\u00EE:"i",\u00EF:"i",\u1E2F:"i",\u1ECB:"i",\u0209:"i",\u00EC:"i",\u1EC9:"i",\u020B:"i",\u012B:"i",\u012F:"i","\u1D96":"i",\u0268:"i",\u0129:"i",\u1E2D:"i","\uA77A":"d","\uA77C":"f","\u1D79":"g","\uA783":"r","\uA785":"s","\uA787":"t","\uA76D":"is",\u01F0:"j",\u0135:"j",\u029D:"j","\u0249":"j",\u1E31:"k",\u01E9:"k",\u0137:"k","\u2C6A":"k","\uA743":"k",\u1E33:"k",\u0199:"k",\u1E35:"k","\u1D84":"k","\uA741":"k","\uA745":"k",\u013A:"l",\u019A:"l",\u026C:"l",\u013E:"l",\u013C:"l",\u1E3D:"l","\u0234":"l",\u1E37:"l",\u1E39:"l","\u2C61":"l","\uA749":"l",\u1E3B:"l",\u0140:"l",\u026B:"l","\u1D85":"l",\u026D:"l",\u0142:"l",\u01C9:"lj",\u017F:"s","\u1E9C":"s",\u1E9B:"s","\u1E9D":"s",\u1E3F:"m",\u1E41:"m",\u1E43:"m",\u0271:"m","\u1D6F":"m","\u1D86":"m",\u0144:"n",\u0148:"n",\u0146:"n",\u1E4B:"n","\u0235":"n",\u1E45:"n",\u1E47:"n",\u01F9:"n",\u0272:"n",\u1E49:"n",\u019E:"n","\u1D70":"n","\u1D87":"n",\u0273:"n",\u00F1:"n",\u01CC:"nj",\u00F3:"o",\u014F:"o",\u01D2:"o",\u00F4:"o",\u1ED1:"o",\u1ED9:"o",\u1ED3:"o",\u1ED5:"o",\u1ED7:"o",\u00F6:"o",\u022B:"o",\u022F:"o",\u0231:"o",\u1ECD:"o",\u0151:"o",\u020D:"o",\u00F2:"o",\u1ECF:"o",\u01A1:"o",\u1EDB:"o",\u1EE3:"o",\u1EDD:"o",\u1EDF:"o",\u1EE1:"o",\u020F:"o","\uA74B":"o","\uA74D":"o","\u2C7A":"o",\u014D:"o",\u1E53:"o",\u1E51:"o",\u01EB:"o",\u01ED:"o",\u00F8:"o",\u01FF:"o",\u00F5:"o",\u1E4D:"o",\u1E4F:"o",\u022D:"o",\u01A3:"oi","\uA74F":"oo",\u025B:"e","\u1D93":"e",\u0254:"o","\u1D97":"o",\u0223:"ou",\u1E55:"p",\u1E57:"p","\uA753":"p",\u01A5:"p","\u1D71":"p","\u1D88":"p","\uA755":"p","\u1D7D":"p","\uA751":"p","\uA759":"q",\u02A0:"q","\u024B":"q","\uA757":"q",\u0155:"r",\u0159:"r",\u0157:"r",\u1E59:"r",\u1E5B:"r",\u1E5D:"r",\u0211:"r",\u027E:"r","\u1D73":"r",\u0213:"r",\u1E5F:"r",\u027C:"r","\u1D72":"r","\u1D89":"r","\u024D":"r",\u027D:"r","\u2184":"c","\uA73F":"c",\u0258:"e",\u027F:"r",\u015B:"s",\u1E65:"s",\u0161:"s",\u1E67:"s",\u015F:"s",\u015D:"s",\u0219:"s",\u1E61:"s",\u1E63:"s",\u1E69:"s",\u0282:"s","\u1D74":"s","\u1D8A":"s","\u023F":"s",\u0261:"g","\u1D11":"o","\u1D13":"o","\u1D1D":"u",\u0165:"t",\u0163:"t",\u1E71:"t",\u021B:"t","\u0236":"t",\u1E97:"t","\u2C66":"t",\u1E6B:"t",\u1E6D:"t",\u01AD:"t",\u1E6F:"t","\u1D75":"t",\u01AB:"t",\u0288:"t",\u0167:"t","\u1D7A":"th",\u0250:"a","\u1D02":"ae",\u01DD:"e","\u1D77":"g",\u0265:"h","\u02AE":"h","\u02AF":"h","\u1D09":"i",\u029E:"k","\uA781":"l",\u026F:"m",\u0270:"m","\u1D14":"oe",\u0279:"r",\u027B:"r",\u027A:"r","\u2C79":"r",\u0287:"t",\u028C:"v",\u028D:"w",\u028E:"y","\uA729":"tz",\u00FA:"u",\u016D:"u",\u01D4:"u",\u00FB:"u",\u1E77:"u",\u00FC:"u",\u01D8:"u",\u01DA:"u",\u01DC:"u",\u01D6:"u",\u1E73:"u",\u1EE5:"u",\u0171:"u",\u0215:"u",\u00F9:"u",\u1EE7:"u",\u01B0:"u",\u1EE9:"u",\u1EF1:"u",\u1EEB:"u",\u1EED:"u",\u1EEF:"u",\u0217:"u",\u016B:"u",\u1E7B:"u",\u0173:"u","\u1D99":"u",\u016F:"u",\u0169:"u",\u1E79:"u",\u1E75:"u","\u1D6B":"ue","\uA778":"um","\u2C74":"v","\uA75F":"v",\u1E7F:"v",\u028B:"v","\u1D8C":"v","\u2C71":"v",\u1E7D:"v","\uA761":"vy",\u1E83:"w",\u0175:"w",\u1E85:"w",\u1E87:"w",\u1E89:"w",\u1E81:"w","\u2C73":"w",\u1E98:"w",\u1E8D:"x",\u1E8B:"x","\u1D8D":"x",\u00FD:"y",\u0177:"y",\u00FF:"y",\u1E8F:"y",\u1EF5:"y",\u1EF3:"y",\u01B4:"y",\u1EF7:"y","\u1EFF":"y",\u0233:"y",\u1E99:"y","\u024F":"y",\u1EF9:"y",\u017A:"z",\u017E:"z",\u1E91:"z",\u0291:"z","\u2C6C":"z",\u017C:"z",\u1E93:"z",\u0225:"z",\u1E95:"z","\u1D76":"z","\u1D8E":"z",\u0290:"z",\u01B6:"z","\u0240":"z",\u00FE:"th",\uFB00:"ff",\uFB03:"ffi",\uFB04:"ffl",\uFB01:"fi",\uFB02:"fl",\u0133:"ij",\u0153:"oe",\uFB06:"st","\u2090":"a","\u2091":"e","\u1D62":"i","\u2C7C":"j","\u2092":"o","\u1D63":"r","\u1D64":"u","\u1D65":"v","\u2093":"x",\u0401:"YO",\u0419:"I",\u0426:"TS",\u0423:"U",\u041A:"K",\u0415:"E",\u041D:"N",\u0413:"G",\u0428:"SH",\u0429:"SCH",\u0417:"Z",\u0425:"H",\u042A:"'",\u0451:"yo",\u0439:"i",\u0446:"ts",\u0443:"u",\u043A:"k",\u0435:"e",\u043D:"n",\u0433:"g",\u0448:"sh",\u0449:"sch",\u0437:"z",\u0445:"h",\u044A:"'",\u0424:"F",\u042B:"I",\u0412:"V",\u0410:"a",\u041F:"P",\u0420:"R",\u041E:"O",\u041B:"L",\u0414:"D",\u0416:"ZH",\u042D:"E",\u0444:"f",\u044B:"i",\u0432:"v",\u0430:"a",\u043F:"p",\u0440:"r",\u043E:"o",\u043B:"l",\u0434:"d",\u0436:"zh",\u044D:"e",\u042F:"Ya",\u0427:"CH",\u0421:"S",\u041C:"M",\u0418:"I",\u0422:"T",\u042C:"'",\u0411:"B",\u042E:"YU",\u044F:"ya",\u0447:"ch",\u0441:"s",\u043C:"m",\u0438:"i",\u0442:"t",\u044C:"'",\u0431:"b",\u044E:"yu"};function Dae(i,e){if(!Array.isArray(i)||!Array.isArray(e))throw new TypeError("both parameters have to be an array");if(i.length!==e.length)return!1;for(var t=0;t<i.length;t++)if(i[t]!==e[t])return!1;return!0}function vL(i){i=FL(i),i=bL(i);var e=F1("OR",i),t=e.map(function(n){for(var r=F1("AND",n),s=[],l=[],o=0;o<r.length;o++)Av(r[o])?s.push(vL(r[o])):l.push(r[o]);return s.push([l]),yL(s)});return $L(t)}function bL(i){return i.replace(/[\s]+/g," ")}function kL(i,e){var t=[];return i.forEach(function(n){e.forEach(function(r){t.push(wL(n,r))})}),t}function yL(i){for(var e=[[]],t=0;t<i.length;t++)e=kL(e,i[t]);return e}function Cae(i,e){var t=e?i:i.map(function(n){return n.sort()});return t.reduce(function(n,r){for(var s=0;s<n.length;s++)if(Dae(n[s],r))return n;return n.push(r),n},[])}function wL(i,e){return i.concat(e)}function $L(i){for(var e=i[0],t=1;t<i.length;t++)e=e.concat(i[t]);return e}function FL(i){if(i.charAt(0)==="("){for(var e=0,t=0;t<i.length;t++)if(i.charAt(t)==="("?e++:i.charAt(t)===")"&&e--,e===0)return t!==i.length-1?i:i.substring(1,i.length-1)}return i}function Av(i){return!!~i.search(/\(|\)/)}function F1(i,e){for(var t=e.split(" "+i+" "),n=[],r=[],s=0;s<t.length;s++)if(Av(t[s])||r.length>0){r.push(t[s]);var l=""+r,o=(l.match(/\(/g)||[]).length,a=(l.match(/\)/g)||[]).length;o===a&&(n.push(r.join(" "+i+" ")),r=[])}else n.push(t[s]);return n}var Sae={deduplicateOr:Cae,andAndMerge:wL,orAndOrMerge:kL,orsAndMerge:yL,mergeOrs:$L,splitRoot:F1,removeDoubleWhiteSpace:bL,removeOuterBrackets:FL,parseBooleanQuery:vL,containsBrackets:Av};const Tae=i=>(i=bm(i.toLowerCase()).replace(/\s(and|or)\s/g,(e,t)=>` ${t.toUpperCase()} `),Sae.parseBooleanQuery(i)),EL={escape(i){return i.replace(/[@.*+?^${}()|[\]\\]/g,"\\$&")}},Aae=EL.escape;function Pae(i,e){let t;return e&&e.fields?t=e.fields.map(n=>i[n]).join(" ").toLowerCase():t=JSON.stringify(i).toLowerCase(),t=bm(t.replace(/\n/g," ").replace(/(\'|,|\.|\?|\!|\"|\:|\)|\()/gi," ")),t}function Nae(i,e,t){let n=[];if(t=t||{fuzzy:!1},i&&i.length>1){let r=Tae(i);e.forEach(s=>{let l=Pae(s,t);r.forEach(o=>{let a=[];o.forEach(u=>{const c=EL.escape(u);let f=`(${c})(\\s|$)`;(t.fuzzy&&l.search(c)>-1||!t.fuzzy&&l.match(new RegExp(f,"gi")))&&a.push(!0)}),a.length==o.length&&n.indexOf(s)==-1&&n.push(s)})})}return n}const DL=(i,e)=>{var r,s;let t=i||[];e=e||{fuzzy:!1};let n;if(typeof e.search=="object"?n=bm(`${e.search.prefix}${e.search.id}`):e.search&&(n=bm(e.search)),n&&(t=Nae(n,i,{fields:["note"],fuzzy:e.fuzzy})),e.start||e.end){let l=(r=e.start.startOf("day"))==null?void 0:r.valueOf(),o=(s=e.end)==null?void 0:s.endOf("day").valueOf();t=t.filter(a=>{a=a instanceof Gt?a:new Gt(a);let u=!1;return l&&o?u=a.end.getTime()>=l&&a.end.getTime()<=o:e.start?u=a.end.getTime()>=l:e.end&&(u=a.end.getTime()<=o),u})}return e.limit&&(t=t.filter((l,o)=>o<=e.limit)),t};function Mae(i){if(!(i instanceof Array))throw new Error("Logs must be an array");let e={};return i.forEach(t=>{t=t instanceof Gt?t:new Gt(t),t.trackers||t.getMeta(),t.people.forEach(n=>{let r=`@${n.id}`;e[r]=e[r]||{values:[1],tag:`#${r}`,hours:[],logs:[],dates:[]}}),t.context.forEach(n=>{let r=`+${n.id}`;e[r]=e[r]||{values:[1],tag:`+${r}`,hours:[],logs:[],dates:[]}}),t.trackers.forEach(n=>{let r=`#${n.id}`;e[r]=e[r]||{values:[],tag:r,hours:[],logs:[],dates:[]};let s=Nn(n.value),l=isNaN(s)?1:s;e[r].values.push(l),e[r].dates.push(t.end),e[r].logs.indexOf(t)==-1&&e[r].logs.push(t);let o=parseInt(we(t.end).format("H"));e[r].hours.indexOf(o)==-1&&e[r].hours.push(o)})}),e}function CL(i){if(!(i instanceof Array))throw new Error("Logs must be an array");let e={};return i.forEach(t=>{t=t instanceof Gt?t:new Gt(t),t.trackers||t.getMeta(),t.trackers.forEach(n=>{let r=n.id;e[r]=e[r]||{values:[],tag:r,hours:[],logs:[]};let s=Nn(n.value),l=isNaN(s)?1:s;e[r].values.push(l),e[r].logs.indexOf(t)==-1&&e[r].logs.push(t);let o=parseInt(we(t.end).format("H"));e[r].hours.indexOf(o)==-1&&e[r].hours.push(o)})}),e}class Lae{constructor(e,t){Ne(this,"storage");Ne(this,"importer");Ne(this,"bookPathLookup");Ne(this,"anyDateToDayjs",e=>we(e));this.storage=e,this.bookPathLookup=t}getDateOfWeek(e,t){let n=1+(e-1)*7;return new Date(t,0,n)}async getBook(e,t=!1){let n=await this.storage.get(this.bookPathLookup(e)),r=n instanceof Array?n:[];if(!(t&&!n))return r.map(s=>new Gt(s)).filter(s=>s.isValid())}async saveBook(e,t){if(t instanceof Array)return await this.storage.put(this.bookPathLookup(e),t);throw new Error("invalid book content provided. save failed")}prepareLogForSave(e){let t=new Gt(e);return t.end=t.end||new Date().getTime(),t.start=t.start||t.end-1e3,t.note=t.note.trim(),t.source=t.source||"n6",delete t._dirty,t}hashTrackersSummary(e){let t=Object.keys(e).map(n=>`${n}-${e[n].values.join(",")}`);return pn(t.join(","))}getTrackersAndValuesFromLogs(e){return CL(e)}getTrackablesFromLogs(e){return Mae(e)}listBooks(){return this.storage.list().then(e=>e.filter(t=>t.search(/books(-|_|\/)/g)>-1&&t.search("_last")===-1))}async getFirstDate(e=!1){let t={date:null,lastChecked:null},n=this.storage.local.get("firstBook")||t;if((n.lastChecked?Math.abs(we(n.lastChecked).diff(we(),"day")):100)>2||e){const s=await this.listBooks();if(s.length){let o=s.map(a=>{let u=a.split("/"),c=u[u.length-1].split("-"),f=parseInt(c[0]),d=parseInt(c[1]),m=parseInt(c[2]);if(!isNaN(f)&&!isNaN(m)){d=isNaN(d)?1:d;let p=`${f}-${d}-${m}1`;return we(p)}else return null}).filter(a=>a).sort((a,u)=>a.unix()>u.unix()?1:-1)[0];return o&&this.storage.local.put("firstBook",{date:o.toDate().getTime(),lastChecked:new Date().getTime()}),o}else return we()}else return we(n.date)}async getMemories(e){let t=[],n=await this.getFirstDate(),r=we().diff(n,"year");if(r>1)for(var s=0;s<r;s++)s!==0&&s<6&&t.push(we().subtract(s,"year"));else we().diff(n,"month")>5&&t.push(we().subtract(6,"month"));let l=[];t.filter(u=>u).forEach(u=>{l.push(e(u))});let o=await Promise.all(l),a=[];return o.forEach(u=>{u=u.filter(c=>rM(c.note)).sort((c,f)=>c.note.length<f.note.length?1:-1),u.length&&a.push(u[0])}),a}async query(e,t=[]){e=e||{},e.fresh=e.fresh!==!1,e.start=e.start?this.anyDateToDayjs(e.start):we().subtract(30,"day"),e.end=e.end?this.anyDateToDayjs(e.end):we().endOf("day");let n=e.start.startOf("day"),r=e.end.endOf("day");const s=MQ(n,r),l=async()=>{let c=[],f=10,d=vm.chunk(s,f);for(var m=0;m<d.length;m++)(await a(d[m])).forEach(g=>{g.forEach(k=>{k=k instanceof Gt?k:new Gt(k),c.find($=>$._id==k._id)||c.push(k)})});return c};let o={...t};const a=async c=>{let f=[];return c.forEach(d=>{if(o[d]=o[d]||[],e.fresh!==!1){let m=this.getBook(d);m.then(p=>{o[d]=p}),f.push(m)}else f.push(Promise.resolve(o[d]))}),Promise.all(f)};let u=async()=>{let c=await l();return DL(c,e)};try{let c=await u();return{books:o,logs:c.sort((f,d)=>f.end<d.end?1:-1)}}catch(c){console.error("Error caught ",c);return}}}const Fn=(i={})=>ul(JSON.stringify(i));var Oae=function(i,e,t,n){var r=typeof n<"u"?[n,i]:[i],s=new Blob(r,{type:t||"application/octet-stream"});if(typeof window.navigator.msSaveBlob<"u")window.navigator.msSaveBlob(s,e);else{var l=window.URL&&window.URL.createObjectURL?window.URL.createObjectURL(s):window.webkitURL.createObjectURL(s),o=document.createElement("a");o.style.display="none",o.href=l,o.setAttribute("download",e),typeof o.download>"u"&&o.setAttribute("target","_blank"),document.body.appendChild(o),o.click(),setTimeout(function(){document.body.removeChild(o),window.URL.revokeObjectURL(l)},200)}};function ag(i,e,t){Oae(e,i)}const Iae=async i=>new Promise(e=>{const t=document.createElement("input");t.accept=i,t.type="file",t.id="file-uploader",t.addEventListener("change",r),t.style.height="0px",t.style.width="0px",t.style.overflow="hidden",t.style.position="absolute",t.style.bottom="-300px",document.body.appendChild(t),t.click();const n=s=>{t.remove();let l=new FileReader;try{l.onload=async o=>{let a=o.target.result;const u={data:null,file:null};u.data=a,u.file=s,e(u),t.remove()},l.readAsText(s)}catch(o){alert(o.message)}};function r(s){let l=s.target.files;n(l[0])}}),Pc={csv(i="download.csv",e){i=i.search(".json")==-1?`${i}.csv`:i,ag(i,e)},json(i="download.json",e){typeof e=="object"&&(e=JSON.stringify(e)),i=i.search(".json")==-1?`${i}.json`:i,ag(i,e)},text(i="download.json",e){ag(i,e)},file(i){const e=window.URL.createObjectURL(i),t=document.createElement("a");t.href=e,t.setAttribute("download",i.name),document.body.appendChild(t),t.click(),document.body.removeChild(t)}};var Bae=KN,zae=Bae(function(i,e,t){return i+(t?"_":"")+e.toLowerCase()}),Rae=zae;const eu=i=>Object.keys(i).map(e=>{const t=i[e];return t.id=t.tag,t}),jae=i=>{let e;switch(i.type){case"tracker":e=i.id.replace("#","");break;case"person":e=i.id.replace("@","");break;case"context":e=i.id.replace("+","");break}return{id:e,type:i.type,value:i.value,raw:i.tag,prefix:i==null?void 0:i.tag.substring(0,1)}},Yae=(i,e)=>{const t=Gf(i);if(t){const n={value:t.value},r=eu(e).find(l=>l.id===`${t.prefix}${t.id}`);if(r)return r.value=Nn(t.value),r;t.type==="tracker"?(n.type="tracker",n.tracker=new oi({tag:t.id})):t.type==="person"?(n.type="person",n.id=i,n.person=new jl({username:t.id})):t.type==="context"&&(n.type="context",n.context=t.id);const s=new ri(n);return n.value&&n.value>1&&n.type=="tracker"&&(s.tracker.type="value"),s}else return},Uae=i=>({color:i.color,emoji:i.emoji,avatar:i.avatar,label:i.label}),qu=i=>i.replace(/(\@|\+\#)/gi,"").trim().replace(/[^A-Z0-9]/gi,"_").toLowerCase(),qae=(i,e="6.0.0")=>{let t={type:"trackables",trackables:i,created:new Date,version:e};Pc.text(`${Rae(i.map(n=>n.label).join("-")).toLowerCase()}.trackables.json`,JSON.stringify(t))};function Hae(i){let e,t,n,r,s,l,o,a;return{c(){e=me("svg"),t=me("path"),n=me("defs"),r=me("linearGradient"),s=me("stop"),l=me("stop"),h(t,"fill-rule","evenodd"),h(t,"clip-rule","evenodd"),h(t,"d","M144.231 93.0684C157.461 93.0684 168.187 103.822 168.187 117.087C168.187 128.223 160.626 137.589 150.371 140.308C147.068 141.244 145.033 145.107 145.033 149.537C145.033 154.672 148.35 158.836 152.442 158.836C152.954 158.836 153.453 158.77 153.978 158.561C176.258 153.853 192.982 134.317 192.982 110.577C192.982 105.372 192.243 100.333 190.753 95.6224C178.308 58.6338 143.421 32 102.33 32C93.2252 32 84.4242 33.3075 76.1047 35.7452C76.0196 35.6756 75.7835 35.5509 75.5213 35.4124C75.2538 35.2711 74.9593 35.1156 74.7705 34.9897C70.878 30.8598 21.0251 33.1017 18.1813 52.487C16.7823 55.6322 16.8383 59.1629 16.8977 62.9063C16.9064 63.458 16.9152 64.0144 16.9195 64.5748C16.9831 72.9706 20.3487 80.2234 20.3487 80.2234C20.3487 80.2234 20.2078 80.0849 17.9697 84.706C11.5604 97.4049 6.37874 115.18 6.37874 130.357C6.37874 132.632 6.45975 134.889 6.61886 137.123C4.59952 139.584 -0.702874 147.397 3.64329 157.345C3.64329 157.345 4.64056 158.819 4.68377 156.861C4.11422 151.659 5.32946 147.189 7.67995 146.031C8.82656 152.868 10.708 159.455 13.2329 165.709C13.2329 166.504 17.3686 167.149 22.4703 167.149C27.572 167.149 31.7077 166.504 31.7077 165.709C33.7896 154.876 42.8863 146.615 54.299 146.615C65.6191 146.615 75.0637 154.665 77.1584 165.551C77.1584 166.903 84.1908 168 92.8653 168C101.54 168 108.572 166.903 108.68 165.508C106.217 159.12 104.867 152.176 104.867 144.917C104.867 138.935 105.784 133.169 107.484 127.75C107.507 127.612 107.531 127.475 107.554 127.339L107.156 128.387C107.305 127.887 107.464 127.39 107.633 126.899C112.888 98.2194 137.257 94.0583 137.257 94.0583C139.532 93.4195 141.841 93.0684 144.231 93.0684Z"),h(t,"fill","url(#paint0_linear_1350_1998)"),h(s,"stop-color","#07B6F7"),h(l,"offset","1"),h(l,"stop-color","#059CE5"),h(r,"id","paint0_linear_1350_1998"),h(r,"x1","128.982"),h(r,"y1","36.309"),h(r,"x2","31.5105"),h(r,"y2","184.894"),h(r,"gradientUnits","userSpaceOnUse"),h(e,"height",o=i[0]+"px"),h(e,"width",a=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 196 196")},m(u,c){w(u,e,c),E(e,t),E(e,n),E(n,r),E(r,s),E(r,l)},p(u,[c]){c&1&&o!==(o=u[0]+"px")&&h(e,"height",o),c&1&&a!==(a=u[0]+"px")&&h(e,"width",a)},i:W,o:W,d(u){u&&y(e)}}}function Wae(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class SL extends ce{constructor(e){super(),ue(this,e,Wae,Hae,le,{size:0})}}function Vae(i){let e,t,n,r,s,l,o,a,u,c,f,d;return{c(){e=me("svg"),t=me("path"),n=me("path"),r=me("defs"),s=me("linearGradient"),l=me("stop"),o=me("stop"),a=me("linearGradient"),u=me("stop"),c=me("stop"),h(t,"d","M98.1333 105.765C122.33 105.765 142.016 86.079 142.016 61.8825C142.016 37.6861 122.33 18 98.1333 18C73.9369 18 54.2508 37.6861 54.2508 61.8825C54.2508 86.079 73.9369 105.765 98.1333 105.765Z"),h(t,"fill","url(#paint0_linear_1350_1980)"),h(n,"d","M163.957 177C166.986 177 169.442 174.547 169.442 171.515C169.442 142.872 152.416 122.655 126.069 111.416C124.628 110.795 122.997 110.827 121.591 111.497C106.736 118.45 89.5304 118.45 74.6761 111.497C73.2646 110.827 71.6335 110.795 70.1979 111.416C43.8507 122.655 26.8242 142.872 26.8242 171.515C26.8242 174.547 29.2803 177 32.3096 177H163.957Z"),h(n,"fill","url(#paint1_linear_1350_1980)"),h(l,"stop-color","#FF7AF5"),h(o,"offset","1"),h(o,"stop-color","#513162"),h(s,"id","paint0_linear_1350_1980"),h(s,"x1","54.2508"),h(s,"y1","18"),h(s,"x2","142.016"),h(s,"y2","105.765"),h(s,"gradientUnits","userSpaceOnUse"),h(u,"stop-color","#FF6FD8"),h(c,"offset","1"),h(c,"stop-color","#3813C2"),h(a,"id","paint1_linear_1350_1980"),h(a,"x1","26.8242"),h(a,"y1","110.972"),h(a,"x2","77.1714"),h(a,"y2","219.719"),h(a,"gradientUnits","userSpaceOnUse"),h(e,"height",f=i[0]+"px"),h(e,"width",d=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 196 196")},m(m,p){w(m,e,p),E(e,t),E(e,n),E(e,r),E(r,s),E(s,l),E(s,o),E(r,a),E(a,u),E(a,c)},p(m,[p]){p&1&&f!==(f=m[0]+"px")&&h(e,"height",f),p&1&&d!==(d=m[0]+"px")&&h(e,"width",d)},i:W,o:W,d(m){m&&y(e)}}}function Gae(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class TL extends ce{constructor(e){super(),ue(this,e,Gae,Vae,le,{size:0})}}function Zae(i){let e,t,n,r,s,l,o,a;return{c(){e=me("svg"),t=me("path"),n=me("defs"),r=me("linearGradient"),s=me("stop"),l=me("stop"),h(t,"d","M147.221 175.348L98.4961 149.338L49.7716 175.349C48.1847 176.196 46.2081 176.218 44.5979 175.407C42.9877 174.595 41.9922 173.076 41.9922 171.429V24.5705C41.9922 22.0465 44.2921 20.0002 47.1289 20.0002H149.863C152.7 20.0002 155 22.0465 155 24.5705V171.429C155 173.076 154.005 174.595 152.394 175.407C150.787 176.216 148.81 176.197 147.221 175.348Z"),h(t,"fill","url(#paint0_linear_1350_1976)"),h(s,"stop-color","#FD3A84"),h(l,"offset","1"),h(l,"stop-color","#FFA68D"),h(r,"id","paint0_linear_1350_1976"),h(r,"x1","155.122"),h(r,"y1","176"),h(r,"x2","104.988"),h(r,"y2","17.9411"),h(r,"gradientUnits","userSpaceOnUse"),h(e,"height",o=i[0]+"px"),h(e,"width",a=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 196 196")},m(u,c){w(u,e,c),E(e,t),E(e,n),E(n,r),E(r,s),E(r,l)},p(u,[c]){c&1&&o!==(o=u[0]+"px")&&h(e,"height",o),c&1&&a!==(a=u[0]+"px")&&h(e,"width",a)},i:W,o:W,d(u){u&&y(e)}}}function xae(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class AL extends ce{constructor(e){super(),ue(this,e,xae,Zae,le,{size:0})}}const PL="last-known-board",Rp=()=>localStorage.getItem(PL)||"main",NL=i=>{localStorage.setItem(PL,i)},Xae=async i=>{let e;return Rr.update(t=>(t.boards=t.boards.filter(n=>n.id!==i.id),t.hash=Fn(t.boards),e=t,t)),await Yp(e.boards)},Kae={activeId:Rp(),boards:[],editMode:!1,hash:"",dynamicBoards:{all:void 0,people:void 0,now:void 0,context:void 0},loaded:!1},Rr=Bt(Kae),Jae=()=>{let i;return Rr.update(e=>(i=e,e)),i},Qae=()=>{const i=Dd(),e=Jae();return LL(e,i).find(n=>(n==null?void 0:n.id)==e.activeId)},ML=()=>{Rr.update(i=>(i.editMode=!i.editMode,i))},eue=()=>{Rr.update(i=>(i.editMode=!1,i))},Nc=async()=>{let i=await Vt.get(Xn.storage.boards())||[];if(!i.length){const e={id:"main",label:"Main",elements:[]};i.push(e)}return i=i.filter(e=>e).filter(e=>e.id!=="all").map(e=>{const t=e;return t.trackers&&(e.elements=e.elements||[],e.elements=[...e.elements,...t.trackers.map(n=>`#${n}`.replace("##","#"))],delete e.trackers),e.elements=e.elements||[],e}).filter(e=>e),i},LL=(i,e)=>{var l,o,a;const t=i.dynamicBoards.people,n=i.dynamicBoards.context,r=i.dynamicBoards.all;let s=[];return e.allBoard&&(l=r==null?void 0:r.elements)!=null&&l.length&&(s=[...s,r]),e.peopleBoard&&(o=t==null?void 0:t.elements)!=null&&o.length&&(s=[...s,t]),e.contextBoard&&(a=n==null?void 0:n.elements)!=null&&a.length&&(s=[...s,n]),s=[...s,...i.boards],Co(s.filter(u=>u),"id")},Md=cr(Rr,i=>{const e=Dd();return LL(i,e).map(n=>(i.activeId==n.id?n.active=!0:n.active=!1,n))}),jp=cr(Md,i=>i.find(t=>t==null?void 0:t.active)),km=async i=>{let e=await Nc();const t=eu(i);Rr.update(n=>(n.boards=e,n.activeId=n.activeId||e.length?e[0].id:void 0,n.hash=Fn(e),n.dynamicBoards.people={label:"People",icon:TL,id:"_people",elements:t.filter(r=>r.person).map(r=>r.tag)},n.dynamicBoards.context={label:"Context",icon:AL,id:"_context",elements:t.filter(r=>r.type==="context").map(r=>r.tag)},n.dynamicBoards.all={label:"All",icon:SL,id:"_all",elements:t.filter(r=>r.type==="tracker").map(r=>r.tag)},n.loaded=!0,n.activeId=Rp(),n))},Yp=async i=>await Vt.put(Xn.storage.boards(),i).catch(e=>{console.error(e.message)}),Pv=async i=>{try{return await Yp(i),Rr.update(e=>(e.boards=i,e.hash=Fn(i),e)),!0}catch(e){return console.error(e),!1}},tue=async i=>{const e=await Nc(),t=i.filter(r=>r.id!=="_all"),n=e.filter(r=>!t.find(s=>s.id===r.id));if(n.length)console.error("Cannot save the boards, we have missing data"),console.table(n);else{const r=t.map(l=>l.id).join(","),s=e.map(l=>l.id).join(",");r!=s&&await Pv(t)}return!1},nue=async i=>{let t={id:pn(new Date().getTime()+i).substring(0,10),label:i,elements:[]};return new Promise((n,r)=>{Rr.update(s=>(s.boards.push(t),s.hash=Fn(s.boards),s.activeId=t.id,NL(t.id),Vt.put(Xn.storage.boards(),s.boards).then(()=>{n(t)}).catch(r),s))})},ym=async(i,e)=>{let t=i.map(s=>s.tag);const r=(await Nc()).filter(s=>s).map(s=>(s.id==(e==null?void 0:e.id)&&t.map(l=>(s.elements.indexOf(l)===-1&&s.elements.push(l),l)),s));r&&r.length&&(await Yp(r),Rr.update(s=>(s.boards=r,s.hash=Fn(r),s)))};let Aw;const E1=i=>{const e=typeof i=="string"?i:i==null?void 0:i.id;clearTimeout(Aw),Aw=setTimeout(()=>{i&&(NL(e),Rr.update(t=>(t.activeId=e,t.boards=[...t.boards],t.hash=Fn(t.boards),t)))},60)},tu=(i,e)=>{const t=[],{update:n,subscribe:r,set:s}=Bt(t);let l={};const o=async g=>{l=g;const k=(await Vt.get(i)||[]).map($=>e.itemInitializer?e.itemInitializer($):$);return n($=>k),e.onInitalized&&e.onInitalized(k,l),k},a=async g=>{const k=g.map($=>e.itemSerializer?e.itemSerializer($):$);return await Vt.put(i,k),g},u=async g=>{let k;return n($=>(k=[...c($,g,e.key)],k)),await a(k)},c=(g,k,$)=>{let D=!1,F=g.map(C=>{let S=C[$],P=k[$];return S==P?(D=!0,k):C});return D||F.push(k),F};return{init:o,upsert:u,upsertMany:async g=>{let k;return n($=>(k=$,g.forEach(D=>{k=c(k,D,e.key)}),[...k])),await a(k)},remove:async g=>{let k;return n($=>(k=$.filter(D=>D[e.key]!==g[e.key]),[...k])),await a(k)},update:n,updateSync:async g=>{let k;return n($=>(k=g($),[...k])),await a(k)},subscribe:r,set:s,rawState:()=>{let g;return n(k=>(g=k,k)),g}}};new Uo("\u{1F5FA} $ContextStore");const Ld=tu(Xn.storage.context(),{key:"tag",label:"Context",itemInitializer:i=>new yp(i),itemSerializer:i=>i.asObject}),Zl=$v(Xn.storage.people(),{label:"People",key:"username",itemInitializer(i){return new jl(i)},itemSerializer(i){return JSON.parse(JSON.stringify(i))}});cr(Zl,i=>Object.keys(i).map(e=>i[e]));const jr=$v(Xn.storage.trackers(),{label:"Trackers",key:"tag",itemSerializer:i=>i.asObject,itemInitializer:i=>new oi(i)}),OL=async(i,e)=>{const t=new oi(i);return e=="stop"?t.started=void 0:t.started=new Date().getTime(),await jr.updateSync(n=>(n[i.tag]=t,n)),Mc(),t},IL=async i=>await OL(i,"start"),BL=async i=>await OL(i,"stop"),iue=i=>Object.keys(i).map(e=>i[e]).filter(e=>e.started),Up=cr(jr,i=>iue(i));cr(jr,i=>Object.keys(i).map(e=>i[e]));const rue={trackables:{},ready:!1},It=Bt(rue),sue=cr(It,i=>i.trackables),lue=cr(It,i=>{let e=i.trackables;return Object.keys(e).map(t=>e[t])}),oue=cr(It,i=>Object.keys(i.trackables).map(t=>i.trackables[t]).filter(t=>t).filter(t=>t.type=="tracker")),aue=cr(It,i=>Object.keys(i.trackables).map(t=>i.trackables[t]).filter(t=>t.type=="person")),uue=cr(It,i=>Object.keys(i.trackables).map(t=>i.trackables[t]).filter(t=>t.type=="context")),Ou={},zL=async()=>{const i=await Promise.all([Zl.init(),jr.init(),Ld.init()]),e=i[0]||{},t=i[1]||{},n=i[2]||[];return Object.keys(e||{}).map(r=>{const l=new jl(e[r]).toTrackable();Ou[l.tag]=l}),Object.keys(t||{}).map(r=>{const s=new oi(t[r]);if(s){const l=s.toTrackable();Ou[l.tag]=l}}),n.length&&n.forEach(r=>{const s=r.toTrackable();Ou[s.tag]=s}),Ou},Mc=async()=>{const i=await zL();return It.update(e=>(delete i["#"],e.trackables=i,e.ready=!0,e)),i},qp=async({trackable:i,known:e,permissions:t,prompt:n=!0,saveToActiveBoard:r=!0})=>{var s;try{let l=!1;if(i.type==="tracker"){if(!i.tracker.tag)throw new Error("Tracker missing data");l=await fue([i])}else i.type==="person"?l=await Zl.upsert(i.person):i.type==="context"&&(l=await Ld.upsert(i.ctx));if(r){const o=Qae();o&&!o.elements.find(a=>a==i.tag)&&(n===!0&&((s=o==null?void 0:o.id)==null?void 0:s.substring(0,1))!=="_"?await Xe.confirm(`Add ${i.tag} to ${o.label}?`)&&ym([i],o):ym([i],o))}return l}catch(l){return Xe.alert(l.message),!1}},cue=async(i,e)=>{(e?await Xe.confirm("Remove Official Trackable?","No tracked data will be deleted, only this trackable."):!0)&&(i.type=="tracker"&&i.tracker?await jr.remove(i.tracker):i.type=="person"&&i.person?await Zl.remove(i.person):i.type=="context"&&i.ctx&&await Ld.remove(i.ctx),un({message:_e.t("general.removed","Removed")}))},fue=async i=>{try{const e={};return i.filter(t=>t.type==="tracker").map(t=>{e[t.tracker.tag]=t.tracker}),await jr.updateSync(t=>({...t,...e})),Mc(),!0}catch(e){return console.error(e),!1}},due={date:we(),usage:{},usageHash:"",showController:!1},tl=Bt(due),hue=()=>{tl.update(i=>(i.showController=!0,i))},So=async i=>{const e=we(i.date||new Date),t=await Ut.query({start:e.startOf("day"),end:e.endOf("day"),caller:"today-store"}),n=Ms(t,{trackables:i.knownTrackables||{},caller:"$TodayStore.loadToday"});tl.update(r=>(r.date=e,r.usage=n,r.usageHash=Fn(n),i.showController===!1&&(r.showController=!1),r))},ug="0123456789bcdefghjkmnpqrstuvwxyz";class ji{static encode(e,t,n){if(typeof n>"u"){for(let d=1;d<=12;d++){const m=ji.encode(e,t,d),p=ji.decode(m);if(p.lat==e&&p.lon==t)return m}n=12}if(e=Number(e),t=Number(t),n=Number(n),isNaN(e)||isNaN(t)||isNaN(n))throw new Error("Invalid geohash");let r=0,s=0,l=!0,o="",a=-90,u=90,c=-180,f=180;for(;o.length<n;){if(l){const d=(c+f)/2;t>=d?(r=r*2+1,c=d):(r=r*2,f=d)}else{const d=(a+u)/2;e>=d?(r=r*2+1,a=d):(r=r*2,u=d)}l=!l,++s==5&&(o+=ug.charAt(r),s=0,r=0)}return o}static decode(e){const t=ji.bounds(e),n=t.sw.lat,r=t.sw.lon,s=t.ne.lat,l=t.ne.lon;let o=(n+s)/2,a=(r+l)/2;return o=o.toFixed(Math.floor(2-Math.log(s-n)/Math.LN10)),a=a.toFixed(Math.floor(2-Math.log(l-r)/Math.LN10)),{lat:Number(o),lon:Number(a)}}static bounds(e){if(e.length==0)throw new Error("Invalid geohash");e=e.toLowerCase();let t=!0,n=-90,r=90,s=-180,l=180;for(let a=0;a<e.length;a++){const u=e.charAt(a),c=ug.indexOf(u);if(c==-1)throw new Error("Invalid geohash");for(let f=4;f>=0;f--){const d=c>>f&1;if(t){const m=(s+l)/2;d==1?s=m:l=m}else{const m=(n+r)/2;d==1?n=m:r=m}t=!t}}return{sw:{lat:n,lon:s},ne:{lat:r,lon:l}}}static adjacent(e,t){if(e=e.toLowerCase(),t=t.toLowerCase(),e.length==0)throw new Error("Invalid geohash");if("nsew".indexOf(t)==-1)throw new Error("Invalid direction");const n={n:["p0r21436x8zb9dcf5h7kjnmqesgutwvy","bc01fg45238967deuvhjyznpkmstqrwx"],s:["14365h7k9dcfesgujnmqp0r2twvyx8zb","238967debc01fg45kmstqrwxuvhjyznp"],e:["bc01fg45238967deuvhjyznpkmstqrwx","p0r21436x8zb9dcf5h7kjnmqesgutwvy"],w:["238967debc01fg45kmstqrwxuvhjyznp","14365h7k9dcfesgujnmqp0r2twvyx8zb"]},r={n:["prxz","bcfguvyz"],s:["028b","0145hjnp"],e:["bcfguvyz","prxz"],w:["0145hjnp","028b"]},s=e.slice(-1);let l=e.slice(0,-1);const o=e.length%2;return r[t][o].indexOf(s)!=-1&&l!=""&&(l=ji.adjacent(l,t)),l+ug.charAt(n[t][o].indexOf(s))}static neighbours(e){return{n:ji.adjacent(e,"n"),ne:ji.adjacent(ji.adjacent(e,"n"),"e"),e:ji.adjacent(e,"e"),se:ji.adjacent(ji.adjacent(e,"s"),"e"),s:ji.adjacent(e,"s"),sw:ji.adjacent(ji.adjacent(e,"s"),"w"),w:ji.adjacent(e,"w"),nw:ji.adjacent(ji.adjacent(e,"n"),"w")}}}class vo{constructor(e){Ne(this,"lat");Ne(this,"lng");Ne(this,"name");Ne(this,"hash");Ne(this,"id");this.lat=e.lat,this.lng=e.lng,this.name=e.name,this.hash=e.hash||this.getGeoHash(),this.id=e.id||`${this.hash}:${pn(4)}`}getGeoHash(){return ji.encode(this.lat,this.lng,10)}}const RL={between(i,e,t){t=t||"km";const n=i[0],r=i[1],s=e[0],l=e[1];if(n==s&&r==l)return 0;{let o=Math.PI*n/180,a=Math.PI*s/180,u=r-l,c=Math.PI*u/180,f=Math.sin(o)*Math.sin(a)+Math.cos(o)*Math.cos(a)*Math.cos(c);return f>1&&(f=1),f=Math.acos(f),f=f*180/Math.PI,f=f*60*1.1515,t=="km"?f=f*1.609344:f=f*.8684,f}},furthest(i,e){e=e||"nm";let t=0;if((i||[]).length>1){let n=i[0];i.forEach(r=>{let s=this.between(r,n,e);t<s&&(t=s)})}return t}},Wr=tu(Xn.storage.locations(),{label:"Locations",key:"id",itemInitializer:i=>new vo(i),itemSerializer:i=>JSON.parse(JSON.stringify(i))}),mue=(i,e)=>{let t=[...e].map(n=>({distance:RL.between([i.lat,i.lng],[n.lat,n.lng],"nm"),location:n})).sort((n,r)=>n.distance>r.distance?1:-1).find(n=>n.distance<.1);return t?t.location:null},jL=i=>{const e=Wr.rawState();return mue(i,e)},pue=async i=>{const e=`https://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer/findAddressCandidates?outSr=4326&forStorage=false&outFields=*&maxLocations=5&singleLine=${encodeURIComponent(i.name)}&magicKey=${i.magicKey}&f=json`,r=(await(await fetch(e)).json()).candidates[0];if(r)return new vo({lat:r.location.y,lng:r.location.x,name:i.name})},_ue=async i=>{const e=`https://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer/suggest?text=${encodeURIComponent(i)}&maxSuggestions=5&f=json`;return((await(await fetch(e)).json()).suggestions||[]).map(r=>({name:r.text,magicKey:r.magicKey}))};new Uo("\u{1F5FA} locate.js");const Pw="loc-cache",Od=()=>{let i=()=>new Promise((e,t)=>{try{navigator.geolocation.getCurrentPosition(n=>{let r={time:new Date().getTime(),latitude:n.coords.latitude,lat:n.coords.latitude,longitude:n.coords.longitude,lng:n.coords.longitude};localStorage.setItem(Pw,JSON.stringify(r)),e(r)},n=>{t(n)},{timeout:3e3})}catch(n){t(n)}});return new Promise((e,t)=>{let n=JSON.parse(localStorage.getItem(Pw)||"null");try{n?new Date().getTime()-n.time<1e3*60*2?e({time:n.time,latitude:n.latitude,longitude:n.longitude}):navigator.geolocation?i().then(e).catch(t):t({message:"No geolocation service found"}):i().then(e).catch(t)}catch(r){t(r)}})};async function YL(i){if(Dd().alwaysLocate)try{let n=await Od(),r=new vo({lat:n.latitude,lng:n.longitude}),s=jL(r);return s&&s.name&&(r.name=s.name),r&&!i.lat&&(i.lat=r.lat,i.lng=r.lng,i.location=r.name),i}catch(n){return console.error("Non-fatal location error",n.message),i}else return i}let Vs;const gue=()=>{let i={books:{},booksLastUpdate:{},today:{},count:0,saving:!1,hash:null,memories:[]};Vs=new Lae(Vt,Xn.storage.book);function e(l={}){let o;return s(a=>(o={...a,...l,hash:t.getHash(a)},o)),o}const t={hooks:new eM,async init(){return!0},filterLogs(l,o){return DL(l,o||{})},hook(l,o){return t.hooks.hook(l,o)},async getBook(l,o=!1){return await Vs.getBook(l,o)},async putBook(l,o){return await Vs.saveBook(l,o)},async getFirstDate(l=!1){return Vs.getFirstDate(l)},async listBooks(){return Vs.listBooks()},getLastUsed(){alert("FIX THIS LedgerStore line 173")},extractTrackerTagAndValues(l){return Vs.getTrackablesFromLogs(l)},async locateIfNeeded(l){return await YL(l)},async updateLog(l,o){{t.hooks.run("onBeforeUpdate",l),Aa.update(k=>!0),l.modified=new Date().getTime();let a=l.bookId,u=Mu(o),c=a===u,f=await t.getBook(a),d;const m=f.findIndex(k=>k._id==l._id);m>-1?f[m]=l:f.push(l),c||(d=await t.getBook(u),d=d.filter(k=>k._id!==l._id)),s(k=>(k.books[a]=f,c||(k.books[u]=d),k.hash=t.getHash(k),k)),Aa.update(k=>!1);let p=[t.putBook(a,f)];c||p.push(t.putBook(u,d));let g=Promise.all(p).then(k=>k[0]);return t.hooks.run("onLogUpdate",l),g}},getLastUpdatePath(l){return Xn.storage.book(`${l}_last`)},async getLastUpdate(l){return await Vt.get(t.getLastUpdatePath(l))},async getBookWithSync(l){try{const o=await Vt.get(Xn.storage.book(l));return!o&&Vt.storageType()=="firebase"?(un({message:`Creating ${Mu(new Date)} in Nomie Cloud`}),[]):o||[]}catch(o){throw Xe.error(o),o}},async getLog(l,o){let u=(await Vt.get(Xn.storage.book(o))).find(c=>c._id==l);return u?new Gt(u):null},async _saveLog(l,o){let a=e({saving:!0});try{let u=Mu(l.end),c=Xn.storage.book(u),f=await t.getBookWithSync(u);!f.length&&a.books[u].length&&(console.error("NOTICE: I was not able to get the latest from the server as it returned an empty array. Instead, I'm just using the book that we have stored locally."),f=a.books[u]),f.push(l),await Vt.put(c,f),a.books[u]=f;let d=new Date().toJSON(),m=t.getLastUpdatePath(u);setTimeout(()=>{Vt.put(m,d),a.booksLastUpdate[u]=d},1),s(g=>(g.books=a.books,g.hash=t.getHash(g),g)),Aa.update(g=>!1);const p=pae(l);return un({message:`${_e.t("general.saved","Saved")}: ${IJ.truncate(l.note,100)}`,timeout:2200,type:"success",buttonLabel:"Undo",buttonClick:()=>{Ut.deleteLogs([l]).then(async()=>{Br.updateSync(g=>({...g,...p})),await So({knownTrackables:Ou}),s(g=>(g.hash=`${Math.random()}`,g)),un({message:"Undo complete"})})}}),o!=null&&o.silent||t.hooks.run("onLogSaved",l),{log:l,date:u}}catch(u){throw console.error(`_saveLog error: ${u.message}`),console.error(u),new Error(u.message)}},getHash(l){return Object.keys(l.books).map(o=>l.books[o].length).reduce((o,a)=>o+a).toString()},async deleteLogs(l){let o={};l.forEach(c=>{let f=Mu(c.end);Vt.storageType()=="firebase"&&Cie(c),o[f]=o[f]||[],o[f].push(c._id)});let a=[];s(c=>(Object.keys(o).forEach(async f=>{let d=await t.getBook(f),m=o[f],p=d.filter(g=>m.indexOf(g._id)==-1);c.books[f]=p,a.push(t.putBook(f,p))}),c));let u=await Promise.all(a);return t.hooks.run("onLogsDeleted",u),u},async import(l,o){return await new vae(Vt,l,o,Vs).import()},async queryAll(l,o,a){return(await t.query({start:o,end:a,search:l})).sort((c,f)=>c.end<f.end?1:-1)},async queryTag(l,o,a){return(await t.query({start:o,end:a,search:`#${l}`})).sort((c,f)=>c.end<f.end?1:-1)},async getDay(l){return t.query({start:we(l).startOf("day"),end:we(l).endOf("day")})},async getMemories(){let l=await Vs.getMemories(t.getDay);s(o=>(o.memories=l,o))},getState(){let l;return s(o=>(l=o,o)),l},async query(l){let o=t.getState(),a=await Vs.query(l,o.books);return l.fresh!==!1&&s(u=>(u.books={...u.books,...a.books},u.hash=t.getHash(u),u)),a.logs}},{subscribe:n,set:r,update:s}=Bt(i);return{methods:t,update:s,subscribe:n,...t,reset(){return r(i)}}},Ut=gue(),Aa=Bt(!1),To=async(i,e)=>{Aa.update(r=>!0);const t=await vue(i);let n;try{return n=await Ut._saveLog(t,e),t.score>=2&&Xe.confetti({show:!0,timeout:2500}),Aa.update(r=>!1),n}catch(r){console.error(`Error Saving log: ${r}`),Aa.update(s=>!1),Xe.error(r.message)}return n},vue=async(i,e)=>(i=await YL(i),i.score=i.score||Ja(i.note,i.end,e),i=Vs.prepareLogForSave(i),i),Nv=async(i,e)=>{const t=await Ut.query(i);return Ms(t,{trackables:e,caller:"queryToUsageMap"})},Id=async(i,e,t)=>(await Nv(e,t))[i.tag]||new $r({trackable:i,dates:[],values:[]}),Mv=async(i,e,t,n)=>await Id(i,{start:e,end:t},n);let Nw;const Mf=async(i,e)=>new Promise(t=>{e.note=i,clearTimeout(Nw),Nw=setTimeout(async()=>{await Ut.updateLog(e),t(e)},200)});var Ns;(function(i){i[i.Open=0]="Open",i[i.Closed=1]="Closed"})(Ns||(Ns={}));const UL="headlessui-open-closed-context";function qL(){return sr(UL)}function HL(i){Ts(UL,i)}function lc(i,e,...t){if(i in e){let r=e[i];return typeof r=="function"?r(...t):r}let n=new Error(`Tried to handle "${i}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(r=>`"${r}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,lc),n}let bue=0;function kue(){return++bue}function Bd(){return kue()}var Ni;(function(i){i.Space=" ",i.Enter="Enter",i.Escape="Escape",i.Backspace="Backspace",i.ArrowLeft="ArrowLeft",i.ArrowUp="ArrowUp",i.ArrowRight="ArrowRight",i.ArrowDown="ArrowDown",i.Home="Home",i.End="End",i.PageUp="PageUp",i.PageDown="PageDown",i.Tab="Tab"})(Ni||(Ni={}));var Mw;(function(i){i[i.First=1]="First",i[i.Previous=2]="Previous",i[i.Next=4]="Next",i[i.Last=8]="Last",i[i.WrapAround=16]="WrapAround",i[i.NoScroll=32]="NoScroll"})(Mw||(Mw={}));var Lw;(function(i){i[i.Error=0]="Error",i[i.Overflow=1]="Overflow",i[i.Success=2]="Success",i[i.Underflow=3]="Underflow"})(Lw||(Lw={}));var Ow;(function(i){i[i.Previous=-1]="Previous",i[i.Next=1]="Next"})(Ow||(Ow={}));var Iw;(function(i){i[i.Strict=0]="Strict",i[i.Loose=1]="Loose"})(Iw||(Iw={}));var Bw;(function(i){i[i.Add=0]="Add",i[i.Remove=1]="Remove"})(Bw||(Bw={}));const yue="headlessui-description-context";function wue(){return sr(yue)}const D1="!",$ue=new RegExp(`^[^${D1}]+(?:${D1}(?:preventDefault|stopPropagation|passive|nonpassive|capture|once|self))+$`);function qo(i,e=[]){let t,n=[];i.$on=(s,l)=>{let o=s,a=()=>{};for(let u of e){if(typeof u=="string"&&u===o){const c=i.$$.callbacks[o]||(i.$$.callbacks[o]=[]);return c.push(l),()=>{const f=c.indexOf(l);f!==-1&&c.splice(f,1)}}if(typeof u=="object"&&u.name===o){let c=l;l=(...f)=>{typeof u=="object"&&u.shouldExclude()||c(...f)}}}return t?a=t(o,l):n.push([o,l]),()=>{a()}};function r(s){Gr(i,s)}return s=>{const l=[],o={};t=(a,u)=>{let c=a,f=u,d=!1;if(c.match($ue)){const k=c.split(D1);c=k[0];const $=Object.fromEntries(k.slice(1).map(D=>[D,!0]));$.passive&&(d=d||{},d.passive=!0),$.nonpassive&&(d=d||{},d.passive=!1),$.capture&&(d=d||{},d.capture=!0),$.once&&(d=d||{},d.once=!0),$.preventDefault&&(f=Or(f)),$.stopPropagation&&(f=Ro(f))}const p=ke(s,c,f,d),g=()=>{p();const k=l.indexOf(g);k>-1&&l.splice(k,1)};return l.push(g),c in o||(o[c]=ke(s,c,r)),g};for(let a=0;a<n.length;a++)t(n[a][0],n[a][1]);return{destroy:()=>{for(let a=0;a<l.length;a++)l[a]();for(let a of Object.entries(o))a[1]()}}}}const Fue=["a","address","article","aside","b","bdi","bdo","blockquote","button","cite","code","data","datalist","dd","dl","dt","div","em","footer","form","h1","h2","h3","h4","h5","h6","header","i","input","label","li","main","nav","ol","p","section","span","strong","ul"];function Eue(i){return!(typeof i=="string"&&!Fue.includes(i))}function on(i,e){let t=[];if(e)for(let n=0;n<e.length;n++){const r=e[n],s=Array.isArray(r)?r[0]:r;Array.isArray(r)&&r.length>1?t.push(s(i,r[1])):t.push(s(i))}return{update(n){if((n&&n.length||0)!=t.length)throw new Error("You must not change the length of an actions array.");if(n)for(let r=0;r<n.length;r++){const s=t[r];if(s&&s.update){const l=n[r];Array.isArray(l)&&l.length>1?s.update(l[1]):s.update()}}},destroy(){for(let n=0;n<t.length;n++){const r=t[n];r&&r.destroy&&r.destroy()}}}}var Vr;(function(i){i[i.None=0]="None",i[i.RenderStrategy=1]="RenderStrategy",i[i.Static=2]="Static"})(Vr||(Vr={}));function zw(i){let e,t,n,r;const s=[fce,cce,uce,ace,oce,lce,sce,rce,ice,nce,tce,ece,Que,Jue,Kue,Xue,xue,Zue,Gue,Vue,Wue,Hue,que,Uue,Yue,jue,Rue,zue,Bue,Iue,Oue,Lue,Mue,Nue,Pue,Aue,Tue,Sue,Cue,Due],l=[];function o(a,u){return a[1]==="a"?0:a[1]==="address"?1:a[1]==="article"?2:a[1]==="aside"?3:a[1]==="b"?4:a[1]==="bdi"?5:a[1]==="bdo"?6:a[1]==="blockquote"?7:a[1]==="button"?8:a[1]==="cite"?9:a[1]==="code"?10:a[1]==="data"?11:a[1]==="datalist"?12:a[1]==="dd"?13:a[1]==="dl"?14:a[1]==="dt"?15:a[1]==="div"?16:a[1]==="em"?17:a[1]==="footer"?18:a[1]==="form"?19:a[1]==="h1"?20:a[1]==="h2"?21:a[1]==="h3"?22:a[1]==="h4"?23:a[1]==="h5"?24:a[1]==="h6"?25:a[1]==="header"?26:a[1]==="i"?27:a[1]==="input"?28:a[1]==="label"?29:a[1]==="li"?30:a[1]==="main"?31:a[1]==="nav"?32:a[1]==="ol"?33:a[1]==="p"?34:a[1]==="section"?35:a[1]==="span"?36:a[1]==="strong"?37:a[1]==="ul"?38:39}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=$e()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?l[e].p(a,u):(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function Due(i){let e,t,n,r;const s=[{use:[...i[2],i[6]]},i[7],i[3],{hidden:i[4]||void 0}];function l(u){i[58](u)}var o=i[1];function a(u){let c={$$slots:{default:[dce]},$$scope:{ctx:u}};for(let f=0;f<s.length;f+=1)c=ft(c,s[f]);return u[0]!==void 0&&(c.el=u[0]),{props:c}}return o&&(e=an(o,a(i)),De.push(()=>Ue(e,"el",l,i[0]))),{c(){e&&O(e.$$.fragment),n=$e()},m(u,c){e&&N(e,u,c),w(u,n,c),r=!0},p(u,c){const f=c[0]&220?At(s,[c[0]&68&&{use:[...u[2],u[6]]},c[0]&128&&Ki(u[7]),c[0]&8&&Ki(u[3]),c[0]&16&&{hidden:u[4]||void 0}]):{};if(c[1]&268435456&&(f.$$scope={dirty:c,ctx:u}),!t&&c[0]&1&&(t=!0,f.el=u[0],qe(()=>t=!1)),o!==(o=u[1])){if(e){ie();const d=e;v(d.$$.fragment,1,0,()=>{M(d,1)}),re()}o?(e=an(o,a(u)),De.push(()=>Ue(e,"el",l,u[0])),O(e.$$.fragment),_(e.$$.fragment,1),N(e,n.parentNode,n)):e=null}else o&&e.$set(f)},i(u){r||(e&&_(e.$$.fragment,u),r=!0)},o(u){e&&v(e.$$.fragment,u),r=!1},d(u){u&&y(n),e&&M(e,u)}}}function Cue(i){let e,t,n,r,s,l;const o=i[18].default,a=He(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=ft(c,u[f]);return{c(){e=A("ul"),a&&a.c(),gt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[57](e),r=!0,s||(l=[Ct(n=on.call(null,e,i[2])),Ct(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&Ve(a,o,f,f[59],r?We(o,f[59],d,null):Ge(f[59]),null),gt(e,c=At(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&zt(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[57](null),s=!1,pt(l)}}}function Sue(i){let e,t,n,r,s,l;const o=i[18].default,a=He(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=ft(c,u[f]);return{c(){e=A("strong"),a&&a.c(),gt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[56](e),r=!0,s||(l=[Ct(n=on.call(null,e,i[2])),Ct(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&Ve(a,o,f,f[59],r?We(o,f[59],d,null):Ge(f[59]),null),gt(e,c=At(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&zt(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[56](null),s=!1,pt(l)}}}function Tue(i){let e,t,n,r,s,l;const o=i[18].default,a=He(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=ft(c,u[f]);return{c(){e=A("span"),a&&a.c(),gt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[55](e),r=!0,s||(l=[Ct(n=on.call(null,e,i[2])),Ct(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&Ve(a,o,f,f[59],r?We(o,f[59],d,null):Ge(f[59]),null),gt(e,c=At(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&zt(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[55](null),s=!1,pt(l)}}}function Aue(i){let e,t,n,r,s,l;const o=i[18].default,a=He(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=ft(c,u[f]);return{c(){e=A("section"),a&&a.c(),gt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[54](e),r=!0,s||(l=[Ct(n=on.call(null,e,i[2])),Ct(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&Ve(a,o,f,f[59],r?We(o,f[59],d,null):Ge(f[59]),null),gt(e,c=At(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&zt(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[54](null),s=!1,pt(l)}}}function Pue(i){let e,t,n,r,s,l;const o=i[18].default,a=He(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=ft(c,u[f]);return{c(){e=A("p"),a&&a.c(),gt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[53](e),r=!0,s||(l=[Ct(n=on.call(null,e,i[2])),Ct(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&Ve(a,o,f,f[59],r?We(o,f[59],d,null):Ge(f[59]),null),gt(e,c=At(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&zt(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[53](null),s=!1,pt(l)}}}function Nue(i){let e,t,n,r,s,l;const o=i[18].default,a=He(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=ft(c,u[f]);return{c(){e=A("ol"),a&&a.c(),gt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[52](e),r=!0,s||(l=[Ct(n=on.call(null,e,i[2])),Ct(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&Ve(a,o,f,f[59],r?We(o,f[59],d,null):Ge(f[59]),null),gt(e,c=At(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&zt(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[52](null),s=!1,pt(l)}}}function Mue(i){let e,t,n,r,s,l;const o=i[18].default,a=He(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=ft(c,u[f]);return{c(){e=A("nav"),a&&a.c(),gt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[51](e),r=!0,s||(l=[Ct(n=on.call(null,e,i[2])),Ct(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&Ve(a,o,f,f[59],r?We(o,f[59],d,null):Ge(f[59]),null),gt(e,c=At(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&zt(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[51](null),s=!1,pt(l)}}}function Lue(i){let e,t,n,r,s,l;const o=i[18].default,a=He(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=ft(c,u[f]);return{c(){e=A("main"),a&&a.c(),gt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[50](e),r=!0,s||(l=[Ct(n=on.call(null,e,i[2])),Ct(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&Ve(a,o,f,f[59],r?We(o,f[59],d,null):Ge(f[59]),null),gt(e,c=At(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&zt(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[50](null),s=!1,pt(l)}}}function Oue(i){let e,t,n,r,s,l;const o=i[18].default,a=He(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=ft(c,u[f]);return{c(){e=A("li"),a&&a.c(),gt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[49](e),r=!0,s||(l=[Ct(n=on.call(null,e,i[2])),Ct(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&Ve(a,o,f,f[59],r?We(o,f[59],d,null):Ge(f[59]),null),gt(e,c=At(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&zt(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[49](null),s=!1,pt(l)}}}function Iue(i){let e,t,n,r,s,l;const o=i[18].default,a=He(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=ft(c,u[f]);return{c(){e=A("label"),a&&a.c(),gt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[48](e),r=!0,s||(l=[Ct(n=on.call(null,e,i[2])),Ct(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&Ve(a,o,f,f[59],r?We(o,f[59],d,null):Ge(f[59]),null),gt(e,c=At(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&zt(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[48](null),s=!1,pt(l)}}}function Bue(i){let e,t,n,r,s,l=[i[7],i[3],{hidden:t=i[4]||void 0}],o={};for(let a=0;a<l.length;a+=1)o=ft(o,l[a]);return{c(){e=A("input"),gt(e,o)},m(a,u){w(a,e,u),e.autofocus&&e.focus(),i[47](e),r||(s=[Ct(n=on.call(null,e,i[2])),Ct(i[6].call(null,e))],r=!0)},p(a,u){gt(e,o=At(l,[u[0]&128&&a[7],u[0]&8&&a[3],u[0]&16&&t!==(t=a[4]||void 0)&&{hidden:t}])),n&&zt(n.update)&&u[0]&4&&n.update.call(null,a[2])},i:W,o:W,d(a){a&&y(e),i[47](null),r=!1,pt(s)}}}function zue(i){let e,t,n,r,s,l;const o=i[18].default,a=He(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=ft(c,u[f]);return{c(){e=A("i"),a&&a.c(),gt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[46](e),r=!0,s||(l=[Ct(n=on.call(null,e,i[2])),Ct(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&Ve(a,o,f,f[59],r?We(o,f[59],d,null):Ge(f[59]),null),gt(e,c=At(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&zt(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[46](null),s=!1,pt(l)}}}function Rue(i){let e,t,n,r,s,l;const o=i[18].default,a=He(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=ft(c,u[f]);return{c(){e=A("header"),a&&a.c(),gt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[45](e),r=!0,s||(l=[Ct(n=on.call(null,e,i[2])),Ct(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&Ve(a,o,f,f[59],r?We(o,f[59],d,null):Ge(f[59]),null),gt(e,c=At(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&zt(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[45](null),s=!1,pt(l)}}}function jue(i){let e,t,n,r,s,l;const o=i[18].default,a=He(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=ft(c,u[f]);return{c(){e=A("h6"),a&&a.c(),gt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[44](e),r=!0,s||(l=[Ct(n=on.call(null,e,i[2])),Ct(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&Ve(a,o,f,f[59],r?We(o,f[59],d,null):Ge(f[59]),null),gt(e,c=At(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&zt(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[44](null),s=!1,pt(l)}}}function Yue(i){let e,t,n,r,s,l;const o=i[18].default,a=He(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=ft(c,u[f]);return{c(){e=A("h5"),a&&a.c(),gt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[43](e),r=!0,s||(l=[Ct(n=on.call(null,e,i[2])),Ct(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&Ve(a,o,f,f[59],r?We(o,f[59],d,null):Ge(f[59]),null),gt(e,c=At(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&zt(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[43](null),s=!1,pt(l)}}}function Uue(i){let e,t,n,r,s,l;const o=i[18].default,a=He(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=ft(c,u[f]);return{c(){e=A("h4"),a&&a.c(),gt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[42](e),r=!0,s||(l=[Ct(n=on.call(null,e,i[2])),Ct(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&Ve(a,o,f,f[59],r?We(o,f[59],d,null):Ge(f[59]),null),gt(e,c=At(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&zt(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[42](null),s=!1,pt(l)}}}function que(i){let e,t,n,r,s,l;const o=i[18].default,a=He(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=ft(c,u[f]);return{c(){e=A("h3"),a&&a.c(),gt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[41](e),r=!0,s||(l=[Ct(n=on.call(null,e,i[2])),Ct(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&Ve(a,o,f,f[59],r?We(o,f[59],d,null):Ge(f[59]),null),gt(e,c=At(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&zt(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[41](null),s=!1,pt(l)}}}function Hue(i){let e,t,n,r,s,l;const o=i[18].default,a=He(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=ft(c,u[f]);return{c(){e=A("h2"),a&&a.c(),gt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[40](e),r=!0,s||(l=[Ct(n=on.call(null,e,i[2])),Ct(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&Ve(a,o,f,f[59],r?We(o,f[59],d,null):Ge(f[59]),null),gt(e,c=At(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&zt(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[40](null),s=!1,pt(l)}}}function Wue(i){let e,t,n,r,s,l;const o=i[18].default,a=He(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=ft(c,u[f]);return{c(){e=A("h1"),a&&a.c(),gt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[39](e),r=!0,s||(l=[Ct(n=on.call(null,e,i[2])),Ct(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&Ve(a,o,f,f[59],r?We(o,f[59],d,null):Ge(f[59]),null),gt(e,c=At(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&zt(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[39](null),s=!1,pt(l)}}}function Vue(i){let e,t,n,r,s,l;const o=i[18].default,a=He(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=ft(c,u[f]);return{c(){e=A("form"),a&&a.c(),gt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[38](e),r=!0,s||(l=[Ct(n=on.call(null,e,i[2])),Ct(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&Ve(a,o,f,f[59],r?We(o,f[59],d,null):Ge(f[59]),null),gt(e,c=At(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&zt(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[38](null),s=!1,pt(l)}}}function Gue(i){let e,t,n,r,s,l;const o=i[18].default,a=He(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=ft(c,u[f]);return{c(){e=A("footer"),a&&a.c(),gt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[37](e),r=!0,s||(l=[Ct(n=on.call(null,e,i[2])),Ct(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&Ve(a,o,f,f[59],r?We(o,f[59],d,null):Ge(f[59]),null),gt(e,c=At(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&zt(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[37](null),s=!1,pt(l)}}}function Zue(i){let e,t,n,r,s,l;const o=i[18].default,a=He(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=ft(c,u[f]);return{c(){e=A("em"),a&&a.c(),gt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[36](e),r=!0,s||(l=[Ct(n=on.call(null,e,i[2])),Ct(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&Ve(a,o,f,f[59],r?We(o,f[59],d,null):Ge(f[59]),null),gt(e,c=At(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&zt(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[36](null),s=!1,pt(l)}}}function xue(i){let e,t,n,r,s,l;const o=i[18].default,a=He(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=ft(c,u[f]);return{c(){e=A("div"),a&&a.c(),gt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[35](e),r=!0,s||(l=[Ct(n=on.call(null,e,i[2])),Ct(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&Ve(a,o,f,f[59],r?We(o,f[59],d,null):Ge(f[59]),null),gt(e,c=At(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&zt(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[35](null),s=!1,pt(l)}}}function Xue(i){let e,t,n,r,s,l;const o=i[18].default,a=He(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=ft(c,u[f]);return{c(){e=A("dt"),a&&a.c(),gt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[34](e),r=!0,s||(l=[Ct(n=on.call(null,e,i[2])),Ct(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&Ve(a,o,f,f[59],r?We(o,f[59],d,null):Ge(f[59]),null),gt(e,c=At(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&zt(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[34](null),s=!1,pt(l)}}}function Kue(i){let e,t,n,r,s,l;const o=i[18].default,a=He(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=ft(c,u[f]);return{c(){e=A("dl"),a&&a.c(),gt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[33](e),r=!0,s||(l=[Ct(n=on.call(null,e,i[2])),Ct(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&Ve(a,o,f,f[59],r?We(o,f[59],d,null):Ge(f[59]),null),gt(e,c=At(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&zt(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[33](null),s=!1,pt(l)}}}function Jue(i){let e,t,n,r,s,l;const o=i[18].default,a=He(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=ft(c,u[f]);return{c(){e=A("dd"),a&&a.c(),gt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[32](e),r=!0,s||(l=[Ct(n=on.call(null,e,i[2])),Ct(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&Ve(a,o,f,f[59],r?We(o,f[59],d,null):Ge(f[59]),null),gt(e,c=At(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&zt(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[32](null),s=!1,pt(l)}}}function Que(i){let e,t,n,r,s,l;const o=i[18].default,a=He(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=ft(c,u[f]);return{c(){e=A("datalist"),a&&a.c(),gt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[31](e),r=!0,s||(l=[Ct(n=on.call(null,e,i[2])),Ct(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&Ve(a,o,f,f[59],r?We(o,f[59],d,null):Ge(f[59]),null),gt(e,c=At(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&zt(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[31](null),s=!1,pt(l)}}}function ece(i){let e,t,n,r,s,l;const o=i[18].default,a=He(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=ft(c,u[f]);return{c(){e=A("data"),a&&a.c(),gt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[30](e),r=!0,s||(l=[Ct(n=on.call(null,e,i[2])),Ct(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&Ve(a,o,f,f[59],r?We(o,f[59],d,null):Ge(f[59]),null),gt(e,c=At(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&zt(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[30](null),s=!1,pt(l)}}}function tce(i){let e,t,n,r,s,l;const o=i[18].default,a=He(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=ft(c,u[f]);return{c(){e=A("code"),a&&a.c(),gt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[29](e),r=!0,s||(l=[Ct(n=on.call(null,e,i[2])),Ct(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&Ve(a,o,f,f[59],r?We(o,f[59],d,null):Ge(f[59]),null),gt(e,c=At(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&zt(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[29](null),s=!1,pt(l)}}}function nce(i){let e,t,n,r,s,l;const o=i[18].default,a=He(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=ft(c,u[f]);return{c(){e=A("cite"),a&&a.c(),gt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[28](e),r=!0,s||(l=[Ct(n=on.call(null,e,i[2])),Ct(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&Ve(a,o,f,f[59],r?We(o,f[59],d,null):Ge(f[59]),null),gt(e,c=At(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&zt(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[28](null),s=!1,pt(l)}}}function ice(i){let e,t,n,r,s,l;const o=i[18].default,a=He(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=ft(c,u[f]);return{c(){e=A("button"),a&&a.c(),gt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),e.autofocus&&e.focus(),i[27](e),r=!0,s||(l=[Ct(n=on.call(null,e,i[2])),Ct(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&Ve(a,o,f,f[59],r?We(o,f[59],d,null):Ge(f[59]),null),gt(e,c=At(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&zt(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[27](null),s=!1,pt(l)}}}function rce(i){let e,t,n,r,s,l;const o=i[18].default,a=He(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=ft(c,u[f]);return{c(){e=A("blockquote"),a&&a.c(),gt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[26](e),r=!0,s||(l=[Ct(n=on.call(null,e,i[2])),Ct(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&Ve(a,o,f,f[59],r?We(o,f[59],d,null):Ge(f[59]),null),gt(e,c=At(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&zt(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[26](null),s=!1,pt(l)}}}function sce(i){let e,t,n,r,s,l;const o=i[18].default,a=He(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=ft(c,u[f]);return{c(){e=A("bdo"),a&&a.c(),gt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[25](e),r=!0,s||(l=[Ct(n=on.call(null,e,i[2])),Ct(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&Ve(a,o,f,f[59],r?We(o,f[59],d,null):Ge(f[59]),null),gt(e,c=At(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&zt(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[25](null),s=!1,pt(l)}}}function lce(i){let e,t,n,r,s,l;const o=i[18].default,a=He(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=ft(c,u[f]);return{c(){e=A("bdi"),a&&a.c(),gt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[24](e),r=!0,s||(l=[Ct(n=on.call(null,e,i[2])),Ct(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&Ve(a,o,f,f[59],r?We(o,f[59],d,null):Ge(f[59]),null),gt(e,c=At(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&zt(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[24](null),s=!1,pt(l)}}}function oce(i){let e,t,n,r,s,l;const o=i[18].default,a=He(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=ft(c,u[f]);return{c(){e=A("b"),a&&a.c(),gt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[23](e),r=!0,s||(l=[Ct(n=on.call(null,e,i[2])),Ct(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&Ve(a,o,f,f[59],r?We(o,f[59],d,null):Ge(f[59]),null),gt(e,c=At(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&zt(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[23](null),s=!1,pt(l)}}}function ace(i){let e,t,n,r,s,l;const o=i[18].default,a=He(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=ft(c,u[f]);return{c(){e=A("aside"),a&&a.c(),gt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[22](e),r=!0,s||(l=[Ct(n=on.call(null,e,i[2])),Ct(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&Ve(a,o,f,f[59],r?We(o,f[59],d,null):Ge(f[59]),null),gt(e,c=At(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&zt(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[22](null),s=!1,pt(l)}}}function uce(i){let e,t,n,r,s,l;const o=i[18].default,a=He(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=ft(c,u[f]);return{c(){e=A("article"),a&&a.c(),gt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[21](e),r=!0,s||(l=[Ct(n=on.call(null,e,i[2])),Ct(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&Ve(a,o,f,f[59],r?We(o,f[59],d,null):Ge(f[59]),null),gt(e,c=At(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&zt(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[21](null),s=!1,pt(l)}}}function cce(i){let e,t,n,r,s,l;const o=i[18].default,a=He(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=ft(c,u[f]);return{c(){e=A("address"),a&&a.c(),gt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[20](e),r=!0,s||(l=[Ct(n=on.call(null,e,i[2])),Ct(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&Ve(a,o,f,f[59],r?We(o,f[59],d,null):Ge(f[59]),null),gt(e,c=At(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&zt(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[20](null),s=!1,pt(l)}}}function fce(i){let e,t,n,r,s,l;const o=i[18].default,a=He(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=ft(c,u[f]);return{c(){e=A("a"),a&&a.c(),gt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[19](e),r=!0,s||(l=[Ct(n=on.call(null,e,i[2])),Ct(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&Ve(a,o,f,f[59],r?We(o,f[59],d,null):Ge(f[59]),null),gt(e,c=At(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&zt(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[19](null),s=!1,pt(l)}}}function dce(i){let e;const t=i[18].default,n=He(t,i,i[59],null);return{c(){n&&n.c()},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s[1]&268435456)&&Ve(n,t,r,r[59],e?We(t,r[59],s,null):Ge(r[59]),null)},i(r){e||(_(n,r),e=!0)},o(r){v(n,r),e=!1},d(r){n&&n.d(r)}}}function hce(i){let e,t,n=i[5]&&zw(i);return{c(){n&&n.c(),e=$e()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,s){r[5]?n?(n.p(r,s),s[0]&32&&_(n,1)):(n=zw(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ie(),v(n,1,1,()=>{n=null}),re())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}var Ol;(function(i){i[i.Unmount=0]="Unmount",i[i.Hidden=1]="Hidden"})(Ol||(Ol={}));function mce(i,e,t){let n,r,s,l,o;const a=["name","as","slotProps","el","use","visible","features","unmount","static","class","style"];let u=An(e,a),{$$slots:c={},$$scope:f}=e;const d=qo(Cr());let{name:m}=e,{as:p}=e,{slotProps:g}=e,{el:k=null}=e,{use:$=[]}=e,{visible:D=!0}=e,{features:F=Vr.None}=e,{unmount:C=!0}=e,{static:S=!1}=e,{class:P=void 0}=e,{style:I=void 0}=e;if(!p)throw new Error(`<${m}> did not provide an \`as\` value to <Render>`);if(!Eue(p))throw new Error(`<${m}> has an invalid or unsupported \`as\` prop: ${p}`);function R(Ye){De[Ye?"unshift":"push"](()=>{k=Ye,t(0,k)})}function B(Ye){De[Ye?"unshift":"push"](()=>{k=Ye,t(0,k)})}function z(Ye){De[Ye?"unshift":"push"](()=>{k=Ye,t(0,k)})}function q(Ye){De[Ye?"unshift":"push"](()=>{k=Ye,t(0,k)})}function H(Ye){De[Ye?"unshift":"push"](()=>{k=Ye,t(0,k)})}function K(Ye){De[Ye?"unshift":"push"](()=>{k=Ye,t(0,k)})}function G(Ye){De[Ye?"unshift":"push"](()=>{k=Ye,t(0,k)})}function U(Ye){De[Ye?"unshift":"push"](()=>{k=Ye,t(0,k)})}function Q(Ye){De[Ye?"unshift":"push"](()=>{k=Ye,t(0,k)})}function V(Ye){De[Ye?"unshift":"push"](()=>{k=Ye,t(0,k)})}function x(Ye){De[Ye?"unshift":"push"](()=>{k=Ye,t(0,k)})}function ee(Ye){De[Ye?"unshift":"push"](()=>{k=Ye,t(0,k)})}function J(Ye){De[Ye?"unshift":"push"](()=>{k=Ye,t(0,k)})}function se(Ye){De[Ye?"unshift":"push"](()=>{k=Ye,t(0,k)})}function te(Ye){De[Ye?"unshift":"push"](()=>{k=Ye,t(0,k)})}function ge(Ye){De[Ye?"unshift":"push"](()=>{k=Ye,t(0,k)})}function ae(Ye){De[Ye?"unshift":"push"](()=>{k=Ye,t(0,k)})}function ve(Ye){De[Ye?"unshift":"push"](()=>{k=Ye,t(0,k)})}function Te(Ye){De[Ye?"unshift":"push"](()=>{k=Ye,t(0,k)})}function Pe(Ye){De[Ye?"unshift":"push"](()=>{k=Ye,t(0,k)})}function pe(Ye){De[Ye?"unshift":"push"](()=>{k=Ye,t(0,k)})}function Ie(Ye){De[Ye?"unshift":"push"](()=>{k=Ye,t(0,k)})}function ye(Ye){De[Ye?"unshift":"push"](()=>{k=Ye,t(0,k)})}function st(Ye){De[Ye?"unshift":"push"](()=>{k=Ye,t(0,k)})}function dt(Ye){De[Ye?"unshift":"push"](()=>{k=Ye,t(0,k)})}function lt(Ye){De[Ye?"unshift":"push"](()=>{k=Ye,t(0,k)})}function vt(Ye){De[Ye?"unshift":"push"](()=>{k=Ye,t(0,k)})}function kt(Ye){De[Ye?"unshift":"push"](()=>{k=Ye,t(0,k)})}function Ze(Ye){De[Ye?"unshift":"push"](()=>{k=Ye,t(0,k)})}function bt(Ye){De[Ye?"unshift":"push"](()=>{k=Ye,t(0,k)})}function Yt(Ye){De[Ye?"unshift":"push"](()=>{k=Ye,t(0,k)})}function sn(Ye){De[Ye?"unshift":"push"](()=>{k=Ye,t(0,k)})}function Ln(Ye){De[Ye?"unshift":"push"](()=>{k=Ye,t(0,k)})}function In(Ye){De[Ye?"unshift":"push"](()=>{k=Ye,t(0,k)})}function On(Ye){De[Ye?"unshift":"push"](()=>{k=Ye,t(0,k)})}function vn(Ye){De[Ye?"unshift":"push"](()=>{k=Ye,t(0,k)})}function hi(Ye){De[Ye?"unshift":"push"](()=>{k=Ye,t(0,k)})}function rt(Ye){De[Ye?"unshift":"push"](()=>{k=Ye,t(0,k)})}function Ii(Ye){De[Ye?"unshift":"push"](()=>{k=Ye,t(0,k)})}function mi(Ye){k=Ye,t(0,k)}return i.$$set=Ye=>{e=ft(ft({},e),ci(Ye)),t(7,u=An(e,a)),"name"in Ye&&t(8,m=Ye.name),"as"in Ye&&t(1,p=Ye.as),"slotProps"in Ye&&t(9,g=Ye.slotProps),"el"in Ye&&t(0,k=Ye.el),"use"in Ye&&t(2,$=Ye.use),"visible"in Ye&&t(10,D=Ye.visible),"features"in Ye&&t(11,F=Ye.features),"unmount"in Ye&&t(12,C=Ye.unmount),"static"in Ye&&t(13,S=Ye.static),"class"in Ye&&t(14,P=Ye.class),"style"in Ye&&t(15,I=Ye.style),"$$scope"in Ye&&t(59,f=Ye.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&16896&&t(17,n=typeof P=="function"?P(g):P),i.$$.dirty[0]&33280&&t(16,r=typeof I=="function"?I(g):I),i.$$.dirty[0]&15360&&t(5,s=D||F&Vr.Static&&S||!(F&Vr.RenderStrategy&&C)),i.$$.dirty[0]&15360&&t(4,l=!D&&!(F&Vr.Static&&S)&&F&Vr.RenderStrategy&&!C),i.$$.dirty[0]&196624&&t(3,o={class:n,style:`${r!=null?r:""}${l?" display: none":""}`||void 0}),i.$$.dirty[0]&8&&o.style===void 0&&delete o.style},[k,p,$,o,l,s,d,u,m,g,D,F,C,S,P,I,r,n,c,R,B,z,q,H,K,G,U,Q,V,x,ee,J,se,te,ge,ae,ve,Te,Pe,pe,Ie,ye,st,dt,lt,vt,kt,Ze,bt,Yt,sn,Ln,In,On,vn,hi,rt,Ii,mi,f]}class nu extends ce{constructor(e){super(),ue(this,e,mce,hce,le,{name:8,as:1,slotProps:9,el:0,use:2,visible:10,features:11,unmount:12,static:13,class:14,style:15},null,[-1,-1])}}var Rw;(function(i){i[i.Open=0]="Open",i[i.Closed=1]="Closed"})(Rw||(Rw={}));var jw;(function(i){i[i.Open=0]="Open",i[i.Closed=1]="Closed"})(jw||(jw={}));function WL(i,e){var n;if(i.type)return i.type;let t=(n=i.as)!=null?n:"button";if(typeof t=="string"&&t.toLowerCase()==="button"||e&&e instanceof HTMLButtonElement)return"button"}function pce(i){throw new Error("Unexpected object: "+i)}var Mi;(function(i){i[i.First=0]="First",i[i.Previous=1]="Previous",i[i.Next=2]="Next",i[i.Last=3]="Last",i[i.Specific=4]="Specific",i[i.Nothing=5]="Nothing"})(Mi||(Mi={}));function _ce(i,e){let t=e.resolveItems();if(t.length<=0)return null;let n=e.resolveActiveIndex(),r=n!=null?n:-1,s=(()=>{switch(i.focus){case Mi.First:return t.findIndex(l=>!e.resolveDisabled(l));case Mi.Previous:{let l=t.slice().reverse().findIndex((o,a,u)=>r!==-1&&u.length-a-1>=r?!1:!e.resolveDisabled(o));return l===-1?l:t.length-1-l}case Mi.Next:return t.findIndex((l,o)=>o<=r?!1:!e.resolveDisabled(l));case Mi.Last:{let l=t.slice().reverse().findIndex(o=>!e.resolveDisabled(o));return l===-1?l:t.length-1-l}case Mi.Specific:return t.findIndex(l=>e.resolveId(l)===i.id);case Mi.Nothing:return null;default:pce(i)}})();return s===-1?n:s}var Yw;(function(i){i[i.Open=0]="Open",i[i.Closed=1]="Closed"})(Yw||(Yw={}));const gce=i=>i&4,vce=i=>({}),Uw=i=>({...i[2]});function bce(i){let e;const t=i[14].default,n=He(t,i,i[15],Uw);return{c(){n&&n.c()},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&32772)&&Ve(n,t,r,r[15],gce(s)||!e?Ge(r[15]):We(t,r[15],s,vce),Uw)},i(r){e||(_(n,r),e=!0)},o(r){v(n,r),e=!1},d(r){n&&n.d(r)}}}function kce(i){let e,t,n,r;const s=[i[9],{use:[...i[0],i[3]]},{as:i[1]},{slotProps:i[2]},{name:"Menu"}];let l={$$slots:{default:[bce]},$$scope:{ctx:i}};for(let o=0;o<s.length;o+=1)l=ft(l,s[o]);return e=new nu({props:l}),{c(){O(e.$$.fragment)},m(o,a){N(e,o,a),t=!0,n||(r=ke(window,"mousedown",i[7]),n=!0)},p(o,[a]){const u=a&527?At(s,[a&512&&Ki(o[9]),a&9&&{use:[...o[0],o[3]]},a&2&&{as:o[1]},a&4&&{slotProps:o[2]},s[4]]):{};a&32772&&(u.$$scope={dirty:a,ctx:o}),e.$set(u)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){v(e.$$.fragment,o),t=!1},d(o){M(e,o),n=!1,r()}}}var nr;(function(i){i[i.Open=0]="Open",i[i.Closed=1]="Closed"})(nr||(nr={}));const VL="headlessui-menu-context";function Lv(i){let e=sr(VL);if(e===void 0)throw new Error(`<${i} /> is missing a parent <Menu /> component.`);return e}function yce(i,e,t){let n;const r=["use","as"];let s=An(e,r),l,o,a,u,{$$slots:c={},$$scope:f}=e,{use:d=[]}=e,{as:m="div"}=e;const p=qo(Cr());let g=nr.Closed,k=Bt(null);Ee(i,k,R=>t(17,o=R));let $=Bt(null);Ee(i,$,R=>t(19,u=R));let D=[],F="",C=null,S=Bt({menuState:g,buttonStore:k,itemsStore:$,items:D,searchQuery:F,activeItemIndex:C,closeMenu:()=>{t(10,g=nr.Closed),t(13,C=null)},openMenu:()=>t(10,g=nr.Open),goToItem(R,B){let z=_ce(R===Mi.Specific?{focus:Mi.Specific,id:B}:{focus:R},{resolveItems:()=>D,resolveActiveIndex:()=>C,resolveId:q=>q.id,resolveDisabled:q=>q.data.disabled});F===""&&C===z||(t(12,F=""),t(13,C=z))},search(R){t(12,F+=R.toLowerCase());let z=(C!==null?D.slice(C+1).concat(D.slice(0,C+1)):D).find(H=>H.data.textValue.startsWith(F)&&!H.data.disabled),q=z?D.indexOf(z):-1;q===-1||q===C||t(13,C=q)},clearSearch(){t(12,F="")},registerItem(R,B){if(!u){t(11,D=[...D,{id:R,data:B}]);return}let z=C!==null?D[C]:null,q=Array.from(u.querySelectorAll('[id^="headlessui-menu-item-"]')).reduce((K,G,U)=>Object.assign(K,{[G.id]:U}),{}),H=[...D,{id:R,data:B}];H.sort((K,G)=>q[K.id]-q[G.id]),t(11,D=H),t(13,C=(()=>z===null?null:D.indexOf(z))())},unregisterItem(R){let B=D.slice(),z=C!==null?B[C]:null,q=B.findIndex(H=>H.id===R);q!==-1&&B.splice(q,1),t(11,D=B),t(13,C=(()=>q===C||z===null?null:B.indexOf(z))())}});Ee(i,S,R=>t(18,a=R)),Ts(VL,S);function P(R){let B=R.target,z=document.activeElement;g===nr.Open&&(o!=null&&o.contains(B)||(u!=null&&u.contains(B)||a.closeMenu(),!(z!==document.body&&(z==null?void 0:z.contains(B)))&&(R.defaultPrevented||o==null||o.focus({preventScroll:!0}))))}let I=Bt(Ns.Closed);return Ee(i,I,R=>t(16,l=R)),HL(I),i.$$set=R=>{e=ft(ft({},e),ci(R)),t(9,s=An(e,r)),"use"in R&&t(0,d=R.use),"as"in R&&t(1,m=R.as),"$$scope"in R&&t(15,f=R.$$scope)},i.$$.update=()=>{i.$$.dirty&15360&&S.update(R=>({...R,menuState:g,buttonStore:k,itemsStore:$,items:D,searchQuery:F,activeItemIndex:C})),i.$$.dirty&1024&&wn(I,l=lc(g,{[nr.Open]:Ns.Open,[nr.Closed]:Ns.Closed}),l),i.$$.dirty&1024&&t(2,n={open:g===nr.Open})},[d,m,n,p,k,$,S,P,I,s,g,D,F,C,c,f]}class wce extends ce{constructor(e){super(),ue(this,e,yce,kce,le,{use:0,as:1})}}const $ce=i=>i&8,Fce=i=>({}),qw=i=>({...i[3]});function Ece(i){let e;const t=i[16].default,n=He(t,i,i[18],qw);return{c(){n&&n.c()},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&262152)&&Ve(n,t,r,r[18],$ce(s)||!e?Ge(r[18]):We(t,r[18],s,Fce),qw)},i(r){e||(_(n,r),e=!0)},o(r){v(n,r),e=!1},d(r){n&&n.d(r)}}}function Dce(i){let e,t,n;const r=[{...i[12],...i[4]},{as:i[0]},{slotProps:i[3]},{use:[...i[1],i[7]]},{name:"MenuButton"}];function s(o){i[17](o)}let l={$$slots:{default:[Ece]},$$scope:{ctx:i}};for(let o=0;o<r.length;o+=1)l=ft(l,r[o]);return i[2]!==void 0&&(l.el=i[2]),e=new nu({props:l}),De.push(()=>Ue(e,"el",s,i[2])),e.$on("click",i[11]),e.$on("keydown",i[9]),e.$on("keyup",i[10]),{c(){O(e.$$.fragment)},m(o,a){N(e,o,a),n=!0},p(o,[a]){const u=a&4251?At(r,[a&4112&&{...o[12],...o[4]},a&1&&{as:o[0]},a&8&&{slotProps:o[3]},a&130&&{use:[...o[1],o[7]]},r[4]]):{};a&262152&&(u.$$scope={dirty:a,ctx:o}),!t&&a&4&&(t=!0,u.el=o[2],qe(()=>t=!1)),e.$set(u)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){M(e,o)}}}function Cce(i,e,t){let n,r,s,l;const o=["as","use","disabled"];let a=An(e,o),u,c,f=W,d=()=>(f(),f=ol(r,H=>t(15,c=H)),r),m,p=W,g=()=>(p(),p=ol(n,H=>t(2,m=H)),n);i.$$.on_destroy.push(()=>f()),i.$$.on_destroy.push(()=>p());let{$$slots:k={},$$scope:$}=e,{as:D="button"}=e,{use:F=[]}=e,{disabled:C=!1}=e;const S=qo(Cr()),P=Lv("MenuButton");Ee(i,P,H=>t(14,u=H));const I=`headlessui-menu-button-${Bd()}`;async function R(H){let K=H;switch(K.key){case Ni.Space:case Ni.Enter:case Ni.ArrowDown:K.preventDefault(),K.stopPropagation(),u.openMenu(),await Ds(),c==null||c.focus({preventScroll:!0}),u.goToItem(Mi.First);break;case Ni.ArrowUp:K.preventDefault(),K.stopPropagation(),u.openMenu(),await Ds(),c==null||c.focus({preventScroll:!0}),u.goToItem(Mi.Last);break}}function B(H){let K=H;switch(K.key){case Ni.Space:K.preventDefault();break}}async function z(H){let K=H;C||(u.menuState===nr.Open?(u.closeMenu(),await Ds(),m==null||m.focus({preventScroll:!0})):(K.preventDefault(),K.stopPropagation(),u.openMenu(),await Ds(),c==null||c.focus({preventScroll:!0})))}function q(H){m=H,n.set(m)}return i.$$set=H=>{t(20,e=ft(ft({},e),ci(H))),t(12,a=An(e,o)),"as"in H&&t(0,D=H.as),"use"in H&&t(1,F=H.use),"disabled"in H&&t(13,C=H.disabled),"$$scope"in H&&t(18,$=H.$$scope)},i.$$.update=()=>{i.$$.dirty&16384&&g(t(6,n=u.buttonStore)),i.$$.dirty&16384&&d(t(5,r=u.itemsStore)),t(4,s={id:I,type:WL({type:e.type,as:D},m),disabled:C?!0:void 0,"aria-haspopup":!0,"aria-controls":c==null?void 0:c.id,"aria-expanded":C?void 0:u.menuState===nr.Open}),i.$$.dirty&16384&&t(3,l={open:u.menuState===nr.Open})},e=ci(e),[D,F,m,l,s,r,n,S,P,R,B,z,a,C,u,c,k,q,$]}class Sce extends ce{constructor(e){super(),ue(this,e,Cce,Dce,le,{as:0,use:1,disabled:13})}}function Tce({container:i,accept:e,walk:t,enabled:n}){let r=i;if(!r||n!==void 0&&!n)return;let s=Object.assign(o=>e(o),{acceptNode:e}),l=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,s,!1);for(;l.nextNode();)t(l.currentNode)}const Ace=i=>i&8,Pce=i=>({}),Hw=i=>({...i[3]});function Nce(i){let e;const t=i[17].default,n=He(t,i,i[19],Hw);return{c(){n&&n.c()},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&524296)&&Ve(n,t,r,r[19],Ace(s)||!e?Ge(r[19]):We(t,r[19],s,Pce),Hw)},i(r){e||(_(n,r),e=!0)},o(r){v(n,r),e=!1},d(r){n&&n.d(r)}}}function Mce(i){let e,t,n;const r=[{...i[13],...i[4]},{as:i[0]},{slotProps:i[3]},{use:[...i[1],i[8]]},{name:"MenuItems"},{visible:i[5]},{features:Vr.RenderStrategy|Vr.Static}];function s(o){i[18](o)}let l={$$slots:{default:[Nce]},$$scope:{ctx:i}};for(let o=0;o<r.length;o+=1)l=ft(l,r[o]);return i[2]!==void 0&&(l.el=i[2]),e=new nu({props:l}),De.push(()=>Ue(e,"el",s,i[2])),e.$on("keydown",i[11]),e.$on("keyup",i[12]),{c(){O(e.$$.fragment)},m(o,a){N(e,o,a),n=!0},p(o,[a]){const u=a&8507?At(r,[a&8208&&{...o[13],...o[4]},a&1&&{as:o[0]},a&8&&{slotProps:o[3]},a&258&&{use:[...o[1],o[8]]},r[4],a&32&&{visible:o[5]},a&0&&{features:Vr.RenderStrategy|Vr.Static}]):{};a&524296&&(u.$$scope={dirty:a,ctx:o}),!t&&a&4&&(t=!0,u.el=o[2],qe(()=>t=!1)),e.$set(u)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){M(e,o)}}}function Lce(i,e,t){let n,r,s,l,o;const a=["as","use"];let u=An(e,a),c,f,d=W,m=()=>(d(),d=ol(n,G=>t(15,f=G)),n),p,g=W,k=()=>(g(),g=ol(r,G=>t(2,p=G)),r),$;i.$$.on_destroy.push(()=>d()),i.$$.on_destroy.push(()=>g());let{$$slots:D={},$$scope:F}=e,{as:C="div"}=e,{use:S=[]}=e;const P=qo(Cr()),I=Lv("MenuItems");Ee(i,I,G=>t(14,c=G));const R=`headlessui-menu-items-${Bd()}`;let B=null,z=qL();Ee(i,z,G=>t(16,$=G));async function q(G){var Q;B&&clearTimeout(B);let U=G;switch(U.key){case Ni.Space:if(c.searchQuery!=="")return U.preventDefault(),U.stopPropagation(),c.search(U.key);case Ni.Enter:if(U.preventDefault(),U.stopPropagation(),c.activeItemIndex!==null){let{id:V}=c.items[c.activeItemIndex];(Q=document.getElementById(V))==null||Q.click()}c.closeMenu(),await Ds(),f==null||f.focus({preventScroll:!0});break;case Ni.ArrowDown:return U.preventDefault(),U.stopPropagation(),c.goToItem(Mi.Next);case Ni.ArrowUp:return U.preventDefault(),U.stopPropagation(),c.goToItem(Mi.Previous);case Ni.Home:case Ni.PageUp:return U.preventDefault(),U.stopPropagation(),c.goToItem(Mi.First);case Ni.End:case Ni.PageDown:return U.preventDefault(),U.stopPropagation(),c.goToItem(Mi.Last);case Ni.Escape:U.preventDefault(),U.stopPropagation(),c.closeMenu(),await Ds(),f==null||f.focus({preventScroll:!0});break;case Ni.Tab:U.preventDefault(),U.stopPropagation();break;default:U.key.length===1&&(c.search(U.key),B=setTimeout(()=>c.clearSearch(),350));break}}function H(G){let U=G;switch(U.key){case Ni.Space:U.preventDefault();break}}function K(G){p=G,r.set(p)}return i.$$set=G=>{e=ft(ft({},e),ci(G)),t(13,u=An(e,a)),"as"in G&&t(0,C=G.as),"use"in G&&t(1,S=G.use),"$$scope"in G&&t(19,F=G.$$scope)},i.$$.update=()=>{var G;i.$$.dirty&16384&&m(t(7,n=c.buttonStore)),i.$$.dirty&16384&&k(t(6,r=c.itemsStore)),i.$$.dirty&81920&&t(5,s=z!==void 0?$===Ns.Open:c.menuState===nr.Open),i.$$.dirty&16388&&Tce({container:p,enabled:c.menuState===nr.Open,accept(U){return U.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:U.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(U){U.setAttribute("role","none")}}),i.$$.dirty&49152&&t(4,l={"aria-activedescendant":c.activeItemIndex===null||(G=c.items[c.activeItemIndex])==null?void 0:G.id,"aria-labelledby":f==null?void 0:f.id,id:R,role:"menu",tabIndex:0}),i.$$.dirty&16384&&t(3,o={open:c.menuState===nr.Open})},[C,S,p,o,l,s,r,n,P,I,z,q,H,u,c,f,$,D,K,F]}class Oce extends ce{constructor(e){super(),ue(this,e,Lce,Mce,le,{as:0,use:1})}}const Ice=i=>i&8,Bce=i=>({}),Ww=i=>({...i[3]});function zce(i){let e;const t=i[17].default,n=He(t,i,i[19],Ww);return{c(){n&&n.c()},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&524296)&&Ve(n,t,r,r[19],Ice(s)||!e?Ge(r[19]):We(t,r[19],s,Bce),Ww)},i(r){e||(_(n,r),e=!0)},o(r){v(n,r),e=!1},d(r){n&&n.d(r)}}}function Rce(i){let e,t,n;const r=[{...i[12],...i[4]},{use:[...i[1],i[6]]},{as:i[0]},{slotProps:i[3]},{name:"MenuItem"}];function s(o){i[18](o)}let l={$$slots:{default:[zce]},$$scope:{ctx:i}};for(let o=0;o<r.length;o+=1)l=ft(l,r[o]);return i[2]!==void 0&&(l.el=i[2]),e=new nu({props:l}),De.push(()=>Ue(e,"el",s,i[2])),e.$on("click",i[8]),e.$on("focus",i[9]),e.$on("pointermove",i[10]),e.$on("mousemove",i[10]),e.$on("pointerleave",i[11]),e.$on("mouseleave",i[11]),{c(){O(e.$$.fragment)},m(o,a){N(e,o,a),n=!0},p(o,[a]){const u=a&4187?At(r,[a&4112&&{...o[12],...o[4]},a&66&&{use:[...o[1],o[6]]},a&1&&{as:o[0]},a&8&&{slotProps:o[3]},r[4]]):{};a&524296&&(u.$$scope={dirty:a,ctx:o}),!t&&a&4&&(t=!0,u.el=o[2],qe(()=>t=!1)),e.$set(u)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){M(e,o)}}}function jce(i,e,t){let n,r,s,l,o;const a=["as","use","disabled"];let u=An(e,a),c,f,d=W,m=()=>(d(),d=ol(r,K=>t(21,f=K)),r);i.$$.on_destroy.push(()=>d());let{$$slots:p={},$$scope:g}=e,{as:k="a"}=e,{use:$=[]}=e,{disabled:D=!1}=e;const F=qo(Cr(),[{name:"click",shouldExclude:()=>D}]),C=Lv("MenuItem");Ee(i,C,K=>t(16,c=K));const S=`headlessui-menu-item-${Bd()}`;let P,I={disabled:D,textValue:s};wt(async()=>{c.registerItem(S,I)}),Dr(()=>{c.unregisterItem(S)}),Ej(async()=>{var K;c.menuState===nr.Open&&(!n||(await Ds(),(K=P==null?void 0:P.scrollIntoView)==null||K.call(P,{block:"nearest"})))});async function R(K){if(D)return K.preventDefault();c.closeMenu(),f==null||f.focus({preventScroll:!0})}function B(){if(D)return c.goToItem(Mi.Nothing);c.goToItem(Mi.Specific,S)}function z(){D||n||c.goToItem(Mi.Specific,S)}function q(){D||!n||c.goToItem(Mi.Nothing)}function H(K){P=K,t(2,P)}return i.$$set=K=>{e=ft(ft({},e),ci(K)),t(12,u=An(e,a)),"as"in K&&t(0,k=K.as),"use"in K&&t(1,$=K.use),"disabled"in K&&t(13,D=K.disabled),"$$scope"in K&&t(19,g=K.$$scope)},i.$$.update=()=>{var K;i.$$.dirty&65536&&t(14,n=c.activeItemIndex!==null?c.items[c.activeItemIndex].id===S:!1),i.$$.dirty&65536&&m(t(5,r=c.buttonStore)),i.$$.dirty&4&&t(15,s=((K=P==null?void 0:P.textContent)==null?void 0:K.toLowerCase().trim())||""),i.$$.dirty&8192&&(I.disabled=D),i.$$.dirty&32768&&(I.textValue=s),i.$$.dirty&8192&&t(4,l={id:S,role:"menuitem",tabIndex:D===!0?void 0:-1,"aria-disabled":D===!0?!0:void 0}),i.$$.dirty&24576&&t(3,o={active:n,disabled:D})},[k,$,P,o,l,r,F,C,R,B,z,q,u,D,n,s,c,p,H,g]}class Yce extends ce{constructor(e){super(),ue(this,e,jce,Rce,le,{as:0,use:1,disabled:13})}}var Vw;(function(i){i[i.Open=0]="Open",i[i.Closed=1]="Closed"})(Vw||(Vw={}));const Uce="headlessui-label-context";function qce(){return sr(Uce)}const Hce="headlessui-switch-context";function Wce(){return sr(Hce)}const Vce=i=>i&8,Gce=i=>({}),Gw=i=>({...i[3]}),Zce=i=>i&8,xce=i=>({}),Zw=i=>({...i[3]});function Xce(i){let e,t;const n=[{...i[12],...i[4]},{as:i[0]},{slotProps:i[3]},{use:[...i[1],i[6]]},{name:"Switch"}];let r={$$slots:{default:[Jce]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=ft(r,n[s]);return e=new nu({props:r}),e.$on("click",i[10]),e.$on("keyup",i[11]),e.$on("keypress",GL),{c(){O(e.$$.fragment)},m(s,l){N(e,s,l),t=!0},p(s,l){const o=l&4187?At(n,[l&4112&&{...s[12],...s[4]},l&1&&{as:s[0]},l&8&&{slotProps:s[3]},l&66&&{use:[...s[1],s[6]]},n[4]]):{};l&524296&&(o.$$scope={dirty:l,ctx:s}),e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){v(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function Kce(i){let e,t,n;const r=[{...i[12],...i[4]},{as:i[0]},{slotProps:i[3]},{use:[...i[1],i[6]]},{name:"Switch"}];function s(o){i[18](o)}let l={$$slots:{default:[Qce]},$$scope:{ctx:i}};for(let o=0;o<r.length;o+=1)l=ft(l,r[o]);return i[2]!==void 0&&(l.el=i[2]),e=new nu({props:l}),De.push(()=>Ue(e,"el",s,i[2])),e.$on("click",i[10]),e.$on("keyup",i[11]),e.$on("keypress",GL),{c(){O(e.$$.fragment)},m(o,a){N(e,o,a),n=!0},p(o,a){const u=a&4187?At(r,[a&4112&&{...o[12],...o[4]},a&1&&{as:o[0]},a&8&&{slotProps:o[3]},a&66&&{use:[...o[1],o[6]]},r[4]]):{};a&524296&&(u.$$scope={dirty:a,ctx:o}),!t&&a&4&&(t=!0,u.el=o[2],qe(()=>t=!1)),e.$set(u)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){M(e,o)}}}function Jce(i){let e;const t=i[17].default,n=He(t,i,i[19],Gw);return{c(){n&&n.c()},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&524296)&&Ve(n,t,r,r[19],Vce(s)||!e?Ge(r[19]):We(t,r[19],s,Gce),Gw)},i(r){e||(_(n,r),e=!0)},o(r){v(n,r),e=!1},d(r){n&&n.d(r)}}}function Qce(i){let e;const t=i[17].default,n=He(t,i,i[19],Zw);return{c(){n&&n.c()},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&524296)&&Ve(n,t,r,r[19],Zce(s)||!e?Ge(r[19]):We(t,r[19],s,xce),Zw)},i(r){e||(_(n,r),e=!0)},o(r){v(n,r),e=!1},d(r){n&&n.d(r)}}}function efe(i){let e,t,n,r;const s=[Kce,Xce],l=[];function o(a,u){return a[5]?0:1}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=$e()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,[u]){let c=e;e=o(a),e===c?l[e].p(a,u):(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function GL(i){i.preventDefault()}function tfe(i,e,t){let n,r,s;const l=["as","use","checked"];let o=An(e,l),a,u,c,f=W,d=()=>(f(),f=ol(n,K=>t(2,c=K)),n),m;i.$$.on_destroy.push(()=>f());let{$$slots:p={},$$scope:g}=e,{as:k="button"}=e,{use:$=[]}=e,{checked:D=!1}=e;const F=qo(Cr(),["change"]),C=Dt();let S=Wce();Ee(i,S,K=>t(16,m=K));let P=qce();Ee(i,P,K=>t(15,u=K));let I=wue();Ee(i,I,K=>t(14,a=K));let R=`headlessui-switch-${Bd()}`;function B(){C("change",!D)}function z(K){K.preventDefault(),B()}function q(K){let G=K;G.key!==Ni.Tab&&G.preventDefault(),G.key===Ni.Space&&B()}function H(K){c=K,n.set(c)}return i.$$set=K=>{t(23,e=ft(ft({},e),ci(K))),t(12,o=An(e,l)),"as"in K&&t(0,k=K.as),"use"in K&&t(1,$=K.use),"checked"in K&&t(13,D=K.checked),"$$scope"in K&&t(19,g=K.$$scope)},i.$$.update=()=>{i.$$.dirty&65536&&d(t(5,n=m==null?void 0:m.switchStore)),t(4,r={id:R,role:"switch",type:WL({type:e.type,as:k},c),tabIndex:0,"aria-checked":D,"aria-labelledby":u==null?void 0:u.labelIds,"aria-describedby":a==null?void 0:a.descriptionIds}),i.$$.dirty&8192&&t(3,s={checked:D})},e=ci(e),[k,$,c,s,r,n,F,S,P,I,z,q,o,D,a,u,m,p,H,g]}class nfe extends ce{constructor(e){super(),ue(this,e,tfe,efe,le,{as:0,use:1,checked:13})}}function ife(i){let e={called:!1};return(...t)=>{if(!e.called)return e.called=!0,i(...t)}}function ZL(){let i=[],e={requestAnimationFrame(...t){let n=requestAnimationFrame(...t);e.add(()=>cancelAnimationFrame(n))},nextFrame(...t){e.requestAnimationFrame(()=>{e.requestAnimationFrame(...t)})},setTimeout(...t){let n=setTimeout(...t);e.add(()=>clearTimeout(n))},add(t){i.push(t)},dispose(){for(let t of i.splice(0))t()}};return e}function cg(i,...e){i&&e.length>0&&i.classList.add(...e)}function Eh(i,...e){i&&e.length>0&&i.classList.remove(...e)}var bo;(function(i){i.Finished="finished",i.Cancelled="cancelled"})(bo||(bo={}));function rfe(i,e){let t=ZL();if(!i)return t.dispose;let{transitionDuration:n,transitionDelay:r}=getComputedStyle(i),[s,l]=[n,r].map(o=>{let[a=0]=o.split(",").filter(Boolean).map(u=>u.includes("ms")?parseFloat(u):parseFloat(u)*1e3).sort((u,c)=>c-u);return a});return s!==0?t.setTimeout(()=>{e(bo.Finished)},s+l):e(bo.Finished),t.add(()=>e(bo.Cancelled)),t.dispose}function xw(i,e,t,n,r,s){let l=ZL(),o=s!==void 0?ife(s):()=>{};return Eh(i,...r),cg(i,...e,...t),l.nextFrame(()=>{Eh(i,...t),cg(i,...n),l.add(rfe(i,a=>(Eh(i,...n,...e),cg(i,...r),o(a))))}),l.add(()=>Eh(i,...e,...t,...n)),l.add(()=>o(bo.Cancelled)),l.dispose}var ii;(function(i){i.Visible="visible",i.Hidden="hidden"})(ii||(ii={}));const xL="headlessui-transition-context",Ov="headlessui-nesting-context";function sfe(){let i=sr(xL);if(i===void 0)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return i}function lfe(){let i=sr(Ov);if(i===void 0)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return i}function ed(i){return"children"in i?ed(i.children):i.filter(({state:e})=>e===ii.Visible).length>0}function XL(i){let e=[];function t(r,s=Ol.Hidden){let l=e.findIndex(({id:a})=>a===r);if(l===-1)return;let o=ed(e);lc(s,{[Ol.Unmount](){e.splice(l,1)},[Ol.Hidden](){e[l].state=ii.Hidden}}),o&&!ed(e)&&(i==null||i())}function n(r){let s=e.find(({id:l})=>l===r);return s?s.state!==ii.Visible&&(s.state=ii.Visible):e.push({id:r,state:ii.Visible}),()=>t(r,Ol.Unmount)}return{children:e,register:n,unregister:t}}function ofe(i){let e;const t=i[23].default,n=He(t,i,i[25],null);return{c(){n&&n.c()},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s[0]&33554432)&&Ve(n,t,r,r[25],e?We(t,r[25],s,null):Ge(r[25]),null)},i(r){e||(_(n,r),e=!0)},o(r){v(n,r),e=!1},d(r){n&&n.d(r)}}}function afe(i){let e,t,n;const r=[i[9],{as:i[0]},{use:[...i[1],i[5]]},{slotProps:{}},{name:"TransitionChild"},{class:i[4]},{visible:i[3]===ii.Visible},{features:Vr.RenderStrategy}];function s(o){i[24](o)}let l={$$slots:{default:[ofe]},$$scope:{ctx:i}};for(let o=0;o<r.length;o+=1)l=ft(l,r[o]);return i[2]!==void 0&&(l.el=i[2]),e=new nu({props:l}),De.push(()=>Ue(e,"el",s,i[2])),{c(){O(e.$$.fragment)},m(o,a){N(e,o,a),n=!0},p(o,a){const u=a[0]&571?At(r,[a[0]&512&&Ki(o[9]),a[0]&1&&{as:o[0]},a[0]&34&&{use:[...o[1],o[5]]},r[3],r[4],a[0]&16&&{class:o[4]},a[0]&8&&{visible:o[3]===ii.Visible},a&0&&{features:Vr.RenderStrategy}]):{};a[0]&33554432&&(u.$$scope={dirty:a,ctx:o}),!t&&a[0]&4&&(t=!0,u.el=o[2],qe(()=>t=!1)),e.$set(u)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){M(e,o)}}}function ufe(i,e,t){let n,r,s,l,o,a,u,c,f;const d=["as","use","enter","enterFrom","enterTo","entered","leave","leaveFrom","leaveTo"];let m=An(e,d),p,g,k,{$$slots:$={},$$scope:D}=e,{as:F="div"}=e,{use:C=[]}=e,{enter:S=""}=e,{enterFrom:P=""}=e,{enterTo:I=""}=e,{entered:R=""}=e,{leave:B=""}=e,{leaveFrom:z=""}=e,{leaveTo:q=""}=e;const H=Dt(),K=qo(Cr(),["beforeEnter","beforeLeave","afterEnter","afterLeave"]);let G=null,U=sfe();Ee(i,U,pe=>t(21,p=pe));let Q=lfe();Ee(i,Q,pe=>t(22,g=pe));let V=p.initialShow||e.unmount!==!1?ii.Visible:ii.Hidden,x=!0,ee=Bd(),J=!1,se=Bt(XL(()=>{J||(t(3,V=ii.Hidden),g.unregister(ee),H("afterLeave"))}));Ee(i,se,pe=>t(34,k=pe)),wt(()=>g.register(ee));function te(pe=""){return pe.split(" ").filter(Ie=>Ie.trim().length>1)}let ge=!1;wt(()=>t(18,ge=!0));function ae(pe,Ie){let ye=x&&!Ie,st=G;if(!(!st||!(st instanceof HTMLElement))&&!ye)return t(17,J=!0),pe&&H("beforeEnter"),pe||H("beforeLeave"),pe?xw(st,r,s,l,o,dt=>{t(17,J=!1),dt===bo.Finished&&H("afterEnter")}):xw(st,a,u,c,o,dt=>{t(17,J=!1),dt===bo.Finished&&(ed(k)||(t(3,V=ii.Hidden),g.unregister(ee),H("afterLeave")))})}let ve=null;Ts(Ov,se);let Te=Bt(Ns.Closed);HL(Te);function Pe(pe){G=pe,t(2,G)}return i.$$set=pe=>{t(40,e=ft(ft({},e),ci(pe))),t(9,m=An(e,d)),"as"in pe&&t(0,F=pe.as),"use"in pe&&t(1,C=pe.use),"enter"in pe&&t(10,S=pe.enter),"enterFrom"in pe&&t(11,P=pe.enterFrom),"enterTo"in pe&&t(12,I=pe.enterTo),"entered"in pe&&t(13,R=pe.entered),"leave"in pe&&t(14,B=pe.leave),"leaveFrom"in pe&&t(15,z=pe.leaveFrom),"leaveTo"in pe&&t(16,q=pe.leaveTo),"$$scope"in pe&&t(25,D=pe.$$scope)},i.$$.update=()=>{t(20,n=e.unmount===!1?Ol.Hidden:Ol.Unmount),i.$$.dirty[0]&7340040&&(()=>{if(n===Ol.Hidden&&!!ee){if(p.show&&V!==ii.Visible){t(3,V=ii.Visible);return}lc(V,{[ii.Hidden]:()=>g.unregister(ee),[ii.Visible]:()=>g.register(ee)})}})(),i.$$.dirty[0]&1024&&(r=te(S)),i.$$.dirty[0]&2048&&(s=te(P)),i.$$.dirty[0]&4096&&(l=te(I)),i.$$.dirty[0]&8192&&(o=te(R)),i.$$.dirty[0]&16384&&(a=te(B)),i.$$.dirty[0]&32768&&(u=te(z)),i.$$.dirty[0]&65536&&(c=te(q)),i.$$.dirty[0]&2883584&&ge&&(ve&&ve(),t(19,ve=ae(p.show,p.appear)),x=!1),i.$$.dirty[0]&8&&Te.set(lc(V,{[ii.Visible]:Ns.Open,[ii.Hidden]:Ns.Closed})),t(4,f=J?G==null?void 0:G.className:`${e.class||""} ${R}`)},e=ci(e),[F,C,G,V,f,K,U,Q,se,m,S,P,I,R,B,z,q,J,ge,ve,n,p,g,$,Pe,D]}class cfe extends ce{constructor(e){super(),ue(this,e,ufe,afe,le,{as:0,use:1,enter:10,enterFrom:11,enterTo:12,entered:13,leave:14,leaveFrom:15,leaveTo:16},null,[-1,-1])}}function Xw(i){let e,t;const n=[i[7],{as:i[0]},{use:[...i[1],i[3]]}];let r={$$slots:{default:[ffe]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=ft(r,n[s]);return e=new cfe({props:r}),e.$on("afterEnter",i[15]),e.$on("afterLeave",i[16]),e.$on("beforeEnter",i[17]),e.$on("beforeLeave",i[18]),{c(){O(e.$$.fragment)},m(s,l){N(e,s,l),t=!0},p(s,l){const o=l&139?At(n,[l&128&&Ki(s[7]),l&1&&{as:s[0]},l&10&&{use:[...s[1],s[3]]}]):{};l&524288&&(o.$$scope={dirty:l,ctx:s}),e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){v(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function ffe(i){let e;const t=i[14].default,n=He(t,i,i[19],null);return{c(){n&&n.c()},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&524288)&&Ve(n,t,r,r[19],e?We(t,r[19],s,null):Ge(r[19]),null)},i(r){e||(_(n,r),e=!0)},o(r){v(n,r),e=!1},d(r){n&&n.d(r)}}}function dfe(i){let e,t,n=(i[2]===ii.Visible||i[6].unmount===!1)&&Xw(i);return{c(){n&&n.c(),e=$e()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,[s]){r[2]===ii.Visible||r[6].unmount===!1?n?(n.p(r,s),s&68&&_(n,1)):(n=Xw(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ie(),v(n,1,1,()=>{n=null}),re())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function hfe(i,e,t){const n=["as","use","show","appear"];let r=An(e,n),s,l,{$$slots:o={},$$scope:a}=e;const u=qo(Cr(),["beforeEnter","beforeLeave","afterEnter","afterLeave"]);let{as:c="div"}=e,{use:f=[]}=e,{show:d=void 0}=e,{appear:m=!1}=e,p=qL();Ee(i,p,z=>t(13,l=z));function g(z,q){return z===void 0&&q!==void 0?lc(q,{[Ns.Open]:!0,[Ns.Closed]:!1}):z}let k=g(d,p!==void 0?l:void 0),$=k,D=k?ii.Visible:ii.Hidden,F=Bt(XL(()=>{t(2,D=ii.Hidden)}));Ee(i,F,z=>t(12,s=z));let C=!0,S=Bt();wt(()=>{t(11,C=!1)}),Ts(Ov,F),Ts(xL,S);function P(z){Gr.call(this,i,z)}function I(z){Gr.call(this,i,z)}function R(z){Gr.call(this,i,z)}function B(z){Gr.call(this,i,z)}return i.$$set=z=>{t(6,e=ft(ft({},e),ci(z))),t(7,r=An(e,n)),"as"in z&&t(0,c=z.as),"use"in z&&t(1,f=z.use),"show"in z&&t(8,d=z.show),"appear"in z&&t(9,m=z.appear),"$$scope"in z&&t(19,a=z.$$scope)},i.$$.update=()=>{if(i.$$.dirty&9472&&(t(10,k=g(d,p!==void 0?l:void 0)),k!==!0&&k!==!1))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");i.$$.dirty&3584&&S.set({show:!!k,appear:m||!C,initialShow:!!$}),i.$$.dirty&7168&&(C||(k?t(2,D=ii.Visible):ed(s)||t(2,D=ii.Hidden)))},e=ci(e),[c,f,D,u,p,F,e,r,d,m,k,C,s,l,o,P,I,R,B,a]}class mfe extends ce{constructor(e){super(),ue(this,e,hfe,dfe,le,{as:0,use:1,show:8,appear:9})}}function pfe(i){return wt(()=>{YX()}),Dr(()=>{NN()}),[]}class _fe extends ce{constructor(e){super(),ue(this,e,pfe,null,le,{})}}function gfe(i){let e,t,n,r;const s=i[9].default,l=He(s,i,i[8],null);return{c(){e=A("div"),l&&l.c(),h(e,"style",t=(i[6]?`--left: ${i[6]}px;`:"")+" "+i[4]),h(e,"class",n="divider "+i[0]),Je(e,"inset",i[2]),Je(e,"show-line",!i[5]),Je(e,"pad",i[3]),Je(e,"left",i[6]),Je(e,"center",i[1]),Je(e,"hasContent",i[7])},m(o,a){w(o,e,a),l&&l.m(e,null),r=!0},p(o,[a]){l&&l.p&&(!r||a&256)&&Ve(l,s,o,o[8],r?We(s,o[8],a,null):Ge(o[8]),null),(!r||a&80&&t!==(t=(o[6]?`--left: ${o[6]}px;`:"")+" "+o[4]))&&h(e,"style",t),(!r||a&1&&n!==(n="divider "+o[0]))&&h(e,"class",n),(!r||a&5)&&Je(e,"inset",o[2]),(!r||a&33)&&Je(e,"show-line",!o[5]),(!r||a&9)&&Je(e,"pad",o[3]),(!r||a&65)&&Je(e,"left",o[6]),(!r||a&3)&&Je(e,"center",o[1]),(!r||a&129)&&Je(e,"hasContent",o[7])},i(o){r||(_(l,o),r=!0)},o(o){v(l,o),r=!1},d(o){o&&y(e),l&&l.d(o)}}}function vfe(i,e,t){let{$$slots:n={},$$scope:r}=e,{className:s=""}=e,{center:l=!1}=e,{inset:o=!1}=e,{pad:a=!1}=e,{style:u=""}=e,{hideLine:c=!1}=e,{left:f=void 0}=e,d=!1;return wt(()=>{arguments[1].$$slots&&t(7,d=!0)}),i.$$set=m=>{"className"in m&&t(0,s=m.className),"center"in m&&t(1,l=m.center),"inset"in m&&t(2,o=m.inset),"pad"in m&&t(3,a=m.pad),"style"in m&&t(4,u=m.style),"hideLine"in m&&t(5,c=m.hideLine),"left"in m&&t(6,f=m.left),"$$scope"in m&&t(8,r=m.$$scope)},[s,l,o,a,u,c,f,d,r,n]}class Tn extends ce{constructor(e){super(),ue(this,e,vfe,gfe,le,{className:0,center:1,inset:2,pad:3,style:4,hideLine:5,left:6})}}function Kw(i,e,t){const n=i.slice();return n[18]=e[t],n[20]=t,n}function bfe(i){let e;const t=i[11].default,n=He(t,i,i[16],null);return{c(){n&&n.c()},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&65536)&&Ve(n,t,r,r[16],e?We(t,r[16],s,null):Ge(r[16]),null)},i(r){e||(_(n,r),e=!0)},o(r){v(n,r),e=!1},d(r){n&&n.d(r)}}}function Jw(i){let e;return{c(){e=A("div"),h(e,"class","h-2 -mt-px bg-gray-200 dark:bg-gray-800")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function kfe(i){let e,t,n,r,s=i[18].title+"",l,o,a,u,c,f,d,m,p,g,k=i[18].checked&&Qw(i),$=i[18].description&&e$(i);const D=[$fe,wfe],F=[];function C(P,I){return P[18].icon?0:P[18].emoji?1:-1}~(f=C(i))&&(d=F[f]=D[f](i));function S(...P){return i[13](i[18],...P)}return{c(){e=A("button"),k&&k.c(),t=Y(),n=A("main"),r=A("h1"),l=Z(s),a=Y(),$&&$.c(),u=Y(),c=A("div"),d&&d.c(),h(r,"class",o=(i[18].title.length>25?"text-sm":"text-lg")+" leading-tight line-clamp-1 text-black font-medium dark:text-white"),h(n,"class","flex-fill w-full"),h(c,"class","flex items-center"),e.disabled=m=i[18].disabled,h(e,"class",p="pop-button "+(i[21]?"focused":"")+" nbtn-left pop-button-"+i[20]+" "+(i[18].awardRequired?i[9].awards.find(S)?"unlocked":"locked":"")+" "+(i[18].description?"nbtn-desc":""))},m(P,I){w(P,e,I),k&&k.m(e,null),E(e,t),E(e,n),E(n,r),E(r,l),E(n,a),$&&$.m(n,null),E(e,u),E(e,c),~f&&F[f].m(c,null),g=!0},p(P,I){i=P,i[18].checked?k?(k.p(i,I),I&128&&_(k,1)):(k=Qw(i),k.c(),_(k,1),k.m(e,t)):k&&(ie(),v(k,1,1,()=>{k=null}),re()),(!g||I&128)&&s!==(s=i[18].title+"")&&oe(l,s),(!g||I&128&&o!==(o=(i[18].title.length>25?"text-sm":"text-lg")+" leading-tight line-clamp-1 text-black font-medium dark:text-white"))&&h(r,"class",o),i[18].description?$?$.p(i,I):($=e$(i),$.c(),$.m(n,null)):$&&($.d(1),$=null);let R=f;f=C(i),f===R?~f&&F[f].p(i,I):(d&&(ie(),v(F[R],1,1,()=>{F[R]=null}),re()),~f?(d=F[f],d?d.p(i,I):(d=F[f]=D[f](i),d.c()),_(d,1),d.m(c,null)):d=null),(!g||I&128&&m!==(m=i[18].disabled))&&(e.disabled=m),(!g||I&2097792&&p!==(p="pop-button "+(i[21]?"focused":"")+" nbtn-left pop-button-"+i[20]+" "+(i[18].awardRequired?i[9].awards.find(S)?"unlocked":"locked":"")+" "+(i[18].description?"nbtn-desc":"")))&&h(e,"class",p)},i(P){g||(_(k),_(d),g=!0)},o(P){v(k),v(d),g=!1},d(P){P&&y(e),k&&k.d(),$&&$.d(),~f&&F[f].d()}}}function yfe(i){let e,t,n;function r(){return i[12](i[18])}var s=i[18].component;function l(o){return{props:{closeEvent:r}}}return s&&(e=an(s,l())),{c(){e&&O(e.$$.fragment),t=$e()},m(o,a){e&&N(e,o,a),w(o,t,a),n=!0},p(o,a){i=o;const u={};if(a&128&&(u.closeEvent=r),s!==(s=i[18].component)){if(e){ie();const c=e;v(c.$$.fragment,1,0,()=>{M(c,1)}),re()}s?(e=an(s,l()),O(e.$$.fragment),_(e.$$.fragment,1),N(e,t.parentNode,t)):e=null}else s&&e.$set(u)},i(o){n||(e&&_(e.$$.fragment,o),n=!0)},o(o){e&&v(e.$$.fragment,o),n=!1},d(o){o&&y(t),e&&M(e,o)}}}function Qw(i){let e,t,n;return t=new je({props:{size:i[6]?20:28,className:"text-black dark:text-white",icon:fp}}),{c(){e=A("div"),O(t.$$.fragment),h(e,"class","w-5 flex items-center")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p(r,s){const l={};s&64&&(l.size=r[6]?20:28),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function e$(i){let e,t=i[18].description+"",n;return{c(){e=A("p"),n=Z(t),h(e,"class","text-sm text-gray-500 leading-snug")},m(r,s){w(r,e,s),E(e,n)},p(r,s){s&128&&t!==(t=r[18].description+"")&&oe(n,t)},d(r){r&&y(e)}}}function wfe(i){let e,t;return e=new Si({props:{emoji:i[18].emoji,size:i[6]?22:32}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&128&&(s.emoji=n[18].emoji),r&64&&(s.size=n[6]?22:32),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function $fe(i){let e,t;return e=new je({props:{icon:i[18].icon,className:"text-black dark:text-white",size:i[10]}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&128&&(s.icon=n[18].icon),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Ffe(i){let e,t,n,r;const s=[yfe,kfe],l=[];function o(a,u){return a[18].component?0:1}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=$e()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?l[e].p(a,u):(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function t$(i){let e,t;return e=new Tn({props:{left:16}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function n$(i){let e,t,n,r,s,l=i[18].divider&&Jw();function o(){return i[14](i[18])}t=new Yce({props:{class:"menu-item "+i[4]+"-"+i[20]+" "+(i[18].disabled?"disabled":""),$$slots:{default:[Ffe,({active:u})=>({21:u}),({active:u})=>u?2097152:0]},$$scope:{ctx:i}}}),t.$on("click",o);let a=i[20]<i[7].length-1&&t$();return{c(){l&&l.c(),e=Y(),O(t.$$.fragment),n=Y(),a&&a.c(),r=$e()},m(u,c){l&&l.m(u,c),w(u,e,c),N(t,u,c),w(u,n,c),a&&a.m(u,c),w(u,r,c),s=!0},p(u,c){i=u,i[18].divider?l||(l=Jw(),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null);const f={};c&144&&(f.class="menu-item "+i[4]+"-"+i[20]+" "+(i[18].disabled?"disabled":"")),c&2163392&&(f.$$scope={dirty:c,ctx:i}),t.$set(f),i[20]<i[7].length-1?a?c&128&&_(a,1):(a=t$(),a.c(),_(a,1),a.m(r.parentNode,r)):a&&(ie(),v(a,1,1,()=>{a=null}),re())},i(u){s||(_(t.$$.fragment,u),_(a),s=!0)},o(u){v(t.$$.fragment,u),v(a),s=!1},d(u){l&&l.d(u),u&&y(e),M(t,u),u&&y(n),a&&a.d(u),u&&y(r)}}}function Efe(i){let e,t,n=i[7],r=[];for(let l=0;l<n.length;l+=1)r[l]=n$(Kw(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=$e()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o&2098896){n=l[7];let a;for(a=0;a<n.length;a+=1){const u=Kw(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=n$(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ie(),a=n.length;a<r.length;a+=1)s(a);re()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){it(r,l),l&&y(e)}}}function Dfe(i){let e,t,n,r;return e=new _fe({}),n=new Oce({props:{class:"n-menu glass translate-all duration-200 "+(i[17]?"isOpen":"isClosed")+" y-"+i[1]+" x-"+i[0]+" z-50  absolute w-60 shadow-2xl",$$slots:{default:[Efe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment),t=Y(),O(n.$$.fragment)},m(s,l){N(e,s,l),w(s,t,l),N(n,s,l),r=!0},p(s,l){const o={};l&131075&&(o.class="n-menu glass translate-all duration-200 "+(s[17]?"isOpen":"isClosed")+" y-"+s[1]+" x-"+s[0]+" z-50  absolute w-60 shadow-2xl"),l&66256&&(o.$$scope={dirty:l,ctx:s}),n.$set(o)},i(s){r||(_(e.$$.fragment,s),_(n.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(n.$$.fragment,s),r=!1},d(s){M(e,s),s&&y(t),M(n,s)}}}function Cfe(i){let e,t,n,r;return e=new Sce({props:{title:i[5],id:i[4]+"-button",style:i[3],class:i[2]+" flex items-center justify-center "+(i[17]?"isOpen":""),$$slots:{default:[bfe]},$$scope:{ctx:i}}}),n=new mfe({props:{enter:"transition-all ease-out duration-200",enterFrom:"transform opacity- 0 scale-0",enterTo:"transform opacity-100 scale-100 shadow-2xl",leave:"transition-all ease-in duration-200 h-0",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-0",$$slots:{default:[Dfe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment),t=Y(),O(n.$$.fragment)},m(s,l){N(e,s,l),w(s,t,l),N(n,s,l),r=!0},p(s,l){const o={};l&32&&(o.title=s[5]),l&16&&(o.id=s[4]+"-button"),l&8&&(o.style=s[3]),l&131076&&(o.class=s[2]+" flex items-center justify-center "+(s[17]?"isOpen":"")),l&65536&&(o.$$scope={dirty:l,ctx:s}),e.$set(o);const a={};l&197331&&(a.$$scope={dirty:l,ctx:s}),n.$set(a)},i(s){r||(_(e.$$.fragment,s),_(n.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(n.$$.fragment,s),r=!1},d(s){M(e,s),s&&y(t),M(n,s)}}}function Sfe(i){let e,t,n={id:i[4],class:"id-"+i[4]+" "+(i[6]?"compact":"")+" relative  menu-inline",$$slots:{default:[Cfe,({open:r})=>({17:r}),({open:r})=>r?131072:0]},$$scope:{ctx:i}};return e=new wce({props:n}),i[15](e),{c(){O(e.$$.fragment)},m(r,s){N(e,r,s),t=!0},p(r,[s]){const l={};s&16&&(l.id=r[4]),s&80&&(l.class="id-"+r[4]+" "+(r[6]?"compact":"")+" relative  menu-inline"),s&197375&&(l.$$scope={dirty:s,ctx:r}),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){i[15](null),M(e,r)}}}function Tfe(i,e,t){let n;Ee(i,zr,C=>t(9,n=C));let{$$slots:r={},$$scope:s}=e,{x:l="left"}=e,{y:o="top"}=e,{buttonClass:a=void 0}=e,{buttonStyle:u=""}=e,{id:c}=e,{title:f=""}=e,{compact:d=!1}=e,{menuButtons:m=[]}=e,p=d?18:24,g;const k=C=>{C.click()},$=(C,S)=>S.id==C.awardRequired,D=async C=>{C.disabled||(C.awardRequired&&!n.awards.find(S=>S.id==C.awardRequired)?Xe.alert(`You need the ${QN(C.awardRequired).name} Award before you can use this feature`):C.click())};function F(C){De[C?"unshift":"push"](()=>{g=C,t(8,g)})}return i.$$set=C=>{"x"in C&&t(0,l=C.x),"y"in C&&t(1,o=C.y),"buttonClass"in C&&t(2,a=C.buttonClass),"buttonStyle"in C&&t(3,u=C.buttonStyle),"id"in C&&t(4,c=C.id),"title"in C&&t(5,f=C.title),"compact"in C&&t(6,d=C.compact),"menuButtons"in C&&t(7,m=C.menuButtons),"$$scope"in C&&t(16,s=C.$$scope)},[l,o,a,u,c,f,d,m,g,n,p,r,k,$,D,F,s]}class Lc extends ce{constructor(e){super(),ue(this,e,Tfe,Sfe,le,{x:0,y:1,buttonClass:2,buttonStyle:3,id:4,title:5,compact:6,menuButtons:7})}}function Afe(i){let e,t=(i[0].e||i[0])+"",n,r,s,l;return{c(){e=A("button"),n=Z(t),h(e,"class",i[1]),h(e,"style",i[2]),h(e,"title",r=i[3]||"Emoji")},m(o,a){w(o,e,a),E(e,n),s||(l=[ke(e,"mouseover",i[5]),ke(e,"mouseout",i[6]),ke(e,"focus",i[5]),ke(e,"blur",i[6]),ke(e,"click",i[4])],s=!0)},p(o,[a]){a&1&&t!==(t=(o[0].e||o[0])+"")&&oe(n,t),a&2&&h(e,"class",o[1]),a&4&&h(e,"style",o[2]),a&8&&r!==(r=o[3]||"Emoji")&&h(e,"title",r)},i:W,o:W,d(o){o&&y(e),s=!1,pt(l)}}}function Pfe(i,e,t){let{emoji:n}=e,{className:r=""}=e,{style:s=""}=e,{title:l=void 0}=e;const o=Dt();function a(){o("emojiclick",n)}function u(){o("emojihover",n)}function c(){o("emojihover",null)}return i.$$set=f=>{"emoji"in f&&t(0,n=f.emoji),"className"in f&&t(1,r=f.className),"style"in f&&t(2,s=f.style),"title"in f&&t(3,l=f.title)},[n,r,s,l,a,u,c]}class KL extends ce{constructor(e){super(),ue(this,e,Pfe,Afe,le,{emoji:0,className:1,style:2,title:3})}}const i$=i=>typeof i>"u",JL=i=>typeof i=="function",QL=i=>typeof i=="number";function Nfe(i){return!i.defaultPrevented&&i.button===0&&!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function eO(){let i=0;return()=>i++}function Mfe(){return Math.random().toString(36).substring(2)}const Ao=typeof window>"u";function tO(i,e,t){return i.addEventListener(e,t),()=>i.removeEventListener(e,t)}const C1=(i,e)=>i?{}:{style:e},Iu=i=>({"aria-hidden":"true",...C1(i,"display:none;")}),zd=i=>`@@svnav-ctx__${i}`,S1=zd("LOCATION"),oc=zd("ROUTER"),nO=zd("ROUTE"),Lfe=zd("ROUTE_PARAMS"),Ofe=zd("FOCUS_ELEM"),iO=/^:(.+)/,wf=(i,e,t)=>i.substr(e,t),T1=(i,e)=>wf(i,0,e.length)===e,Ife=i=>i==="",Bfe=i=>iO.test(i),rO=i=>i[0]==="*",zfe=i=>i.replace(/\*.*$/,""),sO=i=>i.replace(/(^\/+|\/+$)/g,"");function dl(i,e=!1){const t=sO(i).split("/");return e?t.filter(Boolean):t}const fg=(i,e)=>i+(e?`?${e}`:""),Iv=i=>`/${sO(i)}`;function Rd(...i){const e=n=>dl(n,!0).join("/"),t=i.map(e).join("/");return Iv(t)}const Bv=1,Hp=2,ja=3,Rfe=4,lO=5,jfe=6,oO=7,Yfe=8,Ufe=9,aO=10,uO=11,qfe={[Bv]:"Link",[Hp]:"Route",[ja]:"Router",[Rfe]:"useFocus",[lO]:"useLocation",[jfe]:"useMatch",[oO]:"useNavigate",[Yfe]:"useParams",[Ufe]:"useResolvable",[aO]:"useResolve",[uO]:"navigate"},zv=i=>qfe[i];function Hfe(i,e){let t;return i===Hp?t=e.path?`path="${e.path}"`:"default":i===Bv?t=`to="${e.to}"`:i===ja&&(t=`basepath="${e.basepath||""}"`),`<${zv(i)} ${t||""} />`}function Wfe(i,e,t,n){const r=t&&Hfe(n||i,t),s=r?`

Occurred in: ${r}`:"",l=zv(i),o=JL(e)?e(l):e;return`<${l}> ${o}${s}`}const cO=i=>(...e)=>i(Wfe(...e)),fO=cO(i=>{throw new Error(i)}),wm=cO(console.warn),r$=4,Vfe=3,Gfe=2,Zfe=1,xfe=1;function Xfe(i,e){const t=i.default?0:dl(i.fullPath).reduce((n,r)=>{let s=n;return s+=r$,Ife(r)?s+=xfe:Bfe(r)?s+=Gfe:rO(r)?s-=r$+Zfe:s+=Vfe,s},0);return{route:i,score:t,index:e}}function Kfe(i){return i.map(Xfe).sort((e,t)=>e.score<t.score?1:e.score>t.score?-1:e.index-t.index)}function dO(i,e){let t,n;const[r]=e.split("?"),s=dl(r),l=s[0]==="",o=Kfe(i);for(let a=0,u=o.length;a<u;a++){const{route:c}=o[a];let f=!1;const d={},m=$=>({...c,params:d,uri:$});if(c.default){n=m(e);continue}const p=dl(c.fullPath),g=Math.max(s.length,p.length);let k=0;for(;k<g;k++){const $=p[k],D=s[k];if(!i$($)&&rO($)){const C=$==="*"?"*":$.slice(1);d[C]=s.slice(k).map(decodeURIComponent).join("/");break}if(i$(D)){f=!0;break}const F=iO.exec($);if(F&&!l){const C=decodeURIComponent(D);d[F[1]]=C}else if($!==D){f=!0;break}}if(!f){t=m(Rd(...s.slice(0,k)));break}}return t||n||null}function hO(i,e){return dO([i],e)}function Jfe(i,e){if(T1(i,"/"))return i;const[t,n]=i.split("?"),[r]=e.split("?"),s=dl(t),l=dl(r);if(s[0]==="")return fg(r,n);if(!T1(s[0],".")){const u=l.concat(s).join("/");return fg((r==="/"?"":"/")+u,n)}const o=l.concat(s),a=[];return o.forEach(u=>{u===".."?a.pop():u!=="."&&a.push(u)}),fg(`/${a.join("/")}`,n)}function s$(i,e){const{pathname:t,hash:n="",search:r="",state:s}=i,l=dl(e,!0),o=dl(t,!0);for(;l.length;)l[0]!==o[0]&&fO(ja,`Invalid state: All locations must begin with the basepath "${e}", found "${t}"`),l.shift(),o.shift();return{pathname:Rd(...o),hash:n,search:r,state:s}}const l$=i=>i.length===1?"":i,Rv=i=>{const e=i.indexOf("?"),t=i.indexOf("#"),n=e!==-1,r=t!==-1,s=r?l$(wf(i,t)):"",l=r?wf(i,0,t):i,o=n?l$(wf(l,e)):"";return{pathname:(n?wf(l,0,e):l)||"/",search:o,hash:s}},Qfe=i=>{const{pathname:e,search:t,hash:n}=i;return e+t+n};function ede(i,e,t){return Rd(t,Jfe(i,e))}function tde(i,e){const t=Iv(zfe(i)),n=dl(t,!0),r=dl(e,!0).slice(0,n.length),s=hO({fullPath:t},Rd(...r));return s&&s.uri}const dg="POP",nde="PUSH",ide="REPLACE";function hg(i){return{...i.location,pathname:encodeURI(decodeURI(i.location.pathname)),state:i.history.state,_key:i.history.state&&i.history.state._key||"initial"}}function rde(i){let e=[],t=hg(i),n=dg;const r=(s=e)=>s.forEach(l=>l({location:t,action:n}));return{get location(){return t},listen(s){e.push(s);const l=()=>{t=hg(i),n=dg,r([s])};r([s]);const o=tO(i,"popstate",l);return()=>{o(),e=e.filter(a=>a!==s)}},navigate(s,l){const{state:o={},replace:a=!1}=l||{};if(n=a?ide:nde,QL(s))l&&wm(uO,"Navigation options (state or replace) are not supported, when passing a number as the first argument to navigate. They are ignored."),n=dg,i.history.go(s);else{const u={...o,_key:Mfe()};try{i.history[a?"replaceState":"pushState"](u,"",s)}catch{i.location[a?"replace":"assign"](s)}}t=hg(i),r()}}}function mg(i,e){return{...Rv(e),state:i}}function sde(i="/"){let e=0,t=[mg(null,i)];return{get entries(){return t},get location(){return t[e]},addEventListener(){},removeEventListener(){},history:{get state(){return t[e].state},pushState(n,r,s){e++,t=t.slice(0,e),t.push(mg(n,s))},replaceState(n,r,s){t[e]=mg(n,s)},go(n){const r=e+n;r<0||r>t.length-1||(e=r)}}}}const lde=!!(!Ao&&window.document&&window.document.createElement),ode=!Ao&&window.location.origin==="null",mO=rde(lde&&!ode?window:sde()),{navigate:nl}=mO;let Pl=null,pO=!0;function ade(i,e){const t=document.querySelectorAll("[data-svnav-router]");for(let n=0;n<t.length;n++){const r=t[n],s=Number(r.dataset.svnavRouter);if(s===i)return!0;if(s===e)return!1}return!1}function ude(i){(!Pl||i.level>Pl.level||i.level===Pl.level&&ade(i.routerId,Pl.routerId))&&(Pl=i)}function cde(){Pl=null}function fde(){pO=!1}function o$(i){if(!i)return!1;const e="tabindex";try{if(!i.hasAttribute(e)){i.setAttribute(e,"-1");let t;t=tO(i,"blur",()=>{i.removeAttribute(e),t()})}return i.focus(),document.activeElement===i}catch{return!1}}function dde(i,e){return Number(i.dataset.svnavRouteEnd)===e}function hde(i){return/^H[1-6]$/i.test(i.tagName)}function a$(i,e=document){return e.querySelector(i)}function mde(i){let t=a$(`[data-svnav-route-start="${i}"]`).nextElementSibling;for(;!dde(t,i);){if(hde(t))return t;const n=a$("h1,h2,h3,h4,h5,h6",t);if(n)return n;t=t.nextElementSibling}return null}function pde(i){Promise.resolve(Zu(i.focusElement)).then(e=>{const t=e||mde(i.id);t||wm(ja,`Could not find an element to focus. You should always render a header for accessibility reasons, or set a custom focus element via the "useFocus" hook. If you don't want this Route or Router to manage focus, pass "primary={false}" to it.`,i,Hp),!o$(t)&&o$(document.documentElement)})}const _de=(i,e,t)=>(n,r)=>Ds().then(()=>{if(!Pl||pO){fde();return}if(n&&pde(Pl.route),i.announcements&&r){const{path:s,fullPath:l,meta:o,params:a,uri:u}=Pl.route,c=i.createAnnouncement({path:s,fullPath:l,meta:o,params:a,uri:u},Zu(t));Promise.resolve(c).then(f=>{e.set(f)})}cde()}),u$="position:fixed;top:-1px;left:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;";function gde(i){let e,t,n=[{role:"status"},{"aria-atomic":"true"},{"aria-live":"polite"},{"data-svnav-announcer":""},C1(i[6],u$)],r={};for(let s=0;s<n.length;s+=1)r=ft(r,n[s]);return{c(){e=A("div"),t=Z(i[0]),gt(e,r)},m(s,l){w(s,e,l),E(e,t)},p(s,l){l[0]&1&&oe(t,s[0]),gt(e,r=At(n,[{role:"status"},{"aria-atomic":"true"},{"aria-live":"polite"},{"data-svnav-announcer":""},C1(s[6],u$)]))},d(s){s&&y(e)}}}function vde(i){let e,t,n,r,s,l=[Iu(i[6]),{"data-svnav-router":i[3]}],o={};for(let f=0;f<l.length;f+=1)o=ft(o,l[f]);const a=i[22].default,u=He(a,i,i[21],null);let c=i[2]&&i[4]&&i[1].announcements&&gde(i);return{c(){e=A("div"),t=Y(),u&&u.c(),n=Y(),c&&c.c(),r=$e(),gt(e,o)},m(f,d){w(f,e,d),w(f,t,d),u&&u.m(f,d),w(f,n,d),c&&c.m(f,d),w(f,r,d),s=!0},p(f,d){gt(e,o=At(l,[Iu(f[6]),{"data-svnav-router":f[3]}])),u&&u.p&&(!s||d[0]&2097152)&&Ve(u,a,f,f[21],s?We(a,f[21],d,null):Ge(f[21]),null),f[2]&&f[4]&&f[1].announcements&&c.p(f,d)},i(f){s||(_(u,f),s=!0)},o(f){v(u,f),s=!1},d(f){f&&y(e),f&&y(t),u&&u.d(f),f&&y(n),c&&c.d(f),f&&y(r)}}}const bde=eO(),c$="/";function kde(i,e,t){let n,r,s,l,o,{$$slots:a={},$$scope:u}=e,{basepath:c=c$}=e,{url:f=null}=e,{history:d=mO}=e,{primary:m=!0}=e,{a11y:p={}}=e,{disableInlineStyles:g=!1}=e;const k={createAnnouncement:se=>`Navigated to ${se.uri}`,announcements:!0,...p},$=c,D=Iv(c),F=sr(S1),C=sr(oc),S=!F,P=bde(),I=m&&!(C&&!C.manageFocus),R=Bt("");Ee(i,R,se=>t(0,o=se));const B=C?C.disableInlineStyles:g,z=Bt([]);Ee(i,z,se=>t(20,l=se));const q=Bt(null);Ee(i,q,se=>t(18,r=se));let H=!1;const K=S?0:C.level+1,U=S?Bt((()=>s$(Ao?Rv(f):d.location,D))()):F;Ee(i,U,se=>t(17,n=se));const Q=Bt(n);Ee(i,Q,se=>t(19,s=se));const V=_de(k,R,U),x=se=>te=>te.filter(ge=>ge.id!==se);function ee(se){if(Ao){if(H)return;const te=hO(se,n.pathname);if(te)return H=!0,te}else z.update(te=>{const ge=x(se.id)(te);return ge.push(se),ge})}function J(se){z.update(x(se))}return!S&&c!==c$&&wm(ja,'Only top-level Routers can have a "basepath" prop. It is ignored.',{basepath:c}),S&&(wt(()=>d.listen(te=>{const ge=s$(te.location,D);Q.set(n),U.set(ge)})),Ts(S1,U)),Ts(oc,{activeRoute:q,registerRoute:ee,unregisterRoute:J,manageFocus:I,level:K,id:P,history:S?d:C.history,basepath:S?D:C.basepath,disableInlineStyles:B}),i.$$set=se=>{"basepath"in se&&t(11,c=se.basepath),"url"in se&&t(12,f=se.url),"history"in se&&t(13,d=se.history),"primary"in se&&t(14,m=se.primary),"a11y"in se&&t(15,p=se.a11y),"disableInlineStyles"in se&&t(16,g=se.disableInlineStyles),"$$scope"in se&&t(21,u=se.$$scope)},i.$$.update=()=>{if(i.$$.dirty[0]&2048&&c!==$&&wm(ja,'You cannot change the "basepath" prop. It is ignored.'),i.$$.dirty[0]&1179648){const se=dO(l,n.pathname);q.set(se)}if(i.$$.dirty[0]&655360&&S){const se=!!n.hash,te=!se&&I,ge=!se||n.pathname!==s.pathname;V(te,ge)}i.$$.dirty[0]&262144&&I&&r&&r.primary&&ude({level:K,routerId:P,route:r})},[o,k,S,P,I,R,B,z,q,U,Q,c,f,d,m,p,g,n,r,s,l,u,a]}class yde extends ce{constructor(e){super(),ue(this,e,kde,vde,le,{basepath:11,url:12,history:13,primary:14,a11y:15,disableInlineStyles:16},null,[-1,-1])}}const _O=yde;function jd(i,e,t=oc,n=ja){sr(t)||fO(i,s=>`You cannot use ${s} outside of a ${zv(n)}.`,e)}const wde=i=>{const{subscribe:e}=sr(i);return{subscribe:e}};function jv(){return jd(lO),wde(S1)}function gO(){const{history:i}=sr(oc);return i}function vO(){const i=sr(nO);return i?cr(i,e=>e.base):Bt("/")}function bO(){jd(aO);const i=vO(),{basepath:e}=sr(oc);return n=>ede(n,Zu(i),e)}function $de(){jd(oO);const i=bO(),{navigate:e}=gO();return(n,r)=>{const s=QL(n)?n:i(n);return e(s,r)}}const Fde=i=>({params:i&16,location:i&8}),f$=i=>({params:Ao?Zu(i[10]):i[4],location:i[3],navigate:i[11]});function d$(i){let e,t;return e=new _O({props:{primary:i[1],$$slots:{default:[Cde]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.primary=n[1]),r&528409&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Ede(i){let e;const t=i[18].default,n=He(t,i,i[19],f$);return{c(){n&&n.c()},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&524312)&&Ve(n,t,r,r[19],e?We(t,r[19],s,Fde):Ge(r[19]),f$)},i(r){e||(_(n,r),e=!0)},o(r){v(n,r),e=!1},d(r){n&&n.d(r)}}}function Dde(i){let e,t,n;const r=[{location:i[3]},{navigate:i[11]},Ao?Zu(i[10]):i[4],i[12]];var s=i[0];function l(o){let a={};for(let u=0;u<r.length;u+=1)a=ft(a,r[u]);return{props:a}}return s&&(e=an(s,l())),{c(){e&&O(e.$$.fragment),t=$e()},m(o,a){e&&N(e,o,a),w(o,t,a),n=!0},p(o,a){const u=a&7192?At(r,[a&8&&{location:o[3]},a&2048&&{navigate:o[11]},a&1040&&Ki(Ao?Zu(o[10]):o[4]),a&4096&&Ki(o[12])]):{};if(s!==(s=o[0])){if(e){ie();const c=e;v(c.$$.fragment,1,0,()=>{M(c,1)}),re()}s?(e=an(s,l()),O(e.$$.fragment),_(e.$$.fragment,1),N(e,t.parentNode,t)):e=null}else s&&e.$set(u)},i(o){n||(e&&_(e.$$.fragment,o),n=!0)},o(o){e&&v(e.$$.fragment,o),n=!1},d(o){o&&y(t),e&&M(e,o)}}}function Cde(i){let e,t,n,r;const s=[Dde,Ede],l=[];function o(a,u){return a[0]!==null?0:1}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=$e()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?l[e].p(a,u):(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function Sde(i){let e,t,n,r,s,l=[Iu(i[7]),{"data-svnav-route-start":i[5]}],o={};for(let f=0;f<l.length;f+=1)o=ft(o,l[f]);let a=i[2]&&d$(i),u=[Iu(i[7]),{"data-svnav-route-end":i[5]}],c={};for(let f=0;f<u.length;f+=1)c=ft(c,u[f]);return{c(){e=A("div"),t=Y(),a&&a.c(),n=Y(),r=A("div"),gt(e,o),gt(r,c)},m(f,d){w(f,e,d),w(f,t,d),a&&a.m(f,d),w(f,n,d),w(f,r,d),s=!0},p(f,[d]){gt(e,o=At(l,[Iu(f[7]),{"data-svnav-route-start":f[5]}])),f[2]?a?(a.p(f,d),d&4&&_(a,1)):(a=d$(f),a.c(),_(a,1),a.m(n.parentNode,n)):a&&(ie(),v(a,1,1,()=>{a=null}),re()),gt(r,c=At(u,[Iu(f[7]),{"data-svnav-route-end":f[5]}]))},i(f){s||(_(a),s=!0)},o(f){v(a),s=!1},d(f){f&&y(e),f&&y(t),a&&a.d(f),f&&y(n),f&&y(r)}}}const Tde=eO();function Ade(i,e,t){let n;const r=["path","component","meta","primary"];let s=An(e,r),l,o,a,u,{$$slots:c={},$$scope:f}=e,{path:d=""}=e,{component:m=null}=e,{meta:p={}}=e,{primary:g=!0}=e;jd(Hp,e);const k=Tde(),{registerRoute:$,unregisterRoute:D,activeRoute:F,disableInlineStyles:C}=sr(oc);Ee(i,F,H=>t(16,l=H));const S=vO();Ee(i,S,H=>t(17,a=H));const P=jv();Ee(i,P,H=>t(3,o=H));const I=Bt(null);let R;const B=Bt(),z=Bt({});Ee(i,z,H=>t(4,u=H)),Ts(nO,B),Ts(Lfe,z),Ts(Ofe,I);const q=$de();return Ao||Dr(()=>D(k)),i.$$set=H=>{t(24,e=ft(ft({},e),ci(H))),t(12,s=An(e,r)),"path"in H&&t(13,d=H.path),"component"in H&&t(0,m=H.component),"meta"in H&&t(14,p=H.meta),"primary"in H&&t(1,g=H.primary),"$$scope"in H&&t(19,f=H.$$scope)},i.$$.update=()=>{if(i.$$.dirty&155658){const H=d==="",K=Rd(a,d),G={id:k,path:d,meta:p,default:H,fullPath:H?"":K,base:H?a:tde(K,o.pathname),primary:g,focusElement:I};B.set(G),t(15,R=$(G))}if(i.$$.dirty&98304&&t(2,n=!!(R||l&&l.id===k)),i.$$.dirty&98308&&n){const{params:H}=R||l;z.set(H)}},e=ci(e),[m,g,n,o,u,k,F,C,S,P,z,q,s,d,p,R,l,a,c,f]}class Pde extends ce{constructor(e){super(),ue(this,e,Ade,Sde,le,{path:13,component:0,meta:14,primary:1})}}const Wi=Pde;function Nde(i){let e,t,n,r;const s=i[13].default,l=He(s,i,i[12],null);let o=[{href:i[0]},i[2],i[1]],a={};for(let u=0;u<o.length;u+=1)a=ft(a,o[u]);return{c(){e=A("a"),l&&l.c(),gt(e,a)},m(u,c){w(u,e,c),l&&l.m(e,null),t=!0,n||(r=ke(e,"click",i[4]),n=!0)},p(u,[c]){l&&l.p&&(!t||c&4096)&&Ve(l,s,u,u[12],t?We(s,u[12],c,null):Ge(u[12]),null),gt(e,a=At(o,[(!t||c&1)&&{href:u[0]},c&4&&u[2],c&2&&u[1]]))},i(u){t||(_(l,u),t=!0)},o(u){v(l,u),t=!1},d(u){u&&y(e),l&&l.d(u),n=!1,r()}}}function Mde(i,e,t){let n,r,s,l,o,a;const u=["to","replace","state","getProps"];let c=An(e,u),f,{$$slots:d={},$$scope:m}=e,{to:p}=e,{replace:g=!1}=e,{state:k={}}=e,{getProps:$=null}=e;jd(Bv,e);const D=jv();Ee(i,D,I=>t(11,f=I));const F=Dt(),C=bO(),{navigate:S}=gO();function P(I){F("click",I),Nfe(I)&&(I.preventDefault(),S(n,{state:k,replace:l||g}))}return i.$$set=I=>{t(19,e=ft(ft({},e),ci(I))),t(18,c=An(e,u)),"to"in I&&t(5,p=I.to),"replace"in I&&t(6,g=I.replace),"state"in I&&t(7,k=I.state),"getProps"in I&&t(8,$=I.getProps),"$$scope"in I&&t(12,m=I.$$scope)},i.$$.update=()=>{i.$$.dirty&2080&&t(0,n=C(p,f)),i.$$.dirty&2049&&t(10,r=T1(f.pathname,n)),i.$$.dirty&2049&&t(9,s=n===f.pathname),i.$$.dirty&2049&&(l=Rv(n)===Qfe(f)),i.$$.dirty&512&&t(2,o=s?{"aria-current":"page"}:{}),t(1,a=(()=>{if(JL($)){const I=$({location:f,href:n,isPartiallyCurrent:r,isCurrent:s});return{...c,...I}}return c})())},e=ci(e),[n,a,o,D,P,p,g,k,$,s,r,f,m,d]}class Lde extends ce{constructor(e){super(),ue(this,e,Mde,Nde,le,{to:5,replace:6,state:7,getProps:8})}}const Ode=Lde,Ide=i=>({}),h$=i=>({}),Bde=i=>({}),m$=i=>({}),zde=i=>({}),p$=i=>({}),Rde=i=>({}),_$=i=>({});function jde(i){let e,t,n,r,s,l,o,a,u,c,f,d,m=i[20]&&Ude(i),p=i[0]&&g$(i),g=i[1]&&v$(i);const k=i[28].default,$=He(k,i,i[27],null);let D=i[21]&&qde(i);return{c(){e=A("div"),m&&m.c(),t=Y(),n=A("div"),p&&p.c(),r=Y(),g&&g.c(),s=Y(),$&&$.c(),o=Y(),D&&D.c(),h(n,"class",l="main "+i[16]+" filler "+(i[7]?"truncate":"")),h(e,"id",i[2]),h(e,"aria-label",i[10]),h(e,"role","menuitem"),h(e,"autofocus",i[18]),h(e,"item-divider",i[5]),h(e,"style",a="--line-gap:"+(i[12]||0)+"px; "+i[8]),h(e,"class",u="n-item "+(i[6]?"compact":"")+" "+(i[19]?"opacity-50":"")+" "+(i[15]?"bg-transparent":"")+" "+i[4]+" "+(i[12]?"bottom-line":"")+" "+(i[13]?"top-line":"")+" "+(i[11]?"solo":"")+" "+(i[3]?`bg-${i[3]}`:"")),h(e,":alt","title")},m(F,C){w(F,e,C),m&&m.m(e,null),E(e,t),E(e,n),p&&p.m(n,null),E(n,r),g&&g.m(n,null),E(n,s),$&&$.m(n,null),E(e,o),D&&D.m(e,null),c=!0,i[18]&&e.focus(),f||(d=[ke(e,"tap",i[23].tap),ke(e,"dbltap",i[23].doubletap),ke(e,"longtap",i[23].longtap),ke(e,"contextmenu",i[30])],f=!0)},p(F,C){F[20]&&m.p(F,C),F[0]?p?p.p(F,C):(p=g$(F),p.c(),p.m(n,r)):p&&(p.d(1),p=null),F[1]?g?g.p(F,C):(g=v$(F),g.c(),g.m(n,s)):g&&(g.d(1),g=null),$&&$.p&&(!c||C&134217728)&&Ve($,k,F,F[27],c?We(k,F[27],C,null):Ge(F[27]),null),(!c||C&65664&&l!==(l="main "+F[16]+" filler "+(F[7]?"truncate":"")))&&h(n,"class",l),F[21]&&D.p(F,C),(!c||C&4)&&h(e,"id",F[2]),(!c||C&1024)&&h(e,"aria-label",F[10]),(!c||C&262144)&&h(e,"autofocus",F[18]),(!c||C&32)&&h(e,"item-divider",F[5]),(!c||C&4352&&a!==(a="--line-gap:"+(F[12]||0)+"px; "+F[8]))&&h(e,"style",a),(!c||C&571480&&u!==(u="n-item "+(F[6]?"compact":"")+" "+(F[19]?"opacity-50":"")+" "+(F[15]?"bg-transparent":"")+" "+F[4]+" "+(F[12]?"bottom-line":"")+" "+(F[13]?"top-line":"")+" "+(F[11]?"solo":"")+" "+(F[3]?`bg-${F[3]}`:"")))&&h(e,"class",u)},i(F){c||(_(m),_($,F),_(D),c=!0)},o(F){v(m),v($,F),v(D),c=!1},d(F){F&&y(e),m&&m.d(),p&&p.d(),g&&g.d(),$&&$.d(F),D&&D.d(),f=!1,pt(d)}}}function Yde(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p=i[20]&&Hde(i),g=i[0]&&b$(i),k=i[1]&&k$(i);const $=i[28].default,D=He($,i,i[27],null);let F=(i[21]||i[14])&&y$(i),C=(i[9]||i[14])&&$$();return{c(){e=A("button"),p&&p.c(),t=Y(),n=A("div"),g&&g.c(),r=Y(),k&&k.c(),s=Y(),D&&D.c(),o=Y(),F&&F.c(),a=Y(),C&&C.c(),h(n,"class",l="main "+i[16]+" filler "+(i[7]?"truncate":"")),h(e,"role","menuitem"),e.autofocus=i[18],h(e,"id",i[2]),h(e,"aria-label",i[10]),e.disabled=i[19],h(e,"item-divider",i[5]),h(e,"style",u="--line-gap:"+(i[12]||0)+"px; "+i[8]),h(e,"class",c="n-item "+(i[6]?"compact":"")+" "+(i[9]||i[14]?"clickable":"")+" "+(i[19]?"opacity-50":"")+" "+(i[15]?"bg-transparent":"")+" "+(i[12]?"bottom-line":"")+" "+(i[13]?"top-line":"")+" "+(i[11]?"solo":"")+" "+i[4]+" "+(i[3]?`bg-${i[3]}`:"")),h(e,":alt","title")},m(S,P){w(S,e,P),p&&p.m(e,null),E(e,t),E(e,n),g&&g.m(n,null),E(n,r),k&&k.m(n,null),E(n,s),D&&D.m(n,null),E(e,o),F&&F.m(e,null),E(e,a),C&&C.m(e,null),f=!0,i[18]&&e.focus(),d||(m=[ke(e,"tap",i[23].tap),ke(e,"dbltap",i[23].doubletap),ke(e,"longtap",i[23].longtap),ke(e,"contextmenu",i[29])],d=!0)},p(S,P){S[20]&&p.p(S,P),S[0]?g?g.p(S,P):(g=b$(S),g.c(),g.m(n,r)):g&&(g.d(1),g=null),S[1]?k?k.p(S,P):(k=k$(S),k.c(),k.m(n,s)):k&&(k.d(1),k=null),D&&D.p&&(!f||P&134217728)&&Ve(D,$,S,S[27],f?We($,S[27],P,null):Ge(S[27]),null),(!f||P&65664&&l!==(l="main "+S[16]+" filler "+(S[7]?"truncate":"")))&&h(n,"class",l),S[21]||S[14]?F?(F.p(S,P),P&16384&&_(F,1)):(F=y$(S),F.c(),_(F,1),F.m(e,a)):F&&(ie(),v(F,1,1,()=>{F=null}),re()),S[9]||S[14]?C||(C=$$(),C.c(),C.m(e,null)):C&&(C.d(1),C=null),(!f||P&262144)&&(e.autofocus=S[18]),(!f||P&4)&&h(e,"id",S[2]),(!f||P&1024)&&h(e,"aria-label",S[10]),(!f||P&524288)&&(e.disabled=S[19]),(!f||P&32)&&h(e,"item-divider",S[5]),(!f||P&4352&&u!==(u="--line-gap:"+(S[12]||0)+"px; "+S[8]))&&h(e,"style",u),(!f||P&588376&&c!==(c="n-item "+(S[6]?"compact":"")+" "+(S[9]||S[14]?"clickable":"")+" "+(S[19]?"opacity-50":"")+" "+(S[15]?"bg-transparent":"")+" "+(S[12]?"bottom-line":"")+" "+(S[13]?"top-line":"")+" "+(S[11]?"solo":"")+" "+S[4]+" "+(S[3]?`bg-${S[3]}`:"")))&&h(e,"class",c)},i(S){f||(_(p),_(D,S),_(F),f=!0)},o(S){v(p),v(D,S),v(F),f=!1},d(S){S&&y(e),p&&p.d(),g&&g.d(),k&&k.d(),D&&D.d(S),F&&F.d(),C&&C.d(),d=!1,pt(m)}}}function Ude(i){let e,t;const n=i[28].left,r=He(n,i,i[27],m$);return{c(){e=A("div"),r&&r.c(),h(e,"class","left")},m(s,l){w(s,e,l),r&&r.m(e,null),t=!0},p(s,l){r&&r.p&&(!t||l&134217728)&&Ve(r,n,s,s[27],t?We(n,s[27],l,Bde):Ge(s[27]),m$)},i(s){t||(_(r,s),t=!0)},o(s){v(r,s),t=!1},d(s){s&&y(e),r&&r.d(s)}}}function g$(i){let e,t,n;return{c(){e=A("div"),t=Z(i[0]),h(e,"class",n="font-semibold leading-tight title "+i[17])},m(r,s){w(r,e,s),E(e,t)},p(r,s){s&1&&oe(t,r[0]),s&131072&&n!==(n="font-semibold leading-tight title "+r[17])&&h(e,"class",n)},d(r){r&&y(e)}}}function v$(i){let e,t;return{c(){e=A("div"),t=Z(i[1]),h(e,"class","description")},m(n,r){w(n,e,r),E(e,t)},p(n,r){r&2&&oe(t,n[1])},d(n){n&&y(e)}}}function qde(i){let e,t;const n=i[28].right,r=He(n,i,i[27],h$);return{c(){e=A("div"),r&&r.c(),h(e,"class","right")},m(s,l){w(s,e,l),r&&r.m(e,null),t=!0},p(s,l){r&&r.p&&(!t||l&134217728)&&Ve(r,n,s,s[27],t?We(n,s[27],l,Ide):Ge(s[27]),h$)},i(s){t||(_(r,s),t=!0)},o(s){v(r,s),t=!1},d(s){s&&y(e),r&&r.d(s)}}}function Hde(i){let e,t;const n=i[28].left,r=He(n,i,i[27],_$);return{c(){e=A("div"),r&&r.c(),h(e,"class","left relative")},m(s,l){w(s,e,l),r&&r.m(e,null),t=!0},p(s,l){r&&r.p&&(!t||l&134217728)&&Ve(r,n,s,s[27],t?We(n,s[27],l,Rde):Ge(s[27]),_$)},i(s){t||(_(r,s),t=!0)},o(s){v(r,s),t=!1},d(s){s&&y(e),r&&r.d(s)}}}function b$(i){let e,t,n;return{c(){e=A("div"),t=Z(i[0]),h(e,"class",n="font-medium leading-tight title "+i[17])},m(r,s){w(r,e,s),E(e,t)},p(r,s){s&1&&oe(t,r[0]),s&131072&&n!==(n="font-medium leading-tight title "+r[17])&&h(e,"class",n)},d(r){r&&y(e)}}}function k$(i){let e,t;return{c(){e=A("div"),t=Z(i[1]),h(e,"class","description")},m(n,r){w(n,e,r),E(e,t)},p(n,r){r&2&&oe(t,n[1])},d(n){n&&y(e)}}}function y$(i){let e,t,n;const r=i[28].right,s=He(r,i,i[27],p$);let l=i[14]&&w$();return{c(){e=A("div"),s&&s.c(),t=Y(),l&&l.c(),h(e,"class","right d-flex align-items-center")},m(o,a){w(o,e,a),s&&s.m(e,null),E(e,t),l&&l.m(e,null),n=!0},p(o,a){s&&s.p&&(!n||a&134217728)&&Ve(s,r,o,o[27],n?We(r,o[27],a,zde):Ge(o[27]),p$),o[14]?l?(l.p(o,a),a&16384&&_(l,1)):(l=w$(),l.c(),_(l,1),l.m(e,null)):l&&(ie(),v(l,1,1,()=>{l=null}),re())},i(o){n||(_(s,o),_(l),n=!0)},o(o){v(s,o),v(l),n=!1},d(o){o&&y(e),s&&s.d(o),l&&l.d()}}}function w$(i){let e,t;return e=new je({props:{icon:jo,className:"text-gray-300 z-0 dark:text-gray-700",style:"margin-left:6px; margin-right:-10px;"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function $$(i){let e;return{c(){e=A("div"),h(e,"class","hit-mark")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Wde(i){let e,t,n,r;const s=[Yde,jde],l=[];function o(a,u){return a[9]||a[14]?0:1}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=$e()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,[u]){let c=e;e=o(a),e===c?l[e].p(a,u):(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function Vde(i,e,t){let{$$slots:n={},$$scope:r}=e,{title:s=void 0}=e,{description:l=void 0}=e,{href:o=void 0}=e,{to:a=void 0}=e,{id:u=null}=e,{bg:c=void 0}=e,{className:f=""}=e,{itemDivider:d=void 0}=e,{compact:m=!1}=e,{truncate:p=!1}=e,{style:g=""}=e,{clickable:k=!1}=e,{ariaLabel:$=""}=e,{solo:D=!1}=e,{bottomLine:F=void 0}=e,{topLine:C=!1}=e,{delay:S=void 0}=e,{detail:P=!1}=e,{transparent:I=!1}=e,{mainClass:R=""}=e,{titleClass:B=""}=e,{autofocus:z=void 0}=e,{disabled:q=!1}=e;const H=(arguments[1].$$slots||{}).hasOwnProperty("left"),K=(arguments[1].$$slots||{}).hasOwnProperty("right"),G=Dt(),U={async tap(x){if(!q){let ee=0;S!==void 0?ee=S:(k||P)&&(ee=200),await Fr(ee),o?window.open(o,"_system"):a&&nl(a),G("click",x),G("tap",x)}},doubletap(x){q||G("dbltap",x)},longtap(x){q||G("longtap",x)},getHref(){return this.href||this.to||null},getStyle(){return this.getHref?{cursor:"pointer"}:{}}},Q=x=>(G("contextmenu",x),!1),V=x=>(G("contextmenu",x),!1);return i.$$set=x=>{"title"in x&&t(0,s=x.title),"description"in x&&t(1,l=x.description),"href"in x&&t(24,o=x.href),"to"in x&&t(25,a=x.to),"id"in x&&t(2,u=x.id),"bg"in x&&t(3,c=x.bg),"className"in x&&t(4,f=x.className),"itemDivider"in x&&t(5,d=x.itemDivider),"compact"in x&&t(6,m=x.compact),"truncate"in x&&t(7,p=x.truncate),"style"in x&&t(8,g=x.style),"clickable"in x&&t(9,k=x.clickable),"ariaLabel"in x&&t(10,$=x.ariaLabel),"solo"in x&&t(11,D=x.solo),"bottomLine"in x&&t(12,F=x.bottomLine),"topLine"in x&&t(13,C=x.topLine),"delay"in x&&t(26,S=x.delay),"detail"in x&&t(14,P=x.detail),"transparent"in x&&t(15,I=x.transparent),"mainClass"in x&&t(16,R=x.mainClass),"titleClass"in x&&t(17,B=x.titleClass),"autofocus"in x&&t(18,z=x.autofocus),"disabled"in x&&t(19,q=x.disabled),"$$scope"in x&&t(27,r=x.$$scope)},[s,l,u,c,f,d,m,p,g,k,$,D,F,C,P,I,R,B,z,q,H,K,G,U,o,a,S,r,n,Q,V]}class xe extends ce{constructor(e){super(),ue(this,e,Vde,Wde,le,{title:0,description:1,href:24,to:25,id:2,bg:3,className:4,itemDivider:5,compact:6,truncate:7,style:8,clickable:9,ariaLabel:10,solo:11,bottomLine:12,topLine:13,delay:26,detail:14,transparent:15,mainClass:16,titleClass:17,autofocus:18,disabled:19})}}const $m={tick:{id:"tick",emoji:"\u261D\uFE0F",label:_e.t("tracker.type.simple","Tally"),description:_e.t("tracker.type.simple_description","Tally each time it's used. Good for: pooped, gluten, made bed, showered.")},value:{id:"value",emoji:"\u{1F522}",label:_e.t("tracker.type.value","Value"),description:_e.t("tracker.type.value_description","Good for tracking fluids, medicines, distance")},range:{id:"range",emoji:"\u{1F39A}",label:_e.t("tracker.type.range","Range"),description:_e.t("tracker.type.range_description","Select from a range like 1-10. Good for Mood, Anxiety, Stress")},picker:{id:"picker",emoji:"\u2705",label:_e.t("tracker.type.picker","Pick List"),description:_e.t("tracker.type.picker_description","Create a pick list of anything. Including #trackers, @people and +context")},timer:{id:"timer",emoji:"\u23F2",label:_e.t("tracker.type.timer","Timer"),description:_e.t("tracker.type.timer_description","Track how long things take.")},note:{id:"note",emoji:"\u{1F3B3}",label:_e.t("tracker.type.note","Combo"),description:_e.t("tracker.type.note_description","Track multiple trackers at a time")}};function F$(i){if($m[i])return $m[i]}const Gde=(i=0)=>{const t=`${i}`.split(".");let n=t[0];const r=t.length>1?"."+t[1]:"",s=/(\d+)(\d{3})/;for(;s.test(n);)n=n.replace(s,"$1,$2");return n+r};class Wp{constructor(e){Ne(this,"id");Ne(this,"uom");if(this.id=e,Do.hasOwnProperty(e))this.uom=Do[e];else throw new Error(`${e} is an unknow unit of measure`)}get system(){return this.uom.system?this.uom.system:"both"}display(e){const t=n=>{let r=Nn(n),s=`${r}`;return!isNaN(r)&&r!==0&&(s=Gde(r)),this.uom.symbolAffix&&this.uom.symbol?this.uom.symbolAffix==="pre"?this.uom.symbol+this.uom.symbolSpace+s:`${s}${this.uom.symbolSpace}${this.uom.symbol}`:s};return this.uom.display?this.uom.display(e):t(e)}convertValueTo(e,t){return this.uom.system&&t!==this.uom.system&&this.uom.convert?Math.round(100*this.uom.convert(e))/100:e}convertTo(e){if(this.uom.system&&e!==this.uom.system){const t=this.uom.cousin;return t?new Wp(t):this}else return this}}const Zde=i=>({}),E$=i=>({}),xde=i=>({}),D$=i=>({}),Xde=i=>({}),C$=i=>({}),Kde=i=>({}),S$=i=>({});function T$(i){let e,t=(i[1]||i[2])+"",n;return{c(){e=A("label"),n=Z(t),h(e,"for",i[19])},m(r,s){w(r,e,s),E(e,n)},p(r,s){s[0]&6&&t!==(t=(r[1]||r[2])+"")&&oe(n,t),s[0]&524288&&h(e,"for",r[19])},d(r){r&&y(e)}}}function Jde(i){let e,t,n;return{c(){e=A("input"),e.autofocus=i[23],e.disabled=i[13],h(e,"id",i[7]),h(e,"type","text"),h(e,"inputmode",i[3]),h(e,"style",i[9]),h(e,"class",i[10]),h(e,"pattern",i[11]),h(e,"autocomplete",i[20]),h(e,"autocorrect",i[21]),h(e,"autocapitalize",i[22]),h(e,"placeholder",i[2])},m(r,s){w(r,e,s),i[55](e),mn(e,i[0]),i[23]&&e.focus(),t||(n=[ke(e,"input",i[56]),ke(e,"keyup",i[57]),ke(e,"input",i[31]),ke(e,"focus",i[30]),ke(e,"blur",i[29])],t=!0)},p(r,s){s[0]&8388608&&(e.autofocus=r[23]),s[0]&8192&&(e.disabled=r[13]),s[0]&128&&h(e,"id",r[7]),s[0]&8&&h(e,"inputmode",r[3]),s[0]&512&&h(e,"style",r[9]),s[0]&1024&&h(e,"class",r[10]),s[0]&2048&&h(e,"pattern",r[11]),s[0]&1048576&&h(e,"autocomplete",r[20]),s[0]&2097152&&h(e,"autocorrect",r[21]),s[0]&4194304&&h(e,"autocapitalize",r[22]),s[0]&4&&h(e,"placeholder",r[2]),s[0]&1&&e.value!==r[0]&&mn(e,r[0])},i:W,o:W,d(r){r&&y(e),i[55](null),t=!1,pt(n)}}}function Qde(i){let e,t,n,r,s;const l=i[35].default,o=He(l,i,i[34],null);return{c(){e=A("textarea"),t=Y(),o&&o.c(),e.autofocus=i[23],e.disabled=i[13],h(e,"id",i[7]),h(e,"rows",i[17]),h(e,"style",i[9]),h(e,"class",i[10]),h(e,"autocomplete",i[20]),h(e,"autocorrect",i[21]),h(e,"autocapitalize",i[22]),h(e,"placeholder",i[2])},m(a,u){w(a,e,u),i[53](e),mn(e,i[0]),w(a,t,u),o&&o.m(a,u),n=!0,i[23]&&e.focus(),r||(s=[ke(e,"input",i[31]),ke(e,"focus",i[30]),ke(e,"blur",i[29]),ke(e,"input",i[54])],r=!0)},p(a,u){(!n||u[0]&8388608)&&(e.autofocus=a[23]),(!n||u[0]&8192)&&(e.disabled=a[13]),(!n||u[0]&128)&&h(e,"id",a[7]),(!n||u[0]&131072)&&h(e,"rows",a[17]),(!n||u[0]&512)&&h(e,"style",a[9]),(!n||u[0]&1024)&&h(e,"class",a[10]),(!n||u[0]&1048576)&&h(e,"autocomplete",a[20]),(!n||u[0]&2097152)&&h(e,"autocorrect",a[21]),(!n||u[0]&4194304)&&h(e,"autocapitalize",a[22]),(!n||u[0]&4)&&h(e,"placeholder",a[2]),u[0]&1&&mn(e,a[0]),o&&o.p&&(!n||u[1]&8)&&Ve(o,l,a,a[34],n?We(l,a[34],u,null):Ge(a[34]),null)},i(a){n||(_(o,a),n=!0)},o(a){v(o,a),n=!1},d(a){a&&y(e),i[53](null),a&&y(t),o&&o.d(a),r=!1,pt(s)}}}function ehe(i){let e,t,n,r,s;const l=i[35].default,o=He(l,i,i[34],null);return{c(){e=A("div"),t=A("select"),o&&o.c(),h(t,"placeholder",i[2]),h(t,"id",i[7]),t.disabled=i[13],i[0]===void 0&&Rn(()=>i[52].call(t)),h(e,"class","select-wrap")},m(a,u){w(a,e,u),E(e,t),o&&o.m(t,null),i[50](t),gn(t,i[0]),n=!0,r||(s=[ke(t,"input",i[51]),ke(t,"change",i[52])],r=!0)},p(a,u){o&&o.p&&(!n||u[1]&8)&&Ve(o,l,a,a[34],n?We(l,a[34],u,null):Ge(a[34]),null),(!n||u[0]&4)&&h(t,"placeholder",a[2]),(!n||u[0]&128)&&h(t,"id",a[7]),(!n||u[0]&8192)&&(t.disabled=a[13]),u[0]&1&&gn(t,a[0])},i(a){n||(_(o,a),n=!0)},o(a){v(o,a),n=!1},d(a){a&&y(e),o&&o.d(a),i[50](null),r=!1,pt(s)}}}function the(i){let e,t,n;return{c(){e=A("input"),h(e,"id",i[7]),e.disabled=i[13],h(e,"inputmode",i[3]),h(e,"type","date"),h(e,"style",i[9]),e.autofocus=i[23],h(e,"class",i[10]),h(e,"placeholder",i[2])},m(r,s){w(r,e,s),i[48](e),mn(e,i[0]),i[23]&&e.focus(),t||(n=[ke(e,"input",i[49]),ke(e,"input",i[31]),ke(e,"focus",i[30]),ke(e,"blur",i[29])],t=!0)},p(r,s){s[0]&128&&h(e,"id",r[7]),s[0]&8192&&(e.disabled=r[13]),s[0]&8&&h(e,"inputmode",r[3]),s[0]&512&&h(e,"style",r[9]),s[0]&8388608&&(e.autofocus=r[23]),s[0]&1024&&h(e,"class",r[10]),s[0]&4&&h(e,"placeholder",r[2]),s[0]&1&&mn(e,r[0])},i:W,o:W,d(r){r&&y(e),i[48](null),t=!1,pt(n)}}}function nhe(i){let e,t,n;return{c(){e=A("input"),h(e,"id",i[7]),e.disabled=i[13],h(e,"inputmode",i[3]),h(e,"type","number"),h(e,"style",i[9]),h(e,"class",i[10]),e.autofocus=i[23],h(e,"autocomplete",i[20]),h(e,"autocorrect",i[21]),h(e,"autocapitalize",i[22]),h(e,"placeholder",i[2])},m(r,s){w(r,e,s),i[46](e),mn(e,i[0]),i[23]&&e.focus(),t||(n=[ke(e,"input",i[47]),ke(e,"input",i[31]),ke(e,"focus",i[30]),ke(e,"blur",i[29])],t=!0)},p(r,s){s[0]&128&&h(e,"id",r[7]),s[0]&8192&&(e.disabled=r[13]),s[0]&8&&h(e,"inputmode",r[3]),s[0]&512&&h(e,"style",r[9]),s[0]&1024&&h(e,"class",r[10]),s[0]&8388608&&(e.autofocus=r[23]),s[0]&1048576&&h(e,"autocomplete",r[20]),s[0]&2097152&&h(e,"autocorrect",r[21]),s[0]&4194304&&h(e,"autocapitalize",r[22]),s[0]&4&&h(e,"placeholder",r[2]),s[0]&1&&vc(e.value)!==r[0]&&mn(e,r[0])},i:W,o:W,d(r){r&&y(e),i[46](null),t=!1,pt(n)}}}function ihe(i){let e,t,n;return{c(){e=A("input"),h(e,"id",i[7]),e.disabled=i[13],h(e,"inputmode",i[3]),h(e,"type","datetime-local"),h(e,"style",i[9]),h(e,"class",i[10]),e.autofocus=i[23],h(e,"autocomplete",i[20]),h(e,"autocorrect",i[21]),h(e,"autocapitalize",i[22]),h(e,"placeholder",i[2])},m(r,s){w(r,e,s),i[44](e),mn(e,i[0]),i[23]&&e.focus(),t||(n=[ke(e,"input",i[45]),ke(e,"input",i[31]),ke(e,"focus",i[30]),ke(e,"blur",i[29])],t=!0)},p(r,s){s[0]&128&&h(e,"id",r[7]),s[0]&8192&&(e.disabled=r[13]),s[0]&8&&h(e,"inputmode",r[3]),s[0]&512&&h(e,"style",r[9]),s[0]&1024&&h(e,"class",r[10]),s[0]&8388608&&(e.autofocus=r[23]),s[0]&1048576&&h(e,"autocomplete",r[20]),s[0]&2097152&&h(e,"autocorrect",r[21]),s[0]&4194304&&h(e,"autocapitalize",r[22]),s[0]&4&&h(e,"placeholder",r[2]),s[0]&1&&mn(e,r[0])},i:W,o:W,d(r){r&&y(e),i[44](null),t=!1,pt(n)}}}function rhe(i){let e,t,n;return{c(){e=A("input"),h(e,"id",i[7]),e.disabled=i[13],h(e,"inputmode",i[3]),h(e,"type","password"),h(e,"style",i[9]),h(e,"class",i[10]),h(e,"pattern",i[11]),e.autofocus=i[23],h(e,"autocomplete",i[20]),h(e,"autocorrect",i[21]),h(e,"autocapitalize",i[22]),h(e,"placeholder",i[2])},m(r,s){w(r,e,s),i[42](e),mn(e,i[0]),i[23]&&e.focus(),t||(n=[ke(e,"input",i[43]),ke(e,"input",i[31]),ke(e,"focus",i[30]),ke(e,"blur",i[29])],t=!0)},p(r,s){s[0]&128&&h(e,"id",r[7]),s[0]&8192&&(e.disabled=r[13]),s[0]&8&&h(e,"inputmode",r[3]),s[0]&512&&h(e,"style",r[9]),s[0]&1024&&h(e,"class",r[10]),s[0]&2048&&h(e,"pattern",r[11]),s[0]&8388608&&(e.autofocus=r[23]),s[0]&1048576&&h(e,"autocomplete",r[20]),s[0]&2097152&&h(e,"autocorrect",r[21]),s[0]&4194304&&h(e,"autocapitalize",r[22]),s[0]&4&&h(e,"placeholder",r[2]),s[0]&1&&e.value!==r[0]&&mn(e,r[0])},i:W,o:W,d(r){r&&y(e),i[42](null),t=!1,pt(n)}}}function she(i){let e,t,n;return{c(){e=A("input"),h(e,"id",i[7]),e.disabled=i[13],h(e,"inputmode",i[3]),h(e,"name",i[19]),h(e,"type","file"),h(e,"style",i[9]),e.autofocus=i[23],h(e,"class",i[10]),h(e,"pattern",i[11]),h(e,"accept",i[18]),h(e,"placeholder",i[2])},m(r,s){w(r,e,s),i[39](e),i[23]&&e.focus(),t||(n=[ke(e,"change",i[40]),ke(e,"change",i[41]),ke(e,"input",i[31]),ke(e,"focus",i[30]),ke(e,"blur",i[29])],t=!0)},p(r,s){s[0]&128&&h(e,"id",r[7]),s[0]&8192&&(e.disabled=r[13]),s[0]&8&&h(e,"inputmode",r[3]),s[0]&524288&&h(e,"name",r[19]),s[0]&512&&h(e,"style",r[9]),s[0]&8388608&&(e.autofocus=r[23]),s[0]&1024&&h(e,"class",r[10]),s[0]&2048&&h(e,"pattern",r[11]),s[0]&262144&&h(e,"accept",r[18]),s[0]&4&&h(e,"placeholder",r[2])},i:W,o:W,d(r){r&&y(e),i[39](null),t=!1,pt(n)}}}function lhe(i){let e,t,n;return{c(){e=A("input"),h(e,"id",i[7]),e.disabled=i[13],h(e,"inputmode",i[3]),e.autofocus=i[23],h(e,"name",i[19]),h(e,"type","email"),h(e,"style",i[9]),h(e,"class",i[10]),h(e,"pattern",i[11]),h(e,"autocomplete",i[20]),h(e,"autocorrect",i[21]),h(e,"autocapitalize",i[22]),h(e,"placeholder",i[2])},m(r,s){w(r,e,s),i[36](e),mn(e,i[0]),i[23]&&e.focus(),t||(n=[ke(e,"input",i[37]),ke(e,"input",i[31]),ke(e,"change",i[38]),ke(e,"focus",i[30]),ke(e,"blur",i[29])],t=!0)},p(r,s){s[0]&128&&h(e,"id",r[7]),s[0]&8192&&(e.disabled=r[13]),s[0]&8&&h(e,"inputmode",r[3]),s[0]&8388608&&(e.autofocus=r[23]),s[0]&524288&&h(e,"name",r[19]),s[0]&512&&h(e,"style",r[9]),s[0]&1024&&h(e,"class",r[10]),s[0]&2048&&h(e,"pattern",r[11]),s[0]&1048576&&h(e,"autocomplete",r[20]),s[0]&2097152&&h(e,"autocorrect",r[21]),s[0]&4194304&&h(e,"autocapitalize",r[22]),s[0]&4&&h(e,"placeholder",r[2]),s[0]&1&&e.value!==r[0]&&mn(e,r[0])},i:W,o:W,d(r){r&&y(e),i[36](null),t=!1,pt(n)}}}function A$(i){let e,t=(i[5]||"")+"",n,r,s;const l=i[35].help,o=He(l,i,i[34],E$);return{c(){e=A("div"),n=Z(t),r=Y(),o&&o.c(),h(e,"class","helper")},m(a,u){w(a,e,u),E(e,n),E(e,r),o&&o.m(e,null),s=!0},p(a,u){(!s||u[0]&32)&&t!==(t=(a[5]||"")+"")&&oe(n,t),o&&o.p&&(!s||u[1]&8)&&Ve(o,l,a,a[34],s?We(l,a[34],u,Zde):Ge(a[34]),E$)},i(a){s||(_(o,a),s=!0)},o(a){v(o,a),s=!1},d(a){a&&y(e),o&&o.d(a)}}}function ohe(i){var z;let e,t,n,r,s,l,o,a,u,c,f,d,m,p;const g=i[35].left,k=He(g,i,i[34],S$);let $=(i[1]||i[2])&&T$(i);const D=[lhe,she,rhe,ihe,nhe,the,ehe,Qde,Jde],F=[];function C(q,H){return q[4]=="email"?0:q[4]=="file"?1:q[4]=="password"?2:q[4]=="datetime-local"?3:q[4]=="number"?4:q[4]=="date"?5:q[4]=="select"?6:q[4]=="textarea"?7:8}l=C(i),o=F[l]=D[l](i);const S=i[35].right,P=He(S,i,i[34],C$),I=i[35].bottom,R=He(I,i,i[34],D$);let B=(i[5]||((z=i[28])==null?void 0:z.help))&&A$(i);return{c(){e=A("div"),t=A("div"),k&&k.c(),n=Y(),r=A("div"),$&&$.c(),s=Y(),o.c(),a=Y(),P&&P.c(),c=Y(),R&&R.c(),f=Y(),B&&B.c(),h(r,"class","n-input"),h(t,"class",u="n-input-wrapper "+(i[25]?"has-input":"no-input")+" "+(i[24]?"has-focus":"no-focus")),h(e,"class",d="n-input-container n-input-type-"+i[4]+" "+i[6]+" "+(i[16]?"compact":"")+" "+(i[15]?"list-item":"")+" "+(i[14]?"solo":"with-label")),h(e,"style",m=(i[12]?`max-width:${i[12]}; width:${i[12]}; `:"")+" "+i[8])},m(q,H){w(q,e,H),E(e,t),k&&k.m(t,null),E(t,n),E(t,r),$&&$.m(r,null),E(r,s),F[l].m(r,null),E(t,a),P&&P.m(t,null),E(e,c),R&&R.m(e,null),E(e,f),B&&B.m(e,null),p=!0},p(q,H){var G;k&&k.p&&(!p||H[1]&8)&&Ve(k,g,q,q[34],p?We(g,q[34],H,Kde):Ge(q[34]),S$),q[1]||q[2]?$?$.p(q,H):($=T$(q),$.c(),$.m(r,s)):$&&($.d(1),$=null);let K=l;l=C(q),l===K?F[l].p(q,H):(ie(),v(F[K],1,1,()=>{F[K]=null}),re(),o=F[l],o?o.p(q,H):(o=F[l]=D[l](q),o.c()),_(o,1),o.m(r,null)),P&&P.p&&(!p||H[1]&8)&&Ve(P,S,q,q[34],p?We(S,q[34],H,Xde):Ge(q[34]),C$),(!p||H[0]&50331648&&u!==(u="n-input-wrapper "+(q[25]?"has-input":"no-input")+" "+(q[24]?"has-focus":"no-focus")))&&h(t,"class",u),R&&R.p&&(!p||H[1]&8)&&Ve(R,I,q,q[34],p?We(I,q[34],H,xde):Ge(q[34]),D$),q[5]||((G=q[28])==null?void 0:G.help)?B?(B.p(q,H),H[0]&32&&_(B,1)):(B=A$(q),B.c(),_(B,1),B.m(e,null)):B&&(ie(),v(B,1,1,()=>{B=null}),re()),(!p||H[0]&114768&&d!==(d="n-input-container n-input-type-"+q[4]+" "+q[6]+" "+(q[16]?"compact":"")+" "+(q[15]?"list-item":"")+" "+(q[14]?"solo":"with-label")))&&h(e,"class",d),(!p||H[0]&4352&&m!==(m=(q[12]?`max-width:${q[12]}; width:${q[12]}; `:"")+" "+q[8]))&&h(e,"style",m)},i(q){p||(_(k,q),_(o),_(P,q),_(R,q),_(B),p=!0)},o(q){v(k,q),v(o),v(P,q),v(R,q),v(B),p=!1},d(q){q&&y(e),k&&k.d(q),$&&$.d(),F[l].d(),P&&P.d(q),R&&R.d(q),B&&B.d()}}}function ahe(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=Dt();let{label:l=null}=e,{placeholder:o=null}=e,{inputmode:a=void 0}=e,{value:u=null}=e,{type:c="text"}=e,{help:f=null}=e,{className:d=""}=e,{id:m=""}=e,{style:p=""}=e,{inputStyle:g=""}=e,{inputClass:k=""}=e,{pattern:$=""}=e,{width:D=""}=e,{disabled:F=void 0}=e,{solo:C=void 0}=e,{listItem:S=void 0}=e,{compact:P=void 0}=e,{rows:I=2}=e,{accept:R="png,jpeg,jpg,csv"}=e,{name:B=void 0}=e,{autocomplete:z=void 0}=e,{autocorrect:q=void 0}=e,{autocapitalize:H=void 0}=e,{autofocus:K=void 0}=e;const G=e.$$slots;let U=!1,Q=!1,V;function x(){V.focus()}function ee(){return V.value}let J=()=>{t(24,U=!1)},se=rt=>{t(24,U=!0),s("focus",rt)},te=rt=>{rt.key=="Enter"&&s("enter",u),s("input",rt.target.value)};wt(()=>{c=="select"&&t(25,Q=!0),u&&`${u}`.length&&t(25,Q=!0)});function ge(rt){De[rt?"unshift":"push"](()=>{V=rt,t(26,V)})}function ae(){u=this.value,t(0,u)}const ve=rt=>{s("change",rt)};function Te(rt){De[rt?"unshift":"push"](()=>{V=rt,t(26,V)})}function Pe(){u=this.value,t(0,u)}const pe=rt=>{s("change",rt)};function Ie(rt){De[rt?"unshift":"push"](()=>{V=rt,t(26,V)})}function ye(){u=this.value,t(0,u)}function st(rt){De[rt?"unshift":"push"](()=>{V=rt,t(26,V)})}function dt(){u=this.value,t(0,u)}function lt(rt){De[rt?"unshift":"push"](()=>{V=rt,t(26,V)})}function vt(){u=vc(this.value),t(0,u)}function kt(rt){De[rt?"unshift":"push"](()=>{V=rt,t(26,V)})}function Ze(){u=this.value,t(0,u)}function bt(rt){De[rt?"unshift":"push"](()=>{V=rt,t(26,V)})}const Yt=rt=>{s("change",rt.target.value)};function sn(){u=Ks(this),t(0,u)}function Ln(rt){De[rt?"unshift":"push"](()=>{V=rt,t(26,V)})}function In(){u=this.value,t(0,u)}function On(rt){De[rt?"unshift":"push"](()=>{V=rt,t(26,V)})}function vn(){u=this.value,t(0,u)}const hi=rt=>{rt.key==="Enter"&&s("enter",u),s("keyup",rt)};return i.$$set=rt=>{t(58,e=ft(ft({},e),ci(rt))),"label"in rt&&t(1,l=rt.label),"placeholder"in rt&&t(2,o=rt.placeholder),"inputmode"in rt&&t(3,a=rt.inputmode),"value"in rt&&t(0,u=rt.value),"type"in rt&&t(4,c=rt.type),"help"in rt&&t(5,f=rt.help),"className"in rt&&t(6,d=rt.className),"id"in rt&&t(7,m=rt.id),"style"in rt&&t(8,p=rt.style),"inputStyle"in rt&&t(9,g=rt.inputStyle),"inputClass"in rt&&t(10,k=rt.inputClass),"pattern"in rt&&t(11,$=rt.pattern),"width"in rt&&t(12,D=rt.width),"disabled"in rt&&t(13,F=rt.disabled),"solo"in rt&&t(14,C=rt.solo),"listItem"in rt&&t(15,S=rt.listItem),"compact"in rt&&t(16,P=rt.compact),"rows"in rt&&t(17,I=rt.rows),"accept"in rt&&t(18,R=rt.accept),"name"in rt&&t(19,B=rt.name),"autocomplete"in rt&&t(20,z=rt.autocomplete),"autocorrect"in rt&&t(21,q=rt.autocorrect),"autocapitalize"in rt&&t(22,H=rt.autocapitalize),"autofocus"in rt&&t(23,K=rt.autofocus),"$$scope"in rt&&t(34,r=rt.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&1&&(u!==""&&(u===0||jn.truthy(u))?t(25,Q=!0):t(25,Q=!1))},e=ci(e),[u,l,o,a,c,f,d,m,p,g,k,$,D,F,C,S,P,I,R,B,z,q,H,K,U,Q,V,s,G,J,se,te,x,ee,r,n,ge,ae,ve,Te,Pe,pe,Ie,ye,st,dt,lt,vt,kt,Ze,bt,Yt,sn,Ln,In,On,vn,hi]}class fn extends ce{constructor(e){super(),ue(this,e,ahe,ohe,le,{label:1,placeholder:2,inputmode:3,value:0,type:4,help:5,className:6,id:7,style:8,inputStyle:9,inputClass:10,pattern:11,width:12,disabled:13,solo:14,listItem:15,compact:16,rows:17,accept:18,name:19,autocomplete:20,autocorrect:21,autocapitalize:22,autofocus:23,doFocus:32,getValue:33},null,[-1,-1])}get doFocus(){return this.$$.ctx[32]}get getValue(){return this.$$.ctx[33]}}function uhe(i){let e,t,n;const r=i[4].default,s=He(r,i,i[3],null);return{c(){e=A("div"),s&&s.c(),h(e,"class",t="n-toolbar "+(i[0]?"pin-top":"")+" "+i[1]),h(e,"style",i[2])},m(l,o){w(l,e,o),s&&s.m(e,null),n=!0},p(l,[o]){s&&s.p&&(!n||o&8)&&Ve(s,r,l,l[3],n?We(r,l[3],o,null):Ge(l[3]),null),(!n||o&3&&t!==(t="n-toolbar "+(l[0]?"pin-top":"")+" "+l[1]))&&h(e,"class",t),(!n||o&4)&&h(e,"style",l[2])},i(l){n||(_(s,l),n=!0)},o(l){v(s,l),n=!1},d(l){l&&y(e),s&&s.d(l)}}}function che(i,e,t){let{$$slots:n={},$$scope:r}=e,{pinTop:s=void 0}=e,{className:l=""}=e,{style:o=""}=e;return i.$$set=a=>{"pinTop"in a&&t(0,s=a.pinTop),"className"in a&&t(1,l=a.className),"style"in a&&t(2,o=a.style),"$$scope"in a&&t(3,r=a.$$scope)},[s,l,o,r,n]}class Sr extends ce{constructor(e){super(),ue(this,e,che,uhe,le,{pinTop:0,className:1,style:2})}}function fhe(i){let e,t,n;const r=i[3].default,s=He(r,i,i[2],null);return{c(){e=A("div"),s&&s.c(),h(e,"class",t=`nui-container nui-container-${i[0]} ${i[1]}`)},m(l,o){w(l,e,o),s&&s.m(e,null),n=!0},p(l,[o]){s&&s.p&&(!n||o&4)&&Ve(s,r,l,l[2],n?We(r,l[2],o,null):Ge(l[2]),null),(!n||o&3&&t!==(t=`nui-container nui-container-${l[0]} ${l[1]}`))&&h(e,"class",t)},i(l){n||(_(s,l),n=!0)},o(l){v(s,l),n=!1},d(l){l&&y(e),s&&s.d(l)}}}function dhe(i,e,t){let{$$slots:n={},$$scope:r}=e,{size:s="md"}=e,{className:l=""}=e;return i.$$set=o=>{"size"in o&&t(0,s=o.size),"className"in o&&t(1,l=o.className),"$$scope"in o&&t(2,r=o.$$scope)},[s,l,r,n]}class Vn extends ce{constructor(e){super(),ue(this,e,dhe,fhe,le,{size:0,className:1})}}const hhe=i=>({}),P$=i=>({}),mhe=i=>({}),N$=i=>({});function phe(i){let e,t,n;return t=new je({props:{icon:bc,size:20,className:"text-gray-500"}}),{c(){e=A("div"),O(t.$$.fragment),h(e,"slot","left"),h(e,"class","flex items-center pl-2")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p:W,i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function M$(i){let e,t;return e=new Me({props:{icon:!0,className:" btn-action-clear mr-2",style:"margin-left:-10px;",$$slots:{default:[_he]},$$scope:{ctx:i}}}),e.$on("click",i[13]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&2097152&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function _he(i){let e,t;return e=new je({props:{icon:gl}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function ghe(i){let e,t,n;const r=i[16]["right-inside"],s=He(r,i,i[21],N$);let l=i[0]&&i[6]&&M$(i);return{c(){e=A("div"),s&&s.c(),t=Y(),l&&l.c(),h(e,"slot","right"),h(e,"class","flex items-center")},m(o,a){w(o,e,a),s&&s.m(e,null),E(e,t),l&&l.m(e,null),n=!0},p(o,a){s&&s.p&&(!n||a&2097152)&&Ve(s,r,o,o[21],n?We(r,o[21],a,mhe):Ge(o[21]),N$),o[0]&&o[6]?l?(l.p(o,a),a&65&&_(l,1)):(l=M$(o),l.c(),_(l,1),l.m(e,null)):l&&(ie(),v(l,1,1,()=>{l=null}),re())},i(o){n||(_(s,o),_(l),n=!0)},o(o){v(s,o),v(l),n=!1},d(o){o&&y(e),s&&s.d(o),l&&l.d()}}}function L$(i){let e,t;return e=new Me({props:{color:"clear",icon:!0,$$slots:{default:[vhe]},$$scope:{ctx:i}}}),e.$on("click",i[12]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&2097152&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function vhe(i){let e,t;return e=new je({props:{icon:bc,size:20,className:"text-gray-500"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function bhe(i){let e,t,n,r,s,l;function o(d){i[18](d)}let a={solo:!0,compact:i[5],autofocus:i[7],className:"search-input mt-0 text-2xl "+i[4],placeholder:i[1],$$slots:{right:[ghe],left:[phe]},$$scope:{ctx:i}};i[0]!==void 0&&(a.value=i[0]),e=new fn({props:a}),i[17](e),De.push(()=>Ue(e,"value",o,i[0])),e.$on("input",i[11]),e.$on("enter",i[12]),e.$on("focus",i[19]),e.$on("blur",i[20]);const u=i[16].right,c=He(u,i,i[21],P$);let f=i[8]&&L$(i);return{c(){O(e.$$.fragment),n=Y(),c&&c.c(),r=Y(),f&&f.c(),s=$e()},m(d,m){N(e,d,m),w(d,n,m),c&&c.m(d,m),w(d,r,m),f&&f.m(d,m),w(d,s,m),l=!0},p(d,m){const p={};m&32&&(p.compact=d[5]),m&128&&(p.autofocus=d[7]),m&16&&(p.className="search-input mt-0 text-2xl "+d[4]),m&2&&(p.placeholder=d[1]),m&2097217&&(p.$$scope={dirty:m,ctx:d}),!t&&m&1&&(t=!0,p.value=d[0],qe(()=>t=!1)),e.$set(p),c&&c.p&&(!l||m&2097152)&&Ve(c,u,d,d[21],l?We(u,d[21],m,hhe):Ge(d[21]),P$),d[8]?f?(f.p(d,m),m&256&&_(f,1)):(f=L$(d),f.c(),_(f,1),f.m(s.parentNode,s)):f&&(ie(),v(f,1,1,()=>{f=null}),re())},i(d){l||(_(e.$$.fragment,d),_(c,d),_(f),l=!0)},o(d){v(e.$$.fragment,d),v(c,d),v(f),l=!1},d(d){i[17](null),M(e,d),d&&y(n),c&&c.d(d),d&&y(r),f&&f.d(d),d&&y(s)}}}function khe(i){let e,t;return e=new Vn({props:{size:"sm",$$slots:{default:[bhe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&2098163&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function yhe(i){let e,t;return e=new Sr({props:{className:"search-bar "+i[3],style:i[2],$$slots:{default:[khe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&8&&(s.className="search-bar "+n[3]),r&4&&(s.style=n[2]),r&2098163&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function whe(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=Dt();let{searchTerm:l=void 0}=e,{placeholder:o="Search..."}=e,{style:a=""}=e,{className:u=""}=e,{inputClass:c=""}=e,{compact:f=!1}=e,{showClose:d=!0}=e,{autofocus:m=!1}=e;const p=!1;let{searchButton:g=!1}=e,k,$;function D(){clearTimeout($),$=setTimeout(()=>{s("change",l)},400)}function F(){k.doFocus&&k.doFocus()}function C(){s("search",l)}function S(){s("clear"),t(0,l=void 0)}function P(z){De[z?"unshift":"push"](()=>{k=z,t(9,k)})}function I(z){l=z,t(0,l)}const R=()=>{s("focus")},B=()=>{s("blur")};return i.$$set=z=>{"searchTerm"in z&&t(0,l=z.searchTerm),"placeholder"in z&&t(1,o=z.placeholder),"style"in z&&t(2,a=z.style),"className"in z&&t(3,u=z.className),"inputClass"in z&&t(4,c=z.inputClass),"compact"in z&&t(5,f=z.compact),"showClose"in z&&t(6,d=z.showClose),"autofocus"in z&&t(7,m=z.autofocus),"searchButton"in z&&t(8,g=z.searchButton),"$$scope"in z&&t(21,r=z.$$scope)},[l,o,a,u,c,f,d,m,g,k,s,D,C,S,p,F,n,P,I,R,B,r]}class iu extends ce{constructor(e){super(),ue(this,e,whe,yhe,le,{searchTerm:0,placeholder:1,style:2,className:3,inputClass:4,compact:5,showClose:6,autofocus:7,autocomplete:14,searchButton:8,focus:15})}get autocomplete(){return this.$$.ctx[14]}get focus(){return this.$$.ctx[15]}}const $he=i=>({}),O$=i=>({});function I$(i){let e,t;return e=new Si({props:{emoji:i[0],size:80,className:"mb-4"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.emoji=n[0]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function B$(i){let e,t;return e=new je({props:{icon:i[1],size:80,className:"mb-4 text-primary-400"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.icon=n[1]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function z$(i){let e,t;return{c(){e=A("div"),t=Z(i[2]),h(e,"class","my-1 text-center text-lg font-extrabold leading-tight text-gray-800 dark:text-gray-50")},m(n,r){w(n,e,r),E(e,t)},p(n,r){r&4&&oe(t,n[2])},d(n){n&&y(e)}}}function R$(i){let e,t;return{c(){e=A("div"),t=Z(i[3]),h(e,"class","text-sm text-center text-gray-500 dark:text-gray-500")},m(n,r){w(n,e,r),E(e,t)},p(n,r){r&8&&oe(t,n[3])},d(n){n&&y(e)}}}function j$(i){let e,t;return e=new Me({props:{size:"sm",className:" mt-4",primary:!0,clear:!0,$$slots:{default:[Fhe]},$$scope:{ctx:i}}}),e.$on("click",function(){zt(i[7])&&i[7].apply(this,arguments)}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){i=n;const s={};r&2112&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Fhe(i){let e;return{c(){e=Z(i[6])},m(t,n){w(t,e,n)},p(t,n){n&64&&oe(e,t[6])},d(t){t&&y(e)}}}function Ehe(i){let e,t,n,r,s,l,o,a,u;const c=i[10].emoji,f=He(c,i,i[11],O$);let d=i[0]&&I$(i),m=i[1]&&B$(i),p=i[2]&&z$(i),g=i[3]&&R$(i);const k=i[10].default,$=He(k,i,i[11],null);let D=i[6]&&j$(i);return{c(){e=A("div"),f&&f.c(),t=Y(),d&&d.c(),n=Y(),m&&m.c(),r=Y(),p&&p.c(),s=Y(),g&&g.c(),l=Y(),$&&$.c(),o=Y(),D&&D.c(),h(e,"class",a="empty-box "+i[4]+" "+(i[9]?"finish":"start")),h(e,"style",i[5]),Je(e,"small",i[8])},m(F,C){w(F,e,C),f&&f.m(e,null),E(e,t),d&&d.m(e,null),E(e,n),m&&m.m(e,null),E(e,r),p&&p.m(e,null),E(e,s),g&&g.m(e,null),E(e,l),$&&$.m(e,null),E(e,o),D&&D.m(e,null),u=!0},p(F,[C]){f&&f.p&&(!u||C&2048)&&Ve(f,c,F,F[11],u?We(c,F[11],C,$he):Ge(F[11]),O$),F[0]?d?(d.p(F,C),C&1&&_(d,1)):(d=I$(F),d.c(),_(d,1),d.m(e,n)):d&&(ie(),v(d,1,1,()=>{d=null}),re()),F[1]?m?(m.p(F,C),C&2&&_(m,1)):(m=B$(F),m.c(),_(m,1),m.m(e,r)):m&&(ie(),v(m,1,1,()=>{m=null}),re()),F[2]?p?p.p(F,C):(p=z$(F),p.c(),p.m(e,s)):p&&(p.d(1),p=null),F[3]?g?g.p(F,C):(g=R$(F),g.c(),g.m(e,l)):g&&(g.d(1),g=null),$&&$.p&&(!u||C&2048)&&Ve($,k,F,F[11],u?We(k,F[11],C,null):Ge(F[11]),null),F[6]?D?(D.p(F,C),C&64&&_(D,1)):(D=j$(F),D.c(),_(D,1),D.m(e,null)):D&&(ie(),v(D,1,1,()=>{D=null}),re()),(!u||C&528&&a!==(a="empty-box "+F[4]+" "+(F[9]?"finish":"start")))&&h(e,"class",a),(!u||C&32)&&h(e,"style",F[5]),(!u||C&784)&&Je(e,"small",F[8])},i(F){u||(_(f,F),_(d),_(m),_($,F),_(D),u=!0)},o(F){v(f,F),v(d),v(m),v($,F),v(D),u=!1},d(F){F&&y(e),f&&f.d(F),d&&d.d(),m&&m.d(),p&&p.d(),g&&g.d(),$&&$.d(F),D&&D.d()}}}function Dhe(i,e,t){let{$$slots:n={},$$scope:r}=e,{emoji:s=void 0}=e,{icon:l=void 0}=e,{title:o=void 0}=e,{description:a=void 0}=e,{className:u=""}=e,{style:c=""}=e,{buttonLabel:f=void 0}=e,{buttonClick:d=void 0}=e,{small:m=!1}=e,p=!1;return wt(()=>{setTimeout(()=>{t(9,p=!0)},200)}),i.$$set=g=>{"emoji"in g&&t(0,s=g.emoji),"icon"in g&&t(1,l=g.icon),"title"in g&&t(2,o=g.title),"description"in g&&t(3,a=g.description),"className"in g&&t(4,u=g.className),"style"in g&&t(5,c=g.style),"buttonLabel"in g&&t(6,f=g.buttonLabel),"buttonClick"in g&&t(7,d=g.buttonClick),"small"in g&&t(8,m=g.small),"$$scope"in g&&t(11,r=g.$$scope)},[s,l,o,a,u,c,f,d,m,p,n,r]}class Gn extends ce{constructor(e){super(),ue(this,e,Dhe,Ehe,le,{emoji:0,icon:1,title:2,description:3,className:4,style:5,buttonLabel:6,buttonClick:7,small:8})}}function Che(i){let e,t,n;const r=i[6].default,s=He(r,i,i[5],null);return{c(){e=A("h2"),s&&s.c(),h(e,"class",t="ntitle "+i[1]),h(e,"style",i[2])},m(l,o){w(l,e,o),s&&s.m(e,null),n=!0},p(l,o){s&&s.p&&(!n||o&32)&&Ve(s,r,l,l[5],n?We(r,l[5],o,null):Ge(l[5]),null),(!n||o&2&&t!==(t="ntitle "+l[1]))&&h(e,"class",t),(!n||o&4)&&h(e,"style",l[2])},i(l){n||(_(s,l),n=!0)},o(l){v(s,l),n=!1},d(l){l&&y(e),s&&s.d(l)}}}function She(i){let e,t,n;const r=i[6].default,s=He(r,i,i[5],null);return{c(){e=A("h1"),s&&s.c(),h(e,"class",t="ntitle "+i[1]),h(e,"style",i[2])},m(l,o){w(l,e,o),s&&s.m(e,null),n=!0},p(l,o){s&&s.p&&(!n||o&32)&&Ve(s,r,l,l[5],n?We(r,l[5],o,null):Ge(l[5]),null),(!n||o&2&&t!==(t="ntitle "+l[1]))&&h(e,"class",t),(!n||o&4)&&h(e,"style",l[2])},i(l){n||(_(s,l),n=!0)},o(l){v(s,l),n=!1},d(l){l&&y(e),s&&s.d(l)}}}function The(i){let e,t;const n=i[6].default,r=He(n,i,i[5],null);return{c(){e=A("h2"),r&&r.c(),h(e,"class","text-xl md:text-2xl lg:text-3xl pl-1 dark:text-white text-black font-bold leading-tight")},m(s,l){w(s,e,l),r&&r.m(e,null),t=!0},p(s,l){r&&r.p&&(!t||l&32)&&Ve(r,n,s,s[5],t?We(n,s[5],l,null):Ge(s[5]),null)},i(s){t||(_(r,s),t=!0)},o(s){v(r,s),t=!1},d(s){s&&y(e),r&&r.d(s)}}}function Y$(i){let e,t;return{c(){e=A("p"),t=Z(i[4]),h(e,"class","text-sm text-gray-500 leading-tight mt-1")},m(n,r){w(n,e,r),E(e,t)},p(n,r){r&16&&oe(t,n[4])},d(n){n&&y(e)}}}function Ahe(i){let e,t,n,r,s;const l=[The,She,Che],o=[];function a(c,f){return c[3]?0:c[0]?1:2}e=a(i),t=o[e]=l[e](i);let u=i[4]&&Y$(i);return{c(){t.c(),n=Y(),u&&u.c(),r=$e()},m(c,f){o[e].m(c,f),w(c,n,f),u&&u.m(c,f),w(c,r,f),s=!0},p(c,[f]){let d=e;e=a(c),e===d?o[e].p(c,f):(ie(),v(o[d],1,1,()=>{o[d]=null}),re(),t=o[e],t?t.p(c,f):(t=o[e]=l[e](c),t.c()),_(t,1),t.m(n.parentNode,n)),c[4]?u?u.p(c,f):(u=Y$(c),u.c(),u.m(r.parentNode,r)):u&&(u.d(1),u=null)},i(c){s||(_(t),s=!0)},o(c){v(t),s=!1},d(c){o[e].d(c),c&&y(n),u&&u.d(c),c&&y(r)}}}function Phe(i,e,t){let{$$slots:n={},$$scope:r}=e,{h1:s=!0}=e,{className:l=""}=e,{style:o=""}=e,{listHeader:a=!1}=e,{subTitle:u=void 0}=e;return i.$$set=c=>{"h1"in c&&t(0,s=c.h1),"className"in c&&t(1,l=c.className),"style"in c&&t(2,o=c.style),"listHeader"in c&&t(3,a=c.listHeader),"subTitle"in c&&t(4,u=c.subTitle),"$$scope"in c&&t(5,r=c.$$scope)},[s,l,o,a,u,r,n]}class Yr extends ce{constructor(e){super(),ue(this,e,Phe,Ahe,le,{h1:0,className:1,style:2,listHeader:3,subTitle:4})}}const Ya="6.1";class Yv{constructor(e){Ne(this,"type","template");Ne(this,"id");Ne(this,"name");Ne(this,"description");Ne(this,"author");Ne(this,"version");Ne(this,"trackables");Ne(this,"goals");Ne(this,"boards");Ne(this,"dashboards");let t=e||{};this.id=t.id||pn(),this.name=t.name||"",this.description=t.description,this.author=t.author,this.version=t.version||Ya,this.trackables=t.trackables?t.trackables:[],this.goals=t.goals?t.goals:[],this.boards=t.boards?t.boards:[],this.dashboards=t.dashboards?t.dashboards:[]}get asObject(){return JSON.parse(JSON.stringify(this))}}const Nhe=(i,e)=>{const t=new Wp(i.uom),n=e?"metric":"imperial";return t.system!==n&&t.system!=="both"&&(i.uom=t.convertTo(n).id,i.default=t.convertValueTo(i.default||0,n)),new oi(i)},A1=[{title:"\u{1F914} ADHD",url:"/templates/adhd-template.json"},{title:"\u{1F635}\u200D\u{1F4AB} Mood",url:"/templates/mood-template.json"},{title:"\u{1F534} Period",url:"/templates/period-template.json"},{title:"\u{1F49D} Self Care",url:"/templates/care-template.json"}],Tl={firstDayOfWeek:"sunday",setFirstDayOfWeek(i){return Tl.firstDayOfWeek=i,Tl},getFirstDayOfWeek(i){return Tl.thisWeek(i)[0]},getLastDayOfWeek(i){return Tl.thisWeek(i)[6]},thisWeek(i){i=i||we();let e=i.day(),t=i.startOf("week");e===0&&Tl.firstDayOfWeek=="monday"?t=t.subtract(1,"week").add(1,"day"):Tl.firstDayOfWeek=="monday"&&(t=t.add(1,"day"));let n=[];for(var r=0;r<7;r++)n.push(t.add(r,"day"));return n},lastWeek(){return Tl.thisWeek().map(i=>we(i).subtract(7,"day"))}};class U${constructor(e){Ne(this,"date");Ne(this,"add");Ne(this,"subtract");Ne(this,"startOf");Ne(this,"endOf");e&&(this.date=e.date,this.subtract=e.subtract,this.add=e.add,this.endOf=e.endOf,this.startOf=e.startOf)}toDate(){let e=this.date?this.date:we();return this.subtract instanceof Array&&(e=e.subtract(this.subtract[0],this.subtract[1])),this.add instanceof Array&&(e=e.add(this.subtract[0],this.subtract[1])),this.startOf&&(e=e.startOf(this.startOf)),this.endOf&&(e=e.endOf(this.endOf)),e}}class Mhe{constructor(e={}){Ne(this,"id");Ne(this,"label");Ne(this,"start");Ne(this,"end");this.label=e.label,this.start=new U$(e.start),this.end=new U$(e.end),this.id=e.id||pn()}getLabel(){let e=this.start.date?`${this.start.date.format("MMM DD")} to ${this.end.date.format("MMM DD YYYY")}`:"Unknown";return this.label||e}}const Fm=[{id:"today",dayCount:0,label:"Today",start:{startOf:"day"},end:{endOf:"day"}},{id:"yesterday",dayCount:1,label:"Yesterday",start:{subtract:[1,"day"],startOf:"day"},end:{subtract:[1,"day"],endOf:"day"}},{id:"last-7",label:"Last 7 days",dayCount:7,start:{subtract:[7,"day"],startOf:"day"},end:{endOf:"day"}},{id:"last-30",label:"Last 30 days",dayCount:30,start:{subtract:[29,"day"],startOf:"day"},end:{endOf:"day"}},{id:"last-90",label:"Last 90 days",dayCount:90,start:{subtract:[89,"day"],startOf:"day"},end:{endOf:"day"}},{id:"last-365",label:"Last 365 days",dayCount:365,start:{subtract:[365,"day"],startOf:"day"},end:{endOf:"day"}},{id:"this-week",dayCount:7,label:"This Week",start:{startOf:"week"},end:{endOf:"week"}},{id:"last-week",dayCount:7,label:"Last Week",start:{subtract:[1,"week"],startOf:"week"},end:{subtract:[1,"week"],endOf:"week"}},{id:"this-month",dayCount:30,label:"This Month",start:{startOf:"month"},end:{endOf:"month"}},{id:"this-year",dayCount:365,label:"This Year",start:{startOf:"year"},end:{endOf:"year"}},{id:"last-month",dayCount:30,label:"Last Month",start:{subtract:[1,"month"],startOf:"month"},end:{subtract:[1,"month"],endOf:"month"}}];class Yd{constructor(e){Ne(this,"_editing");Ne(this,"compareOverColor");Ne(this,"compareUnderColor");Ne(this,"compareValue");Ne(this,"dateFormat");Ne(this,"description");Ne(this,"token");Ne(this,"tokens");Ne(this,"id");Ne(this,"includeAvg",!1);Ne(this,"lastUsed");Ne(this,"logs");Ne(this,"math");Ne(this,"positivity");Ne(this,"size","md");Ne(this,"stats");Ne(this,"timeFormat","h:mm a");Ne(this,"timeRange");Ne(this,"type","value");Ne(this,"loading",!1);Ne(this,"data");var n;e=e||{},this.id=e.id||pn(),this.type=e.type,this.description=e.description,this.size=e.size||"md",typeof e.compareValue=="string"&&(e.compareValue=Nn(e.compareValue)),this.data=e.data||{},this.compareValue=e.compareValue,this.compareOverColor=e.compareOverColor,this.compareUnderColor=e.compareUnderColor,this.includeAvg=!!e.includeAvg;const t=e.timeRange;typeof t=="string"?this.timeRange=`${t}`:typeof t=="object"?this.timeRange=t.id:this.timeRange="today",this.token=e.token||e.element,this.tokens=(n=e.tokens)!=null&&n.length?e.tokens:[this.token]}get timeframe(){let e=Fm.find(n=>n.id==this.timeRange),t=new Mhe(e);return{end:t.end.toDate(),start:t.start.toDate(),details:t}}get asObject(){const e=JSON.parse(JSON.stringify(this));return delete e.trackables,delete e.trackaable,delete e.logs,delete e._editing,e}getTrackable(e){return pi(this.token,e)}getColor(e){return pi(this.token,e||{}).color}getTitle(e){var t,n;return this.type=="text"?Rl(this.description,30):(t=this.token)!=null&&t.id?(n=this.token)==null?void 0:n.id:e||(this.type?this.type:"unknown")}getLabel(){var e;return this.timeRange?(e=this.timeframe)==null?void 0:e.details.getLabel():"Unknown"}isValid(){return!!(this.type&&this.id)}toObject(){return JSON.parse(JSON.stringify(this))}getStartOfWeek(e){let t=Tl.setFirstDayOfWeek(e).getFirstDayOfWeek();return we(t).startOf("day")}getEndOfWeek(e){return Tl.setFirstDayOfWeek(e).getLastDayOfWeek().endOf("day")}getStartDate(e){if(this.timeRange&&["this-week","last-week"].indexOf(this.timeframe.details.id)>-1){let t=this.getStartOfWeek(e);switch(this.timeframe.details.id){case"this-week":return t.startOf("day");case"last-week":return t.startOf("day").subtract(7,"day")}}else return this.timeRange&&this.timeframe.start&&this.timeframe.start.date?this.timeframe.start:this.timeRange&&this.timeframe.start?this.timeframe.start:we().startOf("day");return we()}getEndDate(e){if(this.timeRange&&["this-week","last-week"].indexOf(this.timeframe.details.id)>-1){let t=this.getEndOfWeek(e);switch(this.timeframe.details.id){case"this-week":return t.endOf("day");case"last-week":return t.subtract(1,"week").endOf("day")}}else return this.timeframe.end?this.timeframe.end:we().endOf("day");return we()}getDateRange(e){return[this.getStartDate(e),this.getEndDate(e)]}}function q$(i,e,t){const n=i.slice();return n[14]=e[t],n[16]=t,n}function Lhe(i){let e;const t=i[12].default,n=He(t,i,i[11],null);return{c(){n&&n.c()},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&2048)&&Ve(n,t,r,r[11],e?We(t,r[11],s,null):Ge(r[11]),null)},i(r){e||(_(n,r),e=!0)},o(r){v(n,r),e=!1},d(r){n&&n.d(r)}}}function Ohe(i){let e,t,n=i[1],r=[];for(let l=0;l<n.length;l+=1)r[l]=G$(q$(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=$e()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o&1035){n=l[1];let a;for(a=0;a<n.length;a+=1){const u=q$(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=G$(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ie(),a=n.length;a<r.length;a+=1)s(a);re()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){it(r,l),l&&y(e)}}}function H$(i){let e,t,n,r,s,l,o,a,u,c,f,d;const m=[Bhe,Ihe],p=[];function g(F,C){return F[14].icon?0:F[14].label?1:-1}~(n=g(i))&&(r=p[n]=m[n](i));let k=i[14].badge&&W$(i),$=i[14].notify&&V$();function D(){return i[13](i[14])}return{c(){e=A("button"),t=A("div"),r&&r.c(),s=Y(),k&&k.c(),l=Y(),$&&$.c(),o=Y(),h(t,"class","button-wrapper relative flex"),h(e,"type","menu"),h(e,"title",a=i[14].label),h(e,"class",u="btn-group-btn btn-"+i[16]+" "+(i[14].active||i[0]&&i[0]==i[14].value?"bg-primary-gradient active":"text-solid-1"))},m(F,C){w(F,e,C),E(e,t),~n&&p[n].m(t,null),E(t,s),k&&k.m(t,null),E(t,l),$&&$.m(t,null),E(e,o),c=!0,f||(d=ke(e,"click",D),f=!0)},p(F,C){i=F;let S=n;n=g(i),n===S?~n&&p[n].p(i,C):(r&&(ie(),v(p[S],1,1,()=>{p[S]=null}),re()),~n?(r=p[n],r?r.p(i,C):(r=p[n]=m[n](i),r.c()),_(r,1),r.m(t,s)):r=null),i[14].badge?k?k.p(i,C):(k=W$(i),k.c(),k.m(t,l)):k&&(k.d(1),k=null),i[14].notify?$||($=V$(),$.c(),$.m(t,null)):$&&($.d(1),$=null),(!c||C&2&&a!==(a=i[14].label))&&h(e,"title",a),(!c||C&3&&u!==(u="btn-group-btn btn-"+i[16]+" "+(i[14].active||i[0]&&i[0]==i[14].value?"bg-primary-gradient active":"text-solid-1")))&&h(e,"class",u)},i(F){c||(_(r),c=!0)},o(F){v(r),c=!1},d(F){F&&y(e),~n&&p[n].d(),k&&k.d(),$&&$.d(),f=!1,d()}}}function Ihe(i){let e,t=i[14].label+"",n;return{c(){e=A("div"),n=Z(t),h(e,"class",i[3])},m(r,s){w(r,e,s),E(e,n)},p(r,s){s&2&&t!==(t=r[14].label+"")&&oe(n,t),s&8&&h(e,"class",r[3])},i:W,o:W,d(r){r&&y(e)}}}function Bhe(i){let e,t;return e=new je({props:{icon:i[14].icon}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.icon=n[14].icon),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function W$(i){let e,t=i[14].badge+"",n;return{c(){e=A("div"),n=Z(t),nt(e,"font-size","9px"),h(e,"class","badge text-xs text-white bg-red-500 rounded-full px-2 text-center absolute -right-4 -top-1")},m(r,s){w(r,e,s),E(e,n)},p(r,s){s&2&&t!==(t=r[14].badge+"")&&oe(n,t)},d(r){r&&y(e)}}}function V$(i){let e;return{c(){e=A("div"),h(e,"class","notify")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function G$(i){let e,t,n=i[14].hide!==!1&&H$(i);return{c(){n&&n.c(),e=$e()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,s){r[14].hide!==!1?n?(n.p(r,s),s&2&&_(n,1)):(n=H$(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ie(),v(n,1,1,()=>{n=null}),re())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function zhe(i){let e,t,n,r,s;const l=[Ohe,Lhe],o=[];function a(u,c){return u[1].length?0:1}return t=a(i),n=o[t]=l[t](i),{c(){e=A("div"),n.c(),h(e,"id",i[8]),h(e,"class",r="nbtn-group size-"+i[2]+" "+(i[4]?"inverse":"")+" "+(i[9]?"scrollable":"")+" "+i[6]),h(e,"style",i[7]),Je(e,"compact",i[5])},m(u,c){w(u,e,c),o[t].m(e,null),s=!0},p(u,[c]){let f=t;t=a(u),t===f?o[t].p(u,c):(ie(),v(o[f],1,1,()=>{o[f]=null}),re(),n=o[t],n?n.p(u,c):(n=o[t]=l[t](u),n.c()),_(n,1),n.m(e,null)),(!s||c&256)&&h(e,"id",u[8]),(!s||c&596&&r!==(r="nbtn-group size-"+u[2]+" "+(u[4]?"inverse":"")+" "+(u[9]?"scrollable":"")+" "+u[6]))&&h(e,"class",r),(!s||c&128)&&h(e,"style",u[7]),(!s||c&628)&&Je(e,"compact",u[5])},i(u){s||(_(n),s=!0)},o(u){v(n),s=!1},d(u){u&&y(e),o[t].d()}}}function Rhe(i,e,t){let{$$slots:n={},$$scope:r}=e,{buttons:s=[]}=e,{size:l="sm"}=e,{labelClass:o=""}=e,{inverse:a=!1}=e,{compact:u=!1}=e,{className:c=""}=e,{style:f=""}=e,{id:d=""}=e,{scrollable:m=!1}=e,{value:p=void 0}=e;const g=Dt(),k=$=>{$.click&&$.click(),!$.click&&$.value&&t(0,p=$.value),g("change",$)};return i.$$set=$=>{"buttons"in $&&t(1,s=$.buttons),"size"in $&&t(2,l=$.size),"labelClass"in $&&t(3,o=$.labelClass),"inverse"in $&&t(4,a=$.inverse),"compact"in $&&t(5,u=$.compact),"className"in $&&t(6,c=$.className),"style"in $&&t(7,f=$.style),"id"in $&&t(8,d=$.id),"scrollable"in $&&t(9,m=$.scrollable),"value"in $&&t(0,p=$.value),"$$scope"in $&&t(11,r=$.$$scope)},[p,s,l,o,a,u,c,f,d,m,g,r,n,k]}class ms extends ce{constructor(e){super(),ue(this,e,Rhe,zhe,le,{buttons:1,size:2,labelClass:3,inverse:4,compact:5,className:6,style:7,id:8,scrollable:9,value:0})}}function jhe(i){let e,t,n,r,s,l,o;return{c(){e=me("svg"),t=me("title"),n=Z("Checkmark Circle"),r=me("path"),s=me("path"),h(r,"d","M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-miterlimit","10"),h(r,"stroke-width","32"),h(s,"fill","none"),h(s,"stroke","currentColor"),h(s,"stroke-linecap","round"),h(s,"stroke-linejoin","round"),h(s,"stroke-width","32"),h(s,"d","M352 176L217.6 336 160 272"),h(e,"height",l=i[0]+"px"),h(e,"width",o=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(a,u){w(a,e,u),E(e,t),E(t,n),E(e,r),E(e,s)},p(a,[u]){u&1&&l!==(l=a[0]+"px")&&h(e,"height",l),u&1&&o!==(o=a[0]+"px")&&h(e,"width",o)},i:W,o:W,d(a){a&&y(e)}}}function Yhe(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class Uv extends ce{constructor(e){super(),ue(this,e,Yhe,jhe,le,{size:0})}}function Z$(i,e,t){const n=i.slice();return n[7]=e[t],n}function x$(i){let e,t;return e=new je({props:{className:"text-white",icon:Uv,size:20}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function X$(i){let e,t,n,r,s,l,o,a,u=i[3]===i[7]&&x$();function c(){return i[6](i[7])}return{c(){e=A("button"),u&&u.c(),t=Y(),h(e,"aria-label",n=i[7]),h(e,"style",r=`height:${i[1]}px;width:${i[1]}px;`),h(e,"class",s=`${i[3]==i[7]?`selected ${i[7]}`:`not-selected ${i[7]}`}`)},m(f,d){w(f,e,d),u&&u.m(e,null),E(e,t),l=!0,o||(a=ke(e,"click",c),o=!0)},p(f,d){i=f,i[3]===i[7]?u?(u.p(i,d),d&9&&_(u,1)):(u=x$(),u.c(),_(u,1),u.m(e,t)):u&&(ie(),v(u,1,1,()=>{u=null}),re()),(!l||d&1&&n!==(n=i[7]))&&h(e,"aria-label",n),(!l||d&2&&r!==(r=`height:${i[1]}px;width:${i[1]}px;`))&&h(e,"style",r),(!l||d&9&&s!==(s=`${i[3]==i[7]?`selected ${i[7]}`:`not-selected ${i[7]}`}`))&&h(e,"class",s)},i(f){l||(_(u),l=!0)},o(f){v(u),l=!1},d(f){f&&y(e),u&&u.d(),o=!1,a()}}}function Uhe(i){let e,t,n,r=i[0],s=[];for(let o=0;o<r.length;o+=1)s[o]=X$(Z$(i,r,o));const l=o=>v(s[o],1,1,()=>{s[o]=null});return{c(){e=A("div");for(let o=0;o<s.length;o+=1)s[o].c();h(e,"class",t="tiny-color-picker flex "+i[2])},m(o,a){w(o,e,a);for(let u=0;u<s.length;u+=1)s[u].m(e,null);n=!0},p(o,[a]){if(a&27){r=o[0];let u;for(u=0;u<r.length;u+=1){const c=Z$(o,r,u);s[u]?(s[u].p(c,a),_(s[u],1)):(s[u]=X$(c),s[u].c(),_(s[u],1),s[u].m(e,null))}for(ie(),u=r.length;u<s.length;u+=1)l(u);re()}(!n||a&4&&t!==(t="tiny-color-picker flex "+o[2]))&&h(e,"class",t)},i(o){if(!n){for(let a=0;a<r.length;a+=1)_(s[a]);n=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)v(s[a]);n=!1},d(o){o&&y(e),it(s,o)}}}function qhe(i,e,t){let{value:n}=e,{colors:r=["green","orange","red","blue"]}=e,{size:s=24}=e,{className:l=""}=e;const o=Dt();let a;const u=c=>{o("change",c)};return i.$$set=c=>{"value"in c&&t(5,n=c.value),"colors"in c&&t(0,r=c.colors),"size"in c&&t(1,s=c.size),"className"in c&&t(2,l=c.className)},i.$$.update=()=>{i.$$.dirty&40&&n&&n!==a&&t(3,a=n)},[r,s,l,a,o,n,u]}class kO extends ce{constructor(e){super(),ue(this,e,qhe,Uhe,le,{value:5,colors:0,size:1,className:2})}}function Hhe(i){let e,t=(i[2]||"Toggle")+"",n,r,s;return{c(){e=A("span"),n=Z(t),r=Y(),s=A("span"),h(e,"class","sr-only"),h(s,"class","ball w-6 h-6 block bg-white rounded-full")},m(l,o){w(l,e,o),E(e,n),w(l,r,o),w(l,s,o)},p(l,o){o&4&&t!==(t=(l[2]||"Toggle")+"")&&oe(n,t)},d(l){l&&y(e),l&&y(r),l&&y(s)}}}function Whe(i){let e,t,n,r;return t=new nfe({props:{class:"onoffswitch "+(i[0]?"on":"off"),checked:i[0],$$slots:{default:[Hhe]},$$scope:{ctx:i}}}),t.$on("change",i[3].onChange),{c(){e=A("div"),O(t.$$.fragment),h(e,"class",n="onoffswitch "+i[1])},m(s,l){w(s,e,l),N(t,e,null),r=!0},p(s,[l]){const o={};l&1&&(o.class="onoffswitch "+(s[0]?"on":"off")),l&1&&(o.checked=s[0]),l&68&&(o.$$scope={dirty:l,ctx:s}),t.$set(o),(!r||l&2&&n!==(n="onoffswitch "+s[1]))&&h(e,"class",n)},i(s){r||(_(t.$$.fragment,s),r=!0)},o(s){v(t.$$.fragment,s),r=!1},d(s){s&&y(e),M(t)}}}function Vhe(i,e,t){const n=Dt();let{value:r=!1}=e,{locked:s=void 0}=e,{className:l=""}=e,{title:o}=e;const a={onChange(u){u.preventDefault(),u.stopPropagation(),s===void 0&&(t(0,r=u.detail),n("change",r))}};return i.$$set=u=>{"value"in u&&t(0,r=u.value),"locked"in u&&t(4,s=u.locked),"className"in u&&t(1,l=u.className),"title"in u&&t(2,o=u.title)},[r,l,o,a,s]}class Oi extends ce{constructor(e){super(),ue(this,e,Vhe,Whe,le,{value:0,locked:4,className:1,title:2})}}function K$(i){let e,t,n,r,s,l,o,a,u;t=new fi({props:{trackable:i[0],size:i[1]*.8}});function c(g,k){return!g[6]&&(g[5]||g[0].value)?Zhe:Ghe}let f=c(i),d=f(i);const m=i[10].default,p=He(m,i,i[9],null);return{c(){e=A("button"),O(t.$$.fragment),n=Y(),r=A("div"),d.c(),s=Y(),p&&p.c(),h(r,"class","title-value"),h(e,"type","button"),h(e,"class",l="trackable-pill "+i[2]+" "+(i[3]?"transparent shadow-none":i[4]?"outlined":"filled shadow-md")),nt(e,"--pill-size",i[1]+"px"),Je(e,"solid",i[7])},m(g,k){w(g,e,k),N(t,e,null),E(e,n),E(e,r),d.m(r,null),E(r,s),p&&p.m(r,null),o=!0,a||(u=ke(e,"click",i[11]),a=!0)},p(g,k){const $={};k&1&&($.trackable=g[0]),k&2&&($.size=g[1]*.8),t.$set($),f===(f=c(g))&&d?d.p(g,k):(d.d(1),d=f(g),d&&(d.c(),d.m(r,s))),p&&p.p&&(!o||k&512)&&Ve(p,m,g,g[9],o?We(m,g[9],k,null):Ge(g[9]),null),(!o||k&28&&l!==(l="trackable-pill "+g[2]+" "+(g[3]?"transparent shadow-none":g[4]?"outlined":"filled shadow-md")))&&h(e,"class",l),(!o||k&2)&&nt(e,"--pill-size",g[1]+"px"),(!o||k&156)&&Je(e,"solid",g[7])},i(g){o||(_(t.$$.fragment,g),_(p,g),o=!0)},o(g){v(t.$$.fragment,g),v(p,g),o=!1},d(g){g&&y(e),M(t),d.d(),p&&p.d(g),a=!1,u()}}}function Ghe(i){let e,t=i[0].label+"",n;return{c(){e=A("h3"),n=Z(t),h(e,"class","font-semibold line-clamp-1"),nt(e,"font-size","110%")},m(r,s){w(r,e,s),E(e,n)},p(r,s){s&1&&t!==(t=r[0].label+"")&&oe(n,t)},d(r){r&&y(e)}}}function Zhe(i){let e,t=i[0].label+"",n,r,s,l=(i[5]||i[0].value)+"",o;return{c(){e=A("h3"),n=Z(t),r=Y(),s=A("div"),o=Z(l),h(e,"class","font-semibold line-clamp-1"),nt(e,"font-size","80%"),nt(e,"margin-bottom",i[1]*.08+"px"),h(s,"class","font-bold line-clamp-1"),nt(s,"font-size","110%")},m(a,u){w(a,e,u),E(e,n),w(a,r,u),w(a,s,u),E(s,o)},p(a,u){u&1&&t!==(t=a[0].label+"")&&oe(n,t),u&2&&nt(e,"margin-bottom",a[1]*.08+"px"),u&33&&l!==(l=(a[5]||a[0].value)+"")&&oe(o,l)},d(a){a&&y(e),a&&y(r),a&&y(s)}}}function xhe(i){let e,t,n=i[0]&&K$(i);return{c(){n&&n.c(),e=$e()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,[s]){r[0]?n?(n.p(r,s),s&1&&_(n,1)):(n=K$(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ie(),v(n,1,1,()=>{n=null}),re())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function Xhe(i,e,t){let{$$slots:n={},$$scope:r}=e,{trackable:s}=e,{size:l=40}=e,{className:o=""}=e,{transparent:a=!1}=e,{outlined:u=!1}=e,{value:c=void 0}=e,{hideValue:f=!1}=e,{solid:d=!1}=e;const m=Dt(),p=g=>{m("click",g)};return i.$$set=g=>{"trackable"in g&&t(0,s=g.trackable),"size"in g&&t(1,l=g.size),"className"in g&&t(2,o=g.className),"transparent"in g&&t(3,a=g.transparent),"outlined"in g&&t(4,u=g.outlined),"value"in g&&t(5,c=g.value),"hideValue"in g&&t(6,f=g.hideValue),"solid"in g&&t(7,d=g.solid),"$$scope"in g&&t(9,r=g.$$scope)},[s,l,o,a,u,c,f,d,m,r,n,p]}class vl extends ce{constructor(e){super(),ue(this,e,Xhe,xhe,le,{trackable:0,size:1,className:2,transparent:3,outlined:4,value:5,hideValue:6,solid:7})}}class ac{constructor(e){Ne(this,"label");Ne(this,"widgets");Ne(this,"id");Ne(this,"created");this.id=e.id||pn(),this.widgets=(e.widgets||[]).map(t=>new Yd(t)),this.created=e.created?new Date(e.created):new Date,this.label=e.label||"Unnamed"}get hash(){return Fn(this.widgets)}get timeframe(){let e=we().add(100,"years"),t=we().subtract(100,"years");return this.widgets.forEach(n=>{var r,s,l,o,a,u;n.timeframe.start.toDate().getTime()<((r=e==null?void 0:e.toDate())==null?void 0:r.getTime())&&(e=(s=n.timeframe)==null?void 0:s.start),((o=(l=n.timeframe)==null?void 0:l.end.toDate())==null?void 0:o.getTime())>((a=t==null?void 0:t.toDate())==null?void 0:a.getTime())&&(t=(u=n.timeframe)==null?void 0:u.end)}),{start:e,end:t}}}const qv=()=>parseInt(localStorage.getItem("last-dash-index")||"0"),yO=i=>{localStorage.setItem("last-dash-index",i)},Khe={dashboards:[],dashboardHash:void 0,editMode:!1,activeDashboard:void 0,activeIndex:qv()},hl=Bt(Khe),Hv=async()=>{const i=await Jhe();let e;return hl.update(t=>{t={...i},t.activeIndex=qv();try{t.activeDashboard=t.dashboards[t.activeIndex]}catch{t.activeIndex=0,t.activeDashboard=t.dashboards[0],console.error("Error finding dashboard, default to 0")}return e=t,t}),e},Jhe=async()=>{const e=(await ru()||[]).map(n=>(n.widgets=Co(n.widgets,"id"),n)),t=e[0];return{activeIndex:qv(),dashboards:e,dashboardHash:Fn(e),activeDashboard:t}},Dh=()=>{hl.update(i=>(i.editMode=!i.editMode,i))},ru=async()=>{let i=(await Vt.get(Xn.storage.dashboards())||[]).map(e=>new ac(e));return i.length===0&&(i=[new ac({id:"mystats-first-board",label:"My Stats",widgets:[]})],yO(0)),i},Qhe=async i=>{const e=await ru();let t=[];return hl.update(n=>(t=e.filter(r=>r.id!==i.id),n.dashboards=t,n)),await wO(t)},Wv=async i=>{const e=await ru();hl.update(t=>{const n=e.map(r=>{const s=i.find(l=>l.id==r.id);return s||r});return i.forEach(r=>{n.find(l=>l.id==r.id)||n.push(r)}),t.dashboards=n,t.dashboardHash=Fn(t.dashboards),t.activeDashboard&&(t.activeDashboard=n.find(r=>r.id==t.activeDashboard.id)||t.activeDashboard),wO(n),t})},uc=async i=>Wv([i]),wO=async i=>Vt.put(Xn.storage.dashboards(),i),Vv=async i=>(await ru()).find(n=>n.widgets.find(r=>r.id==i.id)),eme=async i=>{const e=await Vv(i);if(e)return e.widgets=e.widgets.filter(t=>t.id!==i.id),uc(e);alert("ERROR: Unable to find that Widget")},tme=async i=>{let e=new Yd(i);e.id=pn();const t=await Vv(i);return t.widgets.push(e),await Et(100),await uc(t)},nme=(i={})=>{let e;return hl.update(t=>(e={...t,...i},e)),e},J$=async()=>{let i=await Xe.prompt("Create new Dashboard",null,{placeholder:"Dashboard Label"});if(i){let e=new ac({id:pn(),label:i,widgets:[]});uc(e)}},Em=async i=>{const e=await Vv(i);if(e)return e.widgets=e.widgets.map(t=>t.id==i.id?i:t),await uc(e);{const t=nme();t.activeDashboard&&t.activeDashboard.widgets.push(i),uc(t.activeDashboard)}},$O=async i=>{const t=(await ru())[i];yO(i),hl.update(n=>(n.activeDashboard=t,n.activeIndex=i,n))},ime=async i=>{const e=await ru(),t=r=>{let s=e.map(l=>(l.widgets=l.widgets.filter(o=>o.id!==i.id),l.id==r.id&&l.widgets.push(i),l));Wv(s)},n=e.map(r=>({title:r.label,click(){try{t(r)}catch(s){Xe.alert("Error",s.message)}}}));Xe.popmenu({id:"widget-move",buttons:n,title:`${_e.t("dashboard.select-dashboard-to-move-widget","Move widget to which dashboard?")}`})},rme=i=>{const e=[{title:"Edit Widget",icon:GP,async click(){await Et(300),Qv({widget:i,onSave(t){}})}},{title:"Move Widget",icon:pH,divider:!0,async click(){await Et(200),ime(i)}},{title:"Duplicate",icon:_H,async click(){await Et(200),tme(i)}},{title:"Delete Widget",icon:Za,async click(){await Et(300),await Xe.confirm(_e.t("general.delete","Delete?"),"You can always recreate it later.")&&eme(i)}}];Xe.popmenu({id:"widget-options",title:_e.t("widgets.widget-options","Widget Options"),buttons:e})},FO=i=>{const e=[...P1];return i.filter(t=>t.active&&t.addToWidgets).forEach(t=>{e.push({id:"plugin",label:t.name,requires:[],optional:[],emoji:t.emoji,data:{pluginId:t.id}})}),e},P1=[{label:"Display Value",id:"value",requires:["timeframe","token"],optional:["cond-style"],image:"/images/widget-types/display-value.svg",icon:Zq},{label:"Latest Note",id:"note",requires:["timeframe","token"],optional:[],image:"/images/widget-types/latest-note.svg",icon:RP},{label:"Bar Chart",id:"barchart",requires:["timeframe","token"],optional:[],image:"/images/widget-types/bar-chart.svg",icon:x2},{label:"Line Chart",id:"linechart",requires:["timeframe","token"],optional:[],image:"/images/widget-types/line-chart.svg",icon:ZP},{label:"Min / Max",id:"min-max",requires:["timeframe","token"],optional:[],image:"/images/widget-types/min-max.svg",icon:Vq},{label:"Map",id:"map",requires:["timeframe","token"],optional:[],image:"/images/widget-types/map.svg",icon:jP},{label:"Todos",id:"todos",requires:["timeframe"],optional:[],image:"/images/widget-types/latest-note.svg",icon:Uv},{label:"Mind, Body, Spirit",id:"focus",requires:["timeframe"],optional:[],image:"/images/widget-types/bar-chart.svg",icon:BP},{label:"Positivity Chart",id:"positivity",requires:["timeframe"],optional:[],image:"/images/widget-types/positivity-pie.svg",icon:x2},{label:"Last Used",id:"last-used",requires:["token"],optional:["cond-style"],image:"/images/widget-types/last-used.svg",icon:Ga},{label:"Just Text",id:"text",requires:[],optional:[],image:"/images/widget-types/just-text.svg",icon:Wq}];function sme(i,e){let t=e.find(n=>n.id==i.type);if(t){let n=t.requires;if(n.indexOf("token")>-1&&!i.token||n.indexOf("element")>-1&&!i.token)return console.info("Select a trackable element to display"),!1;if(n.indexOf("timeframe")>-1&&!i.timeRange)return console.info("This widget requires a timeframe"),!1}else return console.info("Select a Widget Type"),!1;return!0}function lme(i){let e,t,n,r,s;const l=i[16].default,o=He(l,i,i[15],null);return{c(){e=A("div"),t=A("div"),o&&o.c(),h(t,"class",n="wrapper "+(i[7]?"force-center":"no-force")+" "+i[1]+" svelte-baz27k"),h(t,"style",i[2]),h(e,"id",i[4]),h(e,"class",r="n-hscroller "+i[0]+" svelte-baz27k"),h(e,"style",i[3]),h(e,"data-scroll","0")},m(a,u){w(a,e,u),E(e,t),o&&o.m(t,null),i[17](t),i[18](e),s=!0},p(a,[u]){o&&o.p&&(!s||u&32768)&&Ve(o,l,a,a[15],s?We(l,a[15],u,null):Ge(a[15]),null),(!s||u&130&&n!==(n="wrapper "+(a[7]?"force-center":"no-force")+" "+a[1]+" svelte-baz27k"))&&h(t,"class",n),(!s||u&4)&&h(t,"style",a[2]),(!s||u&16)&&h(e,"id",a[4]),(!s||u&1&&r!==(r="n-hscroller "+a[0]+" svelte-baz27k"))&&h(e,"class",r),(!s||u&8)&&h(e,"style",a[3])},i(a){s||(_(o,a),s=!0)},o(a){v(o,a),s=!1},d(a){a&&y(e),o&&o.d(a),i[17](null),i[18](null)}}}function ome(i,e,t){let n;Ee(i,Hn,U=>t(14,n=U));let{$$slots:r={},$$scope:s}=e,{activeIndex:l=void 0}=e,{activeClass:o="active"}=e,{className:a=""}=e,{centerIfPossible:u=!1}=e,{wrapperClass:c=""}=e,{wrapperStyle:f=""}=e,{captureCenter:d=!1}=e,{captureCenterWindow:m=!1}=e,{style:p=""}=e,{id:g=`hs-${pn()}`}=e;const k=Dt();let $,D,F=!1,C=!0;const S=()=>{if(u&&$){let U=$.offsetWidth;$.scrollWidth>U?t(7,C=!1):t(7,C=!0)}else t(7,C=!1)};let P;const I=()=>{if($!=null&&$.children)for(let U=0;U<$.children.length;U++){let Q=$.children[U];Q.removeEventListener("click",z),Q.addEventListener("click",z),Q.dataset.childId=U}},R=()=>{document.querySelectorAll(`#${g} [data-child-id]`).forEach(U=>{U.classList.remove(o)})},B=()=>{d&&(I(),clearTimeout(P),P=setTimeout(()=>{const U=xf($);if(U){const Q=U.left+U.eleWidth*.5;let V=U.eleHeight>window.innerHeight?window.innerHeight:U.eleHeight,x=0;d?x=U.top+V*.5:m&&(x=Math.abs(U.eleHeight-document.body.scrollHeight)*.5);const ee=Q,te=document.elementsFromPoint(ee,x).filter(ge=>ge.dataset.childId)[0];te&&(R(),te.classList.add(o),k("centerElement",{ele:te}))}},220))},z=U=>{let Q=Array.prototype.indexOf.call($.children,U.target);H.selectIndex(Q),k("selected",Q)},q=U=>{B(),D.setAttribute("data-scroll",$.scrollLeft)},H={init(){$&&$.children&&(I(),$.addEventListener("scroll",q,{passive:!0}),t(13,F=!0)),S()},clearSelected(){l>-1&&($==null?void 0:$.children[l])&&($==null||$.children[l].classList.remove(o))},selectIndex(U){R(),t(8,l=U);try{let Q=$.children[l];Q&&setTimeout(()=>{Q.scrollIntoView(),S()},60)}catch{}t(13,F=!0)}};wt(async()=>{await Et(60),H.init()}),Dr(()=>{D.removeEventListener("scroll",q)});function K(U){De[U?"unshift":"push"](()=>{$=U,t(5,$)})}function G(U){De[U?"unshift":"push"](()=>{D=U,t(6,D)})}return i.$$set=U=>{"activeIndex"in U&&t(8,l=U.activeIndex),"activeClass"in U&&t(9,o=U.activeClass),"className"in U&&t(0,a=U.className),"centerIfPossible"in U&&t(10,u=U.centerIfPossible),"wrapperClass"in U&&t(1,c=U.wrapperClass),"wrapperStyle"in U&&t(2,f=U.wrapperStyle),"captureCenter"in U&&t(11,d=U.captureCenter),"captureCenterWindow"in U&&t(12,m=U.captureCenterWindow),"style"in U&&t(3,p=U.style),"id"in U&&t(4,g=U.id),"$$scope"in U&&t(15,s=U.$$scope)},i.$$.update=()=>{i.$$.dirty&8448&&l&&F&&(H.selectIndex(l),S()),i.$$.dirty&16384&&n.width&&S(),i.$$.dirty&16384&&n.width&&(S(),B(),I())},[a,c,f,p,g,$,D,C,l,o,u,d,m,F,n,s,r,K,G]}class Oc extends ce{constructor(e){super(),ue(this,e,ome,lme,le,{activeIndex:8,activeClass:9,className:0,centerIfPossible:10,wrapperClass:1,wrapperStyle:2,captureCenter:11,captureCenterWindow:12,style:3,id:4})}}const ame=()=>`${Math.random().toString(16).slice(2)}${Math.random().toString(16).slice(2).substring(0,6)}`;class N1{constructor(e){Ne(this,"id");Ne(this,"name");Ne(this,"description");Ne(this,"url");Ne(this,"emoji");Ne(this,"addToCaptureMenu");Ne(this,"addToMoreMenu");Ne(this,"addToWidgets");Ne(this,"version");Ne(this,"active");Ne(this,"uses");Ne(this,"error");Ne(this,"locked");this.id=e.id||ame(),this.name=e.name,this.emoji=e.emoji,this.description=e.description,this.addToCaptureMenu=e.addToCaptureMenu==!0,this.addToMoreMenu=e.addToMoreMenu==!0,this.addToWidgets=e.addToWidgets==!0,this.url=e.url,this.version=e.version,this.active=e.active,this.uses=e.uses||[],this.error=void 0,this.locked=e.locked}hasError(e){this.error=e}get isAutoLoad(){return this.uses.includes("onLaunch")||this.uses.includes("onNote")}get urlWithParams(){try{const e=new URL(this.url||"");return e.searchParams.append("pid",this.id),e.toString()}catch{return}}}function ume(i){let e=_e.t("general.close","Close")+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p:W,d(n){n&&y(t)}}}function cme(i){let e,t;const n=[{primary:!0},i[1]];let r={$$slots:{default:[ume]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=ft(r,n[s]);return e=new Me({props:r}),e.$on("click",i[2]),{c(){O(e.$$.fragment)},m(s,l){N(e,s,l),t=!0},p(s,[l]){const o=l&2?At(n,[n[0],Ki(s[1])]):{};l&8&&(o.$$scope={dirty:l,ctx:s}),e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){v(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function fme(i,e,t){const n=[];let r=An(e,n);const s=Dt(),l=o=>{s("click",o.detail)};return i.$$set=o=>{e=ft(ft({},e),ci(o)),t(1,r=An(e,n))},[s,r,l]}class dme extends ce{constructor(e){super(),ue(this,e,fme,cme,le,{})}}function hme(){const i=console.warn;console.warn=e=>{e.includes("unknown prop")||e.includes("unexpected slot")||i(e)},wt(()=>{console.warn=i})}function Q$(i,e,t){const n=i.slice();return n[18]=e[t],n}function eF(i,e,t){const n=i.slice();return n[18]=e[t],n}function tF(i,e,t){const n=i.slice();return n[10]=e[t],n}function nF(i,e,t){const n=i.slice();return n[13]=e[t],n[15]=t,n}function iF(i,e,t){const n=i.slice();return n[16]=e[t],n[15]=t,n}function rF(i,e,t){const n=i.slice();return n[7]=e[t],n}function mme(i){let e,t,n,r;const s=[vme,gme,_me],l=[];function o(a,u){return a[0]==="table"?0:a[0]==="list"?1:2}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=$e()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?l[e].p(a,u):(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function pme(i){let e,t,n=i[1],r=[];for(let l=0;l<n.length;l+=1)r[l]=cF(rF(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=$e()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o&34){n=l[1];let a;for(a=0;a<n.length;a+=1){const u=rF(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=cF(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ie(),a=n.length;a<r.length;a+=1)s(a);re()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){it(r,l),l&&y(e)}}}function _me(i){let e,t,n;const r=[i[6]];var s=i[5][i[0]];function l(o){let a={$$slots:{default:[yme]},$$scope:{ctx:o}};for(let u=0;u<r.length;u+=1)a=ft(a,r[u]);return{props:a}}return s&&(e=an(s,l(i))),{c(){e&&O(e.$$.fragment),t=$e()},m(o,a){e&&N(e,o,a),w(o,t,a),n=!0},p(o,a){const u=a&64?At(r,[Ki(o[6])]):{};if(a&8388706&&(u.$$scope={dirty:a,ctx:o}),s!==(s=o[5][o[0]])){if(e){ie();const c=e;v(c.$$.fragment,1,0,()=>{M(c,1)}),re()}s?(e=an(s,l(o)),O(e.$$.fragment),_(e.$$.fragment,1),N(e,t.parentNode,t)):e=null}else s&&e.$set(u)},i(o){n||(e&&_(e.$$.fragment,o),n=!0)},o(o){e&&v(e.$$.fragment,o),n=!1},d(o){o&&y(t),e&&M(e,o)}}}function gme(i){let e,t,n,r;const s=[$me,wme],l=[];function o(a,u){return a[4]?0:1}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=$e()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?l[e].p(a,u):(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function vme(i){let e,t,n;var r=i[5].table;function s(l){return{props:{$$slots:{default:[Lme]},$$scope:{ctx:l}}}}return r&&(e=an(r,s(i))),{c(){e&&O(e.$$.fragment),t=$e()},m(l,o){e&&N(e,l,o),w(l,t,o),n=!0},p(l,o){const a={};if(o&8388716&&(a.$$scope={dirty:o,ctx:l}),r!==(r=l[5].table)){if(e){ie();const u=e;v(u.$$.fragment,1,0,()=>{M(u,1)}),re()}r?(e=an(r,s(l)),O(e.$$.fragment),_(e.$$.fragment,1),N(e,t.parentNode,t)):e=null}else r&&e.$set(a)},i(l){n||(e&&_(e.$$.fragment,l),n=!0)},o(l){e&&v(e.$$.fragment,l),n=!1},d(l){l&&y(t),e&&M(e,l)}}}function bme(i){let e=i[6].raw+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p(n,r){r&64&&e!==(e=n[6].raw+"")&&oe(t,e)},i:W,o:W,d(n){n&&y(t)}}}function kme(i){let e,t;return e=new su({props:{tokens:i[1],renderers:i[5]}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.tokens=n[1]),r&32&&(s.renderers=n[5]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function yme(i){let e,t,n,r;const s=[kme,bme],l=[];function o(a,u){return a[1]?0:1}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=$e()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?l[e].p(a,u):(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function wme(i){let e,t,n;const r=[{ordered:i[4]},i[6]];var s=i[5].list;function l(o){let a={$$slots:{default:[Eme]},$$scope:{ctx:o}};for(let u=0;u<r.length;u+=1)a=ft(a,r[u]);return{props:a}}return s&&(e=an(s,l(i))),{c(){e&&O(e.$$.fragment),t=$e()},m(o,a){e&&N(e,o,a),w(o,t,a),n=!0},p(o,a){const u=a&80?At(r,[a&16&&{ordered:o[4]},a&64&&Ki(o[6])]):{};if(a&8388704&&(u.$$scope={dirty:a,ctx:o}),s!==(s=o[5].list)){if(e){ie();const c=e;v(c.$$.fragment,1,0,()=>{M(c,1)}),re()}s?(e=an(s,l(o)),O(e.$$.fragment),_(e.$$.fragment,1),N(e,t.parentNode,t)):e=null}else s&&e.$set(u)},i(o){n||(e&&_(e.$$.fragment,o),n=!0)},o(o){e&&v(e.$$.fragment,o),n=!1},d(o){o&&y(t),e&&M(e,o)}}}function $me(i){let e,t,n;const r=[{ordered:i[4]},i[6]];var s=i[5].list;function l(o){let a={$$slots:{default:[Cme]},$$scope:{ctx:o}};for(let u=0;u<r.length;u+=1)a=ft(a,r[u]);return{props:a}}return s&&(e=an(s,l(i))),{c(){e&&O(e.$$.fragment),t=$e()},m(o,a){e&&N(e,o,a),w(o,t,a),n=!0},p(o,a){const u=a&80?At(r,[a&16&&{ordered:o[4]},a&64&&Ki(o[6])]):{};if(a&8388704&&(u.$$scope={dirty:a,ctx:o}),s!==(s=o[5].list)){if(e){ie();const c=e;v(c.$$.fragment,1,0,()=>{M(c,1)}),re()}s?(e=an(s,l(o)),O(e.$$.fragment),_(e.$$.fragment,1),N(e,t.parentNode,t)):e=null}else s&&e.$set(u)},i(o){n||(e&&_(e.$$.fragment,o),n=!0)},o(o){e&&v(e.$$.fragment,o),n=!1},d(o){o&&y(t),e&&M(e,o)}}}function Fme(i){let e,t,n;return e=new su({props:{tokens:i[18].tokens,renderers:i[5]}}),{c(){O(e.$$.fragment),t=Y()},m(r,s){N(e,r,s),w(r,t,s),n=!0},p(r,s){const l={};s&64&&(l.tokens=r[18].tokens),s&32&&(l.renderers=r[5]),e.$set(l)},i(r){n||(_(e.$$.fragment,r),n=!0)},o(r){v(e.$$.fragment,r),n=!1},d(r){M(e,r),r&&y(t)}}}function sF(i){let e,t,n;const r=[i[18]];var s=i[5].unorderedlistitem||i[5].listitem;function l(o){let a={$$slots:{default:[Fme]},$$scope:{ctx:o}};for(let u=0;u<r.length;u+=1)a=ft(a,r[u]);return{props:a}}return s&&(e=an(s,l(i))),{c(){e&&O(e.$$.fragment),t=$e()},m(o,a){e&&N(e,o,a),w(o,t,a),n=!0},p(o,a){const u=a&64?At(r,[Ki(o[18])]):{};if(a&8388704&&(u.$$scope={dirty:a,ctx:o}),s!==(s=o[5].unorderedlistitem||o[5].listitem)){if(e){ie();const c=e;v(c.$$.fragment,1,0,()=>{M(c,1)}),re()}s?(e=an(s,l(o)),O(e.$$.fragment),_(e.$$.fragment,1),N(e,t.parentNode,t)):e=null}else s&&e.$set(u)},i(o){n||(e&&_(e.$$.fragment,o),n=!0)},o(o){e&&v(e.$$.fragment,o),n=!1},d(o){o&&y(t),e&&M(e,o)}}}function Eme(i){let e,t,n=i[6].items,r=[];for(let l=0;l<n.length;l+=1)r[l]=sF(Q$(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=$e()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o&96){n=l[6].items;let a;for(a=0;a<n.length;a+=1){const u=Q$(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=sF(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ie(),a=n.length;a<r.length;a+=1)s(a);re()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){it(r,l),l&&y(e)}}}function Dme(i){let e,t,n;return e=new su({props:{tokens:i[18].tokens,renderers:i[5]}}),{c(){O(e.$$.fragment),t=Y()},m(r,s){N(e,r,s),w(r,t,s),n=!0},p(r,s){const l={};s&64&&(l.tokens=r[18].tokens),s&32&&(l.renderers=r[5]),e.$set(l)},i(r){n||(_(e.$$.fragment,r),n=!0)},o(r){v(e.$$.fragment,r),n=!1},d(r){M(e,r),r&&y(t)}}}function lF(i){let e,t,n;const r=[i[18]];var s=i[5].orderedlistitem||i[5].listitem;function l(o){let a={$$slots:{default:[Dme]},$$scope:{ctx:o}};for(let u=0;u<r.length;u+=1)a=ft(a,r[u]);return{props:a}}return s&&(e=an(s,l(i))),{c(){e&&O(e.$$.fragment),t=$e()},m(o,a){e&&N(e,o,a),w(o,t,a),n=!0},p(o,a){const u=a&64?At(r,[Ki(o[18])]):{};if(a&8388704&&(u.$$scope={dirty:a,ctx:o}),s!==(s=o[5].orderedlistitem||o[5].listitem)){if(e){ie();const c=e;v(c.$$.fragment,1,0,()=>{M(c,1)}),re()}s?(e=an(s,l(o)),O(e.$$.fragment),_(e.$$.fragment,1),N(e,t.parentNode,t)):e=null}else s&&e.$set(u)},i(o){n||(e&&_(e.$$.fragment,o),n=!0)},o(o){e&&v(e.$$.fragment,o),n=!1},d(o){o&&y(t),e&&M(e,o)}}}function Cme(i){let e,t,n=i[6].items,r=[];for(let l=0;l<n.length;l+=1)r[l]=lF(eF(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=$e()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o&96){n=l[6].items;let a;for(a=0;a<n.length;a+=1){const u=eF(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=lF(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ie(),a=n.length;a<r.length;a+=1)s(a);re()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){it(r,l),l&&y(e)}}}function Sme(i){let e,t,n;return e=new su({props:{tokens:i[16].tokens,renderers:i[5]}}),{c(){O(e.$$.fragment),t=Y()},m(r,s){N(e,r,s),w(r,t,s),n=!0},p(r,s){const l={};s&4&&(l.tokens=r[16].tokens),s&32&&(l.renderers=r[5]),e.$set(l)},i(r){n||(_(e.$$.fragment,r),n=!0)},o(r){v(e.$$.fragment,r),n=!1},d(r){M(e,r),r&&y(t)}}}function oF(i){let e,t,n;var r=i[5].tablecell;function s(l){return{props:{header:!0,align:l[6].align[l[15]]||"center",$$slots:{default:[Sme]},$$scope:{ctx:l}}}}return r&&(e=an(r,s(i))),{c(){e&&O(e.$$.fragment),t=$e()},m(l,o){e&&N(e,l,o),w(l,t,o),n=!0},p(l,o){const a={};if(o&64&&(a.align=l[6].align[l[15]]||"center"),o&8388644&&(a.$$scope={dirty:o,ctx:l}),r!==(r=l[5].tablecell)){if(e){ie();const u=e;v(u.$$.fragment,1,0,()=>{M(u,1)}),re()}r?(e=an(r,s(l)),O(e.$$.fragment),_(e.$$.fragment,1),N(e,t.parentNode,t)):e=null}else r&&e.$set(a)},i(l){n||(e&&_(e.$$.fragment,l),n=!0)},o(l){e&&v(e.$$.fragment,l),n=!1},d(l){l&&y(t),e&&M(e,l)}}}function Tme(i){let e,t,n=i[2],r=[];for(let l=0;l<n.length;l+=1)r[l]=oF(iF(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=$e()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o&100){n=l[2];let a;for(a=0;a<n.length;a+=1){const u=iF(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=oF(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ie(),a=n.length;a<r.length;a+=1)s(a);re()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){it(r,l),l&&y(e)}}}function Ame(i){let e,t,n;var r=i[5].tablerow;function s(l){return{props:{$$slots:{default:[Tme]},$$scope:{ctx:l}}}}return r&&(e=an(r,s(i))),{c(){e&&O(e.$$.fragment),t=$e()},m(l,o){e&&N(e,l,o),w(l,t,o),n=!0},p(l,o){const a={};if(o&8388708&&(a.$$scope={dirty:o,ctx:l}),r!==(r=l[5].tablerow)){if(e){ie();const u=e;v(u.$$.fragment,1,0,()=>{M(u,1)}),re()}r?(e=an(r,s(l)),O(e.$$.fragment),_(e.$$.fragment,1),N(e,t.parentNode,t)):e=null}else r&&e.$set(a)},i(l){n||(e&&_(e.$$.fragment,l),n=!0)},o(l){e&&v(e.$$.fragment,l),n=!1},d(l){l&&y(t),e&&M(e,l)}}}function Pme(i){let e,t;return e=new su({props:{tokens:i[13].tokens,renderers:i[5]}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&8&&(s.tokens=n[13].tokens),r&32&&(s.renderers=n[5]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function aF(i){let e,t,n;var r=i[5].tablecell;function s(l){return{props:{header:!1,align:l[6].align[l[15]]||"center",$$slots:{default:[Pme]},$$scope:{ctx:l}}}}return r&&(e=an(r,s(i))),{c(){e&&O(e.$$.fragment),t=$e()},m(l,o){e&&N(e,l,o),w(l,t,o),n=!0},p(l,o){const a={};if(o&64&&(a.align=l[6].align[l[15]]||"center"),o&8388648&&(a.$$scope={dirty:o,ctx:l}),r!==(r=l[5].tablecell)){if(e){ie();const u=e;v(u.$$.fragment,1,0,()=>{M(u,1)}),re()}r?(e=an(r,s(l)),O(e.$$.fragment),_(e.$$.fragment,1),N(e,t.parentNode,t)):e=null}else r&&e.$set(a)},i(l){n||(e&&_(e.$$.fragment,l),n=!0)},o(l){e&&v(e.$$.fragment,l),n=!1},d(l){l&&y(t),e&&M(e,l)}}}function Nme(i){let e,t,n=i[10],r=[];for(let l=0;l<n.length;l+=1)r[l]=aF(nF(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=Y()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o&104){n=l[10];let a;for(a=0;a<n.length;a+=1){const u=nF(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=aF(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ie(),a=n.length;a<r.length;a+=1)s(a);re()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){it(r,l),l&&y(e)}}}function uF(i){let e,t,n;var r=i[5].tablerow;function s(l){return{props:{$$slots:{default:[Nme]},$$scope:{ctx:l}}}}return r&&(e=an(r,s(i))),{c(){e&&O(e.$$.fragment),t=$e()},m(l,o){e&&N(e,l,o),w(l,t,o),n=!0},p(l,o){const a={};if(o&8388712&&(a.$$scope={dirty:o,ctx:l}),r!==(r=l[5].tablerow)){if(e){ie();const u=e;v(u.$$.fragment,1,0,()=>{M(u,1)}),re()}r?(e=an(r,s(l)),O(e.$$.fragment),_(e.$$.fragment,1),N(e,t.parentNode,t)):e=null}else r&&e.$set(a)},i(l){n||(e&&_(e.$$.fragment,l),n=!0)},o(l){e&&v(e.$$.fragment,l),n=!1},d(l){l&&y(t),e&&M(e,l)}}}function Mme(i){let e,t,n=i[3],r=[];for(let l=0;l<n.length;l+=1)r[l]=uF(tF(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=$e()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o&104){n=l[3];let a;for(a=0;a<n.length;a+=1){const u=tF(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=uF(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ie(),a=n.length;a<r.length;a+=1)s(a);re()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){it(r,l),l&&y(e)}}}function Lme(i){let e,t,n,r,s;var l=i[5].tablehead;function o(c){return{props:{$$slots:{default:[Ame]},$$scope:{ctx:c}}}}l&&(e=an(l,o(i)));var a=i[5].tablebody;function u(c){return{props:{$$slots:{default:[Mme]},$$scope:{ctx:c}}}}return a&&(n=an(a,u(i))),{c(){e&&O(e.$$.fragment),t=Y(),n&&O(n.$$.fragment),r=$e()},m(c,f){e&&N(e,c,f),w(c,t,f),n&&N(n,c,f),w(c,r,f),s=!0},p(c,f){const d={};if(f&8388708&&(d.$$scope={dirty:f,ctx:c}),l!==(l=c[5].tablehead)){if(e){ie();const p=e;v(p.$$.fragment,1,0,()=>{M(p,1)}),re()}l?(e=an(l,o(c)),O(e.$$.fragment),_(e.$$.fragment,1),N(e,t.parentNode,t)):e=null}else l&&e.$set(d);const m={};if(f&8388712&&(m.$$scope={dirty:f,ctx:c}),a!==(a=c[5].tablebody)){if(n){ie();const p=n;v(p.$$.fragment,1,0,()=>{M(p,1)}),re()}a?(n=an(a,u(c)),O(n.$$.fragment),_(n.$$.fragment,1),N(n,r.parentNode,r)):n=null}else a&&n.$set(m)},i(c){s||(e&&_(e.$$.fragment,c),n&&_(n.$$.fragment,c),s=!0)},o(c){e&&v(e.$$.fragment,c),n&&v(n.$$.fragment,c),s=!1},d(c){e&&M(e,c),c&&y(t),c&&y(r),n&&M(n,c)}}}function cF(i){let e,t;const n=[i[7],{renderers:i[5]}];let r={};for(let s=0;s<n.length;s+=1)r=ft(r,n[s]);return e=new su({props:r}),{c(){O(e.$$.fragment)},m(s,l){N(e,s,l),t=!0},p(s,l){const o=l&34?At(n,[l&2&&Ki(s[7]),l&32&&{renderers:s[5]}]):{};e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){v(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function Ome(i){let e,t,n,r;const s=[pme,mme],l=[];function o(a,u){return a[0]?a[5][a[0]]?1:-1:0}return~(e=o(i))&&(t=l[e]=s[e](i)),{c(){t&&t.c(),n=$e()},m(a,u){~e&&l[e].m(a,u),w(a,n,u),r=!0},p(a,[u]){let c=e;e=o(a),e===c?~e&&l[e].p(a,u):(t&&(ie(),v(l[c],1,1,()=>{l[c]=null}),re()),~e?(t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n)):t=null)},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){~e&&l[e].d(a),a&&y(n)}}}function Ime(i,e,t){const n=["type","tokens","header","rows","ordered","renderers"];let r=An(e,n),{type:s=void 0}=e,{tokens:l=void 0}=e,{header:o=void 0}=e,{rows:a=void 0}=e,{ordered:u=!1}=e,{renderers:c}=e;return hme(),i.$$set=f=>{e=ft(ft({},e),ci(f)),t(6,r=An(e,n)),"type"in f&&t(0,s=f.type),"tokens"in f&&t(1,l=f.tokens),"header"in f&&t(2,o=f.header),"rows"in f&&t(3,a=f.rows),"ordered"in f&&t(4,u=f.ordered),"renderers"in f&&t(5,c=f.renderers)},[s,l,o,a,u,c,r]}class su extends ce{constructor(e){super(),ue(this,e,Ime,Ome,le,{type:0,tokens:1,header:2,rows:3,ordered:4,renderers:5})}}function EO(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let Ic=EO();function Bme(i){Ic=i}const DO=/[&<>"']/,zme=new RegExp(DO.source,"g"),CO=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Rme=new RegExp(CO.source,"g"),jme={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},fF=i=>jme[i];function Zi(i,e){if(e){if(DO.test(i))return i.replace(zme,fF)}else if(CO.test(i))return i.replace(Rme,fF);return i}const Yme=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function SO(i){return i.replace(Yme,(e,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const Ume=/(^|[^\[])\^/g;function Kn(i,e){i=typeof i=="string"?i:i.source,e=e||"";const t={replace:(n,r)=>(r=r.source||r,r=r.replace(Ume,"$1"),i=i.replace(n,r),t),getRegex:()=>new RegExp(i,e)};return t}const qme=/[^\w:]/g,Hme=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function dF(i,e,t){if(i){let n;try{n=decodeURIComponent(SO(t)).replace(qme,"").toLowerCase()}catch{return null}if(n.indexOf("javascript:")===0||n.indexOf("vbscript:")===0||n.indexOf("data:")===0)return null}e&&!Hme.test(t)&&(t=Zme(e,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const Ch={},Wme=/^[^:]+:\/*[^/]*$/,Vme=/^([^:]+:)[\s\S]*$/,Gme=/^([^:]+:\/*[^/]*)[\s\S]*$/;function Zme(i,e){Ch[" "+i]||(Wme.test(i)?Ch[" "+i]=i+"/":Ch[" "+i]=em(i,"/",!0)),i=Ch[" "+i];const t=i.indexOf(":")===-1;return e.substring(0,2)==="//"?t?e:i.replace(Vme,"$1")+e:e.charAt(0)==="/"?t?e:i.replace(Gme,"$1")+e:i+e}const Dm={exec:function(){}};function Ls(i){let e=1,t,n;for(;e<arguments.length;e++){t=arguments[e];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i}function hF(i,e){const t=i.replace(/\|/g,(s,l,o)=>{let a=!1,u=l;for(;--u>=0&&o[u]==="\\";)a=!a;return a?"|":" |"}),n=t.split(/ \|/);let r=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function em(i,e,t){const n=i.length;if(n===0)return"";let r=0;for(;r<n;){const s=i.charAt(n-r-1);if(s===e&&!t)r++;else if(s!==e&&t)r++;else break}return i.slice(0,n-r)}function xme(i,e){if(i.indexOf(e[1])===-1)return-1;const t=i.length;let n=0,r=0;for(;r<t;r++)if(i[r]==="\\")r++;else if(i[r]===e[0])n++;else if(i[r]===e[1]&&(n--,n<0))return r;return-1}function TO(i){i&&i.sanitize&&!i.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function mF(i,e){if(e<1)return"";let t="";for(;e>1;)e&1&&(t+=i),e>>=1,i+=i;return t+i}function pF(i,e,t,n){const r=e.href,s=e.title?Zi(e.title):null,l=i[1].replace(/\\([\[\]])/g,"$1");if(i[0].charAt(0)!=="!"){n.state.inLink=!0;const o={type:"link",raw:t,href:r,title:s,text:l,tokens:n.inlineTokens(l)};return n.state.inLink=!1,o}return{type:"image",raw:t,href:r,title:s,text:Zi(l)}}function Xme(i,e){const t=i.match(/^(\s+)(?:```)/);if(t===null)return e;const n=t[1];return e.split(`
`).map(r=>{const s=r.match(/^\s+/);if(s===null)return r;const[l]=s;return l.length>=n.length?r.slice(n.length):r}).join(`
`)}class Gv{constructor(e){this.options=e||Ic}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const n=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:em(n,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const n=t[0],r=Xme(n,t[3]||"");return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:r}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(/#$/.test(n)){const r=em(n,"#");(this.options.pedantic||!r||/ $/.test(r))&&(n=r.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const n=t[0].replace(/^ *>[ \t]?/gm,""),r=this.lexer.state.top;this.lexer.state.top=!0;const s=this.lexer.blockTokens(n);return this.lexer.state.top=r,{type:"blockquote",raw:t[0],tokens:s,text:n}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n,r,s,l,o,a,u,c,f,d,m,p,g=t[1].trim();const k=g.length>1,$={type:"list",raw:"",ordered:k,start:k?+g.slice(0,-1):"",loose:!1,items:[]};g=k?`\\d{1,9}\\${g.slice(-1)}`:`\\${g}`,this.options.pedantic&&(g=k?g:"[*+-]");const D=new RegExp(`^( {0,3}${g})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;e&&(p=!1,!(!(t=D.exec(e))||this.rules.block.hr.test(e)));){if(n=t[0],e=e.substring(n.length),c=t[2].split(`
`,1)[0].replace(/^\t+/,C=>" ".repeat(3*C.length)),f=e.split(`
`,1)[0],this.options.pedantic?(l=2,m=c.trimLeft()):(l=t[2].search(/[^ ]/),l=l>4?1:l,m=c.slice(l),l+=t[1].length),a=!1,!c&&/^ *$/.test(f)&&(n+=f+`
`,e=e.substring(f.length+1),p=!0),!p){const C=new RegExp(`^ {0,${Math.min(3,l-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),S=new RegExp(`^ {0,${Math.min(3,l-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),P=new RegExp(`^ {0,${Math.min(3,l-1)}}(?:\`\`\`|~~~)`),I=new RegExp(`^ {0,${Math.min(3,l-1)}}#`);for(;e&&(d=e.split(`
`,1)[0],f=d,this.options.pedantic&&(f=f.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(P.test(f)||I.test(f)||C.test(f)||S.test(e)));){if(f.search(/[^ ]/)>=l||!f.trim())m+=`
`+f.slice(l);else{if(a||c.search(/[^ ]/)>=4||P.test(c)||I.test(c)||S.test(c))break;m+=`
`+f}!a&&!f.trim()&&(a=!0),n+=d+`
`,e=e.substring(d.length+1),c=f.slice(l)}}$.loose||(u?$.loose=!0:/\n *\n *$/.test(n)&&(u=!0)),this.options.gfm&&(r=/^\[[ xX]\] /.exec(m),r&&(s=r[0]!=="[ ] ",m=m.replace(/^\[[ xX]\] +/,""))),$.items.push({type:"list_item",raw:n,task:!!r,checked:s,loose:!1,text:m}),$.raw+=n}$.items[$.items.length-1].raw=n.trimRight(),$.items[$.items.length-1].text=m.trimRight(),$.raw=$.raw.trimRight();const F=$.items.length;for(o=0;o<F;o++)if(this.lexer.state.top=!1,$.items[o].tokens=this.lexer.blockTokens($.items[o].text,[]),!$.loose){const C=$.items[o].tokens.filter(P=>P.type==="space"),S=C.length>0&&C.some(P=>/\n.*\n/.test(P.raw));$.loose=S}if($.loose)for(o=0;o<F;o++)$.items[o].loose=!0;return $}}html(e){const t=this.rules.block.html.exec(e);if(t){const n={type:"html",raw:t[0],pre:!this.options.sanitizer&&(t[1]==="pre"||t[1]==="script"||t[1]==="style"),text:t[0]};if(this.options.sanitize){const r=this.options.sanitizer?this.options.sanitizer(t[0]):Zi(t[0]);n.type="paragraph",n.text=r,n.tokens=this.lexer.inline(r)}return n}}def(e){const t=this.rules.block.def.exec(e);if(t){const n=t[1].toLowerCase().replace(/\s+/g," "),r=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",s=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:r,title:s}}}table(e){const t=this.rules.block.table.exec(e);if(t){const n={type:"table",header:hF(t[1]).map(r=>({text:r})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(n.header.length===n.align.length){n.raw=t[0];let r=n.align.length,s,l,o,a;for(s=0;s<r;s++)/^ *-+: *$/.test(n.align[s])?n.align[s]="right":/^ *:-+: *$/.test(n.align[s])?n.align[s]="center":/^ *:-+ *$/.test(n.align[s])?n.align[s]="left":n.align[s]=null;for(r=n.rows.length,s=0;s<r;s++)n.rows[s]=hF(n.rows[s],n.header.length).map(u=>({text:u}));for(r=n.header.length,l=0;l<r;l++)n.header[l].tokens=this.lexer.inline(n.header[l].text);for(r=n.rows.length,l=0;l<r;l++)for(a=n.rows[l],o=0;o<a.length;o++)a[o].tokens=this.lexer.inline(a[o].text);return n}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const n=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:Zi(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):Zi(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const n=t[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;const l=em(n.slice(0,-1),"\\");if((n.length-l.length)%2===0)return}else{const l=xme(t[2],"()");if(l>-1){const a=(t[0].indexOf("!")===0?5:4)+t[1].length+l;t[2]=t[2].substring(0,l),t[0]=t[0].substring(0,a).trim(),t[3]=""}}let r=t[2],s="";if(this.options.pedantic){const l=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r);l&&(r=l[1],s=l[3])}else s=t[3]?t[3].slice(1,-1):"";return r=r.trim(),/^</.test(r)&&(this.options.pedantic&&!/>$/.test(n)?r=r.slice(1):r=r.slice(1,-1)),pF(t,{href:r&&r.replace(this.rules.inline._escapes,"$1"),title:s&&s.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let r=(n[2]||n[1]).replace(/\s+/g," ");if(r=t[r.toLowerCase()],!r){const s=n[0].charAt(0);return{type:"text",raw:s,text:s}}return pF(n,r,n[0],this.lexer)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrong.lDelim.exec(e);if(!r||r[3]&&n.match(/[\p{L}\p{N}]/u))return;const s=r[1]||r[2]||"";if(!s||s&&(n===""||this.rules.inline.punctuation.exec(n))){const l=r[0].length-1;let o,a,u=l,c=0;const f=r[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(f.lastIndex=0,t=t.slice(-1*e.length+l);(r=f.exec(t))!=null;){if(o=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!o)continue;if(a=o.length,r[3]||r[4]){u+=a;continue}else if((r[5]||r[6])&&l%3&&!((l+a)%3)){c+=a;continue}if(u-=a,u>0)continue;a=Math.min(a,a+u+c);const d=e.slice(0,l+r.index+(r[0].length-o.length)+a);if(Math.min(l,a)%2){const p=d.slice(1,-1);return{type:"em",raw:d,text:p,tokens:this.lexer.inlineTokens(p)}}const m=d.slice(2,-2);return{type:"strong",raw:d,text:m,tokens:this.lexer.inlineTokens(m)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(/\n/g," ");const r=/[^ ]/.test(n),s=/^ /.test(n)&&/ $/.test(n);return r&&s&&(n=n.substring(1,n.length-1)),n=Zi(n,!0),{type:"codespan",raw:t[0],text:n}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){const n=this.rules.inline.autolink.exec(e);if(n){let r,s;return n[2]==="@"?(r=Zi(this.options.mangle?t(n[1]):n[1]),s="mailto:"+r):(r=Zi(n[1]),s=r),{type:"link",raw:n[0],text:r,href:s,tokens:[{type:"text",raw:r,text:r}]}}}url(e,t){let n;if(n=this.rules.inline.url.exec(e)){let r,s;if(n[2]==="@")r=Zi(this.options.mangle?t(n[0]):n[0]),s="mailto:"+r;else{let l;do l=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0];while(l!==n[0]);r=Zi(n[0]),n[1]==="www."?s="http://"+n[0]:s=n[0]}return{type:"link",raw:n[0],text:r,href:s,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e,t){const n=this.rules.inline.text.exec(e);if(n){let r;return this.lexer.state.inRawBlock?r=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):Zi(n[0]):n[0]:r=Zi(this.options.smartypants?t(n[0]):n[0]),{type:"text",raw:n[0],text:r}}}}const Rt={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Dm,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};Rt._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;Rt._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;Rt.def=Kn(Rt.def).replace("label",Rt._label).replace("title",Rt._title).getRegex();Rt.bullet=/(?:[*+-]|\d{1,9}[.)])/;Rt.listItemStart=Kn(/^( *)(bull) */).replace("bull",Rt.bullet).getRegex();Rt.list=Kn(Rt.list).replace(/bull/g,Rt.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Rt.def.source+")").getRegex();Rt._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";Rt._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;Rt.html=Kn(Rt.html,"i").replace("comment",Rt._comment).replace("tag",Rt._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();Rt.paragraph=Kn(Rt._paragraph).replace("hr",Rt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Rt._tag).getRegex();Rt.blockquote=Kn(Rt.blockquote).replace("paragraph",Rt.paragraph).getRegex();Rt.normal=Ls({},Rt);Rt.gfm=Ls({},Rt.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});Rt.gfm.table=Kn(Rt.gfm.table).replace("hr",Rt.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Rt._tag).getRegex();Rt.gfm.paragraph=Kn(Rt._paragraph).replace("hr",Rt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Rt.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Rt._tag).getRegex();Rt.pedantic=Ls({},Rt.normal,{html:Kn(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Rt._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Dm,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Kn(Rt.normal._paragraph).replace("hr",Rt.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Rt.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const Pt={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Dm,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Dm,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};Pt._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";Pt.punctuation=Kn(Pt.punctuation).replace(/punctuation/g,Pt._punctuation).getRegex();Pt.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;Pt.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g;Pt._comment=Kn(Rt._comment).replace("(?:-->|$)","-->").getRegex();Pt.emStrong.lDelim=Kn(Pt.emStrong.lDelim).replace(/punct/g,Pt._punctuation).getRegex();Pt.emStrong.rDelimAst=Kn(Pt.emStrong.rDelimAst,"g").replace(/punct/g,Pt._punctuation).getRegex();Pt.emStrong.rDelimUnd=Kn(Pt.emStrong.rDelimUnd,"g").replace(/punct/g,Pt._punctuation).getRegex();Pt._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;Pt._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;Pt._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;Pt.autolink=Kn(Pt.autolink).replace("scheme",Pt._scheme).replace("email",Pt._email).getRegex();Pt._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;Pt.tag=Kn(Pt.tag).replace("comment",Pt._comment).replace("attribute",Pt._attribute).getRegex();Pt._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;Pt._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;Pt._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;Pt.link=Kn(Pt.link).replace("label",Pt._label).replace("href",Pt._href).replace("title",Pt._title).getRegex();Pt.reflink=Kn(Pt.reflink).replace("label",Pt._label).replace("ref",Rt._label).getRegex();Pt.nolink=Kn(Pt.nolink).replace("ref",Rt._label).getRegex();Pt.reflinkSearch=Kn(Pt.reflinkSearch,"g").replace("reflink",Pt.reflink).replace("nolink",Pt.nolink).getRegex();Pt.normal=Ls({},Pt);Pt.pedantic=Ls({},Pt.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Kn(/^!?\[(label)\]\((.*?)\)/).replace("label",Pt._label).getRegex(),reflink:Kn(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Pt._label).getRegex()});Pt.gfm=Ls({},Pt.normal,{escape:Kn(Pt.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/});Pt.gfm.url=Kn(Pt.gfm.url,"i").replace("email",Pt.gfm._extended_email).getRegex();Pt.breaks=Ls({},Pt.gfm,{br:Kn(Pt.br).replace("{2,}","*").getRegex(),text:Kn(Pt.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function Kme(i){return i.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function _F(i){let e="",t,n;const r=i.length;for(t=0;t<r;t++)n=i.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),e+="&#"+n+";";return e}class ml{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Ic,this.options.tokenizer=this.options.tokenizer||new Gv,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:Rt.normal,inline:Pt.normal};this.options.pedantic?(t.block=Rt.pedantic,t.inline=Pt.pedantic):this.options.gfm&&(t.block=Rt.gfm,this.options.breaks?t.inline=Pt.breaks:t.inline=Pt.gfm),this.tokenizer.rules=t}static get rules(){return{block:Rt,inline:Pt}}static lex(e,t){return new ml(t).lex(e)}static lexInline(e,t){return new ml(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);let t;for(;t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(o,a,u)=>a+"    ".repeat(u.length));let n,r,s,l;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(o=>(n=o.call({lexer:this},e,t))?(e=e.substring(n.raw.length),t.push(n),!0):!1))){if(n=this.tokenizer.space(e)){e=e.substring(n.raw.length),n.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(n);continue}if(n=this.tokenizer.code(e)){e=e.substring(n.raw.length),r=t[t.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+n.raw,r.text+=`
`+n.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n);continue}if(n=this.tokenizer.fences(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.heading(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.hr(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.blockquote(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.list(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.html(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.def(e)){e=e.substring(n.raw.length),r=t[t.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+n.raw,r.text+=`
`+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text):this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title});continue}if(n=this.tokenizer.table(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.lheading(e)){e=e.substring(n.raw.length),t.push(n);continue}if(s=e,this.options.extensions&&this.options.extensions.startBlock){let o=1/0;const a=e.slice(1);let u;this.options.extensions.startBlock.forEach(function(c){u=c.call({lexer:this},a),typeof u=="number"&&u>=0&&(o=Math.min(o,u))}),o<1/0&&o>=0&&(s=e.substring(0,o+1))}if(this.state.top&&(n=this.tokenizer.paragraph(s))){r=t[t.length-1],l&&r.type==="paragraph"?(r.raw+=`
`+n.raw,r.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n),l=s.length!==e.length,e=e.substring(n.raw.length);continue}if(n=this.tokenizer.text(e)){e=e.substring(n.raw.length),r=t[t.length-1],r&&r.type==="text"?(r.raw+=`
`+n.raw,r.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n);continue}if(e){const o="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n,r,s,l=e,o,a,u;if(this.tokens.links){const c=Object.keys(this.tokens.links);if(c.length>0)for(;(o=this.tokenizer.rules.inline.reflinkSearch.exec(l))!=null;)c.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,o.index)+"["+mF("a",o[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(o=this.tokenizer.rules.inline.blockSkip.exec(l))!=null;)l=l.slice(0,o.index)+"["+mF("a",o[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(o=this.tokenizer.rules.inline.escapedEmSt.exec(l))!=null;)l=l.slice(0,o.index+o[0].length-2)+"++"+l.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(a||(u=""),a=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(c=>(n=c.call({lexer:this},e,t))?(e=e.substring(n.raw.length),t.push(n),!0):!1))){if(n=this.tokenizer.escape(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.tag(e)){e=e.substring(n.raw.length),r=t[t.length-1],r&&n.type==="text"&&r.type==="text"?(r.raw+=n.raw,r.text+=n.text):t.push(n);continue}if(n=this.tokenizer.link(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(n.raw.length),r=t[t.length-1],r&&n.type==="text"&&r.type==="text"?(r.raw+=n.raw,r.text+=n.text):t.push(n);continue}if(n=this.tokenizer.emStrong(e,l,u)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.codespan(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.br(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.del(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.autolink(e,_F)){e=e.substring(n.raw.length),t.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(e,_F))){e=e.substring(n.raw.length),t.push(n);continue}if(s=e,this.options.extensions&&this.options.extensions.startInline){let c=1/0;const f=e.slice(1);let d;this.options.extensions.startInline.forEach(function(m){d=m.call({lexer:this},f),typeof d=="number"&&d>=0&&(c=Math.min(c,d))}),c<1/0&&c>=0&&(s=e.substring(0,c+1))}if(n=this.tokenizer.inlineText(s,Kme)){e=e.substring(n.raw.length),n.raw.slice(-1)!=="_"&&(u=n.raw.slice(-1)),a=!0,r=t[t.length-1],r&&r.type==="text"?(r.raw+=n.raw,r.text+=n.text):t.push(n);continue}if(e){const c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return t}}class Zv{constructor(e){this.options=e||Ic}code(e,t,n){const r=(t||"").match(/\S*/)[0];if(this.options.highlight){const s=this.options.highlight(e,r);s!=null&&s!==e&&(n=!0,e=s)}return e=e.replace(/\n$/,"")+`
`,r?'<pre><code class="'+this.options.langPrefix+Zi(r)+'">'+(n?e:Zi(e,!0))+`</code></pre>
`:"<pre><code>"+(n?e:Zi(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e){return e}heading(e,t,n,r){if(this.options.headerIds){const s=this.options.headerPrefix+r.slug(n);return`<h${t} id="${s}">${e}</h${t}>
`}return`<h${t}>${e}</h${t}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,t,n){const r=t?"ol":"ul",s=t&&n!==1?' start="'+n+'"':"";return"<"+r+s+`>
`+e+"</"+r+`>
`}listitem(e){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>
`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,t){const n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,n){if(e=dF(this.options.sanitize,this.options.baseUrl,e),e===null)return n;let r='<a href="'+e+'"';return t&&(r+=' title="'+t+'"'),r+=">"+n+"</a>",r}image(e,t,n){if(e=dF(this.options.sanitize,this.options.baseUrl,e),e===null)return n;let r=`<img src="${e}" alt="${n}"`;return t&&(r+=` title="${t}"`),r+=this.options.xhtml?"/>":">",r}text(e){return e}}class AO{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}}class xv{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let n=e,r=0;if(this.seen.hasOwnProperty(n)){r=this.seen[e];do r++,n=e+"-"+r;while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=r,this.seen[n]=0),n}slug(e,t={}){const n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)}}class il{constructor(e){this.options=e||Ic,this.options.renderer=this.options.renderer||new Zv,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new AO,this.slugger=new xv}static parse(e,t){return new il(t).parse(e)}static parseInline(e,t){return new il(t).parseInline(e)}parse(e,t=!0){let n="",r,s,l,o,a,u,c,f,d,m,p,g,k,$,D,F,C,S,P;const I=e.length;for(r=0;r<I;r++){if(m=e[r],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[m.type]&&(P=this.options.extensions.renderers[m.type].call({parser:this},m),P!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(m.type))){n+=P||"";continue}switch(m.type){case"space":continue;case"hr":{n+=this.renderer.hr();continue}case"heading":{n+=this.renderer.heading(this.parseInline(m.tokens),m.depth,SO(this.parseInline(m.tokens,this.textRenderer)),this.slugger);continue}case"code":{n+=this.renderer.code(m.text,m.lang,m.escaped);continue}case"table":{for(f="",c="",o=m.header.length,s=0;s<o;s++)c+=this.renderer.tablecell(this.parseInline(m.header[s].tokens),{header:!0,align:m.align[s]});for(f+=this.renderer.tablerow(c),d="",o=m.rows.length,s=0;s<o;s++){for(u=m.rows[s],c="",a=u.length,l=0;l<a;l++)c+=this.renderer.tablecell(this.parseInline(u[l].tokens),{header:!1,align:m.align[l]});d+=this.renderer.tablerow(c)}n+=this.renderer.table(f,d);continue}case"blockquote":{d=this.parse(m.tokens),n+=this.renderer.blockquote(d);continue}case"list":{for(p=m.ordered,g=m.start,k=m.loose,o=m.items.length,d="",s=0;s<o;s++)D=m.items[s],F=D.checked,C=D.task,$="",D.task&&(S=this.renderer.checkbox(F),k?D.tokens.length>0&&D.tokens[0].type==="paragraph"?(D.tokens[0].text=S+" "+D.tokens[0].text,D.tokens[0].tokens&&D.tokens[0].tokens.length>0&&D.tokens[0].tokens[0].type==="text"&&(D.tokens[0].tokens[0].text=S+" "+D.tokens[0].tokens[0].text)):D.tokens.unshift({type:"text",text:S}):$+=S),$+=this.parse(D.tokens,k),d+=this.renderer.listitem($,C,F);n+=this.renderer.list(d,p,g);continue}case"html":{n+=this.renderer.html(m.text);continue}case"paragraph":{n+=this.renderer.paragraph(this.parseInline(m.tokens));continue}case"text":{for(d=m.tokens?this.parseInline(m.tokens):m.text;r+1<I&&e[r+1].type==="text";)m=e[++r],d+=`
`+(m.tokens?this.parseInline(m.tokens):m.text);n+=t?this.renderer.paragraph(d):d;continue}default:{const R='Token with "'+m.type+'" type was not found.';if(this.options.silent){console.error(R);return}else throw new Error(R)}}}return n}parseInline(e,t){t=t||this.renderer;let n="",r,s,l;const o=e.length;for(r=0;r<o;r++){if(s=e[r],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]&&(l=this.options.extensions.renderers[s.type].call({parser:this},s),l!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type))){n+=l||"";continue}switch(s.type){case"escape":{n+=t.text(s.text);break}case"html":{n+=t.html(s.text);break}case"link":{n+=t.link(s.href,s.title,this.parseInline(s.tokens,t));break}case"image":{n+=t.image(s.href,s.title,s.text);break}case"strong":{n+=t.strong(this.parseInline(s.tokens,t));break}case"em":{n+=t.em(this.parseInline(s.tokens,t));break}case"codespan":{n+=t.codespan(s.text);break}case"br":{n+=t.br();break}case"del":{n+=t.del(this.parseInline(s.tokens,t));break}case"text":{n+=t.text(s.text);break}default:{const a='Token with "'+s.type+'" type was not found.';if(this.options.silent){console.error(a);return}else throw new Error(a)}}}return n}}function qt(i,e,t){if(typeof i>"u"||i===null)throw new Error("marked(): input parameter is undefined or null");if(typeof i!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(i)+", string expected");if(typeof e=="function"&&(t=e,e=null),e=Ls({},qt.defaults,e||{}),TO(e),t){const r=e.highlight;let s;try{s=ml.lex(i,e)}catch(a){return t(a)}const l=function(a){let u;if(!a)try{e.walkTokens&&qt.walkTokens(s,e.walkTokens),u=il.parse(s,e)}catch(c){a=c}return e.highlight=r,a?t(a):t(null,u)};if(!r||r.length<3||(delete e.highlight,!s.length))return l();let o=0;qt.walkTokens(s,function(a){a.type==="code"&&(o++,setTimeout(()=>{r(a.text,a.lang,function(u,c){if(u)return l(u);c!=null&&c!==a.text&&(a.text=c,a.escaped=!0),o--,o===0&&l()})},0))}),o===0&&l();return}function n(r){if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+Zi(r.message+"",!0)+"</pre>";throw r}try{const r=ml.lex(i,e);if(e.walkTokens){if(e.async)return Promise.all(qt.walkTokens(r,e.walkTokens)).then(()=>il.parse(r,e)).catch(n);qt.walkTokens(r,e.walkTokens)}return il.parse(r,e)}catch(r){n(r)}}qt.options=qt.setOptions=function(i){return Ls(qt.defaults,i),Bme(qt.defaults),qt};qt.getDefaults=EO;qt.defaults=Ic;qt.use=function(...i){const e=qt.defaults.extensions||{renderers:{},childTokens:{}};i.forEach(t=>{const n=Ls({},t);if(n.async=qt.defaults.async||n.async,t.extensions&&(t.extensions.forEach(r=>{if(!r.name)throw new Error("extension name required");if(r.renderer){const s=e.renderers[r.name];s?e.renderers[r.name]=function(...l){let o=r.renderer.apply(this,l);return o===!1&&(o=s.apply(this,l)),o}:e.renderers[r.name]=r.renderer}if(r.tokenizer){if(!r.level||r.level!=="block"&&r.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");e[r.level]?e[r.level].unshift(r.tokenizer):e[r.level]=[r.tokenizer],r.start&&(r.level==="block"?e.startBlock?e.startBlock.push(r.start):e.startBlock=[r.start]:r.level==="inline"&&(e.startInline?e.startInline.push(r.start):e.startInline=[r.start]))}r.childTokens&&(e.childTokens[r.name]=r.childTokens)}),n.extensions=e),t.renderer){const r=qt.defaults.renderer||new Zv;for(const s in t.renderer){const l=r[s];r[s]=(...o)=>{let a=t.renderer[s].apply(r,o);return a===!1&&(a=l.apply(r,o)),a}}n.renderer=r}if(t.tokenizer){const r=qt.defaults.tokenizer||new Gv;for(const s in t.tokenizer){const l=r[s];r[s]=(...o)=>{let a=t.tokenizer[s].apply(r,o);return a===!1&&(a=l.apply(r,o)),a}}n.tokenizer=r}if(t.walkTokens){const r=qt.defaults.walkTokens;n.walkTokens=function(s){let l=[];return l.push(t.walkTokens.call(this,s)),r&&(l=l.concat(r.call(this,s))),l}}qt.setOptions(n)})};qt.walkTokens=function(i,e){let t=[];for(const n of i)switch(t=t.concat(e.call(qt,n)),n.type){case"table":{for(const r of n.header)t=t.concat(qt.walkTokens(r.tokens,e));for(const r of n.rows)for(const s of r)t=t.concat(qt.walkTokens(s.tokens,e));break}case"list":{t=t.concat(qt.walkTokens(n.items,e));break}default:qt.defaults.extensions&&qt.defaults.extensions.childTokens&&qt.defaults.extensions.childTokens[n.type]?qt.defaults.extensions.childTokens[n.type].forEach(function(r){t=t.concat(qt.walkTokens(n[r],e))}):n.tokens&&(t=t.concat(qt.walkTokens(n.tokens,e)))}return t};qt.parseInline=function(i,e){if(typeof i>"u"||i===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof i!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(i)+", string expected");e=Ls({},qt.defaults,e||{}),TO(e);try{const t=ml.lexInline(i,e);return e.walkTokens&&qt.walkTokens(t,e.walkTokens),il.parseInline(t,e)}catch(t){if(t.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+Zi(t.message+"",!0)+"</pre>";throw t}};qt.Parser=il;qt.parser=il.parse;qt.Renderer=Zv;qt.TextRenderer=AO;qt.Lexer=ml;qt.lexer=ml.lex;qt.Tokenizer=Gv;qt.Slugger=xv;qt.parse=qt;qt.options;qt.setOptions;qt.use;qt.walkTokens;qt.parseInline;il.parse;ml.lex;const PO={};function Jme(i){let e;return{c(){e=Z(i[1])},m(t,n){w(t,e,n)},p(t,n){n&2&&oe(e,t[1])},i:W,o:W,d(t){t&&y(e)}}}function Qme(i){let e,t;const n=i[5].default,r=He(n,i,i[4],null);return{c(){e=A("h6"),r&&r.c(),h(e,"id",i[2])},m(s,l){w(s,e,l),r&&r.m(e,null),t=!0},p(s,l){r&&r.p&&(!t||l&16)&&Ve(r,n,s,s[4],t?We(n,s[4],l,null):Ge(s[4]),null),(!t||l&4)&&h(e,"id",s[2])},i(s){t||(_(r,s),t=!0)},o(s){v(r,s),t=!1},d(s){s&&y(e),r&&r.d(s)}}}function epe(i){let e,t;const n=i[5].default,r=He(n,i,i[4],null);return{c(){e=A("h5"),r&&r.c(),h(e,"id",i[2])},m(s,l){w(s,e,l),r&&r.m(e,null),t=!0},p(s,l){r&&r.p&&(!t||l&16)&&Ve(r,n,s,s[4],t?We(n,s[4],l,null):Ge(s[4]),null),(!t||l&4)&&h(e,"id",s[2])},i(s){t||(_(r,s),t=!0)},o(s){v(r,s),t=!1},d(s){s&&y(e),r&&r.d(s)}}}function tpe(i){let e,t;const n=i[5].default,r=He(n,i,i[4],null);return{c(){e=A("h4"),r&&r.c(),h(e,"id",i[2])},m(s,l){w(s,e,l),r&&r.m(e,null),t=!0},p(s,l){r&&r.p&&(!t||l&16)&&Ve(r,n,s,s[4],t?We(n,s[4],l,null):Ge(s[4]),null),(!t||l&4)&&h(e,"id",s[2])},i(s){t||(_(r,s),t=!0)},o(s){v(r,s),t=!1},d(s){s&&y(e),r&&r.d(s)}}}function npe(i){let e,t;const n=i[5].default,r=He(n,i,i[4],null);return{c(){e=A("h3"),r&&r.c(),h(e,"id",i[2])},m(s,l){w(s,e,l),r&&r.m(e,null),t=!0},p(s,l){r&&r.p&&(!t||l&16)&&Ve(r,n,s,s[4],t?We(n,s[4],l,null):Ge(s[4]),null),(!t||l&4)&&h(e,"id",s[2])},i(s){t||(_(r,s),t=!0)},o(s){v(r,s),t=!1},d(s){s&&y(e),r&&r.d(s)}}}function ipe(i){let e,t;const n=i[5].default,r=He(n,i,i[4],null);return{c(){e=A("h2"),r&&r.c(),h(e,"id",i[2])},m(s,l){w(s,e,l),r&&r.m(e,null),t=!0},p(s,l){r&&r.p&&(!t||l&16)&&Ve(r,n,s,s[4],t?We(n,s[4],l,null):Ge(s[4]),null),(!t||l&4)&&h(e,"id",s[2])},i(s){t||(_(r,s),t=!0)},o(s){v(r,s),t=!1},d(s){s&&y(e),r&&r.d(s)}}}function rpe(i){let e,t;const n=i[5].default,r=He(n,i,i[4],null);return{c(){e=A("h1"),r&&r.c(),h(e,"id",i[2])},m(s,l){w(s,e,l),r&&r.m(e,null),t=!0},p(s,l){r&&r.p&&(!t||l&16)&&Ve(r,n,s,s[4],t?We(n,s[4],l,null):Ge(s[4]),null),(!t||l&4)&&h(e,"id",s[2])},i(s){t||(_(r,s),t=!0)},o(s){v(r,s),t=!1},d(s){s&&y(e),r&&r.d(s)}}}function spe(i){let e,t,n,r;const s=[rpe,ipe,npe,tpe,epe,Qme,Jme],l=[];function o(a,u){return a[0]===1?0:a[0]===2?1:a[0]===3?2:a[0]===4?3:a[0]===5?4:a[0]===6?5:6}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=$e()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,[u]){let c=e;e=o(a),e===c?l[e].p(a,u):(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function lpe(i,e,t){let n,{$$slots:r={},$$scope:s}=e,{depth:l}=e,{raw:o}=e,{text:a}=e;const{slug:u,getOptions:c}=sr(PO),f=c();return i.$$set=d=>{"depth"in d&&t(0,l=d.depth),"raw"in d&&t(1,o=d.raw),"text"in d&&t(3,a=d.text),"$$scope"in d&&t(4,s=d.$$scope)},i.$$.update=()=>{i.$$.dirty&8&&t(2,n=f.headerIds?f.headerPrefix+u(a):void 0)},[l,o,n,a,s,r]}class ope extends ce{constructor(e){super(),ue(this,e,lpe,spe,le,{depth:0,raw:1,text:3})}}function ape(i){let e,t;const n=i[1].default,r=He(n,i,i[0],null);return{c(){e=A("p"),r&&r.c()},m(s,l){w(s,e,l),r&&r.m(e,null),t=!0},p(s,[l]){r&&r.p&&(!t||l&1)&&Ve(r,n,s,s[0],t?We(n,s[0],l,null):Ge(s[0]),null)},i(s){t||(_(r,s),t=!0)},o(s){v(r,s),t=!1},d(s){s&&y(e),r&&r.d(s)}}}function upe(i,e,t){let{$$slots:n={},$$scope:r}=e;return i.$$set=s=>{"$$scope"in s&&t(0,r=s.$$scope)},[r,n]}class cpe extends ce{constructor(e){super(),ue(this,e,upe,ape,le,{})}}function fpe(i){let e;const t=i[3].default,n=He(t,i,i[2],null);return{c(){n&&n.c()},m(r,s){n&&n.m(r,s),e=!0},p(r,[s]){n&&n.p&&(!e||s&4)&&Ve(n,t,r,r[2],e?We(t,r[2],s,null):Ge(r[2]),null)},i(r){e||(_(n,r),e=!0)},o(r){v(n,r),e=!1},d(r){n&&n.d(r)}}}function dpe(i,e,t){let{$$slots:n={},$$scope:r}=e,{text:s}=e,{raw:l}=e;return i.$$set=o=>{"text"in o&&t(0,s=o.text),"raw"in o&&t(1,l=o.raw),"$$scope"in o&&t(2,r=o.$$scope)},[s,l,r,n]}class hpe extends ce{constructor(e){super(),ue(this,e,dpe,fpe,le,{text:0,raw:1})}}function mpe(i){let e,t;return{c(){e=A("img"),Xi(e.src,t=i[0])||h(e,"src",t),h(e,"title",i[1]),h(e,"alt",i[2])},m(n,r){w(n,e,r)},p(n,[r]){r&1&&!Xi(e.src,t=n[0])&&h(e,"src",t),r&2&&h(e,"title",n[1]),r&4&&h(e,"alt",n[2])},i:W,o:W,d(n){n&&y(e)}}}function ppe(i,e,t){let{href:n=""}=e,{title:r=void 0}=e,{text:s=""}=e;return i.$$set=l=>{"href"in l&&t(0,n=l.href),"title"in l&&t(1,r=l.title),"text"in l&&t(2,s=l.text)},[n,r,s]}class _pe extends ce{constructor(e){super(),ue(this,e,ppe,mpe,le,{href:0,title:1,text:2})}}function gpe(i){let e,t;const n=i[3].default,r=He(n,i,i[2],null);return{c(){e=A("a"),r&&r.c(),h(e,"href",i[0]),h(e,"title",i[1])},m(s,l){w(s,e,l),r&&r.m(e,null),t=!0},p(s,[l]){r&&r.p&&(!t||l&4)&&Ve(r,n,s,s[2],t?We(n,s[2],l,null):Ge(s[2]),null),(!t||l&1)&&h(e,"href",s[0]),(!t||l&2)&&h(e,"title",s[1])},i(s){t||(_(r,s),t=!0)},o(s){v(r,s),t=!1},d(s){s&&y(e),r&&r.d(s)}}}function vpe(i,e,t){let{$$slots:n={},$$scope:r}=e,{href:s=""}=e,{title:l=void 0}=e;return i.$$set=o=>{"href"in o&&t(0,s=o.href),"title"in o&&t(1,l=o.title),"$$scope"in o&&t(2,r=o.$$scope)},[s,l,r,n]}class bpe extends ce{constructor(e){super(),ue(this,e,vpe,gpe,le,{href:0,title:1})}}function kpe(i){let e,t;const n=i[1].default,r=He(n,i,i[0],null);return{c(){e=A("em"),r&&r.c()},m(s,l){w(s,e,l),r&&r.m(e,null),t=!0},p(s,[l]){r&&r.p&&(!t||l&1)&&Ve(r,n,s,s[0],t?We(n,s[0],l,null):Ge(s[0]),null)},i(s){t||(_(r,s),t=!0)},o(s){v(r,s),t=!1},d(s){s&&y(e),r&&r.d(s)}}}function ype(i,e,t){let{$$slots:n={},$$scope:r}=e;return i.$$set=s=>{"$$scope"in s&&t(0,r=s.$$scope)},[r,n]}class wpe extends ce{constructor(e){super(),ue(this,e,ype,kpe,le,{})}}function $pe(i){let e,t;const n=i[1].default,r=He(n,i,i[0],null);return{c(){e=A("del"),r&&r.c()},m(s,l){w(s,e,l),r&&r.m(e,null),t=!0},p(s,[l]){r&&r.p&&(!t||l&1)&&Ve(r,n,s,s[0],t?We(n,s[0],l,null):Ge(s[0]),null)},i(s){t||(_(r,s),t=!0)},o(s){v(r,s),t=!1},d(s){s&&y(e),r&&r.d(s)}}}function Fpe(i,e,t){let{$$slots:n={},$$scope:r}=e;return i.$$set=s=>{"$$scope"in s&&t(0,r=s.$$scope)},[r,n]}class Epe extends ce{constructor(e){super(),ue(this,e,Fpe,$pe,le,{})}}function Dpe(i){let e,t=i[0].replace(/`/g,"")+"",n;return{c(){e=A("code"),n=Z(t)},m(r,s){w(r,e,s),E(e,n)},p(r,[s]){s&1&&t!==(t=r[0].replace(/`/g,"")+"")&&oe(n,t)},i:W,o:W,d(r){r&&y(e)}}}function Cpe(i,e,t){let{raw:n}=e;return i.$$set=r=>{"raw"in r&&t(0,n=r.raw)},[n]}class Spe extends ce{constructor(e){super(),ue(this,e,Cpe,Dpe,le,{raw:0})}}function Tpe(i){let e,t;const n=i[1].default,r=He(n,i,i[0],null);return{c(){e=A("strong"),r&&r.c()},m(s,l){w(s,e,l),r&&r.m(e,null),t=!0},p(s,[l]){r&&r.p&&(!t||l&1)&&Ve(r,n,s,s[0],t?We(n,s[0],l,null):Ge(s[0]),null)},i(s){t||(_(r,s),t=!0)},o(s){v(r,s),t=!1},d(s){s&&y(e),r&&r.d(s)}}}function Ape(i,e,t){let{$$slots:n={},$$scope:r}=e;return i.$$set=s=>{"$$scope"in s&&t(0,r=s.$$scope)},[r,n]}class Ppe extends ce{constructor(e){super(),ue(this,e,Ape,Tpe,le,{})}}function Npe(i){let e,t;const n=i[1].default,r=He(n,i,i[0],null);return{c(){e=A("table"),r&&r.c()},m(s,l){w(s,e,l),r&&r.m(e,null),t=!0},p(s,[l]){r&&r.p&&(!t||l&1)&&Ve(r,n,s,s[0],t?We(n,s[0],l,null):Ge(s[0]),null)},i(s){t||(_(r,s),t=!0)},o(s){v(r,s),t=!1},d(s){s&&y(e),r&&r.d(s)}}}function Mpe(i,e,t){let{$$slots:n={},$$scope:r}=e;return i.$$set=s=>{"$$scope"in s&&t(0,r=s.$$scope)},[r,n]}class Lpe extends ce{constructor(e){super(),ue(this,e,Mpe,Npe,le,{})}}function Ope(i){let e,t;const n=i[1].default,r=He(n,i,i[0],null);return{c(){e=A("thead"),r&&r.c()},m(s,l){w(s,e,l),r&&r.m(e,null),t=!0},p(s,[l]){r&&r.p&&(!t||l&1)&&Ve(r,n,s,s[0],t?We(n,s[0],l,null):Ge(s[0]),null)},i(s){t||(_(r,s),t=!0)},o(s){v(r,s),t=!1},d(s){s&&y(e),r&&r.d(s)}}}function Ipe(i,e,t){let{$$slots:n={},$$scope:r}=e;return i.$$set=s=>{"$$scope"in s&&t(0,r=s.$$scope)},[r,n]}class Bpe extends ce{constructor(e){super(),ue(this,e,Ipe,Ope,le,{})}}function zpe(i){let e,t;const n=i[1].default,r=He(n,i,i[0],null);return{c(){e=A("tbody"),r&&r.c()},m(s,l){w(s,e,l),r&&r.m(e,null),t=!0},p(s,[l]){r&&r.p&&(!t||l&1)&&Ve(r,n,s,s[0],t?We(n,s[0],l,null):Ge(s[0]),null)},i(s){t||(_(r,s),t=!0)},o(s){v(r,s),t=!1},d(s){s&&y(e),r&&r.d(s)}}}function Rpe(i,e,t){let{$$slots:n={},$$scope:r}=e;return i.$$set=s=>{"$$scope"in s&&t(0,r=s.$$scope)},[r,n]}class jpe extends ce{constructor(e){super(),ue(this,e,Rpe,zpe,le,{})}}function Ype(i){let e,t;const n=i[1].default,r=He(n,i,i[0],null);return{c(){e=A("tr"),r&&r.c()},m(s,l){w(s,e,l),r&&r.m(e,null),t=!0},p(s,[l]){r&&r.p&&(!t||l&1)&&Ve(r,n,s,s[0],t?We(n,s[0],l,null):Ge(s[0]),null)},i(s){t||(_(r,s),t=!0)},o(s){v(r,s),t=!1},d(s){s&&y(e),r&&r.d(s)}}}function Upe(i,e,t){let{$$slots:n={},$$scope:r}=e;return i.$$set=s=>{"$$scope"in s&&t(0,r=s.$$scope)},[r,n]}class qpe extends ce{constructor(e){super(),ue(this,e,Upe,Ype,le,{})}}function Hpe(i){let e,t;const n=i[3].default,r=He(n,i,i[2],null);return{c(){e=A("td"),r&&r.c(),h(e,"align",i[1])},m(s,l){w(s,e,l),r&&r.m(e,null),t=!0},p(s,l){r&&r.p&&(!t||l&4)&&Ve(r,n,s,s[2],t?We(n,s[2],l,null):Ge(s[2]),null),(!t||l&2)&&h(e,"align",s[1])},i(s){t||(_(r,s),t=!0)},o(s){v(r,s),t=!1},d(s){s&&y(e),r&&r.d(s)}}}function Wpe(i){let e,t;const n=i[3].default,r=He(n,i,i[2],null);return{c(){e=A("th"),r&&r.c(),h(e,"align",i[1])},m(s,l){w(s,e,l),r&&r.m(e,null),t=!0},p(s,l){r&&r.p&&(!t||l&4)&&Ve(r,n,s,s[2],t?We(n,s[2],l,null):Ge(s[2]),null),(!t||l&2)&&h(e,"align",s[1])},i(s){t||(_(r,s),t=!0)},o(s){v(r,s),t=!1},d(s){s&&y(e),r&&r.d(s)}}}function Vpe(i){let e,t,n,r;const s=[Wpe,Hpe],l=[];function o(a,u){return a[0]?0:1}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=$e()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,[u]){let c=e;e=o(a),e===c?l[e].p(a,u):(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function Gpe(i,e,t){let{$$slots:n={},$$scope:r}=e,{header:s}=e,{align:l}=e;return i.$$set=o=>{"header"in o&&t(0,s=o.header),"align"in o&&t(1,l=o.align),"$$scope"in o&&t(2,r=o.$$scope)},[s,l,r,n]}class Zpe extends ce{constructor(e){super(),ue(this,e,Gpe,Vpe,le,{header:0,align:1})}}function xpe(i){let e,t;const n=i[3].default,r=He(n,i,i[2],null);return{c(){e=A("ul"),r&&r.c()},m(s,l){w(s,e,l),r&&r.m(e,null),t=!0},p(s,l){r&&r.p&&(!t||l&4)&&Ve(r,n,s,s[2],t?We(n,s[2],l,null):Ge(s[2]),null)},i(s){t||(_(r,s),t=!0)},o(s){v(r,s),t=!1},d(s){s&&y(e),r&&r.d(s)}}}function Xpe(i){let e,t;const n=i[3].default,r=He(n,i,i[2],null);return{c(){e=A("ol"),r&&r.c(),h(e,"start",i[1])},m(s,l){w(s,e,l),r&&r.m(e,null),t=!0},p(s,l){r&&r.p&&(!t||l&4)&&Ve(r,n,s,s[2],t?We(n,s[2],l,null):Ge(s[2]),null),(!t||l&2)&&h(e,"start",s[1])},i(s){t||(_(r,s),t=!0)},o(s){v(r,s),t=!1},d(s){s&&y(e),r&&r.d(s)}}}function Kpe(i){let e,t,n,r;const s=[Xpe,xpe],l=[];function o(a,u){return a[0]?0:1}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=$e()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,[u]){let c=e;e=o(a),e===c?l[e].p(a,u):(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function Jpe(i,e,t){let{$$slots:n={},$$scope:r}=e,{ordered:s}=e,{start:l}=e;return i.$$set=o=>{"ordered"in o&&t(0,s=o.ordered),"start"in o&&t(1,l=o.start),"$$scope"in o&&t(2,r=o.$$scope)},[s,l,r,n]}class Qpe extends ce{constructor(e){super(),ue(this,e,Jpe,Kpe,le,{ordered:0,start:1})}}function e_e(i){let e,t;const n=i[1].default,r=He(n,i,i[0],null);return{c(){e=A("li"),r&&r.c()},m(s,l){w(s,e,l),r&&r.m(e,null),t=!0},p(s,[l]){r&&r.p&&(!t||l&1)&&Ve(r,n,s,s[0],t?We(n,s[0],l,null):Ge(s[0]),null)},i(s){t||(_(r,s),t=!0)},o(s){v(r,s),t=!1},d(s){s&&y(e),r&&r.d(s)}}}function t_e(i,e,t){let{$$slots:n={},$$scope:r}=e;return i.$$set=s=>{"$$scope"in s&&t(0,r=s.$$scope)},[r,n]}class n_e extends ce{constructor(e){super(),ue(this,e,t_e,e_e,le,{})}}function i_e(i){let e;return{c(){e=A("hr")},m(t,n){w(t,e,n)},p:W,i:W,o:W,d(t){t&&y(e)}}}class r_e extends ce{constructor(e){super(),ue(this,e,null,i_e,le,{})}}function s_e(i){let e,t;return{c(){e=new yj(!1),t=$e(),e.a=t},m(n,r){e.m(i[0],n,r),w(n,t,r)},p(n,[r]){r&1&&e.p(n[0])},i:W,o:W,d(n){n&&y(t),n&&e.d()}}}function l_e(i,e,t){let{text:n}=e;return i.$$set=r=>{"text"in r&&t(0,n=r.text)},[n]}class o_e extends ce{constructor(e){super(),ue(this,e,l_e,s_e,le,{text:0})}}function a_e(i){let e,t;const n=i[1].default,r=He(n,i,i[0],null);return{c(){e=A("blockquote"),r&&r.c()},m(s,l){w(s,e,l),r&&r.m(e,null),t=!0},p(s,[l]){r&&r.p&&(!t||l&1)&&Ve(r,n,s,s[0],t?We(n,s[0],l,null):Ge(s[0]),null)},i(s){t||(_(r,s),t=!0)},o(s){v(r,s),t=!1},d(s){s&&y(e),r&&r.d(s)}}}function u_e(i,e,t){let{$$slots:n={},$$scope:r}=e;return i.$$set=s=>{"$$scope"in s&&t(0,r=s.$$scope)},[r,n]}class c_e extends ce{constructor(e){super(),ue(this,e,u_e,a_e,le,{})}}function f_e(i){let e,t,n;return{c(){e=A("pre"),t=A("code"),n=Z(i[1]),h(e,"class",i[0])},m(r,s){w(r,e,s),E(e,t),E(t,n)},p(r,[s]){s&2&&oe(n,r[1]),s&1&&h(e,"class",r[0])},i:W,o:W,d(r){r&&y(e)}}}function d_e(i,e,t){let{lang:n}=e,{text:r}=e;return i.$$set=s=>{"lang"in s&&t(0,n=s.lang),"text"in s&&t(1,r=s.text)},[n,r]}class h_e extends ce{constructor(e){super(),ue(this,e,d_e,f_e,le,{lang:0,text:1})}}function m_e(i){let e,t;const n=i[1].default,r=He(n,i,i[0],null);return{c(){e=A("br"),r&&r.c()},m(s,l){w(s,e,l),r&&r.m(s,l),t=!0},p(s,[l]){r&&r.p&&(!t||l&1)&&Ve(r,n,s,s[0],t?We(n,s[0],l,null):Ge(s[0]),null)},i(s){t||(_(r,s),t=!0)},o(s){v(r,s),t=!1},d(s){s&&y(e),r&&r.d(s)}}}function p_e(i,e,t){let{$$slots:n={},$$scope:r}=e;return i.$$set=s=>{"$$scope"in s&&t(0,r=s.$$scope)},[r,n]}class __e extends ce{constructor(e){super(),ue(this,e,p_e,m_e,le,{})}}const g_e={heading:ope,paragraph:cpe,text:hpe,image:_pe,link:bpe,em:wpe,strong:Ppe,codespan:Spe,del:Epe,table:Lpe,tablehead:Bpe,tablebody:jpe,tablerow:qpe,tablecell:Zpe,list:Qpe,orderedlistitem:null,unorderedlistitem:null,listitem:n_e,hr:r_e,html:o_e,blockquote:c_e,code:h_e,br:__e},v_e={baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,xhtml:!1};function b_e(i){let e,t;return e=new su({props:{tokens:i[0],renderers:i[1]}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&1&&(s.tokens=n[0]),r&2&&(s.renderers=n[1]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function k_e(i,e,t){let n,r,s,l,{source:o=[]}=e,{renderers:a={}}=e,{options:u={}}=e,{isInline:c=!1}=e;const f=Dt();let d,m,p;return Ts(PO,{slug:g=>r?r.slug(g):"",getOptions:()=>s}),wt(()=>{t(7,p=!0)}),i.$$set=g=>{"source"in g&&t(2,o=g.source),"renderers"in g&&t(3,a=g.renderers),"options"in g&&t(4,u=g.options),"isInline"in g&&t(5,c=g.isInline)},i.$$.update=()=>{i.$$.dirty&4&&t(8,n=Array.isArray(o)),i.$$.dirty&4&&(r=o?new xv:void 0),i.$$.dirty&16&&t(9,s={...v_e,...u}),i.$$.dirty&869&&(n?t(0,d=o):(t(6,m=new ml(s)),t(0,d=c?m.inlineTokens(o):m.lex(o)),f("parsed",{tokens:d}))),i.$$.dirty&8&&t(1,l={...g_e,...a}),i.$$.dirty&385&&p&&!n&&f("parsed",{tokens:d})},[d,l,o,a,u,c,m,p,n,s]}class Xv extends ce{constructor(e){super(),ue(this,e,k_e,b_e,le,{source:2,renderers:3,options:4,isInline:5})}}tM();const y_e=["\u{1F602}","\u2764\uFE0F","\u{1F973}","\u{1F366}","\u{1F31E}","\u{1F379}","\u{1F3B1}","\u{1F60E}","\u{1F96B}","\u{1F372}","\u{1F369}","\u{1F415}","\u{1F335}","\u{1F4D7}","\u{1F3C8}","\u{1F338}"],NO=()=>ht.random(y_e);function gF(i,e,t){const n=i.slice();return n[16]=e[t],n}function w_e(i){let e,t;return e=new Ft({props:{solo:!0,outside:!0,className:"mb-4",$$slots:{default:[T_e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&524301&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function $_e(i){let e,t;return e=new Ft({props:{solo:!0,className:"mt-4",$$slots:{default:[O_e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&524292&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function F_e(i){let e;return{c(){e=Z("Load")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function E_e(i){let e,t;return e=new Me({props:{primary:!0,disabled:!jn,$$slots:{default:[F_e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&524288&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function vF(i){let e,t;return e=new xe({props:{clickable:!0,disabled:!jn.url(i[0])||i[3],$$slots:{default:[S_e]},$$scope:{ctx:i}}}),e.$on("click",i[6]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&9&&(s.disabled=!jn.url(n[0])||n[3]),r&524296&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function D_e(i){let e;return{c(){e=A("span"),e.textContent="Load Plugin"},m(t,n){w(t,e,n)},i:W,o:W,d(t){t&&y(e)}}}function C_e(i){let e,t,n,r;return e=new Mn({props:{size:20}}),{c(){O(e.$$.fragment),t=Y(),n=A("span"),n.textContent="Loading Plugin..."},m(s,l){N(e,s,l),w(s,t,l),w(s,n,l),r=!0},i(s){r||(_(e.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),r=!1},d(s){M(e,s),s&&y(t),s&&y(n)}}}function S_e(i){let e,t,n,r;const s=[C_e,D_e],l=[];function o(a,u){return a[3]?0:1}return t=o(i),n=l[t]=s[t](i),{c(){e=A("div"),n.c(),h(e,"class","text-primary w-full flex items-center justify-center text-center space-x-2")},m(a,u){w(a,e,u),l[t].m(e,null),r=!0},p(a,u){let c=t;t=o(a),t!==c&&(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),n=l[t],n||(n=l[t]=s[t](a),n.c()),_(n,1),n.m(e,null))},i(a){r||(_(n),r=!0)},o(a){v(n),r=!1},d(a){a&&y(e),l[t].d()}}}function T_e(i){let e,t,n,r,s,l,o;function a(f){i[13](f)}let u={autocorrect:!1,autocapitalize:!1,label:"Plugin URL",placeholder:"https://url-to-plugin",help:"Full url to the plugin",type:"url",listItem:!0,$$slots:{default:[E_e]},$$scope:{ctx:i}};i[0]!==void 0&&(u.value=i[0]),e=new fn({props:u}),De.push(()=>Ue(e,"value",a,i[0])),r=new Tn({props:{left:16}});let c=!i[2].name&&vF(i);return{c(){O(e.$$.fragment),n=Y(),O(r.$$.fragment),s=Y(),c&&c.c(),l=$e()},m(f,d){N(e,f,d),w(f,n,d),N(r,f,d),w(f,s,d),c&&c.m(f,d),w(f,l,d),o=!0},p(f,d){const m={};d&524288&&(m.$$scope={dirty:d,ctx:f}),!t&&d&1&&(t=!0,m.value=f[0],qe(()=>t=!1)),e.$set(m),f[2].name?c&&(ie(),v(c,1,1,()=>{c=null}),re()):c?(c.p(f,d),d&4&&_(c,1)):(c=vF(f),c.c(),_(c,1),c.m(l.parentNode,l))},i(f){o||(_(e.$$.fragment,f),_(r.$$.fragment,f),_(c),o=!0)},o(f){v(e.$$.fragment,f),v(r.$$.fragment,f),v(c),o=!1},d(f){M(e,f),f&&y(n),M(r,f),f&&y(s),c&&c.d(f),f&&y(l)}}}function A_e(i){let e,t,n,r=i[2].name+"",s,l,o,a,u,c,f=i[2].version+"",d,m;return e=new Si({props:{emoji:i[2].emoji,size:32}}),{c(){O(e.$$.fragment),t=Y(),n=A("span"),s=Z(r),l=Y(),o=A("div"),a=Y(),u=A("span"),c=Z("v"),d=Z(f),h(n,"class","leading-tight"),h(o,"class","filler"),h(u,"class","faded-badge stiff")},m(p,g){N(e,p,g),w(p,t,g),w(p,n,g),E(n,s),w(p,l,g),w(p,o,g),w(p,a,g),w(p,u,g),E(u,c),E(u,d),m=!0},p(p,g){const k={};g&4&&(k.emoji=p[2].emoji),e.$set(k),(!m||g&4)&&r!==(r=p[2].name+"")&&oe(s,r),(!m||g&4)&&f!==(f=p[2].version+"")&&oe(d,f)},i(p){m||(_(e.$$.fragment,p),m=!0)},o(p){v(e.$$.fragment,p),m=!1},d(p){M(e,p),p&&y(t),p&&y(n),p&&y(l),p&&y(o),p&&y(a),p&&y(u)}}}function P_e(i){let e,t,n,r;return e=new Yr({props:{className:"flex items-center space-x-2 mb-2",$$slots:{default:[A_e]},$$scope:{ctx:i}}}),n=new Xv({props:{source:i[2].description}}),{c(){O(e.$$.fragment),t=Y(),O(n.$$.fragment)},m(s,l){N(e,s,l),w(s,t,l),N(n,s,l),r=!0},p(s,l){const o={};l&524292&&(o.$$scope={dirty:l,ctx:s}),e.$set(o);const a={};l&4&&(a.source=s[2].description),n.$set(a)},i(s){r||(_(e.$$.fragment,s),_(n.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(n.$$.fragment,s),r=!1},d(s){M(e,s),s&&y(t),M(n,s)}}}function bF(i){let e,t=i[16]+"",n;return{c(){e=A("div"),n=Z(t),h(e,"class","faded-badge text-center")},m(r,s){w(r,e,s),E(e,n)},p(r,s){s&4&&t!==(t=r[16]+"")&&oe(n,t)},d(r){r&&y(e)}}}function kF(i){let e;return{c(){e=A("div"),e.textContent="menu item",h(e,"class","faded-badge text-center")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function yF(i){let e;return{c(){e=A("div"),e.textContent="widget",h(e,"class","faded-badge text-center")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function N_e(i){let e,t,n,r=i[2].uses,s=[];for(let a=0;a<r.length;a+=1)s[a]=bF(gF(i,r,a));let l=i[2].addToCaptureMenu&&kF(),o=i[2].addToWidgets&&yF();return{c(){e=A("div");for(let a=0;a<s.length;a+=1)s[a].c();t=Y(),l&&l.c(),n=Y(),o&&o.c(),h(e,"class","text-xs grid grid-cols-3 lg:grid-cols-5 gap-1")},m(a,u){w(a,e,u);for(let c=0;c<s.length;c+=1)s[c].m(e,null);E(e,t),l&&l.m(e,null),E(e,n),o&&o.m(e,null)},p(a,u){if(u&4){r=a[2].uses;let c;for(c=0;c<r.length;c+=1){const f=gF(a,r,c);s[c]?s[c].p(f,u):(s[c]=bF(f),s[c].c(),s[c].m(e,t))}for(;c<s.length;c+=1)s[c].d(1);s.length=r.length}a[2].addToCaptureMenu?l||(l=kF(),l.c(),l.m(e,n)):l&&(l.d(1),l=null),a[2].addToWidgets?o||(o=yF(),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},d(a){a&&y(e),it(s,a),l&&l.d(),o&&o.d()}}}function M_e(i){let e;return{c(){e=A("div"),e.textContent="Install Plugin",h(e,"class","text-primary w-full text-center")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function L_e(i){let e;return{c(){e=A("div"),e.textContent="Cancel",h(e,"class","text-red-500 w-full text-center")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function O_e(i){let e,t,n,r,s,l,o,a;return e=new xe({props:{bottomLine:78,$$slots:{default:[P_e]},$$scope:{ctx:i}}}),n=new xe({props:{bottomLine:1,$$slots:{default:[N_e]},$$scope:{ctx:i}}}),s=new xe({props:{bottomLine:1,$$slots:{default:[M_e]},$$scope:{ctx:i}}}),s.$on("click",i[7]),o=new xe({props:{$$slots:{default:[L_e]},$$scope:{ctx:i}}}),o.$on("click",i[12]),{c(){O(e.$$.fragment),t=Y(),O(n.$$.fragment),r=Y(),O(s.$$.fragment),l=Y(),O(o.$$.fragment)},m(u,c){N(e,u,c),w(u,t,c),N(n,u,c),w(u,r,c),N(s,u,c),w(u,l,c),N(o,u,c),a=!0},p(u,c){const f={};c&524292&&(f.$$scope={dirty:c,ctx:u}),e.$set(f);const d={};c&524292&&(d.$$scope={dirty:c,ctx:u}),n.$set(d);const m={};c&524288&&(m.$$scope={dirty:c,ctx:u}),s.$set(m);const p={};c&524288&&(p.$$scope={dirty:c,ctx:u}),o.$set(p)},i(u){a||(_(e.$$.fragment,u),_(n.$$.fragment,u),_(s.$$.fragment,u),_(o.$$.fragment,u),a=!0)},o(u){v(e.$$.fragment,u),v(n.$$.fragment,u),v(s.$$.fragment,u),v(o.$$.fragment,u),a=!1},d(u){M(e,u),u&&y(t),M(n,u),u&&y(r),M(s,u),u&&y(l),M(o,u)}}}function wF(i){let e,t,n,r,s;return{c(){e=A("iframe"),h(e,"class","h-0 w-0"),Xi(e.src,t=i[0])||h(e,"src",t),h(e,"title","plugin iframe"),h(e,"id",n=`plugin-${i[1]}`)},m(l,o){w(l,e,o),r||(s=[ke(e,"error",i[8]),ke(e,"load",i[9])],r=!0)},p(l,o){o&1&&!Xi(e.src,t=l[0])&&h(e,"src",t),o&2&&n!==(n=`plugin-${l[1]}`)&&h(e,"id",n)},d(l){l&&y(e),r=!1,pt(s)}}}function I_e(i){let e,t,n,r,s;const l=[$_e,w_e],o=[];function a(c,f){return c[4]&&c[2]&&c[2].name?0:1}e=a(i),t=o[e]=l[e](i);let u=i[5]&&wF(i);return{c(){t.c(),n=Y(),u&&u.c(),r=$e()},m(c,f){o[e].m(c,f),w(c,n,f),u&&u.m(c,f),w(c,r,f),s=!0},p(c,[f]){let d=e;e=a(c),e===d?o[e].p(c,f):(ie(),v(o[d],1,1,()=>{o[d]=null}),re(),t=o[e],t?t.p(c,f):(t=o[e]=l[e](c),t.c()),_(t,1),t.m(n.parentNode,n)),c[5]?u?u.p(c,f):(u=wF(c),u.c(),u.m(r.parentNode,r)):u&&(u.d(1),u=null)},i(c){s||(_(t),s=!0)},o(c){v(t),s=!1},d(c){o[e].d(c),c&&y(n),u&&u.d(c),c&&y(r)}}}function B_e(i,e,t){let{url:n}=e,r,s={},l=!1,o,a=!1;const u=(F=!1)=>{F&&t(0,n=""),t(5,c=!1),t(2,s={}),t(4,a=!1)};let c=!1;const f=F=>{if(F.data.action==="register"){let C=F.data.data;C&&(t(2,s={...s,...C}),t(2,s.description=C.description,s),t(2,s.emoji=C.emoji||NO(),s),t(2,s.name=C.name,s),t(2,s.addToCaptureMenu=C.addToCaptureMenu,s),t(2,s.version=C.version,s),t(2,s.uses=C.uses||[],s));const S=new N1(s);Zs({action:"registered",data:S})}},d=async()=>{t(3,l=!0),t(5,c=!1),await Et(100),t(5,c=!0),await Et(500),t(4,a=!0)};wt(()=>{window.addEventListener("message",f),console.log("Plugin installer mounted",n),n&&jn.url(n)&&d()});const m=async()=>{const F=new N1(s);Vl(`in-plugin-${F.url}`),F.name&&(Er.upsert(F),await Xe.confirm(`Enabled ${F.name}?`,`${F.name} was installed successfully. Would you like to enabled it now?`)&&(F.active=!0,await Er.upsert(F),un({message:`${F.name} enabled`})),k("installed"),u(!0))},p=F=>{Xe.error(`${F}`)},g=async()=>{await Et(500),t(3,l=!1),s.name||Xe.error("Unable to load that Plugin. Check its URL and try again.")},k=Dt(),$=()=>{k("cancel")};function D(F){n=F,t(0,n)}return i.$$set=F=>{"url"in F&&t(0,n=F.url)},i.$$.update=()=>{i.$$.dirty&2051&&n&&n!==o&&jn.url(n)&&(t(11,o=n),t(1,r=pn(n)),t(2,s.id=r,s),t(2,s.url=n,s),t(2,s.name=void 0,s),t(5,c=!1))},[n,r,s,l,a,c,d,m,p,g,k,o,$,D]}class MO extends ce{constructor(e){super(),ue(this,e,B_e,I_e,le,{url:0})}}function $F(i){let e,t,n=new URL(i[1]).origin+"",r;return{c(){e=A("p"),t=Z("Source: "),r=Z(n),h(e,"class","text-xs text-black dark:text-white mt-2 text-center")},m(s,l){w(s,e,l),E(e,t),E(e,r)},p(s,l){l&2&&n!==(n=new URL(s[1]).origin+"")&&oe(r,n)},d(s){s&&y(e)}}}function z_e(i){let e,t,n,r,s,l,o;e=new MO({props:{url:i[1]}}),e.$on("cancel",i[3]),e.$on("installed",i[4]);let a=i[1]&&$F(i);return{c(){O(e.$$.fragment),t=Y(),n=A("p"),n.textContent=`Plugins are externally hosted websites that can communicate back and forth with Nomie. Plugins are responsible for
    their own privacy policy.`,r=Y(),a&&a.c(),s=Y(),l=A("p"),l.textContent="Only install plugins from sources that you trust.",h(n,"class","text-description text-xs text-center mt-4"),h(l,"class","text-xs text-red-500 mt-2 text-center")},m(u,c){N(e,u,c),w(u,t,c),w(u,n,c),w(u,r,c),a&&a.m(u,c),w(u,s,c),w(u,l,c),o=!0},p(u,c){const f={};c&2&&(f.url=u[1]),e.$set(f),u[1]?a?a.p(u,c):(a=$F(u),a.c(),a.m(s.parentNode,s)):a&&(a.d(1),a=null)},i(u){o||(_(e.$$.fragment,u),o=!0)},o(u){v(e.$$.fragment,u),o=!1},d(u){M(e,u),u&&y(t),u&&y(n),u&&y(r),a&&a.d(u),u&&y(s),u&&y(l)}}}function R_e(i){let e;return{c(){e=Z("Install a Plugin")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function j_e(i){let e,t;return e=new Yr({props:{$$slots:{default:[R_e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&32&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Y_e(i){let e,t;return e=new dme({props:{slot:"left"}}),e.$on("click",i[2]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function U_e(i){let e,t;return e=new Jt({props:{slot:"header",$$slots:{left:[Y_e],default:[j_e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&33&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function q_e(i){let e,t;return e=new _n({props:{mainClass:"px-4 py-4",$$slots:{header:[U_e],default:[z_e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&35&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function H_e(i,e,t){let{id:n}=e,{url:r}=e;const s=()=>{Et(10).then(()=>{Ot(n)})},l=()=>{zF()},o=()=>{zF()};return i.$$set=a=>{"id"in a&&t(0,n=a.id),"url"in a&&t(1,r=a.url)},[n,r,s,l,o]}class W_e extends ce{constructor(e){super(),ue(this,e,H_e,q_e,le,{id:0,url:1})}}function V_e(i){let e,t,n,r,s,l;return{c(){e=A("iframe"),h(e,"class","h-full w-full "),h(e,"title",t=i[0].name),Xi(e.src,n=i[0].urlWithParams)||h(e,"src",n),h(e,"id",r="plugin-"+i[1]+"-"+i[0].id)},m(o,a){w(o,e,a),s||(l=[ke(e,"error",i[7]),ke(e,"load",i[8])],s=!0)},p(o,[a]){a&1&&t!==(t=o[0].name)&&h(e,"title",t),a&1&&!Xi(e.src,n=o[0].urlWithParams)&&h(e,"src",n),a&3&&r!==(r="plugin-"+o[1]+"-"+o[0].id)&&h(e,"id",r)},i:W,o:W,d(o){o&&y(e),s=!1,pt(l)}}}function G_e(i,e,t){let n;Ee(i,St,m=>t(9,n=m));let{plugin:r}=e,{openAction:s="onUIOpened"}=e,{lid:l}=e,o=!1,a=!1,u=!1;const c=async()=>{o||(await Et(200),Zs({action:"registered",data:{...r,lid:l,user:{use24Hour:n.use24hour,useMetric:n.useMetric,useLocation:n.alwaysLocate,weekStarts:n.weekStarts,theme:n.theme,language:n.language}}},r.id,l),setTimeout(()=>{t(4,o=!0)},200))};wt(()=>{t(6,u=!0)});const f=m=>{console.error({e:m}),r.hasError(`${m}`)},d=m=>{c()};return i.$$set=m=>{"plugin"in m&&t(0,r=m.plugin),"openAction"in m&&t(3,s=m.openAction),"lid"in m&&t(1,l=m.lid)},i.$$.update=()=>{i.$$.dirty&123&&o&&!a&&u&&(t(5,a=!0),Zs({action:s,data:{}},r.id,l))},[r,l,c,s,o,a,u,f,d]}class Kv extends ce{constructor(e){super(),ue(this,e,G_e,V_e,le,{plugin:0,openAction:3,lid:1})}}function Z_e(i){let e,t;return e=new Kv({props:{lid:"modal",openAction:"onUIOpened",plugin:i[0]}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.plugin=n[0]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function x_e(i){let e=i[0].name+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p(n,r){r&1&&e!==(e=n[0].name+"")&&oe(t,e)},d(n){n&&y(t)}}}function X_e(i){let e,t;return e=new Yr({props:{$$slots:{default:[x_e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&9&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function K_e(i){let e;return{c(){e=Z("Exit")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function J_e(i){let e,t;return e=new Me({props:{clear:!0,primary:!0,slot:"left",$$slots:{default:[K_e]},$$scope:{ctx:i}}}),e.$on("click",i[2]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&8&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Q_e(i){let e,t;return e=new Jt({props:{slot:"header",$$slots:{left:[J_e],default:[X_e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&11&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function ege(i){let e,t;return e=new _n({props:{$$slots:{header:[Q_e],default:[Z_e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&11&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function tge(i,e,t){let{plugin:n}=e,{id:r}=e;const s=()=>{Et(10).then(()=>{Ot(r)})};return i.$$set=l=>{"plugin"in l&&t(0,n=l.plugin),"id"in l&&t(1,r=l.id)},[n,r,s]}class nge extends ce{constructor(e){super(),ue(this,e,tge,ege,le,{plugin:0,id:1})}}function ige(i){let e,t,n,r,s,l;return{c(){e=me("svg"),t=me("title"),n=Z("Add"),r=me("path"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(r,"d","M256 112v288M400 256H112"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),E(e,t),E(t,n),E(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:W,o:W,d(o){o&&y(e)}}}function rge(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class sge extends ce{constructor(e){super(),ue(this,e,rge,ige,le,{size:0})}}function FF(i){let e,t;return{c(){e=A("div"),t=Z(i[2]),h(e,"class","emoji")},m(n,r){w(n,e,r),E(e,t)},p(n,r){r&4&&oe(t,n[2])},d(n){n&&y(e)}}}function EF(i){let e,t;return{c(){e=A("div"),t=Z(i[0]),h(e,"class","label")},m(n,r){w(n,e,r),E(e,t)},p(n,r){r&1&&oe(t,n[0])},d(n){n&&y(e)}}}function DF(i){let e,t;return{c(){e=A("div"),t=Z(i[1]),h(e,"class","value")},m(n,r){w(n,e,r),E(e,t)},p(n,r){r&2&&oe(t,n[1])},d(n){n&&y(e)}}}function lge(i){let e,t,n,r,s,l,o,a,u=i[2]&&FF(i),c=i[0]&&EF(i),f=i[1]&&i[1]!==1&&DF(i);const d=i[9].default,m=He(d,i,i[8],null);return{c(){e=A("div"),u&&u.c(),t=Y(),c&&c.c(),n=Y(),f&&f.c(),r=Y(),m&&m.c(),h(e,"class",s="n-tag-badge badge badge-sm "+i[3]),h(e,"style",i[5]),Je(e,"pad",i[4])},m(p,g){w(p,e,g),u&&u.m(e,null),E(e,t),c&&c.m(e,null),E(e,n),f&&f.m(e,null),E(e,r),m&&m.m(e,null),l=!0,o||(a=ke(e,"click",i[10]),o=!0)},p(p,[g]){p[2]?u?u.p(p,g):(u=FF(p),u.c(),u.m(e,t)):u&&(u.d(1),u=null),p[0]?c?c.p(p,g):(c=EF(p),c.c(),c.m(e,n)):c&&(c.d(1),c=null),p[1]&&p[1]!==1?f?f.p(p,g):(f=DF(p),f.c(),f.m(e,r)):f&&(f.d(1),f=null),m&&m.p&&(!l||g&256)&&Ve(m,d,p,p[8],l?We(d,p[8],g,null):Ge(p[8]),null),(!l||g&8&&s!==(s="n-tag-badge badge badge-sm "+p[3]))&&h(e,"class",s),(!l||g&32)&&h(e,"style",p[5]),(!l||g&24)&&Je(e,"pad",p[4])},i(p){l||(_(m,p),l=!0)},o(p){v(m,p),l=!1},d(p){p&&y(e),u&&u.d(),c&&c.d(),f&&f.d(),m&&m.d(p),o=!1,a()}}}function oge(i,e,t){let{$$slots:n={},$$scope:r}=e,{label:s=void 0}=e,{value:l=void 0}=e,{emoji:o=void 0}=e,{className:a="light"}=e,{pad:u=!1}=e,{style:c=""}=e,{ballStyle:f=""}=e;const d=Dt(),m=p=>{d("click",p)};return i.$$set=p=>{"label"in p&&t(0,s=p.label),"value"in p&&t(1,l=p.value),"emoji"in p&&t(2,o=p.emoji),"className"in p&&t(3,a=p.className),"pad"in p&&t(4,u=p.pad),"style"in p&&t(5,c=p.style),"ballStyle"in p&&t(7,f=p.ballStyle),"$$scope"in p&&t(8,r=p.$$scope)},[s,l,o,a,u,c,d,f,r,n,m]}class lu extends ce{constructor(e){super(),ue(this,e,oge,lge,le,{label:0,value:1,emoji:2,className:3,pad:4,style:5,ballStyle:7})}}function CF(i,e,t){const n=i.slice();return n[20]=e[t],n}function SF(i,e,t){const n=i.slice();return n[20]=e[t],n}function TF(i){let e,t,n;function r(l){i[13](l)}let s={};return i[4]!==void 0&&(s.url=i[4]),e=new MO({props:s}),De.push(()=>Ue(e,"url",r,i[4])),e.$on("cancel",i[14]),{c(){O(e.$$.fragment)},m(l,o){N(e,l,o),n=!0},p(l,o){const a={};!t&&o&16&&(t=!0,a.url=l[4],qe(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){M(e,l)}}}function age(i){let e,t;return e=new Ft({props:{solo:!0,outside:!0,title:"Official Plugins",$$slots:{default:[mge]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&33554468&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function uge(i){let e,t,n,r;e=new Ft({props:{solo:!0,outside:!0,title:i[5].length>0?_e.t("plugins.my-plugins","Installed Plugins"):"",$$slots:{"header-right":[$ge],default:[bge]},$$scope:{ctx:i}}});let s=i[5].length===0&&IF(i);return{c(){O(e.$$.fragment),t=Y(),s&&s.c(),n=$e()},m(l,o){N(e,l,o),w(l,t,o),s&&s.m(l,o),w(l,n,o),r=!0},p(l,o){const a={};o&32&&(a.title=l[5].length>0?_e.t("plugins.my-plugins","Installed Plugins"):""),o&33554472&&(a.$$scope={dirty:o,ctx:l}),e.$set(a),l[5].length===0?s?(s.p(l,o),o&32&&_(s,1)):(s=IF(l),s.c(),_(s,1),s.m(n.parentNode,n)):s&&(ie(),v(s,1,1,()=>{s=null}),re())},i(l){r||(_(e.$$.fragment,l),_(s),r=!0)},o(l){v(e.$$.fragment,l),v(s),r=!1},d(l){M(e,l),l&&y(t),s&&s.d(l),l&&y(n)}}}function cge(i){let e=i[20].name+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p(n,r){r&4&&e!==(e=n[20].name+"")&&oe(t,e)},d(n){n&&y(t)}}}function AF(i){let e,t;return e=new lu({props:{pad:!0,className:"bg-green-500 text-white",$$slots:{default:[fge]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function fge(i){let e;return{c(){e=Z("Installed")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function dge(i){let e,t,n,r=i[5].find(p),s,l=i[20].description+"",o,a,u,c=new URL(i[20].url).origin+"",f,d,m;function p(...k){return i[11](i[20],...k)}e=new Yr({props:{$$slots:{default:[cge]},$$scope:{ctx:i}}});let g=r&&AF(i);return{c(){O(e.$$.fragment),t=Y(),n=A("div"),g&&g.c(),s=Y(),o=Z(l),a=Y(),u=A("div"),f=Z(c),d=Y(),h(n,"class","description"),h(u,"class","lineclamp-1 text-xs text-green-500")},m(k,$){N(e,k,$),w(k,t,$),w(k,n,$),g&&g.m(n,null),E(n,s),E(n,o),w(k,a,$),w(k,u,$),E(u,f),w(k,d,$),m=!0},p(k,$){i=k;const D={};$&33554436&&(D.$$scope={dirty:$,ctx:i}),e.$set(D),$&36&&(r=i[5].find(p)),r?g?$&36&&_(g,1):(g=AF(i),g.c(),_(g,1),g.m(n,s)):g&&(ie(),v(g,1,1,()=>{g=null}),re()),(!m||$&4)&&l!==(l=i[20].description+"")&&oe(o,l),(!m||$&4)&&c!==(c=new URL(i[20].url).origin+"")&&oe(f,c)},i(k){m||(_(e.$$.fragment,k),_(g),m=!0)},o(k){v(e.$$.fragment,k),v(g),m=!1},d(k){M(e,k),k&&y(t),k&&y(n),g&&g.d(),k&&y(a),k&&y(u),k&&y(d)}}}function hge(i){let e,t;return e=new Si({props:{size:50,emoji:i[20].emoji,slot:"left"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&4&&(s.emoji=n[20].emoji),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function PF(i){let e,t;function n(...s){return i[18](i[20],...s)}function r(){return i[19](i[20])}return e=new xe({props:{disabled:i[5].find(n),bottomLine:72,detail:!0,$$slots:{left:[hge],default:[dge]},$$scope:{ctx:i}}}),e.$on("click",r),{c(){O(e.$$.fragment)},m(s,l){N(e,s,l),t=!0},p(s,l){i=s;const o={};l&36&&(o.disabled=i[5].find(n)),l&33554468&&(o.$$scope={dirty:l,ctx:i}),e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){v(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function mge(i){let e,t,n=i[2],r=[];for(let l=0;l<n.length;l+=1)r[l]=PF(CF(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=$e()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o&1060){n=l[2];let a;for(a=0;a<n.length;a+=1){const u=CF(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=PF(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ie(),a=n.length;a<r.length;a+=1)s(a);re()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){it(r,l),l&&y(e)}}}function pge(i){let e,t=i[20].name+"",n,r,s,l=i[20].version+"",o;return{c(){e=A("span"),n=Z(t),r=Y(),s=A("div"),o=Z(l),h(s,"class","faded-badge")},m(a,u){w(a,e,u),E(e,n),w(a,r,u),w(a,s,u),E(s,o)},p(a,u){u&32&&t!==(t=a[20].name+"")&&oe(n,t),u&32&&l!==(l=a[20].version+"")&&oe(o,l)},d(a){a&&y(e),a&&y(r),a&&y(s)}}}function _ge(i){let e,t,n,r,s,l,o,a=i[20].description+"",u,c,f,d=i[9](i[20].url)+"",m,p,g,k;return t=new Si({props:{size:20,emoji:i[20].emoji}}),r=new Yr({props:{className:"flex items-center space-x-1",$$slots:{default:[pge]},$$scope:{ctx:i}}}),{c(){e=A("div"),O(t.$$.fragment),n=Y(),O(r.$$.fragment),s=Y(),l=A("div"),o=A("div"),u=Z(a),c=Y(),f=A("div"),m=Z(d),p=Y(),g=A("div"),h(e,"class","flex space-x-2 items-center"),h(o,"class","line-clamp-3"),h(f,"class","text-gray-500 text-xs line-clamp-1"),h(l,"class","description line-clamp-3"),h(g,"class","description opacity-40 line-clamp-1")},m($,D){w($,e,D),N(t,e,null),E(e,n),N(r,e,null),w($,s,D),w($,l,D),E(l,o),E(o,u),E(l,c),E(l,f),E(f,m),w($,p,D),w($,g,D),k=!0},p($,D){const F={};D&32&&(F.emoji=$[20].emoji),t.$set(F);const C={};D&33554464&&(C.$$scope={dirty:D,ctx:$}),r.$set(C),(!k||D&32)&&a!==(a=$[20].description+"")&&oe(u,a),(!k||D&32)&&d!==(d=$[9]($[20].url)+"")&&oe(m,d)},i($){k||(_(t.$$.fragment,$),_(r.$$.fragment,$),k=!0)},o($){v(t.$$.fragment,$),v(r.$$.fragment,$),k=!1},d($){$&&y(e),M(t),M(r),$&&y(s),$&&y(l),$&&y(p),$&&y(g)}}}function NF(i){let e,t;function n(){return i[15](i[20])}return e=new Oi({props:{title:"$"+i[20].name+" status",value:i[20].active}}),e.$on("change",n),{c(){O(e.$$.fragment)},m(r,s){N(e,r,s),t=!0},p(r,s){i=r;const l={};s&32&&(l.title="$"+i[20].name+" status"),s&32&&(l.value=i[20].active),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){M(e,r)}}}function MF(i){let e,t;function n(){return i[16](i[20])}return e=new Me({props:{icon:!0,$$slots:{default:[gge]},$$scope:{ctx:i}}}),e.$on("click",n),{c(){O(e.$$.fragment)},m(r,s){N(e,r,s),t=!0},p(r,s){i=r;const l={};s&33554432&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){M(e,r)}}}function gge(i){let e,t;return e=new je({props:{className:"text-red-500",icon:wd}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function vge(i){let e,t,n,r=!i[20].locked&&NF(i),s=i[3]&&MF(i);return{c(){e=A("div"),r&&r.c(),t=Y(),s&&s.c(),h(e,"slot","right"),h(e,"class","flex items-center space-x-2")},m(l,o){w(l,e,o),r&&r.m(e,null),E(e,t),s&&s.m(e,null),n=!0},p(l,o){l[20].locked?r&&(ie(),v(r,1,1,()=>{r=null}),re()):r?(r.p(l,o),o&32&&_(r,1)):(r=NF(l),r.c(),_(r,1),r.m(e,t)),l[3]?s?(s.p(l,o),o&8&&_(s,1)):(s=MF(l),s.c(),_(s,1),s.m(e,null)):s&&(ie(),v(s,1,1,()=>{s=null}),re())},i(l){n||(_(r),_(s),n=!0)},o(l){v(r),v(s),n=!1},d(l){l&&y(e),r&&r.d(),s&&s.d()}}}function LF(i){let e,t;return e=new xe({props:{bottomLine:15,disabled:i[20].locked,$$slots:{right:[vge],default:[_ge]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&32&&(s.disabled=n[20].locked),r&33554472&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function bge(i){let e,t,n,r=i[5],s=[];for(let a=0;a<r.length;a+=1)s[a]=LF(SF(i,r,a));const l=a=>v(s[a],1,1,()=>{s[a]=null});let o=Oge;return{c(){for(let a=0;a<s.length;a+=1)s[a].c();e=Y(),t=$e()},m(a,u){for(let c=0;c<s.length;c+=1)s[c].m(a,u);w(a,e,u),w(a,t,u),n=!0},p(a,u){if(u&936){r=a[5];let c;for(c=0;c<r.length;c+=1){const f=SF(a,r,c);s[c]?(s[c].p(f,u),_(s[c],1)):(s[c]=LF(f),s[c].c(),_(s[c],1),s[c].m(e.parentNode,e))}for(ie(),c=r.length;c<s.length;c+=1)l(c);re()}},i(a){if(!n){for(let u=0;u<r.length;u+=1)_(s[u]);_(o),n=!0}},o(a){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)v(s[u]);v(o),n=!1},d(a){it(s,a),a&&y(e),a&&y(t)}}}function OF(i){let e,t;return e=new Me({props:{shape:"round",size:"sm",$$slots:{default:[wge]},$$scope:{ctx:i}}}),e.$on("click",i[6]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&33554440&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function kge(i){let e;return{c(){e=A("span"),e.textContent="Edit",h(e,"class","text-primary")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function yge(i){let e;return{c(){e=A("span"),e.textContent="Done",h(e,"class","text-red-500 font-bold")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function wge(i){let e;function t(s,l){return s[3]?yge:kge}let n=t(i),r=n(i);return{c(){r.c(),e=$e()},m(s,l){r.m(s,l),w(s,e,l)},p(s,l){n!==(n=t(s))&&(r.d(1),r=n(s),r&&(r.c(),r.m(e.parentNode,e)))},d(s){r.d(s),s&&y(e)}}}function $ge(i){let e,t,n=i[5].length&&OF(i);return{c(){e=A("div"),n&&n.c(),h(e,"slot","header-right")},m(r,s){w(r,e,s),n&&n.m(e,null),t=!0},p(r,s){r[5].length?n?(n.p(r,s),s&32&&_(n,1)):(n=OF(r),n.c(),_(n,1),n.m(e,null)):n&&(ie(),v(n,1,1,()=>{n=null}),re())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){r&&y(e),n&&n.d()}}}function IF(i){let e,t,n,r;return n=new Ft({props:{solo:!0,$$slots:{default:[Ege]},$$scope:{ctx:i}}}),{c(){e=A("div"),t=Y(),O(n.$$.fragment),h(e,"class","h-4 stiff w-full min-h-4")},m(s,l){w(s,e,l),w(s,t,l),N(n,s,l),r=!0},p(s,l){const o={};l&33554432&&(o.$$scope={dirty:l,ctx:s}),n.$set(o)},i(s){r||(_(n.$$.fragment,s),r=!0)},o(s){v(n.$$.fragment,s),r=!1},d(s){s&&y(e),s&&y(t),M(n,s)}}}function Fge(i){let e;return{c(){e=A("p"),e.innerHTML="Plugins allow others to create entirely new ways of tracking and monitoring your data within Nomie. <strong>WARNING: This feature is under heavy development.</strong>",h(e,"class","text-xs text-center text-gray-500 leading-snug")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function Ege(i){let e,t,n,r;return e=new Gn({props:{emoji:"\u{1F50C}",title:"No Plugins Installed",$$slots:{default:[Fge]},$$scope:{ctx:i}}}),n=new xe({props:{clickable:!0,titleClass:"text-center text-primary",title:"Add a Custom Plugin"}}),n.$on("click",i[17]),{c(){O(e.$$.fragment),t=Y(),O(n.$$.fragment)},m(s,l){N(e,s,l),w(s,t,l),N(n,s,l),r=!0},p(s,l){const o={};l&33554432&&(o.$$scope={dirty:l,ctx:s}),e.$set(o)},i(s){r||(_(e.$$.fragment,s),_(n.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(n.$$.fragment,s),r=!1},d(s){M(e,s),s&&y(t),M(n,s)}}}function Dge(i){let e,t,n,r,s,l,o,a=i[0]&&TF(i);const u=[uge,age],c=[];function f(d,m){return d[1]=="installed"?0:d[1]=="avail"?1:-1}return~(n=f(i))&&(r=c[n]=u[n](i)),{c(){e=A("section"),a&&a.c(),t=Y(),r&&r.c(),s=Y(),l=A("div"),l.innerHTML=`Want to create a Plugin? <br/> 
      <a class="text-primary underline" href="https://github.com/open-nomie/plugins" target="_blank" rel="nofollow">Read the Plugin Docs \u2192</a>`,h(l,"class","pt-10 px-4 text-center text-gray-500 text-sm"),h(e,"class","px-2 lg:px-4 py-4")},m(d,m){w(d,e,m),a&&a.m(e,null),E(e,t),~n&&c[n].m(e,null),E(e,s),E(e,l),o=!0},p(d,m){d[0]?a?(a.p(d,m),m&1&&_(a,1)):(a=TF(d),a.c(),_(a,1),a.m(e,t)):a&&(ie(),v(a,1,1,()=>{a=null}),re());let p=n;n=f(d),n===p?~n&&c[n].p(d,m):(r&&(ie(),v(c[p],1,1,()=>{c[p]=null}),re()),~n?(r=c[n],r?r.p(d,m):(r=c[n]=u[n](d),r.c()),_(r,1),r.m(e,s)):r=null)},i(d){o||(_(a),_(r),o=!0)},o(d){v(a),v(r),o=!1},d(d){d&&y(e),a&&a.d(),~n&&c[n].d()}}}function Cge(i){let e;return{c(){e=A("h1"),e.textContent=`${_e.t("general.plugins","Plugins")}`,h(e,"class","ntitle text-sm md:text-base")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function Sge(i){let e=_e.t("general.close","Close")+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p:W,d(n){n&&y(t)}}}function Tge(i){let e,t;return e=new Me({props:{slot:"left",clear:!0,primary:!0,$$slots:{default:[Sge]},$$scope:{ctx:i}}}),e.$on("click",zge),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&33554432&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Age(i){let e,t;return e=new Me({props:{icon:!0,clear:!0,primary:!0,$$slots:{default:[Pge]},$$scope:{ctx:i}}}),e.$on("click",i[12]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&33554432&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Pge(i){let e,t;return e=new je({props:{icon:sge}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Nge(i){let e,t,n=Age(i);return{c(){e=A("div"),n&&n.c(),h(e,"slot","right")},m(r,s){w(r,e,s),n&&n.m(e,null),t=!0},p(r,s){n.p(r,s)},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){r&&y(e),n&&n.d()}}}function Mge(i){let e,t,n;return t=new Jt({props:{$$slots:{right:[Nge],left:[Tge],default:[Cge]},$$scope:{ctx:i}}}),{c(){e=A("header"),O(t.$$.fragment),h(e,"slot","header")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p(r,s){const l={};s&33554432&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function Lge(i){let e,t;return e=new _n({props:{$$slots:{header:[Mge],default:[Dge]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&33554495&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}let Oge=!1;function Ige(i,e,t){let n;Ee(i,Er,I=>t(5,n=I));let{tab:r="installed"}=e,{showAdd:s=!1}=e,l=[];wt(async()=>{t(2,l=[])});let o=!1;const a=()=>{t(3,o=!o)},u=I=>{I.active=!I.active,Er.upsert(I)},c=async I=>{if(await Xe.confirm(`Uninstall ${I.name} from Nomie?`))try{await Er.remove(I),un({message:"Removed"})}catch(B){Xe.error(B.message)}},f=I=>{if(I){let R=new URL(I);if(R.origin)return R.origin}return""};let d;const m=I=>{BF(I)},p=(I,R)=>R.url==I.url,g=()=>m();function k(I){d=I,t(4,d)}const $=()=>{t(0,s=!1)},D=I=>u(I),F=I=>c(I),C=()=>{BF()},S=(I,R)=>R.url==I.url,P=I=>{n.find(R=>R.url==I.url)||m(I.url)};return i.$$set=I=>{"tab"in I&&t(1,r=I.tab),"showAdd"in I&&t(0,s=I.showAdd)},[s,r,l,o,d,n,a,u,c,f,m,p,g,k,$,D,F,C,S,P]}class Bge extends ce{constructor(e){super(),ue(this,e,Ige,Lge,le,{tab:1,showAdd:0})}}const LO=()=>{en({id:"plugins",component:Bge,componentProps:{}})},Jv=i=>{en({id:i.id,component:nge,componentProps:{plugin:i}})},BF=i=>{en({id:"plugin-installer",component:W_e,componentProps:{url:i}})},zF=()=>{Ot("plugin-installer")},zge=()=>{Ot("plugins")},Er=tu(Xn.storage.plugins(),{label:"Plugins",key:"id",onInitalized(i,e){Er.upsertMany(i)},itemInitializer:i=>new N1(i),itemSerializer:i=>JSON.parse(JSON.stringify(i))}),RF=["selectTrackables","onNote","createNote","searchNotes"],Zs=(i,e,t)=>{let n=Er.rawState(),r=typeof i=="object"?i.action:void 0;r&&(e&&(n=n.filter(s=>s.id==e)),n.forEach(s=>{let l=RF.includes(i.action)&&s.uses.includes(i.action)||!RF.includes(i.action);r=="onNote"&&!t&&(t="auto");const o=`plugin-${t}-${s.id}`;let a=document.getElementById(o);a&&l&&a.contentWindow.postMessage(i,s.url)}))};function jF(i,e,t){const n=i.slice();return n[6]=e[t],n}function Rge(i){let e,t;return e=new Si({props:{size:40,emoji:i[6].emoji}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.emoji=n[6].emoji),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function jge(i){let e,t;return e=new je({props:{icon:i[6].icon,size:40}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.icon=n[6].icon),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function YF(i){let e,t,n,r,s,l,o,a=i[6].label+"",u,c,f,d,m,p;const g=[jge,Rge],k=[];function $(F,C){return F[6].icon?0:F[6].emoji?1:-1}~(n=$(i))&&(r=k[n]=g[n](i));function D(){return i[5](i[6])}return{c(){e=A("button"),t=A("div"),r&&r.c(),l=Y(),o=A("div"),u=Z(a),c=Y(),h(t,"class",s=(i[0].type===i[6].id&&i[0].data==i[6].data?"active-type scale-110":"")+" w-20 h-14 lg:h-20 mb-1 lg:w-20 transition-all duration-100 transform stiff flex items-center justify-center dark:bg-gray-900 dark:text-gray-400 shadow-md rounded-xl"),h(o,"class","text-gray-700 filler w-full line-clamp-2 dark:text-gray-300 text-center text-xs pt-2 leading-tight"),h(e,"class","flex flex-col self-start focus:outline-none p-1 rounded-xl"),h(e,"aria-label",f=`${i[6].label} widget`)},m(F,C){w(F,e,C),E(e,t),~n&&k[n].m(t,null),E(e,l),E(e,o),E(o,u),E(e,c),d=!0,m||(p=ke(e,"click",D),m=!0)},p(F,C){i=F;let S=n;n=$(i),n===S?~n&&k[n].p(i,C):(r&&(ie(),v(k[S],1,1,()=>{k[S]=null}),re()),~n?(r=k[n],r?r.p(i,C):(r=k[n]=g[n](i),r.c()),_(r,1),r.m(t,null)):r=null),(!d||C&3&&s!==(s=(i[0].type===i[6].id&&i[0].data==i[6].data?"active-type scale-110":"")+" w-20 h-14 lg:h-20 mb-1 lg:w-20 transition-all duration-100 transform stiff flex items-center justify-center dark:bg-gray-900 dark:text-gray-400 shadow-md rounded-xl"))&&h(t,"class",s),(!d||C&2)&&a!==(a=i[6].label+"")&&oe(u,a),(!d||C&2&&f!==(f=`${i[6].label} widget`))&&h(e,"aria-label",f)},i(F){d||(_(r),d=!0)},o(F){v(r),d=!1},d(F){F&&y(e),~n&&k[n].d(),m=!1,p()}}}function Yge(i){let e,t,n=i[1],r=[];for(let l=0;l<n.length;l+=1)r[l]=YF(jF(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=$e()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o&7){n=l[1];let a;for(a=0;a<n.length;a+=1){const u=jF(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=YF(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ie(),a=n.length;a<r.length;a+=1)s(a);re()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){it(r,l),l&&y(e)}}}function Uge(i){let e,t;return e=new Oc({props:{className:"items-start justify-start",wrapperClass:"snap-scroll-x flex   space-x-4 px-4 widget-type-selector py-2 ",$$slots:{default:[Yge]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&515&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function qge(i,e,t){let n;Ee(i,Er,u=>t(4,n=u));let{widget:r}=e,s=!1;const l=u=>{t(0,r.type=u.id,r),t(0,r.data=u.data,r)};let o=[];wt(()=>{t(3,s=!0)});const a=u=>{l(u)};return i.$$set=u=>{"widget"in u&&t(0,r=u.widget)},i.$$.update=()=>{i.$$.dirty&9&&r&&r.type&&s&&setTimeout(()=>{const u=document.querySelector(".widget-type-selector .active-type");u&&u.scrollIntoView()},300),i.$$.dirty&26&&s&&!o.length&&t(1,o=FO(n))},[r,o,l,s,n,a]}class Hge extends ce{constructor(e){super(),ue(this,e,qge,Uge,le,{widget:0})}}function Wge(i){let e,t,n,r;return{c(){e=A("input"),h(e,"type","checkbox"),h(e,"class",t="n-radio "+i[1]),Je(e,"sm",i[2])},m(s,l){w(s,e,l),e.checked=i[0],n||(r=ke(e,"change",i[3]),n=!0)},p(s,[l]){l&2&&t!==(t="n-radio "+s[1])&&h(e,"class",t),l&1&&(e.checked=s[0]),l&6&&Je(e,"sm",s[2])},i:W,o:W,d(s){s&&y(e),n=!1,r()}}}function Vge(i,e,t){let{checked:n=!1}=e,{className:r=""}=e,{sm:s=!1}=e;function l(){n=this.checked,t(0,n)}return i.$$set=o=>{"checked"in o&&t(0,n=o.checked),"className"in o&&t(1,r=o.className),"sm"in o&&t(2,s=o.sm)},[n,r,s,l]}class OO extends ce{constructor(e){super(),ue(this,e,Vge,Wge,le,{checked:0,className:1,sm:2})}}function UF(i,e,t){const n=i.slice();return n[25]=e[t],n}function qF(i,e,t){const n=i.slice();return n[25]=e[t],n[29]=t,n}function HF(i){let e,t=i[7](i[25].label)+"",n;return{c(){e=A("header"),n=Z(t),h(e,"class","sticky top-0 z-50 text-gray-900 dark:text-gray-100 font-bold px-4 py-2 glass")},m(r,s){w(r,e,s),E(e,n)},p(r,s){s&64&&t!==(t=r[7](r[25].label)+"")&&oe(n,t)},d(r){r&&y(e)}}}function Gge(i){let e,t,n=i[25].label+"",r,s,l,o,a=i[25].tag+"",u;return{c(){e=A("div"),t=A("h1"),r=Z(n),s=Y(),l=A("div"),o=A("div"),u=Z(a),h(t,"class","line-clamp-1"),h(o,"class","text-sm text-gray-500 line-clamp-1"),h(l,"class","flex items-center space-x-2")},m(c,f){w(c,e,f),E(e,t),E(t,r),E(e,s),E(e,l),E(l,o),E(o,u)},p(c,f){f&64&&n!==(n=c[25].label+"")&&oe(r,n),f&64&&a!==(a=c[25].tag+"")&&oe(u,a)},d(c){c&&y(e)}}}function Zge(i){let e,t;return e=new fi({props:{slot:"left",size:42,trackable:i[25]}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&64&&(s.trackable=n[25]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function xge(i){let e,t;return e=new OO({props:{slot:"right",className:"pointer-events-none",checked:i[2].indexOf(i[25])>-1}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&68&&(s.checked=n[2].indexOf(n[25])>-1),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function WF(i,e){let t,n=!e[8](e[25].label),r,s,l,o=n&&HF(e);function a(){return e[20](e[25])}return s=new xe({props:{bottomLine:70,clickable:!0,$$slots:{right:[xge],left:[Zge],default:[Gge]},$$scope:{ctx:e}}}),s.$on("click",a),{key:i,first:null,c(){t=$e(),o&&o.c(),r=Y(),O(s.$$.fragment),this.first=t},m(u,c){w(u,t,c),o&&o.m(u,c),w(u,r,c),N(s,u,c),l=!0},p(u,c){e=u,c&64&&(n=!e[8](e[25].label)),n?o?o.p(e,c):(o=HF(e),o.c(),o.m(r.parentNode,r)):o&&(o.d(1),o=null);const f={};c&1073741892&&(f.$$scope={dirty:c,ctx:e}),s.$set(f)},i(u){l||(_(s.$$.fragment,u),l=!0)},o(u){v(s.$$.fragment,u),l=!1},d(u){u&&y(t),o&&o.d(u),u&&y(r),M(s,u)}}}function VF(i){let e,t,n,r,s=i[4],l=[];for(let a=0;a<s.length;a+=1)l[a]=GF(UF(i,s,a));const o=a=>v(l[a],1,1,()=>{l[a]=null});return{c(){e=A("div"),e.textContent="No Known Trackers",t=Y();for(let a=0;a<l.length;a+=1)l[a].c();n=$e(),h(e,"class","px-4 text-center text-gray-500 py-4")},m(a,u){w(a,e,u),w(a,t,u);for(let c=0;c<l.length;c+=1)l[c].m(a,u);w(a,n,u),r=!0},p(a,u){if(u&1052){s=a[4];let c;for(c=0;c<s.length;c+=1){const f=UF(a,s,c);l[c]?(l[c].p(f,u),_(l[c],1)):(l[c]=GF(f),l[c].c(),_(l[c],1),l[c].m(n.parentNode,n))}for(ie(),c=s.length;c<l.length;c+=1)o(c);re()}},i(a){if(!r){for(let u=0;u<s.length;u+=1)_(l[u]);r=!0}},o(a){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)v(l[u]);r=!1},d(a){a&&y(e),a&&y(t),it(l,a),a&&y(n)}}}function Xge(i){let e,t,n;return{c(){e=A("h2"),t=Z("As person: @"),n=Z(i[3]),h(e,"class","ntitle filler")},m(r,s){w(r,e,s),E(e,t),E(e,n)},p(r,s){s&8&&oe(n,r[3])},d(r){r&&y(e)}}}function Kge(i){let e,t,n;return{c(){e=A("h2"),t=Z("As context: +"),n=Z(i[3]),h(e,"class","ntitle filler")},m(r,s){w(r,e,s),E(e,t),E(e,n)},p(r,s){s&8&&oe(n,r[3])},d(r){r&&y(e)}}}function Jge(i){let e,t,n;return{c(){e=A("h2"),t=Z("As tracker: #"),n=Z(i[3]),h(e,"class","ntitle filler")},m(r,s){w(r,e,s),E(e,t),E(e,n)},p(r,s){s&8&&oe(n,r[3])},d(r){r&&y(e)}}}function GF(i){let e,t,n,r,s,l,o,a;function u(m,p){if(m[25].type=="tracker")return Jge;if(m[25].type==="context")return Kge;if(m[25].type==="person")return Xge}let c=u(i),f=c&&c(i);n=new OO({props:{className:"pointer-events-none",checked:i[2].indexOf(i[25])>-1}});function d(){return i[21](i[25])}return s=new Tn({props:{left:70}}),{c(){e=A("button"),f&&f.c(),t=Y(),O(n.$$.fragment),r=Y(),O(s.$$.fragment),h(e,"class","relative flex w-full text-left items-center py-2 px-4 space-x-4 justify-between z-20")},m(m,p){w(m,e,p),f&&f.m(e,null),E(e,t),N(n,e,null),w(m,r,p),N(s,m,p),l=!0,o||(a=ke(e,"click",d),o=!0)},p(m,p){i=m,c===(c=u(i))&&f?f.p(i,p):(f&&f.d(1),f=c&&c(i),f&&(f.c(),f.m(e,t)));const g={};p&20&&(g.checked=i[2].indexOf(i[25])>-1),n.$set(g)},i(m){l||(_(n.$$.fragment,m),_(s.$$.fragment,m),l=!0)},o(m){v(n.$$.fragment,m),v(s.$$.fragment,m),l=!1},d(m){m&&y(e),f&&f.d(),M(n),m&&y(r),M(s,m),o=!1,a()}}}function Qge(i){let e,t=[],n=new Map,r,s,l=i[6].filter(ZF);const o=u=>u[25].tag;for(let u=0;u<l.length;u+=1){let c=qF(i,l,u),f=o(c);n.set(f,t[u]=WF(f,c))}let a=i[6].length===0&&VF(i);return{c(){e=A("section");for(let u=0;u<t.length;u+=1)t[u].c();r=Y(),a&&a.c(),h(e,"class","trackable-list relative")},m(u,c){w(u,e,c);for(let f=0;f<t.length;f+=1)t[f].m(e,null);E(e,r),a&&a.m(e,null),s=!0},p(u,c){c&1476&&(l=u[6].filter(ZF),ie(),t=qn(t,c,o,1,u,l,n,e,Ci,WF,r,qF),re()),u[6].length===0?a?(a.p(u,c),c&64&&_(a,1)):(a=VF(u),a.c(),_(a,1),a.m(e,null)):a&&(ie(),v(a,1,1,()=>{a=null}),re())},i(u){if(!s){for(let c=0;c<l.length;c+=1)_(t[c]);_(a),s=!0}},o(u){for(let c=0;c<t.length;c+=1)v(t[c]);v(a),s=!1},d(u){u&&y(e);for(let c=0;c<t.length;c+=1)t[c].d();a&&a.d()}}}function e1e(i){let e;return{c(){e=A("h1"),e.textContent=`${_e.t("general.trackables","Trackables")}`,h(e,"class","ntitle")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function t1e(i){let e;return{c(){e=Z("Close")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function n1e(i){let e,t;return e=new Me({props:{slot:"left",clear:!0,primary:!0,$$slots:{default:[t1e]},$$scope:{ctx:i}}}),e.$on("click",i[9]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1073741824&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function i1e(i){let e,t=i[2].length?`(${i[2].length})`:"",n;return{c(){e=Z("Select "),n=Z(t)},m(r,s){w(r,e,s),w(r,n,s)},p(r,s){s&4&&t!==(t=r[2].length?`(${r[2].length})`:"")&&oe(n,t)},d(r){r&&y(e),r&&y(n)}}}function r1e(i){let e,t;return e=new Me({props:{slot:"right",className:"whitespace-nowrap",disabled:!i[2].length,clear:!0,primary:!0,$$slots:{default:[i1e]},$$scope:{ctx:i}}}),e.$on("click",i[12]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&4&&(s.disabled=!n[2].length),r&1073741828&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function s1e(i){let e,t,n,r,s,l,o,a;return{c(){e=A("select"),t=A("option"),t.textContent="All Types",n=A("option"),n.textContent=`${_e.t("general.trackers","Trackers")}`,r=A("option"),r.textContent=`${_e.t("general.people")}`,s=A("option"),s.textContent=`${_e.t("general.context")}`,t.__value="",t.value=t.__value,t.selected=!0,n.__value="tracker",n.value=n.__value,r.__value="person",r.value=r.__value,s.__value="context",s.value=s.__value,h(e,"slot","right-inside"),h(e,"class","appearance-none text-right text-base text-primary-500 px-4 bg-transparent focus:outline-none rounded-md h-9 ring-inset focus:ring-1 ring-primary-500")},m(u,c){w(u,e,c),E(e,t),E(e,n),E(e,r),E(e,s),gn(e,i[5]||""),o||(a=ke(e,"input",i[17]),o=!0)},p(u,c){c&32&&l!==(l=u[5]||"")&&gn(e,u[5]||"")},d(u){u&&y(e),o=!1,a()}}}function l1e(i){let e,t;return e=new iu({props:{autocomplete:!0,compact:!0,showClose:!0,className:"p-0 px-2 mt-1",$$slots:{"right-inside":[s1e]},$$scope:{ctx:i}}}),e.$on("clear",i[18]),e.$on("change",i[19]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1073741857&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function o1e(i){let e,t,n,r,s;return t=new Jt({props:{$$slots:{right:[r1e],left:[n1e],default:[e1e]},$$scope:{ctx:i}}}),r=new Sr({props:{className:"-mt-2 mb-2",$$slots:{default:[l1e]},$$scope:{ctx:i}}}),{c(){e=A("header"),O(t.$$.fragment),n=Y(),O(r.$$.fragment),h(e,"slot","header"),h(e,"class","bg-white dark:bg-black")},m(l,o){w(l,e,o),N(t,e,null),E(e,n),N(r,e,null),s=!0},p(l,o){const a={};o&1073741828&&(a.$$scope={dirty:o,ctx:l}),t.$set(a);const u={};o&1073741867&&(u.$$scope={dirty:o,ctx:l}),r.$set(u)},i(l){s||(_(t.$$.fragment,l),_(r.$$.fragment,l),s=!0)},o(l){v(t.$$.fragment,l),v(r.$$.fragment,l),s=!1},d(l){l&&y(e),M(t),M(r)}}}function a1e(i){let e,t;return e=new _n({props:{className:"bg-gray-100 dark:bg-gray-900",$$slots:{header:[o1e],default:[Qge]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&1073741951&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}const ZF=i=>i.tag;function u1e(i,e,t){let n,r,s;Ee(i,It,H=>t(16,s=H));let{id:l}=e,{payload:o}=e,a=[],u,c,f,d=[],m,p={};const g=H=>H.substring(0,1).toUpperCase(),k=H=>{const K=g(H),G=p.hasOwnProperty(K);return p[K]=!0,G},$=async()=>{Ot(l)},D=async H=>{o.multiple?a.findIndex(G=>G==H)>-1?t(2,a=a.filter(G=>G!==H)):a.push(H):(t(2,a=[H]),await Et(100),S()),t(2,a)},F=H=>`${H||""}`.replace(/(\@|\+|\#)/g,""),C=H=>{H&&H.length>0?(t(1,u=H.toLowerCase()),t(3,c=u.replace(/(\@|\+|\#)/g,"")),t(4,d=[P("tracker"),P("person"),P("context")])):(t(1,u=void 0),t(3,c=void 0))},S=()=>{o.onSelect(a),$()},P=H=>H==="person"?new ri({type:"person",person:new jl({username:c})}):H==="context"?new ri({type:"context",context:c}):new ri({type:"tracker",tracker:new oi({tag:c})}),I=H=>{t(0,o.type=H.target.value,o)},R=()=>{t(1,u=void 0),t(3,c=void 0)},B=H=>{C(H.detail)},z=H=>D(H),q=H=>D(H);return i.$$set=H=>{"id"in H&&t(13,l=H.id),"payload"in H&&t(0,o=H.payload)},i.$$.update=()=>{i.$$.dirty&2&&(u?p={}:p={}),i.$$.dirty&65537&&o&&(p={},t(5,m=o.type),t(14,f=eu(s.trackables).sort((H,K)=>H.label.toLowerCase()>K.label.toLowerCase()?1:-1))),i.$$.dirty&2&&t(15,n=F(u)),i.$$.dirty&49155&&t(6,r=f.filter(H=>n&&o.type?JSON.stringify(H).toLowerCase().search(n)>1&&H.type===o.type:o.type?H.type===o.type:u?JSON.stringify(H).toLowerCase().search(n)>1:H))},[o,u,a,c,d,m,r,g,k,$,D,C,S,l,f,n,s,I,R,B,z,q]}class c1e extends ce{constructor(e){super(),ue(this,e,u1e,a1e,le,{id:13,payload:0})}}const f1e=(i={})=>{en({id:"trackable-selector",position:"fullscreen",component:c1e,componentProps:{payload:i}})},Bc=async(i,e=!0)=>new Promise(t=>{f1e({multiple:e,type:i,onSelect:async n=>{t(n),await Et(200)}})}),Vp=async i=>{const e=await Bc(i,!1);if(e.length)return e[0]};function xF(i,e,t){const n=i.slice();return n[27]=e[t],n}function XF(i){let e,t;return e=new xe({props:{className:"h-16",$$slots:{right:[g1e],default:[m1e]},$$scope:{ctx:i}}}),e.$on("click",i[14]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1073741843&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function KF(i){let e,t;function n(l,o){var a,u;return o&2&&(t=null),t==null&&(t=((u=(a=l[1])==null?void 0:a.requires)==null?void 0:u.indexOf("token"))>-1),t?h1e:d1e}let r=n(i,-1),s=r(i);return{c(){e=A("span"),s.c(),h(e,"class","opacity-50 text-black dark:text-white")},m(l,o){w(l,e,o),s.m(e,null)},p(l,o){r!==(r=n(l,o))&&(s.d(1),s=r(l),s&&(s.c(),s.m(e,null)))},d(l){l&&y(e),s.d()}}}function d1e(i){let e;return{c(){e=Z("(optional)")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function h1e(i){let e;return{c(){e=Z("(required)")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function m1e(i){let e,t,n=!i[0].token&&KF(i);return{c(){e=Z(`Trackable
          `),n&&n.c(),t=$e()},m(r,s){w(r,e,s),n&&n.m(r,s),w(r,t,s)},p(r,s){r[0].token?n&&(n.d(1),n=null):n?n.p(r,s):(n=KF(r),n.c(),n.m(t.parentNode,t))},d(r){r&&y(e),n&&n.d(r),r&&y(t)}}}function p1e(i){var o,a;let e,t,n=((a=(o=i[1])==null?void 0:o.requires)==null?void 0:a.indexOf("token"))===-1,r,s;e=new vl({props:{size:28,hideValue:!0,trackable:pi(i[0].token,i[4].trackables)}});let l=n&&JF(i);return{c(){O(e.$$.fragment),t=Y(),l&&l.c(),r=$e()},m(u,c){N(e,u,c),w(u,t,c),l&&l.m(u,c),w(u,r,c),s=!0},p(u,c){var d,m;const f={};c&17&&(f.trackable=pi(u[0].token,u[4].trackables)),e.$set(f),c&2&&(n=((m=(d=u[1])==null?void 0:d.requires)==null?void 0:m.indexOf("token"))===-1),n?l?(l.p(u,c),c&2&&_(l,1)):(l=JF(u),l.c(),_(l,1),l.m(r.parentNode,r)):l&&(ie(),v(l,1,1,()=>{l=null}),re())},i(u){s||(_(e.$$.fragment,u),_(l),s=!0)},o(u){v(e.$$.fragment,u),v(l),s=!1},d(u){M(e,u),u&&y(t),l&&l.d(u),u&&y(r)}}}function _1e(i){let e;return{c(){e=A("div"),e.textContent=`${_e.t("general.select","Select")}`,h(e,"class","text-primary-500")},m(t,n){w(t,e,n)},p:W,i:W,o:W,d(t){t&&y(e)}}}function JF(i){let e,t,n,r,s;return t=new je({props:{icon:pl}}),{c(){e=A("button"),O(t.$$.fragment),h(e,"class","flex items-center justify-center")},m(l,o){w(l,e,o),N(t,e,null),n=!0,r||(s=ke(e,"click",i[13]),r=!0)},p:W,i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){v(t.$$.fragment,l),n=!1},d(l){l&&y(e),M(t),r=!1,s()}}}function g1e(i){let e,t,n,r;const s=[_1e,p1e],l=[];function o(a,u){return a[0].tokens.length?a[0].token?1:-1:0}return~(t=o(i))&&(n=l[t]=s[t](i)),{c(){e=A("div"),n&&n.c(),h(e,"slot","right"),h(e,"class","flex items-center space-x-2")},m(a,u){w(a,e,u),~t&&l[t].m(e,null),r=!0},p(a,u){let c=t;t=o(a),t===c?~t&&l[t].p(a,u):(n&&(ie(),v(l[c],1,1,()=>{l[c]=null}),re()),~t?(n=l[t],n?n.p(a,u):(n=l[t]=s[t](a),n.c()),_(n,1),n.m(e,null)):n=null)},i(a){r||(_(n),r=!0)},o(a){v(n),r=!1},d(a){a&&y(e),~t&&l[t].d()}}}function QF(i){let e,t,n,r,s,l=i[1]&&i[1].id=="value"&&i[0].timeRange&&["today","yesterday"].indexOf(i[0].timeRange)==-1,o,a;e=new Tn({props:{left:18}});function u(d){i[15](d)}let c={listItem:!0,type:"select",label:"Timeframe",$$slots:{left:[b1e],default:[v1e]},$$scope:{ctx:i}};i[0].timeRange!==void 0&&(c.value=i[0].timeRange),n=new fn({props:c}),De.push(()=>Ue(n,"value",u,i[0].timeRange));let f=l&&n3(i);return{c(){O(e.$$.fragment),t=Y(),O(n.$$.fragment),s=Y(),f&&f.c(),o=$e()},m(d,m){N(e,d,m),w(d,t,m),N(n,d,m),w(d,s,m),f&&f.m(d,m),w(d,o,m),a=!0},p(d,m){const p={};m&1073741825&&(p.$$scope={dirty:m,ctx:d}),!r&&m&1&&(r=!0,p.value=d[0].timeRange,qe(()=>r=!1)),n.$set(p),m&3&&(l=d[1]&&d[1].id=="value"&&d[0].timeRange&&["today","yesterday"].indexOf(d[0].timeRange)==-1),l?f?(f.p(d,m),m&3&&_(f,1)):(f=n3(d),f.c(),_(f,1),f.m(o.parentNode,o)):f&&(ie(),v(f,1,1,()=>{f=null}),re())},i(d){a||(_(e.$$.fragment,d),_(n.$$.fragment,d),_(f),a=!0)},o(d){v(e.$$.fragment,d),v(n.$$.fragment,d),v(f),a=!1},d(d){M(e,d),d&&y(t),M(n,d),d&&y(s),f&&f.d(d),d&&y(o)}}}function e3(i){let e,t=i[27].label+"",n;return{c(){e=A("option"),n=Z(t),e.__value=i[27].id,e.value=e.__value},m(r,s){w(r,e,s),E(e,n)},p:W,d(r){r&&y(e)}}}function v1e(i){let e,t,n,r=Fm,s=[];for(let l=0;l<r.length;l+=1)s[l]=e3(xF(i,r,l));return{c(){e=A("option"),e.textContent="Select",t=Y();for(let l=0;l<s.length;l+=1)s[l].c();n=$e(),e.__value="Select",e.value=e.__value},m(l,o){w(l,e,o),w(l,t,o);for(let a=0;a<s.length;a+=1)s[a].m(l,o);w(l,n,o)},p(l,o){if(o&0){r=Fm;let a;for(a=0;a<r.length;a+=1){const u=xF(l,r,a);s[a]?s[a].p(u,o):(s[a]=e3(u),s[a].c(),s[a].m(n.parentNode,n))}for(;a<s.length;a+=1)s[a].d(1);s.length=r.length}},d(l){l&&y(e),l&&y(t),it(s,l),l&&y(n)}}}function t3(i){let e=_e.t("dashboard.select-a-timeframe","Select a Timeframe")+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p:W,d(n){n&&y(t)}}}function b1e(i){let e,t,n=!i[0].timeRange&&t3();return{c(){e=A("div"),n&&n.c(),h(e,"slot","left"),h(e,"class",t=(i[0].timeRange?"":"pl-2 pt-3 w-full")+" text-black dark:text-white pointer-events-none absolute")},m(r,s){w(r,e,s),n&&n.m(e,null)},p(r,s){r[0].timeRange?n&&(n.d(1),n=null):n?n.p(r,s):(n=t3(),n.c(),n.m(e,null)),s&1&&t!==(t=(r[0].timeRange?"":"pl-2 pt-3 w-full")+" text-black dark:text-white pointer-events-none absolute")&&h(e,"class",t)},d(r){r&&y(e),n&&n.d()}}}function n3(i){let e,t,n,r;return e=new Tn({props:{left:18}}),n=new xe({props:{bg:"transparent",title:"Include Daily Average",className:"pl-6",$$slots:{right:[k1e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment),t=Y(),O(n.$$.fragment)},m(s,l){N(e,s,l),w(s,t,l),N(n,s,l),r=!0},p(s,l){const o={};l&1073741825&&(o.$$scope={dirty:l,ctx:s}),n.$set(o)},i(s){r||(_(e.$$.fragment,s),_(n.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(n.$$.fragment,s),r=!1},d(s){M(e,s),s&&y(t),M(n,s)}}}function k1e(i){let e,t,n,r;function s(o){i[16](o)}let l={};return i[0].includeAvg!==void 0&&(l.value=i[0].includeAvg),t=new Oi({props:l}),De.push(()=>Ue(t,"value",s,i[0].includeAvg)),{c(){e=A("div"),O(t.$$.fragment),h(e,"slot","right")},m(o,a){w(o,e,a),N(t,e,null),r=!0},p(o,a){const u={};!n&&a&1&&(n=!0,u.value=o[0].includeAvg,qe(()=>n=!1)),t.$set(u)},i(o){r||(_(t.$$.fragment,o),r=!0)},o(o){v(t.$$.fragment,o),r=!1},d(o){o&&y(e),M(t)}}}function y1e(i){let e;return{c(){e=Z("Size")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function w1e(i){let e,t,n;function r(l){i[17](l)}let s={buttons:[{value:"sm",label:"Small"},{value:"md",label:"Medium"},{value:"lg",label:"Large"}],slot:"right"};return i[0].size!==void 0&&(s.value=i[0].size),e=new ms({props:s}),De.push(()=>Ue(e,"value",r,i[0].size)),{c(){O(e.$$.fragment)},m(l,o){N(e,l,o),n=!0},p(l,o){const a={};!t&&o&1&&(t=!0,a.value=l[0].size,qe(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){M(e,l)}}}function $1e(i){var f,d,m,p;let e=((d=(f=i[1])==null?void 0:f.requires)==null?void 0:d.indexOf("token"))>-1||((p=(m=i[1])==null?void 0:m.optional)==null?void 0:p.indexOf("token"))>-1,t,n=i[1]&&[...i[1].requires,...i[1].optional].indexOf("timeframe")>-1,r,s,l,o,a,u=e&&XF(i),c=n&&QF(i);return s=new Tn({props:{left:18}}),o=new xe({props:{$$slots:{right:[w1e],default:[y1e]},$$scope:{ctx:i}}}),{c(){u&&u.c(),t=Y(),c&&c.c(),r=Y(),O(s.$$.fragment),l=Y(),O(o.$$.fragment)},m(g,k){u&&u.m(g,k),w(g,t,k),c&&c.m(g,k),w(g,r,k),N(s,g,k),w(g,l,k),N(o,g,k),a=!0},p(g,k){var D,F,C,S;k&2&&(e=((F=(D=g[1])==null?void 0:D.requires)==null?void 0:F.indexOf("token"))>-1||((S=(C=g[1])==null?void 0:C.optional)==null?void 0:S.indexOf("token"))>-1),e?u?(u.p(g,k),k&2&&_(u,1)):(u=XF(g),u.c(),_(u,1),u.m(t.parentNode,t)):u&&(ie(),v(u,1,1,()=>{u=null}),re()),k&2&&(n=g[1]&&[...g[1].requires,...g[1].optional].indexOf("timeframe")>-1),n?c?(c.p(g,k),k&2&&_(c,1)):(c=QF(g),c.c(),_(c,1),c.m(r.parentNode,r)):c&&(ie(),v(c,1,1,()=>{c=null}),re());const $={};k&1073741825&&($.$$scope={dirty:k,ctx:g}),o.$set($)},i(g){a||(_(u),_(c),_(s.$$.fragment,g),_(o.$$.fragment,g),a=!0)},o(g){v(u),v(c),v(s.$$.fragment,g),v(o.$$.fragment,g),a=!1},d(g){u&&u.d(g),g&&y(t),c&&c.d(g),g&&y(r),M(s,g),g&&y(l),M(o,g)}}}function i3(i){let e,t;return e=new Ft({props:{solo:!0,className:"mt-4",$$slots:{default:[F1e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1073741825&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function F1e(i){let e,t,n,r,s;function l(a){i[18](a)}let o={listItem:!0,placeholder:"Message",type:"textarea",rows:2};return i[0].description!==void 0&&(o.value=i[0].description),e=new fn({props:o}),De.push(()=>Ue(e,"value",l,i[0].description)),{c(){O(e.$$.fragment),n=Y(),r=A("div"),r.textContent="Leave yourself a positive message or something!",h(r,"class","text-gray-500 leading-tight px-4 text-sm pb-4")},m(a,u){N(e,a,u),w(a,n,u),w(a,r,u),s=!0},p(a,u){const c={};!t&&u&1&&(t=!0,c.value=a[0].description,qe(()=>t=!1)),e.$set(c)},i(a){s||(_(e.$$.fragment,a),s=!0)},o(a){v(e.$$.fragment,a),s=!1},d(a){M(e,a),a&&y(n),a&&y(r)}}}function r3(i){let e,t;return e=new Ft({props:{solo:!0,className:"mt-4",$$slots:{default:[N1e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1073741831&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function E1e(i){let e,t,n;function r(l){i[19](l)}let s={slot:"right"};return i[2]!==void 0&&(s.value=i[2]),e=new Oi({props:s}),De.push(()=>Ue(e,"value",r,i[2])),e.$on("change",i[20]),{c(){O(e.$$.fragment)},m(l,o){N(e,l,o),n=!0},p(l,o){const a={};!t&&o&4&&(t=!0,a.value=l[2],qe(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){M(e,l)}}}function s3(i){let e,t,n,r,s,l,o,a;return e=new xe({props:{bg:"transparent",title:"Compare Value",$$slots:{right:[C1e]},$$scope:{ctx:i}}}),n=new Tn({props:{center:!0}}),s=new xe({props:{$$slots:{right:[T1e],default:[S1e]},$$scope:{ctx:i}}}),o=new xe({props:{$$slots:{right:[P1e],default:[A1e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment),t=Y(),O(n.$$.fragment),r=Y(),O(s.$$.fragment),l=Y(),O(o.$$.fragment)},m(u,c){N(e,u,c),w(u,t,c),N(n,u,c),w(u,r,c),N(s,u,c),w(u,l,c),N(o,u,c),a=!0},p(u,c){const f={};c&1073741827&&(f.$$scope={dirty:c,ctx:u}),e.$set(f);const d={};c&1073741825&&(d.$$scope={dirty:c,ctx:u}),s.$set(d);const m={};c&1073741825&&(m.$$scope={dirty:c,ctx:u}),o.$set(m)},i(u){a||(_(e.$$.fragment,u),_(n.$$.fragment,u),_(s.$$.fragment,u),_(o.$$.fragment,u),a=!0)},o(u){v(e.$$.fragment,u),v(n.$$.fragment,u),v(s.$$.fragment,u),v(o.$$.fragment,u),a=!1},d(u){M(e,u),u&&y(t),M(n,u),u&&y(r),M(s,u),u&&y(l),M(o,u)}}}function l3(i){let e,t;return e=new Me({props:{icon:!0,className:"mr-2 text-primary-500",$$slots:{default:[D1e]},$$scope:{ctx:i}}}),e.$on("click",i[22]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1073741824&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function D1e(i){let e,t;return e=new je({props:{icon:C0,className:"text-gray-500"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function C1e(i){var u,c;let e,t,n,r,s,l,o,a=((c=(u=i[0])==null?void 0:u.token)==null?void 0:c.type)=="tracker"&&l3(i);return{c(){e=A("div"),t=A("input"),r=Y(),a&&a.c(),h(t,"class","bg-gray-200 dark:bg-gray-800 rounded-md px-2 py-1"),h(t,"pattern","[0-9]*"),h(t,"inputmode","numeric"),h(t,"placeholder",n=i[1].id=="value"?"Value":i[1].id=="last-used"?"Days":"Value"),nt(t,"max-width","140px"),h(e,"slot","right"),h(e,"class","flex items-center justify-end")},m(f,d){w(f,e,d),E(e,t),mn(t,i[0].compareValue),E(e,r),a&&a.m(e,null),s=!0,l||(o=ke(t,"input",i[21]),l=!0)},p(f,d){var m,p;(!s||d&2&&n!==(n=f[1].id=="value"?"Value":f[1].id=="last-used"?"Days":"Value"))&&h(t,"placeholder",n),d&1&&t.value!==f[0].compareValue&&mn(t,f[0].compareValue),((p=(m=f[0])==null?void 0:m.token)==null?void 0:p.type)=="tracker"?a?(a.p(f,d),d&1&&_(a,1)):(a=l3(f),a.c(),_(a,1),a.m(e,null)):a&&(ie(),v(a,1,1,()=>{a=null}),re())},i(f){s||(_(a),s=!0)},o(f){v(a),s=!1},d(f){f&&y(e),a&&a.d(),l=!1,o()}}}function S1e(i){let e=_e.t("dashboard.widget-above-value-color","Above value color")+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p:W,d(n){n&&y(t)}}}function T1e(i){let e,t;return e=new kO({props:{slot:"right",size:16,value:i[0].compareOverColor}}),e.$on("change",i[23]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.value=n[0].compareOverColor),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function A1e(i){let e=_e.t("dashboard.widget-under-value-color","Under value color")+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p:W,d(n){n&&y(t)}}}function P1e(i){let e,t;return e=new kO({props:{slot:"right",size:16,value:i[0].compareUnderColor}}),e.$on("change",i[24]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.value=n[0].compareUnderColor),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function N1e(i){let e,t,n,r;e=new xe({props:{title:"Conditional Coloring",$$slots:{right:[E1e]},$$scope:{ctx:i}}});let s=i[2]&&s3(i);return{c(){O(e.$$.fragment),t=Y(),s&&s.c(),n=$e()},m(l,o){N(e,l,o),w(l,t,o),s&&s.m(l,o),w(l,n,o),r=!0},p(l,o){const a={};o&1073741829&&(a.$$scope={dirty:o,ctx:l}),e.$set(a),l[2]?s?(s.p(l,o),o&4&&_(s,1)):(s=s3(l),s.c(),_(s,1),s.m(n.parentNode,n)):s&&(ie(),v(s,1,1,()=>{s=null}),re())},i(l){r||(_(e.$$.fragment,l),_(s),r=!0)},o(l){v(e.$$.fragment,l),v(s),r=!1},d(l){M(e,l),l&&y(t),s&&s.d(l),l&&y(n)}}}function M1e(i){var m;let e,t,n,r,s,l,o=i[1]&&[...i[1].requires,...i[1].optional].indexOf("cond-style")>-1,a,u,c;r=new Ft({props:{solo:!0,$$slots:{default:[$1e]},$$scope:{ctx:i}}});let f=((m=i[1])==null?void 0:m.id)=="text"&&i3(i),d=o&&r3(i);return u=new Ft({props:{solo:!0,className:"mt-4 dark:text-white"}}),{c(){e=A("div"),t=Y(),n=A("main"),O(r.$$.fragment),s=Y(),f&&f.c(),l=Y(),d&&d.c(),a=Y(),O(u.$$.fragment),h(e,"class","h-4"),h(n,"class","px-2")},m(p,g){w(p,e,g),w(p,t,g),w(p,n,g),N(r,n,null),E(n,s),f&&f.m(n,null),E(n,l),d&&d.m(n,null),E(n,a),N(u,n,null),c=!0},p(p,g){var $;const k={};g&1073741843&&(k.$$scope={dirty:g,ctx:p}),r.$set(k),(($=p[1])==null?void 0:$.id)=="text"?f?(f.p(p,g),g&2&&_(f,1)):(f=i3(p),f.c(),_(f,1),f.m(n,l)):f&&(ie(),v(f,1,1,()=>{f=null}),re()),g&2&&(o=p[1]&&[...p[1].requires,...p[1].optional].indexOf("cond-style")>-1),o?d?(d.p(p,g),g&2&&_(d,1)):(d=r3(p),d.c(),_(d,1),d.m(n,a)):d&&(ie(),v(d,1,1,()=>{d=null}),re())},i(p){c||(_(r.$$.fragment,p),_(f),_(d),_(u.$$.fragment,p),c=!0)},o(p){v(r.$$.fragment,p),v(f),v(d),v(u.$$.fragment,p),c=!1},d(p){p&&y(e),p&&y(t),p&&y(n),M(r),f&&f.d(),d&&d.d(),M(u)}}}function L1e(i){let e;return{c(){e=A("h1"),e.textContent="Widget Settings",h(e,"class","ntitle")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function O1e(i){let e=_e.t("general.cancel","Cancel")+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p:W,d(n){n&&y(t)}}}function I1e(i){let e,t;return e=new Me({props:{slot:"left",clear:!0,primary:!0,$$slots:{default:[O1e]},$$scope:{ctx:i}}}),e.$on("click",i[5]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1073741824&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function B1e(i){let e,t;return e=new Me({props:{clear:!0,primary:!0,disabled:!0,$$slots:{default:[R1e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1073741824&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function z1e(i){let e,t;return e=new Me({props:{clear:!0,primary:!0,$$slots:{default:[j1e]},$$scope:{ctx:i}}}),e.$on("click",i[7]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1073741824&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function R1e(i){let e=_e.t("general.save","Save")+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p:W,d(n){n&&y(t)}}}function j1e(i){let e=_e.t("general.save","Save")+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p:W,d(n){n&&y(t)}}}function Y1e(i){let e,t,n,r;const s=[z1e,B1e],l=[];function o(a,u){return a[3]?0:1}return t=o(i),n=l[t]=s[t](i),{c(){e=A("div"),n.c(),h(e,"slot","right")},m(a,u){w(a,e,u),l[t].m(e,null),r=!0},p(a,u){let c=t;t=o(a),t===c?l[t].p(a,u):(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),n=l[t],n?n.p(a,u):(n=l[t]=s[t](a),n.c()),_(n,1),n.m(e,null))},i(a){r||(_(n),r=!0)},o(a){v(n),r=!1},d(a){a&&y(e),l[t].d()}}}function U1e(i){let e,t,n,r,s,l;t=new Jt({props:{slot:"header",$$slots:{right:[Y1e],left:[I1e],default:[L1e]},$$scope:{ctx:i}}});function o(u){i[12](u)}let a={};return i[0]!==void 0&&(a.widget=i[0]),r=new Hge({props:a}),De.push(()=>Ue(r,"widget",o,i[0])),{c(){e=A("header"),O(t.$$.fragment),n=Y(),O(r.$$.fragment),h(e,"slot","header"),h(e,"class","bg-white dark:bg-black")},m(u,c){w(u,e,c),N(t,e,null),E(e,n),N(r,e,null),l=!0},p(u,c){const f={};c&1073741832&&(f.$$scope={dirty:c,ctx:u}),t.$set(f);const d={};!s&&c&1&&(s=!0,d.widget=u[0],qe(()=>s=!1)),r.$set(d)},i(u){l||(_(t.$$.fragment,u),_(r.$$.fragment,u),l=!0)},o(u){v(t.$$.fragment,u),v(r.$$.fragment,u),l=!1},d(u){u&&y(e),M(t),M(r)}}}function q1e(i){let e,t;return e=new _n({props:{mainClass:"bg-gray-100 dark:bg-gray-800",className:"bg-white dark:bg-black h-full",$$slots:{header:[U1e],default:[M1e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&1073741855&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function H1e(i,e,t){let n,r;Ee(i,Er,G=>t(25,n=G)),Ee(i,It,G=>t(4,r=G));let s=!1,l,{props:o}=e,{id:a}=e,u,c=!1,f=!1,d=FO(n),m;const p=async()=>{Ot(a)},g=async G=>{const U=await Vp();let Q=jae(U);t(0,l.token=Q,l)},k=async()=>{try{[...u.requires,...u.optional].indexOf("timeframe")||t(0,l.timeRange=void 0,l),o.onSave?(o.onSave(l),await Em(l).catch(G=>{throw G})):await Em(l).catch(G=>{throw G}),p()}catch(G){Xe.error(G)}};function $(G){l=G,t(0,l),t(8,o),t(10,s)}const D=()=>{t(0,l.token=void 0,l)},F=()=>{var G;g(((G=u==null?void 0:u.requires)==null?void 0:G.indexOf("tokens"))>-1)};function C(G){i.$$.not_equal(l.timeRange,G)&&(l.timeRange=G,t(0,l),t(8,o),t(10,s))}function S(G){i.$$.not_equal(l.includeAvg,G)&&(l.includeAvg=G,t(0,l),t(8,o),t(10,s))}function P(G){i.$$.not_equal(l.size,G)&&(l.size=G,t(0,l),t(8,o),t(10,s))}function I(G){i.$$.not_equal(l.description,G)&&(l.description=G,t(0,l),t(8,o),t(10,s))}function R(G){c=G,t(2,c),t(8,o),t(10,s),t(0,l)}const B=G=>{G.detail===!1&&(t(0,l.compareUnderColor=void 0,l),t(0,l.compareOverColor=void 0,l),t(0,l.compareValue=void 0,l))};function z(){l.compareValue=this.value,t(0,l),t(8,o),t(10,s)}const q=async()=>{alert("get Conditional Value?")},H=G=>{t(0,l.compareOverColor=G.detail,l)},K=G=>{t(0,l.compareUnderColor=G.detail,l)};return i.$$set=G=>{"props"in G&&t(8,o=G.props),"id"in G&&t(9,a=G.id)},i.$$.update=()=>{if(i.$$.dirty&1281&&o.widget&&!s&&(t(10,s=!0),t(0,l=new Yd(o.widget)),nc(l.compareValue)&&t(2,c=!0)),i.$$.dirty&1&&l.type&&t(1,u=d.find(G=>G.id===l.type)),i.$$.dirty&2049&&Fn(l)!==m){t(11,m=Fn(l));try{t(3,f=sme(l,d))}catch(G){console.error(G),t(3,f=!1)}}},[l,u,c,f,r,p,g,k,o,a,s,m,$,D,F,C,S,P,I,R,B,z,q,H,K]}class W1e extends ce{constructor(e){super(),ue(this,e,H1e,q1e,le,{props:8,id:9})}}const Qv=i=>{en({id:`widget-editor-${i.widget.id||""}`,component:W1e,componentProps:{props:i}})},M1=()=>new Promise(i=>{Qv({widget:new Yd({}),onSave(e){i(e)}})});function o3(i,e,t){const n=i.slice();return n[3]=e[t],n[5]=t,n}function V1e(i){return{c:W,m:W,p:W,d:W}}function G1e(i){let e,t=i[0].widgets,n=[];for(let r=0;r<t.length;r+=1)n[r]=a3(o3(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=$e()},m(r,s){for(let l=0;l<n.length;l+=1)n[l].m(r,s);w(r,e,s)},p(r,s){if(s&1){t=r[0].widgets;let l;for(l=0;l<t.length;l+=1){const o=o3(r,t,l);n[l]?n[l].p(o,s):(n[l]=a3(o),n[l].c(),n[l].m(e.parentNode,e))}for(;l<n.length;l+=1)n[l].d(1);n.length=t.length}},d(r){it(n,r),r&&y(e)}}}function a3(i){let e,t,n=i[3].getTitle()+"",r,s,l,o=i[3].type+"",a,u,c,f=i[3].getLabel().replace("days","")+"",d,m;return{c(){e=A("button"),t=A("strong"),r=Z(n),s=Y(),l=A("span"),a=Z(o),u=Y(),c=A("span"),d=Z(f),m=Y(),h(e,"class","pill sm space-x- flex")},m(p,g){w(p,e,g),E(e,t),E(t,r),E(e,s),E(e,l),E(l,a),E(e,u),E(e,c),E(c,d),E(e,m)},p(p,g){g&1&&n!==(n=p[3].getTitle()+"")&&oe(r,n),g&1&&o!==(o=p[3].type+"")&&oe(a,o),g&1&&f!==(f=p[3].getLabel().replace("days","")+"")&&oe(d,f)},d(p){p&&y(e)}}}function Z1e(i){let e,t,n=i[0].label+"",r,s,l,o,a,u,c,f;function d(g,k){return g[0].widgets.length?G1e:V1e}let m=d(i),p=m(i);return{c(){e=A("main"),t=A("div"),r=Z(n),s=Y(),l=A("div"),p.c(),o=Y(),a=A("div"),u=A("button"),u.textContent="+ Widget",h(t,"class","ntitle"),h(l,"class","widgets -ml-1 text-xs p-1 rounded-md flex flex-wrap")},m(g,k){w(g,e,k),E(e,t),E(t,r),E(e,s),E(e,l),p.m(l,null),E(l,o),E(l,a),E(a,u),c||(f=ke(u,"click",i[2]),c=!0)},p(g,k){k&1&&n!==(n=g[0].label+"")&&oe(r,n),m===(m=d(g))&&p?p.p(g,k):(p.d(1),p=m(g),p&&(p.c(),p.m(l,o)))},d(g){g&&y(e),p.d(),c=!1,f()}}}function x1e(i){let e,t;return e=new xe({props:{$$slots:{default:[Z1e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&65&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function X1e(i,e,t){let{dashboard:n}=e;const r=()=>{Qv({widget:new Yd,onSave(l){console.log({widget:l})}})},s=()=>{r()};return i.$$set=l=>{"dashboard"in l&&t(0,n=l.dashboard)},[n,r,s]}class K1e extends ce{constructor(e){super(),ue(this,e,X1e,x1e,le,{dashboard:0})}}function J1e(i){let e,t,n,r,s,l;return{c(){e=me("svg"),t=me("title"),n=Z("Scan"),r=me("path"),h(r,"d","M336 448h56a56 56 0 0056-56v-56M448 176v-56a56 56 0 00-56-56h-56M176 448h-56a56 56 0 01-56-56v-56M64 176v-56a56 56 0 0156-56h56"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),E(e,t),E(t,n),E(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:W,o:W,d(o){o&&y(e)}}}function Q1e(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class e0e extends ce{constructor(e){super(),ue(this,e,Q1e,J1e,le,{size:0})}}function t0e(i){let e,t,n,r,s,l;return{c(){e=me("svg"),t=me("title"),n=Z("Lock Closed"),r=me("path"),h(r,"d","M368 192h-16v-80a96 96 0 10-192 0v80h-16a64.07 64.07 0 00-64 64v176a64.07 64.07 0 0064 64h224a64.07 64.07 0 0064-64V256a64.07 64.07 0 00-64-64zm-48 0H192v-80a64 64 0 11128 0z"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),E(e,t),E(t,n),E(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:W,o:W,d(o){o&&y(e)}}}function n0e(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class IO extends ce{constructor(e){super(),ue(this,e,n0e,t0e,le,{size:0})}}function i0e(i,e,t){const n=i.slice();return n[2]=e[t],n[4]=t,n}function r0e(i){let e,t=i[4]+1+"",n,r;return{c(){e=A("option"),n=Z(t),r=Z(" days"),e.__value=`${i[4]+1}`,e.value=e.__value},m(s,l){w(s,e,l),E(e,n),E(e,r)},p:W,d(s){s&&y(e)}}}function s0e(i){let e,t=Array(30).fill(0),n=[];for(let r=0;r<t.length;r+=1)n[r]=r0e(i0e(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=$e()},m(r,s){for(let l=0;l<n.length;l+=1)n[l].m(r,s);w(r,e,s)},p:W,d(r){it(n,r),r&&y(e)}}}function l0e(i){let e,t;return e=new fn({props:{listItem:!0,type:"select",label:"Duration",placeholder:"Duration (in Days)",value:`${i[0].ctx.duration||1}`,$$slots:{default:[s0e]},$$scope:{ctx:i}}}),e.$on("change",i[1]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.value=`${n[0].ctx.duration||1}`),r&32&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function o0e(i){let e,t,n,r;return e=new Ft({props:{solo:!0,$$slots:{default:[l0e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment),t=Y(),n=A("p"),n.textContent=`Duration Days is how long this context tends to impact your life. Context is used to mark specific points in your life
  with things that can impact you for multiple days. For example being sick, or rushing for a project.`,h(n,"class","list-note")},m(s,l){N(e,s,l),w(s,t,l),w(s,n,l),r=!0},p(s,[l]){const o={};l&33&&(o.$$scope={dirty:l,ctx:s}),e.$set(o)},i(s){r||(_(e.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),r=!1},d(s){M(e,s),s&&y(t),s&&y(n)}}}function a0e(i,e,t){let{trackable:n}=e;const r=s=>{t(0,n.ctx.duration=Nn(s.detail),n)};return i.$$set=s=>{"trackable"in s&&t(0,n=s.trackable)},[n,r]}class u0e extends ce{constructor(e){super(),ue(this,e,a0e,o0e,le,{trackable:0})}}function c0e(i){let e,t,n;function r(l){i[1](l)}let s={listItem:!0,type:"textarea",label:"Note about Person",placeholder:"About this Person"};return i[0].person.notes!==void 0&&(s.value=i[0].person.notes),e=new fn({props:s}),De.push(()=>Ue(e,"value",r,i[0].person.notes)),{c(){O(e.$$.fragment)},m(l,o){N(e,l,o),n=!0},p(l,o){const a={};!t&&o&1&&(t=!0,a.value=l[0].person.notes,qe(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){M(e,l)}}}function f0e(i){let e,t;return e=new Ft({props:{solo:!0,$$slots:{default:[c0e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&5&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function d0e(i,e,t){let{trackable:n}=e;function r(s){i.$$.not_equal(n.person.notes,s)&&(n.person.notes=s,t(0,n))}return i.$$set=s=>{"trackable"in s&&t(0,n=s.trackable)},[n,r]}class h0e extends ce{constructor(e){super(),ue(this,e,d0e,f0e,le,{trackable:0})}}function u3(i,e,t){const n=i.slice();return n[8]=e[t],n[10]=t,n}function c3(i,e,t){const n=i.slice();return n[8]=e[t],n[10]=t,n}function m0e(i){let e,t;return e=new Oc({props:{className:"n-color-picker "+i[3],activeIndex:i[4],$$slots:{default:[_0e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&8&&(s.className="n-color-picker "+n[3]),r&16&&(s.activeIndex=n[4]),r&4101&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function p0e(i){let e,t,n=i[2],r=[];for(let s=0;s<n.length;s+=1)r[s]=d3(c3(i,n,s));return{c(){e=A("div");for(let s=0;s<r.length;s+=1)r[s].c();h(e,"class",t="asGrid n-color-picker "+i[3])},m(s,l){w(s,e,l);for(let o=0;o<r.length;o+=1)r[o].m(e,null)},p(s,l){if(l&37){n=s[2];let o;for(o=0;o<n.length;o+=1){const a=c3(s,n,o);r[o]?r[o].p(a,l):(r[o]=d3(a),r[o].c(),r[o].m(e,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}l&8&&t!==(t="asGrid n-color-picker "+s[3])&&h(e,"class",t)},i:W,o:W,d(s){s&&y(e),it(r,s)}}}function f3(i){let e,t,n,r;function s(){return i[7](i[8])}return{c(){e=A("button"),h(e,"class",t="color-btn "+(i[8]==i[0]?"selected":"")),nt(e,"background-color",i[8])},m(l,o){w(l,e,o),n||(r=ke(e,"click",s),n=!0)},p(l,o){i=l,o&5&&t!==(t="color-btn "+(i[8]==i[0]?"selected":""))&&h(e,"class",t),o&4&&nt(e,"background-color",i[8])},d(l){l&&y(e),n=!1,r()}}}function _0e(i){let e,t=i[2],n=[];for(let r=0;r<t.length;r+=1)n[r]=f3(u3(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=$e()},m(r,s){for(let l=0;l<n.length;l+=1)n[l].m(r,s);w(r,e,s)},p(r,s){if(s&5){t=r[2];let l;for(l=0;l<t.length;l+=1){const o=u3(r,t,l);n[l]?n[l].p(o,s):(n[l]=f3(o),n[l].c(),n[l].m(e.parentNode,e))}for(;l<n.length;l+=1)n[l].d(1);n.length=t.length}},d(r){it(n,r),r&&y(e)}}}function d3(i){let e,t,n,r;function s(){return i[6](i[8])}return{c(){e=A("button"),h(e,"class",t="color-btn "+(i[8]==i[0]?"selected":"")),nt(e,"background-color",i[8])},m(l,o){w(l,e,o),n||(r=ke(e,"click",s),n=!0)},p(l,o){i=l,o&5&&t!==(t="color-btn "+(i[8]==i[0]?"selected":""))&&h(e,"class",t),o&4&&nt(e,"background-color",i[8])},d(l){l&&y(e),n=!1,r()}}}function g0e(i){let e,t,n,r;const s=[p0e,m0e],l=[];function o(a,u){return a[1]?0:1}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=$e()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,[u]){let c=e;e=o(a),e===c?l[e].p(a,u):(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function v0e(i,e,t){let n,{value:r="#20699d"}=e,{grid:s=!1}=e,{colors:l=JN.reverse()}=e,{className:o=""}=e;const a=Dt(),u=f=>{t(0,r=f),a("color",f)},c=f=>{t(0,r=f)};return i.$$set=f=>{"value"in f&&t(0,r=f.value),"grid"in f&&t(1,s=f.grid),"colors"in f&&t(2,l=f.colors),"className"in f&&t(3,o=f.className)},i.$$.update=()=>{i.$$.dirty&5&&t(4,n=l.indexOf(r)||0)},[r,s,l,o,n,a,u,c]}class b0e extends ce{constructor(e){super(),ue(this,e,v0e,g0e,le,{value:0,grid:1,colors:2,className:3})}}function h3(i,e,t){const n=i.slice();return n[3]=e[t],n}function m3(i){let e,t;return e=new KL({props:{emoji:i[3],className:"text-2xl p-1"}}),e.$on("emojihover",i[1]),e.$on("emojiclick",i[2]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.emoji=n[3]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function k0e(i){let e,t,n=i[0],r=[];for(let l=0;l<n.length;l+=1)r[l]=m3(h3(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){e=A("div");for(let l=0;l<r.length;l+=1)r[l].c();h(e,"class","grid grid-cols-8 lg:grid-col-12 gap-1 items-start p-2")},m(l,o){w(l,e,o);for(let a=0;a<r.length;a+=1)r[a].m(e,null);t=!0},p(l,[o]){if(o&1){n=l[0];let a;for(a=0;a<n.length;a+=1){const u=h3(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=m3(u),r[a].c(),_(r[a],1),r[a].m(e,null))}for(ie(),a=n.length;a<r.length;a+=1)s(a);re()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){l&&y(e),it(r,l)}}}function y0e(i,e,t){let{emojis:n}=e;function r(l){Gr.call(this,i,l)}function s(l){Gr.call(this,i,l)}return i.$$set=l=>{"emojis"in l&&t(0,n=l.emojis)},[n,r,s]}class eb extends ce{constructor(e){super(),ue(this,e,y0e,k0e,le,{emojis:0})}}function w0e(i){let e,t,n;return t=new je({props:{icon:bc}}),{c(){e=A("span"),O(t.$$.fragment),h(e,"class","icon")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p:W,i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function $0e(i){let e,t,n,r,s;return t=new je({props:{icon:gl}}),{c(){e=A("span"),O(t.$$.fragment),h(e,"class","icon clear-button"),h(e,"role","button")},m(l,o){w(l,e,o),N(t,e,null),n=!0,r||(s=ke(e,"click",Ro(i[2])),r=!0)},p:W,i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){v(t.$$.fragment,l),n=!1},d(l){l&&y(e),M(t),r=!1,s()}}}function F0e(i){let e,t,n,r,s,l,o,a;const u=[$0e,w0e],c=[];function f(d,m){return d[0]?0:1}return r=f(i),s=c[r]=u[r](i),{c(){e=A("div"),t=A("input"),n=Y(),s.c(),h(t,"type","text"),h(t,"class","border-gray-500 dark:text-white border border-opacity-20"),h(t,"autocapitalize","false"),h(t,"autocomplete","false"),h(t,"placeholder","Search emojis..."),h(e,"class","svelte-emoji-picker__search")},m(d,m){w(d,e,m),E(e,t),mn(t,i[0]),i[5](t),E(e,n),c[r].m(e,null),l=!0,o||(a=[ke(t,"input",i[4]),ke(t,"keydown",i[3])],o=!0)},p(d,[m]){m&1&&t.value!==d[0]&&mn(t,d[0]);let p=r;r=f(d),r===p?c[r].p(d,m):(ie(),v(c[p],1,1,()=>{c[p]=null}),re(),s=c[r],s?s.p(d,m):(s=c[r]=u[r](d),s.c()),_(s,1),s.m(e,null))},i(d){l||(_(s),l=!0)},o(d){v(s),l=!1},d(d){d&&y(e),i[5](null),c[r].d(),o=!1,pt(a)}}}function E0e(i,e,t){let{searchText:n=""}=e,r;wt(()=>{});function s(){t(0,n=""),r.focus()}function l(u){u.key==="Escape"&&n&&(s(),u.stopPropagation())}function o(){n=this.value,t(0,n)}function a(u){De[u?"unshift":"push"](()=>{r=u,t(1,r)})}return i.$$set=u=>{"searchText"in u&&t(0,n=u.searchText)},[n,r,s,l,o,a]}class D0e extends ce{constructor(e){super(),ue(this,e,E0e,F0e,le,{searchText:0})}}const BO=[{n:"monkey_face",e:"\u{1F435}",v:[],c:"Nature"},{n:"grinning",e:"\u{1F600}",v:[],c:"People"},{n:"skin_tone_2",e:"\u{1F3FB}",v:[],c:"Skin Tones"},{n:"earth_africa",e:"\u{1F30D}",v:[],c:"Places"},{n:"checkered_flag",e:"\u{1F3C1}",v:[],c:"Flags"},{n:"mute",e:"\u{1F507}",v:[],c:"Objects"},{n:"jack_o_lantern",e:"\u{1F383}",v:[],c:"Activities"},{n:"atm",e:"\u{1F3E7}",v:[],c:"Symbols"},{n:"grapes",e:"\u{1F347}",v:[],c:"Eat"},{n:"earth_americas",e:"\u{1F30E}",v:[],c:"Places"},{n:"grin",e:"\u{1F601}",v:[],c:"People"},{n:"melon",e:"\u{1F348}",v:[],c:"Eat"},{n:"triangular_flag_on_post",e:"\u{1F6A9}",v:[],c:"Flags"},{n:"monkey",e:"\u{1F412}",v:[],c:"Nature"},{n:"christmas_tree",e:"\u{1F384}",v:[],c:"Activities"},{n:"skin_tone_3",e:"\u{1F3FC}",v:[],c:"Skin Tones"},{n:"put_litter_in_its_place",e:"\u{1F6AE}",v:[],c:"Symbols"},{n:"speaker",e:"\u{1F508}",v:[],c:"Objects"},{n:"earth_asia",e:"\u{1F30F}",v:[],c:"Places"},{n:"crossed_flags",e:"\u{1F38C}",v:[],c:"Flags"},{n:"joy",e:"\u{1F602}",v:[],c:"People"},{n:"sound",e:"\u{1F509}",v:[],c:"Objects"},{n:"watermelon",e:"\u{1F349}",v:[],c:"Eat"},{n:"gorilla",e:"\u{1F98D}",v:[],c:"Nature"},{n:"fireworks",e:"\u{1F386}",v:[],c:"Activities"},{n:"potable_water",e:"\u{1F6B0}",v:[],c:"Symbols"},{n:"skin_tone_4",e:"\u{1F3FD}",v:[],c:"Skin Tones"},{n:"wheelchair",e:"\u267F",v:[],c:"Symbols"},{n:"rolling_on_the_floor_laughing",e:"\u{1F923}",v:[],c:"People"},{n:"loud_sound",e:"\u{1F50A}",v:[],c:"Objects"},{n:"waving_black_flag",e:"\u{1F3F4}",v:[],c:"Flags"},{n:"tangerine",e:"\u{1F34A}",v:[],c:"Eat"},{n:"dog",e:"\u{1F436}",v:[],c:"Nature"},{n:"sparkler",e:"\u{1F387}",v:[],c:"Activities"},{n:"skin_tone_5",e:"\u{1F3FE}",v:[],c:"Skin Tones"},{n:"globe_with_meridians",e:"\u{1F310}",v:[],c:"Places"},{n:"skin_tone_6",e:"\u{1F3FF}",v:[],c:"Skin Tones"},{n:"smiley",e:"\u{1F603}",v:[],c:"People"},{n:"loudspeaker",e:"\u{1F4E2}",v:[],c:"Objects"},{n:"sparkles",e:"\u2728",v:[],c:"Activities"},{n:"dog2",e:"\u{1F415}",v:[],c:"Nature"},{n:"waving_white_flag",e:"\u{1F3F3}\uFE0F",v:[],c:"Flags"},{n:"world_map",e:"\u{1F5FA}\uFE0F",v:[],c:"Places"},{n:"lemon",e:"\u{1F34B}",v:[],c:"Eat"},{n:"mens",e:"\u{1F6B9}",v:[],c:"Symbols"},{n:"womens",e:"\u{1F6BA}",v:[],c:"Symbols"},{n:"rainbow_flag",e:"\u{1F3F3}\uFE0F\u200D\u{1F308}",v:[],c:"Flags"},{n:"smile",e:"\u{1F604}",v:[],c:"People"},{n:"banana",e:"\u{1F34C}",v:[],c:"Eat"},{n:"mega",e:"\u{1F4E3}",v:[],c:"Objects"},{n:"japan",e:"\u{1F5FE}",v:[],c:"Places"},{n:"poodle",e:"\u{1F429}",v:[],c:"Nature"},{n:"balloon",e:"\u{1F388}",v:[],c:"Activities"},{n:"flag_ac",e:"\u{1F1E6}\u{1F1E8}",v:[],c:"Flags"},{n:"sweat_smile",e:"\u{1F605}",v:[],c:"People"},{n:"pineapple",e:"\u{1F34D}",v:[],c:"Eat"},{n:"restroom",e:"\u{1F6BB}",v:[],c:"Symbols"},{n:"postal_horn",e:"\u{1F4EF}",v:[],c:"Objects"},{n:"wolf",e:"\u{1F43A}",v:[],c:"Nature"},{n:"tada",e:"\u{1F389}",v:[],c:"Activities"},{n:"snow_capped_mountain",e:"\u{1F3D4}\uFE0F",v:[],c:"Places"},{n:"laughing",e:"\u{1F606}",v:[],c:"People"},{n:"apple",e:"\u{1F34E}",v:[],c:"Eat"},{n:"flag_ad",e:"\u{1F1E6}\u{1F1E9}",v:[],c:"Flags"},{n:"fox_face",e:"\u{1F98A}",v:[],c:"Nature"},{n:"confetti_ball",e:"\u{1F38A}",v:[],c:"Activities"},{n:"bell",e:"\u{1F514}",v:[],c:"Objects"},{n:"mountain",e:"\u26F0\uFE0F",v:[],c:"Places"},{n:"baby_symbol",e:"\u{1F6BC}",v:[],c:"Symbols"},{n:"wc",e:"\u{1F6BE}",v:[],c:"Symbols"},{n:"wink",e:"\u{1F609}",v:[],c:"People"},{n:"no_bell",e:"\u{1F515}",v:[],c:"Objects"},{n:"green_apple",e:"\u{1F34F}",v:[],c:"Eat"},{n:"tanabata_tree",e:"\u{1F38B}",v:[],c:"Activities"},{n:"flag_ae",e:"\u{1F1E6}\u{1F1EA}",v:[],c:"Flags"},{n:"volcano",e:"\u{1F30B}",v:[],c:"Places"},{n:"cat",e:"\u{1F431}",v:[],c:"Nature"},{n:"flag_af",e:"\u{1F1E6}\u{1F1EB}",v:[],c:"Flags"},{n:"musical_score",e:"\u{1F3BC}",v:[],c:"Objects"},{n:"blush",e:"\u{1F60A}",v:[],c:"People"},{n:"pear",e:"\u{1F350}",v:[],c:"Eat"},{n:"bamboo",e:"\u{1F38D}",v:[],c:"Activities"},{n:"passport_control",e:"\u{1F6C2}",v:[],c:"Symbols"},{n:"mount_fuji",e:"\u{1F5FB}",v:[],c:"Places"},{n:"cat2",e:"\u{1F408}",v:[],c:"Nature"},{n:"musical_note",e:"\u{1F3B5}",v:[],c:"Objects"},{n:"dolls",e:"\u{1F38E}",v:[],c:"Activities"},{n:"lion_face",e:"\u{1F981}",v:[],c:"Nature"},{n:"camping",e:"\u{1F3D5}\uFE0F",v:[],c:"Places"},{n:"flag_ag",e:"\u{1F1E6}\u{1F1EC}",v:[],c:"Flags"},{n:"customs",e:"\u{1F6C3}",v:[],c:"Symbols"},{n:"yum",e:"\u{1F60B}",v:[],c:"People"},{n:"peach",e:"\u{1F351}",v:[],c:"Eat"},{n:"tiger",e:"\u{1F42F}",v:[],c:"Nature"},{n:"notes",e:"\u{1F3B6}",v:[],c:"Objects"},{n:"flags",e:"\u{1F38F}",v:[],c:"Activities"},{n:"beach_with_umbrella",e:"\u{1F3D6}\uFE0F",v:[],c:"Places"},{n:"cherries",e:"\u{1F352}",v:[],c:"Eat"},{n:"flag_ai",e:"\u{1F1E6}\u{1F1EE}",v:[],c:"Flags"},{n:"baggage_claim",e:"\u{1F6C4}",v:[],c:"Symbols"},{n:"sunglasses",e:"\u{1F60E}",v:[],c:"People"},{n:"left_luggage",e:"\u{1F6C5}",v:[],c:"Symbols"},{n:"wind_chime",e:"\u{1F390}",v:[],c:"Activities"},{n:"strawberry",e:"\u{1F353}",v:[],c:"Eat"},{n:"desert",e:"\u{1F3DC}\uFE0F",v:[],c:"Places"},{n:"studio_microphone",e:"\u{1F399}\uFE0F",v:[],c:"Objects"},{n:"flag_al",e:"\u{1F1E6}\u{1F1F1}",v:[],c:"Flags"},{n:"tiger2",e:"\u{1F405}",v:[],c:"Nature"},{n:"heart_eyes",e:"\u{1F60D}",v:[],c:"People"},{n:"desert_island",e:"\u{1F3DD}\uFE0F",v:[],c:"Places"},{n:"kiwifruit",e:"\u{1F95D}",v:[],c:"Eat"},{n:"rice_scene",e:"\u{1F391}",v:[],c:"Activities"},{n:"kissing_heart",e:"\u{1F618}",v:[],c:"People"},{n:"warning",e:"\u26A0\uFE0F",v:[],c:"Symbols"},{n:"flag_am",e:"\u{1F1E6}\u{1F1F2}",v:[],c:"Flags"},{n:"leopard",e:"\u{1F406}",v:[],c:"Nature"},{n:"level_slider",e:"\u{1F39A}\uFE0F",v:[],c:"Objects"},{n:"horse",e:"\u{1F434}",v:[],c:"Nature"},{n:"children_crossing",e:"\u{1F6B8}",v:[],c:"Symbols"},{n:"ribbon",e:"\u{1F380}",v:[],c:"Activities"},{n:"national_park",e:"\u{1F3DE}\uFE0F",v:[],c:"Places"},{n:"control_knobs",e:"\u{1F39B}\uFE0F",v:[],c:"Objects"},{n:"kissing",e:"\u{1F617}",v:[],c:"People"},{n:"tomato",e:"\u{1F345}",v:[],c:"Eat"},{n:"flag_ao",e:"\u{1F1E6}\u{1F1F4}",v:[],c:"Flags"},{n:"stadium",e:"\u{1F3DF}\uFE0F",v:[],c:"Places"},{n:"flag_aq",e:"\u{1F1E6}\u{1F1F6}",v:[],c:"Flags"},{n:"gift",e:"\u{1F381}",v:[],c:"Activities"},{n:"no_entry",e:"\u26D4",v:[],c:"Symbols"},{n:"kissing_smiling_eyes",e:"\u{1F619}",v:[],c:"People"},{n:"coconut",e:"\u{1F965}",v:[],c:"Eat"},{n:"racehorse",e:"\u{1F40E}",v:[],c:"Nature"},{n:"microphone",e:"\u{1F3A4}",v:[],c:"Objects"},{n:"classical_building",e:"\u{1F3DB}\uFE0F",v:[],c:"Places"},{n:"no_entry_sign",e:"\u{1F6AB}",v:[],c:"Symbols"},{n:"reminder_ribbon",e:"\u{1F397}\uFE0F",v:[],c:"Activities"},{n:"kissing_closed_eyes",e:"\u{1F61A}",v:[],c:"People"},{n:"unicorn_face",e:"\u{1F984}",v:[],c:"Nature"},{n:"flag_ar",e:"\u{1F1E6}\u{1F1F7}",v:[],c:"Flags"},{n:"headphones",e:"\u{1F3A7}",v:[],c:"Objects"},{n:"avocado",e:"\u{1F951}",v:[],c:"Eat"},{n:"relaxed",e:"\u263A\uFE0F",v:[],c:"People"},{n:"zebra_face",e:"\u{1F993}",v:[],c:"Nature"},{n:"eggplant",e:"\u{1F346}",v:[],c:"Eat"},{n:"radio",e:"\u{1F4FB}",v:[],c:"Objects"},{n:"building_construction",e:"\u{1F3D7}\uFE0F",v:[],c:"Places"},{n:"flag_as",e:"\u{1F1E6}\u{1F1F8}",v:[],c:"Flags"},{n:"admission_tickets",e:"\u{1F39F}\uFE0F",v:[],c:"Activities"},{n:"no_bicycles",e:"\u{1F6B3}",v:[],c:"Symbols"},{n:"no_smoking",e:"\u{1F6AD}",v:[],c:"Symbols"},{n:"slightly_smiling_face",e:"\u{1F642}",v:[],c:"People"},{n:"flag_at",e:"\u{1F1E6}\u{1F1F9}",v:[],c:"Flags"},{n:"ticket",e:"\u{1F3AB}",v:[],c:"Activities"},{n:"saxophone",e:"\u{1F3B7}",v:[],c:"Objects"},{n:"deer",e:"\u{1F98C}",v:[],c:"Nature"},{n:"house_buildings",e:"\u{1F3D8}\uFE0F",v:[],c:"Places"},{n:"potato",e:"\u{1F954}",v:[],c:"Eat"},{n:"guitar",e:"\u{1F3B8}",v:[],c:"Objects"},{n:"carrot",e:"\u{1F955}",v:[],c:"Eat"},{n:"cityscape",e:"\u{1F3D9}\uFE0F",v:[],c:"Places"},{n:"flag_au",e:"\u{1F1E6}\u{1F1FA}",v:[],c:"Flags"},{n:"do_not_litter",e:"\u{1F6AF}",v:[],c:"Symbols"},{n:"hugging_face",e:"\u{1F917}",v:[],c:"People"},{n:"cow",e:"\u{1F42E}",v:[],c:"Nature"},{n:"medal",e:"\u{1F396}\uFE0F",v:[],c:"Activities"},{n:"musical_keyboard",e:"\u{1F3B9}",v:[],c:"Objects"},{n:"corn",e:"\u{1F33D}",v:[],c:"Eat"},{n:"derelict_house_building",e:"\u{1F3DA}\uFE0F",v:[],c:"Places"},{n:"non_potable_water",e:"\u{1F6B1}",v:[],c:"Symbols"},{n:"trophy",e:"\u{1F3C6}",v:[],c:"Activities"},{n:"flag_aw",e:"\u{1F1E6}\u{1F1FC}",v:[],c:"Flags"},{n:"star_struck",e:"\u{1F929}",v:[],c:"People"},{n:"ox",e:"\u{1F402}",v:[],c:"Nature"},{n:"trumpet",e:"\u{1F3BA}",v:[],c:"Objects"},{n:"hot_pepper",e:"\u{1F336}\uFE0F",v:[],c:"Eat"},{n:"sports_medal",e:"\u{1F3C5}",v:[],c:"Activities"},{n:"flag_ax",e:"\u{1F1E6}\u{1F1FD}",v:[],c:"Flags"},{n:"water_buffalo",e:"\u{1F403}",v:[],c:"Nature"},{n:"no_pedestrians",e:"\u{1F6B7}",v:[],c:"Symbols"},{n:"thinking_face",e:"\u{1F914}",v:[],c:"People"},{n:"house",e:"\u{1F3E0}",v:[],c:"Places"},{n:"no_mobile_phones",e:"\u{1F4F5}",v:[],c:"Symbols"},{n:"flag_az",e:"\u{1F1E6}\u{1F1FF}",v:[],c:"Flags"},{n:"first_place_medal",e:"\u{1F947}",v:[],c:"Activities"},{n:"house_with_garden",e:"\u{1F3E1}",v:[],c:"Places"},{n:"violin",e:"\u{1F3BB}",v:[],c:"Objects"},{n:"face_with_raised_eyebrow",e:"\u{1F928}",v:[],c:"People"},{n:"cucumber",e:"\u{1F952}",v:[],c:"Eat"},{n:"cow2",e:"\u{1F404}",v:[],c:"Nature"},{n:"flag_ba",e:"\u{1F1E7}\u{1F1E6}",v:[],c:"Flags"},{n:"pig",e:"\u{1F437}",v:[],c:"Nature"},{n:"drum_with_drumsticks",e:"\u{1F941}",v:[],c:"Objects"},{n:"underage",e:"\u{1F51E}",v:[],c:"Symbols"},{n:"broccoli",e:"\u{1F966}",v:[],c:"Eat"},{n:"office",e:"\u{1F3E2}",v:[],c:"Places"},{n:"second_place_medal",e:"\u{1F948}",v:[],c:"Activities"},{n:"neutral_face",e:"\u{1F610}",v:[],c:"People"},{n:"third_place_medal",e:"\u{1F949}",v:[],c:"Activities"},{n:"mushroom",e:"\u{1F344}",v:[],c:"Eat"},{n:"flag_bb",e:"\u{1F1E7}\u{1F1E7}",v:[],c:"Flags"},{n:"radioactive_sign",e:"\u2622\uFE0F",v:[],c:"Symbols"},{n:"pig2",e:"\u{1F416}",v:[],c:"Nature"},{n:"expressionless",e:"\u{1F611}",v:[],c:"People"},{n:"iphone",e:"\u{1F4F1}",v:[],c:"Objects"},{n:"post_office",e:"\u{1F3E3}",v:[],c:"Places"},{n:"european_post_office",e:"\u{1F3E4}",v:[],c:"Places"},{n:"soccer",e:"\u26BD",v:[],c:"Activities"},{n:"boar",e:"\u{1F417}",v:[],c:"Nature"},{n:"peanuts",e:"\u{1F95C}",v:[],c:"Eat"},{n:"calling",e:"\u{1F4F2}",v:[],c:"Objects"},{n:"biohazard_sign",e:"\u2623\uFE0F",v:[],c:"Symbols"},{n:"flag_bd",e:"\u{1F1E7}\u{1F1E9}",v:[],c:"Flags"},{n:"no_mouth",e:"\u{1F636}",v:[],c:"People"},{n:"face_with_rolling_eyes",e:"\u{1F644}",v:[],c:"People"},{n:"phone",e:"\u260E\uFE0F",v:[],c:"Objects"},{n:"pig_nose",e:"\u{1F43D}",v:[],c:"Nature"},{n:"chestnut",e:"\u{1F330}",v:[],c:"Eat"},{n:"arrow_up",e:"\u2B06\uFE0F",v:[],c:"Symbols"},{n:"hospital",e:"\u{1F3E5}",v:[],c:"Places"},{n:"flag_be",e:"\u{1F1E7}\u{1F1EA}",v:[],c:"Flags"},{n:"baseball",e:"\u26BE",v:[],c:"Activities"},{n:"smirk",e:"\u{1F60F}",v:[],c:"People"},{n:"arrow_upper_right",e:"\u2197\uFE0F",v:[],c:"Symbols"},{n:"flag_bf",e:"\u{1F1E7}\u{1F1EB}",v:[],c:"Flags"},{n:"basketball",e:"\u{1F3C0}",v:[],c:"Activities"},{n:"ram",e:"\u{1F40F}",v:[],c:"Nature"},{n:"bank",e:"\u{1F3E6}",v:[],c:"Places"},{n:"bread",e:"\u{1F35E}",v:[],c:"Eat"},{n:"telephone_receiver",e:"\u{1F4DE}",v:[],c:"Objects"},{n:"croissant",e:"\u{1F950}",v:[],c:"Eat"},{n:"pager",e:"\u{1F4DF}",v:[],c:"Objects"},{n:"sheep",e:"\u{1F411}",v:[],c:"Nature"},{n:"arrow_right",e:"\u27A1\uFE0F",v:[],c:"Symbols"},{n:"persevere",e:"\u{1F623}",v:[],c:"People"},{n:"flag_bg",e:"\u{1F1E7}\u{1F1EC}",v:[],c:"Flags"},{n:"volleyball",e:"\u{1F3D0}",v:[],c:"Activities"},{n:"hotel",e:"\u{1F3E8}",v:[],c:"Places"},{n:"arrow_lower_right",e:"\u2198\uFE0F",v:[],c:"Symbols"},{n:"goat",e:"\u{1F410}",v:[],c:"Nature"},{n:"flag_bh",e:"\u{1F1E7}\u{1F1ED}",v:[],c:"Flags"},{n:"love_hotel",e:"\u{1F3E9}",v:[],c:"Places"},{n:"disappointed_relieved",e:"\u{1F625}",v:[],c:"People"},{n:"baguette_bread",e:"\u{1F956}",v:[],c:"Eat"},{n:"football",e:"\u{1F3C8}",v:[],c:"Activities"},{n:"fax",e:"\u{1F4E0}",v:[],c:"Objects"},{n:"convenience_store",e:"\u{1F3EA}",v:[],c:"Places"},{n:"dromedary_camel",e:"\u{1F42A}",v:[],c:"Nature"},{n:"arrow_down",e:"\u2B07\uFE0F",v:[],c:"Symbols"},{n:"battery",e:"\u{1F50B}",v:[],c:"Objects"},{n:"rugby_football",e:"\u{1F3C9}",v:[],c:"Activities"},{n:"pretzel",e:"\u{1F968}",v:[],c:"Eat"},{n:"open_mouth",e:"\u{1F62E}",v:[],c:"People"},{n:"flag_bi",e:"\u{1F1E7}\u{1F1EE}",v:[],c:"Flags"},{n:"flag_bj",e:"\u{1F1E7}\u{1F1EF}",v:[],c:"Flags"},{n:"pancakes",e:"\u{1F95E}",v:[],c:"Eat"},{n:"school",e:"\u{1F3EB}",v:[],c:"Places"},{n:"tennis",e:"\u{1F3BE}",v:[],c:"Activities"},{n:"zipper_mouth_face",e:"\u{1F910}",v:[],c:"People"},{n:"camel",e:"\u{1F42B}",v:[],c:"Nature"},{n:"arrow_lower_left",e:"\u2199\uFE0F",v:[],c:"Symbols"},{n:"electric_plug",e:"\u{1F50C}",v:[],c:"Objects"},{n:"cheese_wedge",e:"\u{1F9C0}",v:[],c:"Eat"},{n:"hushed",e:"\u{1F62F}",v:[],c:"People"},{n:"computer",e:"\u{1F4BB}",v:[],c:"Objects"},{n:"giraffe_face",e:"\u{1F992}",v:[],c:"Nature"},{n:"8ball",e:"\u{1F3B1}",v:[],c:"Activities"},{n:"flag_bl",e:"\u{1F1E7}\u{1F1F1}",v:[],c:"Flags"},{n:"arrow_left",e:"\u2B05\uFE0F",v:[],c:"Symbols"},{n:"department_store",e:"\u{1F3EC}",v:[],c:"Places"},{n:"meat_on_bone",e:"\u{1F356}",v:[],c:"Eat"},{n:"arrow_upper_left",e:"\u2196\uFE0F",v:[],c:"Symbols"},{n:"flag_bm",e:"\u{1F1E7}\u{1F1F2}",v:[],c:"Flags"},{n:"sleepy",e:"\u{1F62A}",v:[],c:"People"},{n:"bowling",e:"\u{1F3B3}",v:[],c:"Activities"},{n:"factory",e:"\u{1F3ED}",v:[],c:"Places"},{n:"desktop_computer",e:"\u{1F5A5}\uFE0F",v:[],c:"Objects"},{n:"elephant",e:"\u{1F418}",v:[],c:"Nature"},{n:"rhinoceros",e:"\u{1F98F}",v:[],c:"Nature"},{n:"arrow_up_down",e:"\u2195\uFE0F",v:[],c:"Symbols"},{n:"cricket_bat_and_ball",e:"\u{1F3CF}",v:[],c:"Activities"},{n:"printer",e:"\u{1F5A8}\uFE0F",v:[],c:"Objects"},{n:"poultry_leg",e:"\u{1F357}",v:[],c:"Eat"},{n:"tired_face",e:"\u{1F62B}",v:[],c:"People"},{n:"japanese_castle",e:"\u{1F3EF}",v:[],c:"Places"},{n:"flag_bn",e:"\u{1F1E7}\u{1F1F3}",v:[],c:"Flags"},{n:"field_hockey_stick_and_ball",e:"\u{1F3D1}",v:[],c:"Activities"},{n:"sleeping",e:"\u{1F634}",v:[],c:"People"},{n:"left_right_arrow",e:"\u2194\uFE0F",v:[],c:"Symbols"},{n:"keyboard",e:"\u2328\uFE0F",v:[],c:"Objects"},{n:"european_castle",e:"\u{1F3F0}",v:[],c:"Places"},{n:"mouse",e:"\u{1F42D}",v:[],c:"Nature"},{n:"flag_bo",e:"\u{1F1E7}\u{1F1F4}",v:[],c:"Flags"},{n:"cut_of_meat",e:"\u{1F969}",v:[],c:"Eat"},{n:"ice_hockey_stick_and_puck",e:"\u{1F3D2}",v:[],c:"Activities"},{n:"mouse2",e:"\u{1F401}",v:[],c:"Nature"},{n:"three_button_mouse",e:"\u{1F5B1}\uFE0F",v:[],c:"Objects"},{n:"leftwards_arrow_with_hook",e:"\u21A9\uFE0F",v:[],c:"Symbols"},{n:"bacon",e:"\u{1F953}",v:[],c:"Eat"},{n:"relieved",e:"\u{1F60C}",v:[],c:"People"},{n:"flag_bq",e:"\u{1F1E7}\u{1F1F6}",v:[],c:"Flags"},{n:"wedding",e:"\u{1F492}",v:[],c:"Places"},{n:"tokyo_tower",e:"\u{1F5FC}",v:[],c:"Places"},{n:"arrow_right_hook",e:"\u21AA\uFE0F",v:[],c:"Symbols"},{n:"hamburger",e:"\u{1F354}",v:[],c:"Eat"},{n:"stuck_out_tongue",e:"\u{1F61B}",v:[],c:"People"},{n:"trackball",e:"\u{1F5B2}\uFE0F",v:[],c:"Objects"},{n:"flag_br",e:"\u{1F1E7}\u{1F1F7}",v:[],c:"Flags"},{n:"rat",e:"\u{1F400}",v:[],c:"Nature"},{n:"table_tennis_paddle_and_ball",e:"\u{1F3D3}",v:[],c:"Activities"},{n:"minidisc",e:"\u{1F4BD}",v:[],c:"Objects"},{n:"stuck_out_tongue_winking_eye",e:"\u{1F61C}",v:[],c:"People"},{n:"fries",e:"\u{1F35F}",v:[],c:"Eat"},{n:"badminton_racquet_and_shuttlecock",e:"\u{1F3F8}",v:[],c:"Activities"},{n:"statue_of_liberty",e:"\u{1F5FD}",v:[],c:"Places"},{n:"flag_bs",e:"\u{1F1E7}\u{1F1F8}",v:[],c:"Flags"},{n:"arrow_heading_up",e:"\u2934\uFE0F",v:[],c:"Symbols"},{n:"hamster",e:"\u{1F439}",v:[],c:"Nature"},{n:"stuck_out_tongue_closed_eyes",e:"\u{1F61D}",v:[],c:"People"},{n:"pizza",e:"\u{1F355}",v:[],c:"Eat"},{n:"boxing_glove",e:"\u{1F94A}",v:[],c:"Activities"},{n:"floppy_disk",e:"\u{1F4BE}",v:[],c:"Objects"},{n:"arrow_heading_down",e:"\u2935\uFE0F",v:[],c:"Symbols"},{n:"flag_bt",e:"\u{1F1E7}\u{1F1F9}",v:[],c:"Flags"},{n:"rabbit",e:"\u{1F430}",v:[],c:"Nature"},{n:"church",e:"\u26EA",v:[],c:"Places"},{n:"drooling_face",e:"\u{1F924}",v:[],c:"People"},{n:"flag_bv",e:"\u{1F1E7}\u{1F1FB}",v:[],c:"Flags"},{n:"mosque",e:"\u{1F54C}",v:[],c:"Places"},{n:"rabbit2",e:"\u{1F407}",v:[],c:"Nature"},{n:"hotdog",e:"\u{1F32D}",v:[],c:"Eat"},{n:"martial_arts_uniform",e:"\u{1F94B}",v:[],c:"Activities"},{n:"arrows_clockwise",e:"\u{1F503}",v:[],c:"Symbols"},{n:"cd",e:"\u{1F4BF}",v:[],c:"Objects"},{n:"arrows_counterclockwise",e:"\u{1F504}",v:[],c:"Symbols"},{n:"sandwich",e:"\u{1F96A}",v:[],c:"Eat"},{n:"chipmunk",e:"\u{1F43F}\uFE0F",v:[],c:"Nature"},{n:"synagogue",e:"\u{1F54D}",v:[],c:"Places"},{n:"unamused",e:"\u{1F612}",v:[],c:"People"},{n:"goal_net",e:"\u{1F945}",v:[],c:"Activities"},{n:"flag_bw",e:"\u{1F1E7}\u{1F1FC}",v:[],c:"Flags"},{n:"dvd",e:"\u{1F4C0}",v:[],c:"Objects"},{n:"hedgehog",e:"\u{1F994}",v:[],c:"Nature"},{n:"dart",e:"\u{1F3AF}",v:[],c:"Activities"},{n:"taco",e:"\u{1F32E}",v:[],c:"Eat"},{n:"back",e:"\u{1F519}",v:[],c:"Symbols"},{n:"flag_by",e:"\u{1F1E7}\u{1F1FE}",v:[],c:"Flags"},{n:"shinto_shrine",e:"\u26E9\uFE0F",v:[],c:"Places"},{n:"movie_camera",e:"\u{1F3A5}",v:[],c:"Objects"},{n:"sweat",e:"\u{1F613}",v:[],c:"People"},{n:"burrito",e:"\u{1F32F}",v:[],c:"Eat"},{n:"flag_bz",e:"\u{1F1E7}\u{1F1FF}",v:[],c:"Flags"},{n:"pensive",e:"\u{1F614}",v:[],c:"People"},{n:"kaaba",e:"\u{1F54B}",v:[],c:"Places"},{n:"film_frames",e:"\u{1F39E}\uFE0F",v:[],c:"Objects"},{n:"bat",e:"\u{1F987}",v:[],c:"Nature"},{n:"golf",e:"\u26F3",v:[],c:"Activities"},{n:"end",e:"\u{1F51A}",v:[],c:"Symbols"},{n:"film_projector",e:"\u{1F4FD}\uFE0F",v:[],c:"Objects"},{n:"bear",e:"\u{1F43B}",v:[],c:"Nature"},{n:"ice_skate",e:"\u26F8\uFE0F",v:[],c:"Activities"},{n:"fountain",e:"\u26F2",v:[],c:"Places"},{n:"confused",e:"\u{1F615}",v:[],c:"People"},{n:"flag_ca",e:"\u{1F1E8}\u{1F1E6}",v:[],c:"Flags"},{n:"on",e:"\u{1F51B}",v:[],c:"Symbols"},{n:"stuffed_flatbread",e:"\u{1F959}",v:[],c:"Eat"},{n:"soon",e:"\u{1F51C}",v:[],c:"Symbols"},{n:"upside_down_face",e:"\u{1F643}",v:[],c:"People"},{n:"fishing_pole_and_fish",e:"\u{1F3A3}",v:[],c:"Activities"},{n:"tent",e:"\u26FA",v:[],c:"Places"},{n:"clapper",e:"\u{1F3AC}",v:[],c:"Objects"},{n:"egg",e:"\u{1F95A}",v:[],c:"Eat"},{n:"flag_cc",e:"\u{1F1E8}\u{1F1E8}",v:[],c:"Flags"},{n:"koala",e:"\u{1F428}",v:[],c:"Nature"},{n:"foggy",e:"\u{1F301}",v:[],c:"Places"},{n:"tv",e:"\u{1F4FA}",v:[],c:"Objects"},{n:"panda_face",e:"\u{1F43C}",v:[],c:"Nature"},{n:"fried_egg",e:"\u{1F373}",v:[],c:"Eat"},{n:"top",e:"\u{1F51D}",v:[],c:"Symbols"},{n:"flag_cd",e:"\u{1F1E8}\u{1F1E9}",v:[],c:"Flags"},{n:"money_mouth_face",e:"\u{1F911}",v:[],c:"People"},{n:"running_shirt_with_sash",e:"\u{1F3BD}",v:[],c:"Activities"},{n:"astonished",e:"\u{1F632}",v:[],c:"People"},{n:"feet",e:"\u{1F43E}",v:[],c:"Nature"},{n:"camera",e:"\u{1F4F7}",v:[],c:"Objects"},{n:"flag_cf",e:"\u{1F1E8}\u{1F1EB}",v:[],c:"Flags"},{n:"place_of_worship",e:"\u{1F6D0}",v:[],c:"Symbols"},{n:"night_with_stars",e:"\u{1F303}",v:[],c:"Places"},{n:"ski",e:"\u{1F3BF}",v:[],c:"Activities"},{n:"shallow_pan_of_food",e:"\u{1F958}",v:[],c:"Eat"},{n:"camera_with_flash",e:"\u{1F4F8}",v:[],c:"Objects"},{n:"sunrise_over_mountains",e:"\u{1F304}",v:[],c:"Places"},{n:"turkey",e:"\u{1F983}",v:[],c:"Nature"},{n:"white_frowning_face",e:"\u2639\uFE0F",v:[],c:"People"},{n:"flag_cg",e:"\u{1F1E8}\u{1F1EC}",v:[],c:"Flags"},{n:"stew",e:"\u{1F372}",v:[],c:"Eat"},{n:"sled",e:"\u{1F6F7}",v:[],c:"Activities"},{n:"atom_symbol",e:"\u269B\uFE0F",v:[],c:"Symbols"},{n:"curling_stone",e:"\u{1F94C}",v:[],c:"Activities"},{n:"slightly_frowning_face",e:"\u{1F641}",v:[],c:"People"},{n:"sunrise",e:"\u{1F305}",v:[],c:"Places"},{n:"om_symbol",e:"\u{1F549}\uFE0F",v:[],c:"Symbols"},{n:"chicken",e:"\u{1F414}",v:[],c:"Nature"},{n:"bowl_with_spoon",e:"\u{1F963}",v:[],c:"Eat"},{n:"flag_ch",e:"\u{1F1E8}\u{1F1ED}",v:[],c:"Flags"},{n:"video_camera",e:"\u{1F4F9}",v:[],c:"Objects"},{n:"video_game",e:"\u{1F3AE}",v:[],c:"Activities"},{n:"rooster",e:"\u{1F413}",v:[],c:"Nature"},{n:"vhs",e:"\u{1F4FC}",v:[],c:"Objects"},{n:"city_sunset",e:"\u{1F306}",v:[],c:"Places"},{n:"confounded",e:"\u{1F616}",v:[],c:"People"},{n:"green_salad",e:"\u{1F957}",v:[],c:"Eat"},{n:"star_of_david",e:"\u2721\uFE0F",v:[],c:"Symbols"},{n:"flag_ci",e:"\u{1F1E8}\u{1F1EE}",v:[],c:"Flags"},{n:"popcorn",e:"\u{1F37F}",v:[],c:"Eat"},{n:"city_sunrise",e:"\u{1F307}",v:[],c:"Places"},{n:"disappointed",e:"\u{1F61E}",v:[],c:"People"},{n:"mag",e:"\u{1F50D}",v:[],c:"Objects"},{n:"hatching_chick",e:"\u{1F423}",v:[],c:"Nature"},{n:"joystick",e:"\u{1F579}\uFE0F",v:[],c:"Activities"},{n:"wheel_of_dharma",e:"\u2638\uFE0F",v:[],c:"Symbols"},{n:"flag_ck",e:"\u{1F1E8}\u{1F1F0}",v:[],c:"Flags"},{n:"canned_food",e:"\u{1F96B}",v:[],c:"Eat"},{n:"worried",e:"\u{1F61F}",v:[],c:"People"},{n:"baby_chick",e:"\u{1F424}",v:[],c:"Nature"},{n:"flag_cl",e:"\u{1F1E8}\u{1F1F1}",v:[],c:"Flags"},{n:"game_die",e:"\u{1F3B2}",v:[],c:"Activities"},{n:"mag_right",e:"\u{1F50E}",v:[],c:"Objects"},{n:"yin_yang",e:"\u262F\uFE0F",v:[],c:"Symbols"},{n:"bridge_at_night",e:"\u{1F309}",v:[],c:"Places"},{n:"spades",e:"\u2660\uFE0F",v:[],c:"Activities"},{n:"hatched_chick",e:"\u{1F425}",v:[],c:"Nature"},{n:"flag_cm",e:"\u{1F1E8}\u{1F1F2}",v:[],c:"Flags"},{n:"latin_cross",e:"\u271D\uFE0F",v:[],c:"Symbols"},{n:"triumph",e:"\u{1F624}",v:[],c:"People"},{n:"hotsprings",e:"\u2668\uFE0F",v:[],c:"Places"},{n:"bento",e:"\u{1F371}",v:[],c:"Eat"},{n:"microscope",e:"\u{1F52C}",v:[],c:"Objects"},{n:"cry",e:"\u{1F622}",v:[],c:"People"},{n:"bird",e:"\u{1F426}",v:[],c:"Nature"},{n:"cn",e:"\u{1F1E8}\u{1F1F3}",v:[],c:"Flags"},{n:"telescope",e:"\u{1F52D}",v:[],c:"Objects"},{n:"rice_cracker",e:"\u{1F358}",v:[],c:"Eat"},{n:"hearts",e:"\u2665\uFE0F",v:[],c:"Activities"},{n:"orthodox_cross",e:"\u2626\uFE0F",v:[],c:"Symbols"},{n:"milky_way",e:"\u{1F30C}",v:[],c:"Places"},{n:"rice_ball",e:"\u{1F359}",v:[],c:"Eat"},{n:"satellite_antenna",e:"\u{1F4E1}",v:[],c:"Objects"},{n:"flag_co",e:"\u{1F1E8}\u{1F1F4}",v:[],c:"Flags"},{n:"carousel_horse",e:"\u{1F3A0}",v:[],c:"Places"},{n:"sob",e:"\u{1F62D}",v:[],c:"People"},{n:"diamonds",e:"\u2666\uFE0F",v:[],c:"Activities"},{n:"star_and_crescent",e:"\u262A\uFE0F",v:[],c:"Symbols"},{n:"penguin",e:"\u{1F427}",v:[],c:"Nature"},{n:"dove_of_peace",e:"\u{1F54A}\uFE0F",v:[],c:"Nature"},{n:"flag_cp",e:"\u{1F1E8}\u{1F1F5}",v:[],c:"Flags"},{n:"ferris_wheel",e:"\u{1F3A1}",v:[],c:"Places"},{n:"clubs",e:"\u2663\uFE0F",v:[],c:"Activities"},{n:"peace_symbol",e:"\u262E\uFE0F",v:[],c:"Symbols"},{n:"candle",e:"\u{1F56F}\uFE0F",v:[],c:"Objects"},{n:"frowning",e:"\u{1F626}",v:[],c:"People"},{n:"rice",e:"\u{1F35A}",v:[],c:"Eat"},{n:"flag_cr",e:"\u{1F1E8}\u{1F1F7}",v:[],c:"Flags"},{n:"roller_coaster",e:"\u{1F3A2}",v:[],c:"Places"},{n:"menorah_with_nine_branches",e:"\u{1F54E}",v:[],c:"Symbols"},{n:"black_joker",e:"\u{1F0CF}",v:[],c:"Activities"},{n:"eagle",e:"\u{1F985}",v:[],c:"Nature"},{n:"curry",e:"\u{1F35B}",v:[],c:"Eat"},{n:"bulb",e:"\u{1F4A1}",v:[],c:"Objects"},{n:"anguished",e:"\u{1F627}",v:[],c:"People"},{n:"flag_cu",e:"\u{1F1E8}\u{1F1FA}",v:[],c:"Flags"},{n:"barber",e:"\u{1F488}",v:[],c:"Places"},{n:"duck",e:"\u{1F986}",v:[],c:"Nature"},{n:"six_pointed_star",e:"\u{1F52F}",v:[],c:"Symbols"},{n:"ramen",e:"\u{1F35C}",v:[],c:"Eat"},{n:"flashlight",e:"\u{1F526}",v:[],c:"Objects"},{n:"mahjong",e:"\u{1F004}",v:[],c:"Activities"},{n:"fearful",e:"\u{1F628}",v:[],c:"People"},{n:"aries",e:"\u2648",v:[],c:"Symbols"},{n:"spaghetti",e:"\u{1F35D}",v:[],c:"Eat"},{n:"circus_tent",e:"\u{1F3AA}",v:[],c:"Places"},{n:"izakaya_lantern",e:"\u{1F3EE}",v:[],c:"Objects"},{n:"flag_cv",e:"\u{1F1E8}\u{1F1FB}",v:[],c:"Flags"},{n:"weary",e:"\u{1F629}",v:[],c:"People"},{n:"flower_playing_cards",e:"\u{1F3B4}",v:[],c:"Activities"},{n:"owl",e:"\u{1F989}",v:[],c:"Nature"},{n:"performing_arts",e:"\u{1F3AD}",v:[],c:"Places"},{n:"frog",e:"\u{1F438}",v:[],c:"Nature"},{n:"flag_cw",e:"\u{1F1E8}\u{1F1FC}",v:[],c:"Flags"},{n:"notebook_with_decorative_cover",e:"\u{1F4D4}",v:[],c:"Objects"},{n:"exploding_head",e:"\u{1F92F}",v:[],c:"People"},{n:"taurus",e:"\u2649",v:[],c:"Symbols"},{n:"sweet_potato",e:"\u{1F360}",v:[],c:"Eat"},{n:"closed_book",e:"\u{1F4D5}",v:[],c:"Objects"},{n:"gemini",e:"\u264A",v:[],c:"Symbols"},{n:"frame_with_picture",e:"\u{1F5BC}\uFE0F",v:[],c:"Places"},{n:"flag_cx",e:"\u{1F1E8}\u{1F1FD}",v:[],c:"Flags"},{n:"grimacing",e:"\u{1F62C}",v:[],c:"People"},{n:"crocodile",e:"\u{1F40A}",v:[],c:"Nature"},{n:"oden",e:"\u{1F362}",v:[],c:"Eat"},{n:"flag_cy",e:"\u{1F1E8}\u{1F1FE}",v:[],c:"Flags"},{n:"book",e:"\u{1F4D6}",v:[],c:"Objects"},{n:"turtle",e:"\u{1F422}",v:[],c:"Nature"},{n:"art",e:"\u{1F3A8}",v:[],c:"Places"},{n:"sushi",e:"\u{1F363}",v:[],c:"Eat"},{n:"cold_sweat",e:"\u{1F630}",v:[],c:"People"},{n:"cancer",e:"\u264B",v:[],c:"Symbols"},{n:"fried_shrimp",e:"\u{1F364}",v:[],c:"Eat"},{n:"slot_machine",e:"\u{1F3B0}",v:[],c:"Places"},{n:"scream",e:"\u{1F631}",v:[],c:"People"},{n:"green_book",e:"\u{1F4D7}",v:[],c:"Objects"},{n:"leo",e:"\u264C",v:[],c:"Symbols"},{n:"flag_cz",e:"\u{1F1E8}\u{1F1FF}",v:[],c:"Flags"},{n:"lizard",e:"\u{1F98E}",v:[],c:"Nature"},{n:"virgo",e:"\u264D",v:[],c:"Symbols"},{n:"steam_locomotive",e:"\u{1F682}",v:[],c:"Places"},{n:"de",e:"\u{1F1E9}\u{1F1EA}",v:[],c:"Flags"},{n:"flushed",e:"\u{1F633}",v:[],c:"People"},{n:"blue_book",e:"\u{1F4D8}",v:[],c:"Objects"},{n:"snake",e:"\u{1F40D}",v:[],c:"Nature"},{n:"fish_cake",e:"\u{1F365}",v:[],c:"Eat"},{n:"railway_car",e:"\u{1F683}",v:[],c:"Places"},{n:"dango",e:"\u{1F361}",v:[],c:"Eat"},{n:"orange_book",e:"\u{1F4D9}",v:[],c:"Objects"},{n:"libra",e:"\u264E",v:[],c:"Symbols"},{n:"dragon_face",e:"\u{1F432}",v:[],c:"Nature"},{n:"flag_dg",e:"\u{1F1E9}\u{1F1EC}",v:[],c:"Flags"},{n:"zany_face",e:"\u{1F92A}",v:[],c:"People"},{n:"books",e:"\u{1F4DA}",v:[],c:"Objects"},{n:"dragon",e:"\u{1F409}",v:[],c:"Nature"},{n:"flag_dj",e:"\u{1F1E9}\u{1F1EF}",v:[],c:"Flags"},{n:"dumpling",e:"\u{1F95F}",v:[],c:"Eat"},{n:"dizzy_face",e:"\u{1F635}",v:[],c:"People"},{n:"scorpius",e:"\u264F",v:[],c:"Symbols"},{n:"bullettrain_side",e:"\u{1F684}",v:[],c:"Places"},{n:"bullettrain_front",e:"\u{1F685}",v:[],c:"Places"},{n:"notebook",e:"\u{1F4D3}",v:[],c:"Objects"},{n:"fortune_cookie",e:"\u{1F960}",v:[],c:"Eat"},{n:"sagittarius",e:"\u2650",v:[],c:"Symbols"},{n:"sauropod",e:"\u{1F995}",v:[],c:"Nature"},{n:"flag_dk",e:"\u{1F1E9}\u{1F1F0}",v:[],c:"Flags"},{n:"rage",e:"\u{1F621}",v:[],c:"People"},{n:"ledger",e:"\u{1F4D2}",v:[],c:"Objects"},{n:"angry",e:"\u{1F620}",v:[],c:"People"},{n:"t_rex",e:"\u{1F996}",v:[],c:"Nature"},{n:"capricorn",e:"\u2651",v:[],c:"Symbols"},{n:"takeout_box",e:"\u{1F961}",v:[],c:"Eat"},{n:"flag_dm",e:"\u{1F1E9}\u{1F1F2}",v:[],c:"Flags"},{n:"train2",e:"\u{1F686}",v:[],c:"Places"},{n:"page_with_curl",e:"\u{1F4C3}",v:[],c:"Objects"},{n:"whale",e:"\u{1F433}",v:[],c:"Nature"},{n:"face_with_symbols_on_mouth",e:"\u{1F92C}",v:[],c:"People"},{n:"flag_do",e:"\u{1F1E9}\u{1F1F4}",v:[],c:"Flags"},{n:"metro",e:"\u{1F687}",v:[],c:"Places"},{n:"icecream",e:"\u{1F366}",v:[],c:"Eat"},{n:"aquarius",e:"\u2652",v:[],c:"Symbols"},{n:"flag_dz",e:"\u{1F1E9}\u{1F1FF}",v:[],c:"Flags"},{n:"whale2",e:"\u{1F40B}",v:[],c:"Nature"},{n:"mask",e:"\u{1F637}",v:[],c:"People"},{n:"scroll",e:"\u{1F4DC}",v:[],c:"Objects"},{n:"shaved_ice",e:"\u{1F367}",v:[],c:"Eat"},{n:"pisces",e:"\u2653",v:[],c:"Symbols"},{n:"light_rail",e:"\u{1F688}",v:[],c:"Places"},{n:"dolphin",e:"\u{1F42C}",v:[],c:"Nature"},{n:"face_with_thermometer",e:"\u{1F912}",v:[],c:"People"},{n:"flag_ea",e:"\u{1F1EA}\u{1F1E6}",v:[],c:"Flags"},{n:"ophiuchus",e:"\u26CE",v:[],c:"Symbols"},{n:"station",e:"\u{1F689}",v:[],c:"Places"},{n:"ice_cream",e:"\u{1F368}",v:[],c:"Eat"},{n:"page_facing_up",e:"\u{1F4C4}",v:[],c:"Objects"},{n:"doughnut",e:"\u{1F369}",v:[],c:"Eat"},{n:"face_with_head_bandage",e:"\u{1F915}",v:[],c:"People"},{n:"fish",e:"\u{1F41F}",v:[],c:"Nature"},{n:"newspaper",e:"\u{1F4F0}",v:[],c:"Objects"},{n:"tram",e:"\u{1F68A}",v:[],c:"Places"},{n:"flag_ec",e:"\u{1F1EA}\u{1F1E8}",v:[],c:"Flags"},{n:"twisted_rightwards_arrows",e:"\u{1F500}",v:[],c:"Symbols"},{n:"flag_ee",e:"\u{1F1EA}\u{1F1EA}",v:[],c:"Flags"},{n:"cookie",e:"\u{1F36A}",v:[],c:"Eat"},{n:"monorail",e:"\u{1F69D}",v:[],c:"Places"},{n:"tropical_fish",e:"\u{1F420}",v:[],c:"Nature"},{n:"rolled_up_newspaper",e:"\u{1F5DE}\uFE0F",v:[],c:"Objects"},{n:"nauseated_face",e:"\u{1F922}",v:[],c:"People"},{n:"repeat",e:"\u{1F501}",v:[],c:"Symbols"},{n:"bookmark_tabs",e:"\u{1F4D1}",v:[],c:"Objects"},{n:"repeat_one",e:"\u{1F502}",v:[],c:"Symbols"},{n:"flag_eg",e:"\u{1F1EA}\u{1F1EC}",v:[],c:"Flags"},{n:"mountain_railway",e:"\u{1F69E}",v:[],c:"Places"},{n:"birthday",e:"\u{1F382}",v:[],c:"Eat"},{n:"blowfish",e:"\u{1F421}",v:[],c:"Nature"},{n:"face_vomiting",e:"\u{1F92E}",v:[],c:"People"},{n:"arrow_forward",e:"\u25B6\uFE0F",v:[],c:"Symbols"},{n:"bookmark",e:"\u{1F516}",v:[],c:"Objects"},{n:"flag_eh",e:"\u{1F1EA}\u{1F1ED}",v:[],c:"Flags"},{n:"shark",e:"\u{1F988}",v:[],c:"Nature"},{n:"train",e:"\u{1F68B}",v:[],c:"Places"},{n:"sneezing_face",e:"\u{1F927}",v:[],c:"People"},{n:"cake",e:"\u{1F370}",v:[],c:"Eat"},{n:"bus",e:"\u{1F68C}",v:[],c:"Places"},{n:"pie",e:"\u{1F967}",v:[],c:"Eat"},{n:"innocent",e:"\u{1F607}",v:[],c:"People"},{n:"fast_forward",e:"\u23E9",v:[],c:"Symbols"},{n:"label",e:"\u{1F3F7}\uFE0F",v:[],c:"Objects"},{n:"octopus",e:"\u{1F419}",v:[],c:"Nature"},{n:"flag_er",e:"\u{1F1EA}\u{1F1F7}",v:[],c:"Flags"},{n:"black_right_pointing_double_triangle_with_vertical_bar",e:"\u23ED\uFE0F",v:[],c:"Symbols"},{n:"chocolate_bar",e:"\u{1F36B}",v:[],c:"Eat"},{n:"oncoming_bus",e:"\u{1F68D}",v:[],c:"Places"},{n:"shell",e:"\u{1F41A}",v:[],c:"Nature"},{n:"face_with_cowboy_hat",e:"\u{1F920}",v:[],c:"People"},{n:"moneybag",e:"\u{1F4B0}",v:[],c:"Objects"},{n:"es",e:"\u{1F1EA}\u{1F1F8}",v:[],c:"Flags"},{n:"crab",e:"\u{1F980}",v:[],c:"Nature"},{n:"yen",e:"\u{1F4B4}",v:[],c:"Objects"},{n:"flag_et",e:"\u{1F1EA}\u{1F1F9}",v:[],c:"Flags"},{n:"clown_face",e:"\u{1F921}",v:[],c:"People"},{n:"black_right_pointing_triangle_with_double_vertical_bar",e:"\u23EF\uFE0F",v:[],c:"Symbols"},{n:"trolleybus",e:"\u{1F68E}",v:[],c:"Places"},{n:"candy",e:"\u{1F36C}",v:[],c:"Eat"},{n:"lying_face",e:"\u{1F925}",v:[],c:"People"},{n:"arrow_backward",e:"\u25C0\uFE0F",v:[],c:"Symbols"},{n:"dollar",e:"\u{1F4B5}",v:[],c:"Objects"},{n:"shrimp",e:"\u{1F990}",v:[],c:"Nature"},{n:"minibus",e:"\u{1F690}",v:[],c:"Places"},{n:"flag_eu",e:"\u{1F1EA}\u{1F1FA}",v:[],c:"Flags"},{n:"lollipop",e:"\u{1F36D}",v:[],c:"Eat"},{n:"squid",e:"\u{1F991}",v:[],c:"Nature"},{n:"euro",e:"\u{1F4B6}",v:[],c:"Objects"},{n:"flag_fi",e:"\u{1F1EB}\u{1F1EE}",v:[],c:"Flags"},{n:"ambulance",e:"\u{1F691}",v:[],c:"Places"},{n:"custard",e:"\u{1F36E}",v:[],c:"Eat"},{n:"shushing_face",e:"\u{1F92B}",v:[],c:"People"},{n:"rewind",e:"\u23EA",v:[],c:"Symbols"},{n:"black_left_pointing_double_triangle_with_vertical_bar",e:"\u23EE\uFE0F",v:[],c:"Symbols"},{n:"face_with_hand_over_mouth",e:"\u{1F92D}",v:[],c:"People"},{n:"flag_fj",e:"\u{1F1EB}\u{1F1EF}",v:[],c:"Flags"},{n:"honey_pot",e:"\u{1F36F}",v:[],c:"Eat"},{n:"snail",e:"\u{1F40C}",v:[],c:"Nature"},{n:"pound",e:"\u{1F4B7}",v:[],c:"Objects"},{n:"fire_engine",e:"\u{1F692}",v:[],c:"Places"},{n:"baby_bottle",e:"\u{1F37C}",v:[],c:"Eat"},{n:"flag_fk",e:"\u{1F1EB}\u{1F1F0}",v:[],c:"Flags"},{n:"butterfly",e:"\u{1F98B}",v:[],c:"Nature"},{n:"money_with_wings",e:"\u{1F4B8}",v:[],c:"Objects"},{n:"face_with_monocle",e:"\u{1F9D0}",v:[],c:"People"},{n:"police_car",e:"\u{1F693}",v:[],c:"Places"},{n:"arrow_up_small",e:"\u{1F53C}",v:[],c:"Symbols"},{n:"flag_fm",e:"\u{1F1EB}\u{1F1F2}",v:[],c:"Flags"},{n:"glass_of_milk",e:"\u{1F95B}",v:[],c:"Eat"},{n:"credit_card",e:"\u{1F4B3}",v:[],c:"Objects"},{n:"oncoming_police_car",e:"\u{1F694}",v:[],c:"Places"},{n:"bug",e:"\u{1F41B}",v:[],c:"Nature"},{n:"nerd_face",e:"\u{1F913}",v:[],c:"People"},{n:"arrow_double_up",e:"\u23EB",v:[],c:"Symbols"},{n:"chart",e:"\u{1F4B9}",v:[],c:"Objects"},{n:"flag_fo",e:"\u{1F1EB}\u{1F1F4}",v:[],c:"Flags"},{n:"ant",e:"\u{1F41C}",v:[],c:"Nature"},{n:"arrow_down_small",e:"\u{1F53D}",v:[],c:"Symbols"},{n:"smiling_imp",e:"\u{1F608}",v:[],c:"People"},{n:"taxi",e:"\u{1F695}",v:[],c:"Places"},{n:"coffee",e:"\u2615",v:[],c:"Eat"},{n:"fr",e:"\u{1F1EB}\u{1F1F7}",v:[],c:"Flags"},{n:"oncoming_taxi",e:"\u{1F696}",v:[],c:"Places"},{n:"arrow_double_down",e:"\u23EC",v:[],c:"Symbols"},{n:"imp",e:"\u{1F47F}",v:[],c:"People"},{n:"currency_exchange",e:"\u{1F4B1}",v:[],c:"Objects"},{n:"tea",e:"\u{1F375}",v:[],c:"Eat"},{n:"bee",e:"\u{1F41D}",v:[],c:"Nature"},{n:"heavy_dollar_sign",e:"\u{1F4B2}",v:[],c:"Objects"},{n:"car",e:"\u{1F697}",v:[],c:"Places"},{n:"sake",e:"\u{1F376}",v:[],c:"Eat"},{n:"flag_ga",e:"\u{1F1EC}\u{1F1E6}",v:[],c:"Flags"},{n:"beetle",e:"\u{1F41E}",v:[],c:"Nature"},{n:"japanese_ogre",e:"\u{1F479}",v:[],c:"People"},{n:"double_vertical_bar",e:"\u23F8\uFE0F",v:[],c:"Symbols"},{n:"champagne",e:"\u{1F37E}",v:[],c:"Eat"},{n:"japanese_goblin",e:"\u{1F47A}",v:[],c:"People"},{n:"black_square_for_stop",e:"\u23F9\uFE0F",v:[],c:"Symbols"},{n:"oncoming_automobile",e:"\u{1F698}",v:[],c:"Places"},{n:"email",e:"\u2709\uFE0F",v:[],c:"Objects"},{n:"cricket",e:"\u{1F997}",v:[],c:"Nature"},{n:"gb",e:"\u{1F1EC}\u{1F1E7}",v:[],c:"Flags"},{n:"black_circle_for_record",e:"\u23FA\uFE0F",v:[],c:"Symbols"},{n:"flag_gd",e:"\u{1F1EC}\u{1F1E9}",v:[],c:"Flags"},{n:"spider",e:"\u{1F577}\uFE0F",v:[],c:"Nature"},{n:"blue_car",e:"\u{1F699}",v:[],c:"Places"},{n:"skull",e:"\u{1F480}",v:[],c:"People"},{n:"e_mail",e:"\u{1F4E7}",v:[],c:"Objects"},{n:"wine_glass",e:"\u{1F377}",v:[],c:"Eat"},{n:"spider_web",e:"\u{1F578}\uFE0F",v:[],c:"Nature"},{n:"cocktail",e:"\u{1F378}",v:[],c:"Eat"},{n:"skull_and_crossbones",e:"\u2620\uFE0F",v:[],c:"People"},{n:"flag_ge",e:"\u{1F1EC}\u{1F1EA}",v:[],c:"Flags"},{n:"eject",e:"\u23CF\uFE0F",v:[],c:"Symbols"},{n:"truck",e:"\u{1F69A}",v:[],c:"Places"},{n:"incoming_envelope",e:"\u{1F4E8}",v:[],c:"Objects"},{n:"tropical_drink",e:"\u{1F379}",v:[],c:"Eat"},{n:"scorpion",e:"\u{1F982}",v:[],c:"Nature"},{n:"cinema",e:"\u{1F3A6}",v:[],c:"Symbols"},{n:"articulated_lorry",e:"\u{1F69B}",v:[],c:"Places"},{n:"envelope_with_arrow",e:"\u{1F4E9}",v:[],c:"Objects"},{n:"ghost",e:"\u{1F47B}",v:[],c:"People"},{n:"flag_gf",e:"\u{1F1EC}\u{1F1EB}",v:[],c:"Flags"},{n:"bouquet",e:"\u{1F490}",v:[],c:"Nature"},{n:"tractor",e:"\u{1F69C}",v:[],c:"Places"},{n:"beer",e:"\u{1F37A}",v:[],c:"Eat"},{n:"outbox_tray",e:"\u{1F4E4}",v:[],c:"Objects"},{n:"low_brightness",e:"\u{1F505}",v:[],c:"Symbols"},{n:"alien",e:"\u{1F47D}",v:[],c:"People"},{n:"flag_gg",e:"\u{1F1EC}\u{1F1EC}",v:[],c:"Flags"},{n:"cherry_blossom",e:"\u{1F338}",v:[],c:"Nature"},{n:"inbox_tray",e:"\u{1F4E5}",v:[],c:"Objects"},{n:"flag_gh",e:"\u{1F1EC}\u{1F1ED}",v:[],c:"Flags"},{n:"bike",e:"\u{1F6B2}",v:[],c:"Places"},{n:"space_invader",e:"\u{1F47E}",v:[],c:"People"},{n:"beers",e:"\u{1F37B}",v:[],c:"Eat"},{n:"high_brightness",e:"\u{1F506}",v:[],c:"Symbols"},{n:"package",e:"\u{1F4E6}",v:[],c:"Objects"},{n:"scooter",e:"\u{1F6F4}",v:[],c:"Places"},{n:"white_flower",e:"\u{1F4AE}",v:[],c:"Nature"},{n:"clinking_glasses",e:"\u{1F942}",v:[],c:"Eat"},{n:"robot_face",e:"\u{1F916}",v:[],c:"People"},{n:"signal_strength",e:"\u{1F4F6}",v:[],c:"Symbols"},{n:"flag_gi",e:"\u{1F1EC}\u{1F1EE}",v:[],c:"Flags"},{n:"flag_gl",e:"\u{1F1EC}\u{1F1F1}",v:[],c:"Flags"},{n:"motor_scooter",e:"\u{1F6F5}",v:[],c:"Places"},{n:"mailbox",e:"\u{1F4EB}",v:[],c:"Objects"},{n:"vibration_mode",e:"\u{1F4F3}",v:[],c:"Symbols"},{n:"hankey",e:"\u{1F4A9}",v:[],c:"People"},{n:"rosette",e:"\u{1F3F5}\uFE0F",v:[],c:"Nature"},{n:"tumbler_glass",e:"\u{1F943}",v:[],c:"Eat"},{n:"cup_with_straw",e:"\u{1F964}",v:[],c:"Eat"},{n:"flag_gm",e:"\u{1F1EC}\u{1F1F2}",v:[],c:"Flags"},{n:"mailbox_closed",e:"\u{1F4EA}",v:[],c:"Objects"},{n:"mobile_phone_off",e:"\u{1F4F4}",v:[],c:"Symbols"},{n:"busstop",e:"\u{1F68F}",v:[],c:"Places"},{n:"smiley_cat",e:"\u{1F63A}",v:[],c:"People"},{n:"rose",e:"\u{1F339}",v:[],c:"Nature"},{n:"motorway",e:"\u{1F6E3}\uFE0F",v:[],c:"Places"},{n:"smile_cat",e:"\u{1F638}",v:[],c:"People"},{n:"flag_gn",e:"\u{1F1EC}\u{1F1F3}",v:[],c:"Flags"},{n:"wilted_flower",e:"\u{1F940}",v:[],c:"Nature"},{n:"mailbox_with_mail",e:"\u{1F4EC}",v:[],c:"Objects"},{n:"chopsticks",e:"\u{1F962}",v:[],c:"Eat"},{n:"female_sign",e:"\u2640\uFE0F",v:[],c:"Symbols"},{n:"mailbox_with_no_mail",e:"\u{1F4ED}",v:[],c:"Objects"},{n:"knife_fork_plate",e:"\u{1F37D}\uFE0F",v:[],c:"Eat"},{n:"hibiscus",e:"\u{1F33A}",v:[],c:"Nature"},{n:"flag_gp",e:"\u{1F1EC}\u{1F1F5}",v:[],c:"Flags"},{n:"railway_track",e:"\u{1F6E4}\uFE0F",v:[],c:"Places"},{n:"male_sign",e:"\u2642\uFE0F",v:[],c:"Symbols"},{n:"joy_cat",e:"\u{1F639}",v:[],c:"People"},{n:"fuelpump",e:"\u26FD",v:[],c:"Places"},{n:"sunflower",e:"\u{1F33B}",v:[],c:"Nature"},{n:"postbox",e:"\u{1F4EE}",v:[],c:"Objects"},{n:"flag_gq",e:"\u{1F1EC}\u{1F1F6}",v:[],c:"Flags"},{n:"heart_eyes_cat",e:"\u{1F63B}",v:[],c:"People"},{n:"fork_and_knife",e:"\u{1F374}",v:[],c:"Eat"},{n:"medical_symbol",e:"\u2695\uFE0F",v:[],c:"Symbols"},{n:"recycle",e:"\u267B\uFE0F",v:[],c:"Symbols"},{n:"spoon",e:"\u{1F944}",v:[],c:"Eat"},{n:"blossom",e:"\u{1F33C}",v:[],c:"Nature"},{n:"rotating_light",e:"\u{1F6A8}",v:[],c:"Places"},{n:"smirk_cat",e:"\u{1F63C}",v:[],c:"People"},{n:"ballot_box_with_ballot",e:"\u{1F5F3}\uFE0F",v:[],c:"Objects"},{n:"flag_gr",e:"\u{1F1EC}\u{1F1F7}",v:[],c:"Flags"},{n:"kissing_cat",e:"\u{1F63D}",v:[],c:"People"},{n:"pencil2",e:"\u270F\uFE0F",v:[],c:"Objects"},{n:"traffic_light",e:"\u{1F6A5}",v:[],c:"Places"},{n:"fleur_de_lis",e:"\u269C\uFE0F",v:[],c:"Symbols"},{n:"tulip",e:"\u{1F337}",v:[],c:"Nature"},{n:"hocho",e:"\u{1F52A}",v:[],c:"Eat"},{n:"flag_gs",e:"\u{1F1EC}\u{1F1F8}",v:[],c:"Flags"},{n:"seedling",e:"\u{1F331}",v:[],c:"Nature"},{n:"amphora",e:"\u{1F3FA}",v:[],c:"Eat"},{n:"scream_cat",e:"\u{1F640}",v:[],c:"People"},{n:"vertical_traffic_light",e:"\u{1F6A6}",v:[],c:"Places"},{n:"black_nib",e:"\u2712\uFE0F",v:[],c:"Objects"},{n:"flag_gt",e:"\u{1F1EC}\u{1F1F9}",v:[],c:"Flags"},{n:"trident",e:"\u{1F531}",v:[],c:"Symbols"},{n:"flag_gu",e:"\u{1F1EC}\u{1F1FA}",v:[],c:"Flags"},{n:"name_badge",e:"\u{1F4DB}",v:[],c:"Symbols"},{n:"construction",e:"\u{1F6A7}",v:[],c:"Places"},{n:"lower_left_fountain_pen",e:"\u{1F58B}\uFE0F",v:[],c:"Objects"},{n:"evergreen_tree",e:"\u{1F332}",v:[],c:"Nature"},{n:"crying_cat_face",e:"\u{1F63F}",v:[],c:"People"},{n:"flag_gw",e:"\u{1F1EC}\u{1F1FC}",v:[],c:"Flags"},{n:"lower_left_ballpoint_pen",e:"\u{1F58A}\uFE0F",v:[],c:"Objects"},{n:"pouting_cat",e:"\u{1F63E}",v:[],c:"People"},{n:"deciduous_tree",e:"\u{1F333}",v:[],c:"Nature"},{n:"octagonal_sign",e:"\u{1F6D1}",v:[],c:"Places"},{n:"beginner",e:"\u{1F530}",v:[],c:"Symbols"},{n:"flag_gy",e:"\u{1F1EC}\u{1F1FE}",v:[],c:"Flags"},{n:"lower_left_paintbrush",e:"\u{1F58C}\uFE0F",v:[],c:"Objects"},{n:"o",e:"\u2B55",v:[],c:"Symbols"},{n:"palm_tree",e:"\u{1F334}",v:[],c:"Nature"},{n:"anchor",e:"\u2693",v:[],c:"Places"},{n:"see_no_evil",e:"\u{1F648}",v:[],c:"People"},{n:"boat",e:"\u26F5",v:[],c:"Places"},{n:"white_check_mark",e:"\u2705",v:[],c:"Symbols"},{n:"flag_hk",e:"\u{1F1ED}\u{1F1F0}",v:[],c:"Flags"},{n:"lower_left_crayon",e:"\u{1F58D}\uFE0F",v:[],c:"Objects"},{n:"hear_no_evil",e:"\u{1F649}",v:[],c:"People"},{n:"cactus",e:"\u{1F335}",v:[],c:"Nature"},{n:"ear_of_rice",e:"\u{1F33E}",v:[],c:"Nature"},{n:"speak_no_evil",e:"\u{1F64A}",v:[],c:"People"},{n:"flag_hm",e:"\u{1F1ED}\u{1F1F2}",v:[],c:"Flags"},{n:"ballot_box_with_check",e:"\u2611\uFE0F",v:[],c:"Symbols"},{n:"canoe",e:"\u{1F6F6}",v:[],c:"Places"},{n:"memo",e:"\u{1F4DD}",v:[],c:"Objects"},{n:"herb",e:"\u{1F33F}",v:[],c:"Nature"},{n:"flag_hn",e:"\u{1F1ED}\u{1F1F3}",v:[],c:"Flags"},{n:"heavy_check_mark",e:"\u2714\uFE0F",v:[],c:"Symbols"},{n:"briefcase",e:"\u{1F4BC}",v:[],c:"Objects"},{n:"speedboat",e:"\u{1F6A4}",v:[],c:"Places"},{n:"baby",e:"\u{1F476}",v:["\u{1F476}\u{1F3FB}","\u{1F476}\u{1F3FC}","\u{1F476}\u{1F3FD}","\u{1F476}\u{1F3FE}","\u{1F476}\u{1F3FF}"],c:"People"},{n:"heavy_multiplication_x",e:"\u2716\uFE0F",v:[],c:"Symbols"},{n:"child",e:"\u{1F9D2}",v:["\u{1F9D2}\u{1F3FB}","\u{1F9D2}\u{1F3FC}","\u{1F9D2}\u{1F3FD}","\u{1F9D2}\u{1F3FE}","\u{1F9D2}\u{1F3FF}"],c:"People"},{n:"shamrock",e:"\u2618\uFE0F",v:[],c:"Nature"},{n:"passenger_ship",e:"\u{1F6F3}\uFE0F",v:[],c:"Places"},{n:"flag_hr",e:"\u{1F1ED}\u{1F1F7}",v:[],c:"Flags"},{n:"file_folder",e:"\u{1F4C1}",v:[],c:"Objects"},{n:"x",e:"\u274C",v:[],c:"Symbols"},{n:"four_leaf_clover",e:"\u{1F340}",v:[],c:"Nature"},{n:"open_file_folder",e:"\u{1F4C2}",v:[],c:"Objects"},{n:"boy",e:"\u{1F466}",v:["\u{1F466}\u{1F3FB}","\u{1F466}\u{1F3FC}","\u{1F466}\u{1F3FD}","\u{1F466}\u{1F3FE}","\u{1F466}\u{1F3FF}"],c:"People"},{n:"ferry",e:"\u26F4\uFE0F",v:[],c:"Places"},{n:"flag_ht",e:"\u{1F1ED}\u{1F1F9}",v:[],c:"Flags"},{n:"girl",e:"\u{1F467}",v:["\u{1F467}\u{1F3FB}","\u{1F467}\u{1F3FC}","\u{1F467}\u{1F3FD}","\u{1F467}\u{1F3FE}","\u{1F467}\u{1F3FF}"],c:"People"},{n:"negative_squared_cross_mark",e:"\u274E",v:[],c:"Symbols"},{n:"flag_hu",e:"\u{1F1ED}\u{1F1FA}",v:[],c:"Flags"},{n:"card_index_dividers",e:"\u{1F5C2}\uFE0F",v:[],c:"Objects"},{n:"maple_leaf",e:"\u{1F341}",v:[],c:"Nature"},{n:"motor_boat",e:"\u{1F6E5}\uFE0F",v:[],c:"Places"},{n:"flag_ic",e:"\u{1F1EE}\u{1F1E8}",v:[],c:"Flags"},{n:"fallen_leaf",e:"\u{1F342}",v:[],c:"Nature"},{n:"adult",e:"\u{1F9D1}",v:["\u{1F9D1}\u{1F3FB}","\u{1F9D1}\u{1F3FC}","\u{1F9D1}\u{1F3FD}","\u{1F9D1}\u{1F3FE}","\u{1F9D1}\u{1F3FF}"],c:"People"},{n:"ship",e:"\u{1F6A2}",v:[],c:"Places"},{n:"heavy_plus_sign",e:"\u2795",v:[],c:"Symbols"},{n:"date",e:"\u{1F4C5}",v:[],c:"Objects"},{n:"man",e:"\u{1F468}",v:["\u{1F468}\u{1F3FB}","\u{1F468}\u{1F3FC}","\u{1F468}\u{1F3FD}","\u{1F468}\u{1F3FE}","\u{1F468}\u{1F3FF}"],c:"People"},{n:"flag_id",e:"\u{1F1EE}\u{1F1E9}",v:[],c:"Flags"},{n:"leaves",e:"\u{1F343}",v:[],c:"Nature"},{n:"heavy_minus_sign",e:"\u2796",v:[],c:"Symbols"},{n:"calendar",e:"\u{1F4C6}",v:[],c:"Objects"},{n:"airplane",e:"\u2708\uFE0F",v:[],c:"Places"},{n:"spiral_note_pad",e:"\u{1F5D2}\uFE0F",v:[],c:"Objects"},{n:"heavy_division_sign",e:"\u2797",v:[],c:"Symbols"},{n:"small_airplane",e:"\u{1F6E9}\uFE0F",v:[],c:"Places"},{n:"woman",e:"\u{1F469}",v:["\u{1F469}\u{1F3FB}","\u{1F469}\u{1F3FC}","\u{1F469}\u{1F3FD}","\u{1F469}\u{1F3FE}","\u{1F469}\u{1F3FF}"],c:"People"},{n:"flag_ie",e:"\u{1F1EE}\u{1F1EA}",v:[],c:"Flags"},{n:"curly_loop",e:"\u27B0",v:[],c:"Symbols"},{n:"flag_il",e:"\u{1F1EE}\u{1F1F1}",v:[],c:"Flags"},{n:"airplane_departure",e:"\u{1F6EB}",v:[],c:"Places"},{n:"spiral_calendar_pad",e:"\u{1F5D3}\uFE0F",v:[],c:"Objects"},{n:"older_adult",e:"\u{1F9D3}",v:["\u{1F9D3}\u{1F3FB}","\u{1F9D3}\u{1F3FC}","\u{1F9D3}\u{1F3FD}","\u{1F9D3}\u{1F3FE}","\u{1F9D3}\u{1F3FF}"],c:"People"},{n:"airplane_arriving",e:"\u{1F6EC}",v:[],c:"Places"},{n:"card_index",e:"\u{1F4C7}",v:[],c:"Objects"},{n:"loop",e:"\u27BF",v:[],c:"Symbols"},{n:"older_man",e:"\u{1F474}",v:["\u{1F474}\u{1F3FB}","\u{1F474}\u{1F3FC}","\u{1F474}\u{1F3FD}","\u{1F474}\u{1F3FE}","\u{1F474}\u{1F3FF}"],c:"People"},{n:"flag_im",e:"\u{1F1EE}\u{1F1F2}",v:[],c:"Flags"},{n:"flag_in",e:"\u{1F1EE}\u{1F1F3}",v:[],c:"Flags"},{n:"chart_with_upwards_trend",e:"\u{1F4C8}",v:[],c:"Objects"},{n:"part_alternation_mark",e:"\u303D\uFE0F",v:[],c:"Symbols"},{n:"seat",e:"\u{1F4BA}",v:[],c:"Places"},{n:"older_woman",e:"\u{1F475}",v:["\u{1F475}\u{1F3FB}","\u{1F475}\u{1F3FC}","\u{1F475}\u{1F3FD}","\u{1F475}\u{1F3FE}","\u{1F475}\u{1F3FF}"],c:"People"},{n:"eight_spoked_asterisk",e:"\u2733\uFE0F",v:[],c:"Symbols"},{n:"chart_with_downwards_trend",e:"\u{1F4C9}",v:[],c:"Objects"},{n:"flag_io",e:"\u{1F1EE}\u{1F1F4}",v:[],c:"Flags"},{n:"male_doctor",e:"\u{1F468}\u200D\u2695\uFE0F",v:["\u{1F468}\u{1F3FB}\u200D\u2695\uFE0F","\u{1F468}\u{1F3FC}\u200D\u2695\uFE0F","\u{1F468}\u{1F3FD}\u200D\u2695\uFE0F","\u{1F468}\u{1F3FE}\u200D\u2695\uFE0F","\u{1F468}\u{1F3FF}\u200D\u2695\uFE0F"],c:"People"},{n:"helicopter",e:"\u{1F681}",v:[],c:"Places"},{n:"female_doctor",e:"\u{1F469}\u200D\u2695\uFE0F",v:["\u{1F469}\u{1F3FB}\u200D\u2695\uFE0F","\u{1F469}\u{1F3FC}\u200D\u2695\uFE0F","\u{1F469}\u{1F3FD}\u200D\u2695\uFE0F","\u{1F469}\u{1F3FE}\u200D\u2695\uFE0F","\u{1F469}\u{1F3FF}\u200D\u2695\uFE0F"],c:"People"},{n:"suspension_railway",e:"\u{1F69F}",v:[],c:"Places"},{n:"bar_chart",e:"\u{1F4CA}",v:[],c:"Objects"},{n:"flag_iq",e:"\u{1F1EE}\u{1F1F6}",v:[],c:"Flags"},{n:"eight_pointed_black_star",e:"\u2734\uFE0F",v:[],c:"Symbols"},{n:"mountain_cableway",e:"\u{1F6A0}",v:[],c:"Places"},{n:"male_student",e:"\u{1F468}\u200D\u{1F393}",v:["\u{1F468}\u{1F3FB}\u200D\u{1F393}","\u{1F468}\u{1F3FC}\u200D\u{1F393}","\u{1F468}\u{1F3FD}\u200D\u{1F393}","\u{1F468}\u{1F3FE}\u200D\u{1F393}","\u{1F468}\u{1F3FF}\u200D\u{1F393}"],c:"People"},{n:"clipboard",e:"\u{1F4CB}",v:[],c:"Objects"},{n:"flag_ir",e:"\u{1F1EE}\u{1F1F7}",v:[],c:"Flags"},{n:"sparkle",e:"\u2747\uFE0F",v:[],c:"Symbols"},{n:"female_student",e:"\u{1F469}\u200D\u{1F393}",v:["\u{1F469}\u{1F3FB}\u200D\u{1F393}","\u{1F469}\u{1F3FC}\u200D\u{1F393}","\u{1F469}\u{1F3FD}\u200D\u{1F393}","\u{1F469}\u{1F3FE}\u200D\u{1F393}","\u{1F469}\u{1F3FF}\u200D\u{1F393}"],c:"People"},{n:"pushpin",e:"\u{1F4CC}",v:[],c:"Objects"},{n:"aerial_tramway",e:"\u{1F6A1}",v:[],c:"Places"},{n:"flag_is",e:"\u{1F1EE}\u{1F1F8}",v:[],c:"Flags"},{n:"bangbang",e:"\u203C\uFE0F",v:[],c:"Symbols"},{n:"interrobang",e:"\u2049\uFE0F",v:[],c:"Symbols"},{n:"satellite",e:"\u{1F6F0}\uFE0F",v:[],c:"Places"},{n:"it",e:"\u{1F1EE}\u{1F1F9}",v:[],c:"Flags"},{n:"male_teacher",e:"\u{1F468}\u200D\u{1F3EB}",v:["\u{1F468}\u{1F3FB}\u200D\u{1F3EB}","\u{1F468}\u{1F3FC}\u200D\u{1F3EB}","\u{1F468}\u{1F3FD}\u200D\u{1F3EB}","\u{1F468}\u{1F3FE}\u200D\u{1F3EB}","\u{1F468}\u{1F3FF}\u200D\u{1F3EB}"],c:"People"},{n:"round_pushpin",e:"\u{1F4CD}",v:[],c:"Objects"},{n:"flag_je",e:"\u{1F1EF}\u{1F1EA}",v:[],c:"Flags"},{n:"question",e:"\u2753",v:[],c:"Symbols"},{n:"rocket",e:"\u{1F680}",v:[],c:"Places"},{n:"female_teacher",e:"\u{1F469}\u200D\u{1F3EB}",v:["\u{1F469}\u{1F3FB}\u200D\u{1F3EB}","\u{1F469}\u{1F3FC}\u200D\u{1F3EB}","\u{1F469}\u{1F3FD}\u200D\u{1F3EB}","\u{1F469}\u{1F3FE}\u200D\u{1F3EB}","\u{1F469}\u{1F3FF}\u200D\u{1F3EB}"],c:"People"},{n:"paperclip",e:"\u{1F4CE}",v:[],c:"Objects"},{n:"linked_paperclips",e:"\u{1F587}\uFE0F",v:[],c:"Objects"},{n:"flying_saucer",e:"\u{1F6F8}",v:[],c:"Places"},{n:"male_judge",e:"\u{1F468}\u200D\u2696\uFE0F",v:["\u{1F468}\u{1F3FB}\u200D\u2696\uFE0F","\u{1F468}\u{1F3FC}\u200D\u2696\uFE0F","\u{1F468}\u{1F3FD}\u200D\u2696\uFE0F","\u{1F468}\u{1F3FE}\u200D\u2696\uFE0F","\u{1F468}\u{1F3FF}\u200D\u2696\uFE0F"],c:"People"},{n:"grey_question",e:"\u2754",v:[],c:"Symbols"},{n:"flag_jm",e:"\u{1F1EF}\u{1F1F2}",v:[],c:"Flags"},{n:"bellhop_bell",e:"\u{1F6CE}\uFE0F",v:[],c:"Places"},{n:"straight_ruler",e:"\u{1F4CF}",v:[],c:"Objects"},{n:"flag_jo",e:"\u{1F1EF}\u{1F1F4}",v:[],c:"Flags"},{n:"female_judge",e:"\u{1F469}\u200D\u2696\uFE0F",v:["\u{1F469}\u{1F3FB}\u200D\u2696\uFE0F","\u{1F469}\u{1F3FC}\u200D\u2696\uFE0F","\u{1F469}\u{1F3FD}\u200D\u2696\uFE0F","\u{1F469}\u{1F3FE}\u200D\u2696\uFE0F","\u{1F469}\u{1F3FF}\u200D\u2696\uFE0F"],c:"People"},{n:"grey_exclamation",e:"\u2755",v:[],c:"Symbols"},{n:"door",e:"\u{1F6AA}",v:[],c:"Places"},{n:"male_farmer",e:"\u{1F468}\u200D\u{1F33E}",v:["\u{1F468}\u{1F3FB}\u200D\u{1F33E}","\u{1F468}\u{1F3FC}\u200D\u{1F33E}","\u{1F468}\u{1F3FD}\u200D\u{1F33E}","\u{1F468}\u{1F3FE}\u200D\u{1F33E}","\u{1F468}\u{1F3FF}\u200D\u{1F33E}"],c:"People"},{n:"jp",e:"\u{1F1EF}\u{1F1F5}",v:[],c:"Flags"},{n:"triangular_ruler",e:"\u{1F4D0}",v:[],c:"Objects"},{n:"exclamation",e:"\u2757",v:[],c:"Symbols"},{n:"bed",e:"\u{1F6CF}\uFE0F",v:[],c:"Places"},{n:"female_farmer",e:"\u{1F469}\u200D\u{1F33E}",v:["\u{1F469}\u{1F3FB}\u200D\u{1F33E}","\u{1F469}\u{1F3FC}\u200D\u{1F33E}","\u{1F469}\u{1F3FD}\u200D\u{1F33E}","\u{1F469}\u{1F3FE}\u200D\u{1F33E}","\u{1F469}\u{1F3FF}\u200D\u{1F33E}"],c:"People"},{n:"scissors",e:"\u2702\uFE0F",v:[],c:"Objects"},{n:"wavy_dash",e:"\u3030\uFE0F",v:[],c:"Symbols"},{n:"flag_ke",e:"\u{1F1F0}\u{1F1EA}",v:[],c:"Flags"},{n:"flag_kg",e:"\u{1F1F0}\u{1F1EC}",v:[],c:"Flags"},{n:"couch_and_lamp",e:"\u{1F6CB}\uFE0F",v:[],c:"Places"},{n:"male_cook",e:"\u{1F468}\u200D\u{1F373}",v:["\u{1F468}\u{1F3FB}\u200D\u{1F373}","\u{1F468}\u{1F3FC}\u200D\u{1F373}","\u{1F468}\u{1F3FD}\u200D\u{1F373}","\u{1F468}\u{1F3FE}\u200D\u{1F373}","\u{1F468}\u{1F3FF}\u200D\u{1F373}"],c:"People"},{n:"card_file_box",e:"\u{1F5C3}\uFE0F",v:[],c:"Objects"},{n:"copyright",e:"\xA9\uFE0F",v:[],c:"Symbols"},{n:"file_cabinet",e:"\u{1F5C4}\uFE0F",v:[],c:"Objects"},{n:"registered",e:"\xAE\uFE0F",v:[],c:"Symbols"},{n:"flag_kh",e:"\u{1F1F0}\u{1F1ED}",v:[],c:"Flags"},{n:"female_cook",e:"\u{1F469}\u200D\u{1F373}",v:["\u{1F469}\u{1F3FB}\u200D\u{1F373}","\u{1F469}\u{1F3FC}\u200D\u{1F373}","\u{1F469}\u{1F3FD}\u200D\u{1F373}","\u{1F469}\u{1F3FE}\u200D\u{1F373}","\u{1F469}\u{1F3FF}\u200D\u{1F373}"],c:"People"},{n:"toilet",e:"\u{1F6BD}",v:[],c:"Places"},{n:"wastebasket",e:"\u{1F5D1}\uFE0F",v:[],c:"Objects"},{n:"flag_ki",e:"\u{1F1F0}\u{1F1EE}",v:[],c:"Flags"},{n:"shower",e:"\u{1F6BF}",v:[],c:"Places"},{n:"male_mechanic",e:"\u{1F468}\u200D\u{1F527}",v:["\u{1F468}\u{1F3FB}\u200D\u{1F527}","\u{1F468}\u{1F3FC}\u200D\u{1F527}","\u{1F468}\u{1F3FD}\u200D\u{1F527}","\u{1F468}\u{1F3FE}\u200D\u{1F527}","\u{1F468}\u{1F3FF}\u200D\u{1F527}"],c:"People"},{n:"tm",e:"\u2122\uFE0F",v:[],c:"Symbols"},{n:"hash",e:"#\uFE0F\u20E3",v:[],c:"Symbols"},{n:"flag_km",e:"\u{1F1F0}\u{1F1F2}",v:[],c:"Flags"},{n:"bathtub",e:"\u{1F6C1}",v:[],c:"Places"},{n:"female_mechanic",e:"\u{1F469}\u200D\u{1F527}",v:["\u{1F469}\u{1F3FB}\u200D\u{1F527}","\u{1F469}\u{1F3FC}\u200D\u{1F527}","\u{1F469}\u{1F3FD}\u200D\u{1F527}","\u{1F469}\u{1F3FE}\u200D\u{1F527}","\u{1F469}\u{1F3FF}\u200D\u{1F527}"],c:"People"},{n:"lock",e:"\u{1F512}",v:[],c:"Objects"},{n:"male_factory_worker",e:"\u{1F468}\u200D\u{1F3ED}",v:["\u{1F468}\u{1F3FB}\u200D\u{1F3ED}","\u{1F468}\u{1F3FC}\u200D\u{1F3ED}","\u{1F468}\u{1F3FD}\u200D\u{1F3ED}","\u{1F468}\u{1F3FE}\u200D\u{1F3ED}","\u{1F468}\u{1F3FF}\u200D\u{1F3ED}"],c:"People"},{n:"flag_kn",e:"\u{1F1F0}\u{1F1F3}",v:[],c:"Flags"},{n:"hourglass",e:"\u231B",v:[],c:"Places"},{n:"keycap_star",e:"*\uFE0F\u20E3",v:[],c:"Symbols"},{n:"unlock",e:"\u{1F513}",v:[],c:"Objects"},{n:"flag_kp",e:"\u{1F1F0}\u{1F1F5}",v:[],c:"Flags"},{n:"female_factory_worker",e:"\u{1F469}\u200D\u{1F3ED}",v:["\u{1F469}\u{1F3FB}\u200D\u{1F3ED}","\u{1F469}\u{1F3FC}\u200D\u{1F3ED}","\u{1F469}\u{1F3FD}\u200D\u{1F3ED}","\u{1F469}\u{1F3FE}\u200D\u{1F3ED}","\u{1F469}\u{1F3FF}\u200D\u{1F3ED}"],c:"People"},{n:"zero",e:"0\uFE0F\u20E3",v:[],c:"Symbols"},{n:"lock_with_ink_pen",e:"\u{1F50F}",v:[],c:"Objects"},{n:"hourglass_flowing_sand",e:"\u23F3",v:[],c:"Places"},{n:"one",e:"1\uFE0F\u20E3",v:[],c:"Symbols"},{n:"kr",e:"\u{1F1F0}\u{1F1F7}",v:[],c:"Flags"},{n:"watch",e:"\u231A",v:[],c:"Places"},{n:"male_office_worker",e:"\u{1F468}\u200D\u{1F4BC}",v:["\u{1F468}\u{1F3FB}\u200D\u{1F4BC}","\u{1F468}\u{1F3FC}\u200D\u{1F4BC}","\u{1F468}\u{1F3FD}\u200D\u{1F4BC}","\u{1F468}\u{1F3FE}\u200D\u{1F4BC}","\u{1F468}\u{1F3FF}\u200D\u{1F4BC}"],c:"People"},{n:"closed_lock_with_key",e:"\u{1F510}",v:[],c:"Objects"},{n:"female_office_worker",e:"\u{1F469}\u200D\u{1F4BC}",v:["\u{1F469}\u{1F3FB}\u200D\u{1F4BC}","\u{1F469}\u{1F3FC}\u200D\u{1F4BC}","\u{1F469}\u{1F3FD}\u200D\u{1F4BC}","\u{1F469}\u{1F3FE}\u200D\u{1F4BC}","\u{1F469}\u{1F3FF}\u200D\u{1F4BC}"],c:"People"},{n:"two",e:"2\uFE0F\u20E3",v:[],c:"Symbols"},{n:"alarm_clock",e:"\u23F0",v:[],c:"Places"},{n:"key",e:"\u{1F511}",v:[],c:"Objects"},{n:"flag_kw",e:"\u{1F1F0}\u{1F1FC}",v:[],c:"Flags"},{n:"stopwatch",e:"\u23F1\uFE0F",v:[],c:"Places"},{n:"male_scientist",e:"\u{1F468}\u200D\u{1F52C}",v:["\u{1F468}\u{1F3FB}\u200D\u{1F52C}","\u{1F468}\u{1F3FC}\u200D\u{1F52C}","\u{1F468}\u{1F3FD}\u200D\u{1F52C}","\u{1F468}\u{1F3FE}\u200D\u{1F52C}","\u{1F468}\u{1F3FF}\u200D\u{1F52C}"],c:"People"},{n:"three",e:"3\uFE0F\u20E3",v:[],c:"Symbols"},{n:"flag_ky",e:"\u{1F1F0}\u{1F1FE}",v:[],c:"Flags"},{n:"old_key",e:"\u{1F5DD}\uFE0F",v:[],c:"Objects"},{n:"flag_kz",e:"\u{1F1F0}\u{1F1FF}",v:[],c:"Flags"},{n:"hammer",e:"\u{1F528}",v:[],c:"Objects"},{n:"female_scientist",e:"\u{1F469}\u200D\u{1F52C}",v:["\u{1F469}\u{1F3FB}\u200D\u{1F52C}","\u{1F469}\u{1F3FC}\u200D\u{1F52C}","\u{1F469}\u{1F3FD}\u200D\u{1F52C}","\u{1F469}\u{1F3FE}\u200D\u{1F52C}","\u{1F469}\u{1F3FF}\u200D\u{1F52C}"],c:"People"},{n:"timer_clock",e:"\u23F2\uFE0F",v:[],c:"Places"},{n:"four",e:"4\uFE0F\u20E3",v:[],c:"Symbols"},{n:"male_technologist",e:"\u{1F468}\u200D\u{1F4BB}",v:["\u{1F468}\u{1F3FB}\u200D\u{1F4BB}","\u{1F468}\u{1F3FC}\u200D\u{1F4BB}","\u{1F468}\u{1F3FD}\u200D\u{1F4BB}","\u{1F468}\u{1F3FE}\u200D\u{1F4BB}","\u{1F468}\u{1F3FF}\u200D\u{1F4BB}"],c:"People"},{n:"mantelpiece_clock",e:"\u{1F570}\uFE0F",v:[],c:"Places"},{n:"five",e:"5\uFE0F\u20E3",v:[],c:"Symbols"},{n:"flag_la",e:"\u{1F1F1}\u{1F1E6}",v:[],c:"Flags"},{n:"pick",e:"\u26CF\uFE0F",v:[],c:"Objects"},{n:"flag_lb",e:"\u{1F1F1}\u{1F1E7}",v:[],c:"Flags"},{n:"clock12",e:"\u{1F55B}",v:[],c:"Places"},{n:"hammer_and_pick",e:"\u2692\uFE0F",v:[],c:"Objects"},{n:"six",e:"6\uFE0F\u20E3",v:[],c:"Symbols"},{n:"female_technologist",e:"\u{1F469}\u200D\u{1F4BB}",v:["\u{1F469}\u{1F3FB}\u200D\u{1F4BB}","\u{1F469}\u{1F3FC}\u200D\u{1F4BB}","\u{1F469}\u{1F3FD}\u200D\u{1F4BB}","\u{1F469}\u{1F3FE}\u200D\u{1F4BB}","\u{1F469}\u{1F3FF}\u200D\u{1F4BB}"],c:"People"},{n:"hammer_and_wrench",e:"\u{1F6E0}\uFE0F",v:[],c:"Objects"},{n:"flag_lc",e:"\u{1F1F1}\u{1F1E8}",v:[],c:"Flags"},{n:"clock1230",e:"\u{1F567}",v:[],c:"Places"},{n:"seven",e:"7\uFE0F\u20E3",v:[],c:"Symbols"},{n:"male_singer",e:"\u{1F468}\u200D\u{1F3A4}",v:["\u{1F468}\u{1F3FB}\u200D\u{1F3A4}","\u{1F468}\u{1F3FC}\u200D\u{1F3A4}","\u{1F468}\u{1F3FD}\u200D\u{1F3A4}","\u{1F468}\u{1F3FE}\u200D\u{1F3A4}","\u{1F468}\u{1F3FF}\u200D\u{1F3A4}"],c:"People"},{n:"eight",e:"8\uFE0F\u20E3",v:[],c:"Symbols"},{n:"flag_li",e:"\u{1F1F1}\u{1F1EE}",v:[],c:"Flags"},{n:"dagger_knife",e:"\u{1F5E1}\uFE0F",v:[],c:"Objects"},{n:"clock1",e:"\u{1F550}",v:[],c:"Places"},{n:"female_singer",e:"\u{1F469}\u200D\u{1F3A4}",v:["\u{1F469}\u{1F3FB}\u200D\u{1F3A4}","\u{1F469}\u{1F3FC}\u200D\u{1F3A4}","\u{1F469}\u{1F3FD}\u200D\u{1F3A4}","\u{1F469}\u{1F3FE}\u200D\u{1F3A4}","\u{1F469}\u{1F3FF}\u200D\u{1F3A4}"],c:"People"},{n:"male_artist",e:"\u{1F468}\u200D\u{1F3A8}",v:["\u{1F468}\u{1F3FB}\u200D\u{1F3A8}","\u{1F468}\u{1F3FC}\u200D\u{1F3A8}","\u{1F468}\u{1F3FD}\u200D\u{1F3A8}","\u{1F468}\u{1F3FE}\u200D\u{1F3A8}","\u{1F468}\u{1F3FF}\u200D\u{1F3A8}"],c:"People"},{n:"crossed_swords",e:"\u2694\uFE0F",v:[],c:"Objects"},{n:"nine",e:"9\uFE0F\u20E3",v:[],c:"Symbols"},{n:"flag_lk",e:"\u{1F1F1}\u{1F1F0}",v:[],c:"Flags"},{n:"clock130",e:"\u{1F55C}",v:[],c:"Places"},{n:"clock2",e:"\u{1F551}",v:[],c:"Places"},{n:"gun",e:"\u{1F52B}",v:[],c:"Objects"},{n:"keycap_ten",e:"\u{1F51F}",v:[],c:"Symbols"},{n:"female_artist",e:"\u{1F469}\u200D\u{1F3A8}",v:["\u{1F469}\u{1F3FB}\u200D\u{1F3A8}","\u{1F469}\u{1F3FC}\u200D\u{1F3A8}","\u{1F469}\u{1F3FD}\u200D\u{1F3A8}","\u{1F469}\u{1F3FE}\u200D\u{1F3A8}","\u{1F469}\u{1F3FF}\u200D\u{1F3A8}"],c:"People"},{n:"flag_lr",e:"\u{1F1F1}\u{1F1F7}",v:[],c:"Flags"},{n:"clock230",e:"\u{1F55D}",v:[],c:"Places"},{n:"100",e:"\u{1F4AF}",v:[],c:"Symbols"},{n:"bow_and_arrow",e:"\u{1F3F9}",v:[],c:"Objects"},{n:"male_pilot",e:"\u{1F468}\u200D\u2708\uFE0F",v:["\u{1F468}\u{1F3FB}\u200D\u2708\uFE0F","\u{1F468}\u{1F3FC}\u200D\u2708\uFE0F","\u{1F468}\u{1F3FD}\u200D\u2708\uFE0F","\u{1F468}\u{1F3FE}\u200D\u2708\uFE0F","\u{1F468}\u{1F3FF}\u200D\u2708\uFE0F"],c:"People"},{n:"flag_ls",e:"\u{1F1F1}\u{1F1F8}",v:[],c:"Flags"},{n:"flag_lt",e:"\u{1F1F1}\u{1F1F9}",v:[],c:"Flags"},{n:"capital_abcd",e:"\u{1F520}",v:[],c:"Symbols"},{n:"female_pilot",e:"\u{1F469}\u200D\u2708\uFE0F",v:["\u{1F469}\u{1F3FB}\u200D\u2708\uFE0F","\u{1F469}\u{1F3FC}\u200D\u2708\uFE0F","\u{1F469}\u{1F3FD}\u200D\u2708\uFE0F","\u{1F469}\u{1F3FE}\u200D\u2708\uFE0F","\u{1F469}\u{1F3FF}\u200D\u2708\uFE0F"],c:"People"},{n:"clock3",e:"\u{1F552}",v:[],c:"Places"},{n:"shield",e:"\u{1F6E1}\uFE0F",v:[],c:"Objects"},{n:"male_astronaut",e:"\u{1F468}\u200D\u{1F680}",v:["\u{1F468}\u{1F3FB}\u200D\u{1F680}","\u{1F468}\u{1F3FC}\u200D\u{1F680}","\u{1F468}\u{1F3FD}\u200D\u{1F680}","\u{1F468}\u{1F3FE}\u200D\u{1F680}","\u{1F468}\u{1F3FF}\u200D\u{1F680}"],c:"People"},{n:"abcd",e:"\u{1F521}",v:[],c:"Symbols"},{n:"clock330",e:"\u{1F55E}",v:[],c:"Places"},{n:"flag_lu",e:"\u{1F1F1}\u{1F1FA}",v:[],c:"Flags"},{n:"wrench",e:"\u{1F527}",v:[],c:"Objects"},{n:"nut_and_bolt",e:"\u{1F529}",v:[],c:"Objects"},{n:"1234",e:"\u{1F522}",v:[],c:"Symbols"},{n:"clock4",e:"\u{1F553}",v:[],c:"Places"},{n:"female_astronaut",e:"\u{1F469}\u200D\u{1F680}",v:["\u{1F469}\u{1F3FB}\u200D\u{1F680}","\u{1F469}\u{1F3FC}\u200D\u{1F680}","\u{1F469}\u{1F3FD}\u200D\u{1F680}","\u{1F469}\u{1F3FE}\u200D\u{1F680}","\u{1F469}\u{1F3FF}\u200D\u{1F680}"],c:"People"},{n:"flag_lv",e:"\u{1F1F1}\u{1F1FB}",v:[],c:"Flags"},{n:"gear",e:"\u2699\uFE0F",v:[],c:"Objects"},{n:"male_firefighter",e:"\u{1F468}\u200D\u{1F692}",v:["\u{1F468}\u{1F3FB}\u200D\u{1F692}","\u{1F468}\u{1F3FC}\u200D\u{1F692}","\u{1F468}\u{1F3FD}\u200D\u{1F692}","\u{1F468}\u{1F3FE}\u200D\u{1F692}","\u{1F468}\u{1F3FF}\u200D\u{1F692}"],c:"People"},{n:"flag_ly",e:"\u{1F1F1}\u{1F1FE}",v:[],c:"Flags"},{n:"symbols",e:"\u{1F523}",v:[],c:"Symbols"},{n:"clock430",e:"\u{1F55F}",v:[],c:"Places"},{n:"flag_ma",e:"\u{1F1F2}\u{1F1E6}",v:[],c:"Flags"},{n:"compression",e:"\u{1F5DC}\uFE0F",v:[],c:"Objects"},{n:"female_firefighter",e:"\u{1F469}\u200D\u{1F692}",v:["\u{1F469}\u{1F3FB}\u200D\u{1F692}","\u{1F469}\u{1F3FC}\u200D\u{1F692}","\u{1F469}\u{1F3FD}\u200D\u{1F692}","\u{1F469}\u{1F3FE}\u200D\u{1F692}","\u{1F469}\u{1F3FF}\u200D\u{1F692}"],c:"People"},{n:"abc",e:"\u{1F524}",v:[],c:"Symbols"},{n:"clock5",e:"\u{1F554}",v:[],c:"Places"},{n:"clock530",e:"\u{1F560}",v:[],c:"Places"},{n:"a",e:"\u{1F170}\uFE0F",v:[],c:"Symbols"},{n:"alembic",e:"\u2697\uFE0F",v:[],c:"Objects"},{n:"flag_mc",e:"\u{1F1F2}\u{1F1E8}",v:[],c:"Flags"},{n:"cop",e:"\u{1F46E}",v:["\u{1F46E}\u{1F3FB}","\u{1F46E}\u{1F3FC}","\u{1F46E}\u{1F3FD}","\u{1F46E}\u{1F3FE}","\u{1F46E}\u{1F3FF}"],c:"People"},{n:"scales",e:"\u2696\uFE0F",v:[],c:"Objects"},{n:"clock6",e:"\u{1F555}",v:[],c:"Places"},{n:"flag_md",e:"\u{1F1F2}\u{1F1E9}",v:[],c:"Flags"},{n:"ab",e:"\u{1F18E}",v:[],c:"Symbols"},{n:"male_police_officer",e:"\u{1F46E}\u200D\u2642\uFE0F",v:["\u{1F46E}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F46E}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F46E}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F46E}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F46E}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"link",e:"\u{1F517}",v:[],c:"Objects"},{n:"flag_me",e:"\u{1F1F2}\u{1F1EA}",v:[],c:"Flags"},{n:"clock630",e:"\u{1F561}",v:[],c:"Places"},{n:"b",e:"\u{1F171}\uFE0F",v:[],c:"Symbols"},{n:"female_police_officer",e:"\u{1F46E}\u200D\u2640\uFE0F",v:["\u{1F46E}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F46E}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F46E}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F46E}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F46E}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"clock7",e:"\u{1F556}",v:[],c:"Places"},{n:"cl",e:"\u{1F191}",v:[],c:"Symbols"},{n:"sleuth_or_spy",e:"\u{1F575}\uFE0F",v:["\u{1F575}\u{1F3FB}","\u{1F575}\u{1F3FC}","\u{1F575}\u{1F3FD}","\u{1F575}\u{1F3FE}","\u{1F575}\u{1F3FF}"],c:"People"},{n:"flag_mf",e:"\u{1F1F2}\u{1F1EB}",v:[],c:"Flags"},{n:"chains",e:"\u26D3\uFE0F",v:[],c:"Objects"},{n:"syringe",e:"\u{1F489}",v:[],c:"Objects"},{n:"male_detective",e:"\u{1F575}\uFE0F\u200D\u2642\uFE0F",v:["\u{1F575}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F575}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F575}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F575}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F575}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"cool",e:"\u{1F192}",v:[],c:"Symbols"},{n:"clock730",e:"\u{1F562}",v:[],c:"Places"},{n:"flag_mg",e:"\u{1F1F2}\u{1F1EC}",v:[],c:"Flags"},{n:"free",e:"\u{1F193}",v:[],c:"Symbols"},{n:"flag_mh",e:"\u{1F1F2}\u{1F1ED}",v:[],c:"Flags"},{n:"clock8",e:"\u{1F557}",v:[],c:"Places"},{n:"pill",e:"\u{1F48A}",v:[],c:"Objects"},{n:"female_detective",e:"\u{1F575}\uFE0F\u200D\u2640\uFE0F",v:["\u{1F575}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F575}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F575}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F575}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F575}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"clock830",e:"\u{1F563}",v:[],c:"Places"},{n:"guardsman",e:"\u{1F482}",v:["\u{1F482}\u{1F3FB}","\u{1F482}\u{1F3FC}","\u{1F482}\u{1F3FD}","\u{1F482}\u{1F3FE}","\u{1F482}\u{1F3FF}"],c:"People"},{n:"information_source",e:"\u2139\uFE0F",v:[],c:"Symbols"},{n:"flag_mk",e:"\u{1F1F2}\u{1F1F0}",v:[],c:"Flags"},{n:"smoking",e:"\u{1F6AC}",v:[],c:"Objects"},{n:"id",e:"\u{1F194}",v:[],c:"Symbols"},{n:"clock9",e:"\u{1F558}",v:[],c:"Places"},{n:"flag_ml",e:"\u{1F1F2}\u{1F1F1}",v:[],c:"Flags"},{n:"coffin",e:"\u26B0\uFE0F",v:[],c:"Objects"},{n:"male_guard",e:"\u{1F482}\u200D\u2642\uFE0F",v:["\u{1F482}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F482}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F482}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F482}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F482}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"m",e:"\u24C2\uFE0F",v:[],c:"Symbols"},{n:"funeral_urn",e:"\u26B1\uFE0F",v:[],c:"Objects"},{n:"female_guard",e:"\u{1F482}\u200D\u2640\uFE0F",v:["\u{1F482}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F482}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F482}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F482}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F482}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"flag_mm",e:"\u{1F1F2}\u{1F1F2}",v:[],c:"Flags"},{n:"clock930",e:"\u{1F564}",v:[],c:"Places"},{n:"moyai",e:"\u{1F5FF}",v:[],c:"Objects"},{n:"new",e:"\u{1F195}",v:[],c:"Symbols"},{n:"flag_mn",e:"\u{1F1F2}\u{1F1F3}",v:[],c:"Flags"},{n:"construction_worker",e:"\u{1F477}",v:["\u{1F477}\u{1F3FB}","\u{1F477}\u{1F3FC}","\u{1F477}\u{1F3FD}","\u{1F477}\u{1F3FE}","\u{1F477}\u{1F3FF}"],c:"People"},{n:"clock10",e:"\u{1F559}",v:[],c:"Places"},{n:"clock1030",e:"\u{1F565}",v:[],c:"Places"},{n:"ng",e:"\u{1F196}",v:[],c:"Symbols"},{n:"male_construction_worker",e:"\u{1F477}\u200D\u2642\uFE0F",v:["\u{1F477}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F477}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F477}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F477}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F477}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"flag_mo",e:"\u{1F1F2}\u{1F1F4}",v:[],c:"Flags"},{n:"oil_drum",e:"\u{1F6E2}\uFE0F",v:[],c:"Objects"},{n:"o2",e:"\u{1F17E}\uFE0F",v:[],c:"Symbols"},{n:"female_construction_worker",e:"\u{1F477}\u200D\u2640\uFE0F",v:["\u{1F477}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F477}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F477}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F477}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F477}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"clock11",e:"\u{1F55A}",v:[],c:"Places"},{n:"crystal_ball",e:"\u{1F52E}",v:[],c:"Objects"},{n:"flag_mp",e:"\u{1F1F2}\u{1F1F5}",v:[],c:"Flags"},{n:"flag_mq",e:"\u{1F1F2}\u{1F1F6}",v:[],c:"Flags"},{n:"prince",e:"\u{1F934}",v:["\u{1F934}\u{1F3FB}","\u{1F934}\u{1F3FC}","\u{1F934}\u{1F3FD}","\u{1F934}\u{1F3FE}","\u{1F934}\u{1F3FF}"],c:"People"},{n:"ok",e:"\u{1F197}",v:[],c:"Symbols"},{n:"clock1130",e:"\u{1F566}",v:[],c:"Places"},{n:"shopping_trolley",e:"\u{1F6D2}",v:[],c:"Objects"},{n:"flag_mr",e:"\u{1F1F2}\u{1F1F7}",v:[],c:"Flags"},{n:"princess",e:"\u{1F478}",v:["\u{1F478}\u{1F3FB}","\u{1F478}\u{1F3FC}","\u{1F478}\u{1F3FD}","\u{1F478}\u{1F3FE}","\u{1F478}\u{1F3FF}"],c:"People"},{n:"new_moon",e:"\u{1F311}",v:[],c:"Places"},{n:"parking",e:"\u{1F17F}\uFE0F",v:[],c:"Symbols"},{n:"sos",e:"\u{1F198}",v:[],c:"Symbols"},{n:"man_with_turban",e:"\u{1F473}",v:["\u{1F473}\u{1F3FB}","\u{1F473}\u{1F3FC}","\u{1F473}\u{1F3FD}","\u{1F473}\u{1F3FE}","\u{1F473}\u{1F3FF}"],c:"People"},{n:"flag_ms",e:"\u{1F1F2}\u{1F1F8}",v:[],c:"Flags"},{n:"waxing_crescent_moon",e:"\u{1F312}",v:[],c:"Places"},{n:"up",e:"\u{1F199}",v:[],c:"Symbols"},{n:"first_quarter_moon",e:"\u{1F313}",v:[],c:"Places"},{n:"flag_mt",e:"\u{1F1F2}\u{1F1F9}",v:[],c:"Flags"},{n:"man_wearing_turban",e:"\u{1F473}\u200D\u2642\uFE0F",v:["\u{1F473}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F473}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F473}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F473}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F473}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"moon",e:"\u{1F314}",v:[],c:"Places"},{n:"woman_wearing_turban",e:"\u{1F473}\u200D\u2640\uFE0F",v:["\u{1F473}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F473}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F473}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F473}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F473}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"vs",e:"\u{1F19A}",v:[],c:"Symbols"},{n:"flag_mu",e:"\u{1F1F2}\u{1F1FA}",v:[],c:"Flags"},{n:"man_with_gua_pi_mao",e:"\u{1F472}",v:["\u{1F472}\u{1F3FB}","\u{1F472}\u{1F3FC}","\u{1F472}\u{1F3FD}","\u{1F472}\u{1F3FE}","\u{1F472}\u{1F3FF}"],c:"People"},{n:"koko",e:"\u{1F201}",v:[],c:"Symbols"},{n:"full_moon",e:"\u{1F315}",v:[],c:"Places"},{n:"flag_mv",e:"\u{1F1F2}\u{1F1FB}",v:[],c:"Flags"},{n:"person_with_headscarf",e:"\u{1F9D5}",v:["\u{1F9D5}\u{1F3FB}","\u{1F9D5}\u{1F3FC}","\u{1F9D5}\u{1F3FD}","\u{1F9D5}\u{1F3FE}","\u{1F9D5}\u{1F3FF}"],c:"People"},{n:"waning_gibbous_moon",e:"\u{1F316}",v:[],c:"Places"},{n:"sa",e:"\u{1F202}\uFE0F",v:[],c:"Symbols"},{n:"flag_mw",e:"\u{1F1F2}\u{1F1FC}",v:[],c:"Flags"},{n:"last_quarter_moon",e:"\u{1F317}",v:[],c:"Places"},{n:"u6708",e:"\u{1F237}\uFE0F",v:[],c:"Symbols"},{n:"bearded_person",e:"\u{1F9D4}",v:["\u{1F9D4}\u{1F3FB}","\u{1F9D4}\u{1F3FC}","\u{1F9D4}\u{1F3FD}","\u{1F9D4}\u{1F3FE}","\u{1F9D4}\u{1F3FF}"],c:"People"},{n:"flag_mx",e:"\u{1F1F2}\u{1F1FD}",v:[],c:"Flags"},{n:"u6709",e:"\u{1F236}",v:[],c:"Symbols"},{n:"person_with_blond_hair",e:"\u{1F471}",v:["\u{1F471}\u{1F3FB}","\u{1F471}\u{1F3FC}","\u{1F471}\u{1F3FD}","\u{1F471}\u{1F3FE}","\u{1F471}\u{1F3FF}"],c:"People"},{n:"waning_crescent_moon",e:"\u{1F318}",v:[],c:"Places"},{n:"flag_my",e:"\u{1F1F2}\u{1F1FE}",v:[],c:"Flags"},{n:"u6307",e:"\u{1F22F}",v:[],c:"Symbols"},{n:"blond_haired_man",e:"\u{1F471}\u200D\u2642\uFE0F",v:["\u{1F471}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F471}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F471}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F471}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F471}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"crescent_moon",e:"\u{1F319}",v:[],c:"Places"},{n:"flag_mz",e:"\u{1F1F2}\u{1F1FF}",v:[],c:"Flags"},{n:"new_moon_with_face",e:"\u{1F31A}",v:[],c:"Places"},{n:"flag_na",e:"\u{1F1F3}\u{1F1E6}",v:[],c:"Flags"},{n:"blond_haired_woman",e:"\u{1F471}\u200D\u2640\uFE0F",v:["\u{1F471}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F471}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F471}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F471}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F471}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"ideograph_advantage",e:"\u{1F250}",v:[],c:"Symbols"},{n:"first_quarter_moon_with_face",e:"\u{1F31B}",v:[],c:"Places"},{n:"man_in_tuxedo",e:"\u{1F935}",v:["\u{1F935}\u{1F3FB}","\u{1F935}\u{1F3FC}","\u{1F935}\u{1F3FD}","\u{1F935}\u{1F3FE}","\u{1F935}\u{1F3FF}"],c:"People"},{n:"flag_nc",e:"\u{1F1F3}\u{1F1E8}",v:[],c:"Flags"},{n:"u5272",e:"\u{1F239}",v:[],c:"Symbols"},{n:"flag_ne",e:"\u{1F1F3}\u{1F1EA}",v:[],c:"Flags"},{n:"last_quarter_moon_with_face",e:"\u{1F31C}",v:[],c:"Places"},{n:"u7121",e:"\u{1F21A}",v:[],c:"Symbols"},{n:"bride_with_veil",e:"\u{1F470}",v:["\u{1F470}\u{1F3FB}","\u{1F470}\u{1F3FC}","\u{1F470}\u{1F3FD}","\u{1F470}\u{1F3FE}","\u{1F470}\u{1F3FF}"],c:"People"},{n:"u7981",e:"\u{1F232}",v:[],c:"Symbols"},{n:"pregnant_woman",e:"\u{1F930}",v:["\u{1F930}\u{1F3FB}","\u{1F930}\u{1F3FC}","\u{1F930}\u{1F3FD}","\u{1F930}\u{1F3FE}","\u{1F930}\u{1F3FF}"],c:"People"},{n:"thermometer",e:"\u{1F321}\uFE0F",v:[],c:"Places"},{n:"flag_nf",e:"\u{1F1F3}\u{1F1EB}",v:[],c:"Flags"},{n:"sunny",e:"\u2600\uFE0F",v:[],c:"Places"},{n:"accept",e:"\u{1F251}",v:[],c:"Symbols"},{n:"flag_ng",e:"\u{1F1F3}\u{1F1EC}",v:[],c:"Flags"},{n:"breast_feeding",e:"\u{1F931}",v:["\u{1F931}\u{1F3FB}","\u{1F931}\u{1F3FC}","\u{1F931}\u{1F3FD}","\u{1F931}\u{1F3FE}","\u{1F931}\u{1F3FF}"],c:"People"},{n:"full_moon_with_face",e:"\u{1F31D}",v:[],c:"Places"},{n:"flag_ni",e:"\u{1F1F3}\u{1F1EE}",v:[],c:"Flags"},{n:"u7533",e:"\u{1F238}",v:[],c:"Symbols"},{n:"angel",e:"\u{1F47C}",v:["\u{1F47C}\u{1F3FB}","\u{1F47C}\u{1F3FC}","\u{1F47C}\u{1F3FD}","\u{1F47C}\u{1F3FE}","\u{1F47C}\u{1F3FF}"],c:"People"},{n:"sun_with_face",e:"\u{1F31E}",v:[],c:"Places"},{n:"santa",e:"\u{1F385}",v:["\u{1F385}\u{1F3FB}","\u{1F385}\u{1F3FC}","\u{1F385}\u{1F3FD}","\u{1F385}\u{1F3FE}","\u{1F385}\u{1F3FF}"],c:"People"},{n:"u5408",e:"\u{1F234}",v:[],c:"Symbols"},{n:"flag_nl",e:"\u{1F1F3}\u{1F1F1}",v:[],c:"Flags"},{n:"mrs_claus",e:"\u{1F936}",v:["\u{1F936}\u{1F3FB}","\u{1F936}\u{1F3FC}","\u{1F936}\u{1F3FD}","\u{1F936}\u{1F3FE}","\u{1F936}\u{1F3FF}"],c:"People"},{n:"u7a7a",e:"\u{1F233}",v:[],c:"Symbols"},{n:"star",e:"\u2B50",v:[],c:"Places"},{n:"flag_no",e:"\u{1F1F3}\u{1F1F4}",v:[],c:"Flags"},{n:"mage",e:"\u{1F9D9}",v:["\u{1F9D9}\u{1F3FB}","\u{1F9D9}\u{1F3FC}","\u{1F9D9}\u{1F3FD}","\u{1F9D9}\u{1F3FE}","\u{1F9D9}\u{1F3FF}"],c:"People"},{n:"star2",e:"\u{1F31F}",v:[],c:"Places"},{n:"flag_np",e:"\u{1F1F3}\u{1F1F5}",v:[],c:"Flags"},{n:"congratulations",e:"\u3297\uFE0F",v:[],c:"Symbols"},{n:"flag_nr",e:"\u{1F1F3}\u{1F1F7}",v:[],c:"Flags"},{n:"stars",e:"\u{1F320}",v:[],c:"Places"},{n:"female_mage",e:"\u{1F9D9}\u200D\u2640\uFE0F",v:["\u{1F9D9}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F9D9}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F9D9}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F9D9}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F9D9}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"secret",e:"\u3299\uFE0F",v:[],c:"Symbols"},{n:"flag_nu",e:"\u{1F1F3}\u{1F1FA}",v:[],c:"Flags"},{n:"u55b6",e:"\u{1F23A}",v:[],c:"Symbols"},{n:"male_mage",e:"\u{1F9D9}\u200D\u2642\uFE0F",v:["\u{1F9D9}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F9D9}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F9D9}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F9D9}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F9D9}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"cloud",e:"\u2601\uFE0F",v:[],c:"Places"},{n:"flag_nz",e:"\u{1F1F3}\u{1F1FF}",v:[],c:"Flags"},{n:"partly_sunny",e:"\u26C5",v:[],c:"Places"},{n:"fairy",e:"\u{1F9DA}",v:["\u{1F9DA}\u{1F3FB}","\u{1F9DA}\u{1F3FC}","\u{1F9DA}\u{1F3FD}","\u{1F9DA}\u{1F3FE}","\u{1F9DA}\u{1F3FF}"],c:"People"},{n:"u6e80",e:"\u{1F235}",v:[],c:"Symbols"},{n:"black_small_square",e:"\u25AA\uFE0F",v:[],c:"Symbols"},{n:"thunder_cloud_and_rain",e:"\u26C8\uFE0F",v:[],c:"Places"},{n:"female_fairy",e:"\u{1F9DA}\u200D\u2640\uFE0F",v:["\u{1F9DA}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F9DA}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F9DA}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F9DA}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F9DA}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"flag_om",e:"\u{1F1F4}\u{1F1F2}",v:[],c:"Flags"},{n:"white_small_square",e:"\u25AB\uFE0F",v:[],c:"Symbols"},{n:"flag_pa",e:"\u{1F1F5}\u{1F1E6}",v:[],c:"Flags"},{n:"mostly_sunny",e:"\u{1F324}\uFE0F",v:[],c:"Places"},{n:"male_fairy",e:"\u{1F9DA}\u200D\u2642\uFE0F",v:["\u{1F9DA}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F9DA}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F9DA}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F9DA}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F9DA}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"barely_sunny",e:"\u{1F325}\uFE0F",v:[],c:"Places"},{n:"white_medium_square",e:"\u25FB\uFE0F",v:[],c:"Symbols"},{n:"flag_pe",e:"\u{1F1F5}\u{1F1EA}",v:[],c:"Flags"},{n:"vampire",e:"\u{1F9DB}",v:["\u{1F9DB}\u{1F3FB}","\u{1F9DB}\u{1F3FC}","\u{1F9DB}\u{1F3FD}","\u{1F9DB}\u{1F3FE}","\u{1F9DB}\u{1F3FF}"],c:"People"},{n:"female_vampire",e:"\u{1F9DB}\u200D\u2640\uFE0F",v:["\u{1F9DB}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F9DB}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F9DB}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F9DB}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F9DB}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"partly_sunny_rain",e:"\u{1F326}\uFE0F",v:[],c:"Places"},{n:"flag_pf",e:"\u{1F1F5}\u{1F1EB}",v:[],c:"Flags"},{n:"black_medium_square",e:"\u25FC\uFE0F",v:[],c:"Symbols"},{n:"white_medium_small_square",e:"\u25FD",v:[],c:"Symbols"},{n:"rain_cloud",e:"\u{1F327}\uFE0F",v:[],c:"Places"},{n:"flag_pg",e:"\u{1F1F5}\u{1F1EC}",v:[],c:"Flags"},{n:"male_vampire",e:"\u{1F9DB}\u200D\u2642\uFE0F",v:["\u{1F9DB}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F9DB}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F9DB}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F9DB}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F9DB}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"flag_ph",e:"\u{1F1F5}\u{1F1ED}",v:[],c:"Flags"},{n:"merperson",e:"\u{1F9DC}",v:["\u{1F9DC}\u{1F3FB}","\u{1F9DC}\u{1F3FC}","\u{1F9DC}\u{1F3FD}","\u{1F9DC}\u{1F3FE}","\u{1F9DC}\u{1F3FF}"],c:"People"},{n:"black_medium_small_square",e:"\u25FE",v:[],c:"Symbols"},{n:"snow_cloud",e:"\u{1F328}\uFE0F",v:[],c:"Places"},{n:"lightning",e:"\u{1F329}\uFE0F",v:[],c:"Places"},{n:"black_large_square",e:"\u2B1B",v:[],c:"Symbols"},{n:"mermaid",e:"\u{1F9DC}\u200D\u2640\uFE0F",v:["\u{1F9DC}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F9DC}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F9DC}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F9DC}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F9DC}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"flag_pk",e:"\u{1F1F5}\u{1F1F0}",v:[],c:"Flags"},{n:"merman",e:"\u{1F9DC}\u200D\u2642\uFE0F",v:["\u{1F9DC}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F9DC}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F9DC}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F9DC}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F9DC}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"white_large_square",e:"\u2B1C",v:[],c:"Symbols"},{n:"tornado",e:"\u{1F32A}\uFE0F",v:[],c:"Places"},{n:"flag_pl",e:"\u{1F1F5}\u{1F1F1}",v:[],c:"Flags"},{n:"elf",e:"\u{1F9DD}",v:["\u{1F9DD}\u{1F3FB}","\u{1F9DD}\u{1F3FC}","\u{1F9DD}\u{1F3FD}","\u{1F9DD}\u{1F3FE}","\u{1F9DD}\u{1F3FF}"],c:"People"},{n:"fog",e:"\u{1F32B}\uFE0F",v:[],c:"Places"},{n:"large_orange_diamond",e:"\u{1F536}",v:[],c:"Symbols"},{n:"flag_pm",e:"\u{1F1F5}\u{1F1F2}",v:[],c:"Flags"},{n:"flag_pn",e:"\u{1F1F5}\u{1F1F3}",v:[],c:"Flags"},{n:"wind_blowing_face",e:"\u{1F32C}\uFE0F",v:[],c:"Places"},{n:"female_elf",e:"\u{1F9DD}\u200D\u2640\uFE0F",v:["\u{1F9DD}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F9DD}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F9DD}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F9DD}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F9DD}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"large_blue_diamond",e:"\u{1F537}",v:[],c:"Symbols"},{n:"male_elf",e:"\u{1F9DD}\u200D\u2642\uFE0F",v:["\u{1F9DD}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F9DD}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F9DD}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F9DD}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F9DD}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"small_orange_diamond",e:"\u{1F538}",v:[],c:"Symbols"},{n:"flag_pr",e:"\u{1F1F5}\u{1F1F7}",v:[],c:"Flags"},{n:"cyclone",e:"\u{1F300}",v:[],c:"Places"},{n:"rainbow",e:"\u{1F308}",v:[],c:"Places"},{n:"small_blue_diamond",e:"\u{1F539}",v:[],c:"Symbols"},{n:"genie",e:"\u{1F9DE}",v:[],c:"People"},{n:"flag_ps",e:"\u{1F1F5}\u{1F1F8}",v:[],c:"Flags"},{n:"small_red_triangle",e:"\u{1F53A}",v:[],c:"Symbols"},{n:"closed_umbrella",e:"\u{1F302}",v:[],c:"Places"},{n:"female_genie",e:"\u{1F9DE}\u200D\u2640\uFE0F",v:[],c:"People"},{n:"flag_pt",e:"\u{1F1F5}\u{1F1F9}",v:[],c:"Flags"},{n:"flag_pw",e:"\u{1F1F5}\u{1F1FC}",v:[],c:"Flags"},{n:"small_red_triangle_down",e:"\u{1F53B}",v:[],c:"Symbols"},{n:"umbrella",e:"\u2602\uFE0F",v:[],c:"Places"},{n:"male_genie",e:"\u{1F9DE}\u200D\u2642\uFE0F",v:[],c:"People"},{n:"zombie",e:"\u{1F9DF}",v:[],c:"People"},{n:"flag_py",e:"\u{1F1F5}\u{1F1FE}",v:[],c:"Flags"},{n:"diamond_shape_with_a_dot_inside",e:"\u{1F4A0}",v:[],c:"Symbols"},{n:"umbrella_with_rain_drops",e:"\u2614",v:[],c:"Places"},{n:"radio_button",e:"\u{1F518}",v:[],c:"Symbols"},{n:"female_zombie",e:"\u{1F9DF}\u200D\u2640\uFE0F",v:[],c:"People"},{n:"flag_qa",e:"\u{1F1F6}\u{1F1E6}",v:[],c:"Flags"},{n:"umbrella_on_ground",e:"\u26F1\uFE0F",v:[],c:"Places"},{n:"black_square_button",e:"\u{1F532}",v:[],c:"Symbols"},{n:"zap",e:"\u26A1",v:[],c:"Places"},{n:"male_zombie",e:"\u{1F9DF}\u200D\u2642\uFE0F",v:[],c:"People"},{n:"flag_re",e:"\u{1F1F7}\u{1F1EA}",v:[],c:"Flags"},{n:"flag_ro",e:"\u{1F1F7}\u{1F1F4}",v:[],c:"Flags"},{n:"snowflake",e:"\u2744\uFE0F",v:[],c:"Places"},{n:"white_square_button",e:"\u{1F533}",v:[],c:"Symbols"},{n:"person_frowning",e:"\u{1F64D}",v:["\u{1F64D}\u{1F3FB}","\u{1F64D}\u{1F3FC}","\u{1F64D}\u{1F3FD}","\u{1F64D}\u{1F3FE}","\u{1F64D}\u{1F3FF}"],c:"People"},{n:"flag_rs",e:"\u{1F1F7}\u{1F1F8}",v:[],c:"Flags"},{n:"man_frowning",e:"\u{1F64D}\u200D\u2642\uFE0F",v:["\u{1F64D}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F64D}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F64D}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F64D}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F64D}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"white_circle",e:"\u26AA",v:[],c:"Symbols"},{n:"snowman",e:"\u2603\uFE0F",v:[],c:"Places"},{n:"snowman_without_snow",e:"\u26C4",v:[],c:"Places"},{n:"ru",e:"\u{1F1F7}\u{1F1FA}",v:[],c:"Flags"},{n:"black_circle",e:"\u26AB",v:[],c:"Symbols"},{n:"woman_frowning",e:"\u{1F64D}\u200D\u2640\uFE0F",v:["\u{1F64D}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F64D}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F64D}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F64D}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F64D}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"flag_rw",e:"\u{1F1F7}\u{1F1FC}",v:[],c:"Flags"},{n:"comet",e:"\u2604\uFE0F",v:[],c:"Places"},{n:"person_with_pouting_face",e:"\u{1F64E}",v:["\u{1F64E}\u{1F3FB}","\u{1F64E}\u{1F3FC}","\u{1F64E}\u{1F3FD}","\u{1F64E}\u{1F3FE}","\u{1F64E}\u{1F3FF}"],c:"People"},{n:"red_circle",e:"\u{1F534}",v:[],c:"Symbols"},{n:"large_blue_circle",e:"\u{1F535}",v:[],c:"Symbols"},{n:"man_pouting",e:"\u{1F64E}\u200D\u2642\uFE0F",v:["\u{1F64E}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F64E}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F64E}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F64E}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F64E}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"flag_sa",e:"\u{1F1F8}\u{1F1E6}",v:[],c:"Flags"},{n:"fire",e:"\u{1F525}",v:[],c:"Places"},{n:"woman_pouting",e:"\u{1F64E}\u200D\u2640\uFE0F",v:["\u{1F64E}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F64E}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F64E}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F64E}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F64E}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"flag_sb",e:"\u{1F1F8}\u{1F1E7}",v:[],c:"Flags"},{n:"droplet",e:"\u{1F4A7}",v:[],c:"Places"},{n:"no_good",e:"\u{1F645}",v:["\u{1F645}\u{1F3FB}","\u{1F645}\u{1F3FC}","\u{1F645}\u{1F3FD}","\u{1F645}\u{1F3FE}","\u{1F645}\u{1F3FF}"],c:"People"},{n:"flag_sc",e:"\u{1F1F8}\u{1F1E8}",v:[],c:"Flags"},{n:"ocean",e:"\u{1F30A}",v:[],c:"Places"},{n:"man_gesturing_no",e:"\u{1F645}\u200D\u2642\uFE0F",v:["\u{1F645}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F645}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F645}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F645}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F645}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"flag_sd",e:"\u{1F1F8}\u{1F1E9}",v:[],c:"Flags"},{n:"woman_gesturing_no",e:"\u{1F645}\u200D\u2640\uFE0F",v:["\u{1F645}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F645}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F645}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F645}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F645}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"flag_se",e:"\u{1F1F8}\u{1F1EA}",v:[],c:"Flags"},{n:"flag_sg",e:"\u{1F1F8}\u{1F1EC}",v:[],c:"Flags"},{n:"ok_woman",e:"\u{1F646}",v:["\u{1F646}\u{1F3FB}","\u{1F646}\u{1F3FC}","\u{1F646}\u{1F3FD}","\u{1F646}\u{1F3FE}","\u{1F646}\u{1F3FF}"],c:"People"},{n:"flag_sh",e:"\u{1F1F8}\u{1F1ED}",v:[],c:"Flags"},{n:"man_gesturing_ok",e:"\u{1F646}\u200D\u2642\uFE0F",v:["\u{1F646}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F646}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F646}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F646}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F646}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"flag_si",e:"\u{1F1F8}\u{1F1EE}",v:[],c:"Flags"},{n:"woman_gesturing_ok",e:"\u{1F646}\u200D\u2640\uFE0F",v:["\u{1F646}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F646}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F646}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F646}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F646}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"information_desk_person",e:"\u{1F481}",v:["\u{1F481}\u{1F3FB}","\u{1F481}\u{1F3FC}","\u{1F481}\u{1F3FD}","\u{1F481}\u{1F3FE}","\u{1F481}\u{1F3FF}"],c:"People"},{n:"flag_sj",e:"\u{1F1F8}\u{1F1EF}",v:[],c:"Flags"},{n:"man_tipping_hand",e:"\u{1F481}\u200D\u2642\uFE0F",v:["\u{1F481}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F481}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F481}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F481}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F481}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"flag_sk",e:"\u{1F1F8}\u{1F1F0}",v:[],c:"Flags"},{n:"flag_sl",e:"\u{1F1F8}\u{1F1F1}",v:[],c:"Flags"},{n:"woman_tipping_hand",e:"\u{1F481}\u200D\u2640\uFE0F",v:["\u{1F481}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F481}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F481}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F481}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F481}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"flag_sm",e:"\u{1F1F8}\u{1F1F2}",v:[],c:"Flags"},{n:"raising_hand",e:"\u{1F64B}",v:["\u{1F64B}\u{1F3FB}","\u{1F64B}\u{1F3FC}","\u{1F64B}\u{1F3FD}","\u{1F64B}\u{1F3FE}","\u{1F64B}\u{1F3FF}"],c:"People"},{n:"flag_sn",e:"\u{1F1F8}\u{1F1F3}",v:[],c:"Flags"},{n:"man_raising_hand",e:"\u{1F64B}\u200D\u2642\uFE0F",v:["\u{1F64B}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F64B}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F64B}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F64B}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F64B}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"flag_so",e:"\u{1F1F8}\u{1F1F4}",v:[],c:"Flags"},{n:"woman_raising_hand",e:"\u{1F64B}\u200D\u2640\uFE0F",v:["\u{1F64B}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F64B}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F64B}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F64B}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F64B}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"flag_sr",e:"\u{1F1F8}\u{1F1F7}",v:[],c:"Flags"},{n:"bow",e:"\u{1F647}",v:["\u{1F647}\u{1F3FB}","\u{1F647}\u{1F3FC}","\u{1F647}\u{1F3FD}","\u{1F647}\u{1F3FE}","\u{1F647}\u{1F3FF}"],c:"People"},{n:"man_bowing",e:"\u{1F647}\u200D\u2642\uFE0F",v:["\u{1F647}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F647}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F647}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F647}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F647}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"flag_ss",e:"\u{1F1F8}\u{1F1F8}",v:[],c:"Flags"},{n:"woman_bowing",e:"\u{1F647}\u200D\u2640\uFE0F",v:["\u{1F647}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F647}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F647}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F647}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F647}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"flag_st",e:"\u{1F1F8}\u{1F1F9}",v:[],c:"Flags"},{n:"face_palm",e:"\u{1F926}",v:["\u{1F926}\u{1F3FB}","\u{1F926}\u{1F3FC}","\u{1F926}\u{1F3FD}","\u{1F926}\u{1F3FE}","\u{1F926}\u{1F3FF}"],c:"People"},{n:"flag_sv",e:"\u{1F1F8}\u{1F1FB}",v:[],c:"Flags"},{n:"man_facepalming",e:"\u{1F926}\u200D\u2642\uFE0F",v:["\u{1F926}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F926}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F926}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F926}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F926}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"flag_sx",e:"\u{1F1F8}\u{1F1FD}",v:[],c:"Flags"},{n:"flag_sy",e:"\u{1F1F8}\u{1F1FE}",v:[],c:"Flags"},{n:"woman_facepalming",e:"\u{1F926}\u200D\u2640\uFE0F",v:["\u{1F926}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F926}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F926}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F926}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F926}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"shrug",e:"\u{1F937}",v:["\u{1F937}\u{1F3FB}","\u{1F937}\u{1F3FC}","\u{1F937}\u{1F3FD}","\u{1F937}\u{1F3FE}","\u{1F937}\u{1F3FF}"],c:"People"},{n:"flag_sz",e:"\u{1F1F8}\u{1F1FF}",v:[],c:"Flags"},{n:"flag_ta",e:"\u{1F1F9}\u{1F1E6}",v:[],c:"Flags"},{n:"man_shrugging",e:"\u{1F937}\u200D\u2642\uFE0F",v:["\u{1F937}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F937}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F937}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F937}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F937}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"woman_shrugging",e:"\u{1F937}\u200D\u2640\uFE0F",v:["\u{1F937}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F937}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F937}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F937}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F937}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"flag_tc",e:"\u{1F1F9}\u{1F1E8}",v:[],c:"Flags"},{n:"massage",e:"\u{1F486}",v:["\u{1F486}\u{1F3FB}","\u{1F486}\u{1F3FC}","\u{1F486}\u{1F3FD}","\u{1F486}\u{1F3FE}","\u{1F486}\u{1F3FF}"],c:"People"},{n:"flag_td",e:"\u{1F1F9}\u{1F1E9}",v:[],c:"Flags"},{n:"man_getting_massage",e:"\u{1F486}\u200D\u2642\uFE0F",v:["\u{1F486}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F486}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F486}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F486}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F486}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"flag_tf",e:"\u{1F1F9}\u{1F1EB}",v:[],c:"Flags"},{n:"woman_getting_massage",e:"\u{1F486}\u200D\u2640\uFE0F",v:["\u{1F486}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F486}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F486}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F486}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F486}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"flag_tg",e:"\u{1F1F9}\u{1F1EC}",v:[],c:"Flags"},{n:"haircut",e:"\u{1F487}",v:["\u{1F487}\u{1F3FB}","\u{1F487}\u{1F3FC}","\u{1F487}\u{1F3FD}","\u{1F487}\u{1F3FE}","\u{1F487}\u{1F3FF}"],c:"People"},{n:"flag_th",e:"\u{1F1F9}\u{1F1ED}",v:[],c:"Flags"},{n:"man_getting_haircut",e:"\u{1F487}\u200D\u2642\uFE0F",v:["\u{1F487}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F487}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F487}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F487}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F487}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"flag_tj",e:"\u{1F1F9}\u{1F1EF}",v:[],c:"Flags"},{n:"flag_tk",e:"\u{1F1F9}\u{1F1F0}",v:[],c:"Flags"},{n:"woman_getting_haircut",e:"\u{1F487}\u200D\u2640\uFE0F",v:["\u{1F487}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F487}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F487}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F487}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F487}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"walking",e:"\u{1F6B6}",v:["\u{1F6B6}\u{1F3FB}","\u{1F6B6}\u{1F3FC}","\u{1F6B6}\u{1F3FD}","\u{1F6B6}\u{1F3FE}","\u{1F6B6}\u{1F3FF}"],c:"People"},{n:"flag_tl",e:"\u{1F1F9}\u{1F1F1}",v:[],c:"Flags"},{n:"man_walking",e:"\u{1F6B6}\u200D\u2642\uFE0F",v:["\u{1F6B6}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F6B6}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F6B6}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F6B6}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F6B6}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"flag_tm",e:"\u{1F1F9}\u{1F1F2}",v:[],c:"Flags"},{n:"woman_walking",e:"\u{1F6B6}\u200D\u2640\uFE0F",v:["\u{1F6B6}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F6B6}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F6B6}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F6B6}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F6B6}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"flag_tn",e:"\u{1F1F9}\u{1F1F3}",v:[],c:"Flags"},{n:"runner",e:"\u{1F3C3}",v:["\u{1F3C3}\u{1F3FB}","\u{1F3C3}\u{1F3FC}","\u{1F3C3}\u{1F3FD}","\u{1F3C3}\u{1F3FE}","\u{1F3C3}\u{1F3FF}"],c:"People"},{n:"flag_to",e:"\u{1F1F9}\u{1F1F4}",v:[],c:"Flags"},{n:"man_running",e:"\u{1F3C3}\u200D\u2642\uFE0F",v:["\u{1F3C3}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F3C3}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F3C3}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F3C3}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F3C3}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"flag_tr",e:"\u{1F1F9}\u{1F1F7}",v:[],c:"Flags"},{n:"flag_tt",e:"\u{1F1F9}\u{1F1F9}",v:[],c:"Flags"},{n:"woman_running",e:"\u{1F3C3}\u200D\u2640\uFE0F",v:["\u{1F3C3}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F3C3}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F3C3}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F3C3}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F3C3}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"flag_tv",e:"\u{1F1F9}\u{1F1FB}",v:[],c:"Flags"},{n:"dancer",e:"\u{1F483}",v:["\u{1F483}\u{1F3FB}","\u{1F483}\u{1F3FC}","\u{1F483}\u{1F3FD}","\u{1F483}\u{1F3FE}","\u{1F483}\u{1F3FF}"],c:"People"},{n:"flag_tw",e:"\u{1F1F9}\u{1F1FC}",v:[],c:"Flags"},{n:"man_dancing",e:"\u{1F57A}",v:["\u{1F57A}\u{1F3FB}","\u{1F57A}\u{1F3FC}","\u{1F57A}\u{1F3FD}","\u{1F57A}\u{1F3FE}","\u{1F57A}\u{1F3FF}"],c:"People"},{n:"dancers",e:"\u{1F46F}",v:[],c:"People"},{n:"flag_tz",e:"\u{1F1F9}\u{1F1FF}",v:[],c:"Flags"},{n:"flag_ua",e:"\u{1F1FA}\u{1F1E6}",v:[],c:"Flags"},{n:"man_with_bunny_ears_partying",e:"\u{1F46F}\u200D\u2642\uFE0F",v:[],c:"People"},{n:"woman_with_bunny_ears_partying",e:"\u{1F46F}\u200D\u2640\uFE0F",v:[],c:"People"},{n:"flag_ug",e:"\u{1F1FA}\u{1F1EC}",v:[],c:"Flags"},{n:"flag_um",e:"\u{1F1FA}\u{1F1F2}",v:[],c:"Flags"},{n:"person_in_steamy_room",e:"\u{1F9D6}",v:["\u{1F9D6}\u{1F3FB}","\u{1F9D6}\u{1F3FC}","\u{1F9D6}\u{1F3FD}","\u{1F9D6}\u{1F3FE}","\u{1F9D6}\u{1F3FF}"],c:"People"},{n:"woman_in_steamy_room",e:"\u{1F9D6}\u200D\u2640\uFE0F",v:["\u{1F9D6}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F9D6}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F9D6}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F9D6}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F9D6}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"flag_un",e:"\u{1F1FA}\u{1F1F3}",v:[],c:"Flags"},{n:"us",e:"\u{1F1FA}\u{1F1F8}",v:[],c:"Flags"},{n:"man_in_steamy_room",e:"\u{1F9D6}\u200D\u2642\uFE0F",v:["\u{1F9D6}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F9D6}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F9D6}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F9D6}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F9D6}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"person_climbing",e:"\u{1F9D7}",v:["\u{1F9D7}\u{1F3FB}","\u{1F9D7}\u{1F3FC}","\u{1F9D7}\u{1F3FD}","\u{1F9D7}\u{1F3FE}","\u{1F9D7}\u{1F3FF}"],c:"People"},{n:"flag_uy",e:"\u{1F1FA}\u{1F1FE}",v:[],c:"Flags"},{n:"woman_climbing",e:"\u{1F9D7}\u200D\u2640\uFE0F",v:["\u{1F9D7}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F9D7}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F9D7}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F9D7}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F9D7}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"flag_uz",e:"\u{1F1FA}\u{1F1FF}",v:[],c:"Flags"},{n:"man_climbing",e:"\u{1F9D7}\u200D\u2642\uFE0F",v:["\u{1F9D7}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F9D7}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F9D7}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F9D7}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F9D7}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"flag_va",e:"\u{1F1FB}\u{1F1E6}",v:[],c:"Flags"},{n:"person_in_lotus_position",e:"\u{1F9D8}",v:["\u{1F9D8}\u{1F3FB}","\u{1F9D8}\u{1F3FC}","\u{1F9D8}\u{1F3FD}","\u{1F9D8}\u{1F3FE}","\u{1F9D8}\u{1F3FF}"],c:"People"},{n:"flag_vc",e:"\u{1F1FB}\u{1F1E8}",v:[],c:"Flags"},{n:"flag_ve",e:"\u{1F1FB}\u{1F1EA}",v:[],c:"Flags"},{n:"woman_in_lotus_position",e:"\u{1F9D8}\u200D\u2640\uFE0F",v:["\u{1F9D8}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F9D8}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F9D8}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F9D8}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F9D8}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"man_in_lotus_position",e:"\u{1F9D8}\u200D\u2642\uFE0F",v:["\u{1F9D8}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F9D8}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F9D8}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F9D8}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F9D8}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"flag_vg",e:"\u{1F1FB}\u{1F1EC}",v:[],c:"Flags"},{n:"flag_vi",e:"\u{1F1FB}\u{1F1EE}",v:[],c:"Flags"},{n:"bath",e:"\u{1F6C0}",v:["\u{1F6C0}\u{1F3FB}","\u{1F6C0}\u{1F3FC}","\u{1F6C0}\u{1F3FD}","\u{1F6C0}\u{1F3FE}","\u{1F6C0}\u{1F3FF}"],c:"People"},{n:"sleeping_accommodation",e:"\u{1F6CC}",v:["\u{1F6CC}\u{1F3FB}","\u{1F6CC}\u{1F3FC}","\u{1F6CC}\u{1F3FD}","\u{1F6CC}\u{1F3FE}","\u{1F6CC}\u{1F3FF}"],c:"People"},{n:"flag_vn",e:"\u{1F1FB}\u{1F1F3}",v:[],c:"Flags"},{n:"man_in_business_suit_levitating",e:"\u{1F574}\uFE0F",v:["\u{1F574}\u{1F3FB}","\u{1F574}\u{1F3FC}","\u{1F574}\u{1F3FD}","\u{1F574}\u{1F3FE}","\u{1F574}\u{1F3FF}"],c:"People"},{n:"flag_vu",e:"\u{1F1FB}\u{1F1FA}",v:[],c:"Flags"},{n:"flag_wf",e:"\u{1F1FC}\u{1F1EB}",v:[],c:"Flags"},{n:"speaking_head_in_silhouette",e:"\u{1F5E3}\uFE0F",v:[],c:"People"},{n:"bust_in_silhouette",e:"\u{1F464}",v:[],c:"People"},{n:"flag_ws",e:"\u{1F1FC}\u{1F1F8}",v:[],c:"Flags"},{n:"busts_in_silhouette",e:"\u{1F465}",v:[],c:"People"},{n:"flag_xk",e:"\u{1F1FD}\u{1F1F0}",v:[],c:"Flags"},{n:"fencer",e:"\u{1F93A}",v:[],c:"People"},{n:"flag_ye",e:"\u{1F1FE}\u{1F1EA}",v:[],c:"Flags"},{n:"flag_yt",e:"\u{1F1FE}\u{1F1F9}",v:[],c:"Flags"},{n:"horse_racing",e:"\u{1F3C7}",v:["\u{1F3C7}\u{1F3FB}","\u{1F3C7}\u{1F3FC}","\u{1F3C7}\u{1F3FD}","\u{1F3C7}\u{1F3FE}","\u{1F3C7}\u{1F3FF}"],c:"People"},{n:"flag_za",e:"\u{1F1FF}\u{1F1E6}",v:[],c:"Flags"},{n:"skier",e:"\u26F7\uFE0F",v:[],c:"People"},{n:"flag_zm",e:"\u{1F1FF}\u{1F1F2}",v:[],c:"Flags"},{n:"snowboarder",e:"\u{1F3C2}",v:["\u{1F3C2}\u{1F3FB}","\u{1F3C2}\u{1F3FC}","\u{1F3C2}\u{1F3FD}","\u{1F3C2}\u{1F3FE}","\u{1F3C2}\u{1F3FF}"],c:"People"},{n:"golfer",e:"\u{1F3CC}\uFE0F",v:["\u{1F3CC}\u{1F3FB}","\u{1F3CC}\u{1F3FC}","\u{1F3CC}\u{1F3FD}","\u{1F3CC}\u{1F3FE}","\u{1F3CC}\u{1F3FF}"],c:"People"},{n:"flag_zw",e:"\u{1F1FF}\u{1F1FC}",v:[],c:"Flags"},{n:"man_golfing",e:"\u{1F3CC}\uFE0F\u200D\u2642\uFE0F",v:["\u{1F3CC}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F3CC}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F3CC}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F3CC}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F3CC}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"flag_england",e:"\u{1F3F4}\u{E0067}\u{E0062}\u{E0065}\u{E006E}\u{E0067}\u{E007F}",v:[],c:"Flags"},{n:"woman_golfing",e:"\u{1F3CC}\uFE0F\u200D\u2640\uFE0F",v:["\u{1F3CC}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F3CC}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F3CC}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F3CC}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F3CC}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"flag_scotland",e:"\u{1F3F4}\u{E0067}\u{E0062}\u{E0073}\u{E0063}\u{E0074}\u{E007F}",v:[],c:"Flags"},{n:"flag_wales",e:"\u{1F3F4}\u{E0067}\u{E0062}\u{E0077}\u{E006C}\u{E0073}\u{E007F}",v:[],c:"Flags"},{n:"surfer",e:"\u{1F3C4}",v:["\u{1F3C4}\u{1F3FB}","\u{1F3C4}\u{1F3FC}","\u{1F3C4}\u{1F3FD}","\u{1F3C4}\u{1F3FE}","\u{1F3C4}\u{1F3FF}"],c:"People"},{n:"man_surfing",e:"\u{1F3C4}\u200D\u2642\uFE0F",v:["\u{1F3C4}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F3C4}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F3C4}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F3C4}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F3C4}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"woman_surfing",e:"\u{1F3C4}\u200D\u2640\uFE0F",v:["\u{1F3C4}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F3C4}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F3C4}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F3C4}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F3C4}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"rowboat",e:"\u{1F6A3}",v:["\u{1F6A3}\u{1F3FB}","\u{1F6A3}\u{1F3FC}","\u{1F6A3}\u{1F3FD}","\u{1F6A3}\u{1F3FE}","\u{1F6A3}\u{1F3FF}"],c:"People"},{n:"man_rowing_boat",e:"\u{1F6A3}\u200D\u2642\uFE0F",v:["\u{1F6A3}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F6A3}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F6A3}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F6A3}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F6A3}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"woman_rowing_boat",e:"\u{1F6A3}\u200D\u2640\uFE0F",v:["\u{1F6A3}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F6A3}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F6A3}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F6A3}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F6A3}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"swimmer",e:"\u{1F3CA}",v:["\u{1F3CA}\u{1F3FB}","\u{1F3CA}\u{1F3FC}","\u{1F3CA}\u{1F3FD}","\u{1F3CA}\u{1F3FE}","\u{1F3CA}\u{1F3FF}"],c:"People"},{n:"man_swimming",e:"\u{1F3CA}\u200D\u2642\uFE0F",v:["\u{1F3CA}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F3CA}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F3CA}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F3CA}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F3CA}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"woman_swimming",e:"\u{1F3CA}\u200D\u2640\uFE0F",v:["\u{1F3CA}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F3CA}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F3CA}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F3CA}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F3CA}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"person_with_ball",e:"\u26F9\uFE0F",v:["\u26F9\u{1F3FB}","\u26F9\u{1F3FC}","\u26F9\u{1F3FD}","\u26F9\u{1F3FE}","\u26F9\u{1F3FF}"],c:"People"},{n:"man_bouncing_ball",e:"\u26F9\uFE0F\u200D\u2642\uFE0F",v:["\u26F9\u{1F3FB}\u200D\u2642\uFE0F","\u26F9\u{1F3FC}\u200D\u2642\uFE0F","\u26F9\u{1F3FD}\u200D\u2642\uFE0F","\u26F9\u{1F3FE}\u200D\u2642\uFE0F","\u26F9\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"woman_bouncing_ball",e:"\u26F9\uFE0F\u200D\u2640\uFE0F",v:["\u26F9\u{1F3FB}\u200D\u2640\uFE0F","\u26F9\u{1F3FC}\u200D\u2640\uFE0F","\u26F9\u{1F3FD}\u200D\u2640\uFE0F","\u26F9\u{1F3FE}\u200D\u2640\uFE0F","\u26F9\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"weight_lifter",e:"\u{1F3CB}\uFE0F",v:["\u{1F3CB}\u{1F3FB}","\u{1F3CB}\u{1F3FC}","\u{1F3CB}\u{1F3FD}","\u{1F3CB}\u{1F3FE}","\u{1F3CB}\u{1F3FF}"],c:"People"},{n:"man_lifting_weights",e:"\u{1F3CB}\uFE0F\u200D\u2642\uFE0F",v:["\u{1F3CB}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F3CB}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F3CB}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F3CB}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F3CB}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"woman_lifting_weights",e:"\u{1F3CB}\uFE0F\u200D\u2640\uFE0F",v:["\u{1F3CB}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F3CB}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F3CB}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F3CB}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F3CB}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"bicyclist",e:"\u{1F6B4}",v:["\u{1F6B4}\u{1F3FB}","\u{1F6B4}\u{1F3FC}","\u{1F6B4}\u{1F3FD}","\u{1F6B4}\u{1F3FE}","\u{1F6B4}\u{1F3FF}"],c:"People"},{n:"man_biking",e:"\u{1F6B4}\u200D\u2642\uFE0F",v:["\u{1F6B4}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F6B4}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F6B4}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F6B4}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F6B4}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"woman_biking",e:"\u{1F6B4}\u200D\u2640\uFE0F",v:["\u{1F6B4}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F6B4}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F6B4}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F6B4}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F6B4}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"mountain_bicyclist",e:"\u{1F6B5}",v:["\u{1F6B5}\u{1F3FB}","\u{1F6B5}\u{1F3FC}","\u{1F6B5}\u{1F3FD}","\u{1F6B5}\u{1F3FE}","\u{1F6B5}\u{1F3FF}"],c:"People"},{n:"man_mountain_biking",e:"\u{1F6B5}\u200D\u2642\uFE0F",v:["\u{1F6B5}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F6B5}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F6B5}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F6B5}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F6B5}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"woman_mountain_biking",e:"\u{1F6B5}\u200D\u2640\uFE0F",v:["\u{1F6B5}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F6B5}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F6B5}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F6B5}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F6B5}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"racing_car",e:"\u{1F3CE}\uFE0F",v:[],c:"People"},{n:"racing_motorcycle",e:"\u{1F3CD}\uFE0F",v:[],c:"People"},{n:"person_doing_cartwheel",e:"\u{1F938}",v:["\u{1F938}\u{1F3FB}","\u{1F938}\u{1F3FC}","\u{1F938}\u{1F3FD}","\u{1F938}\u{1F3FE}","\u{1F938}\u{1F3FF}"],c:"People"},{n:"man_cartwheeling",e:"\u{1F938}\u200D\u2642\uFE0F",v:["\u{1F938}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F938}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F938}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F938}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F938}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"woman_cartwheeling",e:"\u{1F938}\u200D\u2640\uFE0F",v:["\u{1F938}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F938}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F938}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F938}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F938}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"wrestlers",e:"\u{1F93C}",v:[],c:"People"},{n:"man_wrestling",e:"\u{1F93C}\u200D\u2642\uFE0F",v:[],c:"People"},{n:"woman_wrestling",e:"\u{1F93C}\u200D\u2640\uFE0F",v:[],c:"People"},{n:"water_polo",e:"\u{1F93D}",v:["\u{1F93D}\u{1F3FB}","\u{1F93D}\u{1F3FC}","\u{1F93D}\u{1F3FD}","\u{1F93D}\u{1F3FE}","\u{1F93D}\u{1F3FF}"],c:"People"},{n:"man_playing_water_polo",e:"\u{1F93D}\u200D\u2642\uFE0F",v:["\u{1F93D}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F93D}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F93D}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F93D}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F93D}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"woman_playing_water_polo",e:"\u{1F93D}\u200D\u2640\uFE0F",v:["\u{1F93D}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F93D}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F93D}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F93D}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F93D}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"handball",e:"\u{1F93E}",v:["\u{1F93E}\u{1F3FB}","\u{1F93E}\u{1F3FC}","\u{1F93E}\u{1F3FD}","\u{1F93E}\u{1F3FE}","\u{1F93E}\u{1F3FF}"],c:"People"},{n:"man_playing_handball",e:"\u{1F93E}\u200D\u2642\uFE0F",v:["\u{1F93E}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F93E}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F93E}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F93E}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F93E}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"woman_playing_handball",e:"\u{1F93E}\u200D\u2640\uFE0F",v:["\u{1F93E}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F93E}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F93E}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F93E}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F93E}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"juggling",e:"\u{1F939}",v:["\u{1F939}\u{1F3FB}","\u{1F939}\u{1F3FC}","\u{1F939}\u{1F3FD}","\u{1F939}\u{1F3FE}","\u{1F939}\u{1F3FF}"],c:"People"},{n:"man_juggling",e:"\u{1F939}\u200D\u2642\uFE0F",v:["\u{1F939}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F939}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F939}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F939}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F939}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"woman_juggling",e:"\u{1F939}\u200D\u2640\uFE0F",v:["\u{1F939}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F939}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F939}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F939}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F939}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"couple",e:"\u{1F46B}",v:[],c:"People"},{n:"two_men_holding_hands",e:"\u{1F46C}",v:[],c:"People"},{n:"two_women_holding_hands",e:"\u{1F46D}",v:[],c:"People"},{n:"couplekiss",e:"\u{1F48F}",v:[],c:"People"},{n:"woman_kiss_man",e:"\u{1F469}\u200D\u2764\uFE0F\u200D\u{1F48B}\u200D\u{1F468}",v:[],c:"People"},{n:"man_kiss_man",e:"\u{1F468}\u200D\u2764\uFE0F\u200D\u{1F48B}\u200D\u{1F468}",v:[],c:"People"},{n:"woman_kiss_woman",e:"\u{1F469}\u200D\u2764\uFE0F\u200D\u{1F48B}\u200D\u{1F469}",v:[],c:"People"},{n:"couple_with_heart",e:"\u{1F491}",v:[],c:"People"},{n:"woman_heart_man",e:"\u{1F469}\u200D\u2764\uFE0F\u200D\u{1F468}",v:[],c:"People"},{n:"man_heart_man",e:"\u{1F468}\u200D\u2764\uFE0F\u200D\u{1F468}",v:[],c:"People"},{n:"woman_heart_woman",e:"\u{1F469}\u200D\u2764\uFE0F\u200D\u{1F469}",v:[],c:"People"},{n:"family",e:"\u{1F46A}",v:[],c:"People"},{n:"man_woman_boy",e:"\u{1F468}\u200D\u{1F469}\u200D\u{1F466}",v:[],c:"People"},{n:"man_woman_girl",e:"\u{1F468}\u200D\u{1F469}\u200D\u{1F467}",v:[],c:"People"},{n:"man_woman_girl_boy",e:"\u{1F468}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F466}",v:[],c:"People"},{n:"man_woman_boy_boy",e:"\u{1F468}\u200D\u{1F469}\u200D\u{1F466}\u200D\u{1F466}",v:[],c:"People"},{n:"man_woman_girl_girl",e:"\u{1F468}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F467}",v:[],c:"People"},{n:"man_man_boy",e:"\u{1F468}\u200D\u{1F468}\u200D\u{1F466}",v:[],c:"People"},{n:"man_man_girl",e:"\u{1F468}\u200D\u{1F468}\u200D\u{1F467}",v:[],c:"People"},{n:"man_man_girl_boy",e:"\u{1F468}\u200D\u{1F468}\u200D\u{1F467}\u200D\u{1F466}",v:[],c:"People"},{n:"man_man_boy_boy",e:"\u{1F468}\u200D\u{1F468}\u200D\u{1F466}\u200D\u{1F466}",v:[],c:"People"},{n:"man_man_girl_girl",e:"\u{1F468}\u200D\u{1F468}\u200D\u{1F467}\u200D\u{1F467}",v:[],c:"People"},{n:"woman_woman_boy",e:"\u{1F469}\u200D\u{1F469}\u200D\u{1F466}",v:[],c:"People"},{n:"woman_woman_girl",e:"\u{1F469}\u200D\u{1F469}\u200D\u{1F467}",v:[],c:"People"},{n:"woman_woman_girl_boy",e:"\u{1F469}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F466}",v:[],c:"People"},{n:"woman_woman_boy_boy",e:"\u{1F469}\u200D\u{1F469}\u200D\u{1F466}\u200D\u{1F466}",v:[],c:"People"},{n:"woman_woman_girl_girl",e:"\u{1F469}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F467}",v:[],c:"People"},{n:"man_boy",e:"\u{1F468}\u200D\u{1F466}",v:[],c:"People"},{n:"man_boy_boy",e:"\u{1F468}\u200D\u{1F466}\u200D\u{1F466}",v:[],c:"People"},{n:"man_girl",e:"\u{1F468}\u200D\u{1F467}",v:[],c:"People"},{n:"man_girl_boy",e:"\u{1F468}\u200D\u{1F467}\u200D\u{1F466}",v:[],c:"People"},{n:"man_girl_girl",e:"\u{1F468}\u200D\u{1F467}\u200D\u{1F467}",v:[],c:"People"},{n:"woman_boy",e:"\u{1F469}\u200D\u{1F466}",v:[],c:"People"},{n:"woman_boy_boy",e:"\u{1F469}\u200D\u{1F466}\u200D\u{1F466}",v:[],c:"People"},{n:"woman_girl",e:"\u{1F469}\u200D\u{1F467}",v:[],c:"People"},{n:"woman_girl_boy",e:"\u{1F469}\u200D\u{1F467}\u200D\u{1F466}",v:[],c:"People"},{n:"woman_girl_girl",e:"\u{1F469}\u200D\u{1F467}\u200D\u{1F467}",v:[],c:"People"},{n:"selfie",e:"\u{1F933}",v:["\u{1F933}\u{1F3FB}","\u{1F933}\u{1F3FC}","\u{1F933}\u{1F3FD}","\u{1F933}\u{1F3FE}","\u{1F933}\u{1F3FF}"],c:"People"},{n:"muscle",e:"\u{1F4AA}",v:["\u{1F4AA}\u{1F3FB}","\u{1F4AA}\u{1F3FC}","\u{1F4AA}\u{1F3FD}","\u{1F4AA}\u{1F3FE}","\u{1F4AA}\u{1F3FF}"],c:"People"},{n:"point_left",e:"\u{1F448}",v:["\u{1F448}\u{1F3FB}","\u{1F448}\u{1F3FC}","\u{1F448}\u{1F3FD}","\u{1F448}\u{1F3FE}","\u{1F448}\u{1F3FF}"],c:"People"},{n:"point_right",e:"\u{1F449}",v:["\u{1F449}\u{1F3FB}","\u{1F449}\u{1F3FC}","\u{1F449}\u{1F3FD}","\u{1F449}\u{1F3FE}","\u{1F449}\u{1F3FF}"],c:"People"},{n:"point_up",e:"\u261D\uFE0F",v:["\u261D\u{1F3FB}","\u261D\u{1F3FC}","\u261D\u{1F3FD}","\u261D\u{1F3FE}","\u261D\u{1F3FF}"],c:"People"},{n:"point_up_2",e:"\u{1F446}",v:["\u{1F446}\u{1F3FB}","\u{1F446}\u{1F3FC}","\u{1F446}\u{1F3FD}","\u{1F446}\u{1F3FE}","\u{1F446}\u{1F3FF}"],c:"People"},{n:"middle_finger",e:"\u{1F595}",v:["\u{1F595}\u{1F3FB}","\u{1F595}\u{1F3FC}","\u{1F595}\u{1F3FD}","\u{1F595}\u{1F3FE}","\u{1F595}\u{1F3FF}"],c:"People"},{n:"point_down",e:"\u{1F447}",v:["\u{1F447}\u{1F3FB}","\u{1F447}\u{1F3FC}","\u{1F447}\u{1F3FD}","\u{1F447}\u{1F3FE}","\u{1F447}\u{1F3FF}"],c:"People"},{n:"v",e:"\u270C\uFE0F",v:["\u270C\u{1F3FB}","\u270C\u{1F3FC}","\u270C\u{1F3FD}","\u270C\u{1F3FE}","\u270C\u{1F3FF}"],c:"People"},{n:"crossed_fingers",e:"\u{1F91E}",v:["\u{1F91E}\u{1F3FB}","\u{1F91E}\u{1F3FC}","\u{1F91E}\u{1F3FD}","\u{1F91E}\u{1F3FE}","\u{1F91E}\u{1F3FF}"],c:"People"},{n:"spock_hand",e:"\u{1F596}",v:["\u{1F596}\u{1F3FB}","\u{1F596}\u{1F3FC}","\u{1F596}\u{1F3FD}","\u{1F596}\u{1F3FE}","\u{1F596}\u{1F3FF}"],c:"People"},{n:"the_horns",e:"\u{1F918}",v:["\u{1F918}\u{1F3FB}","\u{1F918}\u{1F3FC}","\u{1F918}\u{1F3FD}","\u{1F918}\u{1F3FE}","\u{1F918}\u{1F3FF}"],c:"People"},{n:"call_me_hand",e:"\u{1F919}",v:["\u{1F919}\u{1F3FB}","\u{1F919}\u{1F3FC}","\u{1F919}\u{1F3FD}","\u{1F919}\u{1F3FE}","\u{1F919}\u{1F3FF}"],c:"People"},{n:"raised_hand_with_fingers_splayed",e:"\u{1F590}\uFE0F",v:["\u{1F590}\u{1F3FB}","\u{1F590}\u{1F3FC}","\u{1F590}\u{1F3FD}","\u{1F590}\u{1F3FE}","\u{1F590}\u{1F3FF}"],c:"People"},{n:"hand",e:"\u270B",v:["\u270B\u{1F3FB}","\u270B\u{1F3FC}","\u270B\u{1F3FD}","\u270B\u{1F3FE}","\u270B\u{1F3FF}"],c:"People"},{n:"ok_hand",e:"\u{1F44C}",v:["\u{1F44C}\u{1F3FB}","\u{1F44C}\u{1F3FC}","\u{1F44C}\u{1F3FD}","\u{1F44C}\u{1F3FE}","\u{1F44C}\u{1F3FF}"],c:"People"},{n:"+1",e:"\u{1F44D}",v:[],c:"People"},{n:"_1",e:"\u{1F44E}",v:["\u{1F44E}\u{1F3FB}","\u{1F44E}\u{1F3FC}","\u{1F44E}\u{1F3FD}","\u{1F44E}\u{1F3FE}","\u{1F44E}\u{1F3FF}"],c:"People"},{n:"fist",e:"\u270A",v:["\u270A\u{1F3FB}","\u270A\u{1F3FC}","\u270A\u{1F3FD}","\u270A\u{1F3FE}","\u270A\u{1F3FF}"],c:"People"},{n:"facepunch",e:"\u{1F44A}",v:["\u{1F44A}\u{1F3FB}","\u{1F44A}\u{1F3FC}","\u{1F44A}\u{1F3FD}","\u{1F44A}\u{1F3FE}","\u{1F44A}\u{1F3FF}"],c:"People"},{n:"left_facing_fist",e:"\u{1F91B}",v:["\u{1F91B}\u{1F3FB}","\u{1F91B}\u{1F3FC}","\u{1F91B}\u{1F3FD}","\u{1F91B}\u{1F3FE}","\u{1F91B}\u{1F3FF}"],c:"People"},{n:"right_facing_fist",e:"\u{1F91C}",v:["\u{1F91C}\u{1F3FB}","\u{1F91C}\u{1F3FC}","\u{1F91C}\u{1F3FD}","\u{1F91C}\u{1F3FE}","\u{1F91C}\u{1F3FF}"],c:"People"},{n:"raised_back_of_hand",e:"\u{1F91A}",v:["\u{1F91A}\u{1F3FB}","\u{1F91A}\u{1F3FC}","\u{1F91A}\u{1F3FD}","\u{1F91A}\u{1F3FE}","\u{1F91A}\u{1F3FF}"],c:"People"},{n:"wave",e:"\u{1F44B}",v:["\u{1F44B}\u{1F3FB}","\u{1F44B}\u{1F3FC}","\u{1F44B}\u{1F3FD}","\u{1F44B}\u{1F3FE}","\u{1F44B}\u{1F3FF}"],c:"People"},{n:"i_love_you_hand_sign",e:"\u{1F91F}",v:["\u{1F91F}\u{1F3FB}","\u{1F91F}\u{1F3FC}","\u{1F91F}\u{1F3FD}","\u{1F91F}\u{1F3FE}","\u{1F91F}\u{1F3FF}"],c:"People"},{n:"writing_hand",e:"\u270D\uFE0F",v:["\u270D\u{1F3FB}","\u270D\u{1F3FC}","\u270D\u{1F3FD}","\u270D\u{1F3FE}","\u270D\u{1F3FF}"],c:"People"},{n:"clap",e:"\u{1F44F}",v:["\u{1F44F}\u{1F3FB}","\u{1F44F}\u{1F3FC}","\u{1F44F}\u{1F3FD}","\u{1F44F}\u{1F3FE}","\u{1F44F}\u{1F3FF}"],c:"People"},{n:"open_hands",e:"\u{1F450}",v:["\u{1F450}\u{1F3FB}","\u{1F450}\u{1F3FC}","\u{1F450}\u{1F3FD}","\u{1F450}\u{1F3FE}","\u{1F450}\u{1F3FF}"],c:"People"},{n:"raised_hands",e:"\u{1F64C}",v:["\u{1F64C}\u{1F3FB}","\u{1F64C}\u{1F3FC}","\u{1F64C}\u{1F3FD}","\u{1F64C}\u{1F3FE}","\u{1F64C}\u{1F3FF}"],c:"People"},{n:"palms_up_together",e:"\u{1F932}",v:["\u{1F932}\u{1F3FB}","\u{1F932}\u{1F3FC}","\u{1F932}\u{1F3FD}","\u{1F932}\u{1F3FE}","\u{1F932}\u{1F3FF}"],c:"People"},{n:"pray",e:"\u{1F64F}",v:["\u{1F64F}\u{1F3FB}","\u{1F64F}\u{1F3FC}","\u{1F64F}\u{1F3FD}","\u{1F64F}\u{1F3FE}","\u{1F64F}\u{1F3FF}"],c:"People"},{n:"handshake",e:"\u{1F91D}",v:[],c:"People"},{n:"nail_care",e:"\u{1F485}",v:["\u{1F485}\u{1F3FB}","\u{1F485}\u{1F3FC}","\u{1F485}\u{1F3FD}","\u{1F485}\u{1F3FE}","\u{1F485}\u{1F3FF}"],c:"People"},{n:"ear",e:"\u{1F442}",v:["\u{1F442}\u{1F3FB}","\u{1F442}\u{1F3FC}","\u{1F442}\u{1F3FD}","\u{1F442}\u{1F3FE}","\u{1F442}\u{1F3FF}"],c:"People"},{n:"nose",e:"\u{1F443}",v:["\u{1F443}\u{1F3FB}","\u{1F443}\u{1F3FC}","\u{1F443}\u{1F3FD}","\u{1F443}\u{1F3FE}","\u{1F443}\u{1F3FF}"],c:"People"},{n:"footprints",e:"\u{1F463}",v:[],c:"People"},{n:"eyes",e:"\u{1F440}",v:[],c:"People"},{n:"eye",e:"\u{1F441}\uFE0F",v:[],c:"People"},{n:"eye_in_speech_bubble",e:"\u{1F441}\uFE0F\u200D\u{1F5E8}\uFE0F",v:[],c:"People"},{n:"brain",e:"\u{1F9E0}",v:[],c:"People"},{n:"tongue",e:"\u{1F445}",v:[],c:"People"},{n:"lips",e:"\u{1F444}",v:[],c:"People"},{n:"kiss",e:"\u{1F48B}",v:[],c:"People"},{n:"cupid",e:"\u{1F498}",v:[],c:"People"},{n:"heart",e:"\u2764\uFE0F",v:[],c:"People"},{n:"heartbeat",e:"\u{1F493}",v:[],c:"People"},{n:"broken_heart",e:"\u{1F494}",v:[],c:"People"},{n:"two_hearts",e:"\u{1F495}",v:[],c:"People"},{n:"sparkling_heart",e:"\u{1F496}",v:[],c:"People"},{n:"heartpulse",e:"\u{1F497}",v:[],c:"People"},{n:"blue_heart",e:"\u{1F499}",v:[],c:"People"},{n:"green_heart",e:"\u{1F49A}",v:[],c:"People"},{n:"yellow_heart",e:"\u{1F49B}",v:[],c:"People"},{n:"orange_heart",e:"\u{1F9E1}",v:[],c:"People"},{n:"purple_heart",e:"\u{1F49C}",v:[],c:"People"},{n:"black_heart",e:"\u{1F5A4}",v:[],c:"People"},{n:"gift_heart",e:"\u{1F49D}",v:[],c:"People"},{n:"revolving_hearts",e:"\u{1F49E}",v:[],c:"People"},{n:"heart_decoration",e:"\u{1F49F}",v:[],c:"People"},{n:"heavy_heart_exclamation_mark_ornament",e:"\u2763\uFE0F",v:[],c:"People"},{n:"love_letter",e:"\u{1F48C}",v:[],c:"People"},{n:"zzz",e:"\u{1F4A4}",v:[],c:"People"},{n:"anger",e:"\u{1F4A2}",v:[],c:"People"},{n:"bomb",e:"\u{1F4A3}",v:[],c:"People"},{n:"boom",e:"\u{1F4A5}",v:[],c:"People"},{n:"sweat_drops",e:"\u{1F4A6}",v:[],c:"People"},{n:"dash",e:"\u{1F4A8}",v:[],c:"People"},{n:"dizzy",e:"\u{1F4AB}",v:[],c:"People"},{n:"speech_balloon",e:"\u{1F4AC}",v:[],c:"People"},{n:"left_speech_bubble",e:"\u{1F5E8}\uFE0F",v:[],c:"People"},{n:"right_anger_bubble",e:"\u{1F5EF}\uFE0F",v:[],c:"People"},{n:"thought_balloon",e:"\u{1F4AD}",v:[],c:"People"},{n:"hole",e:"\u{1F573}\uFE0F",v:[],c:"People"},{n:"eyeglasses",e:"\u{1F453}",v:[],c:"People"},{n:"dark_sunglasses",e:"\u{1F576}\uFE0F",v:[],c:"People"},{n:"necktie",e:"\u{1F454}",v:[],c:"People"},{n:"shirt",e:"\u{1F455}",v:[],c:"People"},{n:"jeans",e:"\u{1F456}",v:[],c:"People"},{n:"scarf",e:"\u{1F9E3}",v:[],c:"People"},{n:"gloves",e:"\u{1F9E4}",v:[],c:"People"},{n:"coat",e:"\u{1F9E5}",v:[],c:"People"},{n:"socks",e:"\u{1F9E6}",v:[],c:"People"},{n:"dress",e:"\u{1F457}",v:[],c:"People"},{n:"kimono",e:"\u{1F458}",v:[],c:"People"},{n:"bikini",e:"\u{1F459}",v:[],c:"People"},{n:"womans_clothes",e:"\u{1F45A}",v:[],c:"People"},{n:"purse",e:"\u{1F45B}",v:[],c:"People"},{n:"handbag",e:"\u{1F45C}",v:[],c:"People"},{n:"pouch",e:"\u{1F45D}",v:[],c:"People"},{n:"shopping_bags",e:"\u{1F6CD}\uFE0F",v:[],c:"People"},{n:"school_satchel",e:"\u{1F392}",v:[],c:"People"},{n:"mans_shoe",e:"\u{1F45E}",v:[],c:"People"},{n:"athletic_shoe",e:"\u{1F45F}",v:[],c:"People"},{n:"high_heel",e:"\u{1F460}",v:[],c:"People"},{n:"sandal",e:"\u{1F461}",v:[],c:"People"},{n:"boot",e:"\u{1F462}",v:[],c:"People"},{n:"crown",e:"\u{1F451}",v:[],c:"People"},{n:"womans_hat",e:"\u{1F452}",v:[],c:"People"},{n:"tophat",e:"\u{1F3A9}",v:[],c:"People"},{n:"mortar_board",e:"\u{1F393}",v:[],c:"People"},{n:"billed_cap",e:"\u{1F9E2}",v:[],c:"People"},{n:"helmet_with_white_cross",e:"\u26D1\uFE0F",v:[],c:"People"},{n:"prayer_beads",e:"\u{1F4FF}",v:[],c:"People"},{n:"lipstick",e:"\u{1F484}",v:[],c:"People"},{n:"ring",e:"\u{1F48D}",v:[],c:"People"},{n:"gem",e:"\u{1F48E}",v:[],c:"People"}];function C0e(i){let e,t;return e=new Gn({props:{title:"No emojis found",emoji:"\u{1F62D}"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function S0e(i){let e,t;return e=new eb({props:{emojis:i[0],withTabs:!1}}),e.$on("emojihover",i[2]),e.$on("emojiclick",i[3]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.emojis=n[0]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function T0e(i){let e,t,n,r;const s=[S0e,C0e],l=[];function o(a,u){return a[0].length?0:1}return t=o(i),n=l[t]=s[t](i),{c(){e=A("div"),n.c(),h(e,"class","")},m(a,u){w(a,e,u),l[t].m(e,null),r=!0},p(a,[u]){let c=t;t=o(a),t===c?l[t].p(a,u):(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),n=l[t],n?n.p(a,u):(n=l[t]=s[t](a),n.c()),_(n,1),n.m(e,null))},i(a){r||(_(n),r=!0)},o(a){v(n),r=!1},d(a){a&&y(e),l[t].d()}}}function A0e(i,e,t){let n,{searchText:r=""}=e;Dt();function s(o){Gr.call(this,i,o)}function l(o){Gr.call(this,i,o)}return i.$$set=o=>{"searchText"in o&&t(1,r=o.searchText)},i.$$.update=()=>{i.$$.dirty&2&&t(0,n=BO.filter(o=>o.n.indexOf((r||"").toLowerCase())>=0))},[n,r,s,l]}class P0e extends ce{constructor(e){super(),ue(this,e,A0e,T0e,le,{searchText:1})}}function p3(i,e,t){const n=i.slice();return n[5]=e[t],n}function _3(i){let e,t;return e=new KL({props:{emoji:i[0][i[5]]}}),e.$on("emojiclick",i[3]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.emoji=n[0][n[5]]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function N0e(i){let e,t,n,r,s,l,o,a,u=Object.keys(i[0]),c=[];for(let d=0;d<u.length;d+=1)c[d]=_3(p3(i,u,d));const f=d=>v(c[d],1,1,()=>{c[d]=null});return s=new je({props:{icon:gl}}),{c(){e=A("div"),t=A("div");for(let d=0;d<c.length;d+=1)c[d].c();n=Y(),r=A("div"),O(s.$$.fragment),h(r,"class","close-button"),h(r,"role","button"),h(t,"class","svelte-emoji-picker__variants"),h(e,"class","svelte-emoji-picker__variants-container frosted")},m(d,m){w(d,e,m),E(e,t);for(let p=0;p<c.length;p+=1)c[p].m(t,null);E(t,n),E(t,r),N(s,r,null),l=!0,o||(a=[ke(r,"click",i[1]),ke(e,"click",i[2])],o=!0)},p(d,[m]){if(m&1){u=Object.keys(d[0]);let p;for(p=0;p<u.length;p+=1){const g=p3(d,u,p);c[p]?(c[p].p(g,m),_(c[p],1)):(c[p]=_3(g),c[p].c(),_(c[p],1),c[p].m(t,n))}for(ie(),p=u.length;p<c.length;p+=1)f(p);re()}},i(d){if(!l){for(let m=0;m<u.length;m+=1)_(c[m]);_(s.$$.fragment,d),l=!0}},o(d){c=c.filter(Boolean);for(let m=0;m<c.length;m+=1)v(c[m]);v(s.$$.fragment,d),l=!1},d(d){d&&y(e),it(c,d),M(s),o=!1,pt(a)}}}function M0e(i,e,t){let{variants:n}=e;const r=Dt();function s(){r("close")}function l(a){r("close",a)}function o(a){Gr.call(this,i,a)}return i.$$set=a=>{"variants"in a&&t(0,n=a.variants)},[n,s,l,o]}class L0e extends ce{constructor(e){super(),ue(this,e,M0e,N0e,le,{variants:0})}}const O0e=i=>({}),g3=i=>({}),I0e=i=>({}),v3=i=>({});function B0e(i){let e,t,n,r,s,l,o,a,u;const c=i[9].header,f=He(c,i,i[8],v3),d=i[9].default,m=He(d,i,i[8],null),p=i[9].footer,g=He(p,i,i[8],g3);return{c(){e=A("div"),t=A("div"),f&&f.c(),n=Y(),r=A("div"),m&&m.c(),l=Y(),o=A("div"),g&&g.c(),h(t,"class","nui-panel--header"),h(r,"class",s="nui-panel--main "+i[5]),h(o,"class","nui-panel--footer"),h(e,"id",i[7]),h(e,"class",a="nui nui-panel "+(i[1]?"nui-rounded":"")+" "+i[4]),h(e,"style",i[0]),Je(e,"relative",i[2]),Je(e,"absolute",i[3]),Je(e,"clear",i[6])},m(k,$){w(k,e,$),E(e,t),f&&f.m(t,null),E(e,n),E(e,r),m&&m.m(r,null),E(e,l),E(e,o),g&&g.m(o,null),u=!0},p(k,[$]){f&&f.p&&(!u||$&256)&&Ve(f,c,k,k[8],u?We(c,k[8],$,I0e):Ge(k[8]),v3),m&&m.p&&(!u||$&256)&&Ve(m,d,k,k[8],u?We(d,k[8],$,null):Ge(k[8]),null),(!u||$&32&&s!==(s="nui-panel--main "+k[5]))&&h(r,"class",s),g&&g.p&&(!u||$&256)&&Ve(g,p,k,k[8],u?We(p,k[8],$,O0e):Ge(k[8]),g3),(!u||$&128)&&h(e,"id",k[7]),(!u||$&18&&a!==(a="nui nui-panel "+(k[1]?"nui-rounded":"")+" "+k[4]))&&h(e,"class",a),(!u||$&1)&&h(e,"style",k[0]),(!u||$&22)&&Je(e,"relative",k[2]),(!u||$&26)&&Je(e,"absolute",k[3]),(!u||$&82)&&Je(e,"clear",k[6])},i(k){u||(_(f,k),_(m,k),_(g,k),u=!0)},o(k){v(f,k),v(m,k),v(g,k),u=!1},d(k){k&&y(e),f&&f.d(k),m&&m.d(k),g&&g.d(k)}}}function z0e(i,e,t){let{$$slots:n={},$$scope:r}=e,{style:s=""}=e,{rounded:l=!1}=e,{relative:o=!0}=e,{absolute:a=!1}=e,{className:u=""}=e,{mainClass:c=""}=e,{clear:f=!1}=e,{id:d=void 0}=e;return i.$$set=m=>{"style"in m&&t(0,s=m.style),"rounded"in m&&t(1,l=m.rounded),"relative"in m&&t(2,o=m.relative),"absolute"in m&&t(3,a=m.absolute),"className"in m&&t(4,u=m.className),"mainClass"in m&&t(5,c=m.mainClass),"clear"in m&&t(6,f=m.clear),"id"in m&&t(7,d=m.id),"$$scope"in m&&t(8,r=m.$$scope)},[s,l,o,a,u,c,f,d,r,n]}class Gp extends ce{constructor(e){super(),ue(this,e,z0e,B0e,le,{style:0,rounded:1,relative:2,absolute:3,className:4,mainClass:5,clear:6,id:7})}}function R0e(i){let e,t;return e=new eb({props:{emojis:i[4][i[6]]}}),e.$on("emojihover",i[9]),e.$on("emojiclick",i[10]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&80&&(s.emojis=n[4][n[6]]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function j0e(i){let e,t;return e=new eb({props:{emojis:i[3]}}),e.$on("emojihover",i[9]),e.$on("emojiclick",i[10]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&8&&(s.emojis=n[3]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Y0e(i){let e,t;return e=new P0e({props:{searchText:i[2]}}),e.$on("emojihover",i[9]),e.$on("emojiclick",i[10]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&4&&(s.searchText=n[2]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function U0e(i){let e,t,n,r;const s=[Y0e,j0e,R0e],l=[];function o(a,u){return a[2]?0:a[6]?2:1}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=$e()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?l[e].p(a,u):(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function b3(i){let e,t;return e=new L0e({props:{variants:i[1]}}),e.$on("emojiclick",i[11]),e.$on("close",i[12]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.variants=n[1]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function q0e(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p;function g(D){i[15](D)}let k={};i[2]!==void 0&&(k.searchText=i[2]),n=new D0e({props:k}),De.push(()=>Ue(n,"searchText",g,i[2])),l=new ms({props:{scrollable:!0,className:"text-xl overscroll-y-auto my-2",buttons:[{label:"\u23F0",active:i[5]==0,click:i[16]},...i[7].map(i[17])]}}),a=new Gp({props:{className:"w-full h-full ",$$slots:{default:[U0e]},$$scope:{ctx:i}}});let $=i[0]&&b3(i);return{c(){e=Y(),t=A("div"),O(n.$$.fragment),s=Y(),O(l.$$.fragment),o=Y(),O(a.$$.fragment),u=Y(),c=A("section"),f=Y(),$&&$.c(),h(c,"aria-label","search Emojis"),h(t,"class","flex px-2 lg:px-4 flex-col overflow-hidden h-full")},m(D,F){w(D,e,F),w(D,t,F),N(n,t,null),E(t,s),N(l,t,null),E(t,o),N(a,t,null),E(t,u),E(t,c),E(t,f),$&&$.m(t,null),d=!0,m||(p=[ke(document.body,"keydown",k3),ke(t,"keydown",k3)],m=!0)},p(D,[F]){const C={};!r&&F&4&&(r=!0,C.searchText=D[2],qe(()=>r=!1)),n.$set(C);const S={};F&96&&(S.buttons=[{label:"\u23F0",active:D[5]==0,click:D[16]},...D[7].map(D[17])]),l.$set(S);const P={};F&2097244&&(P.$$scope={dirty:F,ctx:D}),a.$set(P),D[0]?$?($.p(D,F),F&1&&_($,1)):($=b3(D),$.c(),_($,1),$.m(t,null)):$&&(ie(),v($,1,1,()=>{$=null}),re())},i(D){d||(_(n.$$.fragment,D),_(l.$$.fragment,D),_(a.$$.fragment,D),_($),d=!0)},o(D){v(n.$$.fragment,D),v(l.$$.fragment,D),v(a.$$.fragment,D),v($),d=!1},d(D){D&&y(e),D&&y(t),M(n),M(l),M(a),$&&$.d(),m=!1,pt(p)}}}function k3(i){i.key}function H0e(i,e,t){let{maxRecents:n=50}=e,{autoClose:r=!0}=e,s=!1,l,o,a=JSON.parse(localStorage.getItem("recent-emojis"))||[];const u=Dt(),c={};BO.forEach(I=>{let R=c[I.c];R||(R=t(4,c[I.c]=[],c)),R.push(I)});const f=["People","Nature","Eat","Activities","Places","Objects","Symbols","Flags"],d={People:"\u{1F600}",Nature:"\u{1F439}",Eat:"\u{1F35F}",Activities:"\u26BD\uFE0F",Places:"\u{1F3D8}",Objects:"\u{1F4A1}",Symbols:"\u{1F3B5}",Flags:"\u{1F3F4}\u200D\u2620\uFE0F"};function m(I){I.detail}function p(I){I.detail.v.length?(t(1,l=[I.detail.e,...I.detail.v]),t(0,s=!0)):(u("emoji",I.detail.e),k(I.detail))}function g(I){u("emoji",I.detail),k({e:I.detail}),$()}function k(I){t(3,a=[I,...a.filter(R=>R.e!==I.e)].slice(0,n)),localStorage.setItem("recent-emojis",JSON.stringify(a))}function $(){setTimeout(()=>{t(0,s=!1)})}let D=1,F="People";function C(I){o=I,t(2,o)}const S=function(){t(5,D=0),t(6,F=void 0)},P=(I,R)=>({active:D==R+1,label:d[I],click(){t(5,D=R+1),t(6,F=I)}});return i.$$set=I=>{"maxRecents"in I&&t(13,n=I.maxRecents),"autoClose"in I&&t(14,r=I.autoClose)},[s,l,o,a,c,D,F,f,d,m,p,g,$,n,r,C,S,P]}class W0e extends ce{constructor(e){super(),ue(this,e,H0e,q0e,le,{maxRecents:13,autoClose:14})}}function V0e(i){let e,t,n,r,s,l,o;return{c(){e=me("svg"),t=me("title"),n=Z("Camera"),r=me("circle"),s=me("path"),h(r,"cx","256"),h(r,"cy","272"),h(r,"r","64"),h(s,"d","M432 144h-59c-3 0-6.72-1.94-9.62-5l-25.94-40.94a15.52 15.52 0 00-1.37-1.85C327.11 85.76 315 80 302 80h-92c-13 0-25.11 5.76-34.07 16.21a15.52 15.52 0 00-1.37 1.85l-25.94 41c-2.22 2.42-5.34 5-8.62 5v-8a16 16 0 00-16-16h-24a16 16 0 00-16 16v8h-4a48.05 48.05 0 00-48 48V384a48.05 48.05 0 0048 48h352a48.05 48.05 0 0048-48V192a48.05 48.05 0 00-48-48zM256 368a96 96 0 1196-96 96.11 96.11 0 01-96 96z"),h(e,"height",l=i[0]+"px"),h(e,"width",o=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(a,u){w(a,e,u),E(e,t),E(t,n),E(e,r),E(e,s)},p(a,[u]){u&1&&l!==(l=a[0]+"px")&&h(e,"height",l),u&1&&o!==(o=a[0]+"px")&&h(e,"width",o)},i:W,o:W,d(a){a&&y(e)}}}function G0e(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class Z0e extends ce{constructor(e){super(),ue(this,e,G0e,V0e,le,{size:0})}}function y3(i){let e,t,n,r,s,l,o,a,u;return e=new Me({props:{className:i[0],clear:!0,primary:!0,$$slots:{default:[x0e]},$$scope:{ctx:i}}}),e.$on("click",i[6]),{c(){O(e.$$.fragment),t=Y(),n=A("div"),r=A("input"),s=Y(),l=A("canvas"),h(r,"class","w-0 h-0 overflow-hidden"),h(r,"type","file"),h(r,"id","input"),h(l,"class","opacity-0 pointer-events-none"),h(l,"id",i[5]),h(l,"width","64"),h(l,"height","64"),h(n,"class","w-0 h-0 stiff opacity-0 pointer-events-none")},m(c,f){N(e,c,f),w(c,t,f),w(c,n,f),E(n,r),i[10](r),E(n,s),E(n,l),i[11](l),o=!0,a||(u=ke(r,"input",i[7]),a=!0)},p(c,f){const d={};f&1&&(d.className=c[0]),f&16386&&(d.$$scope={dirty:f,ctx:c}),e.$set(d)},i(c){o||(_(e.$$.fragment,c),o=!0)},o(c){v(e.$$.fragment,c),o=!1},d(c){M(e,c),c&&y(t),c&&y(n),i[10](null),i[11](null),a=!1,u()}}}function x0e(i){let e,t,n,r;return e=new je({props:{className:"mr-2",icon:Z0e}}),{c(){O(e.$$.fragment),t=Y(),n=Z(i[1])},m(s,l){N(e,s,l),w(s,t,l),w(s,n,l),r=!0},p(s,l){(!r||l&2)&&oe(n,s[1])},i(s){r||(_(e.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),r=!1},d(s){M(e,s),s&&y(t),s&&y(n)}}}function X0e(i){let e,t,n=i[4]&&y3(i);return{c(){n&&n.c(),e=$e()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,[s]){r[4]?n?(n.p(r,s),s&16&&_(n,1)):(n=y3(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ie(),v(n,1,1,()=>{n=null}),re())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function K0e(i,e,t){const n=`image-${pn()}`,r=Dt();let s,l,{className:o=""}=e,{label:a="Select"}=e,{maxW:u=64}=e,{maxH:c=64}=e,f;const d=()=>{l.click()};function m($){let D=s.getContext("2d");var F=new Image;F.onload=function(){const C=F.width,S=F.height,P=Math.min(u/C,c/S),I=C*P,R=S*P;t(2,s.width=I,s),t(2,s.height=R,s),D.drawImage(F,0,0,I,R),f=s.toDataURL("image/jpeg",.12),r("image",f)},F.src=URL.createObjectURL($.target.files[0])}let p=!1;wt(()=>{t(4,p=!0)}),Dr(()=>{t(4,p=!1)});function g($){De[$?"unshift":"push"](()=>{l=$,t(3,l)})}function k($){De[$?"unshift":"push"](()=>{s=$,t(2,s)})}return i.$$set=$=>{"className"in $&&t(0,o=$.className),"label"in $&&t(1,a=$.label),"maxW"in $&&t(8,u=$.maxW),"maxH"in $&&t(9,c=$.maxH)},[o,a,s,l,p,n,d,m,u,c,g,k]}class J0e extends ce{constructor(e){super(),ue(this,e,K0e,X0e,le,{className:0,label:1,maxW:8,maxH:9})}}function Q0e(i){let e,t,n,r,s,l,o,a,u;t=new J0e({props:{label:"Select Image...",className:"w-full"}}),t.$on("image",i[21]);function c(d){i[22](d)}let f={listItem:!0,type:"url",placeholder:"URL to image"};return i[3]!==void 0&&(f.value=i[3]),o=new fn({props:f}),De.push(()=>Ue(o,"value",c,i[3])),{c(){e=A("div"),O(t.$$.fragment),n=Y(),r=A("div"),r.textContent="Or provide a url to the image",s=Y(),l=A("div"),O(o.$$.fragment),h(r,"class","text-center pt-4 text-xs text-gray-500"),h(l,"class","bg-white dark:bg-black rounded-md"),h(e,"class","p-5 flex flex-col space-y-2")},m(d,m){w(d,e,m),N(t,e,null),E(e,n),E(e,r),E(e,s),E(e,l),N(o,l,null),u=!0},p(d,m){const p={};!a&&m&8&&(a=!0,p.value=d[3],qe(()=>a=!1)),o.$set(p)},i(d){u||(_(t.$$.fragment,d),_(o.$$.fragment,d),u=!0)},o(d){v(t.$$.fragment,d),v(o.$$.fragment,d),u=!1},d(d){d&&y(e),M(t),M(o)}}}function eve(i){let e,t;return e=new b0e({props:{grid:!0,value:i[1]}}),e.$on("color",i[20]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.value=n[1]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function tve(i){let e,t;return e=new W0e({}),e.$on("emoji",i[19]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function nve(i){let e,t,n,r;const s=[tve,eve,Q0e],l=[];function o(a,u){return a[0]==="emoji"?0:a[0]==="color"?1:a[0]==="image"?2:-1}return~(e=o(i))&&(t=l[e]=s[e](i)),{c(){t&&t.c(),n=$e()},m(a,u){~e&&l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?~e&&l[e].p(a,u):(t&&(ie(),v(l[c],1,1,()=>{l[c]=null}),re()),~e?(t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n)):t=null)},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){~e&&l[e].d(a),a&&y(n)}}}function ive(i){let e,t;return e=new je({props:{icon:yP}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function rve(i){let e,t,n,r;return e=new Me({props:{clear:!0,primary:!0,icon:!0,$$slots:{default:[ive]},$$scope:{ctx:i}}}),e.$on("click",i[13]),n=new ms({props:{id:"visualizer-btn-group",buttons:[{label:"Emoji",active:i[0]==="emoji",click:i[14]},{label:"Color",active:i[0]==="color",click:i[15]},{label:"Image",active:i[0]==="image",click:i[16]}]}}),{c(){O(e.$$.fragment),t=Y(),O(n.$$.fragment)},m(s,l){N(e,s,l),w(s,t,l),N(n,s,l),r=!0},p(s,l){const o={};l&8388608&&(o.$$scope={dirty:l,ctx:s}),e.$set(o);const a={};l&1&&(a.buttons=[{label:"Emoji",active:s[0]==="emoji",click:s[14]},{label:"Color",active:s[0]==="color",click:s[15]},{label:"Image",active:s[0]==="image",click:s[16]}]),n.$set(a)},i(s){r||(_(e.$$.fragment,s),_(n.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(n.$$.fragment,s),r=!1},d(s){M(e,s),s&&y(t),M(n,s)}}}function sve(i){let e;return{c(){e=A("div"),h(e,"slot","right")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function w3(i){let e,t;return e=new Si({props:{emoji:i[2],src:i[3],className:"bg-white p-5 rounded-xl shadow-lg",size:80}}),e.$on("click",i[17]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&4&&(s.emoji=n[2]),r&8&&(s.src=n[3]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function $3(i){let e,t,n;return{c(){e=A("button"),e.textContent="Remove Image",h(e,"class","text-xs absolute top-2 right-3 py-1 px-3 rounded-full bg-black text-white")},m(r,s){w(r,e,s),t||(n=ke(e,"click",i[18]),t=!0)},p:W,d(r){r&&y(e),t=!1,n()}}}function lve(i){let e,t,n,r,s,l,o;t=new Sr({props:{$$slots:{right:[sve],default:[rve]},$$scope:{ctx:i}}});let a=i[4]&&w3(i),u=i[3]&&$3(i);return{c(){e=A("header"),O(t.$$.fragment),n=Y(),r=A("section"),s=A("div"),a&&a.c(),l=Y(),u&&u.c(),h(s,"class","p-4 text-center rounded-lg relative"),nt(s,"background-color",i[1]),h(r,"aria-label","Preview"),h(r,"class","px-4 py-2"),h(e,"slot","header"),h(e,"class","bg-gray-200 dark:bg-black")},m(c,f){w(c,e,f),N(t,e,null),E(e,n),E(e,r),E(r,s),a&&a.m(s,null),E(s,l),u&&u.m(s,null),o=!0},p(c,f){const d={};f&8388609&&(d.$$scope={dirty:f,ctx:c}),t.$set(d),c[4]?a?(a.p(c,f),f&16&&_(a,1)):(a=w3(c),a.c(),_(a,1),a.m(s,l)):a&&(ie(),v(a,1,1,()=>{a=null}),re()),c[3]?u?u.p(c,f):(u=$3(c),u.c(),u.m(s,null)):u&&(u.d(1),u=null),(!o||f&2)&&nt(s,"background-color",c[1])},i(c){o||(_(t.$$.fragment,c),_(a),o=!0)},o(c){v(t.$$.fragment,c),v(a),o=!1},d(c){c&&y(e),M(t),a&&a.d(),u&&u.d()}}}function ove(i){let e,t;return e=new _n({props:{className:"",mainClass:"bg-white dark:bg-gray-900",$$slots:{header:[lve],default:[nve]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&8388639&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function ave(i,e,t){let{id:n}=e,{trackable:r}=e,{onComplete:s}=e,l="emoji",o,a,u,c=!0;const f=async()=>{t(4,c=!1),await Et(2),t(4,c=!0)},d=()=>{const z=prompt("Want multiple emojis? Do it here:",r.emoji);z&&t(9,r.emoji=z,r)},m=()=>{t(9,r.avatar=void 0,r),t(3,u=void 0)};let p="";const g=()=>{s({emoji:a,avatar:u,color:o}),Ot(n)},k=()=>{g()},$=function(){t(0,l="emoji")},D=function(){t(0,l="color")},F=function(){t(0,l="image")},C=()=>{d()},S=()=>{m(),f()},P=z=>{t(2,a=z.detail)},I=z=>{t(1,o=z.detail)},R=z=>{t(3,u=z.detail),setTimeout(()=>{t(3,u=z.detail)},10),f()};function B(z){u=z,t(3,u),t(9,r),t(12,p)}return i.$$set=z=>{"id"in z&&t(10,n=z.id),"trackable"in z&&t(9,r=z.trackable),"onComplete"in z&&t(11,s=z.onComplete)},i.$$.update=()=>{if(i.$$.dirty&4608&&r&&Fn(r)!==p){t(12,p=Fn(r));const z=Uae(r);t(1,o=z.color),t(2,a=z.emoji),t(3,u=z.avatar)}},[l,o,a,u,c,f,d,m,g,r,n,s,p,k,$,D,F,C,S,P,I,R,B]}class uve extends ce{constructor(e){super(),ue(this,e,ave,ove,le,{id:10,trackable:9,onComplete:11})}}const cve=async i=>new Promise(e=>{en({id:`trackable-visual-${encodeURIComponent(i.tag)}`,component:uve,componentProps:{trackable:i,onComplete(t){e(t)},onCancel(){e(void 0)}}})});function F3(i,e,t){const n=i.slice();return n[12]=e[t],n[14]=t,n}function E3(i){let e,t,n=[],r=new Map,s,l,o,a,u,c=i[3].results||[];const f=d=>d[14];for(let d=0;d<c.length;d+=1){let m=F3(i,c,d),p=f(m);r.set(p,n[d]=D3(p,m))}return{c(){e=A("div"),t=A("div");for(let d=0;d<n.length;d+=1)n[d].c();s=Y(),l=A("div"),h(l,"class","filler"),h(t,"class","p-0 tracker-list"),h(e,"style",i[2]),h(e,"class",o=(i[0]?"scroller":"no-scroller")+" autocomplete-results animate "+i[1])},m(d,m){w(d,e,m),E(e,t);for(let p=0;p<n.length;p+=1)n[p].m(t,null);E(t,s),E(t,l),u=!0},p(d,m){m&24&&(c=d[3].results||[],ie(),n=qn(n,m,f,1,d,c,r,t,Ci,D3,s,F3),re()),(!u||m&4)&&h(e,"style",d[2]),(!u||m&3&&o!==(o=(d[0]?"scroller":"no-scroller")+" autocomplete-results animate "+d[1]))&&h(e,"class",o)},i(d){if(!u){for(let m=0;m<c.length;m+=1)_(n[m]);Rn(()=>{a||(a=lr(e,cs,{duration:100},!0)),a.run(1)}),u=!0}},o(d){for(let m=0;m<n.length;m+=1)v(n[m]);a||(a=lr(e,cs,{duration:100},!1)),a.run(0),u=!1},d(d){d&&y(e);for(let m=0;m<n.length;m+=1)n[m].d();d&&a&&a.end()}}}function D3(i,e){let t,n,r,s,l=e[12].label+"",o,a,u,c;n=new fi({props:{trackable:e[12],size:16}});function f(){return e[7](e[12])}return{key:i,first:null,c(){t=A("button"),O(n.$$.fragment),r=Y(),s=A("div"),o=Z(l),nt(s,"max-width","120px"),h(s,"class","ml-1 truncate"),this.first=t},m(d,m){w(d,t,m),N(n,t,null),E(t,r),E(t,s),E(s,o),a=!0,u||(c=ke(t,"click",f),u=!0)},p(d,m){e=d;const p={};m&8&&(p.trackable=e[12]),n.$set(p),(!a||m&8)&&l!==(l=e[12].label+"")&&oe(o,l)},i(d){a||(_(n.$$.fragment,d),a=!0)},o(d){v(n.$$.fragment,d),a=!1},d(d){d&&y(t),M(n),u=!1,c()}}}function fve(i){let e,t,n=i[3].results&&i[3].results.length&&E3(i);return{c(){n&&n.c(),e=$e()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,[s]){r[3].results&&r[3].results.length?n?(n.p(r,s),s&8&&_(n,1)):(n=E3(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ie(),v(n,1,1,()=>{n=null}),re())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function dve(i,e,t){let n;Ee(i,It,g=>t(8,n=g));const r=Dt();let{input:s=null}=e,{scroller:l=!1}=e,{className:o=""}=e,{style:a=""}=e,u={partialTag:null,results:[],tag:null,cursorIndex:0};const c=(g,k="tracker")=>{t(3,u.tag=g,u);try{return eu(n.trackables).filter($=>{const D=Kf(g);return $.tag.search(Aae(D))>-1})}catch($){return console.error($),[]}},f=async g=>{let k="";if(g.type=="tracker"){const C=await xo({trackables:n.trackables,tracker:g.tracker,expandNote:!0});AMe(),k=C.raw}else g.type=="person"?k=g.tag:g.type=="context"&&(k=g.tagWithValue());const $=s.split(" ");let F=`${$.filter((C,S)=>S<$.length-1).join(" ")} ${k} `;r("select",{trackable:g,note:F}),await Fr(120),t(3,u.partialTag=null,u),t(3,u.tag=null,u),t(3,u.results=null,u)},d=g=>{if(g){let k=g;if((k==null?void 0:k.charAt(k.length-1))==" ")t(3,u.results=null,u);else if(k.length){let D=k.split(" "),F=D[D.length-1];t(3,u.cursorIndex=D.length-1,u),F.charAt(0)==="#"&&F.length>1?(t(3,u.partialTag=F,u),t(3,u.results=c(F,"tracker"),u)):F.charAt(0)==="@"&&F.length>1?(t(3,u.partialTag=F.replace(/\@/gi,""),u),t(3,u.results=c(u.partialTag,"person"),u)):F.charAt(0)==="+"&&F.length>1?(t(3,u.partialTag=F,u),t(3,u.results=c(F,"context"),u)):(t(3,u.partialTag=null,u),t(3,u.results=null,u))}else t(3,u.partialTag=null,u),t(3,u.results=null,u)}};let m;const p=g=>{f(g)};return i.$$set=g=>{"input"in g&&t(5,s=g.input),"scroller"in g&&t(0,l=g.scroller),"className"in g&&t(1,o=g.className),"style"in g&&t(2,a=g.style)},i.$$.update=()=>{i.$$.dirty&96&&m!==s&&(t(6,m=s),d(s)),i.$$.dirty&32&&(s||t(3,u.results=void 0,u))},[l,o,a,u,f,s,m,p]}class hve extends ce{constructor(e){super(),ue(this,e,dve,fve,le,{input:5,scroller:0,className:1,style:2})}}function C3(i){let e,t;return e=new xe({props:{title:_e.t("picker.title","List one item per line"),className:i[2],bg:"transparent",$$slots:{default:[pve]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&4&&(s.className=n[2]),r&2048&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function mve(i){let e;return{c(){e=Z("Include #trackers @people +context. Add a : to make a Title:")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function pve(i){let e,t;return e=new Di({props:{size:"sm",faded:!0,$$slots:{default:[mve]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&2048&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function S3(i){let e,t,n,r,s={solo:!0,listItem:!0,placeholder:`Friends:
@toby
@patrick
@maddy
Feeling:
#mood
+joyful
+anxious`,type:"textarea",value:i[4].join(`
`),className:"font-mono font-medium",inputStyle:"height:45vh; line-height:28px"};return e=new fn({props:s}),i[9](e),e.$on("input",i[7]),{c(){O(e.$$.fragment),t=Y(),n=A("div"),h(n,"class","filler")},m(l,o){N(e,l,o),w(l,t,o),w(l,n,o),r=!0},p(l,o){const a={};o&16&&(a.value=l[4].join(`
`)),e.$set(a)},i(l){r||(_(e.$$.fragment,l),r=!0)},o(l){v(e.$$.fragment,l),r=!1},d(l){i[9](null),M(e,l),l&&y(t),l&&y(n)}}}function _ve(i){let e,t,n,r,s=i[3]&&C3(i),l=i[5]&&S3(i);return{c(){e=A("div"),s&&s.c(),t=Y(),l&&l.c(),h(e,"class",n="n-picker-list edit-mode "+i[1]),h(e,"style",i[0])},m(o,a){w(o,e,a),s&&s.m(e,null),E(e,t),l&&l.m(e,null),r=!0},p(o,[a]){o[3]?s?(s.p(o,a),a&8&&_(s,1)):(s=C3(o),s.c(),_(s,1),s.m(e,t)):s&&(ie(),v(s,1,1,()=>{s=null}),re()),o[5]?l?(l.p(o,a),a&32&&_(l,1)):(l=S3(o),l.c(),_(l,1),l.m(e,null)):l&&(ie(),v(l,1,1,()=>{l=null}),re()),(!r||a&2&&n!==(n="n-picker-list edit-mode "+o[1]))&&h(e,"class",n),(!r||a&1)&&h(e,"style",o[0])},i(o){r||(_(s),_(l),r=!0)},o(o){v(s),v(l),r=!1},d(o){o&&y(e),s&&s.d(),l&&l.d()}}}function gve(i,e,t){const n=Dt();let{style:r=""}=e,{className:s=""}=e,{itemClass:l=""}=e,{list:o=[]}=e,{showHeaderContent:a=!0}=e,u=!1,c,f=[];function d(p){t(4,f=c.getValue().split(`
`)),n("change",f)}wt(()=>{t(5,u=!0)});function m(p){De[p?"unshift":"push"](()=>{c=p,t(6,c)})}return i.$$set=p=>{"style"in p&&t(0,r=p.style),"className"in p&&t(1,s=p.className),"itemClass"in p&&t(2,l=p.itemClass),"list"in p&&t(8,o=p.list),"showHeaderContent"in p&&t(3,a=p.showHeaderContent)},i.$$.update=()=>{i.$$.dirty&272&&o&&o.length&&f.length==0&&t(4,f=o||[])},[r,s,l,a,f,u,c,d,o,m]}class zO extends ce{constructor(e){super(),ue(this,e,gve,_ve,le,{style:0,className:1,itemClass:2,list:8,showHeaderContent:3})}}const L1=[{id:"mind",label:"Mind",emoji:"\u{1F9E0}",color:"#087E8B"},{id:"body",label:"Body",emoji:"\u{1FAC0}",color:"#EB5E55"},{id:"spirit",label:"Spirit",emoji:"\u{1F47B}",color:"#FFB400"}],vve=()=>L1,RO=(i,e)=>{const t={};vve().forEach(r=>{t[r.id]={score:0,focus:r}});const n=Ms(i,{trackables:e});return Object.keys(n).forEach(r=>{const s=n[r],l=ht.sum(s.positivity),o=s.trackable.tracker;o&&(o.focus||[]).forEach(u=>{t[u].score=t[u].score+l})}),Object.keys(t).map(r=>t[r])};class bve{constructor(e){Ne(this,"if");Ne(this,"is");Ne(this,"v");Ne(this,"sc");e=e||{},this.if=e.if||"value",this.is=e.is||"gt",this.v=e.v||1,this.sc=e.sc||void 0}get score(){return this.sc}set score(e){this.sc=e}}const jO=i=>{if(!i)return"";let e=parseInt(i),t=e%10,n=e%100;return t==1&&n!=11?e+"st":t==2&&n!=12?e+"nd":t==3&&n!=13?e+"rd":e+"th"};/**
* Muuri v0.9.5
* https://muuri.dev/
* Copyright (c) 2015-present, Haltu Oy
* Released under the MIT license
* https://github.com/haltu/muuri/blob/master/LICENSE.md
* @license MIT
*
* Muuri Packer
* Copyright (c) 2016-present, Niklas Rm <inramo@gmail.com>
* @license MIT
*
* Muuri Ticker / Muuri Emitter / Muuri Dragger
* Copyright (c) 2018-present, Niklas Rm <inramo@gmail.com>
* @license MIT
*
* Muuri AutoScroller
* Copyright (c) 2019-present, Niklas Rm <inramo@gmail.com>
* @license MIT
*/var Zp={},Pa=typeof Map=="function"?new Map:null,Qs="swap",Ua="move",kve="synchronize",Po="layoutStart",T3="layoutEnd",A3="layoutAbort",P3="add",N3="remove",yve="showStart",wve="showEnd",td="hideStart",$ve="hideEnd",M3="filter",L3="sort",Cm="move",Sm="send",No="beforeSend",Tm="receive",Am="beforeReceive",Fve="dragInit",Eve="dragStart",Dve="dragMove",Cve="dragScroll",Sve="dragEnd",Tve="dragReleaseStart",nd="dragReleaseEnd",Ave="destroy",YO="ontouchstart"in window,tb=!!window.PointerEvent,nb=!!window.navigator.msPointerEnabled,Pve=16777216;function ps(){this._events={},this._queue=[],this._counter=0,this._clearOnEmit=!1}ps.prototype.on=function(i,e){if(!this._events||!i||!e)return this;var t=this._events[i];return t||(t=this._events[i]=[]),t.push(e),this};ps.prototype.off=function(i,e){if(!this._events||!i||!e)return this;var t=this._events[i];if(!t||!t.length)return this;for(var n;(n=t.indexOf(e))!==-1;)t.splice(n,1);return this};ps.prototype.clear=function(i){if(!this._events||!i)return this;var e=this._events[i];return e&&(e.length=0,delete this._events[i]),this};ps.prototype.emit=function(i){if(!this._events||!i)return this._clearOnEmit=!1,this;var e=this._events[i];if(!e||!e.length)return this._clearOnEmit=!1,this;var t=this._queue,n=t.length,r=arguments.length-1,s;r>3&&(s=[],s.push.apply(s,arguments),s.shift()),t.push.apply(t,e),this._clearOnEmit&&(e.length=0,this._clearOnEmit=!1),++this._counter;for(var l=n,o=t.length;l<o;l++)if(r===0?t[l]():r===1?t[l](arguments[1]):r===2?t[l](arguments[1],arguments[2]):r===3?t[l](arguments[1],arguments[2],arguments[3]):t[l].apply(null,s),!this._events)return this;return--this._counter,this._counter||(t.length=0),this};ps.prototype.burst=function(){return this._events?(this._clearOnEmit=!0,this.emit.apply(this,arguments),this):this};ps.prototype.countListeners=function(i){if(!this._events)return 0;var e=this._events[i];return e?e.length:0};ps.prototype.destroy=function(){return this._events?(this._queue.length=this._counter=0,this._events=null,this):this};var xp=tb?"pointerout":nb?"MSPointerOut":"",Nve=100;function Ho(i){!xp||(this._dragger=i,this._timeout=null,this._outEvent=null,this._isActive=!1,this._addBehaviour=this._addBehaviour.bind(this),this._removeBehaviour=this._removeBehaviour.bind(this),this._onTimeout=this._onTimeout.bind(this),this._resetData=this._resetData.bind(this),this._onStart=this._onStart.bind(this),this._onOut=this._onOut.bind(this),this._dragger.on("start",this._onStart))}Ho.prototype._addBehaviour=function(){this._isActive||(this._isActive=!0,this._dragger.on("move",this._resetData),this._dragger.on("cancel",this._removeBehaviour),this._dragger.on("end",this._removeBehaviour),window.addEventListener(xp,this._onOut))};Ho.prototype._removeBehaviour=function(){!this._isActive||(this._dragger.off("move",this._resetData),this._dragger.off("cancel",this._removeBehaviour),this._dragger.off("end",this._removeBehaviour),window.removeEventListener(xp,this._onOut),this._resetData(),this._isActive=!1)};Ho.prototype._resetData=function(){window.clearTimeout(this._timeout),this._timeout=null,this._outEvent=null};Ho.prototype._onStart=function(i){i.pointerType!=="mouse"&&this._addBehaviour()};Ho.prototype._onOut=function(i){!this._dragger._getTrackedTouch(i)||(this._resetData(),this._outEvent=i,this._timeout=window.setTimeout(this._onTimeout,Nve))};Ho.prototype._onTimeout=function(){var i=this._outEvent;this._resetData(),this._dragger.isActive()&&this._dragger._onCancel(i)};Ho.prototype.destroy=function(){!xp||(this._dragger.off("start",this._onStart),this._removeBehaviour())};var pg=["","webkit","moz","ms","o","Webkit","Moz","MS","O"],O3={};function Xp(i,e){var t=O3[e]||"";if(t)return t;for(var n=e[0].toUpperCase()+e.slice(1),r=0;r<pg.length;){if(t=pg[r]?pg[r]+n:e,t in i)return O3[e]=t,t;++r}return""}function UO(){var i=!1;try{var e=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}catch{}return i}var Kp=window.navigator.userAgent.toLowerCase(),Mve=Kp.indexOf("edge")>-1,Lve=Kp.indexOf("trident")>-1,Ove=Kp.indexOf("firefox")>-1,Ive=Kp.indexOf("android")>-1,ko=UO()?{passive:!0}:!1,qO="touchAction",Sh=Xp(document.documentElement.style,qO),Bve="auto";function at(i,e){this._element=i,this._emitter=new ps,this._isDestroyed=!1,this._cssProps={},this._touchAction="",this._isActive=!1,this._pointerId=null,this._startTime=0,this._startX=0,this._startY=0,this._currentX=0,this._currentY=0,this._onStart=this._onStart.bind(this),this._onMove=this._onMove.bind(this),this._onCancel=this._onCancel.bind(this),this._onEnd=this._onEnd.bind(this),this._edgeHack=null,(Mve||Lve)&&(tb||nb)&&(this._edgeHack=new Ho(this)),this.setCssProps(e),this._touchAction||this.setTouchAction(Bve),i.addEventListener("dragstart",at._preventDefault,!1),i.addEventListener(at._inputEvents.start,this._onStart,ko)}at._pointerEvents={start:"pointerdown",move:"pointermove",cancel:"pointercancel",end:"pointerup"};at._msPointerEvents={start:"MSPointerDown",move:"MSPointerMove",cancel:"MSPointerCancel",end:"MSPointerUp"};at._touchEvents={start:"touchstart",move:"touchmove",cancel:"touchcancel",end:"touchend"};at._mouseEvents={start:"mousedown",move:"mousemove",cancel:"",end:"mouseup"};at._inputEvents=function(){return YO?at._touchEvents:tb?at._pointerEvents:nb?at._msPointerEvents:at._mouseEvents}();at._emitter=new ps;at._emitterEvents={start:"start",move:"move",end:"end",cancel:"cancel"};at._activeInstances=[];at._preventDefault=function(i){i.preventDefault&&i.cancelable!==!1&&i.preventDefault()};at._activateInstance=function(i){var e=at._activeInstances.indexOf(i);e>-1||(at._activeInstances.push(i),at._emitter.on(at._emitterEvents.move,i._onMove),at._emitter.on(at._emitterEvents.cancel,i._onCancel),at._emitter.on(at._emitterEvents.end,i._onEnd),at._activeInstances.length===1&&at._bindListeners())};at._deactivateInstance=function(i){var e=at._activeInstances.indexOf(i);e!==-1&&(at._activeInstances.splice(e,1),at._emitter.off(at._emitterEvents.move,i._onMove),at._emitter.off(at._emitterEvents.cancel,i._onCancel),at._emitter.off(at._emitterEvents.end,i._onEnd),at._activeInstances.length||at._unbindListeners())};at._bindListeners=function(){window.addEventListener(at._inputEvents.move,at._onMove,ko),window.addEventListener(at._inputEvents.end,at._onEnd,ko),at._inputEvents.cancel&&window.addEventListener(at._inputEvents.cancel,at._onCancel,ko)};at._unbindListeners=function(){window.removeEventListener(at._inputEvents.move,at._onMove,ko),window.removeEventListener(at._inputEvents.end,at._onEnd,ko),at._inputEvents.cancel&&window.removeEventListener(at._inputEvents.cancel,at._onCancel,ko)};at._getEventPointerId=function(i){return typeof i.pointerId=="number"?i.pointerId:i.changedTouches?i.changedTouches[0]?i.changedTouches[0].identifier:null:1};at._getTouchById=function(i,e){if(typeof i.pointerId=="number")return i.pointerId===e?i:null;if(i.changedTouches){for(var t=0;t<i.changedTouches.length;t++)if(i.changedTouches[t].identifier===e)return i.changedTouches[t];return null}return i};at._onMove=function(i){at._emitter.emit(at._emitterEvents.move,i)};at._onCancel=function(i){at._emitter.emit(at._emitterEvents.cancel,i)};at._onEnd=function(i){at._emitter.emit(at._emitterEvents.end,i)};at.prototype._reset=function(){this._pointerId=null,this._startTime=0,this._startX=0,this._startY=0,this._currentX=0,this._currentY=0,this._isActive=!1,at._deactivateInstance(this)};at.prototype._createEvent=function(i,e){var t=this._getTrackedTouch(e);return{type:i,srcEvent:e,distance:this.getDistance(),deltaX:this.getDeltaX(),deltaY:this.getDeltaY(),deltaTime:i===at._emitterEvents.start?0:this.getDeltaTime(),isFirst:i===at._emitterEvents.start,isFinal:i===at._emitterEvents.end||i===at._emitterEvents.cancel,pointerType:e.pointerType||(e.touches?"touch":"mouse"),identifier:this._pointerId,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY,target:t.target}};at.prototype._emit=function(i,e){this._emitter.emit(i,this._createEvent(i,e))};at.prototype._getTrackedTouch=function(i){return this._pointerId===null?null:at._getTouchById(i,this._pointerId)};at.prototype._onStart=function(i){if(!this._isDestroyed&&this._pointerId===null&&(this._pointerId=at._getEventPointerId(i),this._pointerId!==null)){var e=this._getTrackedTouch(i);this._startX=this._currentX=e.clientX,this._startY=this._currentY=e.clientY,this._startTime=Date.now(),this._isActive=!0,this._emit(at._emitterEvents.start,i),this._isActive&&at._activateInstance(this)}};at.prototype._onMove=function(i){var e=this._getTrackedTouch(i);!e||(this._currentX=e.clientX,this._currentY=e.clientY,this._emit(at._emitterEvents.move,i))};at.prototype._onCancel=function(i){!this._getTrackedTouch(i)||(this._emit(at._emitterEvents.cancel,i),this._reset())};at.prototype._onEnd=function(i){!this._getTrackedTouch(i)||(this._emit(at._emitterEvents.end,i),this._reset())};at.prototype.isActive=function(){return this._isActive};at.prototype.setTouchAction=function(i){this._touchAction=i,Sh&&(this._cssProps[Sh]="",this._element.style[Sh]=i),YO&&(this._element.removeEventListener(at._touchEvents.start,at._preventDefault,!0),(this._element.style[Sh]!==i||Ove&&Ive)&&this._element.addEventListener(at._touchEvents.start,at._preventDefault,!0))};at.prototype.setCssProps=function(i){if(!!i){var e=this._cssProps,t=this._element,n,r;for(n in e)t.style[n]=e[n],delete e[n];for(n in i)if(!!i[n]){if(n===qO){this.setTouchAction(i[n]);continue}r=Xp(t.style,n),r&&(e[r]="",t.style[r]=i[n])}}};at.prototype.getDeltaX=function(){return this._currentX-this._startX};at.prototype.getDeltaY=function(){return this._currentY-this._startY};at.prototype.getDistance=function(){var i=this.getDeltaX(),e=this.getDeltaY();return Math.sqrt(i*i+e*e)};at.prototype.getDeltaTime=function(){return this._startTime?Date.now()-this._startTime:0};at.prototype.on=function(i,e){this._emitter.on(i,e)};at.prototype.off=function(i,e){this._emitter.off(i,e)};at.prototype.destroy=function(){if(!this._isDestroyed){var i=this._element;this._edgeHack&&this._edgeHack.destroy(),this._reset(),this._emitter.destroy(),i.removeEventListener(at._inputEvents.start,this._onStart,ko),i.removeEventListener("dragstart",at._preventDefault,!1),i.removeEventListener(at._touchEvents.start,at._preventDefault,!0);for(var e in this._cssProps)i.style[e]=this._cssProps[e],delete this._cssProps[e];this._element=null,this._isDestroyed=!0}};var zve=1e3/60,Rve=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(i){return this.setTimeout(function(){i(Date.now())},zve)}).bind(window);function Jp(i){this._nextStep=null,this._lanes=[],this._stepQueue=[],this._stepCallbacks={},this._step=this._step.bind(this);for(var e=0;e<i;e++)this._lanes.push(new ib)}Jp.prototype._step=function(i){var e=this._lanes,t=this._stepQueue,n=this._stepCallbacks,r,s,l,o,a,u;for(this._nextStep=null,r=0;r<e.length;r++){for(o=e[r].queue,a=e[r].callbacks,u=e[r].indices,s=0;s<o.length;s++)l=o[s],l&&(t.push(l),n[l]=a[l],delete a[l],delete u[l]);o.length=0}for(r=0;r<t.length;r++)l=t[r],n[l]&&n[l](i),delete n[l];t.length=0};Jp.prototype.add=function(i,e,t){this._lanes[i].add(e,t),this._nextStep||(this._nextStep=Rve(this._step))};Jp.prototype.remove=function(i,e){this._lanes[i].remove(e)};function ib(){this.queue=[],this.indices={},this.callbacks={}}ib.prototype.add=function(i,e){var t=this.indices[i];t!==void 0&&(this.queue[t]=void 0),this.queue.push(i),this.callbacks[i]=e,this.indices[i]=this.queue.length-1};ib.prototype.remove=function(i){var e=this.indices[i];e!==void 0&&(this.queue[e]=void 0,delete this.callbacks[i],delete this.indices[i])};var HO="layoutRead",WO="layoutWrite",VO="visibilityRead",GO="visibilityWrite",ZO="dragStartRead",xO="dragStartWrite",XO="dragMoveRead",KO="dragMoveWrite",JO="dragScrollRead",QO="dragScrollWrite",eI="dragSortRead",tI="placeholderLayoutRead",nI="placeholderLayoutWrite",iI="placeholderResizeWrite",rI="autoScrollRead",sI="autoScrollWrite",lI="debounceRead",fr=0,oI=1,dr=2,Dn=new Jp(3);function jve(i,e,t){Dn.add(fr,HO+i,e),Dn.add(dr,WO+i,t)}function aI(i){Dn.remove(fr,HO+i),Dn.remove(dr,WO+i)}function Yve(i,e,t){Dn.add(fr,VO+i,e),Dn.add(dr,GO+i,t)}function uI(i){Dn.remove(fr,VO+i),Dn.remove(dr,GO+i)}function Uve(i,e,t){Dn.add(fr,ZO+i,e),Dn.add(dr,xO+i,t)}function cI(i){Dn.remove(fr,ZO+i),Dn.remove(dr,xO+i)}function qve(i,e,t){Dn.add(fr,XO+i,e),Dn.add(dr,KO+i,t)}function fI(i){Dn.remove(fr,XO+i),Dn.remove(dr,KO+i)}function Hve(i,e,t){Dn.add(fr,JO+i,e),Dn.add(dr,QO+i,t)}function dI(i){Dn.remove(fr,JO+i),Dn.remove(dr,QO+i)}function Qp(i,e){Dn.add(oI,eI+i,e)}function Wve(i){Dn.remove(oI,eI+i)}function Vve(i,e,t){Dn.add(fr,tI+i,e),Dn.add(dr,nI+i,t)}function hI(i){Dn.remove(fr,tI+i),Dn.remove(dr,nI+i)}function Gve(i,e){Dn.add(dr,iI+i,e)}function Zve(i){Dn.remove(dr,iI+i)}function mI(i,e){Dn.add(fr,rI,i),Dn.add(dr,sI,e)}function xve(){Dn.remove(fr,rI),Dn.remove(dr,sI)}function Xve(i,e){Dn.add(fr,lI+i,e)}function Kve(i){Dn.remove(fr,lI+i)}var bi=1,Yi=2,zc=4,rb=8,id=bi|rb,rd=bi|zc,sd=Yi|rb,Pm=Yi|zc,Jve="function";function ln(i){return typeof i===Jve}var Th=typeof WeakMap=="function"?new WeakMap:null;function Lr(i,e){var t=Th&&Th.get(i);return t||(t=window.getComputedStyle(i,null),Th&&Th.set(i,t)),t.getPropertyValue(e)}function us(i,e){return parseFloat(Lr(i,e))||0}var qa=document.documentElement,Qve=document.body,Ah={value:0,offset:0};function pI(i){return i===window||i===qa||i===Qve?window:i}function ld(i){return i===window?i.pageXOffset:i.scrollLeft}function od(i){return i===window?i.pageYOffset:i.scrollTop}function _I(i){return i===window?qa.scrollWidth-qa.clientWidth:i.scrollWidth-i.clientWidth}function gI(i){return i===window?qa.scrollHeight-qa.clientHeight:i.scrollHeight-i.clientHeight}function vI(i,e){if(e=e||{},i===window)e.width=qa.clientWidth,e.height=qa.clientHeight,e.left=0,e.right=e.width,e.top=0,e.bottom=e.height;else{var t=i.getBoundingClientRect(),n=i.clientLeft||us(i,"border-left-width"),r=i.clientTop||us(i,"border-top-width");e.width=i.clientWidth,e.height=i.clientHeight,e.left=t.left+n,e.right=e.left+e.width,e.top=t.top+r,e.bottom=e.top+e.height}return e}function Ud(i){return i._drag._getGrid()._settings.dragAutoScroll}function ebe(i){!i._drag||i._drag._prepareScroll()}function tbe(i){if(!(!i._drag||!i._isActive)){var e=i._drag;e._scrollDiffX=e._scrollDiffY=0,i._setTranslate(e._left,e._top)}}function O1(i,e,t,n){return Ah.value=Math.min(n/2,i),Ah.offset=Math.max(0,t+Ah.value*2+n*e-n)/2,Ah}function xl(){this.reset()}xl.prototype.reset=function(){this.isActive&&this.onStop(),this.item=null,this.element=null,this.isActive=!1,this.isEnding=!1,this.direction=null,this.value=null,this.maxValue=0,this.threshold=0,this.distance=0,this.speed=0,this.duration=0,this.action=null};xl.prototype.hasReachedEnd=function(){return zc&this.direction?this.value>=this.maxValue:this.value<=0};xl.prototype.computeCurrentScrollValue=function(){return this.value===null?bi&this.direction?ld(this.element):od(this.element):Math.max(0,Math.min(this.value,this.maxValue))};xl.prototype.computeNextScrollValue=function(i){var e=this.speed*(i/1e3),t=zc&this.direction?this.value+e:this.value-e;return Math.max(0,Math.min(t,this.maxValue))};xl.prototype.computeSpeed=function(){var i={direction:null,threshold:0,distance:0,value:0,maxValue:0,deltaTime:0,duration:0,isEnding:!1};return function(e){var t=this.item,n=Ud(t).speed;return ln(n)?(i.direction=this.direction,i.threshold=this.threshold,i.distance=this.distance,i.value=this.value,i.maxValue=this.maxValue,i.duration=this.duration,i.speed=this.speed,i.deltaTime=e,i.isEnding=this.isEnding,n(t,this.element,i)):n}}();xl.prototype.tick=function(i){return this.isActive||(this.isActive=!0,this.onStart()),this.value=this.computeCurrentScrollValue(),this.speed=this.computeSpeed(i),this.value=this.computeNextScrollValue(i),this.duration+=i,this.value};xl.prototype.onStart=function(){var i=this.item,e=Ud(i).onStart;ln(e)&&e(i,this.element,this.direction)};xl.prototype.onStop=function(){var i=this.item,e=Ud(i).onStop;ln(e)&&e(i,this.element,this.direction),i._drag&&i._drag.sort()};function Rc(){this.element=null,this.requestX=null,this.requestY=null,this.scrollLeft=0,this.scrollTop=0}Rc.prototype.reset=function(){this.requestX&&(this.requestX.action=null),this.requestY&&(this.requestY.action=null),this.element=null,this.requestX=null,this.requestY=null,this.scrollLeft=0,this.scrollTop=0};Rc.prototype.addRequest=function(i){bi&i.direction?(this.removeRequest(this.requestX),this.requestX=i):(this.removeRequest(this.requestY),this.requestY=i),i.action=this};Rc.prototype.removeRequest=function(i){!i||(this.requestX===i?(this.requestX=null,i.action=null):this.requestY===i&&(this.requestY=null,i.action=null))};Rc.prototype.computeScrollValues=function(){this.scrollLeft=this.requestX?this.requestX.value:ld(this.element),this.scrollTop=this.requestY?this.requestY.value:od(this.element)};Rc.prototype.scroll=function(){var i=this.element;!i||(i.scrollTo?i.scrollTo(this.scrollLeft,this.scrollTop):(i.scrollLeft=this.scrollLeft,i.scrollTop=this.scrollTop))};function ad(i,e){this.pool=[],this.createItem=i,this.releaseItem=e}ad.prototype.pick=function(){return this.pool.pop()||this.createItem()};ad.prototype.release=function(i){this.releaseItem(i),this.pool.indexOf(i)===-1&&this.pool.push(i)};ad.prototype.reset=function(){this.pool.length=0};function nbe(i,e){return!(i.left+i.width<=e.left||e.left+e.width<=i.left||i.top+i.height<=e.top||e.top+e.height<=i.top)}function ibe(i,e){if(!nbe(i,e))return 0;var t=Math.min(i.left+i.width,e.left+e.width)-Math.max(i.left,e.left),n=Math.min(i.top+i.height,e.top+e.height)-Math.max(i.top,e.top);return t*n}function Nm(i,e){var t=ibe(i,e);if(!t)return 0;var n=Math.min(i.width,e.width)*Math.min(i.height,e.height);return t/n*100}var bI={width:0,height:0,left:0,right:0,top:0,bottom:0},kI={width:0,height:0,left:0,right:0,top:0,bottom:0};function Cn(){this._isDestroyed=!1,this._isTicking=!1,this._tickTime=0,this._tickDeltaTime=0,this._items=[],this._actions=[],this._requests={},this._requests[bi]={},this._requests[Yi]={},this._requestOverlapCheck={},this._dragPositions={},this._dragDirections={},this._overlapCheckInterval=150,this._requestPool=new ad(function(){return new xl},function(i){i.reset()}),this._actionPool=new ad(function(){return new Rc},function(i){i.reset()}),this._readTick=this._readTick.bind(this),this._writeTick=this._writeTick.bind(this)}Cn.AXIS_X=bi;Cn.AXIS_Y=Yi;Cn.FORWARD=zc;Cn.BACKWARD=rb;Cn.LEFT=id;Cn.RIGHT=rd;Cn.UP=sd;Cn.DOWN=Pm;Cn.smoothSpeed=function(i,e,t){return function(n,r,s){var l=0;if(!s.isEnding)if(s.threshold>0){var o=s.threshold-Math.max(0,s.distance);l=i/s.threshold*o}else l=i;var a=s.speed,u=l;return a===l?u:a<l?(u=a+e*(s.deltaTime/1e3),Math.min(l,u)):(u=a-t*(s.deltaTime/1e3),Math.max(l,u))}};Cn.pointerHandle=function(i){var e={left:0,top:0,width:0,height:0},t=i||1;return function(n,r,s,l,o,a,u){return e.left=a-t*.5,e.top=u-t*.5,e.width=t,e.height=t,e}};Cn.prototype._readTick=function(i){this._isDestroyed||(i&&this._tickTime?(this._tickDeltaTime=i-this._tickTime,this._tickTime=i,this._updateRequests(),this._updateActions()):(this._tickTime=i,this._tickDeltaTime=0))};Cn.prototype._writeTick=function(){this._isDestroyed||(this._applyActions(),mI(this._readTick,this._writeTick))};Cn.prototype._startTicking=function(){this._isTicking=!0,mI(this._readTick,this._writeTick)};Cn.prototype._stopTicking=function(){this._isTicking=!1,this._tickTime=0,this._tickDeltaTime=0,xve()};Cn.prototype._getItemHandleRect=function(i,e,t){var n=i._drag;if(e){var r=n._dragMoveEvent||n._dragStartEvent,s=e(i,n._clientX,n._clientY,i._width,i._height,r.clientX,r.clientY);t.left=s.left,t.top=s.top,t.width=s.width,t.height=s.height}else t.left=n._clientX,t.top=n._clientY,t.width=i._width,t.height=i._height;return t.right=t.left+t.width,t.bottom=t.top+t.height,t};Cn.prototype._requestItemScroll=function(i,e,t,n,r,s,l){var o=this._requests[e],a=o[i._id];a?(a.element!==t||a.direction!==n)&&a.reset():a=this._requestPool.pick(),a.item=i,a.element=t,a.direction=n,a.threshold=r,a.distance=s,a.maxValue=l,o[i._id]=a};Cn.prototype._cancelItemScroll=function(i,e){var t=this._requests[e],n=t[i._id];!n||(n.action&&n.action.removeRequest(n),this._requestPool.release(n),delete t[i._id])};Cn.prototype._checkItemOverlap=function(i,e,t){var n=Ud(i),r=ln(n.targets)?n.targets(i):n.targets,s=n.threshold,l=n.safeZone;if(!r||!r.length){e&&this._cancelItemScroll(i,bi),t&&this._cancelItemScroll(i,Yi);return}var o=this._dragDirections[i._id],a=o[0],u=o[1];if(!a&&!u){e&&this._cancelItemScroll(i,bi),t&&this._cancelItemScroll(i,Yi);return}for(var c=this._getItemHandleRect(i,n.handle,bI),f=kI,d=null,m=null,p=!0,g=!0,k=0,$=0,D=null,F=null,C=0,S=0,P=0,I=null,R=-1/0,B=0,z=0,q=null,H=0,K=0,G=null,U=-1/0,Q=0,V=0,x=null,ee=0,J=0,se=0;se<r.length;se++)d=r[se],p=e&&a&&d.axis!==Yi,g=t&&u&&d.axis!==bi,$=d.priority||0,!((!p||$<R)&&(!g||$<U))&&(m=pI(d.element||d),S=p?_I(m):-1,P=g?gI(m):-1,!(!S&&!P)&&(f=vI(m,f),k=Nm(c,f),!(k<=0)&&(p&&$>=R&&S>0&&($>R||k>z)&&(F=null,D=O1(typeof d.threshold=="number"?d.threshold:s,l,c.width,f.width),a===rd?(C=f.right+D.offset-c.right,C<=D.value&&ld(m)<S&&(F=rd)):a===id&&(C=c.left-(f.left-D.offset),C<=D.value&&ld(m)>0&&(F=id)),F!==null&&(I=m,R=$,B=D.value,z=k,q=F,H=C,K=S)),g&&$>=U&&P>0&&($>U||k>V)&&(F=null,D=O1(typeof d.threshold=="number"?d.threshold:s,l,c.height,f.height),u===Pm?(C=f.bottom+D.offset-c.bottom,C<=D.value&&od(m)<P&&(F=Pm)):u===sd&&(C=c.top-(f.top-D.offset),C<=D.value&&od(m)>0&&(F=sd)),F!==null&&(G=m,U=$,Q=D.value,V=k,x=F,ee=C,J=P)))));e&&(I?this._requestItemScroll(i,bi,I,q,B,H,K):this._cancelItemScroll(i,bi)),t&&(G?this._requestItemScroll(i,Yi,G,x,Q,ee,J):this._cancelItemScroll(i,Yi))};Cn.prototype._updateScrollRequest=function(i){for(var e=i.item,t=Ud(e),n=ln(t.targets)?t.targets(e):t.targets,r=n&&n.length||0,s=t.threshold,l=t.safeZone,o=this._getItemHandleRect(e,t.handle,bI),a=kI,u=null,c=null,f=!1,d=null,m=null,p=null,g=null,k=null,$=null,D=0;D<r;D++)if(u=n[D],c=pI(u.element||u),c===i.element){if(f=!!(bi&i.direction),f){if(u.axis===Yi)continue}else if(u.axis===bi)continue;if(k=f?_I(c):gI(c),k<=0||(a=vI(c,a),d=Nm(o,a),d<=0)||(m=O1(typeof u.threshold=="number"?u.threshold:s,l,f?o.width:o.height,f?a.width:a.height),i.direction===id?p=o.left-(a.left-m.offset):i.direction===rd?p=a.right+m.offset-o.right:i.direction===sd?p=o.top-(a.top-m.offset):p=a.bottom+m.offset-o.bottom,p>m.value)||(g=f?ld(c):od(c),$=zc&i.direction?g>=k:g<=0,$))break;return i.maxValue=k,i.threshold=m.value,i.distance=p,i.isEnding=!1,!0}return t.smoothStop===!0&&i.speed>0?($===null&&($=i.hasReachedEnd()),i.isEnding=!$):i.isEnding=!1,i.isEnding};Cn.prototype._updateRequests=function(){for(var i=this._items,e=this._requests[bi],t=this._requests[Yi],n,r,s,l,o,a,u,c=0;c<i.length;c++)n=i[c],l=this._requestOverlapCheck[n._id],o=l>0&&this._tickTime-l>this._overlapCheckInterval,a=!0,r=e[n._id],r&&r.isActive&&(a=!this._updateScrollRequest(r),a&&(o=!0,this._cancelItemScroll(n,bi))),u=!0,s=t[n._id],s&&s.isActive&&(u=!this._updateScrollRequest(s),u&&(o=!0,this._cancelItemScroll(n,Yi))),o&&(this._requestOverlapCheck[n._id]=0,this._checkItemOverlap(n,a,u))};Cn.prototype._requestAction=function(i,e){for(var t=this._actions,n=e===bi,r=null,s=0;s<t.length;s++){if(r=t[s],i.element!==r.element){r=null;continue}if(n?r.requestX:r.requestY){this._cancelItemScroll(i.item,e);return}break}r||(r=this._actionPool.pick()),r.element=i.element,r.addRequest(i),i.tick(this._tickDeltaTime),t.push(r)};Cn.prototype._updateActions=function(){var i=this._items,e=this._requests,t=this._actions,n,r,s,l;for(l=0;l<i.length;l++)n=i[l]._id,r=e[bi][n],s=e[Yi][n],r&&this._requestAction(r,bi),s&&this._requestAction(s,Yi);for(l=0;l<t.length;l++)t[l].computeScrollValues()};Cn.prototype._applyActions=function(){var i=this._actions,e=this._items,t;if(!!i.length){for(t=0;t<i.length;t++)i[t].scroll(),this._actionPool.release(i[t]);for(i.length=0,t=0;t<e.length;t++)ebe(e[t]);for(t=0;t<e.length;t++)tbe(e[t])}};Cn.prototype._updateDragDirection=function(i){var e=this._dragPositions[i._id],t=this._dragDirections[i._id],n=i._drag._left,r=i._drag._top;if(e.length){var s=e[0],l=e[1];t[0]=n>s?rd:n<s?id:t[0]||0,t[1]=r>l?Pm:r<l?sd:t[1]||0}e[0]=n,e[1]=r};Cn.prototype.addItem=function(i){if(!this._isDestroyed){var e=this._items.indexOf(i);e===-1&&(this._items.push(i),this._requestOverlapCheck[i._id]=this._tickTime,this._dragDirections[i._id]=[0,0],this._dragPositions[i._id]=[],this._isTicking||this._startTicking())}};Cn.prototype.updateItem=function(i){this._isDestroyed||!this._dragDirections[i._id]||(this._updateDragDirection(i),this._requestOverlapCheck[i._id]||(this._requestOverlapCheck[i._id]=this._tickTime))};Cn.prototype.removeItem=function(i){if(!this._isDestroyed){var e=this._items.indexOf(i);if(e!==-1){var t=i._id,n=this._requests[bi][t];n&&(this._cancelItemScroll(i,bi),delete this._requests[bi][t]);var r=this._requests[Yi][t];r&&(this._cancelItemScroll(i,Yi),delete this._requests[Yi][t]),delete this._requestOverlapCheck[t],delete this._dragPositions[t],delete this._dragDirections[t],this._items.splice(e,1),this._isTicking&&!this._items.length&&this._stopTicking()}}};Cn.prototype.isItemScrollingX=function(i){var e=this._requests[bi][i._id];return!!(e&&e.isActive)};Cn.prototype.isItemScrollingY=function(i){var e=this._requests[Yi][i._id];return!!(e&&e.isActive)};Cn.prototype.isItemScrolling=function(i){return this.isItemScrollingX(i)||this.isItemScrollingY(i)};Cn.prototype.destroy=function(){if(!this._isDestroyed){for(var i=this._items.slice(0),e=0;e<i.length;e++)this.removeItem(i[e]);this._actions.length=0,this._requestPool.reset(),this._actionPool.reset(),this._isDestroyed=!0}};var Fu=window.Element.prototype,rbe=Fu.matches||Fu.matchesSelector||Fu.webkitMatchesSelector||Fu.mozMatchesSelector||Fu.msMatchesSelector||Fu.oMatchesSelector||function(){return!1};function e_(i,e){return rbe.call(i,e)}function Xr(i,e){!e||(i.classList?i.classList.add(e):e_(i,"."+e)||(i.className+=" "+e))}var I3=[],sbe="number";function sb(i,e,t){var n=typeof t===sbe?t:-1;n<0&&(n=i.length-n+1),i.splice.apply(i,I3.concat(n,0,e)),I3.length=0}function cc(i,e,t){var n=Math.max(0,i.length-1+(t||0));return e>n?n:e<0?Math.max(n+e+1,0):e}function yI(i,e,t){if(!(i.length<2)){var n=cc(i,e),r=cc(i,t);n!==r&&i.splice(r,0,i.splice(n,1)[0])}}function wI(i,e,t){if(!(i.length<2)){var n=cc(i,e),r=cc(i,t),s;n!==r&&(s=i[n],i[n]=i[r],i[r]=s)}}var rl=Xp(document.documentElement.style,"transform")||"transform",lbe=/([A-Z])/g,obe=/^(webkit-|moz-|ms-|o-)/,abe=/^(-m-s-)/;function I1(i){var e=i.replace(lbe,"-$1").toLowerCase();return e=e.replace(obe,"-$1"),e=e.replace(abe,"-ms-"),e}var $I=I1(rl),ube="none",cbe="inline",fbe="none",dbe="display";function hbe(i){var e=Lr(i,$I);if(!e||e===ube)return!1;var t=Lr(i,dbe);return!(t===cbe||t===fbe)}function B1(i){for(var e=document,t=i||e;t&&t!==e&&Lr(t,"position")==="static"&&!hbe(t);)t=t.parentElement||e;return t}var _g={},gg={},ha={};function B3(i,e){var t=e||{},n;return t.left=0,t.top=0,i===document||(t.left=window.pageXOffset||0,t.top=window.pageYOffset||0,i.self===window.self)||(n=i.getBoundingClientRect(),t.left+=n.left,t.top+=n.top,t.left+=us(i,"border-left-width"),t.top+=us(i,"border-top-width")),t}function fc(i,e,t){return ha.left=0,ha.top=0,i===e||t&&(i=B1(i),e=B1(e),i===e)||(B3(i,_g),B3(e,gg),ha.left=gg.left-_g.left,ha.top=gg.top-_g.top),ha}function vg(i){return i==="auto"||i==="scroll"||i==="overlay"}function mbe(i){return vg(Lr(i,"overflow"))||vg(Lr(i,"overflow-x"))||vg(Lr(i,"overflow-y"))}function z3(i,e){for(e=e||[];i&&i!==document;){if(i.getRootNode&&i instanceof DocumentFragment){i=i.getRootNode().host;continue}mbe(i)&&e.push(i),i=i.parentNode}return e.push(window),e}var Eu={},pbe="none",_be=/^matrix3d/,gbe=/([^,]*,){4}/,vbe=/([^,]*,){12}/,bbe=/[^,]*,/;function Yl(i){Eu.x=0,Eu.y=0;var e=Lr(i,$I);if(!e||e===pbe)return Eu;var t=_be.test(e),n=e.replace(t?vbe:gbe,""),r=n.replace(bbe,"");return Eu.x=parseFloat(n)||0,Eu.y=parseFloat(r)||0,Eu}function ur(i,e){!e||(i.classList?i.classList.remove(e):e_(i,"."+e)&&(i.className=(" "+i.className+" ").replace(" "+e+" "," ").trim()))}var kbe=/^(iPad|iPhone|iPod)/.test(window.navigator.platform)||/^Mac/.test(window.navigator.platform)&&window.navigator.maxTouchPoints>1,Mm=0,z1=1,Lm=2,FI=UO()?{passive:!0}:!1;function xt(i){var e=i._element,t=i.getGrid(),n=t._settings;this._item=i,this._gridId=t._id,this._isDestroyed=!1,this._isMigrating=!1,this._startPredicate=ln(n.dragStartPredicate)?n.dragStartPredicate:xt.defaultStartPredicate,this._startPredicateState=Mm,this._startPredicateResult=void 0,this._isSortNeeded=!1,this._sortTimer=void 0,this._blockedSortIndex=null,this._sortX1=0,this._sortX2=0,this._sortY1=0,this._sortY2=0,this._reset(),this._preStartCheck=this._preStartCheck.bind(this),this._preEndCheck=this._preEndCheck.bind(this),this._onScroll=this._onScroll.bind(this),this._prepareStart=this._prepareStart.bind(this),this._applyStart=this._applyStart.bind(this),this._prepareMove=this._prepareMove.bind(this),this._applyMove=this._applyMove.bind(this),this._prepareScroll=this._prepareScroll.bind(this),this._applyScroll=this._applyScroll.bind(this),this._handleSort=this._handleSort.bind(this),this._handleSortDelayed=this._handleSortDelayed.bind(this),this._handle=n.dragHandle&&e.querySelector(n.dragHandle)||e,this._dragger=new at(this._handle,n.dragCssProps),this._dragger.on("start",this._preStartCheck),this._dragger.on("move",this._preStartCheck),this._dragger.on("cancel",this._preEndCheck),this._dragger.on("end",this._preEndCheck)}xt.autoScroller=new Cn;xt.defaultStartPredicate=function(i,e,t){var n=i._drag;if(e.isFirst&&e.srcEvent.button||!kbe&&e.isFirst&&e.srcEvent.isTrusted===!0&&e.srcEvent.defaultPrevented===!1&&e.srcEvent.cancelable===!1)return!1;if(e.isFinal){n._finishStartPredicate(e);return}var r=n._startPredicateData;if(!r){var s=t||n._getGrid()._settings.dragStartPredicate||{};n._startPredicateData=r={distance:Math.max(s.distance,0)||0,delay:Math.max(s.delay,0)||0}}return r.delay&&(r.event=e,r.delayTimer||(r.delayTimer=window.setTimeout(function(){r.delay=0,n._resolveStartPredicate(r.event)&&(n._forceResolveStartPredicate(r.event),n._resetStartPredicate())},r.delay))),n._resolveStartPredicate(e)};xt.defaultSortPredicate=function(){var i={},e={},t={},n=[],r=1,s=100;function l(o,a,u){var c=null,f=a._settings.dragSort,d=-1,m,p,g,k,$,D,F,C,S,P;if(f===!0?(n[0]=a,p=n):ln(f)&&(p=f.call(a,o)),!p||!Array.isArray(p)||!p.length)return c;for(P=0;P<p.length;P++)if(g=p[P],!g._isDestroyed){for(g._updateBoundingRect(),D=Math.max(0,g._left),F=Math.max(0,g._top),C=Math.min(window.innerWidth,g._right),S=Math.min(window.innerHeight,g._bottom),k=g._element.parentNode;k&&k!==document&&k!==document.documentElement&&k!==document.body;){if(k.getRootNode&&k instanceof DocumentFragment){k=k.getRootNode().host;continue}if(Lr(k,"overflow")!=="visible"&&($=k.getBoundingClientRect(),D=Math.max(D,$.left),F=Math.max(F,$.top),C=Math.min(C,$.right),S=Math.min(S,$.bottom)),Lr(k,"position")==="fixed")break;k=k.parentNode}D>=C||F>=S||(e.left=D,e.top=F,e.width=C-D,e.height=S-F,m=Nm(i,e),m>u&&m>d&&(d=m,c=g))}return n.length=0,c}return function(o,a){var u=o._drag,c=u._getGrid(),f=a&&typeof a.threshold=="number"?a.threshold:50,d=a&&a.action===Qs?Qs:Ua,m=a&&a.migrateAction===Qs?Qs:Ua;f=Math.min(Math.max(f,r),s),i.width=o._width,i.height=o._height,i.left=u._clientX,i.top=u._clientY;var p=l(o,c,f);if(!p)return null;var g=o.getGrid()!==p,k=0,$=0,D=0,F=-1,C=!1,S,P,I;for(p===c?(i.left=u._gridX+o._marginLeft,i.top=u._gridY+o._marginTop):(p._updateBorders(1,0,1,0),k=p._left+p._borderLeft,$=p._top+p._borderTop),I=0;I<p._items.length;I++)S=p._items[I],!(!S._isActive||S===o)&&(C=!0,e.width=S._width,e.height=S._height,e.left=S._left+S._marginLeft+k,e.top=S._top+S._marginTop+$,P=Nm(i,e),P>D&&(F=I,D=P));return g&&D<f&&(F=C?F:0,D=f),D>=f?(t.grid=p,t.index=F,t.action=g?m:d,t):null}}();xt.prototype.stop=function(){if(!!this._isActive){if(this._isMigrating){this._finishMigration();return}var i=this._item,e=i._id;if(xt.autoScroller.removeItem(i),cI(e),fI(e),dI(e),this._cancelSort(),this._isStarted){this._unbindScrollListeners();var t=i._element,n=this._getGrid(),r=n._settings.itemDraggingClass;t.parentNode!==n._element&&(n._element.appendChild(t),i._setTranslate(this._gridX,this._gridY),r&&t.clientWidth),ur(t,r)}this._reset()}};xt.prototype.sort=function(i){var e=this._item;this._isActive&&e._isActive&&this._dragMoveEvent&&(i===!0?this._handleSort():Qp(e._id,this._handleSort))};xt.prototype.destroy=function(){this._isDestroyed||(this.stop(),this._dragger.destroy(),xt.autoScroller.removeItem(this._item),this._isDestroyed=!0)};xt.prototype._getGrid=function(){return Zp[this._gridId]||null};xt.prototype._reset=function(){this._isActive=!1,this._isStarted=!1,this._container=null,this._containingBlock=null,this._dragStartEvent=null,this._dragMoveEvent=null,this._dragPrevMoveEvent=null,this._scrollEvent=null,this._scrollers=[],this._left=0,this._top=0,this._gridX=0,this._gridY=0,this._clientX=0,this._clientY=0,this._scrollDiffX=0,this._scrollDiffY=0,this._moveDiffX=0,this._moveDiffY=0,this._containerDiffX=0,this._containerDiffY=0};xt.prototype._bindScrollListeners=function(){var i=this._getGrid()._element,e=this._container,t=this._scrollers,n,r;if(t.length=0,z3(this._item._element.parentNode,t),e!==i)for(n=[],z3(i,n),r=0;r<n.length;r++)t.indexOf(n[r])<0&&t.push(n[r]);for(r=0;r<t.length;r++)t[r].addEventListener("scroll",this._onScroll,FI)};xt.prototype._unbindScrollListeners=function(){var i=this._scrollers,e;for(e=0;e<i.length;e++)i[e].removeEventListener("scroll",this._onScroll,FI);i.length=0};xt.prototype._resolveStartPredicate=function(i){var e=this._startPredicateData;if(!(i.distance<e.distance||e.delay))return this._resetStartPredicate(),!0};xt.prototype._forceResolveStartPredicate=function(i){!this._isDestroyed&&this._startPredicateState===z1&&(this._startPredicateState=Lm,this._onStart(i))};xt.prototype._finishStartPredicate=function(i){var e=this._item._element,t=Math.abs(i.deltaX)<2&&Math.abs(i.deltaY)<2&&i.deltaTime<200;this._resetStartPredicate(),t&&ybe(e)};xt.prototype._resetHeuristics=function(i,e){this._blockedSortIndex=null,this._sortX1=this._sortX2=i,this._sortY1=this._sortY2=e};xt.prototype._checkHeuristics=function(i,e){var t=this._getGrid()._settings.dragSortHeuristics,n=t.minDragDistance;if(n<=0)return this._blockedSortIndex=null,!0;var r=i-this._sortX2,s=e-this._sortY2,l=n>3&&t.minBounceBackAngle>0;if(l||(this._blockedSortIndex=null),Math.abs(r)>n||Math.abs(s)>n){if(l){var o=Math.atan2(r,s),a=Math.atan2(this._sortX2-this._sortX1,this._sortY2-this._sortY1),u=Math.atan2(Math.sin(o-a),Math.cos(o-a));Math.abs(u)>t.minBounceBackAngle&&(this._blockedSortIndex=null)}return this._sortX1=this._sortX2,this._sortY1=this._sortY2,this._sortX2=i,this._sortY2=e,!0}return!1};xt.prototype._resetStartPredicate=function(){var i=this._startPredicateData;i&&(i.delayTimer&&(i.delayTimer=window.clearTimeout(i.delayTimer)),this._startPredicateData=null)};xt.prototype._handleSort=function(){if(!!this._isActive){var i=this._getGrid()._settings;if(!i.dragSort||!i.dragAutoScroll.sortDuringScroll&&xt.autoScroller.isItemScrolling(this._item)){this._sortX1=this._sortX2=this._gridX,this._sortY1=this._sortY2=this._gridY,this._isSortNeeded=!0,this._sortTimer!==void 0&&(this._sortTimer=window.clearTimeout(this._sortTimer));return}var e=this._checkHeuristics(this._gridX,this._gridY);if(!(!this._isSortNeeded&&!e)){var t=i.dragSortHeuristics.sortInterval;t<=0||this._isSortNeeded?(this._isSortNeeded=!1,this._sortTimer!==void 0&&(this._sortTimer=window.clearTimeout(this._sortTimer)),this._checkOverlap()):this._sortTimer===void 0&&(this._sortTimer=window.setTimeout(this._handleSortDelayed,t))}}};xt.prototype._handleSortDelayed=function(){this._isSortNeeded=!0,this._sortTimer=void 0,Qp(this._item._id,this._handleSort)};xt.prototype._cancelSort=function(){this._isSortNeeded=!1,this._sortTimer!==void 0&&(this._sortTimer=window.clearTimeout(this._sortTimer)),Wve(this._item._id)};xt.prototype._finishSort=function(){var i=this._getGrid()._settings.dragSort,e=i&&(this._isSortNeeded||this._sortTimer!==void 0);this._cancelSort(),e&&this._checkOverlap()};xt.prototype._checkOverlap=function(){if(!!this._isActive){var i=this._item,e=this._getGrid()._settings,t,n,r,s,l,o,a,u;ln(e.dragSortPredicate)?t=e.dragSortPredicate(i,this._dragMoveEvent):t=xt.defaultSortPredicate(i,e.dragSortPredicate),!(!t||typeof t.index!="number")&&(a=t.action===Qs?Qs:Ua,n=i.getGrid(),s=t.grid||n,u=n!==s,r=n._items.indexOf(i),l=cc(s._items,t.index,u&&a===Ua?1:0),!(!u&&l===this._blockedSortIndex)&&(u?(this._blockedSortIndex=null,o=s._items[l],n._hasListeners(No)&&n._emit(No,{item:i,fromGrid:n,fromIndex:r,toGrid:s,toIndex:l}),s._hasListeners(Am)&&s._emit(Am,{item:i,fromGrid:n,fromIndex:r,toGrid:s,toIndex:l}),i._gridId=s._id,this._isMigrating=i._gridId!==this._gridId,n._items.splice(r,1),sb(s._items,i,l),i._sortData=null,n._hasListeners(Sm)&&n._emit(Sm,{item:i,fromGrid:n,fromIndex:r,toGrid:s,toIndex:l}),s._hasListeners(Tm)&&s._emit(Tm,{item:i,fromGrid:n,fromIndex:r,toGrid:s,toIndex:l}),a===Qs&&o&&o.isActive()&&s._items.indexOf(o)>-1&&s.send(o,n,r,{appendTo:this._container||document.body,layoutSender:!1,layoutReceiver:!1}),n.layout(),s.layout()):r!==l&&(this._blockedSortIndex=r,(a===Qs?wI:yI)(n._items,r,l),n._hasListeners(Cm)&&n._emit(Cm,{item:i,fromIndex:r,toIndex:l,action:a}),n.layout())))}};xt.prototype._finishMigration=function(){var i=this._item,e=i._dragRelease,t=i._element,n=i._isActive,r=i.getGrid(),s=r._element,l=r._settings,o=l.dragContainer||s,a=this._getGrid()._settings,u=t.parentNode,c=n?a.itemVisibleClass:a.itemHiddenClass,f=n?l.itemVisibleClass:l.itemHiddenClass,d,m;this._isMigrating=!1,this.destroy(),a.itemClass!==l.itemClass&&(ur(t,a.itemClass),Xr(t,l.itemClass)),c!==f&&(ur(t,c),Xr(t,f)),o!==u&&(o.appendChild(t),m=fc(u,o,!0),d=Yl(t),d.x-=m.left,d.y-=m.top),i._refreshDimensions(),m=fc(o,s,!0),e._containerDiffX=m.left,e._containerDiffY=m.top,i._drag=l.dragEnabled?new xt(i):null,o!==u&&i._setTranslate(d.x,d.y),i._visibility.setStyles(n?l.visibleStyles:l.hiddenStyles),e.start()};xt.prototype._preStartCheck=function(i){this._startPredicateState===Mm&&(this._startPredicateState=z1),this._startPredicateState===z1?(this._startPredicateResult=this._startPredicate(this._item,i),this._startPredicateResult===!0?(this._startPredicateState=Lm,this._onStart(i)):this._startPredicateResult===!1&&(this._resetStartPredicate(i),this._dragger._reset(),this._startPredicateState=Mm)):this._startPredicateState===Lm&&this._isActive&&this._onMove(i)};xt.prototype._preEndCheck=function(i){var e=this._startPredicateState===Lm;this._startPredicate(this._item,i),this._startPredicateState=Mm,!(!e||!this._isActive)&&(this._isStarted?this._onEnd(i):this.stop())};xt.prototype._onStart=function(i){var e=this._item;!e._isActive||(this._isActive=!0,this._dragStartEvent=i,xt.autoScroller.addItem(e),Uve(e._id,this._prepareStart,this._applyStart))};xt.prototype._prepareStart=function(){if(!!this._isActive){var i=this._item;if(!!i._isActive){var e=i._element,t=this._getGrid(),n=t._settings,r=t._element,s=n.dragContainer||r,l=B1(s),o=Yl(e),a=e.getBoundingClientRect(),u=s!==r;if(this._container=s,this._containingBlock=l,this._clientX=a.left,this._clientY=a.top,this._left=this._gridX=o.x,this._top=this._gridY=o.y,this._scrollDiffX=this._scrollDiffY=0,this._moveDiffX=this._moveDiffY=0,this._resetHeuristics(this._gridX,this._gridY),u){var c=fc(l,r);this._containerDiffX=c.left,this._containerDiffY=c.top}}}};xt.prototype._applyStart=function(){if(!!this._isActive){var i=this._item;if(!!i._isActive){var e=this._getGrid(),t=i._element,n=i._dragRelease,r=i._migrate,s=this._container!==e._element;i.isPositioning()&&i._layout.stop(!0,this._left,this._top),r._isActive&&(this._left-=r._containerDiffX,this._top-=r._containerDiffY,this._gridX-=r._containerDiffX,this._gridY-=r._containerDiffY,r.stop(!0,this._left,this._top)),i.isReleasing()&&n._reset(),e._settings.dragPlaceholder.enabled&&i._dragPlaceholder.create(),this._isStarted=!0,e._emit(Fve,i,this._dragStartEvent),s&&(t.parentNode===this._container?(this._gridX-=this._containerDiffX,this._gridY-=this._containerDiffY):(this._left+=this._containerDiffX,this._top+=this._containerDiffY,this._container.appendChild(t),i._setTranslate(this._left,this._top))),Xr(t,e._settings.itemDraggingClass),this._bindScrollListeners(),e._emit(Eve,i,this._dragStartEvent)}}};xt.prototype._onMove=function(i){var e=this._item;if(!e._isActive){this.stop();return}this._dragMoveEvent=i,qve(e._id,this._prepareMove,this._applyMove),Qp(e._id,this._handleSort)};xt.prototype._prepareMove=function(){if(!!this._isActive){var i=this._item;if(!!i._isActive){var e=this._getGrid()._settings,t=e.dragAxis,n=this._dragMoveEvent,r=this._dragPrevMoveEvent||this._dragStartEvent||n;if(t!=="y"){var s=n.clientX-r.clientX;this._left=this._left-this._moveDiffX+s,this._gridX=this._gridX-this._moveDiffX+s,this._clientX=this._clientX-this._moveDiffX+s,this._moveDiffX=s}if(t!=="x"){var l=n.clientY-r.clientY;this._top=this._top-this._moveDiffY+l,this._gridY=this._gridY-this._moveDiffY+l,this._clientY=this._clientY-this._moveDiffY+l,this._moveDiffY=l}this._dragPrevMoveEvent=n}}};xt.prototype._applyMove=function(){if(!!this._isActive){var i=this._item;!i._isActive||(this._moveDiffX=this._moveDiffY=0,i._setTranslate(this._left,this._top),this._getGrid()._emit(Dve,i,this._dragMoveEvent),xt.autoScroller.updateItem(i))}};xt.prototype._onScroll=function(i){var e=this._item;if(!e._isActive){this.stop();return}this._scrollEvent=i,Hve(e._id,this._prepareScroll,this._applyScroll),Qp(e._id,this._handleSort)};xt.prototype._prepareScroll=function(){if(!!this._isActive){var i=this._item;if(!!i._isActive){var e=i._element,t=this._getGrid(),n=t._element,r=e.getBoundingClientRect();if(this._container!==n){var s=fc(this._containingBlock,n);this._containerDiffX=s.left,this._containerDiffY=s.top}var l=this._clientX-this._moveDiffX-r.left;this._left=this._left-this._scrollDiffX+l,this._scrollDiffX=l;var o=this._clientY-this._moveDiffY-r.top;this._top=this._top-this._scrollDiffY+o,this._scrollDiffY=o,this._gridX=this._left-this._containerDiffX,this._gridY=this._top-this._containerDiffY}}};xt.prototype._applyScroll=function(){if(!!this._isActive){var i=this._item;!i._isActive||(this._scrollDiffX=this._scrollDiffY=0,i._setTranslate(this._left,this._top),this._getGrid()._emit(Cve,i,this._scrollEvent))}};xt.prototype._onEnd=function(i){var e=this._item,t=e._element,n=this._getGrid(),r=n._settings,s=e._dragRelease;if(!e._isActive){this.stop();return}cI(e._id),fI(e._id),dI(e._id),this._finishSort(),this._unbindScrollListeners(),s._containerDiffX=this._containerDiffX,s._containerDiffY=this._containerDiffY,this._reset(),ur(t,r.itemDraggingClass),xt.autoScroller.removeItem(e),n._emit(Sve,e,i),this._isMigrating?this._finishMigration():s.start()};function ybe(i){if(i.tagName.toLowerCase()==="a"){var e=i.getAttribute("href");if(!!e){var t=i.getAttribute("target");t&&t!=="_self"?window.open(e,t):window.location.href=e}}}function EI(i,e){var t={},n,r;if(Array.isArray(e))for(r=0;r<e.length;r++)n=e[r],t[n]=Lr(i,I1(n));else for(n in e)t[n]=Lr(i,I1(n));return t}var wbe=/^(webkit|moz|ms|o|Webkit|Moz|MS|O)(?=[A-Z])/,R3={};function $be(i){var e=R3[i];return e||(e=i.replace(wbe,""),e!==i&&(e=e[0].toLowerCase()+e.slice(1)),R3[i]=e,e)}var Fbe="[native code]";function Ebe(i){var e=window.Symbol;return!!(i&&ln(e)&&ln(e.toString)&&e(i).toString().indexOf(Fbe)>-1)}function dc(i,e){for(var t in e)i.style[t]=e[t]}var Dbe=!!(Element&&ln(Element.prototype.animate)),j3=!!(Element&&Ebe(Element.prototype.animate));function bl(i){this._element=i,this._animation=null,this._duration=0,this._easing="",this._callback=null,this._props=[],this._values=[],this._isDestroyed=!1,this._onFinish=this._onFinish.bind(this)}bl.prototype.start=function(i,e,t){if(!this._isDestroyed){var n=this._element,r=t||{};if(!Dbe){dc(n,e),this._callback=ln(r.onFinish)?r.onFinish:null,this._onFinish();return}var s=this._animation,l=this._props,o=this._values,a=r.duration||300,u=r.easing||"ease",c=!1,f,d,m;if(s&&(d=0,(a!==this._duration||u!==this._easing)&&(c=!0),!c)){for(f in e)if(++d,m=l.indexOf(f),m===-1||e[f]!==o[m]){c=!0;break}d!==l.length&&(c=!0)}if(c&&s.cancel(),this._callback=ln(r.onFinish)?r.onFinish:null,!(s&&!c)){l.length=o.length=0;for(f in e)l.push(f),o.push(e[f]);this._duration=a,this._easing=u,this._animation=n.animate([Y3(i,j3),Y3(e,j3)],{duration:a,easing:u}),this._animation.onfinish=this._onFinish,dc(n,e)}}};bl.prototype.stop=function(){this._isDestroyed||!this._animation||(this._animation.cancel(),this._animation=this._callback=null,this._props.length=this._values.length=0)};bl.prototype.getCurrentStyles=function(){return EI(element,currentProps)};bl.prototype.isAnimating=function(){return!!this._animation};bl.prototype.destroy=function(){this._isDestroyed||(this.stop(),this._element=null,this._isDestroyed=!0)};bl.prototype._onFinish=function(){var i=this._callback;this._animation=this._callback=null,this._props.length=this._values.length=0,i&&i()};function Y3(i,e){var t={};for(var n in i)t[e?n:$be(n)]=i[n];return t}function yo(i,e){return"translateX("+i+"px) translateY("+e+"px)"}function hr(i){this._item=i,this._animation=new bl,this._element=null,this._className="",this._didMigrate=!1,this._resetAfterLayout=!1,this._left=0,this._top=0,this._transX=0,this._transY=0,this._nextTransX=0,this._nextTransY=0,this._setupAnimation=this._setupAnimation.bind(this),this._startAnimation=this._startAnimation.bind(this),this._updateDimensions=this._updateDimensions.bind(this),this._onLayoutStart=this._onLayoutStart.bind(this),this._onLayoutEnd=this._onLayoutEnd.bind(this),this._onReleaseEnd=this._onReleaseEnd.bind(this),this._onMigrate=this._onMigrate.bind(this),this._onHide=this._onHide.bind(this)}hr.prototype._updateDimensions=function(){!this.isActive()||dc(this._element,{width:this._item._width+"px",height:this._item._height+"px"})};hr.prototype._onLayoutStart=function(i,e){var t=this._item;if(i.indexOf(t)===-1){this.reset();return}var n=t._left,r=t._top,s=this._left,l=this._top;if(this._left=n,this._top=r,!(!e&&!this._didMigrate&&s===n&&l===r)){var o=n+t._marginLeft,a=r+t._marginTop,u=t.getGrid(),c=!e&&u._settings.layoutDuration>0;if(!c||this._didMigrate){hI(t._id),this._element.style[rl]=yo(o,a),this._animation.stop(),this._didMigrate&&(u.getElement().appendChild(this._element),this._didMigrate=!1);return}this._nextTransX=o,this._nextTransY=a,Vve(t._id,this._setupAnimation,this._startAnimation)}};hr.prototype._setupAnimation=function(){if(!!this.isActive()){var i=Yl(this._element);this._transX=i.x,this._transY=i.y}};hr.prototype._startAnimation=function(){if(!!this.isActive()){var i=this._animation,e=this._transX,t=this._transY,n=this._nextTransX,r=this._nextTransY;if(e===n&&t===r){i.isAnimating()&&(this._element.style[rl]=yo(n,r),i.stop());return}var s=this._item.getGrid()._settings,l={},o={};l[rl]=yo(e,t),o[rl]=yo(n,r),i.start(l,o,{duration:s.layoutDuration,easing:s.layoutEasing,onFinish:this._onLayoutEnd})}};hr.prototype._onLayoutEnd=function(){this._resetAfterLayout&&this.reset()};hr.prototype._onReleaseEnd=function(i){if(i._id===this._item._id){if(!this._animation.isAnimating()){this.reset();return}this._resetAfterLayout=!0}};hr.prototype._onMigrate=function(i){if(i.item===this._item){var e=this._item.getGrid(),t=i.toGrid;e.off(nd,this._onReleaseEnd),e.off(Po,this._onLayoutStart),e.off(No,this._onMigrate),e.off(td,this._onHide),t.on(nd,this._onReleaseEnd),t.on(Po,this._onLayoutStart),t.on(No,this._onMigrate),t.on(td,this._onHide),this._didMigrate=!0}};hr.prototype._onHide=function(i){i.indexOf(this._item)>-1&&this.reset()};hr.prototype.create=function(){if(this.isActive()){this._resetAfterLayout=!1;return}var i=this._item,e=i.getGrid(),t=e._settings,n=this._animation;this._left=i._left,this._top=i._top;var r;ln(t.dragPlaceholder.createElement)?r=t.dragPlaceholder.createElement(i):r=document.createElement("div"),this._element=r,n._element=r,this._className=t.itemPlaceholderClass||"",this._className&&Xr(r,this._className),dc(r,{position:"absolute",left:"0px",top:"0px",width:i._width+"px",height:i._height+"px"}),r.style[rl]=yo(i._left+i._marginLeft,i._top+i._marginTop),e.on(Po,this._onLayoutStart),e.on(nd,this._onReleaseEnd),e.on(No,this._onMigrate),e.on(td,this._onHide),ln(t.dragPlaceholder.onCreate)&&t.dragPlaceholder.onCreate(i,r),e.getElement().appendChild(r)};hr.prototype.reset=function(){if(!!this.isActive()){var i=this._element,e=this._item,t=e.getGrid(),n=t._settings,r=this._animation;this._resetAfterLayout=!1,hI(e._id),Zve(e._id),r.stop(),r._element=null,t.off(nd,this._onReleaseEnd),t.off(Po,this._onLayoutStart),t.off(No,this._onMigrate),t.off(td,this._onHide),this._className&&(ur(i,this._className),this._className=""),i.parentNode.removeChild(i),this._element=null,ln(n.dragPlaceholder.onRemove)&&n.dragPlaceholder.onRemove(e,i)}};hr.prototype.isActive=function(){return!!this._element};hr.prototype.getElement=function(){return this._element};hr.prototype.updateDimensions=function(){!this.isActive()||Gve(this._item._id,this._updateDimensions)};hr.prototype.destroy=function(){this.reset(),this._animation.destroy(),this._item=this._animation=null};function Wo(i){this._item=i,this._isActive=!1,this._isDestroyed=!1,this._isPositioningStarted=!1,this._containerDiffX=0,this._containerDiffY=0}Wo.prototype.start=function(){if(!(this._isDestroyed||this._isActive)){var i=this._item,e=i.getGrid(),t=e._settings;this._isActive=!0,Xr(i._element,t.itemReleasingClass),t.dragRelease.useDragContainer||this._placeToGrid(),e._emit(Tve,i),e._nextLayoutData||i._layout.start(!1)}};Wo.prototype.stop=function(i,e,t){if(!(this._isDestroyed||!this._isActive)){var n=this._item,r=n.getGrid();!i&&(e===void 0||t===void 0)&&(e=n._left,t=n._top);var s=this._placeToGrid(e,t);this._reset(s),i||r._emit(nd,n)}};Wo.prototype.isJustReleased=function(){return this._isActive&&this._isPositioningStarted===!1};Wo.prototype.destroy=function(){this._isDestroyed||(this.stop(!0),this._item=null,this._isDestroyed=!0)};Wo.prototype._placeToGrid=function(i,e){if(!this._isDestroyed){var t=this._item,n=t._element,r=t.getGrid()._element,s=!1;if(n.parentNode!==r){if(i===void 0||e===void 0){var l=Yl(n);i=l.x-this._containerDiffX,e=l.y-this._containerDiffY}r.appendChild(n),t._setTranslate(i,e),s=!0}return this._containerDiffX=0,this._containerDiffY=0,s}};Wo.prototype._reset=function(i){if(!this._isDestroyed){var e=this._item,t=e.getGrid()._settings.itemReleasingClass;this._isActive=!1,this._isPositioningStarted=!1,this._containerDiffX=0,this._containerDiffY=0,t&&(i&&e._element.clientWidth,ur(e._element,t))}};var U3=2;function Xl(i){var e=i._element,t=e.style;this._item=i,this._isActive=!1,this._isDestroyed=!1,this._isInterrupted=!1,this._currentStyles={},this._targetStyles={},this._nextLeft=0,this._nextTop=0,this._offsetLeft=0,this._offsetTop=0,this._skipNextAnimation=!1,this._animOptions={onFinish:this._finish.bind(this),duration:0,easing:0},t.left="0px",t.top="0px",i._setTranslate(0,0),this._animation=new bl(e),this._queue="layout-"+i._id,this._setupAnimation=this._setupAnimation.bind(this),this._startAnimation=this._startAnimation.bind(this)}Xl.prototype.start=function(i,e){if(!this._isDestroyed){var t=this._item,n=t._dragRelease,r=t.getGrid()._settings,s=this._isActive,l=n.isJustReleased(),o=l?r.dragRelease.duration:r.layoutDuration,a=l?r.dragRelease.easing:r.layoutEasing,u=!i&&!this._skipNextAnimation&&o>0;if(s&&(aI(t._id),t._emitter.burst(this._queue,!0,t)),l&&(n._isPositioningStarted=!0),ln(e)&&t._emitter.on(this._queue,e),this._skipNextAnimation=!1,!u){this._updateOffsets(),t._setTranslate(this._nextLeft,this._nextTop),this._animation.stop(),this._finish();return}this._animation.isAnimating()&&(this._animation._animation.onfinish=null),this._isActive=!0,this._animOptions.easing=a,this._animOptions.duration=o,this._isInterrupted=s,jve(t._id,this._setupAnimation,this._startAnimation)}};Xl.prototype.stop=function(i,e,t){if(!(this._isDestroyed||!this._isActive)){var n=this._item;if(aI(n._id),this._animation.isAnimating()){if(e===void 0||t===void 0){var r=Yl(n._element);e=r.x,t=r.y}n._setTranslate(e,t),this._animation.stop()}ur(n._element,n.getGrid()._settings.itemPositioningClass),this._isActive=!1,i&&n._emitter.burst(this._queue,!0,n)}};Xl.prototype.destroy=function(){if(!this._isDestroyed){var i=this._item._element.style;this.stop(!0,0,0),this._item._emitter.clear(this._queue),this._animation.destroy(),i[rl]="",i.left="",i.top="",this._item=null,this._currentStyles=null,this._targetStyles=null,this._animOptions=null,this._isDestroyed=!0}};Xl.prototype._updateOffsets=function(){if(!this._isDestroyed){var i=this._item,e=i._migrate,t=i._dragRelease;this._offsetLeft=t._isActive?t._containerDiffX:e._isActive?e._containerDiffX:0,this._offsetTop=t._isActive?t._containerDiffY:e._isActive?e._containerDiffY:0,this._nextLeft=this._item._left+this._offsetLeft,this._nextTop=this._item._top+this._offsetTop}};Xl.prototype._finish=function(){if(!this._isDestroyed){var i=this._item,e=i._migrate,t=i._dragRelease;i._tX=this._nextLeft,i._tY=this._nextTop,this._isActive&&(this._isActive=!1,ur(i._element,i.getGrid()._settings.itemPositioningClass)),t._isActive&&t.stop(),e._isActive&&e.stop(),i._emitter.burst(this._queue,!1,i)}};Xl.prototype._setupAnimation=function(){var i=this._item;if(i._tX===void 0||i._tY===void 0){var e=Yl(i._element);i._tX=e.x,i._tY=e.y}};Xl.prototype._startAnimation=function(){var i=this._item,e=i.getGrid()._settings,t=this._animOptions.duration<=0;this._updateOffsets();var n=Math.abs(i._left-(i._tX-this._offsetLeft)),r=Math.abs(i._top-(i._tY-this._offsetTop));if(t||n<U3&&r<U3){(n||r||this._isInterrupted)&&i._setTranslate(this._nextLeft,this._nextTop),this._animation.stop(),this._finish();return}this._isInterrupted||Xr(i._element,e.itemPositioningClass),this._currentStyles[rl]=yo(i._tX,i._tY),this._targetStyles[rl]=yo(this._nextLeft,this._nextTop),i._tX=i._tY=void 0,this._animation.start(this._currentStyles,this._targetStyles,this._animOptions)};function qd(i){this._item=i,this._isActive=!1,this._isDestroyed=!1,this._container=!1,this._containerDiffX=0,this._containerDiffY=0}qd.prototype.start=function(i,e,t){if(!this._isDestroyed){var n=this._item,r=n._element,s=n.isActive(),l=n.isVisible(),o=n.getGrid(),a=o._settings,u=i._settings,c=i._element,f=i._items,d=o._items.indexOf(n),m=t||document.body,p,g,k,$,D,F,C,S,P,I;if(typeof e=="number")p=cc(f,e,1);else{if(g=i.getItem(e),!g)return;p=f.indexOf(g)}(n.isPositioning()||this._isActive||n.isReleasing())&&(F=Yl(r),C=F.x,S=F.y),n.isPositioning()&&n._layout.stop(!0,C,S),this._isActive&&(C-=this._containerDiffX,S-=this._containerDiffY,this.stop(!0,C,S)),n.isReleasing()&&(C-=n._dragRelease._containerDiffX,S-=n._dragRelease._containerDiffY,n._dragRelease.stop(!0,C,S)),n._visibility.stop(!0),n._drag&&n._drag.destroy(),o._hasListeners(No)&&o._emit(No,{item:n,fromGrid:o,fromIndex:d,toGrid:i,toIndex:p}),i._hasListeners(Am)&&i._emit(Am,{item:n,fromGrid:o,fromIndex:d,toGrid:i,toIndex:p}),a.itemClass!==u.itemClass&&(ur(r,a.itemClass),Xr(r,u.itemClass)),P=l?a.itemVisibleClass:a.itemHiddenClass,I=l?u.itemVisibleClass:u.itemHiddenClass,P!==I&&(ur(r,P),Xr(r,I)),o._items.splice(d,1),sb(f,n,p),n._gridId=i._id,s?(k=r.parentNode,m!==k&&(m.appendChild(r),$=fc(m,k,!0),F||(F=Yl(r),C=F.x,S=F.y),n._setTranslate(C+$.left,S+$.top))):c.appendChild(r),n._visibility.setStyles(l?u.visibleStyles:u.hiddenStyles),s&&(D=fc(m,c,!0)),n._refreshDimensions(),n._sortData=null,n._drag=u.dragEnabled?new xt(n):null,s?(this._isActive=!0,this._container=m,this._containerDiffX=D.left,this._containerDiffY=D.top):(this._isActive=!1,this._container=null,this._containerDiffX=0,this._containerDiffY=0),o._hasListeners(Sm)&&o._emit(Sm,{item:n,fromGrid:o,fromIndex:d,toGrid:i,toIndex:p}),i._hasListeners(Tm)&&i._emit(Tm,{item:n,fromGrid:o,fromIndex:d,toGrid:i,toIndex:p})}};qd.prototype.stop=function(i,e,t){if(!(this._isDestroyed||!this._isActive)){var n=this._item,r=n._element,s=n.getGrid(),l=s._element,o;this._container!==l&&((e===void 0||t===void 0)&&(i?(o=Yl(r),e=o.x-this._containerDiffX,t=o.y-this._containerDiffY):(e=n._left,t=n._top)),l.appendChild(r),n._setTranslate(e,t)),this._isActive=!1,this._container=null,this._containerDiffX=0,this._containerDiffY=0}};qd.prototype.destroy=function(){this._isDestroyed||(this.stop(!0),this._item=null,this._isDestroyed=!0)};function Os(i){var e=i._isActive,t=i._element,n=t.children[0],r=i.getGrid()._settings;if(!n)throw new Error("No valid child element found within item element.");this._item=i,this._isDestroyed=!1,this._isHidden=!e,this._isHiding=!1,this._isShowing=!1,this._childElement=n,this._currentStyleProps=[],this._animation=new bl(n),this._queue="visibility-"+i._id,this._finishShow=this._finishShow.bind(this),this._finishHide=this._finishHide.bind(this),t.style.display=e?"":"none",Xr(t,e?r.itemVisibleClass:r.itemHiddenClass),this.setStyles(e?r.visibleStyles:r.hiddenStyles)}Os.prototype.show=function(i,e){if(!this._isDestroyed){var t=this._item,n=t._element,r=ln(e)?e:null,s=t.getGrid(),l=s._settings;if(!this._isShowing&&!this._isHidden){r&&r(!1,t);return}if(this._isShowing&&!i){r&&t._emitter.on(this._queue,r);return}this._isShowing||(t._emitter.burst(this._queue,!0,t),ur(n,l.itemHiddenClass),Xr(n,l.itemVisibleClass),this._isHiding||(n.style.display="")),r&&t._emitter.on(this._queue,r),this._isShowing=!0,this._isHiding=this._isHidden=!1,this._startAnimation(!0,i,this._finishShow)}};Os.prototype.hide=function(i,e){if(!this._isDestroyed){var t=this._item,n=t._element,r=ln(e)?e:null,s=t.getGrid(),l=s._settings;if(!this._isHiding&&this._isHidden){r&&r(!1,t);return}if(this._isHiding&&!i){r&&t._emitter.on(this._queue,r);return}this._isHiding||(t._emitter.burst(this._queue,!0,t),Xr(n,l.itemHiddenClass),ur(n,l.itemVisibleClass)),r&&t._emitter.on(this._queue,r),this._isHidden=this._isHiding=!0,this._isShowing=!1,this._startAnimation(!1,i,this._finishHide)}};Os.prototype.stop=function(i){if(!this._isDestroyed&&!(!this._isHiding&&!this._isShowing)){var e=this._item;uI(e._id),this._animation.stop(),i&&e._emitter.burst(this._queue,!0,e)}};Os.prototype.setStyles=function(i){var e=this._childElement,t=this._currentStyleProps;this._removeCurrentStyles();for(var n in i)t.push(n),e.style[n]=i[n]};Os.prototype.destroy=function(){if(!this._isDestroyed){var i=this._item,e=i._element,t=i.getGrid(),n=t._settings;this.stop(!0),i._emitter.clear(this._queue),this._animation.destroy(),this._removeCurrentStyles(),ur(e,n.itemVisibleClass),ur(e,n.itemHiddenClass),e.style.display="",this._isHiding=this._isShowing=!1,this._isDestroyed=this._isHidden=!0}};Os.prototype._startAnimation=function(i,e,t){if(!this._isDestroyed){var n=this._item,r=this._animation,s=this._childElement,l=n.getGrid()._settings,o=i?l.visibleStyles:l.hiddenStyles,a=i?l.showDuration:l.hideDuration,u=i?l.showEasing:l.hideEasing,c=e||a<=0,f;if(!o){t&&t();return}if(uI(n._id),c){dc(s,o),r.stop(),t&&t();return}r.isAnimating()&&(r._animation.onfinish=null),Yve(n._id,function(){f=EI(s,o)},function(){r.start(f,o,{duration:a,easing:u,onFinish:t})})}};Os.prototype._finishShow=function(){this._isHidden||(this._isShowing=!1,this._item._emitter.burst(this._queue,!1,this._item))};Os.prototype._finishHide=function(){if(!!this._isHidden){var i=this._item;this._isHiding=!1,i._layout.stop(!0,0,0),i._element.style.display="none",i._emitter.burst(this._queue,!1,i)}};Os.prototype._removeCurrentStyles=function(){for(var i=this._childElement,e=this._currentStyleProps,t=0;t<e.length;t++)i.style[e[t]]="";e.length=0};var Cbe=0;function DI(){return++Cbe}function di(i,e,t){var n=i._settings;if(Pa){if(Pa.has(e))throw new Error("You can only create one Muuri Item per element!");Pa.set(e,this)}this._id=DI(),this._gridId=i._id,this._element=e,this._isDestroyed=!1,this._left=0,this._top=0,this._width=0,this._height=0,this._marginLeft=0,this._marginRight=0,this._marginTop=0,this._marginBottom=0,this._tX=void 0,this._tY=void 0,this._sortData=null,this._emitter=new ps,e.parentNode!==i._element&&i._element.appendChild(e),Xr(e,n.itemClass),typeof t!="boolean"&&(t=Lr(e,"display")!=="none"),this._isActive=t,this._visibility=new Os(this),this._layout=new Xl(this),this._migrate=new qd(this),this._drag=n.dragEnabled?new xt(this):null,this._dragRelease=new Wo(this),this._dragPlaceholder=new hr(this)}di.prototype.getGrid=function(){return Zp[this._gridId]};di.prototype.getElement=function(){return this._element};di.prototype.getWidth=function(){return this._width};di.prototype.getHeight=function(){return this._height};di.prototype.getMargin=function(){return{left:this._marginLeft,right:this._marginRight,top:this._marginTop,bottom:this._marginBottom}};di.prototype.getPosition=function(){return{left:this._left,top:this._top}};di.prototype.isActive=function(){return this._isActive};di.prototype.isVisible=function(){return!!this._visibility&&!this._visibility._isHidden};di.prototype.isShowing=function(){return!!(this._visibility&&this._visibility._isShowing)};di.prototype.isHiding=function(){return!!(this._visibility&&this._visibility._isHiding)};di.prototype.isPositioning=function(){return!!(this._layout&&this._layout._isActive)};di.prototype.isDragging=function(){return!!(this._drag&&this._drag._isActive)};di.prototype.isReleasing=function(){return!!(this._dragRelease&&this._dragRelease._isActive)};di.prototype.isDestroyed=function(){return this._isDestroyed};di.prototype._refreshDimensions=function(i){if(!this._isDestroyed&&!(i!==!0&&this._visibility._isHidden)){var e=this._element,t=this._dragPlaceholder,n=e.getBoundingClientRect();this._width=n.width,this._height=n.height,this._marginLeft=Math.max(0,us(e,"margin-left")),this._marginRight=Math.max(0,us(e,"margin-right")),this._marginTop=Math.max(0,us(e,"margin-top")),this._marginBottom=Math.max(0,us(e,"margin-bottom")),t&&t.updateDimensions()}};di.prototype._refreshSortData=function(){if(!this._isDestroyed){var i=this._sortData={},e=this.getGrid()._settings.sortData,t;for(t in e)i[t]=e[t](this,this._element)}};di.prototype._addToLayout=function(i,e){this._isActive!==!0&&(this._isActive=!0,this._left=i||0,this._top=e||0)};di.prototype._removeFromLayout=function(){this._isActive!==!1&&(this._isActive=!1,this._left=0,this._top=0)};di.prototype._canSkipLayout=function(i,e){return this._left===i&&this._top===e&&!this._migrate._isActive&&!this._layout._skipNextAnimation&&!this._dragRelease.isJustReleased()};di.prototype._setTranslate=function(i,e){return this._tX===i&&this._tY===e?!1:(this._tX=i,this._tY=e,this._element.style[rl]=yo(i,e),!0)};di.prototype._destroy=function(i){if(!this._isDestroyed){var e=this._element,t=this.getGrid(),n=t._settings;this._dragPlaceholder.destroy(),this._dragRelease.destroy(),this._migrate.destroy(),this._layout.destroy(),this._visibility.destroy(),this._drag&&this._drag.destroy(),this._emitter.destroy(),ur(e,n.itemClass),i&&e.parentNode.removeChild(e),Pa&&Pa.delete(e),this._isActive=!1,this._isDestroyed=!0}};function CI(i){var e=1,t=2,n=4,r=8,s=16,l=.001,o=.5;function a(g){return((g*1e3+.5<<0)/10<<0)/100}function u(){this.currentRects=[],this.nextRects=[],this.rectTarget={},this.rectStore=[],this.slotSizes=[],this.rectId=0,this.slotIndex=-1,this.slotData={left:0,top:0,width:0,height:0},this.sortRectsLeftTop=this.sortRectsLeftTop.bind(this),this.sortRectsTopLeft=this.sortRectsTopLeft.bind(this)}if(u.prototype.computeLayout=function(g,k){var $=g.items,D=g.slots,F=!!(k&e),C=!!(k&t),S=!!(k&n),P=!!(k&r),I=!!(k&s),R=typeof $[0]=="number",B,z,q,H,K,G;if(!$.length)return g;for(z=R?2:1,B=0;B<$.length;B+=z)R?(H=$[B],K=$[B+1]):(q=$[B],H=q._width+q._marginLeft+q._marginRight,K=q._height+q._marginTop+q._marginBottom),I&&(H=a(H),K=a(K)),G=this.computeNextSlot(g,H,K,F,C),C?G.left+G.width>g.width&&(g.width=G.left+G.width):G.top+G.height>g.height&&(g.height=G.top+G.height),D[++this.slotIndex]=G.left,D[++this.slotIndex]=G.top,(S||P)&&this.slotSizes.push(G.width,G.height);if(S)for(B=0;B<D.length;B+=2)D[B]=g.width-(D[B]+this.slotSizes[B]);if(P)for(B=1;B<D.length;B+=2)D[B]=g.height-(D[B]+this.slotSizes[B]);return this.slotSizes.length=0,this.currentRects.length=0,this.nextRects.length=0,this.rectStore.length=0,this.rectId=0,this.slotIndex=-1,g},u.prototype.computeNextSlot=function(g,k,$,D,F){var C=this.slotData,S=this.currentRects,P=this.nextRects,I=!1,R,B,z,q,H;for(P.length=0,C.left=null,C.top=null,C.width=k,C.height=$,q=0;q<S.length;q++)if(B=S[q],!!B&&(R=this.getRect(B),C.width<=R.width+l&&C.height<=R.height+l)){C.left=R.left,C.top=R.top;break}if(C.left===null&&(F?(C.left=g.width,C.top=0):(C.left=0,C.top=g.height),D||(I=!0)),!F&&C.top+C.height>g.height+l&&(C.left>o&&P.push(this.addRect(0,g.height,C.left,1/0)),C.left+C.width<g.width-o&&P.push(this.addRect(C.left+C.width,g.height,g.width-C.left-C.width,1/0)),g.height=C.top+C.height),F&&C.left+C.width>g.width+l&&(C.top>o&&P.push(this.addRect(g.width,0,1/0,C.top)),C.top+C.height<g.height-o&&P.push(this.addRect(g.width,C.top+C.height,1/0,g.height-C.top-C.height)),g.width=C.left+C.width),!I){for(D&&(q=0);q<S.length;q++)if(B=S[q],!!B)for(R=this.getRect(B),z=this.splitRect(R,C),H=0;H<z.length;H++)B=z[H],R=this.getRect(B),(F?R.left+l<g.width-l:R.top+l<g.height-l)&&P.push(B)}return P.length>1&&this.purgeRects(P).sort(F?this.sortRectsLeftTop:this.sortRectsTopLeft),this.currentRects=P,this.nextRects=S,C},u.prototype.addRect=function(g,k,$,D){var F=++this.rectId;return this.rectStore[F]=g||0,this.rectStore[++this.rectId]=k||0,this.rectStore[++this.rectId]=$||0,this.rectStore[++this.rectId]=D||0,F},u.prototype.getRect=function(g,k){return k||(k=this.rectTarget),k.left=this.rectStore[g]||0,k.top=this.rectStore[++g]||0,k.width=this.rectStore[++g]||0,k.height=this.rectStore[++g]||0,k},u.prototype.splitRect=function(){var g=[],k=0,$=0;return function(D,F){return g.length=0,D.left+D.width<=F.left+l||F.left+F.width<=D.left+l||D.top+D.height<=F.top+l||F.top+F.height<=D.top+l?(g.push(this.addRect(D.left,D.top,D.width,D.height)),g):(k=F.left-D.left,k>=o&&g.push(this.addRect(D.left,D.top,k,D.height)),k=D.left+D.width-(F.left+F.width),k>=o&&g.push(this.addRect(F.left+F.width,D.top,k,D.height)),$=F.top-D.top,$>=o&&g.push(this.addRect(D.left,D.top,D.width,$)),$=D.top+D.height-(F.top+F.height),$>=o&&g.push(this.addRect(D.left,F.top+F.height,D.width,$)),g)}}(),u.prototype.isRectAWithinRectB=function(g,k){return g.left+l>=k.left&&g.top+l>=k.top&&g.left+g.width-l<=k.left+k.width&&g.top+g.height-l<=k.top+k.height},u.prototype.purgeRects=function(){var g={},k={};return function($){for(var D=$.length,F;D--;)if(F=$.length,!!$[D]){for(this.getRect($[D],g);F--;)if(!(!$[F]||D===F)&&(this.getRect($[F],k),this.isRectAWithinRectB(g,k))){$[D]=0;break}}return $}}(),u.prototype.sortRectsTopLeft=function(){var g={},k={};return function($,D){return this.getRect($,g),this.getRect(D,k),g.top<k.top&&g.top+l<k.top?-1:g.top>k.top&&g.top-l>k.top?1:g.left<k.left&&g.left+l<k.left?-1:g.left>k.left&&g.left-l>k.left?1:0}}(),u.prototype.sortRectsLeftTop=function(){var g={},k={};return function($,D){return this.getRect($,g),this.getRect(D,k),g.left<k.left&&g.left+l<k.left?-1:g.left>k.left&&g.left-l<k.left?1:g.top<k.top&&g.top+l<k.top?-1:g.top>k.top&&g.top-l>k.top?1:0}}(),i){var c=1,f=2,d=3,m=4,p=new u;self.onmessage=function(g){var k=new Float32Array(g.data),$=k.subarray(m,k.length),D=new Float32Array($.length),F=k[d],C={items:$,slots:D,width:k[c],height:k[f]};p.computeLayout(C,F),k[c]=C.width,k[f]=C.height,k.set(C.slots,m),postMessage(k.buffer,[k.buffer])}}return u}var q3=CI(),Hu=null,tm=[];function Sbe(i,e){var t=[];if(i>0){Hu||(Hu=URL.createObjectURL(new Blob(["("+CI.toString()+")(true)"],{type:"application/javascript"})));for(var n=0,r;n<i;n++)r=new Worker(Hu),e&&(r.onmessage=e),t.push(r),tm.push(r)}return t}function Tbe(i){for(var e,t,n=0;n<i.length;n++)e=i[n],e.onmessage=null,e.onerror=null,e.onmessageerror=null,e.terminate(),t=tm.indexOf(e),t>-1&&tm.splice(t,1);Hu&&!tm.length&&(URL.revokeObjectURL(Hu),Hu=null)}function Abe(){return!!(window.Worker&&window.URL&&window.Blob)}var H3=1,Om=2,W3=4,V3=8,G3=16,SI=0,TI=1,AI=2,Pbe=3,R1=4;function Kl(i,e){if(this._options=0,this._processor=null,this._layoutQueue=[],this._layouts={},this._layoutCallbacks={},this._layoutWorkers={},this._layoutWorkerData={},this._workers=[],this._onWorkerMessage=this._onWorkerMessage.bind(this),this.setOptions(e),i=typeof i=="number"?Math.max(0,i):0,i&&Abe())try{this._workers=Sbe(i,this._onWorkerMessage)}catch{this._processor=new q3}else this._processor=new q3}Kl.prototype._sendToWorker=function(){if(!(!this._layoutQueue.length||!this._workers.length)){var i=this._layoutQueue.shift(),e=this._workers.pop(),t=this._layoutWorkerData[i];delete this._layoutWorkerData[i],this._layoutWorkers[i]=e,e.postMessage(t.buffer,[t.buffer])}};Kl.prototype._onWorkerMessage=function(i){var e=new Float32Array(i.data),t=e[SI],n=this._layouts[t],r=this._layoutCallbacks[t],s=this._layoutWorkers[t];n&&delete this._layouts[t],r&&delete this._layoutCallbacks[t],s&&delete this._layoutWorkers[t],n&&r&&(n.width=e[TI],n.height=e[AI],n.slots=e.subarray(R1,e.length),this._finalizeLayout(n),r(n)),s&&(this._workers.push(s),this._sendToWorker())};Kl.prototype._finalizeLayout=function(i){var e=i._grid,t=i._settings&Om,n=e._boxSizing==="border-box";return delete i._grid,delete i._settings,i.styles={},t?i.styles.width=(n?i.width+e._borderLeft+e._borderRight:i.width)+"px":i.styles.height=(n?i.height+e._borderTop+e._borderBottom:i.height)+"px",i};Kl.prototype.setOptions=function(i){if(!!i){var e;typeof i.fillGaps=="boolean"?e=i.fillGaps?H3:0:e=this._options&H3;var t;typeof i.horizontal=="boolean"?t=i.horizontal?Om:0:t=this._options&Om;var n;typeof i.alignRight=="boolean"?n=i.alignRight?W3:0:n=this._options&W3;var r;typeof i.alignBottom=="boolean"?r=i.alignBottom?V3:0:r=this._options&V3;var s;typeof i.rounding=="boolean"?s=i.rounding?G3:0:s=this._options&G3,this._options=e|t|n|r|s}};Kl.prototype.createLayout=function(i,e,t,n,r,s){if(this._layouts[e])throw new Error("A layout with the provided id is currently being processed.");var l=this._options&Om,o={id:e,items:t,slots:null,width:l?0:n,height:l?r:0,_grid:i,_settings:this._options};if(!t.length){o.slots=[],this._finalizeLayout(o),s(o);return}if(this._processor){o.slots=window.Float32Array?new Float32Array(t.length*2):new Array(t.length*2),this._processor.computeLayout(o,o._settings),this._finalizeLayout(o),s(o);return}var a=new Float32Array(R1+t.length*2);a[SI]=e,a[TI]=o.width,a[AI]=o.height,a[Pbe]=o._settings;var u,c,f;for(u=0,c=R1-1,f;u<t.length;u++)f=t[u],a[++c]=f._width+f._marginLeft+f._marginRight,a[++c]=f._height+f._marginTop+f._marginBottom;return this._layoutQueue.push(e),this._layouts[e]=o,this._layoutCallbacks[e]=s,this._layoutWorkerData[e]=a,this._sendToWorker(),this.cancelLayout.bind(this,e)};Kl.prototype.cancelLayout=function(i){var e=this._layouts[i];if(!!e&&(delete this._layouts[i],delete this._layoutCallbacks[i],this._layoutWorkerData[i])){delete this._layoutWorkerData[i];var t=this._layoutQueue.indexOf(i);t>-1&&this._layoutQueue.splice(t,1)}};Kl.prototype.destroy=function(){for(var i in this._layoutWorkers)this._workers.push(this._layoutWorkers[i]);Tbe(this._workers),this._workers.length=0,this._layoutQueue.length=0,this._layouts={},this._layoutCallbacks={},this._layoutWorkers={},this._layoutWorkerData={}};var Nbe=0;function Mbe(i,e){var t=++Nbe,n=0,r=0,s=!1,l=function(o){s||(r&&(n-=o-r),r=o,n>0?Xve(t,l):(n=r=0,i()))};return function(o){if(!s){if(e<=0){o!==!0&&i();return}if(o===!0){s=!0,n=r=0,l=void 0,Kve(t);return}n<=0?(n=e,l(0)):n=e}}}var Lbe="[object HTMLCollection]",Obe="[object NodeList]";function lb(i){var e=Object.prototype.toString.call(i);return e===Lbe||e===Obe}var Ibe="object",Bbe="[object Object]",zbe=Object.prototype.toString;function Z3(i){return typeof i===Ibe&&zbe.call(i)===Bbe}function Rbe(){}function jbe(i){return lb(i)?Array.prototype.slice.call(i):Array.prototype.concat(i)}var PI="number",t_="string",Mo="instant",bg=0;function Zt(i,e){typeof i===t_&&(i=document.querySelector(i));var t=i.getRootNode?i.getRootNode({composed:!0})===document:document.body.contains(i);if(!t||i===document.documentElement)throw new Error("Container element must be an existing DOM element.");var n=Ybe(Zt.defaultOptions,e);n.visibleStyles=x3(n.visibleStyles),n.hiddenStyles=x3(n.hiddenStyles),ln(n.dragSort)||(n.dragSort=!!n.dragSort),this._id=DI(),this._element=i,this._settings=n,this._isDestroyed=!1,this._items=[],this._layout={id:0,items:[],slots:[]},this._isLayoutFinished=!0,this._nextLayoutData=null,this._emitter=new ps,this._onLayoutDataReceived=this._onLayoutDataReceived.bind(this),Zp[this._id]=this,Xr(i,n.containerClass),qbe(this,n.layoutOnResize),this.add(Ube(i,n.items),{layout:!1}),n.layoutOnInit&&this.layout(!0)}Zt.Item=di;Zt.ItemLayout=Xl;Zt.ItemVisibility=Os;Zt.ItemMigrate=qd;Zt.ItemDrag=xt;Zt.ItemDragRelease=Wo;Zt.ItemDragPlaceholder=hr;Zt.Emitter=ps;Zt.Animator=bl;Zt.Dragger=at;Zt.Packer=Kl;Zt.AutoScroller=Cn;Zt.defaultPacker=new Kl(2);Zt.defaultOptions={items:"*",showDuration:300,showEasing:"ease",hideDuration:300,hideEasing:"ease",visibleStyles:{opacity:"1",transform:"scale(1)"},hiddenStyles:{opacity:"0",transform:"scale(0.5)"},layout:{fillGaps:!1,horizontal:!1,alignRight:!1,alignBottom:!1,rounding:!1},layoutOnResize:150,layoutOnInit:!0,layoutDuration:300,layoutEasing:"ease",sortData:null,dragEnabled:!1,dragContainer:null,dragHandle:null,dragStartPredicate:{distance:0,delay:0},dragAxis:"xy",dragSort:!0,dragSortHeuristics:{sortInterval:100,minDragDistance:10,minBounceBackAngle:1},dragSortPredicate:{threshold:50,action:Ua,migrateAction:Ua},dragRelease:{duration:300,easing:"ease",useDragContainer:!0},dragCssProps:{touchAction:"none",userSelect:"none",userDrag:"none",tapHighlightColor:"rgba(0, 0, 0, 0)",touchCallout:"none",contentZooming:"none"},dragPlaceholder:{enabled:!1,createElement:null,onCreate:null,onRemove:null},dragAutoScroll:{targets:[],handle:null,threshold:50,safeZone:.2,speed:Cn.smoothSpeed(1e3,2e3,2500),sortDuringScroll:!0,smoothStop:!1,onStart:null,onStop:null},containerClass:"muuri",itemClass:"muuri-item",itemVisibleClass:"muuri-item-shown",itemHiddenClass:"muuri-item-hidden",itemPositioningClass:"muuri-item-positioning",itemDraggingClass:"muuri-item-dragging",itemReleasingClass:"muuri-item-releasing",itemPlaceholderClass:"muuri-item-placeholder"};Zt.prototype.on=function(i,e){return this._emitter.on(i,e),this};Zt.prototype.off=function(i,e){return this._emitter.off(i,e),this};Zt.prototype.getElement=function(){return this._element};Zt.prototype.getItem=function(i){if(this._isDestroyed||!i&&i!==0)return null;if(typeof i===PI)return this._items[i>-1?i:this._items.length+i]||null;if(i instanceof di)return i._gridId===this._id?i:null;if(Pa){var e=Pa.get(i);return e&&e._gridId===this._id?e:null}else for(var t=0;t<this._items.length;t++)if(this._items[t]._element===i)return this._items[t];return null};Zt.prototype.getItems=function(i){if(this._isDestroyed||i===void 0)return this._items.slice(0);var e=[],t,n;if(Array.isArray(i)||lb(i))for(t=0;t<i.length;t++)n=this.getItem(i[t]),n&&e.push(n);else n=this.getItem(i),n&&e.push(n);return e};Zt.prototype.refreshItems=function(i,e){if(this._isDestroyed)return this;var t=i||this._items,n,r,s,l;if(e===!0)for(l=[],n=0;n<t.length;n++)r=t[n],!r.isVisible()&&!r.isHiding()&&(s=r.getElement().style,s.visibility="hidden",s.display="",l.push(s));for(n=0;n<t.length;n++)t[n]._refreshDimensions(e);if(e===!0){for(n=0;n<l.length;n++)s=l[n],s.visibility="",s.display="none";l.length=0}return this};Zt.prototype.refreshSortData=function(i){if(this._isDestroyed)return this;for(var e=i||this._items,t=0;t<e.length;t++)e[t]._refreshSortData();return this};Zt.prototype.synchronize=function(){if(this._isDestroyed)return this;var i=this._items;if(!i.length)return this;for(var e,t,n=0;n<i.length;n++)t=i[n]._element,t.parentNode===this._element&&(e=e||document.createDocumentFragment(),e.appendChild(t));return e?(this._element.appendChild(e),this._emit(kve),this):this};Zt.prototype.layout=function(i,e){if(this._isDestroyed)return this;var t=this._nextLayoutData;t&&ln(t.cancel)&&t.cancel(),bg=bg%Pve+1;var n=bg;this._nextLayoutData={id:n,instant:i,onFinish:e,cancel:null};for(var r=this._items,s=[],l=0;l<r.length;l++)r[l]._isActive&&s.push(r[l]);this._refreshDimensions();var o=this._width-this._borderLeft-this._borderRight,a=this._height-this._borderTop-this._borderBottom,u=this._settings.layout,c;return ln(u)?c=u(this,n,s,o,a,this._onLayoutDataReceived):(Zt.defaultPacker.setOptions(u),c=Zt.defaultPacker.createLayout(this,n,s,o,a,this._onLayoutDataReceived)),ln(c)&&this._nextLayoutData&&this._nextLayoutData.id===n&&(this._nextLayoutData.cancel=c),this};Zt.prototype.add=function(i,e){if(this._isDestroyed||!i)return[];var t=jbe(i);if(!t.length)return t;var n=e||{},r=n.layout?n.layout:n.layout===void 0,s=this._items,l=!1,o,a,u,c;for(c=0;c<t.length;c++)a=t[c],a.parentNode!==this._element&&(o=o||document.createDocumentFragment(),o.appendChild(a));for(o&&this._element.appendChild(o),c=0;c<t.length;c++)a=t[c],u=t[c]=new di(this,a,n.active),u._isActive&&(l=!0,u._layout._skipNextAnimation=!0);for(c=0;c<t.length;c++)u=t[c],u._refreshDimensions(),u._refreshSortData();return sb(s,t,n.index),this._hasListeners(P3)&&this._emit(P3,t.slice(0)),l&&r&&this.layout(r===Mo,ln(r)?r:void 0),t};Zt.prototype.remove=function(i,e){if(this._isDestroyed||!i.length)return[];var t=e||{},n=t.layout?t.layout:t.layout===void 0,r=!1,s=this.getItems(),l=[],o=[],a,u,c;for(c=0;c<i.length;c++)u=i[c],!u._isDestroyed&&(a=this._items.indexOf(u),a!==-1&&(u._isActive&&(r=!0),l.push(u),o.push(s.indexOf(u)),u._destroy(t.removeElements),this._items.splice(a,1)));return this._hasListeners(N3)&&this._emit(N3,l.slice(0),o),r&&n&&this.layout(n===Mo,ln(n)?n:void 0),l};Zt.prototype.show=function(i,e){return!this._isDestroyed&&i.length&&this._setItemsVisibility(i,!0,e),this};Zt.prototype.hide=function(i,e){return!this._isDestroyed&&i.length&&this._setItemsVisibility(i,!1,e),this};Zt.prototype.filter=function(i,e){if(this._isDestroyed||!this._items.length)return this;var t=[],n=[],r=typeof i===t_,s=ln(i),l=e||{},o=l.instant===!0,a=l.syncWithLayout,u=l.layout?l.layout:l.layout===void 0,c=ln(l.onFinish)?l.onFinish:null,f=-1,d=Rbe,m,p;if(c&&(d=function(){++f&&c(t.slice(0),n.slice(0))}),s||r)for(p=0;p<this._items.length;p++)m=this._items[p],(s?i(m):e_(m._element,i))?t.push(m):n.push(m);return t.length?this.show(t,{instant:o,syncWithLayout:a,onFinish:d,layout:!1}):d(),n.length?this.hide(n,{instant:o,syncWithLayout:a,onFinish:d,layout:!1}):d(),(t.length||n.length)&&(this._hasListeners(M3)&&this._emit(M3,t.slice(0),n.slice(0)),u&&this.layout(u===Mo,ln(u)?u:void 0)),this};Zt.prototype.sort=function(){var i,e,t,n;function r(l,o){for(var a=0,u,c,f,d,m=0;m<i.length;m++)if(u=i[m][0],c=i[m][1],f=(l._sortData?l:l._refreshSortData())._sortData[u],d=(o._sortData?o:o._refreshSortData())._sortData[u],c==="desc"||!c&&e?a=d<f?-1:d>f?1:0:a=f<d?-1:f>d?1:0,a)return a;return a||(n||(n=X3(t)),a=e?Ph(n,o,l):Ph(n,l,o)),a}function s(l,o){var a=e?-i(l,o):i(l,o);return a||(n||(n=X3(t)),a=e?Ph(n,o,l):Ph(n,l,o)),a}return function(l,o){if(this._isDestroyed||this._items.length<2)return this;var a=this._items,u=o||{},c=u.layout?u.layout:u.layout===void 0;if(e=!!u.descending,t=a.slice(0),n=null,ln(l))i=l,a.sort(s);else if(typeof l===t_)i=l.trim().split(" ").filter(function(f){return f}).map(function(f){return f.split(":")}),a.sort(r);else if(Array.isArray(l))a.length=0,a.push.apply(a,l);else throw i=e=t=n=null,new Error("Invalid comparer argument provided.");return this._hasListeners(L3)&&this._emit(L3,a.slice(0),t),c&&this.layout(c===Mo,ln(c)?c:void 0),i=e=t=n=null,this}}();Zt.prototype.move=function(i,e,t){if(this._isDestroyed||this._items.length<2)return this;var n=this._items,r=t||{},s=r.layout?r.layout:r.layout===void 0,l=r.action===Qs,o=l?Qs:Ua,a=this.getItem(i),u=this.getItem(e),c,f;return a&&u&&a!==u&&(c=n.indexOf(a),f=n.indexOf(u),l?wI(n,c,f):yI(n,c,f),this._hasListeners(Cm)&&this._emit(Cm,{item:a,fromIndex:c,toIndex:f,action:o}),s&&this.layout(s===Mo,ln(s)?s:void 0)),this};Zt.prototype.send=function(i,e,t,n){if(this._isDestroyed||e._isDestroyed||this===e)return this;if(i=this.getItem(i),!i)return this;var r=n||{},s=r.appendTo||document.body,l=r.layoutSender?r.layoutSender:r.layoutSender===void 0,o=r.layoutReceiver?r.layoutReceiver:r.layoutReceiver===void 0;return i._migrate.start(e,t,s),i._migrate._isActive&&i._isActive&&(l&&this.layout(l===Mo,ln(l)?l:void 0),o&&e.layout(o===Mo,ln(o)?o:void 0)),this};Zt.prototype.destroy=function(i){if(this._isDestroyed)return this;var e=this._element,t=this._items.slice(0),n=this._layout&&this._layout.styles||{},r,s;for(Hbe(this),r=0;r<t.length;r++)t[r]._destroy(i);this._items.length=0,ur(e,this._settings.containerClass);for(s in n)e.style[s]="";return this._emit(Ave),this._emitter.destroy(),delete Zp[this._id],this._isDestroyed=!0,this};Zt.prototype._emit=function(){this._isDestroyed||this._emitter.emit.apply(this._emitter,arguments)};Zt.prototype._hasListeners=function(i){return this._isDestroyed?!1:this._emitter.countListeners(i)>0};Zt.prototype._updateBoundingRect=function(){var i=this._element,e=i.getBoundingClientRect();this._width=e.width,this._height=e.height,this._left=e.left,this._top=e.top,this._right=e.right,this._bottom=e.bottom};Zt.prototype._updateBorders=function(i,e,t,n){var r=this._element;i&&(this._borderLeft=us(r,"border-left-width")),e&&(this._borderRight=us(r,"border-right-width")),t&&(this._borderTop=us(r,"border-top-width")),n&&(this._borderBottom=us(r,"border-bottom-width"))};Zt.prototype._refreshDimensions=function(){this._updateBoundingRect(),this._updateBorders(1,1,1,1),this._boxSizing=Lr(this._element,"box-sizing")};Zt.prototype._onLayoutDataReceived=function(){var i=[];return function(e){if(!(this._isDestroyed||!this._nextLayoutData||this._nextLayoutData.id!==e.id)){var t=this,n=this._nextLayoutData.instant,r=this._nextLayoutData.onFinish,s=e.items.length,l=s,o,a,u,c;for(this._nextLayoutData=null,!this._isLayoutFinished&&this._hasListeners(A3)&&this._emit(A3,this._layout.items.slice(0)),this._layout=e,i.length=0,c=0;c<s;c++){if(o=e.items[c],!o){--l;continue}if(a=e.slots[c*2],u=e.slots[c*2+1],o._canSkipLayout(a,u)){--l;continue}o._left=a,o._top=u,o.isActive()&&!o.isDragging()?i.push(o):--l}if(e.styles&&dc(this._element,e.styles),!(this._hasListeners(Po)&&(this._emit(Po,e.items.slice(0),n===!0),this._layout.id!==e.id))){var f=function(){if(!(--l>0)){var d=t._layout.id!==e.id,m=ln(n)?n:r;d||(t._isLayoutFinished=!0),ln(m)&&m(e.items.slice(0),d),!d&&t._hasListeners(T3)&&t._emit(T3,e.items.slice(0))}};if(!i.length)return f(),this;for(this._isLayoutFinished=!1,c=0;c<i.length&&this._layout.id===e.id;c++)i[c]._layout.start(n===!0,f);return this._layout.id===e.id&&(i.length=0),this}}}}();Zt.prototype._setItemsVisibility=function(i,e,t){var n=this,r=i.slice(0),s=t||{},l=s.instant===!0,o=s.onFinish,a=s.layout?s.layout:s.layout===void 0,u=r.length,c=e?yve:td,f=e?wve:$ve,d=e?"show":"hide",m=!1,p=[],g=[],k,$;if(!u){ln(o)&&o(r);return}for($=0;$<r.length;$++)k=r[$],(e&&!k._isActive||!e&&k._isActive)&&(m=!0),k._layout._skipNextAnimation=!!(e&&!k._isActive),e&&k._visibility._isHidden&&g.push(k),e?k._addToLayout():k._removeFromLayout();g.length&&(this.refreshItems(g,!0),g.length=0);function D(){for(m&&s.syncWithLayout!==!1&&n.off(Po,D),n._hasListeners(c)&&n._emit(c,r.slice(0)),$=0;$<r.length;$++){if(r[$]._gridId!==n._id){--u<1&&(ln(o)&&o(p.slice(0)),n._hasListeners(f)&&n._emit(f,p.slice(0)));continue}r[$]._visibility[d](l,function(F,C){F||p.push(C),--u<1&&(ln(o)&&o(p.slice(0)),n._hasListeners(f)&&n._emit(f,p.slice(0)))})}}m&&s.syncWithLayout!==!1?this.on(Po,D):D(),m&&a&&this.layout(a===Mo,ln(a)?a:void 0)};function Ybe(i,e){var t=Lf({},i);return e&&(t=Lf(t,e)),e&&e.visibleStyles?t.visibleStyles=e.visibleStyles:i&&i.visibleStyles&&(t.visibleStyles=i.visibleStyles),e&&e.hiddenStyles?t.hiddenStyles=e.hiddenStyles:i&&i.hiddenStyles&&(t.hiddenStyles=i.hiddenStyles),t}function Lf(i,e){var t=Object.keys(e),n=t.length,r,s,l;for(l=0;l<n;l++){if(s=t[l],r=Z3(e[s]),Z3(i[s])&&r){i[s]=Lf(Lf({},i[s]),e[s]);continue}if(r){i[s]=Lf({},e[s]);continue}if(Array.isArray(e[s])){i[s]=e[s].slice(0);continue}i[s]=e[s]}return i}function Ube(i,e){if(e==="*")return i.children;if(typeof e===t_){for(var t=[],n=i.children,r=0;r<n.length;r++)e_(n[r],e)&&t.push(n[r]);return t}return Array.isArray(e)||lb(e)?e:[]}function qbe(i,e){typeof e!==PI&&(e=e===!0?0:-1),e>=0&&(i._resizeHandler=Mbe(function(){i.refreshItems().layout()},e),window.addEventListener("resize",i._resizeHandler))}function Hbe(i){i._resizeHandler&&(i._resizeHandler(!0),window.removeEventListener("resize",i._resizeHandler),i._resizeHandler=null)}function x3(i){var e={},t=document.documentElement.style,n,r;for(n in i)!i[n]||(r=Xp(t,n),r&&(e[r]=i[n]));return e}function X3(i){for(var e={},t=0;t<i.length;t++)e[i[t]._id]=t;return e}function Ph(i,e,t){var n=i[e._id],r=i[t._id];return n-r}function K3(i,e,t){const n=i.slice();return n[23]=e[t],n[25]=t,n}const Wbe=i=>({item:i&32,index:i&32}),J3=i=>({item:i[23],index:i[25]});function Q3(i,e){let t,n,r,s,l,o,a;const u=e[15].default,c=He(u,e,e[14],J3);return{key:i,first:null,c(){t=A("div"),n=A("div"),r=Y(),c&&c.c(),s=Y(),h(n,"class","item-content"),h(t,"class",l="item "+(e[0]=="x"?"mx-1":"")),h(t,"data-item",o=JSON.stringify(e[23])),this.first=t},m(f,d){w(f,t,d),E(t,n),E(t,r),c&&c.m(t,null),E(t,s),a=!0},p(f,d){e=f,c&&c.p&&(!a||d&16416)&&Ve(c,u,e,e[14],a?We(u,e[14],d,Wbe):Ge(e[14]),J3),(!a||d&1&&l!==(l="item "+(e[0]=="x"?"mx-1":"")))&&h(t,"class",l),(!a||d&32&&o!==(o=JSON.stringify(e[23])))&&h(t,"data-item",o)},i(f){a||(_(c,f),a=!0)},o(f){v(c,f),a=!1},d(f){f&&y(t),c&&c.d(f)}}}function Vbe(i){let e,t,n=[],r=new Map,s,l,o,a=i[5];const u=c=>c[3]?c[23][c[3]]:c[25];for(let c=0;c<a.length;c+=1){let f=K3(i,a,c),d=u(f);r.set(d,n[c]=Q3(d,f))}return{c(){e=A("div"),t=A("div");for(let c=0;c<n.length;c+=1)n[c].c();h(t,"class",s="sl2-grid flex "+i[1]+" dir-"+i[0]),h(e,"id",i[4]),h(e,"class",l="sortable-list2 "+i[2]+" h-full w-full")},m(c,f){w(c,e,f),E(e,t);for(let d=0;d<n.length;d+=1)n[d].m(t,null);i[16](e),o=!0},p(c,[f]){f&16425&&(a=c[5],ie(),n=qn(n,f,u,1,c,a,r,t,Ci,Q3,null,K3),re()),(!o||f&3&&s!==(s="sl2-grid flex "+c[1]+" dir-"+c[0]))&&h(t,"class",s),(!o||f&16)&&h(e,"id",c[4]),(!o||f&4&&l!==(l="sortable-list2 "+c[2]+" h-full w-full"))&&h(e,"class",l)},i(c){if(!o){for(let f=0;f<a.length;f+=1)_(n[f]);o=!0}},o(c){for(let f=0;f<n.length;f+=1)v(n[f]);o=!1},d(c){c&&y(e);for(let f=0;f<n.length;f+=1)n[f].d();i[16](null)}}}function Gbe(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=Dt();let{items:l=[]}=e,{sortable:o=!0}=e,{direction:a="xy"}=e,{className:u=""}=e,{containerClass:c=""}=e,{handleClass:f=void 0}=e,{key:d}=e,{id:m=`sl2-${pn()}`}=e,{enabled:p=!0}=e,g=[],k,$,D=!1,F;const C=()=>({items:"*",showDuration:300,showEasing:"ease",hideDuration:300,hideEasing:"ease",dragAutoScroll:{targets:[{element:window,priority:0,axis:Zt.AutoScroller.AXIS_Y},{element:$,priority:1,axis:a=="x"?Zt.AutoScroller.AXIS_X:Zt.AutoScroller.AXIS_Y}]},visibleStyles:{opacity:"1",transform:"scale(1)"},hiddenStyles:{opacity:"0",transform:"scale(0.5)"},layout:{fillGaps:!1,horizontal:a==="x",alignRight:!1,alignBottom:!1,rounding:!1},layoutOnResize:150,layoutOnInit:!0,layoutDuration:300,layoutEasing:"ease",sortData:null,dragEnabled:p,dragContainer:null,dragHandle:f,dragStartPredicate:{distance:0,delay:0},dragAxis:a,dragSort:!0,dragSortHeuristics:{sortInterval:100,minDragDistance:10,minBounceBackAngle:1},dragSortPredicate:{threshold:50,action:"move",migrateAction:"move"},dragRelease:{duration:300,easing:"ease",useDragContainer:!0},dragCssProps:{touchAction:"none",userSelect:"none",userDrag:"none",tapHighlightColor:"rgba(0, 0, 0, 0)",touchCallout:"none",contentZooming:"none"},dragPlaceholder:{enabled:!0,createElement:null,onCreate:null,onRemove:null},containerClass:"muuri",itemClass:"muuri-item",itemVisibleClass:"muuri-item-shown",itemHiddenClass:"muuri-item-hidden",itemPositioningClass:"muuri-item-positioning",itemDraggingClass:"muuri-item-dragging",itemReleasingClass:"muuri-item-releasing",itemPlaceholderClass:"muuri-item-placeholder"});let S,P=!1;const I=z=>{P?(clearTimeout(S),S=setTimeout(()=>{s("update",z)},1e3)):P=!0};function R(){t(11,k=new Zt(`#${m} .sl2-grid`,C())),k.on("layoutEnd",function(z){let q=z.map(H=>JSON.parse(H._element.getAttribute("data-item")));I(q)}),t(12,D=!0)}wt(()=>{R()});function B(z){De[z?"unshift":"push"](()=>{$=z,t(6,$)})}return i.$$set=z=>{"items"in z&&t(7,l=z.items),"sortable"in z&&t(8,o=z.sortable),"direction"in z&&t(0,a=z.direction),"className"in z&&t(1,u=z.className),"containerClass"in z&&t(2,c=z.containerClass),"handleClass"in z&&t(9,f=z.handleClass),"key"in z&&t(3,d=z.key),"id"in z&&t(4,m=z.id),"enabled"in z&&t(10,p=z.enabled),"$$scope"in z&&t(14,r=z.$$scope)},i.$$.update=()=>{if(i.$$.dirty&128&&l&&l.length&&t(5,g=[...l]),i.$$.dirty&14624&&D&&k&&g.length!==F&&o)try{t(13,F=g.length),k.refreshItems(k.getItems(),!0).layout()}catch(z){console.error(`${z.message}`)}},[a,u,c,d,m,g,$,l,o,f,p,k,D,F,r,n,B]}class jc extends ce{constructor(e){super(),ue(this,e,Gbe,Vbe,le,{items:7,sortable:8,direction:0,className:1,containerClass:2,handleClass:9,key:3,id:4,enabled:10})}}function e4(i,e,t){const n=i.slice();return n[21]=e[t],n}function t4(i,e,t){const n=i.slice();return n[27]=e[t],n}function n4(i,e,t){const n=i.slice();return n[24]=e[t],n}function i4(i,e,t){const n=i.slice();return n[30]=e[t],n}function r4(i,e,t){const n=i.slice();return n[33]=e[t],n}const Zbe=i=>({}),s4=i=>({}),xbe=i=>({}),l4=i=>({});function Xbe(i){let e;return{c(){e=A("div"),e.textContent="else this:",h(e,"class","filler text-lg font-bold")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Kbe(i){let e;return{c(){e=A("div"),e.textContent="If this:",h(e,"class","filler text-lg font-bold")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function o4(i){let e,t=i[4](i[33])+"",n;return{c(){e=A("option"),n=Z(t),e.__value=i[33],e.value=e.__value},m(r,s){w(r,e,s),E(e,n)},p:W,d(r){r&&y(e)}}}function a4(i){let e,t=i[5](i[30])+"",n;return{c(){e=A("option"),n=Z(t),e.__value=i[30],e.value=e.__value},m(r,s){w(r,e,s),E(e,n)},p:W,d(r){r&&y(e)}}}function Jbe(i){let e,t,n,r=i[6](),s=[];for(let l=0;l<r.length;l+=1)s[l]=u4(t4(i,r,l));return{c(){e=A("select");for(let l=0;l<s.length;l+=1)s[l].c();h(e,"aria-label","Day of the Month"),h(e,"class","condition-select w-12"),i[2].v===void 0&&Rn(()=>i[16].call(e))},m(l,o){w(l,e,o);for(let a=0;a<s.length;a+=1)s[a].m(e,null);gn(e,i[2].v),t||(n=ke(e,"change",i[16]),t=!0)},p(l,o){if(o[0]&64){r=l[6]();let a;for(a=0;a<r.length;a+=1){const u=t4(l,r,a);s[a]?s[a].p(u,o):(s[a]=u4(u),s[a].c(),s[a].m(e,null))}for(;a<s.length;a+=1)s[a].d(1);s.length=r.length}o[0]&4&&gn(e,l[2].v)},d(l){l&&y(e),it(s,l),t=!1,n()}}}function Qbe(i){let e,t,n,r=i[7](),s=[];for(let l=0;l<r.length;l+=1)s[l]=c4(n4(i,r,l));return{c(){e=A("select");for(let l=0;l<s.length;l+=1)s[l].c();h(e,"aria-label","Hour of the Day"),h(e,"class","condition-select w-12"),i[2].v===void 0&&Rn(()=>i[15].call(e))},m(l,o){w(l,e,o);for(let a=0;a<s.length;a+=1)s[a].m(e,null);gn(e,i[2].v),t||(n=ke(e,"change",i[15]),t=!0)},p(l,o){if(o[0]&128){r=l[7]();let a;for(a=0;a<r.length;a+=1){const u=n4(l,r,a);s[a]?s[a].p(u,o):(s[a]=c4(u),s[a].c(),s[a].m(e,null))}for(;a<s.length;a+=1)s[a].d(1);s.length=r.length}o[0]&4&&gn(e,l[2].v)},d(l){l&&y(e),it(s,l),t=!1,n()}}}function e2e(i){let e;function t(s,l){var o,a,u;return((o=s[1])==null?void 0:o.type)=="tracker"&&((u=(a=s[1])==null?void 0:a.tracker)==null?void 0:u.type)=="timer"?n2e:t2e}let n=t(i),r=n(i);return{c(){r.c(),e=$e()},m(s,l){r.m(s,l),w(s,e,l)},p(s,l){n===(n=t(s))&&r?r.p(s,l):(r.d(1),r=n(s),r&&(r.c(),r.m(e.parentNode,e)))},d(s){r.d(s),s&&y(e)}}}function u4(i){let e,t=i[27].value+"",n;return{c(){e=A("option"),n=Z(t),e.__value=i[27].index,e.value=e.__value},m(r,s){w(r,e,s),E(e,n)},p:W,d(r){r&&y(e)}}}function c4(i){let e,t=i[24].value+"",n;return{c(){e=A("option"),n=Z(t),e.__value=i[24].index,e.value=e.__value},m(r,s){w(r,e,s),E(e,n)},p:W,d(r){r&&y(e)}}}function t2e(i){let e,t,n;return{c(){e=A("input"),h(e,"class","condition-select w-12 lg:w-14"),h(e,"aria-label","Value to Compare against")},m(r,s){w(r,e,s),mn(e,i[2].v),t||(n=ke(e,"input",i[14]),t=!0)},p(r,s){s[0]&4&&e.value!==r[2].v&&mn(e,r[2].v)},d(r){r&&y(e),t=!1,n()}}}function n2e(i){let e,t,n,r;return{c(){e=A("input"),h(e,"aria-label","Value to Compare against"),h(e,"class","condition-select w-12 lg:w-14"),e.readOnly=!0,e.value=t=i[1].formatValue(i[2].v)},m(s,l){w(s,e,l),n||(r=ke(e,"click",i[13]),n=!0)},p(s,l){l[0]&6&&t!==(t=s[1].formatValue(s[2].v))&&e.value!==t&&(e.value=t)},d(s){s&&y(e),n=!1,r()}}}function f4(i){let e=`${i[21].score} === ${i[2].sc}`,t,n,r=i[21].emoji+"",s,l;return{c(){t=Z(e),n=A("option"),s=Z(r),n.selected=l=`${i[21].score}`==`${i[2].sc}`,n.__value=`${i[21].score}`,n.value=n.__value},m(o,a){w(o,t,a),w(o,n,a),E(n,s)},p(o,a){a[0]&4&&e!==(e=`${o[21].score} === ${o[2].sc}`)&&oe(t,e),a[0]&4&&l!==(l=`${o[21].score}`==`${o[2].sc}`)&&(n.selected=l)},d(o){o&&y(t),o&&y(n)}}}function i2e(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p,g,k,$;const D=i[10].left,F=He(D,i,i[9],l4);function C(x,ee){return x[0]===0?Kbe:Xbe}let S=C(i),P=S(i);const I=i[10].right,R=He(I,i,i[9],s4);let B=uk,z=[];for(let x=0;x<B.length;x+=1)z[x]=o4(r4(i,B,x));let q=ck,H=[];for(let x=0;x<q.length;x+=1)H[x]=a4(i4(i,q,x));function K(x,ee){if(x[2].if==="value")return e2e;if(x[2].if==="hour")return Qbe;if(x[2].if==="month")return Jbe}let G=K(i),U=G&&G(i),Q=or.positivity,V=[];for(let x=0;x<Q.length;x+=1)V[x]=f4(e4(i,Q,x));return{c(){e=A("div"),t=A("header"),F&&F.c(),n=Y(),P.c(),r=Y(),s=A("div"),R&&R.c(),l=Y(),o=A("main"),a=A("select");for(let x=0;x<z.length;x+=1)z[x].c();u=Y(),c=A("select");for(let x=0;x<H.length;x+=1)H[x].c();f=Y(),U&&U.c(),d=Y(),m=A("select");for(let x=0;x<V.length;x+=1)V[x].c();h(s,"class","filler flex justify-end"),h(t,"class","header px-2 flex w-full items-center justify-center"),h(a,"aria-label","Compare to What?"),h(a,"class","condition-select"),i[2].if===void 0&&Rn(()=>i[11].call(a)),h(c,"aria-label","Comparison Value IS"),h(c,"class","condition-select"),i[2].is===void 0&&Rn(()=>i[12].call(c)),h(m,"class","condition-select emoji"),h(o,"class","condition-group px-8 w-full"),h(e,"class","w-full py-2 flex flex-col items-center text-black dark:text-white")},m(x,ee){w(x,e,ee),E(e,t),F&&F.m(t,null),E(t,n),P.m(t,null),E(t,r),E(t,s),R&&R.m(s,null),E(e,l),E(e,o),E(o,a);for(let J=0;J<z.length;J+=1)z[J].m(a,null);gn(a,i[2].if),E(o,u),E(o,c);for(let J=0;J<H.length;J+=1)H[J].m(c,null);gn(c,i[2].is),E(o,f),U&&U.m(o,null),E(o,d),E(o,m);for(let J=0;J<V.length;J+=1)V[J].m(m,null);gn(m,`${i[2].sc}`),g=!0,k||($=[ke(a,"change",i[11]),ke(c,"change",i[12]),ke(m,"change",i[17])],k=!0)},p(x,ee){if(F&&F.p&&(!g||ee[0]&512)&&Ve(F,D,x,x[9],g?We(D,x[9],ee,xbe):Ge(x[9]),l4),S!==(S=C(x))&&(P.d(1),P=S(x),P&&(P.c(),P.m(t,r))),R&&R.p&&(!g||ee[0]&512)&&Ve(R,I,x,x[9],g?We(I,x[9],ee,Zbe):Ge(x[9]),s4),ee[0]&16){B=uk;let J;for(J=0;J<B.length;J+=1){const se=r4(x,B,J);z[J]?z[J].p(se,ee):(z[J]=o4(se),z[J].c(),z[J].m(a,null))}for(;J<z.length;J+=1)z[J].d(1);z.length=B.length}if(ee[0]&4&&gn(a,x[2].if),ee[0]&32){q=ck;let J;for(J=0;J<q.length;J+=1){const se=i4(x,q,J);H[J]?H[J].p(se,ee):(H[J]=a4(se),H[J].c(),H[J].m(c,null))}for(;J<H.length;J+=1)H[J].d(1);H.length=q.length}if(ee[0]&4&&gn(c,x[2].is),G===(G=K(x))&&U?U.p(x,ee):(U&&U.d(1),U=G&&G(x),U&&(U.c(),U.m(o,d))),ee[0]&4){Q=or.positivity;let J;for(J=0;J<Q.length;J+=1){const se=e4(x,Q,J);V[J]?V[J].p(se,ee):(V[J]=f4(se),V[J].c(),V[J].m(m,null))}for(;J<V.length;J+=1)V[J].d(1);V.length=Q.length}(!g||ee[0]&4&&p!==(p=`${x[2].sc}`))&&gn(m,`${x[2].sc}`)},i(x){g||(_(F,x),_(R,x),g=!0)},o(x){v(F,x),v(R,x),g=!1},d(x){x&&y(e),F&&F.d(x),P.d(),R&&R.d(x),it(z,x),it(H,x),U&&U.d(),it(V,x),k=!1,pt($)}}}function r2e(i,e,t){let n,r;Ee(i,St,R=>t(18,n=R)),Ee(i,It,R=>t(19,r=R));let{$$slots:s={},$$scope:l}=e,{condition:o}=e,{index:a}=e,{trackable:u}=e,c;const f=Dt(),d=async()=>{const R=await Vb(u,r.trackables,"Add Condition \u2192",{value:o.v});t(2,c.v=R.value,c)},m=R=>R=="value"?"Value":R=="hour"?"Hour":R=="month"?"Day":"Value",p=R=>R==="gt"?">":R==="gte"?">=":R==="lt"?"<":R==="lte"?"<=":(R==="eq","="),g=()=>{let R=[];for(let B=0;B<31;B++)R.push({value:jO(B+1),index:B+1});return R},k=()=>{let R=[];for(let B=0;B<24;B++){let z=we().startOf("day").add(B,"hour");R.push({value:n.use24hour?z.format("HH:mm"):z.format("h:mm a"),index:B+1})}return R};function $(){c.if=Ks(this),t(2,c),t(8,o)}function D(){c.is=Ks(this),t(2,c),t(8,o)}const F=()=>d();function C(){c.v=this.value,t(2,c),t(8,o)}function S(){c.v=Ks(this),t(2,c),t(8,o)}function P(){c.v=Ks(this),t(2,c),t(8,o)}const I=R=>{t(2,c.sc=Nn(R.target.value),c)};return i.$$set=R=>{"condition"in R&&t(8,o=R.condition),"index"in R&&t(0,a=R.index),"trackable"in R&&t(1,u=R.trackable),"$$scope"in R&&t(9,l=R.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&260&&!c&&o&&t(2,c={...o}),i.$$.dirty[0]&4&&c&&f("change",c)},[a,u,c,d,m,p,g,k,o,l,s,$,D,F,C,S,P,I]}class s2e extends ce{constructor(e){super(),ue(this,e,r2e,i2e,le,{condition:8,index:0,trackable:1},null,[-1,-1])}}function l2e(i){let e;return{c(){e=Z("Positivity Editor")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function o2e(i){let e=i[0].trackable.label+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p(n,r){r&1&&e!==(e=n[0].trackable.label+"")&&oe(t,e)},d(n){n&&y(t)}}}function a2e(i){let e;function t(s,l){return s[0].trackable?o2e:l2e}let n=t(i),r=n(i);return{c(){e=A("h1"),r.c(),h(e,"class","ntitle")},m(s,l){w(s,e,l),r.m(e,null)},p(s,l){n===(n=t(s))&&r?r.p(s,l):(r.d(1),r=n(s),r&&(r.c(),r.m(e,null)))},d(s){s&&y(e),r.d()}}}function u2e(i){let e;return{c(){e=Z("Cancel")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function c2e(i){let e,t;return e=new Me({props:{clear:!0,primary:!0,slot:"left",$$slots:{default:[u2e]},$$scope:{ctx:i}}}),e.$on("click",i[3]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&131072&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function f2e(i){let e;return{c(){e=Z("Done")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function d2e(i){let e,t;return e=new Me({props:{clear:!0,primary:!0,slot:"right",$$slots:{default:[f2e]},$$scope:{ctx:i}}}),e.$on("click",i[4]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&131072&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function d4(i){let e,t,n;function r(l){i[11](l)}let s={direction:"y",handleClass:"menu-handle",key:"key",$$slots:{default:[g2e,({item:l,index:o})=>({15:l,16:o}),({item:l,index:o})=>(l?32768:0)|(o?65536:0)]},$$scope:{ctx:i}};return i[1]!==void 0&&(s.items=i[1]),e=new jc({props:s}),De.push(()=>Ue(e,"items",r,i[1])),e.$on("update",i[12]),{c(){O(e.$$.fragment)},m(l,o){N(e,l,o),n=!0},p(l,o){const a={};o&229379&&(a.$$scope={dirty:o,ctx:l}),!t&&o&2&&(t=!0,a.items=l[1],qe(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){M(e,l)}}}function h2e(i){let e,t;return e=new je({props:{icon:Xu,className:"text-gray-500"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function m2e(i){let e,t;return e=new Me({props:{slot:"right",icon:!0,className:"menu-handle",$$slots:{default:[h2e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&131072&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function p2e(i){let e,t;return e=new je({props:{icon:pl,className:"text-gray-500"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function _2e(i){let e,t;function n(){return i[9](i[15])}return e=new Me({props:{slot:"left",icon:!0,className:"",$$slots:{default:[p2e]},$$scope:{ctx:i}}}),e.$on("click",n),{c(){O(e.$$.fragment)},m(r,s){N(e,r,s),t=!0},p(r,s){i=r;const l={};s&131072&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){M(e,r)}}}function g2e(i){let e,t;function n(...r){return i[10](i[16],...r)}return e=new s2e({props:{condition:i[15],index:i[16],trackable:i[0].trackable,$$slots:{left:[_2e],right:[m2e]},$$scope:{ctx:i}}}),e.$on("change",n),{c(){O(e.$$.fragment)},m(r,s){N(e,r,s),t=!0},p(r,s){i=r;const l={};s&32768&&(l.condition=i[15]),s&65536&&(l.index=i[16]),s&1&&(l.trackable=i[0].trackable),s&163840&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){M(e,r)}}}function v2e(i){let e,t,n=i[2]&&d4(i);return{c(){n&&n.c(),e=$e()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,s){r[2]?n?(n.p(r,s),s&4&&_(n,1)):(n=d4(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ie(),v(n,1,1,()=>{n=null}),re())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function b2e(i){let e;return{c(){e=A("div"),e.textContent=`${_e.t("score.add-condition","Add Condition")}...`,h(e,"class","text-center text-primary-500 pb-2")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function k2e(i){let e,t,n,r,s,l,o,a,u,c,f;return e=new Jt({props:{$$slots:{right:[d2e],left:[c2e],default:[a2e]},$$scope:{ctx:i}}}),r=new Ft({props:{solo:!0,$$slots:{default:[v2e]},$$scope:{ctx:i}}}),l=new xe({props:{className:"mt-2 pb-2",$$slots:{default:[b2e]},$$scope:{ctx:i}}}),l.$on("click",i[13]),c=new xe({}),{c(){O(e.$$.fragment),t=Y(),n=A("div"),O(r.$$.fragment),s=Y(),O(l.$$.fragment),o=Y(),a=A("div"),a.textContent="Add a single condition or a lot of them. The first thing that is true wins, and its score is used.",u=Y(),O(c.$$.fragment),h(n,"class","lg:px-2 md:px-1 py-4 filler"),h(a,"class","list-note")},m(d,m){N(e,d,m),w(d,t,m),w(d,n,m),N(r,n,null),E(n,s),N(l,n,null),w(d,o,m),w(d,a,m),w(d,u,m),N(c,d,m),f=!0},p(d,m){const p={};m&131073&&(p.$$scope={dirty:m,ctx:d}),e.$set(p);const g={};m&131079&&(g.$$scope={dirty:m,ctx:d}),r.$set(g);const k={};m&131072&&(k.$$scope={dirty:m,ctx:d}),l.$set(k)},i(d){f||(_(e.$$.fragment,d),_(r.$$.fragment,d),_(l.$$.fragment,d),_(c.$$.fragment,d),f=!0)},o(d){v(e.$$.fragment,d),v(r.$$.fragment,d),v(l.$$.fragment,d),v(c.$$.fragment,d),f=!1},d(d){M(e,d),d&&y(t),d&&y(n),M(r),M(l),d&&y(o),d&&y(a),d&&y(u),M(c,d)}}}function y2e(i){let e,t;return e=new _n({props:{className:"bg-gray-200 dark:bg-gray-800 h-full",$$slots:{default:[k2e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&131079&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function w2e(i,e,t){let{id:n}=e,{props:r}=e,s=[],l=!1;const o=D=>D.filter((F,C)=>{let S=D.findIndex(P=>P.key==F.key);return!(S>-1&&S!==C)});wt(()=>{r.calc.length&&t(1,s=o([...r.calc].filter(D=>D).map(D=>(D.key=ul(JSON.stringify(D)),D)))),s.length==0&&f(),t(2,l=!0)});const a=()=>{Ot(n)},u=()=>{r.onComplete&&(r.onComplete(s),a())},c=async()=>{t(2,l=!1),await Et(10),t(2,l=!0)},f=()=>{let D={is:"eq",sc:1,v:0,if:"value"};D.key=pn(),s.push(D),t(1,s),c()},d=async D=>{await Xe.confirm("Remove this condition?")&&t(1,s=s.filter(C=>C!==D)),c()},m=D=>d(D),p=(D,F)=>{t(1,s[D]=F.detail,s),t(1,s)};function g(D){s=D,t(1,s)}const k=D=>{t(1,s=D.detail),c()},$=()=>f();return i.$$set=D=>{"id"in D&&t(8,n=D.id),"props"in D&&t(0,r=D.props)},[r,s,l,a,u,c,f,d,n,m,p,g,k,$]}class $2e extends ce{constructor(e){super(),ue(this,e,w2e,y2e,le,{id:8,props:0})}}const h4=i=>{var e;i.trackable&&(i.calc=i.trackable.tracker.score_calc||[]),en({id:`score-editor-${encodeURIComponent((e=i.trackable)==null?void 0:e.tag)}`,component:$2e,componentProps:{props:i}})};function m4(i,e,t){const n=i.slice();return n[9]=e[t],n}function p4(i){let e,t,n,r,s,l;function o(c){i[4](c)}let a={listItem:!0,type:"select",placeholder:"Select a Positivity",label:_e.t("tracker.positivity","Positivity"),$$slots:{left:[E2e],default:[F2e]},$$scope:{ctx:i}};i[0].score!==void 0&&(a.value=i[0].score),t=new fn({props:a}),De.push(()=>Ue(t,"value",o,i[0].score)),t.$on("input",i[3].change);let u=i[0].score==="custom"&&v4(i);return{c(){e=A("div"),O(t.$$.fragment),r=Y(),u&&u.c(),h(e,"class",s=rm(i[1])+" svelte-tpi3hm")},m(c,f){w(c,e,f),N(t,e,null),E(e,r),u&&u.m(e,null),l=!0},p(c,f){const d={};f&4097&&(d.$$scope={dirty:f,ctx:c}),!n&&f&1&&(n=!0,d.value=c[0].score,qe(()=>n=!1)),t.$set(d),c[0].score==="custom"?u?(u.p(c,f),f&1&&_(u,1)):(u=v4(c),u.c(),_(u,1),u.m(e,null)):u&&(ie(),v(u,1,1,()=>{u=null}),re()),(!l||f&2&&s!==(s=rm(c[1])+" svelte-tpi3hm"))&&h(e,"class",s)},i(c){l||(_(t.$$.fragment,c),_(u),l=!0)},o(c){v(t.$$.fragment,c),v(u),l=!1},d(c){c&&y(e),M(t),u&&u.d()}}}function _4(i){let e,t=i[9].emoji+"",n,r,s=i[9].label+"",l;return{c(){e=A("option"),n=Z(t),r=Y(),l=Z(s),e.__value=`${i[9].score}`,e.value=e.__value},m(o,a){w(o,e,a),E(e,n),E(e,r),E(e,l)},p:W,d(o){o&&y(e)}}}function F2e(i){let e,t,n=or.positivity,r=[];for(let s=0;s<n.length;s+=1)r[s]=_4(m4(i,n,s));return{c(){for(let s=0;s<r.length;s+=1)r[s].c();e=Y(),t=A("option"),t.textContent=`\u{1F6E0} ${_e.t("general.customize"," Custom")}`,t.__value="custom",t.value=t.__value},m(s,l){for(let o=0;o<r.length;o+=1)r[o].m(s,l);w(s,e,l),w(s,t,l)},p(s,l){if(l&0){n=or.positivity;let o;for(o=0;o<n.length;o+=1){const a=m4(s,n,o);r[o]?r[o].p(a,l):(r[o]=_4(a),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(s){it(r,s),s&&y(e),s&&y(t)}}}function g4(i){let e;return{c(){e=A("div"),e.textContent=`\u{1F610} ${_e.t("tracker.neutral","Neutral")}`,h(e,"class","pl-2")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function E2e(i){let e,t=!i[0].score&&g4();return{c(){e=A("div"),t&&t.c(),h(e,"slot","left"),h(e,"class","pt-3 text-black dark:text-white")},m(n,r){w(n,e,r),t&&t.m(e,null)},p(n,r){n[0].score?t&&(t.d(1),t=null):t?t.p(n,r):(t=g4(),t.c(),t.m(e,null))},d(n){n&&y(e),t&&t.d()}}}function v4(i){let e,t,n=!i[2].showConditionForm&&b4(i);return{c(){e=A("section"),n&&n.c(),h(e,"class","points-editor")},m(r,s){w(r,e,s),n&&n.m(e,null),t=!0},p(r,s){r[2].showConditionForm?n&&(ie(),v(n,1,1,()=>{n=null}),re()):n?(n.p(r,s),s&4&&_(n,1)):(n=b4(r),n.c(),_(n,1),n.m(e,null))},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){r&&y(e),n&&n.d()}}}function b4(i){let e,t,n,r;return e=new Tn({props:{center:!0}}),n=new xe({props:{$$slots:{default:[D2e]},$$scope:{ctx:i}}}),n.$on("click",i[5]),{c(){O(e.$$.fragment),t=Y(),O(n.$$.fragment)},m(s,l){N(e,s,l),w(s,t,l),N(n,s,l),r=!0},p(s,l){const o={};l&4097&&(o.$$scope={dirty:l,ctx:s}),n.$set(o)},i(s){r||(_(e.$$.fragment,s),_(n.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(n.$$.fragment,s),r=!1},d(s){M(e,s),s&&y(t),M(n,s)}}}function D2e(i){var l;let e,t,n=(((l=i[0].score_calc)==null?void 0:l.length)||"")+"",r,s;return{c(){e=A("div"),t=Z("Edit "),r=Z(n),s=Z(" Conditions"),h(e,"class","text-center text-primary-500")},m(o,a){w(o,e,a),E(e,t),E(e,r),E(e,s)},p(o,a){var u;a&1&&n!==(n=(((u=o[0].score_calc)==null?void 0:u.length)||"")+"")&&oe(r,n)},d(o){o&&y(e)}}}function C2e(i){let e,t,n=i[0]&&p4(i);return{c(){n&&n.c(),e=$e()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,[s]){r[0]?n?(n.p(r,s),s&1&&_(n,1)):(n=p4(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ie(),v(n,1,1,()=>{n=null}),re())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function S2e(i,e,t){let n,r;Ee(i,It,d=>t(6,n=d)),Ee(i,St,d=>t(7,r=d));let{tracker:s=void 0}=e,{className:l=""}=e;const o=Dt();let a={showConditionForm:!1,genesisCalc:new bve({}),selectedIndex:-1};const u={async change(){await Et(10),o("trackerChange",s),s.score=="custom"&&!s.score_calc&&h4({trackable:s.toTrackable(),show:!0,onComplete(d){t(0,s.score_calc=d,s)}})},newCondition(){t(2,a.showConditionForm=!0,a),u.change()},getDays(){let d=[];for(let m=0;m<31;m++)d.push({value:jO(m+1),index:m+1});return d},getHours(){let d=[];for(let m=0;m<24;m++){let p=we().startOf("day").add(m,"hour");d.push({value:r.use24hour?p.format("HH:mm"):p.format("h:mm a"),index:m+1})}return d},saveCondition(){t(0,s.score_calc=s.score_calc||[],s),s.score_calc.push({...a.genesisCalc}),t(2,a.showConditionForm=!1,a),u.change()},async save(){await qp({trackable:s.toTrackable(),known:n.trackables,permissions:{}})&&(o("save",s),un({message:`${s.label} saved`}))},removeCondition(d){t(0,s.score_calc=s.score_calc.filter((m,p)=>p!==d),s),u.change()}};function c(d){i.$$.not_equal(s.score,d)&&(s.score=d,t(0,s))}const f=()=>{h4({show:!0,trackable:s.toTrackable(),onComplete(d){t(0,s.score_calc=d,s)}})};return i.$$set=d=>{"tracker"in d&&t(0,s=d.tracker),"className"in d&&t(1,l=d.className)},[s,l,a,u,c,f]}class T2e extends ce{constructor(e){super(),ue(this,e,S2e,C2e,le,{tracker:0,className:1})}}function k4(i){let e,t;return e=new Me({props:{size:"sm",icon:!0,color:"success",className:"mr-2",$$slots:{default:[A2e]},$$scope:{ctx:i}}}),e.$on("click",i[12]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&4194304&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function A2e(i){let e;return{c(){e=Z("+")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function P2e(i){let e,t;return e=new je({props:{icon:bc,size:14}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function N2e(i){let e,t,n,r,s=i[2].length>2&&k4(i);return n=new Me({props:{size:"sm",icon:!0,color:"primary",className:"mr-2",$$slots:{default:[P2e]},$$scope:{ctx:i}}}),n.$on("click",i[4]),{c(){e=A("div"),s&&s.c(),t=Y(),O(n.$$.fragment),h(e,"slot","right"),h(e,"class","flex ml-1")},m(l,o){w(l,e,o),s&&s.m(e,null),E(e,t),N(n,e,null),r=!0},p(l,o){l[2].length>2?s?(s.p(l,o),o&4&&_(s,1)):(s=k4(l),s.c(),_(s,1),s.m(e,t)):s&&(ie(),v(s,1,1,()=>{s=null}),re());const a={};o&4194304&&(a.$$scope={dirty:o,ctx:l}),n.$set(a)},i(l){r||(_(s),_(n.$$.fragment,l),r=!0)},o(l){v(s),v(n.$$.fragment,l),r=!1},d(l){l&&y(e),s&&s.d(),M(n)}}}function M2e(i){let e,t,n;function r(l){i[13](l)}let s={listItem:!0,className:"px-4 py-0",label:"Add",placeholder:"e.g. #mood or @mom",$$slots:{right:[N2e]},$$scope:{ctx:i}};return i[2]!==void 0&&(s.value=i[2]),e=new fn({props:s}),De.push(()=>Ue(e,"value",r,i[2])),e.$on("enter",i[7]),{c(){O(e.$$.fragment)},m(l,o){N(e,l,o),n=!0},p(l,o){const a={};o&4194308&&(a.$$scope={dirty:o,ctx:l}),!t&&o&4&&(t=!0,a.value=l[2],qe(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){M(e,l)}}}function y4(i){let e,t;return e=new jc({props:{key:"id",direction:"y",sortable:!0,className:i[0],items:i[1],$$slots:{default:[z2e,({item:n})=>({21:n}),({item:n})=>n?2097152:0]},$$scope:{ctx:i}}}),e.$on("update",i[16]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.className=n[0]),r&2&&(s.items=n[1]),r&6291456&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function L2e(i){let e=i[21].label+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p(n,r){r&2097152&&e!==(e=n[21].label+"")&&oe(t,e)},d(n){n&&y(t)}}}function O2e(i){let e;return{c(){e=Z("-")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function I2e(i){let e,t,n,r,s;function l(){return i[15](i[21])}return t=new Me({props:{size:"sm",icon:!0,color:"danger",className:"mr-4 text-white bg-red-500",$$slots:{default:[O2e]},$$scope:{ctx:i}}}),t.$on("click",l),r=new fi({props:{trackable:i[21],size:24}}),{c(){e=A("div"),O(t.$$.fragment),n=Y(),O(r.$$.fragment),h(e,"slot","left")},m(o,a){w(o,e,a),N(t,e,null),E(e,n),N(r,e,null),s=!0},p(o,a){i=o;const u={};a&4194304&&(u.$$scope={dirty:a,ctx:i}),t.$set(u);const c={};a&2097152&&(c.trackable=i[21]),r.$set(c)},i(o){s||(_(t.$$.fragment,o),_(r.$$.fragment,o),s=!0)},o(o){v(t.$$.fragment,o),v(r.$$.fragment,o),s=!1},d(o){o&&y(e),M(t),M(r)}}}function w4(i){let e,t;function n(){return i[14](i[21])}return e=new lu({props:{pad:!0,value:i[21].formatValue(i[21].tracker.default)}}),e.$on("click",n),{c(){O(e.$$.fragment)},m(r,s){N(e,r,s),t=!0},p(r,s){i=r;const l={};s&2097152&&(l.value=i[21].formatValue(i[21].tracker.default)),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){M(e,r)}}}function B2e(i){let e,t,n,r,s=i[21].type=="tracker"&&i[21].tracker&&w4(i);return n=new je({props:{icon:UP,className:"text-gray-500"}}),{c(){e=A("div"),s&&s.c(),t=Y(),O(n.$$.fragment),h(e,"slot","right"),h(e,"class","flex items-center space-x-2")},m(l,o){w(l,e,o),s&&s.m(e,null),E(e,t),N(n,e,null),r=!0},p(l,o){l[21].type=="tracker"&&l[21].tracker?s?(s.p(l,o),o&2097152&&_(s,1)):(s=w4(l),s.c(),_(s,1),s.m(e,t)):s&&(ie(),v(s,1,1,()=>{s=null}),re())},i(l){r||(_(s),_(n.$$.fragment,l),r=!0)},o(l){v(s),v(n.$$.fragment,l),r=!1},d(l){l&&y(e),s&&s.d(),M(n)}}}function z2e(i){let e,t,n,r;return e=new xe({props:{compact:!0,bottomLine:62,$$slots:{right:[B2e],left:[I2e],default:[L2e]},$$scope:{ctx:i}}}),n=new Tn({props:{inset:!0}}),{c(){O(e.$$.fragment),t=Y(),O(n.$$.fragment)},m(s,l){N(e,s,l),w(s,t,l),N(n,s,l),r=!0},p(s,l){const o={};l&6291456&&(o.$$scope={dirty:l,ctx:s}),e.$set(o)},i(s){r||(_(e.$$.fragment,s),_(n.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(n.$$.fragment,s),r=!1},d(s){M(e,s),s&&y(t),M(n,s)}}}function R2e(i){let e,t,n,r;t=new Ft({props:{solo:!0,className:"mb-2",$$slots:{default:[M2e]},$$scope:{ctx:i}}});let s=i[3]&&i[1].length&&y4(i);return{c(){e=A("div"),O(t.$$.fragment),n=Y(),s&&s.c(),h(e,"class","trackable-list-builder-bound")},m(l,o){w(l,e,o),N(t,e,null),E(e,n),s&&s.m(e,null),r=!0},p(l,[o]){const a={};o&4194308&&(a.$$scope={dirty:o,ctx:l}),t.$set(a),l[3]&&l[1].length?s?(s.p(l,o),o&10&&_(s,1)):(s=y4(l),s.c(),_(s,1),s.m(e,null)):s&&(ie(),v(s,1,1,()=>{s=null}),re())},i(l){r||(_(t.$$.fragment,l),_(s),r=!0)},o(l){v(t.$$.fragment,l),v(s),r=!1},d(l){l&&y(e),M(t),s&&s.d()}}}function j2e(i,e,t){let n,r;Ee(i,It,R=>t(17,n=R)),Ee(i,sue,R=>t(11,r=R));let{value:s=""}=e,{className:l=""}=e,o=[],a="",u=!0,c;async function f(R){const B=pi(R,r);o.find(z=>z.tag==B.tag)||(o.push(B),t(1,o),t(9,s),t(10,c),t(11,r),g())}async function d(R){o.includes(R)||(o.push(R),t(1,o),t(9,s),t(10,c),t(11,r))}async function m(){(await Bc()).forEach(B=>{d(B)}),g()}function p(){return o.map(B=>B.getNoteValue(B.value,!1)).join(" ")}async function g(){t(9,s=p()),t(3,u=!1),await Et(10),t(3,u=!0)}async function k(R){t(1,o=o.filter(B=>B.tag!==R.tag)),g()}const $=()=>{const R=Gf(a);R&&R.type!=="generic"?(f(R),t(2,a="")):un({message:`${a} is not valid`})},D=async R=>{if(R.tracker){const B=await xo({tracker:R.tracker,trackables:n.trackables,allowSave:!1});if(B){const z=o.map((q,H)=>(q.tag==R.tag&&(q.value=B.value,q.tracker.default=B.value),q));t(1,o=z),g()}}},F=()=>{$()};function C(R){a=R,t(2,a)}const S=R=>D(R),P=R=>k(R),I=R=>{R.detail.length&&(t(1,o=R.detail.map(B=>new ri(B))),g())};return i.$$set=R=>{"value"in R&&t(9,s=R.value),"className"in R&&t(0,l=R.className)},i.$$.update=()=>{i.$$.dirty&3584&&s&&s!==c&&(t(10,c=s),t(1,o=Yo(`${s||""}`).map(R=>pi(R,r))))},[l,o,a,u,m,g,k,$,D,s,c,r,F,C,S,P,I]}class Y2e extends ce{constructor(e){super(),ue(this,e,j2e,R2e,le,{value:9,className:0})}}function $4(i,e,t){const n=i.slice();return n[33]=e[t],n}function F4(i,e,t){const n=i.slice();return n[36]=e[t],n}function E4(i,e,t){const n=i.slice();return n[39]=e[t],n}function D4(i,e,t){const n=i.slice();return n[42]=e[t],n}function U2e(i){let e=_e.t("tracker.input-type","Input Type")+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p:W,d(n){n&&y(t)}}}function q2e(i){var n;let e=(F$((n=i[0])==null?void 0:n.type)||{}).label+"",t;return{c(){t=Z(e)},m(r,s){w(r,t,s)},p(r,s){var l;s[0]&1&&e!==(e=(F$((l=r[0])==null?void 0:l.type)||{}).label+"")&&oe(t,e)},d(r){r&&y(t)}}}function H2e(i){let e,t,n,r,s;return t=new Di({props:{bold:!0,$$slots:{default:[q2e]},$$scope:{ctx:i}}}),r=new je({props:{icon:cm,className:"text-gray-500 mr-3 ml-2",size:16}}),{c(){e=A("div"),O(t.$$.fragment),n=Y(),O(r.$$.fragment),h(e,"slot","right"),h(e,"class","flex h-12 items-center")},m(l,o){w(l,e,o),N(t,e,null),E(e,n),N(r,e,null),s=!0},p(l,o){const a={};o[0]&1|o[1]&16384&&(a.$$scope={dirty:o,ctx:l}),t.$set(a)},i(l){s||(_(t.$$.fragment,l),_(r.$$.fragment,l),s=!0)},o(l){v(t.$$.fragment,l),v(r.$$.fragment,l),s=!1},d(l){l&&y(e),M(t),M(r)}}}function W2e(i){let e,t;return e=new xe({props:{id:"tracker-type-selector",clickable:!0,className:"tracker-type py-2",$$slots:{right:[H2e],default:[U2e]},$$scope:{ctx:i}}}),e.$on("click",i[9]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[0]&1|r[1]&16384&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function C4(i){let e,t;return e=new Ft({props:{solo:!0,$$slots:{default:[V2e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[0]&1|r[1]&16384&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function V2e(i){let e,t,n;function r(l){i[10](l)}let s={className:"tracker-picker",itemClass:""};return i[0].picks!==void 0&&(s.list=i[0].picks),e=new zO({props:s}),De.push(()=>Ue(e,"list",r,i[0].picks)),e.$on("change",i[11]),{c(){O(e.$$.fragment)},m(l,o){N(e,l,o),n=!0},p(l,o){const a={};!t&&o[0]&1&&(t=!0,a.list=l[0].picks,qe(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){M(e,l)}}}function S4(i){let e,t;return e=new Ft({props:{solo:!0,$$slots:{default:[K2e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[0]&1|r[1]&16384&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function G2e(i){let e,t;return e=new je({props:{icon:$d,className:"text-gray-500"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Z2e(i){let e,t,n;return t=new Me({props:{icon:!0,$$slots:{default:[G2e]},$$scope:{ctx:i}}}),t.$on("click",i[12]),{c(){e=A("div"),O(t.$$.fragment),h(e,"slot","right"),h(e,"class","pr-1")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p(r,s){const l={};s[1]&16384&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function x2e(i){let e,t;return e=new je({props:{icon:$d,className:"text-gray-500"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function X2e(i){let e,t,n;return t=new Me({props:{icon:!0,$$slots:{default:[x2e]},$$scope:{ctx:i}}}),t.$on("click",i[14]),{c(){e=A("div"),O(t.$$.fragment),h(e,"slot","right"),h(e,"class","pr-1")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p(r,s){const l={};s[1]&16384&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function K2e(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p,g,k;function $(B){i[13](B)}let D={listItem:!0,pattern:"[0-9]*",inputmode:"numeric",className:"mr-2 tracker-min bg-transparent",style:"width:45%;",name:"min",placeholder:_e.t("tracker.min","Min Value"),label:_e.t("tracker.min","Min Value"),$$slots:{right:[Z2e]},$$scope:{ctx:i}};i[0].min!==void 0&&(D.value=i[0].min),t=new fn({props:D}),De.push(()=>Ue(t,"value",$,i[0].min)),t.$on("focus",wke);function F(B){i[15](B)}let C={listItem:!0,pattern:"[0-9]*",inputmode:"numeric",className:"tracker-max",style:"width:45%;",name:"max",label:_e.t("tracker.max","Max Value"),placeholder:_e.t("tracker.max","Max Value"),$$slots:{right:[X2e]},$$scope:{ctx:i}};i[0].max!==void 0&&(C.value=i[0].max),s=new fn({props:C}),De.push(()=>Ue(s,"value",F,i[0].max)),s.$on("focus",$ke),a=new Tn({props:{left:1}});function S(B){i[16](B)}let P={listItem:!0,className:"mr-2 tracker-min bg-transparent",style:"width:45%;",name:"minLabel",placeholder:_e.t("tracker.min-label","Min Label"),label:_e.t("tracker.min-label","Min Label")};i[0].minLabel!==void 0&&(P.value=i[0].minLabel),f=new fn({props:P}),De.push(()=>Ue(f,"value",S,i[0].minLabel)),f.$on("focus",Fke);function I(B){i[17](B)}let R={listItem:!0,className:"tracker-max-label",style:"width:45%;",name:"max-label",label:_e.t("tracker.max-label","Max Label"),placeholder:_e.t("tracker.max-label","Max Label")};return i[0].maxLabel!==void 0&&(R.value=i[0].maxLabel),p=new fn({props:R}),De.push(()=>Ue(p,"value",I,i[0].maxLabel)),p.$on("focus",Eke),{c(){e=A("div"),O(t.$$.fragment),r=Y(),O(s.$$.fragment),o=Y(),O(a.$$.fragment),u=Y(),c=A("div"),O(f.$$.fragment),m=Y(),O(p.$$.fragment),h(e,"class","flex px-1"),h(c,"class","flex px-1")},m(B,z){w(B,e,z),N(t,e,null),E(e,r),N(s,e,null),w(B,o,z),N(a,B,z),w(B,u,z),w(B,c,z),N(f,c,null),E(c,m),N(p,c,null),k=!0},p(B,z){const q={};z[1]&16384&&(q.$$scope={dirty:z,ctx:B}),!n&&z[0]&1&&(n=!0,q.value=B[0].min,qe(()=>n=!1)),t.$set(q);const H={};z[1]&16384&&(H.$$scope={dirty:z,ctx:B}),!l&&z[0]&1&&(l=!0,H.value=B[0].max,qe(()=>l=!1)),s.$set(H);const K={};!d&&z[0]&1&&(d=!0,K.value=B[0].minLabel,qe(()=>d=!1)),f.$set(K);const G={};!g&&z[0]&1&&(g=!0,G.value=B[0].maxLabel,qe(()=>g=!1)),p.$set(G)},i(B){k||(_(t.$$.fragment,B),_(s.$$.fragment,B),_(a.$$.fragment,B),_(f.$$.fragment,B),_(p.$$.fragment,B),k=!0)},o(B){v(t.$$.fragment,B),v(s.$$.fragment,B),v(a.$$.fragment,B),v(f.$$.fragment,B),v(p.$$.fragment,B),k=!1},d(B){B&&y(e),M(t),M(s),B&&y(o),M(a,B),B&&y(u),B&&y(c),M(f),M(p)}}}function T4(i){let e,t;return e=new Ft({props:{solo:!0,$$slots:{default:[J2e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[0]&1|r[1]&16384&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function J2e(i){let e,t,n;function r(l){i[18](l)}let s={};return i[0].note!==void 0&&(s.value=i[0].note),e=new Y2e({props:s}),De.push(()=>Ue(e,"value",r,i[0].note)),{c(){O(e.$$.fragment)},m(l,o){N(e,l,o),n=!0},p(l,o){const a={};!t&&o[0]&1&&(t=!0,a.value=l[0].note,qe(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){M(e,l)}}}function A4(i){let e,t;return e=new Ft({props:{solo:!0,$$slots:{default:[ike]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[0]&1|r[1]&16384&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function P4(i){let e,t,n=i[39]+"",r,s,l=[],o=new Map,a,u=i[5][i[39]];const c=f=>`${f[39]}-${f[42].key}`;for(let f=0;f<u.length;f+=1){let d=D4(i,u,f),m=c(d);o.set(m,l[f]=N4(m,d))}return{c(){e=A("option"),t=Z("-- "),r=Z(n),s=Y();for(let f=0;f<l.length;f+=1)l[f].c();a=$e(),e.disabled=!0,e.__value="-- "+i[39],e.value=e.__value},m(f,d){w(f,e,d),E(e,t),E(e,r),w(f,s,d);for(let m=0;m<l.length;m+=1)l[m].m(f,d);w(f,a,d)},p(f,d){d[0]&33&&(u=f[5][f[39]],l=qn(l,d,c,1,f,u,o,a.parentNode,Sa,N4,a,D4))},d(f){f&&y(e),f&&y(s);for(let d=0;d<l.length;d+=1)l[d].d(f);f&&y(a)}}}function Q2e(i){let e=J0(i[42].key).length>0,t,n=e&&eke(i);return{c(){n&&n.c(),t=$e()},m(r,s){n&&n.m(r,s),w(r,t,s)},p(r,s){e&&n.p(r,s)},d(r){n&&n.d(r),r&&y(t)}}}function eke(i){let e,t=J0(i[42].key)+"",n,r;return{c(){e=Z("("),n=Z(t),r=Z(")")},m(s,l){w(s,e,l),w(s,n,l),w(s,r,l)},p:W,d(s){s&&y(e),s&&y(n),s&&y(r)}}}function N4(i,e){let t,n=sy(e[42].key)+"",r,s,l=sy(e[42].key).toLowerCase()!==J0(e[42].key).toLowerCase(),o,a,u=l&&Q2e(e);return{key:i,first:null,c(){t=A("option"),r=Z(n),s=Y(),u&&u.c(),o=Y(),t.__value=e[42].key,t.value=t.__value,t.disabled=a=e[42].key=="time"&&e[0].type!="timer",this.first=t},m(c,f){w(c,t,f),E(t,r),E(t,s),u&&u.m(t,null),E(t,o)},p(c,f){e=c,l&&u.p(e,f),f[0]&1&&a!==(a=e[42].key=="time"&&e[0].type!="timer")&&(t.disabled=a)},d(c){c&&y(t),u&&u.d()}}}function M4(i,e){let t,n,r=e[0].type!=="timer"&&e[39]!=="Timer"&&P4(e);return{key:i,first:null,c(){t=$e(),r&&r.c(),n=$e(),this.first=t},m(s,l){w(s,t,l),r&&r.m(s,l),w(s,n,l)},p(s,l){e=s,e[0].type!=="timer"&&e[39]!=="Timer"?r?r.p(e,l):(r=P4(e),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(s){s&&y(t),r&&r.d(s),s&&y(n)}}}function tke(i){let e=[],t=new Map,n,r=Object.keys(i[5]);const s=l=>l[39];for(let l=0;l<r.length;l+=1){let o=E4(i,r,l),a=s(o);t.set(a,e[l]=M4(a,o))}return{c(){for(let l=0;l<e.length;l+=1)e[l].c();n=$e()},m(l,o){for(let a=0;a<e.length;a+=1)e[a].m(l,o);w(l,n,o)},p(l,o){o[0]&33&&(r=Object.keys(l[5]),e=qn(e,o,s,1,l,r,t,n.parentNode,Sa,M4,n,E4))},d(l){for(let o=0;o<e.length;o+=1)e[o].d(l);l&&y(n)}}}function L4(i){let e,t=i[36].label+"",n;return{c(){e=A("option"),n=Z(t),e.__value=i[36].value,e.value=e.__value},m(r,s){w(r,e,s),E(e,n)},p:W,d(r){r&&y(e)}}}function nke(i){let e,t=[{value:"sum",label:_e.t("general.sum","Sum")},{value:"mean",label:_e.t("general.avg","Average")}],n=[];for(let r=0;r<2;r+=1)n[r]=L4(F4(i,t,r));return{c(){for(let r=0;r<2;r+=1)n[r].c();e=$e()},m(r,s){for(let l=0;l<2;l+=1)n[l].m(r,s);w(r,e,s)},p(r,s){if(s&0){t=[{value:"sum",label:_e.t("general.sum","Sum")},{value:"mean",label:_e.t("general.avg","Average")}];let l;for(l=0;l<2;l+=1){const o=F4(r,t,l);n[l]?n[l].p(o,s):(n[l]=L4(o),n[l].c(),n[l].m(e.parentNode,e))}for(;l<2;l+=1)n[l].d(1)}},d(r){it(n,r),r&&y(e)}}}function ike(i){let e,t,n,r,s,l,o,a;function u(m){i[19](m)}let c={listItem:!0,placeholder:_e.t("tracker.measure-by","Measure By"),type:"select",className:"tracker-uom",$$slots:{default:[tke]},$$scope:{ctx:i}};i[0].uom!==void 0&&(c.value=i[0].uom),e=new fn({props:c}),De.push(()=>Ue(e,"value",u,i[0].uom)),r=new Tn({props:{center:!0}});function f(m){i[20](m)}let d={listItem:!0,type:"select",className:"tracker-math mb-3",name:"math",placeholder:_e.t("tracker.calculate-total","Calculate Totals"),$$slots:{default:[nke]},$$scope:{ctx:i}};return i[0].math!==void 0&&(d.value=i[0].math),l=new fn({props:d}),De.push(()=>Ue(l,"value",f,i[0].math)),{c(){O(e.$$.fragment),n=Y(),O(r.$$.fragment),s=Y(),O(l.$$.fragment)},m(m,p){N(e,m,p),w(m,n,p),N(r,m,p),w(m,s,p),N(l,m,p),a=!0},p(m,p){const g={};p[0]&1|p[1]&16384&&(g.$$scope={dirty:p,ctx:m}),!t&&p[0]&1&&(t=!0,g.value=m[0].uom,qe(()=>t=!1)),e.$set(g);const k={};p[1]&16384&&(k.$$scope={dirty:p,ctx:m}),!o&&p[0]&1&&(o=!0,k.value=m[0].math,qe(()=>o=!1)),l.$set(k)},i(m){a||(_(e.$$.fragment,m),_(r.$$.fragment,m),_(l.$$.fragment,m),a=!0)},o(m){v(e.$$.fragment,m),v(r.$$.fragment,m),v(l.$$.fragment,m),a=!1},d(m){M(e,m),m&&y(n),M(r,m),m&&y(s),M(l,m)}}}function O4(i){let e,t,n;return t=new Me({props:{block:!0,text:!0,color:"clear",size:"sm",className:"mt-2 mb-3 advanced-toggler text-gray-600 dark:text-gray-200",$$slots:{default:[lke]},$$scope:{ctx:i}}}),t.$on("click",i[21]),{c(){e=A("div"),O(t.$$.fragment),h(e,"class","px-4")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p(r,s){const l={};s[0]&4|s[1]&16384&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function rke(i){let e;return{c(){e=Z("More Options")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function ske(i){let e;return{c(){e=Z("Less Options")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function lke(i){let e,t,n;function r(o,a){return o[2]?ske:rke}let s=r(i),l=s(i);return t=new je({props:{name:i[2]?X2:cm,size:12,className:"ml-2 text-gray-500"}}),{c(){l.c(),e=Y(),O(t.$$.fragment)},m(o,a){l.m(o,a),w(o,e,a),N(t,o,a),n=!0},p(o,a){s!==(s=r(o))&&(l.d(1),l=s(o),l&&(l.c(),l.m(e.parentNode,e)));const u={};a[0]&4&&(u.name=o[2]?X2:cm),t.$set(u)},i(o){n||(_(t.$$.fragment,o),n=!0)},o(o){v(t.$$.fragment,o),n=!1},d(o){l.d(o),o&&y(e),M(t,o)}}}function I4(i){let e,t,n,r=i[0].type=="tick"&&B4(i),s=i[0].type==="range"&&z4(i);return{c(){r&&r.c(),e=Y(),s&&s.c(),t=$e()},m(l,o){r&&r.m(l,o),w(l,e,o),s&&s.m(l,o),w(l,t,o),n=!0},p(l,o){l[0].type=="tick"?r?(r.p(l,o),o[0]&1&&_(r,1)):(r=B4(l),r.c(),_(r,1),r.m(e.parentNode,e)):r&&(ie(),v(r,1,1,()=>{r=null}),re()),l[0].type==="range"?s?(s.p(l,o),o[0]&1&&_(s,1)):(s=z4(l),s.c(),_(s,1),s.m(t.parentNode,t)):s&&(ie(),v(s,1,1,()=>{s=null}),re())},i(l){n||(_(r),_(s),n=!0)},o(l){v(r),v(s),n=!1},d(l){r&&r.d(l),l&&y(e),s&&s.d(l),l&&y(t)}}}function B4(i){let e,t;return e=new Ft({props:{solo:!0,className:"p-1",$$slots:{default:[ake]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[0]&1|r[1]&16384&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function oke(i){let e,t,n,r;function s(o){i[22](o)}let l={};return i[0].one_tap!==void 0&&(l.value=i[0].one_tap),t=new Oi({props:l}),De.push(()=>Ue(t,"value",s,i[0].one_tap)),{c(){e=A("div"),O(t.$$.fragment),h(e,"slot","right")},m(o,a){w(o,e,a),N(t,e,null),r=!0},p(o,a){const u={};!n&&a[0]&1&&(n=!0,u.value=o[0].one_tap,qe(()=>n=!1)),t.$set(u)},i(o){r||(_(t.$$.fragment,o),r=!0)},o(o){v(t.$$.fragment,o),r=!1},d(o){o&&y(e),M(t)}}}function ake(i){let e,t;return e=new xe({props:{title:_e.t("tracker.save-on-tap","Save on Tap"),className:"tracker-one-tap leading1",description:_e.t("tracker.save-on-tap-description","Save note immediately after tapping the button."),$$slots:{right:[oke]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[0]&1|r[1]&16384&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function z4(i){let e,t;return e=new Ft({props:{solo:!0,$$slots:{default:[fke]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[0]&1|r[1]&16384&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function uke(i){let e,t;return e=new je({props:{icon:$d,className:"text-gray-500"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function cke(i){let e,t,n;return t=new Me({props:{icon:!0,$$slots:{default:[uke]},$$scope:{ctx:i}}}),t.$on("click",i[23]),{c(){e=A("div"),O(t.$$.fragment),h(e,"slot","right"),h(e,"class","pr-1")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p(r,s){const l={};s[1]&16384&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function fke(i){let e,t,n;function r(l){i[24](l)}let s={listItem:!0,className:"tracker-step mb-3",pattern:"[0-9]*",inputmode:"numeric",label:_e.t("tracker.step","Range Step"),placeholder:_e.t("tracker.step","Range Step"),$$slots:{right:[cke]},$$scope:{ctx:i}};return i[0].step!==void 0&&(s.value=i[0].step),e=new fn({props:s}),De.push(()=>Ue(e,"value",r,i[0].step)),{c(){O(e.$$.fragment)},m(l,o){N(e,l,o),n=!0},p(l,o){const a={};o[1]&16384&&(a.$$scope={dirty:o,ctx:l}),!t&&o[0]&1&&(t=!0,a.value=l[0].step,qe(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){M(e,l)}}}function R4(i){let e,t,n;function r(l){i[26](l)}let s={listItem:!0,className:"tracker-default mb-3 error",pattern:"[0-9]*",inputmode:"numeric",type:"number",label:_e.t("tracker.value","Default Value"),placeholder:_e.t("tracker.default-value","Default Value"),$$slots:{right:[mke]},$$scope:{ctx:i}};return i[0].default!==void 0&&(s.value=i[0].default),e=new fn({props:s}),De.push(()=>Ue(e,"value",r,i[0].default)),{c(){O(e.$$.fragment)},m(l,o){N(e,l,o),n=!0},p(l,o){const a={};o[0]&1|o[1]&16384&&(a.$$scope={dirty:o,ctx:l}),!t&&o[0]&1&&(t=!0,a.value=l[0].default,qe(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){M(e,l)}}}function j4(i){let e,t;return e=new Di({props:{size:"xs",className:"text-right text-primary-500",$$slots:{default:[dke]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[0]&1|r[1]&16384&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function dke(i){let e=i[0].displayValue(i[0].default)+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p(n,r){r[0]&1&&e!==(e=n[0].displayValue(n[0].default)+"")&&oe(t,e)},d(n){n&&y(t)}}}function hke(i){let e,t;return e=new je({props:{icon:$d,className:"text-gray-500"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function mke(i){let e,t,n,r,s=i[0].default&&j4(i);return n=new Me({props:{className:"pr-1",icon:!0,$$slots:{default:[hke]},$$scope:{ctx:i}}}),n.$on("click",i[25]),{c(){e=A("div"),s&&s.c(),t=Y(),O(n.$$.fragment),h(e,"slot","right")},m(l,o){w(l,e,o),s&&s.m(e,null),E(e,t),N(n,e,null),r=!0},p(l,o){l[0].default?s?(s.p(l,o),o[0]&1&&_(s,1)):(s=j4(l),s.c(),_(s,1),s.m(e,t)):s&&(ie(),v(s,1,1,()=>{s=null}),re());const a={};o[1]&16384&&(a.$$scope={dirty:o,ctx:l}),n.$set(a)},i(l){r||(_(s),_(n.$$.fragment,l),r=!0)},o(l){v(s),v(n.$$.fragment,l),r=!1},d(l){l&&y(e),s&&s.d(),M(n)}}}function pke(i){let e=i[2]&&["note","picker"].indexOf(i[0].type)===-1,t,n,r=e&&R4(i);return{c(){r&&r.c(),t=$e()},m(s,l){r&&r.m(s,l),w(s,t,l),n=!0},p(s,l){l[0]&5&&(e=s[2]&&["note","picker"].indexOf(s[0].type)===-1),e?r?(r.p(s,l),l[0]&5&&_(r,1)):(r=R4(s),r.c(),_(r,1),r.m(t.parentNode,t)):r&&(ie(),v(r,1,1,()=>{r=null}),re())},i(s){n||(_(r),n=!0)},o(s){v(r),n=!1},d(s){r&&r.d(s),s&&y(t)}}}function Y4(i){let e,t;return e=new Ft({props:{solo:!0,$$slots:{default:[_ke]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[0]&1|r[1]&16384&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function _ke(i){let e,t;return e=new T2e({props:{tracker:i[0]}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[0]&1&&(s.tracker=n[0]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function U4(i){let e,t,n,r,s,l,o,a,u,c,f,d,m;return t=new Ft({props:{solo:!0,$$slots:{default:[vke]},$$scope:{ctx:i}}}),c=new Ft({props:{className:"",solo:!0,$$slots:{default:[bke]},$$scope:{ctx:i}}}),{c(){e=A("section"),O(t.$$.fragment),n=Y(),r=A("p"),s=Z("Automatically include other trackers, people, and data. For example, you could include "),l=A("code"),l.textContent="#alcohol({value}*0.5)",o=Z(`
        in a Beer Tracker. Then when you track your beer drinking, the percentage of alchol with also be tracked.`),a=Y(),u=A("section"),O(c.$$.fragment),f=Y(),d=A("p"),d.textContent=`Does this tracker affect your mind, or body, or spirit, or a combination? Select which one, and Nomie will keep
        track.`,h(r,"class","list-note"),h(e,"class","also-include"),h(d,"class","list-note"),h(u,"aria-label","Mind, Body, Spirit selection")},m(p,g){w(p,e,g),N(t,e,null),E(e,n),E(e,r),E(r,s),E(r,l),E(r,o),w(p,a,g),w(p,u,g),N(c,u,null),E(u,f),E(u,d),m=!0},p(p,g){const k={};g[0]&17|g[1]&16384&&(k.$$scope={dirty:g,ctx:p}),t.$set(k);const $={};g[0]&1|g[1]&16384&&($.$$scope={dirty:g,ctx:p}),c.$set($)},i(p){m||(_(t.$$.fragment,p),_(c.$$.fragment,p),m=!0)},o(p){v(t.$$.fragment,p),v(c.$$.fragment,p),m=!1},d(p){p&&y(e),M(t),p&&y(a),p&&y(u),M(c)}}}function gke(i){let e,t,n;function r(l){i[27](l)}let s={slot:"right"};return i[4]!==void 0&&(s.value=i[4]),e=new Oi({props:s}),De.push(()=>Ue(e,"value",r,i[4])),{c(){O(e.$$.fragment)},m(l,o){N(e,l,o),n=!0},p(l,o){const a={};!t&&o[0]&16&&(t=!0,a.value=l[4],qe(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){M(e,l)}}}function q4(i){let e,t,n,r,s,l,o;e=new Tn({props:{left:16}});function a(c){i[28](c)}let u={listItem:!0,className:"tracker-include",type:"textarea",rows:2,label:_e.t("tracker.include","Also Include"),placeholder:_e.t("tracker.include-placeholder","Insert additional #trackers, @people, and +context when using this tracker")};return i[0].include!==void 0&&(u.value=i[0].include),n=new fn({props:u}),De.push(()=>Ue(n,"value",a,i[0].include)),l=new hve({props:{input:i[0].include,scroller:!0}}),l.$on("select",i[29]),{c(){O(e.$$.fragment),t=Y(),O(n.$$.fragment),s=Y(),O(l.$$.fragment)},m(c,f){N(e,c,f),w(c,t,f),N(n,c,f),w(c,s,f),N(l,c,f),o=!0},p(c,f){const d={};!r&&f[0]&1&&(r=!0,d.value=c[0].include,qe(()=>r=!1)),n.$set(d);const m={};f[0]&1&&(m.input=c[0].include),l.$set(m)},i(c){o||(_(e.$$.fragment,c),_(n.$$.fragment,c),_(l.$$.fragment,c),o=!0)},o(c){v(e.$$.fragment,c),v(n.$$.fragment,c),v(l.$$.fragment,c),o=!1},d(c){M(e,c),c&&y(t),M(n,c),c&&y(s),M(l,c)}}}function vke(i){let e,t,n,r;e=new xe({props:{bg:"transparent",id:"hide-all-board",title:_e.t("tracker.also-include","Also Include"),$$slots:{right:[gke]},$$scope:{ctx:i}}});let s=i[4]&&q4(i);return{c(){O(e.$$.fragment),t=Y(),s&&s.c(),n=$e()},m(l,o){N(e,l,o),w(l,t,o),s&&s.m(l,o),w(l,n,o),r=!0},p(l,o){const a={};o[0]&16|o[1]&16384&&(a.$$scope={dirty:o,ctx:l}),e.$set(a),l[4]?s?(s.p(l,o),o[0]&16&&_(s,1)):(s=q4(l),s.c(),_(s,1),s.m(n.parentNode,n)):s&&(ie(),v(s,1,1,()=>{s=null}),re())},i(l){r||(_(e.$$.fragment,l),_(s),r=!0)},o(l){v(e.$$.fragment,l),v(s),r=!1},d(l){M(e,l),l&&y(t),s&&s.d(l),l&&y(n)}}}function H4(i){let e,t,n=i[33].emoji+"",r,s,l,o=i[33].label+"",a,u,c,f,d;function m(){return i[30](i[33])}return{c(){e=A("button"),t=A("span"),r=Z(n),s=Y(),l=A("span"),a=Z(o),u=Y(),h(t,"class","mr-3 -ml-1"),h(l,"class","text-sm"),h(e,"class",c="flex text-center justify-center py-1 px-2 rounded-md items-center "+(i[0].focus.indexOf(i[33].id)>-1?"ring-2 ring-primary-500 dark:text-white font-bold":"dark:text-gray-300"))},m(p,g){w(p,e,g),E(e,t),E(t,r),E(e,s),E(e,l),E(l,a),E(e,u),f||(d=ke(e,"click",m),f=!0)},p(p,g){i=p,g[0]&1&&c!==(c="flex text-center justify-center py-1 px-2 rounded-md items-center "+(i[0].focus.indexOf(i[33].id)>-1?"ring-2 ring-primary-500 dark:text-white font-bold":"dark:text-gray-300"))&&h(e,"class",c)},d(p){p&&y(e),f=!1,d()}}}function bke(i){let e,t=L1,n=[];for(let r=0;r<t.length;r+=1)n[r]=H4($4(i,t,r));return{c(){e=A("div");for(let r=0;r<n.length;r+=1)n[r].c();h(e,"class","grid p-2 grid-cols-3 gap-2")},m(r,s){w(r,e,s);for(let l=0;l<n.length;l+=1)n[l].m(e,null)},p(r,s){if(s[0]&1){t=L1;let l;for(l=0;l<t.length;l+=1){const o=$4(r,t,l);n[l]?n[l].p(o,s):(n[l]=H4(o),n[l].c(),n[l].m(e,null))}for(;l<n.length;l+=1)n[l].d(1);n.length=t.length}},d(r){r&&y(e),it(n,r)}}}function kke(i){let e,t,n,r,s,l,o,a,u,c,f,d,m;t=new Ft({props:{solo:!0,$$slots:{default:[W2e]},$$scope:{ctx:i}}});let p=i[0].type=="picker"&&C4(i),g=i[0].type=="range"&&S4(i),k=i[0].type=="note"&&T4(i),$=i[0].type!=="timer"&&i[0].type!=="note"&&i[0].type!=="picker"&&A4(i),D=i[3]&&O4(i),F=i[2]&&I4(i);c=new Ft({props:{solo:!0,$$slots:{default:[pke]},$$scope:{ctx:i}}});let C=i[2]&&Y4(i),S=i[0].type!=="note"&&i[0].type!=="picker"&&i[2]&&U4(i);return{c(){e=A("main"),O(t.$$.fragment),n=Y(),p&&p.c(),r=Y(),g&&g.c(),s=Y(),k&&k.c(),l=Y(),$&&$.c(),o=Y(),D&&D.c(),a=Y(),F&&F.c(),u=Y(),O(c.$$.fragment),f=Y(),C&&C.c(),d=Y(),S&&S.c(),h(e,"class","flex flex-col space-y-4")},m(P,I){w(P,e,I),N(t,e,null),E(e,n),p&&p.m(e,null),E(e,r),g&&g.m(e,null),E(e,s),k&&k.m(e,null),E(e,l),$&&$.m(e,null),E(e,o),D&&D.m(e,null),E(e,a),F&&F.m(e,null),E(e,u),N(c,e,null),E(e,f),C&&C.m(e,null),E(e,d),S&&S.m(e,null),m=!0},p(P,I){const R={};I[0]&1|I[1]&16384&&(R.$$scope={dirty:I,ctx:P}),t.$set(R),P[0].type=="picker"?p?(p.p(P,I),I[0]&1&&_(p,1)):(p=C4(P),p.c(),_(p,1),p.m(e,r)):p&&(ie(),v(p,1,1,()=>{p=null}),re()),P[0].type=="range"?g?(g.p(P,I),I[0]&1&&_(g,1)):(g=S4(P),g.c(),_(g,1),g.m(e,s)):g&&(ie(),v(g,1,1,()=>{g=null}),re()),P[0].type=="note"?k?(k.p(P,I),I[0]&1&&_(k,1)):(k=T4(P),k.c(),_(k,1),k.m(e,l)):k&&(ie(),v(k,1,1,()=>{k=null}),re()),P[0].type!=="timer"&&P[0].type!=="note"&&P[0].type!=="picker"?$?($.p(P,I),I[0]&1&&_($,1)):($=A4(P),$.c(),_($,1),$.m(e,o)):$&&(ie(),v($,1,1,()=>{$=null}),re()),P[3]?D?(D.p(P,I),I[0]&8&&_(D,1)):(D=O4(P),D.c(),_(D,1),D.m(e,a)):D&&(ie(),v(D,1,1,()=>{D=null}),re()),P[2]?F?(F.p(P,I),I[0]&4&&_(F,1)):(F=I4(P),F.c(),_(F,1),F.m(e,u)):F&&(ie(),v(F,1,1,()=>{F=null}),re());const B={};I[0]&5|I[1]&16384&&(B.$$scope={dirty:I,ctx:P}),c.$set(B),P[2]?C?(C.p(P,I),I[0]&4&&_(C,1)):(C=Y4(P),C.c(),_(C,1),C.m(e,d)):C&&(ie(),v(C,1,1,()=>{C=null}),re()),P[0].type!=="note"&&P[0].type!=="picker"&&P[2]?S?(S.p(P,I),I[0]&5&&_(S,1)):(S=U4(P),S.c(),_(S,1),S.m(e,null)):S&&(ie(),v(S,1,1,()=>{S=null}),re())},i(P){m||(_(t.$$.fragment,P),_(p),_(g),_(k),_($),_(D),_(F),_(c.$$.fragment,P),_(C),_(S),m=!0)},o(P){v(t.$$.fragment,P),v(p),v(g),v(k),v($),v(D),v(F),v(c.$$.fragment,P),v(C),v(S),m=!1},d(P){P&&y(e),M(t),p&&p.d(),g&&g.d(),k&&k.d(),$&&$.d(),D&&D.d(),F&&F.d(),M(c),C&&C.d(),S&&S.d()}}}let yke=!1;const wke=i=>{i.detail.target.select()},$ke=i=>i.detail.target.select(),Fke=i=>{i.detail.target.select()},Eke=i=>i.detail.target.select();function Dke(i,e,t){let n;Ee(i,It,J=>t(31,n=J));let{trackable:r}=e,s;const l=tM();let o=!1,a=!1,u=!0,c=!1;const f=async J=>{let se=await xo({trackables:n.trackables,tracker:s,allowSave:!1,nextLabel:_e.t("general.set","Set")});se&&t(0,s[J]=se.value,s)};async function d(J){await Et(200),t(0,s.type=J,s)}const m={selectType(){const J=Object.keys($m).map(se=>{let te=$m[se];return{emoji:te.emoji,checked:se===s.type,title:`${te.label}`,description:`${te.description}`,id:te.id,click:()=>d(se)}});Xe.popmenu({id:"tracker-type",title:_e.t("tracker.type","Type"),buttons:J})}},p=()=>{m.selectType()};function g(J){i.$$.not_equal(s.picks,J)&&(s.picks=J,t(0,s),t(8,r))}const k=J=>{t(0,s.picks=(J.detail||[]).filter(se=>se.length),s)},$=()=>{f("min")};function D(J){i.$$.not_equal(s.min,J)&&(s.min=J,t(0,s),t(8,r))}const F=()=>{f("max")};function C(J){i.$$.not_equal(s.max,J)&&(s.max=J,t(0,s),t(8,r))}function S(J){i.$$.not_equal(s.minLabel,J)&&(s.minLabel=J,t(0,s),t(8,r))}function P(J){i.$$.not_equal(s.maxLabel,J)&&(s.maxLabel=J,t(0,s),t(8,r))}function I(J){i.$$.not_equal(s.note,J)&&(s.note=J,t(0,s),t(8,r))}function R(J){i.$$.not_equal(s.uom,J)&&(s.uom=J,t(0,s),t(8,r))}function B(J){i.$$.not_equal(s.math,J)&&(s.math=J,t(0,s),t(8,r))}const z=()=>t(1,a=!a);function q(J){i.$$.not_equal(s.one_tap,J)&&(s.one_tap=J,t(0,s),t(8,r))}const H=()=>{f("step")};function K(J){i.$$.not_equal(s.step,J)&&(s.step=J,t(0,s),t(8,r))}const G=()=>{f("default")};function U(J){i.$$.not_equal(s.default,J)&&(s.default=J,t(0,s),t(8,r))}function Q(J){c=J,t(4,c),t(0,s),t(1,a),t(8,r)}function V(J){i.$$.not_equal(s.include,J)&&(s.include=J,t(0,s),t(8,r))}const x=async J=>{t(0,s.include=J.detail.note+"",s)},ee=J=>{s.focus.indexOf(J.id)>-1?t(0,s.focus=s.focus.filter(te=>te!==J.id),s):s.focus.push(J.id),t(0,s),t(8,r)};return i.$$set=J=>{"trackable"in J&&t(8,r=J.trackable)},i.$$.update=()=>{i.$$.dirty[0]&256&&r&&t(0,s=r.tracker),i.$$.dirty[0]&1&&(s.type==="timer"?(t(0,s.uom="timer",s),t(0,s.min=null,s),t(0,s.max=null,s)):s.uom=="timer"?t(0,s.uom="num",s):s.type==="range"&&isNaN(s.min)&&(t(0,s.min=1,s),t(0,s.max=10,s))),i.$$.dirty[0]&1&&s.label&&s._dirty&&!yke&&t(0,s.tag=nM(s.label),s),i.$$.dirty[0]&3&&(s&&!a?(s.include&&t(4,c=!0),s.include||s.default||s.math!=="sum"||s.uom!=="num"||s.step||s.one_tap?(t(2,o=!0),t(3,u=!1)):(t(3,u=!0),t(2,o=!1))):a&&t(2,o=!0))},[s,a,o,u,c,l,f,m,r,p,g,k,$,D,F,C,S,P,I,R,B,z,q,H,K,G,U,Q,V,x,ee]}class Cke extends ce{constructor(e){super(),ue(this,e,Dke,kke,le,{trackable:8},null,[-1,-1])}}function W4(i){let e,t;return e=new fi({props:{trackable:i[0],size:64}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.trackable=n[0]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function V4(i){let e,t,n,r,s,l,o,a,u=i[5]&&G4();const c=[Tke,Ske],f=[];function d(m,p){return m[2]&&m[2].length?0:m[3]?1:-1}return~(r=d(i))&&(s=f[r]=c[r](i)),{c(){e=A("div"),u&&u.c(),t=Y(),n=A("button"),s&&s.c(),h(n,"class","flex items-center focus:outline-none focus:ring ring-primary-500 rounded-md"),h(e,"class","tag-control flex justify-end items-center space-x-2")},m(m,p){w(m,e,p),u&&u.m(e,null),E(e,t),E(e,n),~r&&f[r].m(n,null),l=!0,o||(a=ke(n,"click",i[20]),o=!0)},p(m,p){m[5]?u||(u=G4(),u.c(),u.m(e,t)):u&&(u.d(1),u=null);let g=r;r=d(m),r===g?~r&&f[r].p(m,p):(s&&(ie(),v(f[g],1,1,()=>{f[g]=null}),re()),~r?(s=f[r],s?s.p(m,p):(s=f[r]=c[r](m),s.c()),_(s,1),s.m(n,null)):s=null)},i(m){l||(_(s),l=!0)},o(m){v(s),l=!1},d(m){m&&y(e),u&&u.d(),~r&&f[r].d(),o=!1,a()}}}function G4(i){let e;return{c(){e=A("div"),e.textContent="Tag already exists",h(e,"class","text-red-500 text-xs")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Ske(i){let e,t,n,r=Rl(`${i[0].prefix}${i[3]}`,i[7].size=="lg"?40:20)+"",s,l,o,a;return o=new je({props:{icon:_l,size:12}}),{c(){e=A("span"),e.textContent="Tag:",t=Y(),n=A("span"),s=Z(r),l=Y(),O(o.$$.fragment),h(e,"class","opacity-50")},m(u,c){w(u,e,c),w(u,t,c),w(u,n,c),E(n,s),w(u,l,c),N(o,u,c),a=!0},p(u,c){(!a||c&137)&&r!==(r=Rl(`${u[0].prefix}${u[3]}`,u[7].size=="lg"?40:20)+"")&&oe(s,r)},i(u){a||(_(o.$$.fragment,u),a=!0)},o(u){v(o.$$.fragment,u),a=!1},d(u){u&&y(e),u&&y(t),u&&y(n),u&&y(l),M(o,u)}}}function Tke(i){let e,t,n,r=Rl(i[2],i[7].size=="lg"?40:20)+"",s,l,o,a;return o=new je({props:{icon:IO,size:12}}),{c(){e=A("span"),e.textContent="Tag:",t=Y(),n=A("span"),s=Z(r),l=Y(),O(o.$$.fragment),h(e,"class","opacity-50 ")},m(u,c){w(u,e,c),w(u,t,c),w(u,n,c),E(n,s),w(u,l,c),N(o,u,c),a=!0},p(u,c){(!a||c&132)&&r!==(r=Rl(u[2],u[7].size=="lg"?40:20)+"")&&oe(s,r)},i(u){a||(_(o.$$.fragment,u),a=!0)},o(u){v(o.$$.fragment,u),a=!1},d(u){u&&y(e),u&&y(t),u&&y(n),u&&y(l),M(o,u)}}}function Z4(i){let e,t,n;function r(l){i[21](l)}let s={};return i[0]!==void 0&&(s.trackable=i[0]),e=new u0e({props:s}),De.push(()=>Ue(e,"trackable",r,i[0])),{c(){O(e.$$.fragment)},m(l,o){N(e,l,o),n=!0},p(l,o){const a={};!t&&o&1&&(t=!0,a.trackable=l[0],qe(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){M(e,l)}}}function x4(i){let e,t,n;function r(l){i[22](l)}let s={};return i[0]!==void 0&&(s.trackable=i[0]),e=new h0e({props:s}),De.push(()=>Ue(e,"trackable",r,i[0])),{c(){O(e.$$.fragment)},m(l,o){N(e,l,o),n=!0},p(l,o){const a={};!t&&o&1&&(t=!0,a.trackable=l[0],qe(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){M(e,l)}}}function X4(i){let e,t,n;function r(l){i[23](l)}let s={};return i[0]!==void 0&&(s.trackable=i[0]),e=new Cke({props:s}),De.push(()=>Ue(e,"trackable",r,i[0])),{c(){O(e.$$.fragment)},m(l,o){N(e,l,o),n=!0},p(l,o){const a={};!t&&o&1&&(t=!0,a.trackable=l[0],qe(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){M(e,l)}}}function Ake(i){let e;return{c(){e=Z("Share Tracker")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Pke(i){let e,t;return e=new je({props:{slot:"right",icon:yd,className:"text-primary"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function K4(i){let e,t;return e=new xe({props:{bottomLine:16,$$slots:{right:[Mke],default:[Nke]},$$scope:{ctx:i}}}),e.$on("click",i[25]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&268435456&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Nke(i){let e;return{c(){e=A("span"),e.textContent="Generate QR Code or NFC"},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function Mke(i){let e,t;return e=new je({props:{slot:"right",icon:e0e,className:"text-primary"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function J4(i){let e,t;return e=new xe({props:{bottomLine:16,$$slots:{right:[Oke],default:[Lke]},$$scope:{ctx:i}}}),e.$on("click",i[26]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&268435456&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Lke(i){let e;return{c(){e=Z("Duplicate Trackable...")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Oke(i){let e,t;return e=new je({props:{slot:"right",icon:hU,className:"text-primary-500"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Ike(i){let e;return{c(){e=A("span"),e.textContent="Delete Trackable",h(e,"class","text-red-500")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function Bke(i){let e,t;return e=new je({props:{slot:"right",icon:wd,className:"text-red-500"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function zke(i){let e,t,n,r=i[0],s,l,o,a,u,c,f,d,m,p,g,k,$,D,F,C,S,P,I,R=W4(i);a=new fn({props:{className:"outline",id:"trackable-label-input",value:i[0].label,placeholder:i[4],label:i[4]}}),a.$on("input",i[19]);let B=(i[2]||i[3])&&V4(i),z=i[0].type=="context"&&Z4(i),q=i[0].type=="person"&&x4(i),H=i[0].type=="tracker"&&X4(i);k=new xe({props:{bottomLine:16,clickable:!0,$$slots:{right:[Pke],default:[Ake]},$$scope:{ctx:i}}}),k.$on("click",i[24]);let K=i[8].betaFeatures&&K4(i),G=i[0].type=="tracker"&&J4(i);return C=new xe({props:{$$slots:{right:[Bke],default:[Ike]},$$scope:{ctx:i}}}),C.$on("click",i[27]),{c(){e=A("section"),t=A("div"),n=A("button"),R.c(),l=Y(),o=A("div"),O(a.$$.fragment),u=Y(),B&&B.c(),c=Y(),f=A("section"),z&&z.c(),d=Y(),q&&q.c(),m=Y(),H&&H.c(),p=Y(),g=A("section"),O(k.$$.fragment),$=Y(),K&&K.c(),D=Y(),G&&G.c(),F=Y(),O(C.$$.fragment),h(n,"class","bg-primary-500 w-20 h-20 stiff"),h(n,"style",s="border-radius:33%; "+(i[0].color?`background-color:${i[0].color} !important;`:"")),h(o,"class","flex flex-col w-full"),h(t,"class","visuals-editor flex items-center space-x-4"),h(e,"class","label-emoji-color filler overflow-y-auto px-4 dark:text-gray-200 py-4 bg-gray-50 dark:bg-black mb-4"),h(f,"class","px-2 h-50vh "),h(g,"class","mt-4 bg-white dark:bg-black pb-10")},m(U,Q){w(U,e,Q),E(e,t),E(t,n),R.m(n,null),E(t,l),E(t,o),N(a,o,null),E(o,u),B&&B.m(o,null),w(U,c,Q),w(U,f,Q),z&&z.m(f,null),E(f,d),q&&q.m(f,null),E(f,m),H&&H.m(f,null),w(U,p,Q),w(U,g,Q),N(k,g,null),E(g,$),K&&K.m(g,null),E(g,D),G&&G.m(g,null),E(g,F),N(C,g,null),S=!0,P||(I=ke(n,"click",i[18]),P=!0)},p(U,Q){Q&1&&le(r,r=U[0])?(ie(),v(R,1,1,W),re(),R=W4(U),R.c(),_(R,1),R.m(n,null)):R.p(U,Q),(!S||Q&1&&s!==(s="border-radius:33%; "+(U[0].color?`background-color:${U[0].color} !important;`:"")))&&h(n,"style",s);const V={};Q&1&&(V.value=U[0].label),Q&16&&(V.placeholder=U[4]),Q&16&&(V.label=U[4]),a.$set(V),U[2]||U[3]?B?(B.p(U,Q),Q&12&&_(B,1)):(B=V4(U),B.c(),_(B,1),B.m(o,null)):B&&(ie(),v(B,1,1,()=>{B=null}),re()),U[0].type=="context"?z?(z.p(U,Q),Q&1&&_(z,1)):(z=Z4(U),z.c(),_(z,1),z.m(f,d)):z&&(ie(),v(z,1,1,()=>{z=null}),re()),U[0].type=="person"?q?(q.p(U,Q),Q&1&&_(q,1)):(q=x4(U),q.c(),_(q,1),q.m(f,m)):q&&(ie(),v(q,1,1,()=>{q=null}),re()),U[0].type=="tracker"?H?(H.p(U,Q),Q&1&&_(H,1)):(H=X4(U),H.c(),_(H,1),H.m(f,null)):H&&(ie(),v(H,1,1,()=>{H=null}),re());const x={};Q&268435456&&(x.$$scope={dirty:Q,ctx:U}),k.$set(x),U[8].betaFeatures?K?(K.p(U,Q),Q&256&&_(K,1)):(K=K4(U),K.c(),_(K,1),K.m(g,D)):K&&(ie(),v(K,1,1,()=>{K=null}),re()),U[0].type=="tracker"?G?(G.p(U,Q),Q&1&&_(G,1)):(G=J4(U),G.c(),_(G,1),G.m(g,F)):G&&(ie(),v(G,1,1,()=>{G=null}),re());const ee={};Q&268435456&&(ee.$$scope={dirty:Q,ctx:U}),C.$set(ee)},i(U){S||(_(R),_(a.$$.fragment,U),_(B),_(z),_(q),_(H),_(k.$$.fragment,U),_(K),_(G),_(C.$$.fragment,U),S=!0)},o(U){v(R),v(a.$$.fragment,U),v(B),v(z),v(q),v(H),v(k.$$.fragment,U),v(K),v(G),v(C.$$.fragment,U),S=!1},d(U){U&&y(e),R.d(U),M(a),B&&B.d(),U&&y(c),U&&y(f),z&&z.d(),q&&q.d(),H&&H.d(),U&&y(p),U&&y(g),M(k),K&&K.d(),G&&G.d(),M(C),P=!1,I()}}}function Rke(i){let e,t;return e=new Mn({props:{size:24}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function jke(i){let e=i[0].label+"",t,n;return{c(){t=Z(e),n=Z(" Editor")},m(r,s){w(r,t,s),w(r,n,s)},p(r,s){s&1&&e!==(e=r[0].label+"")&&oe(t,e)},i:W,o:W,d(r){r&&y(t),r&&y(n)}}}function Yke(i){let e,t,n,r;const s=[jke,Rke],l=[];function o(a,u){return a[6]?1:0}return t=o(i),n=l[t]=s[t](i),{c(){e=A("h2"),n.c(),h(e,"class","font-bold text-sm flex-grow-0 line-clamp-1 text-black dark:text-white capitalize flex items-center space-x-2")},m(a,u){w(a,e,u),l[t].m(e,null),r=!0},p(a,u){let c=t;t=o(a),t===c?l[t].p(a,u):(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),n=l[t],n?n.p(a,u):(n=l[t]=s[t](a),n.c()),_(n,1),n.m(e,null))},i(a){r||(_(n),r=!0)},o(a){v(n),r=!1},d(a){a&&y(e),l[t].d()}}}function Uke(i){let e=_e.t("general.cancel","Cancel")+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p:W,d(n){n&&y(t)}}}function qke(i){let e,t;return e=new Me({props:{slot:"left",id:"cancel-button",clear:!0,primary:!0,$$slots:{default:[Uke]},$$scope:{ctx:i}}}),e.$on("click",i[13]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&268435456&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Hke(i){let e=_e.t("general.save","Save")+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p:W,d(n){n&&y(t)}}}function Wke(i){let e,t;return e=new Me({props:{slot:"right",id:"save-button",clear:!0,primary:!0,disabled:!i[1],$$slots:{default:[Hke]},$$scope:{ctx:i}}}),e.$on("click",i[10]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.disabled=!n[1]),r&268435456&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Vke(i){let e,t;return e=new Jt({props:{slot:"header",className:"bg-gray-50 stiff dark:bg-black",$$slots:{right:[Wke],left:[qke],default:[Yke]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&268435523&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Gke(i){let e,t;return e=new _n({props:{mainClass:"bg-gray-200 dark:bg-gray-800",$$slots:{header:[Vke],default:[zke]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&268435967&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Zke(i,e,t){let n,r,s;Ee(i,It,U=>t(17,n=U)),Ee(i,Hn,U=>t(7,r=U)),Ee(i,St,U=>t(8,s=U));let{trackable:l}=e,{id:o}=e,{saveByPass:a}=e,u,c=!1,f,d,m="Label",p=!1,g=!1;const k=async U=>{},$=async()=>{if(u.id||t(0,u.id=`${u.prefix}${d}`,u),f||t(0,u.tag=d,u),t(6,g=!0),a)a(u),C();else{let U=await qp({trackable:u,known:n.trackables});C(),Mc(),t(6,g=!1),U&&(un({message:`${u.label} saved`}),setTimeout(async()=>{let Q=XOe();Q&&!Q.getById("award-creator")&&(await Et(600),KOe("award-creator"))}))}},D=async()=>{let U=new ri(u);U.id=void 0,U.tag=void 0,U.tracker.tag=void 0,U.tracker.id=void 0,U.tracker.label=void 0,U.tracker._dirty=!0,Ot(o),await Et(200),xi(U)},F=async()=>{let U;if(f?await Xe.confirm("Warning about Tag Changing","This trackable has already been saved. While you can save a new tag, all past data will not be updated and the old tag will still remain. The new tag will be used moving forward.")&&(await Et(200),U=await Xe.prompt("New Tag",void 0,{value:Kf(f)})):U=await Xe.prompt("New Tag",void 0,{value:Kf(u.tag)}),U){const Q=qu(U);n.trackables[`${u.prefix}${Q}`]?(await Et(200),await Xe.error(`${u.prefix}${Q} already exists. Try another`),await Et(200),F()):(t(2,f=void 0),t(3,d=Q))}},C=async()=>{Ot(o)},S=async()=>{const U=await cve(u);U&&(U.color&&t(0,u.color=U.color,u),U.emoji&&t(0,u.emoji=U.emoji,u),U.avatar&&t(0,u.avatar=U.avatar,u))},P=U=>{t(0,u.label=U.detail,u),f||(t(3,d=`${qu(u.label)}`),t(0,u.tag=d,u))},I=()=>F();function R(U){u=U,t(0,u),t(14,l),t(3,d),t(2,f)}function B(U){u=U,t(0,u),t(14,l),t(3,d),t(2,f)}function z(U){u=U,t(0,u),t(14,l),t(3,d),t(2,f)}const q=()=>{qae([u],`${Ya}`)},H=()=>k(),K=()=>{D()},G=async()=>{await Fz(u),C()};return i.$$set=U=>{"trackable"in U&&t(14,l=U.trackable),"id"in U&&t(15,o=U.id),"saveByPass"in U&&t(16,a=U.saveByPass)},i.$$.update=()=>{i.$$.dirty&16397&&l&&!u&&(t(0,u=new ri(l)),t(3,d=u.tag||qu(u.label)),t(2,f=d),!f&&!u.emoji&&(t(0,u.emoji=NO(),u),t(0,u.color=BJ(),u)),u.type=="tracker"&&t(4,m="Tracker Label"),u.type=="person"&&t(4,m="Person's Name")),i.$$.dirty&131087&&Fn(u)&&(t(1,c=u.canSave),c&&f!==d&&(n.trackables[`${u.prefix}${d}`]?(t(1,c=!1),t(5,p=!0),console.error("That tag already exists!")):t(5,p=!1)))},[u,c,f,d,m,p,g,r,s,k,$,D,F,C,l,o,a,n,S,P,I,R,B,z,q,H,K,G]}class xke extends ce{constructor(e){super(),ue(this,e,Zke,Gke,le,{trackable:14,id:15,saveByPass:16})}}const xi=(i,e)=>{Vl("open_trackable_editor"),en({id:`trackable-editor-${i.tag}`,componentProps:{trackable:i,saveByPass:e},component:xke})},Q4=i=>Im.find(e=>e.id==i).symbol,Im=[{id:"lt",label:"Less than",symbol:"<"},{id:"lte",label:"Less or Equal",symbol:"<="},{id:"eq",label:"Equal",symbol:"="},{id:"gt",label:"Greater than",symbol:">"},{id:"gte",label:"Greater or Equal",symbol:">="}],Xke=(i,e)=>{let t,n;const r=e||we();return i.duration==="month"?(t=r.startOf("month"),n=r.endOf("month")):i.duration==="week"?(t=r.startOf("week"),n=r.endOf("week")):i.duration==="day"&&(t=r.startOf("day"),n=r.endOf("day")),{start:t,end:n}},Kke=(i,e)=>{const t=i.filter(l=>l).map(l=>l==null?void 0:l.duration),n=e||we();let r,s;return t.indexOf("month")>-1?(r=n.startOf("month"),s=n.endOf("month")):t.indexOf("week")>-1?(r=n.startOf("week"),s=n.endOf("week")):t.indexOf("day")>-1&&(r=n.startOf("day"),s=n.endOf("day")),{start:r,end:s}};class Bm{constructor(e={}){Ne(this,"id");Ne(this,"trackable");Ne(this,"tag");Ne(this,"duration");Ne(this,"target");Ne(this,"comparison");var t;this.id=e.id||pn(),this.trackable=e.trackable?new ri(e.trackable):void 0,this.tag=e.tag||((t=this.trackable)==null?void 0:t.tag)||void 0,this.duration="day",this.target=Nn(e.target),this.comparison=e.comparison}get asObject(){return{id:this.id,duration:this.duration,target:this.target,comparison:this.comparison,tag:this.tag}}get durationLabel(){return this.durationToLabel(this.duration)}durationToLabel(e){switch(e){case"day":return"Daily";case"week":return"Weekly";case"month":return"Monthly"}}get isDontDoIt(){return this.comparison==="lt"||this.comparison==="lte"}compare(e){return this.comparison==="eq"&&e==this.target||this.comparison==="lt"&&e<this.target||this.comparison==="lte"&&e<=this.target||this.comparison==="gt"&&e>this.target?!0:this.comparison==="gte"&&e>=this.target}calculateScores(e){let t=[],n;return this.duration==="month"&&e&&(n=e.groupBy("month","YYYY-MM").backfill()),this.duration==="week"&&e&&(n=e.groupBy("week","YYYY-MM-w").backfill()),this.duration==="day"&&e&&(n=e.byDay.backfill()),n&&(t=n.values.map((r,s)=>{let l=r;isNaN(r)&&(r=0);const o=this.compare(r),a={success:o,failure:!o,target:this.target,actual:r,og:l,date:n.dates[s],percent:ht.percentage(this.target,r)};return(this.comparison=="lt"||this.comparison=="lte"&&!o)&&(a.failure=!0),a})),t}}function e6(i,e,t){const n=i.slice();return n[23]=e[t],n}const Jke=i=>({item:i&16}),t6=i=>({item:i[23].data});function Qke(i){let e;return{c(){e=Z("Missing template")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function n6(i,e){let t,n,r;const s=e[14].default,l=He(s,e,e[13],t6),o=l||Qke();return{key:i,first:null,c(){t=A("svelte-virtual-list-row"),o&&o.c(),n=Y(),qg(t,"class","svelte-gmikgz"),this.first=t},m(a,u){w(a,t,u),o&&o.m(t,null),E(t,n),r=!0},p(a,u){e=a,l&&l.p&&(!r||u&8208)&&Ve(l,s,e,e[13],r?We(s,e[13],u,Jke):Ge(e[13]),t6)},i(a){r||(_(o,a),r=!0)},o(a){v(o,a),r=!1},d(a){a&&y(t),o&&o.d(a)}}}function eye(i){let e,t,n=[],r=new Map,s,l,o,a,u=i[4];const c=f=>f[23].index;for(let f=0;f<u.length;f+=1){let d=e6(i,u,f),m=c(d);r.set(m,n[f]=n6(m,d))}return{c(){e=A("svelte-virtual-list-viewport"),t=A("svelte-virtual-list-contents");for(let f=0;f<n.length;f+=1)n[f].c();nt(t,"padding-top",i[5]+"px"),nt(t,"padding-bottom",i[6]+"px"),qg(t,"class","svelte-gmikgz"),nt(e,"height",i[0]),qg(e,"class","svelte-gmikgz"),Rn(()=>i[17].call(e))},m(f,d){w(f,e,d),E(e,t);for(let m=0;m<n.length;m+=1)n[m].m(t,null);i[15](t),i[16](e),s=kj(e,i[17].bind(e)),l=!0,o||(a=ke(e,"scroll",i[7]),o=!0)},p(f,[d]){d&8208&&(u=f[4],ie(),n=qn(n,d,c,1,f,u,r,t,Ci,n6,null,e6),re()),(!l||d&32)&&nt(t,"padding-top",f[5]+"px"),(!l||d&64)&&nt(t,"padding-bottom",f[6]+"px"),(!l||d&1)&&nt(e,"height",f[0])},i(f){if(!l){for(let d=0;d<u.length;d+=1)_(n[d]);l=!0}},o(f){for(let d=0;d<n.length;d+=1)v(n[d]);l=!1},d(f){f&&y(e);for(let d=0;d<n.length;d+=1)n[d].d();i[15](null),i[16](null),s(),o=!1,a()}}}function tye(i,e,t){let{$$slots:n={},$$scope:r}=e,{items:s}=e,{height:l="100%"}=e,{itemHeight:o=void 0}=e,{start:a=0}=e,{end:u=0}=e,c=[],f,d,m,p=0,g,k,$=0,D=0,F;async function C(B,z,q){const{scrollTop:H}=d;await Ds();let K=$-H,G=a;for(;K<z&&G<B.length;){let Q=f[G-a];Q||(t(9,u=G+1),await Ds(),Q=f[G-a]);const V=c[G]=q||Q.offsetHeight;K+=V,G+=1}t(9,u=G);const U=B.length-u;F=($+K)/u,t(6,D=U*F),c.length=B.length}async function S(){const{scrollTop:B}=d,z=a;for(let G=0;G<f.length;G+=1)c[a+G]=o||f[G].offsetHeight;let q=0,H=0;for(;q<s.length;){const G=c[q]||F;if(H+G>B){t(8,a=q),t(5,$=H);break}H+=G,q+=1}for(;q<s.length&&(H+=c[q]||F,q+=1,!(H>B+p)););t(9,u=q);const K=s.length-u;for(F=H/u;q<s.length;)c[q++]=F;if(t(6,D=K*F),a<z){await Ds();let G=0,U=0;for(let V=a;V<z;V+=1)f[V-a]&&(G+=c[V],U+=o||f[V-a].offsetHeight);const Q=U-G;d.scrollTo(0,B+Q)}}wt(()=>{f=m.getElementsByTagName("svelte-virtual-list-row"),t(12,k=!0)});function P(B){De[B?"unshift":"push"](()=>{m=B,t(3,m)})}function I(B){De[B?"unshift":"push"](()=>{d=B,t(2,d)})}function R(){p=this.offsetHeight,t(1,p)}return i.$$set=B=>{"items"in B&&t(10,s=B.items),"height"in B&&t(0,l=B.height),"itemHeight"in B&&t(11,o=B.itemHeight),"start"in B&&t(8,a=B.start),"end"in B&&t(9,u=B.end),"$$scope"in B&&t(13,r=B.$$scope)},i.$$.update=()=>{i.$$.dirty&1792&&t(4,g=s.slice(a,u).map((B,z)=>({index:z+a,data:B}))),i.$$.dirty&7170&&k&&C(s,p,o)},[l,p,d,m,g,$,D,S,a,u,s,o,k,r,n,P,I,R]}class NI extends ce{constructor(e){super(),ue(this,e,tye,eye,le,{items:10,height:0,itemHeight:11,start:8,end:9})}}const nye=i=>({item:i&8192}),i6=i=>({item:i[13]});function iye(i){let e;const t=i[6].default,n=He(t,i,i[10],i6);return{c(){n&&n.c()},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&9216)&&Ve(n,t,r,r[10],e?We(t,r[10],s,nye):Ge(r[10]),i6)},i(r){e||(_(n,r),e=!0)},o(r){v(n,r),e=!1},d(r){n&&n.d(r)}}}function rye(i){let e,t,n,r,s,l;function o(c){i[7](c)}function a(c){i[8](c)}let u={items:i[3],height:i[2],$$slots:{default:[iye,({item:c})=>({13:c}),({item:c})=>c?8192:0]},$$scope:{ctx:i}};return i[0]!==void 0&&(u.start=i[0]),i[1]!==void 0&&(u.end=i[1]),t=new NI({props:u}),De.push(()=>Ue(t,"start",o,i[0])),De.push(()=>Ue(t,"end",a,i[1])),{c(){e=A("div"),O(t.$$.fragment),h(e,"class",s="virtual-list-wrapper overflow-hidden "+i[4])},m(c,f){w(c,e,f),N(t,e,null),i[9](e),l=!0},p(c,[f]){const d={};f&8&&(d.items=c[3]),f&4&&(d.height=c[2]),f&9216&&(d.$$scope={dirty:f,ctx:c}),!n&&f&1&&(n=!0,d.start=c[0],qe(()=>n=!1)),!r&&f&2&&(r=!0,d.end=c[1],qe(()=>r=!1)),t.$set(d),(!l||f&16&&s!==(s="virtual-list-wrapper overflow-hidden "+c[4]))&&h(e,"class",s)},i(c){l||(_(t.$$.fragment,c),l=!0)},o(c){v(t.$$.fragment,c),l=!1},d(c){c&&y(e),M(t),i[9](null)}}}function sye(i,e,t){let{$$slots:n={},$$scope:r}=e,{items:s=[]}=e,{className:l=""}=e,{start:o=void 0}=e,{end:a=void 0}=e,{height:u="100vh"}=e,c;const f=Dt(),d=()=>{const k=xf(c);t(2,u=`${k.eleHeight}px`)};wt(()=>{d()});function m(k){o=k,t(0,o)}function p(k){a=k,t(1,a)}function g(k){De[k?"unshift":"push"](()=>{c=k,t(5,c)})}return i.$$set=k=>{"items"in k&&t(3,s=k.items),"className"in k&&t(4,l=k.className),"start"in k&&t(0,o=k.start),"end"in k&&t(1,a=k.end),"height"in k&&t(2,u=k.height),"$$scope"in k&&t(10,r=k.$$scope)},i.$$.update=()=>{i.$$.dirty&11&&(a===s.length&&f("end"),f("topItem",s[o]))},[o,a,u,s,l,c,n,m,p,g,r]}class MI extends ce{constructor(e){super(),ue(this,e,sye,rye,le,{items:3,className:4,start:0,end:1,height:2})}}function lye(i){let e,t,n,r,s;return{c(){e=A("div"),t=A("div"),h(t,"class",n="h-full rounded-full "+(`${i[0]}`!="100"?i[5]:i[6])+" progress-bar transition-all "+(i[3]||"bg-primary-500")),h(t,"role","progressbar"),h(t,"style",r=`width:${i[0]}%; ${i[8]?`background-color:${i[8]};`:""}`),h(e,"aria-label",i[7]),h(e,"title",i[7]),h(e,"class",s="progress flex n-progress-bar rounded-full "+(i[1]||"h-6 dark:bg-gray-700 bg-gray-300")),h(e,"style",i[2]),Je(e,"r2l",i[4])},m(l,o){w(l,e,o),E(e,t)},p(l,[o]){o&105&&n!==(n="h-full rounded-full "+(`${l[0]}`!="100"?l[5]:l[6])+" progress-bar transition-all "+(l[3]||"bg-primary-500"))&&h(t,"class",n),o&257&&r!==(r=`width:${l[0]}%; ${l[8]?`background-color:${l[8]};`:""}`)&&h(t,"style",r),o&128&&h(e,"aria-label",l[7]),o&128&&h(e,"title",l[7]),o&2&&s!==(s="progress flex n-progress-bar rounded-full "+(l[1]||"h-6 dark:bg-gray-700 bg-gray-300"))&&h(e,"class",s),o&4&&h(e,"style",l[2]),o&18&&Je(e,"r2l",l[4])},i:W,o:W,d(l){l&&y(e)}}}function oye(i,e,t){let{percentage:n=0}=e,{className:r=void 0}=e,{style:s=""}=e,{barClass:l=void 0}=e,{r2l:o=!1}=e,{not100Class:a=""}=e,{is100Class:u=""}=e,{title:c=""}=e,{color:f=void 0}=e;return i.$$set=d=>{"percentage"in d&&t(0,n=d.percentage),"className"in d&&t(1,r=d.className),"style"in d&&t(2,s=d.style),"barClass"in d&&t(3,l=d.barClass),"r2l"in d&&t(4,o=d.r2l),"not100Class"in d&&t(5,a=d.not100Class),"is100Class"in d&&t(6,u=d.is100Class),"title"in d&&t(7,c=d.title),"color"in d&&t(8,f=d.color)},[n,r,s,l,o,a,u,c,f]}class Kr extends ce{constructor(e){super(),ue(this,e,oye,lye,le,{percentage:0,className:1,style:2,barClass:3,r2l:4,not100Class:5,is100Class:6,title:7,color:8})}}function r6(i,e,t){const n=i.slice();return n[20]=e[t],n}function aye(i){let e;return{c(){e=A("div"),e.textContent="Not enough data. Keep Tracking!",h(e,"class","bg-white dark:bg-black flex items-center justify-center h-40 p-10")},m(t,n){w(t,e,n)},p:W,i:W,o:W,d(t){t&&y(e)}}}function uye(i){let e,t,n=i[8].label+"",r,s,l=Q4(i[0].comparison)+"",o,a,u=i[8].formatValue(i[0].target)+"",c,f,d,m=i[2]&&s6(i);return{c(){e=A("div"),t=A("h1"),r=Z(n),s=Y(),o=Z(l),a=Y(),c=Z(u),f=Y(),m&&m.c(),h(t,"class","text-xl font-bold text-black dark:text-white leading-tight mt-4 pb-"),h(e,"class","bg-white dark:bg-black px-4 pb-4 flex flex-col space-y-2")},m(p,g){w(p,e,g),E(e,t),E(t,r),E(t,s),E(t,o),E(t,a),E(t,c),E(e,f),m&&m.m(e,null),d=!0},p(p,g){(!d||g&256)&&n!==(n=p[8].label+"")&&oe(r,n),(!d||g&1)&&l!==(l=Q4(p[0].comparison)+"")&&oe(o,l),(!d||g&257)&&u!==(u=p[8].formatValue(p[0].target)+"")&&oe(c,u),p[2]?m?(m.p(p,g),g&4&&_(m,1)):(m=s6(p),m.c(),_(m,1),m.m(e,null)):m&&(ie(),v(m,1,1,()=>{m=null}),re())},i(p){d||(_(m),d=!0)},o(p){v(m),d=!1},d(p){p&&y(e),m&&m.d()}}}function s6(i){let e,t,n,r=ht.round(ht.percentage(i[6],i[7]))+"",s,l,o,a,u,c,f,d,m,p,g,k;return g=new Kr({props:{color:i[8].color,className:"h-2",barClass:"h-1 ",percentage:ht.round(ht.percentage(i[6],i[7]))}}),{c(){e=A("p"),t=Z("Goal hit "),n=A("strong"),s=Z(r),l=Z("%"),o=Y(),a=A("strong"),u=Z(i[7]),c=Z(" out of "),f=Z(i[6]),d=Z(` days.
        `),m=A("br"),p=Y(),O(g.$$.fragment),h(n,"class","text-black dark:text-white"),h(e,"class","text-gray-600 dark:text-gray-400 leading-snug pb-2")},m($,D){w($,e,D),E(e,t),E(e,n),E(n,s),E(n,l),E(e,o),E(e,a),E(a,u),E(e,c),E(e,f),E(e,d),E(e,m),w($,p,D),N(g,$,D),k=!0},p($,D){(!k||D&192)&&r!==(r=ht.round(ht.percentage($[6],$[7]))+"")&&oe(s,r),(!k||D&128)&&oe(u,$[7]),(!k||D&64)&&oe(f,$[6]);const F={};D&256&&(F.color=$[8].color),D&192&&(F.percentage=ht.round(ht.percentage($[6],$[7]))),g.$set(F)},i($){k||(_(g.$$.fragment,$),k=!0)},o($){v(g.$$.fragment,$),k=!1},d($){$&&y(e),$&&y(p),M(g,$)}}}function l6(i){let e,t;return e=new Gn({props:{$$slots:{default:[cye]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function cye(i){let e,t;return e=new Mn({props:{size:42}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function o6(i){let e,t,n,r;e=new MI({props:{className:"goal-scroller h-full filler overflow-hidden",items:i[5],$$slots:{default:[fye,({item:l})=>({19:l}),({item:l})=>l?524288:0]},$$scope:{ctx:i}}}),e.$on("end",i[15]);let s=i[4]&&c6();return{c(){O(e.$$.fragment),t=Y(),s&&s.c(),n=$e()},m(l,o){N(e,l,o),w(l,t,o),s&&s.m(l,o),w(l,n,o),r=!0},p(l,o){const a={};o&32&&(a.items=l[5]),o&8912896&&(a.$$scope={dirty:o,ctx:l}),e.$set(a),l[4]?s?o&16&&_(s,1):(s=c6(),s.c(),_(s,1),s.m(n.parentNode,n)):s&&(ie(),v(s,1,1,()=>{s=null}),re())},i(l){r||(_(e.$$.fragment,l),_(s),r=!0)},o(l){v(e.$$.fragment,l),v(s),r=!1},d(l){M(e,l),l&&y(t),s&&s.d(l),l&&y(n)}}}function a6(i){let e,t,n=i[19][0].date.format(i[10].tinyDate)+"",r,s,l=i[19][i[19].length-1].date.format(i[10].tinyDate)+"",o,a,u=i[19][0].date.format("YYYY")+"",c,f,d,m=i[19],p=[];for(let g=0;g<m.length;g+=1)p[g]=u6(r6(i,m,g));return{c(){e=A("div"),t=A("h2"),r=Z(n),s=Z(" \u2192 "),o=Z(l),a=Y(),c=Z(u),f=Y(),d=A("div");for(let g=0;g<p.length;g+=1)p[g].c();h(d,"class","goal-balls"),h(e,"class","week")},m(g,k){w(g,e,k),E(e,t),E(t,r),E(t,s),E(t,o),E(t,a),E(t,c),E(e,f),E(e,d);for(let $=0;$<p.length;$+=1)p[$].m(d,null)},p(g,k){if(k&524288&&n!==(n=g[19][0].date.format(g[10].tinyDate)+"")&&oe(r,n),k&524288&&l!==(l=g[19][g[19].length-1].date.format(g[10].tinyDate)+"")&&oe(o,l),k&524288&&u!==(u=g[19][0].date.format("YYYY")+"")&&oe(c,u),k&526848){m=g[19];let $;for($=0;$<m.length;$+=1){const D=r6(g,m,$);p[$]?p[$].p(D,k):(p[$]=u6(D),p[$].c(),p[$].m(d,null))}for(;$<p.length;$+=1)p[$].d(1);p.length=m.length}},d(g){g&&y(e),it(p,g)}}}function u6(i){let e,t=i[20].date.format("ddd").substring(0,1)+"",n,r,s,l,o;function a(){return i[14](i[20])}return{c(){e=A("button"),n=Z(t),r=Y(),nt(e,"transform","scale("+i[11](i[20].percent)+")"),h(e,"class",s="goal-ball transition-all "+(i[20].success==!0?"bg-green-500":"")+" "+(i[20].failure==!0?"bg-red-500":""))},m(u,c){w(u,e,c),E(e,n),E(e,r),l||(o=ke(e,"click",a),l=!0)},p(u,c){i=u,c&524288&&t!==(t=i[20].date.format("ddd").substring(0,1)+"")&&oe(n,t),c&524288&&nt(e,"transform","scale("+i[11](i[20].percent)+")"),c&524288&&s!==(s="goal-ball transition-all "+(i[20].success==!0?"bg-green-500":"")+" "+(i[20].failure==!0?"bg-red-500":""))&&h(e,"class",s)},d(u){u&&y(e),l=!1,o()}}}function fye(i){let e,t=i[19][0]&&a6(i);return{c(){t&&t.c(),e=$e()},m(n,r){t&&t.m(n,r),w(n,e,r)},p(n,r){n[19][0]?t?t.p(n,r):(t=a6(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){t&&t.d(n),n&&y(e)}}}function c6(i){let e,t,n;return t=new Mn({props:{size:22}}),{c(){e=A("div"),O(t.$$.fragment),h(e,"class","absolute bottom-10 right-10 z-50")},m(r,s){w(r,e,s),N(t,e,null),n=!0},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function dye(i){let e,t,n,r,s,l;const o=[uye,aye],a=[];function u(d,m){return d[0]&&d[6]?0:!d[3]&&!d[6]?1:-1}~(e=u(i))&&(t=a[e]=o[e](i));let c=i[3]&&l6(i),f=!i[3]&&o6(i);return{c(){t&&t.c(),n=Y(),c&&c.c(),r=Y(),f&&f.c(),s=$e()},m(d,m){~e&&a[e].m(d,m),w(d,n,m),c&&c.m(d,m),w(d,r,m),f&&f.m(d,m),w(d,s,m),l=!0},p(d,[m]){let p=e;e=u(d),e===p?~e&&a[e].p(d,m):(t&&(ie(),v(a[p],1,1,()=>{a[p]=null}),re()),~e?(t=a[e],t?t.p(d,m):(t=a[e]=o[e](d),t.c()),_(t,1),t.m(n.parentNode,n)):t=null),d[3]?c?m&8&&_(c,1):(c=l6(d),c.c(),_(c,1),c.m(r.parentNode,r)):c&&(ie(),v(c,1,1,()=>{c=null}),re()),d[3]?f&&(ie(),v(f,1,1,()=>{f=null}),re()):f?(f.p(d,m),m&8&&_(f,1)):(f=o6(d),f.c(),_(f,1),f.m(s.parentNode,s))},i(d){l||(_(t),_(c),_(f),l=!0)},o(d){v(t),v(c),v(f),l=!1},d(d){~e&&a[e].d(d),d&&y(n),c&&c.d(d),d&&y(r),f&&f.d(d),d&&y(s)}}}function hye(i,e,t){let n;Ee(i,It,P=>t(13,n=P));let{goal:r}=e,s,l=[],o=!0,a=!0,u=[],c,f,d=new Date,m;const p=()=>{let P={};return l.sort((I,R)=>I.date.toDate()<R.date.toDate()?-1:1).filter((I,R)=>{let B=l.findIndex(z=>z.date.format("YYYY-MM-DD")===I.date.format("YYYY-MM-DD"));return!(B&&B!==R)}).forEach(I=>{let R=`${I.date.startOf("isoWeek").format("YYYY-MM-DD")}`;P[R]=P[R]||[],P[R].push(I)}),Object.keys(P).map(I=>P[I]).sort((I,R)=>I[0].date.toDate()>R[0].date.toDate()?-1:1)},g=async()=>{t(4,a=!0);const P=we(d).subtract(2,"month"),I=we(d).endOf("day");s=await Mv(m,P,I,n.trackables);let R=s.byDay.backfill(P.toDate(),I.toDate());t(2,l=[...l,...r.calculateScores(R)]),t(6,c=l.length),t(7,f=l.filter(B=>B.success).length),t(5,u=p()),t(3,o=!1),Et(200).then(()=>{t(4,a=!1)})},k=P=>{const I=y_(P);Xe.popmenu({id:`date-options-${P.toDateString()}`,buttons:I})},$=Pn();let D;const F=P=>1,C=P=>k(P.date.toDate()),S=()=>{t(1,d=we(d).subtract(2,"month").toDate())};return i.$$set=P=>{"goal"in P&&t(0,r=P.goal)},i.$$.update=()=>{i.$$.dirty&8193&&r&&r.tag&&t(8,m=n.trackables[r.tag]),i.$$.dirty&4098&&d&&d!==D&&(t(12,D=d),g())},[r,d,l,o,a,u,c,f,m,k,$,F,D,n,C,S]}class mye extends ce{constructor(e){super(),ue(this,e,hye,dye,le,{goal:0})}}function f6(i){let e,t;const n=i[10].default,r=He(n,i,i[9],null),s=r||pye(i);return{c(){e=A("div"),s&&s.c(),h(e,"class","slot")},m(l,o){w(l,e,o),s&&s.m(e,null),t=!0},p(l,o){r?r.p&&(!t||o&512)&&Ve(r,n,l,l[9],t?We(n,l[9],o,null):Ge(l[9]),null):s&&s.p&&(!t||o&1)&&s.p(l,t?o:-1)},i(l){t||(_(s,l),t=!0)},o(l){v(s,l),t=!1},d(l){l&&y(e),s&&s.d(l)}}}function pye(i){let e,t=(i[0]||0).toFixed(0)+"",n;return{c(){e=A("span"),n=Z(t)},m(r,s){w(r,e,s),E(e,n)},p(r,s){s&1&&t!==(t=(r[0]||0).toFixed(0)+"")&&oe(n,t)},d(r){r&&y(e)}}}function _ye(i){let e,t,n,r,s,l,o,a,u,c=i[4]&&f6(i);return{c(){e=A("div"),t=me("svg"),n=me("path"),r=me("path"),l=Y(),c&&c.c(),h(n,"d","M50,5A45 45 0 1 1 49.9999 5"),h(r,"d",s=i[7]()),h(t,"viewBox","0 0 100 100"),nt(t,"height",i[1]+"px"),nt(t,"width",i[1]+"px"),h(e,"class",o="progress-circle "+i[5]),h(e,"style",a="--progress-size:"+i[1]+"px; "+(i[2]?`--progress-active:${i[2]};`:"--progress-active: var(--color-primary);")+" "+(i[3]?`--progress-background:${i[3]};`:"--progress-background: var(--color-solid-200);")+" "+i[6])},m(f,d){w(f,e,d),E(e,t),E(t,n),E(t,r),E(e,l),c&&c.m(e,null),u=!0},p(f,[d]){(!u||d&128&&s!==(s=f[7]()))&&h(r,"d",s),(!u||d&2)&&nt(t,"height",f[1]+"px"),(!u||d&2)&&nt(t,"width",f[1]+"px"),f[4]?c?(c.p(f,d),d&16&&_(c,1)):(c=f6(f),c.c(),_(c,1),c.m(e,null)):c&&(ie(),v(c,1,1,()=>{c=null}),re()),(!u||d&32&&o!==(o="progress-circle "+f[5]))&&h(e,"class",o),(!u||d&78&&a!==(a="--progress-size:"+f[1]+"px; "+(f[2]?`--progress-active:${f[2]};`:"--progress-active: var(--color-primary);")+" "+(f[3]?`--progress-background:${f[3]};`:"--progress-background: var(--color-solid-200);")+" "+f[6]))&&h(e,"style",a)},i(f){u||(_(c),u=!0)},o(f){v(c),u=!1},d(f){f&&y(e),c&&c.d()}}}function gye(i,e,t){let n,{$$slots:r={},$$scope:s}=e,{value:l=0}=e,{max:o=100}=e,{size:a=100}=e,{color:u=void 0}=e,{backgroundColor:c=void 0}=e,{showValue:f=!0}=e,{className:d=""}=e,{style:m=""}=e;return i.$$set=p=>{"value"in p&&t(0,l=p.value),"max"in p&&t(8,o=p.max),"size"in p&&t(1,a=p.size),"color"in p&&t(2,u=p.color),"backgroundColor"in p&&t(3,c=p.backgroundColor),"showValue"in p&&t(4,f=p.showValue),"className"in p&&t(5,d=p.className),"style"in p&&t(6,m=p.style),"$$scope"in p&&t(9,s=p.$$scope)},i.$$.update=()=>{i.$$.dirty&257&&t(7,n=()=>{if(l<=0)return"";if(l>=o)return"M50,5A45 45 0 1 1 49.9999 5";{const p=Math.PI*2*(l/o),g=50+Math.cos(p-Math.PI/2)*45,k=50+Math.sin(p-Math.PI/2)*45;let $="M50,5";return p>Math.PI&&($+="A45 45 0 0 1 50 95"),$+=`A45 45 0 0 1 ${g} ${k}`,$}})},[l,a,u,c,f,d,m,n,o,s,r]}class LI extends ce{constructor(e){super(),ue(this,e,gye,_ye,le,{value:0,max:8,size:1,color:2,backgroundColor:3,showValue:4,className:5,style:6})}}function d6(i,e,t){const n=i.slice();return n[6]=e[t],n}function h6(i){let e,t,n=i[1].sort(p6),r=[];for(let l=0;l<n.length;l+=1)r[l]=m6(d6(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){e=A("div");for(let l=0;l<r.length;l+=1)r[l].c();h(e,"class","flex flex-col space-y-2")},m(l,o){w(l,e,o);for(let a=0;a<r.length;a+=1)r[a].m(e,null);t=!0},p(l,o){if(o&3){n=l[1].sort(p6);let a;for(a=0;a<n.length;a+=1){const u=d6(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=m6(u),r[a].c(),_(r[a],1),r[a].m(e,null))}for(ie(),a=n.length;a<r.length;a+=1)s(a);re()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){l&&y(e),it(r,l)}}}function vye(i){let e,t=i[6].date.format("MMMM")+"",n,r,s,l=i[0].trackable.formatValue(i[6].actual)+"",o,a;return{c(){e=A("h1"),n=Z(t),r=Y(),s=A("p"),o=Z(l),a=Y(),h(e,"class","font-medium text-gray-800 dark:text-gray-200 leading-tight"),h(s,"class","text-black dark:text-white font-semibold")},m(u,c){w(u,e,c),E(e,n),w(u,r,c),w(u,s,c),E(s,o),w(u,a,c)},p(u,c){c&2&&t!==(t=u[6].date.format("MMMM")+"")&&oe(n,t),c&3&&l!==(l=u[0].trackable.formatValue(u[6].actual)+"")&&oe(o,l)},d(u){u&&y(e),u&&y(r),u&&y(s),u&&y(a)}}}function bye(i){let e;return{c(){e=A("div"),h(e,"class","ball h-10 w-10 absolute rounded-full bg-red-500")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function kye(i){let e;return{c(){e=A("div"),h(e,"class","ball h-10 w-10 absolute rounded-full bg-green-500")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function yye(i){let e,t,n,r,s,l;function o(c,f){return c[6].success?kye:bye}let a=o(i),u=a(i);return r=new LI({props:{value:i[6].percent||0,color:"#FFF",size:36}}),{c(){e=A("div"),t=A("div"),u.c(),n=Y(),O(r.$$.fragment),s=Y(),h(t,"class","status-ball relative flex items-center justify-center"),h(e,"slot","left")},m(c,f){w(c,e,f),E(e,t),u.m(t,null),E(t,n),N(r,t,null),E(e,s),l=!0},p(c,f){a!==(a=o(c))&&(u.d(1),u=a(c),u&&(u.c(),u.m(t,n)));const d={};f&2&&(d.value=c[6].percent||0),r.$set(d)},i(c){l||(_(r.$$.fragment,c),l=!0)},o(c){v(r.$$.fragment,c),l=!1},d(c){c&&y(e),u.d(),M(r)}}}function wye(i){let e,t=i[6].date.format("YYYY")+"",n,r;return{c(){e=A("h1"),n=Z(t),r=Y(),h(e,"class","font-medium"),h(e,"slot","right")},m(s,l){w(s,e,l),E(e,n),E(e,r)},p(s,l){l&2&&t!==(t=s[6].date.format("YYYY")+"")&&oe(n,t)},d(s){s&&y(e)}}}function m6(i){let e,t;return e=new xe({props:{$$slots:{right:[wye],left:[yye],default:[vye]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&515&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function $ye(i){var r;let e,t,n=((r=i[1])==null?void 0:r.length)&&h6(i);return{c(){n&&n.c(),e=$e()},m(s,l){n&&n.m(s,l),w(s,e,l),t=!0},p(s,[l]){var o;(o=s[1])!=null&&o.length?n?(n.p(s,l),l&2&&_(n,1)):(n=h6(s),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ie(),v(n,1,1,()=>{n=null}),re())},i(s){t||(_(n),t=!0)},o(s){v(n),t=!1},d(s){n&&n.d(s),s&&y(e)}}}const p6=(i,e)=>i.date>e.date?-1:1;function Fye(i,e,t){let n;Ee(i,It,u=>t(3,n=u));let{goal:r}=e,s,l=we().endOf("month"),o;const a=async()=>{s=await Mv(r.trackable,l.subtract(6,"months"),l,n.trackables),t(1,o=r.calculateScores(s))};return wt(()=>{a()}),i.$$set=u=>{"goal"in u&&t(0,r=u.goal)},[r,o]}class Eye extends ce{constructor(e){super(),ue(this,e,Fye,$ye,le,{goal:0})}}function _6(i,e,t){const n=i.slice();return n[6]=e[t],n}function g6(i){let e,t,n,r,s;return t=new fi({props:{trackable:i[0].trackable,size:48}}),{c(){e=A("h1"),O(t.$$.fragment),n=Y(),r=A("span"),r.textContent="Week Goal",h(e,"class","text-3xl font-bold text-black dark:text-white items-center flex space-x-2 mb-4")},m(l,o){w(l,e,o),N(t,e,null),E(e,n),E(e,r),s=!0},p(l,o){const a={};o&1&&(a.trackable=l[0].trackable),t.$set(a)},i(l){s||(_(t.$$.fragment,l),s=!0)},o(l){v(t.$$.fragment,l),s=!1},d(l){l&&y(e),M(t)}}}function v6(i){let e,t,n=i[1].sort(k6),r=[];for(let l=0;l<n.length;l+=1)r[l]=b6(_6(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){e=A("div");for(let l=0;l<r.length;l+=1)r[l].c();h(e,"class","flex flex-col space-y-2")},m(l,o){w(l,e,o);for(let a=0;a<r.length;a+=1)r[a].m(e,null);t=!0},p(l,o){if(o&3){n=l[1].sort(k6);let a;for(a=0;a<n.length;a+=1){const u=_6(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=b6(u),r[a].c(),_(r[a],1),r[a].m(e,null))}for(ie(),a=n.length;a<r.length;a+=1)s(a);re()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){l&&y(e),it(r,l)}}}function Dye(i){let e,t=i[6].date.format("MM DD YYYY")+"",n,r,s,l=i[0].trackable.formatValue(i[6].actual)+"",o,a;return{c(){e=A("h1"),n=Z(t),r=Y(),s=A("p"),o=Z(l),a=Y(),h(e,"class","font-medium text-gray-800 dark:text-gray-200 leading-tight"),h(s,"class","text-black dark:text-white font-semibold")},m(u,c){w(u,e,c),E(e,n),w(u,r,c),w(u,s,c),E(s,o),w(u,a,c)},p(u,c){c&2&&t!==(t=u[6].date.format("MM DD YYYY")+"")&&oe(n,t),c&3&&l!==(l=u[0].trackable.formatValue(u[6].actual)+"")&&oe(o,l)},d(u){u&&y(e),u&&y(r),u&&y(s),u&&y(a)}}}function Cye(i){let e;return{c(){e=A("div"),h(e,"class","ball h-10 w-10 absolute rounded-full bg-red-500")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Sye(i){let e;return{c(){e=A("div"),h(e,"class","ball h-10 w-10 absolute rounded-full bg-green-500")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Tye(i){let e,t,n,r,s,l;function o(c,f){return c[6].success?Sye:Cye}let a=o(i),u=a(i);return r=new LI({props:{value:i[6].percent||0,color:"#FFF",size:36}}),{c(){e=A("div"),t=A("div"),u.c(),n=Y(),O(r.$$.fragment),s=Y(),h(t,"class","status-ball relative flex items-center justify-center"),h(e,"slot","left")},m(c,f){w(c,e,f),E(e,t),u.m(t,null),E(t,n),N(r,t,null),E(e,s),l=!0},p(c,f){a!==(a=o(c))&&(u.d(1),u=a(c),u&&(u.c(),u.m(t,n)));const d={};f&2&&(d.value=c[6].percent||0),r.$set(d)},i(c){l||(_(r.$$.fragment,c),l=!0)},o(c){v(r.$$.fragment,c),l=!1},d(c){c&&y(e),u.d(),M(r)}}}function Aye(i){let e,t=i[6].date.format("YYYY")+"",n,r;return{c(){e=A("h1"),n=Z(t),r=Y(),h(e,"class","font-medium"),h(e,"slot","right")},m(s,l){w(s,e,l),E(e,n),E(e,r)},p(s,l){l&2&&t!==(t=s[6].date.format("YYYY")+"")&&oe(n,t)},d(s){s&&y(e)}}}function b6(i){let e,t;return e=new xe({props:{$$slots:{right:[Aye],left:[Tye],default:[Dye]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&515&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Pye(i){var l;let e,t,n,r=i[0]&&g6(i),s=((l=i[1])==null?void 0:l.length)&&v6(i);return{c(){r&&r.c(),e=Y(),s&&s.c(),t=$e()},m(o,a){r&&r.m(o,a),w(o,e,a),s&&s.m(o,a),w(o,t,a),n=!0},p(o,[a]){var u;o[0]?r?(r.p(o,a),a&1&&_(r,1)):(r=g6(o),r.c(),_(r,1),r.m(e.parentNode,e)):r&&(ie(),v(r,1,1,()=>{r=null}),re()),(u=o[1])!=null&&u.length?s?(s.p(o,a),a&2&&_(s,1)):(s=v6(o),s.c(),_(s,1),s.m(t.parentNode,t)):s&&(ie(),v(s,1,1,()=>{s=null}),re())},i(o){n||(_(r),_(s),n=!0)},o(o){v(r),v(s),n=!1},d(o){r&&r.d(o),o&&y(e),s&&s.d(o),o&&y(t)}}}const k6=(i,e)=>i.date>e.date?-1:1;function Nye(i,e,t){let n;Ee(i,It,u=>t(3,n=u));let{goal:r}=e,s,l=we().endOf("week"),o;const a=async()=>{s=await Mv(r.trackable,l.subtract(6,"months"),l,n.trackables),t(1,o=r.calculateScores(s))};return wt(()=>{a()}),i.$$set=u=>{"goal"in u&&t(0,r=u.goal)},[r,o]}class Mye extends ce{constructor(e){super(),ue(this,e,Nye,Pye,le,{goal:0})}}function Lye(i){let e,t;return e=new Gn({props:{$$slots:{default:[Iye]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&16&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Oye(i){let e,t,n,r;const s=[Rye,zye,Bye],l=[];function o(a,u){return a[0].duration==="day"?0:a[0].duration==="week"?1:a[0].duration==="month"?2:-1}return~(e=o(i))&&(t=l[e]=s[e](i)),{c(){t&&t.c(),n=$e()},m(a,u){~e&&l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?~e&&l[e].p(a,u):(t&&(ie(),v(l[c],1,1,()=>{l[c]=null}),re()),~e?(t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n)):t=null)},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){~e&&l[e].d(a),a&&y(n)}}}function Iye(i){let e,t;return e=new Mn({props:{size:32}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Bye(i){let e,t,n;function r(l){i[3](l)}let s={};return i[0]!==void 0&&(s.goal=i[0]),e=new Eye({props:s}),De.push(()=>Ue(e,"goal",r,i[0])),{c(){O(e.$$.fragment)},m(l,o){N(e,l,o),n=!0},p(l,o){const a={};!t&&o&1&&(t=!0,a.goal=l[0],qe(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){M(e,l)}}}function zye(i){let e,t,n;function r(l){i[2](l)}let s={};return i[0]!==void 0&&(s.goal=i[0]),e=new Mye({props:s}),De.push(()=>Ue(e,"goal",r,i[0])),{c(){O(e.$$.fragment)},m(l,o){N(e,l,o),n=!0},p(l,o){const a={};!t&&o&1&&(t=!0,a.goal=l[0],qe(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){M(e,l)}}}function Rye(i){let e,t,n;function r(l){i[1](l)}let s={};return i[0]!==void 0&&(s.goal=i[0]),e=new mye({props:s}),De.push(()=>Ue(e,"goal",r,i[0])),{c(){O(e.$$.fragment)},m(l,o){N(e,l,o),n=!0},p(l,o){const a={};!t&&o&1&&(t=!0,a.goal=l[0],qe(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){M(e,l)}}}function jye(i){let e,t,n,r;const s=[Oye,Lye],l=[];function o(a,u){return a[0]?0:1}return t=o(i),n=l[t]=s[t](i),{c(){e=A("div"),n.c(),h(e,"class","goal-detail flex flex-col h-full filler ")},m(a,u){w(a,e,u),l[t].m(e,null),r=!0},p(a,[u]){let c=t;t=o(a),t===c?l[t].p(a,u):(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),n=l[t],n?n.p(a,u):(n=l[t]=s[t](a),n.c()),_(n,1),n.m(e,null))},i(a){r||(_(n),r=!0)},o(a){v(n),r=!1},d(a){a&&y(e),l[t].d()}}}function Yye(i,e,t){let{goal:n}=e;function r(o){n=o,t(0,n)}function s(o){n=o,t(0,n)}function l(o){n=o,t(0,n)}return i.$$set=o=>{"goal"in o&&t(0,n=o.goal)},[n,r,s,l]}class Uye extends ce{constructor(e){super(),ue(this,e,Yye,jye,le,{goal:0})}}function qye(i){let e,t,n;function r(l){i[6](l)}let s={};return i[0]!==void 0&&(s.goal=i[0]),e=new Uye({props:s}),De.push(()=>Ue(e,"goal",r,i[0])),{c(){O(e.$$.fragment)},m(l,o){N(e,l,o),n=!0},p(l,o){const a={};!t&&o&1&&(t=!0,a.goal=l[0],qe(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){M(e,l)}}}function Hye(i){let e,t,n;return t=new vl({props:{hideValue:!0,transparent:!0,trackable:i[1]}}),{c(){e=A("div"),O(t.$$.fragment)},m(r,s){w(r,e,s),N(t,e,null),n=!0},p(r,s){const l={};s&2&&(l.trackable=r[1]),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function Wye(i){let e=_e.t("general.close","Close")+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p:W,d(n){n&&y(t)}}}function Vye(i){let e,t;return e=new Me({props:{slot:"left",primary:!0,clear:!0,$$slots:{default:[Wye]},$$scope:{ctx:i}}}),e.$on("click",i[2]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&128&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Gye(i){let e=_e.t("general.Edit","Edit")+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p:W,d(n){n&&y(t)}}}function Zye(i){let e,t;return e=new Me({props:{slot:"right",primary:!0,clear:!0,$$slots:{default:[Gye]},$$scope:{ctx:i}}}),e.$on("click",i[5]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&128&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function xye(i){let e,t;return e=new Jt({props:{slot:"header",className:"bg-white dark:bg-black",$$slots:{right:[Zye],left:[Vye],default:[Hye]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&131&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Xye(i){let e,t;return e=new _n({props:{mainClass:"relative",$$slots:{header:[xye],default:[qye]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&131&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Kye(i,e,t){let n;Ee(i,It,c=>t(4,n=c));let{id:r}=e,{goal:s}=e,l;const o=()=>{Ot(r)},a=()=>{j1(s)};function u(c){s=c,t(0,s)}return i.$$set=c=>{"id"in c&&t(3,r=c.id),"goal"in c&&t(0,s=c.goal)},i.$$.update=()=>{i.$$.dirty&17&&s&&t(1,l=n.trackables[s.tag])},[s,l,o,r,n,a,u]}class Jye extends ce{constructor(e){super(),ue(this,e,Kye,Xye,le,{id:3,goal:0})}}function Qye(i){let e;return{c(){e=A("div"),e.textContent="Which Trackable?",h(e,"class","py-2")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function ewe(i){let e;return{c(){e=A("span"),e.textContent="Select",h(e,"class","text-primary-500")},m(t,n){w(t,e,n)},p:W,i:W,o:W,d(t){t&&y(e)}}}function twe(i){let e,t;return e=new vl({props:{trackable:i[2],size:32,hideValue:!0}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&4&&(s.trackable=n[2]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function nwe(i){let e,t,n,r;const s=[twe,ewe],l=[];function o(a,u){return a[2]?0:1}return t=o(i),n=l[t]=s[t](i),{c(){e=A("div"),n.c(),h(e,"slot","right")},m(a,u){w(a,e,u),l[t].m(e,null),r=!0},p(a,u){let c=t;t=o(a),t===c?l[t].p(a,u):(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),n=l[t],n?n.p(a,u):(n=l[t]=s[t](a),n.c()),_(n,1),n.m(e,null))},i(a){r||(_(n),r=!0)},o(a){v(n),r=!1},d(a){a&&y(e),l[t].d()}}}function iwe(i){let e;return{c(){e=Z("Should be...")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function rwe(i){let e=Im.find(i[13]).label+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p(n,r){r&2&&e!==(e=Im.find(n[13]).label+"")&&oe(t,e)},d(n){n&&y(t)}}}function swe(i){let e;function t(s,l){return s[1]?rwe:iwe}let n=t(i),r=n(i);return{c(){e=A("div"),r.c(),h(e,"class","py-2")},m(s,l){w(s,e,l),r.m(e,null)},p(s,l){n===(n=t(s))&&r?r.p(s,l):(r.d(1),r=n(s),r&&(r.c(),r.m(e,null)))},d(s){s&&y(e),r.d()}}}function lwe(i){let e,t;return e=new je({props:{slot:"right",icon:cm,className:"opacity-40 pointer-events-none"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function y6(i){let e,t=i[2].formatValue(i[0])+"",n;return{c(){e=A("div"),n=Z(t),h(e,"class","text-gray-500")},m(r,s){w(r,e,s),E(e,n)},p(r,s){s&5&&t!==(t=r[2].formatValue(r[0])+"")&&oe(n,t)},d(r){r&&y(e)}}}function owe(i){let e,t;return e=new je({props:{icon:$d}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function awe(i){let e,t,n,r,s=i[0]&&i[2]&&y6(i);return n=new Me({props:{clear:!0,primary:!0,icon:!0,$$slots:{default:[owe]},$$scope:{ctx:i}}}),n.$on("click",i[15]),{c(){e=A("div"),s&&s.c(),t=Y(),O(n.$$.fragment),h(e,"slot","right"),h(e,"class","flex items-center space-x-2 whitespace-nowrap text-xs")},m(l,o){w(l,e,o),s&&s.m(e,null),E(e,t),N(n,e,null),r=!0},p(l,o){l[0]&&l[2]?s?s.p(l,o):(s=y6(l),s.c(),s.m(e,t)):s&&(s.d(1),s=null);const a={};o&262144&&(a.$$scope={dirty:o,ctx:l}),n.$set(a)},i(l){r||(_(n.$$.fragment,l),r=!0)},o(l){v(n.$$.fragment,l),r=!1},d(l){l&&y(e),s&&s.d(),M(n)}}}function uwe(i){let e,t,n,r,s,l,o,a,u,c;return e=new xe({props:{clickable:!0,$$slots:{right:[nwe],default:[Qye]},$$scope:{ctx:i}}}),e.$on("click",i[5]),n=new Tn({props:{left:16}}),s=new xe({props:{$$slots:{right:[lwe],default:[swe]},$$scope:{ctx:i}}}),s.$on("click",i[14]),o=new Tn({props:{left:16}}),u=new fn({props:{type:"number",value:i[0],listItem:!0,label:"Target",placeholder:"Goal Target",$$slots:{right:[awe]},$$scope:{ctx:i}}}),u.$on("input",i[16]),{c(){O(e.$$.fragment),t=Y(),O(n.$$.fragment),r=Y(),O(s.$$.fragment),l=Y(),O(o.$$.fragment),a=Y(),O(u.$$.fragment)},m(f,d){N(e,f,d),w(f,t,d),N(n,f,d),w(f,r,d),N(s,f,d),w(f,l,d),N(o,f,d),w(f,a,d),N(u,f,d),c=!0},p(f,d){const m={};d&262148&&(m.$$scope={dirty:d,ctx:f}),e.$set(m);const p={};d&262146&&(p.$$scope={dirty:d,ctx:f}),s.$set(p);const g={};d&1&&(g.value=f[0]),d&262149&&(g.$$scope={dirty:d,ctx:f}),u.$set(g)},i(f){c||(_(e.$$.fragment,f),_(n.$$.fragment,f),_(s.$$.fragment,f),_(o.$$.fragment,f),_(u.$$.fragment,f),c=!0)},o(f){v(e.$$.fragment,f),v(n.$$.fragment,f),v(s.$$.fragment,f),v(o.$$.fragment,f),v(u.$$.fragment,f),c=!1},d(f){M(e,f),f&&y(t),M(n,f),f&&y(r),M(s,f),f&&y(l),M(o,f),f&&y(a),M(u,f)}}}function cwe(i){let e;return{c(){e=Z("Delete Goal")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function fwe(i){let e,t,n,r;return e=new Ft({props:{solo:!0,$$slots:{default:[uwe]},$$scope:{ctx:i}}}),n=new Me({props:{clear:!0,className:"text-red-500 mt-10 mx-auto text-sm",$$slots:{default:[cwe]},$$scope:{ctx:i}}}),n.$on("click",i[17]),{c(){O(e.$$.fragment),t=Y(),O(n.$$.fragment)},m(s,l){N(e,s,l),w(s,t,l),N(n,s,l),r=!0},p(s,l){const o={};l&262151&&(o.$$scope={dirty:l,ctx:s}),e.$set(o);const a={};l&262144&&(a.$$scope={dirty:l,ctx:s}),n.$set(a)},i(s){r||(_(e.$$.fragment,s),_(n.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(n.$$.fragment,s),r=!1},d(s){M(e,s),s&&y(t),M(n,s)}}}function dwe(i){var s;let e,t=(((s=i[2])==null?void 0:s.label)||"")+"",n,r;return{c(){e=A("h1"),n=Z(t),r=Z(" Goal"),h(e,"class","ntitle capitalize")},m(l,o){w(l,e,o),E(e,n),E(e,r)},p(l,o){var a;o&4&&t!==(t=(((a=l[2])==null?void 0:a.label)||"")+"")&&oe(n,t)},d(l){l&&y(e)}}}function hwe(i){let e=_e.t("general.close","Close")+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p:W,d(n){n&&y(t)}}}function mwe(i){let e,t;return e=new Me({props:{slot:"left",primary:!0,clear:!0,$$slots:{default:[hwe]},$$scope:{ctx:i}}}),e.$on("click",i[7]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&262144&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function pwe(i){let e=_e.t("general.save","Save")+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p:W,d(n){n&&y(t)}}}function _we(i){let e,t;return e=new Me({props:{slot:"right",primary:!0,clear:!0,disabled:!i[0]||!i[2]||!i[1],$$slots:{default:[pwe]},$$scope:{ctx:i}}}),e.$on("click",i[4]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&7&&(s.disabled=!n[0]||!n[2]||!n[1]),r&262144&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function gwe(i){let e,t;return e=new Jt({props:{slot:"header",$$slots:{right:[_we],left:[mwe],default:[dwe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&262151&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function vwe(i){let e,t;return e=new _n({props:{mainClass:"px-2 lg:px-4 py-2 lg:py-4",$$slots:{header:[gwe],default:[fwe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&262151&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function bwe(i,e,t){let n;Ee(i,It,S=>t(12,n=S));let{id:r}=e,{goal:s}=e,l,o,a,u,c=!1;wt(()=>{t(11,c=!0)});const f=async()=>{await Xe.confirm("Delete this goal?","You can always recreate it later.")&&(await Ha.remove(u),Ot(r))},d=async()=>{let S=new Bm({id:u.id,comparison:o,tag:a.tag,duration:u.duration,target:l});Xe.blocker(`Saving ${a.label} goal...`),await Ha.upsert(S),Xe.stopBlocker(),un({message:"Goal Saved"}),g()},m=async()=>{await Et(100),t(2,a=await Vp())},p=async()=>{const S=await Vb(a,n.trackables),P=Nn(S.value);jn.number(P)&&t(0,l=P)},g=()=>{Ot(r)},k=S=>S.id==o,$=S=>{G0(S.detail.target,Im.map(P=>({title:P.label,click(){t(1,o=P.id)}})))},D=()=>{p()},F=S=>t(0,l=S.detail),C=()=>f();return i.$$set=S=>{"id"in S&&t(8,r=S.id),"goal"in S&&t(9,s=S.goal)},i.$$.update=()=>{i.$$.dirty&7680&&s&&c&&!u&&(t(10,u=new Bm(s)),t(1,o=u.comparison),t(2,a=n.trackables[u.tag]),t(0,l=u.target))},[l,o,a,f,d,m,p,g,r,s,u,c,n,k,$,D,F,C]}class kwe extends ce{constructor(e){super(),ue(this,e,bwe,vwe,le,{id:8,goal:9})}}const OI=(i,e={})=>{const t=JSON.parse(localStorage.getItem(i)||JSON.stringify(e.default||{})),{update:n,subscribe:r,set:s}=Bt(t),l=f=>{const d={...f};return Object.keys(f).map(m=>{const p=e.itemSerializer?e.itemSerializer(f[m]):f[m];d[m]=p}),localStorage.setItem(i,JSON.stringify(d)),d};return{removeItem:f=>{let d;return n(m=>(m[f]&&delete m[f],d=m,m)),l(d)},setItem:(f,d)=>{let m;return n(p=>(p[f]=e.itemInitializer?e.itemInitializer(d):d,m=p,p)),l(m)},update:n,updateSync:f=>{let d;return n(m=>(d=f(m),d)),l(d)},subscribe:r,set:s,rawState:()=>{let f;return n(d=>(f=d,d)),f}}},Ha=tu(Xn.storage.goals(),{label:"Goals",key:"id",itemInitializer:i=>new Bm(i),itemSerializer:i=>i}),n_=Bt([0,0]),w6=OI("/goal-status"),ywe=async(i,e,t={silent:!1,caller:"unknown"})=>{const n=w6.rawState()||{};let r=await II(i,e,we());r.forEach(u=>{u.scores.length?u.scores[0].success:u.goal.isDontDoIt});const s=u=>{un({type:"success",message:`\u{1F389} Congrats! You met your ${u.tag} goal!`}),vP()},l=u=>{un({type:"failure",message:`Keep working on that ${u.tag} goal!`})};r.forEach(u=>{let c=n[u.goal.id];const f=u.scores[0];c?f&&we(c.date).format("YYYY-MM-DD")===f.date.format("YYYY-MM-DD")&&(f.success&&f.success!==c.success?s(u.goal):f.failure===!0&&f.failure!=c.failure&&l(u.goal)):f&&u.goal&&(f.success===!0?s(u.goal):f.failure===!0&&l(u.goal))});const o=r.map(u=>{let c=!1,f=!1;return u.scores[0]?(c=u.scores[0].failure,f=u.scores[0].success):u.goal.isDontDoIt&&(f=!0,c=!1),{goalId:u.goal.id,date:u.scores.length?u.scores[0].date.toDate().toJSON():new Date().toJSON(),success:f,failure:c}}).filter(u=>u);let a={};o.map(u=>{a[u.goalId]=u}),w6.updateSync(u=>({...u,...a}))},wwe=i=>{en({id:`goal-${i.id}`,position:"fullscreen",componentProps:{goal:i},component:Jye})},j1=i=>{Vl("open_goal_editor"),en({id:`goal-${i.id}-editor`,position:"fullscreen",componentProps:{goal:i},component:kwe})},II=async(i,e,t)=>{const n=i.filter(r=>r);if(n.length){const r=Kke(n||[],t),s=await Nv({start:r.start,end:r.end},e),l=n.map(u=>{const c=Xke(u),f=s[u.tag],d=f?f.truncate(c.start,c.end):void 0,m=u.calculateScores(d);return{id:u.id,goal:u,scores:m,trackableUsage:d,historic:[]}});let o=0;l.forEach(u=>{(!u.scores.length&&u.goal.isDontDoIt||u.scores.length&&u.scores[0].success===!0)&&(o=o+1)});const a=[o,n.length];return Et(200).then(()=>n_.update(u=>a)),l}else return[]};function $6(i,e,t){const n=i.slice();return n[27]=e[t],n[29]=t,n}function F6(i,e,t){const n=i.slice();return n[30]=e[t],n[29]=t,n}function E6(i,e,t){const n=i.slice();return n[32]=e[t],n[29]=t,n}function D6(i,e,t){const n=i.slice();return n[34]=e[t],n[36]=t,n}function C6(i,e,t){const n=i.slice();return n[37]=e[t],n}function $we(i){let e;return{c(){e=Z("No template found")},m(t,n){w(t,e,n)},p:W,i:W,o:W,d(t){t&&y(e)}}}function Fwe(i){let e,t,n,r,s,l,o,a,u,c,f,d;return n=new Ft({props:{solo:!0,$$slots:{default:[Ewe]},$$scope:{ctx:i}}}),s=new Ft({props:{solo:!0,outside:!0,title:"Trackables",$$slots:{"header-right":[Pwe],default:[Twe]},$$scope:{ctx:i}}}),o=new Ft({props:{solo:!0,outside:!0,title:"Tabs",$$slots:{"header-right":[zwe],default:[Iwe]},$$scope:{ctx:i}}}),u=new Ft({props:{solo:!0,outside:!0,title:"Dashboards",$$slots:{"header-right":[Hwe],default:[Uwe]},$$scope:{ctx:i}}}),f=new Ft({props:{solo:!0,outside:!0,title:"Goals",$$slots:{"header-right":[Kwe],default:[xwe]},$$scope:{ctx:i}}}),{c(){e=A("p"),e.textContent="Create a sharable Nomie configuration",t=Y(),O(n.$$.fragment),r=Y(),O(s.$$.fragment),l=Y(),O(o.$$.fragment),a=Y(),O(u.$$.fragment),c=Y(),O(f.$$.fragment),h(e,"class","description text-gray-500 text-center pb-2 px-3 text-sm leading-tight")},m(m,p){w(m,e,p),w(m,t,p),N(n,m,p),w(m,r,p),N(s,m,p),w(m,l,p),N(o,m,p),w(m,a,p),N(u,m,p),w(m,c,p),N(f,m,p),d=!0},p(m,p){const g={};p[0]&1|p[1]&512&&(g.$$scope={dirty:p,ctx:m}),n.$set(g);const k={};p[0]&1|p[1]&512&&(k.$$scope={dirty:p,ctx:m}),s.$set(k);const $={};p[0]&1|p[1]&512&&($.$$scope={dirty:p,ctx:m}),o.$set($);const D={};p[0]&1|p[1]&512&&(D.$$scope={dirty:p,ctx:m}),u.$set(D);const F={};p[0]&1|p[1]&512&&(F.$$scope={dirty:p,ctx:m}),f.$set(F)},i(m){d||(_(n.$$.fragment,m),_(s.$$.fragment,m),_(o.$$.fragment,m),_(u.$$.fragment,m),_(f.$$.fragment,m),d=!0)},o(m){v(n.$$.fragment,m),v(s.$$.fragment,m),v(o.$$.fragment,m),v(u.$$.fragment,m),v(f.$$.fragment,m),d=!1},d(m){m&&y(e),m&&y(t),M(n,m),m&&y(r),M(s,m),m&&y(l),M(o,m),m&&y(a),M(u,m),m&&y(c),M(f,m)}}}function Ewe(i){let e,t,n,r,s,l;function o(f){i[6](f)}let a={listItem:!0,type:"text",placeholder:"Template Name"};i[0].name!==void 0&&(a.value=i[0].name),e=new fn({props:a}),De.push(()=>Ue(e,"value",o,i[0].name));function u(f){i[7](f)}let c={listItem:!0,type:"textarea",placeholder:"Description"};return i[0].description!==void 0&&(c.value=i[0].description),r=new fn({props:c}),De.push(()=>Ue(r,"value",u,i[0].description)),{c(){O(e.$$.fragment),n=Y(),O(r.$$.fragment)},m(f,d){N(e,f,d),w(f,n,d),N(r,f,d),l=!0},p(f,d){const m={};!t&&d[0]&1&&(t=!0,m.value=f[0].name,qe(()=>t=!1)),e.$set(m);const p={};!s&&d[0]&1&&(s=!0,p.value=f[0].description,qe(()=>s=!1)),r.$set(p)},i(f){l||(_(e.$$.fragment,f),_(r.$$.fragment,f),l=!0)},o(f){v(e.$$.fragment,f),v(r.$$.fragment,f),l=!1},d(f){M(e,f),f&&y(n),M(r,f)}}}function Dwe(i){let e,t,n=i[0].trackables,r=[];for(let l=0;l<n.length;l+=1)r[l]=S6(C6(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){e=A("div");for(let l=0;l<r.length;l+=1)r[l].c();h(e,"class","pill-holder px-1 flex flex-wrap py-2")},m(l,o){w(l,e,o);for(let a=0;a<r.length;a+=1)r[a].m(e,null);t=!0},p(l,o){if(o[0]&3){n=l[0].trackables;let a;for(a=0;a<n.length;a+=1){const u=C6(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=S6(u),r[a].c(),_(r[a],1),r[a].m(e,null))}for(ie(),a=n.length;a<r.length;a+=1)s(a);re()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){l&&y(e),it(r,l)}}}function Cwe(i){let e,t;return e=new Gn({props:{small:!0,$$slots:{default:[Swe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[1]&512&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function S6(i){let e,t,n,r,s=i[37].label+"",l,o,a,u,c;t=new fi({props:{trackable:i[37],size:20}});function f(){return i[9](i[37])}return{c(){e=A("button"),O(t.$$.fragment),n=Y(),r=A("span"),l=Z(s),o=Y(),h(r,"class","label"),h(e,"class","pill")},m(d,m){w(d,e,m),N(t,e,null),E(e,n),E(e,r),E(r,l),E(e,o),a=!0,u||(c=[ke(e,"click",f),ke(e,"click",Qwe)],u=!0)},p(d,m){i=d;const p={};m[0]&1&&(p.trackable=i[37]),t.$set(p),(!a||m[0]&1)&&s!==(s=i[37].label+"")&&oe(l,s)},i(d){a||(_(t.$$.fragment,d),a=!0)},o(d){v(t.$$.fragment,d),a=!1},d(d){d&&y(e),M(t),u=!1,pt(c)}}}function Swe(i){let e;return{c(){e=A("span"),e.textContent="No Trackables",h(e,"class","text-gray-500")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function Twe(i){let e,t,n,r;const s=[Cwe,Dwe],l=[];function o(a,u){return a[0].trackables.length?1:0}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=$e()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?l[e].p(a,u):(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function Awe(i){let e;return{c(){e=Z("+ Add")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Pwe(i){let e,t;return e=new Me({props:{size:"sm",primary:!0,clear:!0,slot:"header-right",$$slots:{default:[Awe]},$$scope:{ctx:i}}}),e.$on("click",i[8]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[1]&512&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Nwe(i){let e,t,n=i[0].boards,r=[];for(let l=0;l<n.length;l+=1)r[l]=A6(E6(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=$e()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o[0]&1){n=l[0].boards;let a;for(a=0;a<n.length;a+=1){const u=E6(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=A6(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ie(),a=n.length;a<r.length;a+=1)s(a);re()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){it(r,l),l&&y(e)}}}function Mwe(i){let e,t;return e=new Gn({props:{small:!0,$$slots:{default:[Owe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[1]&512&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function T6(i){let e,t=i[34]+"",n;return{c(){e=A("button"),n=Z(t),h(e,"class","pill sm")},m(r,s){w(r,e,s),E(e,n)},p(r,s){s[0]&1&&t!==(t=r[34]+"")&&oe(n,t)},d(r){r&&y(e)}}}function Lwe(i){let e,t,n=i[32].label+"",r,s,l,o,a=vm.unique(i[32].elements),u=[];for(let c=0;c<a.length;c+=1)u[c]=T6(D6(i,a,c));return{c(){e=A("div"),t=A("h2"),r=Z(n),s=Y(),l=A("div");for(let c=0;c<u.length;c+=1)u[c].c();o=Y(),h(t,"class","ntitle"),h(l,"class","py-1 flex flex-wrap")},m(c,f){w(c,e,f),E(e,t),E(t,r),E(e,s),E(e,l);for(let d=0;d<u.length;d+=1)u[d].m(l,null);w(c,o,f)},p(c,f){if(f[0]&1&&n!==(n=c[32].label+"")&&oe(r,n),f[0]&1){a=vm.unique(c[32].elements);let d;for(d=0;d<a.length;d+=1){const m=D6(c,a,d);u[d]?u[d].p(m,f):(u[d]=T6(m),u[d].c(),u[d].m(l,null))}for(;d<u.length;d+=1)u[d].d(1);u.length=a.length}},d(c){c&&y(e),it(u,c),c&&y(o)}}}function A6(i){let e,t;return e=new xe({props:{$$slots:{default:[Lwe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[0]&1|r[1]&512&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Owe(i){let e;return{c(){e=A("span"),e.textContent="No Board Tabs",h(e,"class","text-gray-500 text-sm")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function Iwe(i){let e,t,n,r;const s=[Mwe,Nwe],l=[];function o(a,u){return a[0].boards.length?1:0}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=$e()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?l[e].p(a,u):(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function Bwe(i){let e;return{c(){e=Z("+ Add")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function zwe(i){let e,t;return e=new Me({props:{size:"sm",primary:!0,clear:!0,slot:"header-right",$$slots:{default:[Bwe]},$$scope:{ctx:i}}}),e.$on("click",i[10]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[1]&512&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Rwe(i){let e,t,n=i[0].dashboards,r=[];for(let l=0;l<n.length;l+=1)r[l]=P6(F6(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=$e()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o[0]&1){n=l[0].dashboards;let a;for(a=0;a<n.length;a+=1){const u=F6(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=P6(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ie(),a=n.length;a<r.length;a+=1)s(a);re()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){it(r,l),l&&y(e)}}}function jwe(i){let e,t;return e=new Gn({props:{small:!0,$$slots:{default:[Ywe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[1]&512&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function P6(i){let e,t;return e=new K1e({props:{dashboard:i[30]}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[0]&1&&(s.dashboard=n[30]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Ywe(i){let e;return{c(){e=A("span"),e.textContent="No Dashboards",h(e,"class","text-gray-500")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function Uwe(i){let e,t,n,r;const s=[jwe,Rwe],l=[];function o(a,u){return a[0].dashboards.length?1:0}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=$e()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?l[e].p(a,u):(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function qwe(i){let e;return{c(){e=Z("+ Add")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Hwe(i){let e,t;return e=new Me({props:{size:"sm",primary:!0,clear:!0,slot:"header-right",$$slots:{default:[qwe]},$$scope:{ctx:i}}}),e.$on("click",i[11]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[1]&512&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Wwe(i){let e,t,n=i[0].goals,r=[];for(let l=0;l<n.length;l+=1)r[l]=N6($6(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=$e()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o[0]&1){n=l[0].goals;let a;for(a=0;a<n.length;a+=1){const u=$6(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=N6(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ie(),a=n.length;a<r.length;a+=1)s(a);re()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){it(r,l),l&&y(e)}}}function Vwe(i){let e,t;return e=new Gn({props:{small:!0,$$slots:{default:[Zwe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[1]&512&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Gwe(i){let e,t,n=i[27].tag+"",r,s,l,o=i[27].comparison+"",a,u,c,f=i[27].target+"",d,m;return{c(){e=A("div"),t=A("span"),r=Z(n),s=Y(),l=A("span"),a=Z(o),u=Y(),c=A("span"),d=Z(f),m=Y(),h(e,"class","ntitle")},m(p,g){w(p,e,g),E(e,t),E(t,r),E(e,s),E(e,l),E(l,a),E(e,u),E(e,c),E(c,d),w(p,m,g)},p(p,g){g[0]&1&&n!==(n=p[27].tag+"")&&oe(r,n),g[0]&1&&o!==(o=p[27].comparison+"")&&oe(a,o),g[0]&1&&f!==(f=p[27].target+"")&&oe(d,f)},d(p){p&&y(e),p&&y(m)}}}function N6(i){let e,t;return e=new xe({props:{$$slots:{default:[Gwe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[0]&1|r[1]&512&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Zwe(i){let e;return{c(){e=A("span"),e.textContent="No Goals",h(e,"class","text-gray-500")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function xwe(i){let e,t,n,r;const s=[Vwe,Wwe],l=[];function o(a,u){return a[0].goals.length?1:0}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=$e()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?l[e].p(a,u):(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function Xwe(i){let e;return{c(){e=Z("+ Add")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Kwe(i){let e,t;return e=new Me({props:{size:"sm",primary:!0,clear:!0,slot:"header-right",$$slots:{default:[Xwe]},$$scope:{ctx:i}}}),e.$on("click",i[12]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[1]&512&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Jwe(i){let e,t,n,r,s;const l=[Fwe,$we],o=[];function a(u,c){return u[0]?0:1}return e=a(i),t=o[e]=l[e](i),{c(){t.c(),n=Y(),r=A("div"),h(r,"class","h-12")},m(u,c){o[e].m(u,c),w(u,n,c),w(u,r,c),s=!0},p(u,c){let f=e;e=a(u),e===f?o[e].p(u,c):(ie(),v(o[f],1,1,()=>{o[f]=null}),re(),t=o[e],t?t.p(u,c):(t=o[e]=l[e](u),t.c()),_(t,1),t.m(n.parentNode,n))},i(u){s||(_(t),s=!0)},o(u){v(t),s=!1},d(u){o[e].d(u),u&&y(n),u&&y(r)}}}const Qwe=()=>{};function e$e(i,e,t){let n,r,s,l;Ee(i,Ha,G=>t(13,n=G)),Ee(i,hl,G=>t(14,r=G)),Ee(i,Md,G=>t(15,s=G)),Ee(i,It,G=>t(16,l=G));let{template:o}=e;const a=G=>pi(Gf(G),l.trackables),u=G=>{const U=a(G);d(U)},c=()=>{const G={};return o.trackables.forEach(U=>{G[U.tag]=U}),G},f=G=>{const U={...l.trackables,...c()},Q=pi(G,U);d(Q)},d=G=>{o.trackables.find(U=>U.id==G.id)||(o.trackables.push(G),G.type=="tracker"&&G.tracker.type=="note"&&gN(G.tracker.note||"").forEach(Q=>{const V=pi(Q,l.trackables);d(V)})),t(0,o)};wt(()=>{Hv()});const m=G=>{ls({id:"trackable-options",buttons:[{id:"edit",title:"Edit Trackable",click(){xi(G,Q=>{t(0,o.trackables=o.trackables.map(V=>V.id==Q.id?Q:V),o)})}},{id:"remove",title:"Remove from Template",click(){t(0,o.trackables=o.trackables.filter(Q=>Q.id!=G.id),o),t(0,o)}}]})},p=()=>{const G=s.map(U=>({id:U.id,title:U.label,click(){U.elements.map(Q=>{u(Q)}),o.boards.find(Q=>Q.id===U.id)||(U.elements=vm.unique(U.elements),o.boards.push(U))}}));ls({title:"Which Tab would you like to import?",id:"existing-boards",buttons:G})},g=()=>{p()},k=[{id:"existing",title:"Pick from my Trackables",async click(){const G=await Bc();G&&(G.forEach(U=>{d(U)}),t(0,o))}},{id:"new",title:"Create a Tracker",async click(){xi(new ri({type:"tracker"}),G=>{o.trackables.push(G),t(0,o)})}},{id:"new",title:"Create a Person",async click(){xi(new ri({type:"person"}),G=>{o.trackables.push(G),t(0,o)})}},{id:"new",title:"Create a Context",async click(){xi(new ri({type:"context"}),G=>{o.trackables.push(G),t(0,o)})}}],$=G=>{G.widgets.map(Q=>Q.token).forEach(Q=>{f(Q)})},D=G=>{const U=G.map(Q=>({id:Q.id,title:Q.label,click(){const V=o.dashboards.findIndex(x=>x.id==Q.id);V>-1?t(0,o.dashboards[V]=Q,o):o.dashboards.push(Q),$(Q),t(0,o)}}));ls({title:"Which dashboard would you like to import?",id:"existing-dsahboards",buttons:U})},F=async()=>{D(r.dashboards)},C=G=>{const U=G.map(Q=>({title:`${Q.tag} ${Q.comparison} ${Q.target}`,id:Q.tag,click(){let V=o.goals.findIndex(x=>x.id===Q.id);V>-1?t(0,o.goals[V]=Q,o):o.goals.push(Q),t(0,o),u(Q.tag)}}));ls({id:"import-goal",title:"Which goal would you like to import?",buttons:U})},S=async()=>{C(n)},P=()=>{ls({id:"add-trackable",buttons:k})};function I(G){i.$$.not_equal(o.name,G)&&(o.name=G,t(0,o))}function R(G){i.$$.not_equal(o.description,G)&&(o.description=G,t(0,o))}const B=()=>P(),z=G=>{m(G)},q=()=>g(),H=()=>F(),K=()=>S();return i.$$set=G=>{"template"in G&&t(0,o=G.template)},[o,m,g,F,S,P,I,R,B,z,q,H,K]}class t$e extends ce{constructor(e){super(),ue(this,e,e$e,Jwe,le,{template:0},null,[-1,-1])}}function n$e(i){let e,t,n,r;function s(o){i[6](o)}let l={};return i[0]!==void 0&&(l.template=i[0]),t=new t$e({props:l}),De.push(()=>Ue(t,"template",s,i[0])),{c(){e=A("main"),O(t.$$.fragment),h(e,"class","lg:p-6 p-4")},m(o,a){w(o,e,a),N(t,e,null),r=!0},p(o,a){const u={};!n&&a&1&&(n=!0,u.template=o[0],qe(()=>n=!1)),t.$set(u)},i(o){r||(_(t.$$.fragment,o),r=!0)},o(o){v(t.$$.fragment,o),r=!1},d(o){o&&y(e),M(t)}}}function i$e(i){let e=(i[0].name||"Create a Template")+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p(n,r){r&1&&e!==(e=(n[0].name||"Create a Template")+"")&&oe(t,e)},d(n){n&&y(t)}}}function r$e(i){let e,t;return e=new Yr({props:{$$slots:{default:[i$e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&129&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function s$e(i){let e;return{c(){e=Z("Close")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function l$e(i){let e,t;return e=new Me({props:{slot:"left",primary:!0,clear:!0,$$slots:{default:[s$e]},$$scope:{ctx:i}}}),e.$on("click",i[5]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&128&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function o$e(i){let e;return{c(){e=Z("Save")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function a$e(i){let e,t;return e=new Me({props:{slot:"right",primary:!0,clear:!0,$$slots:{default:[o$e]},$$scope:{ctx:i}}}),e.$on("click",i[4]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&128&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function u$e(i){let e,t;return e=new Jt({props:{slot:"header",$$slots:{right:[a$e],left:[l$e],default:[r$e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&129&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function c$e(i){let e,t;return e=new _n({props:{className:"h-full",mainClass:"bg-gray-100 dark:bg-gray-800",$$slots:{header:[u$e],default:[n$e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&129&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function f$e(i,e,t){let{id:n}=e,{template:r}=e;const s=()=>{Ot(n)},l=async()=>{await cd.upsert(r),un({message:"Template saved"})},o=()=>l(),a=()=>s();function u(c){r=c,t(0,r)}return i.$$set=c=>{"id"in c&&t(3,n=c.id),"template"in c&&t(0,r=c.template)},[r,s,l,n,o,a,u]}class d$e extends ce{constructor(e){super(),ue(this,e,f$e,c$e,le,{id:3,template:0})}}function M6(i,e,t){const n=i.slice();return n[4]=e[t],n[6]=t,n}function h$e(i){let e,t,n=i[4].name+"",r,s,l,o,a=(i[4].description||"No Description")+"",u,c;return{c(){e=A("main"),t=A("h2"),r=Z(n),s=Y(),l=A("p"),o=A("span"),u=Z(a),c=Y(),h(t,"class","ntitle"),h(o,"class","text-gray-500"),h(l,"class","faded")},m(f,d){w(f,e,d),E(e,t),E(t,r),E(e,s),E(e,l),E(l,o),E(o,u),w(f,c,d)},p(f,d){d&1&&n!==(n=f[4].name+"")&&oe(r,n),d&1&&a!==(a=(f[4].description||"No Description")+"")&&oe(u,a)},d(f){f&&y(e),f&&y(c)}}}function m$e(i){let e,t;return e=new je({props:{icon:_l}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function p$e(i){let e,t;return e=new je({props:{icon:yd}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function _$e(i){let e,t,n,r,s,l;function o(){return i[2](i[4])}t=new Me({props:{icon:!0,primary:!0,$$slots:{default:[m$e]},$$scope:{ctx:i}}}),t.$on("click",o);function a(){return i[3](i[4])}return r=new Me({props:{icon:!0,primary:!0,$$slots:{default:[p$e]},$$scope:{ctx:i}}}),r.$on("click",a),{c(){e=A("div"),O(t.$$.fragment),n=Y(),O(r.$$.fragment),s=Y(),h(e,"slot","right"),h(e,"class","flex items-center space-x-2")},m(u,c){w(u,e,c),N(t,e,null),E(e,n),N(r,e,null),E(e,s),l=!0},p(u,c){i=u;const f={};c&128&&(f.$$scope={dirty:c,ctx:i}),t.$set(f);const d={};c&128&&(d.$$scope={dirty:c,ctx:i}),r.$set(d)},i(u){l||(_(t.$$.fragment,u),_(r.$$.fragment,u),l=!0)},o(u){v(t.$$.fragment,u),v(r.$$.fragment,u),l=!1},d(u){u&&y(e),M(t),M(r)}}}function L6(i){let e,t;return e=new xe({props:{$$slots:{right:[_$e],default:[h$e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&129&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function g$e(i){let e,t,n=i[0],r=[];for(let l=0;l<n.length;l+=1)r[l]=L6(M6(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=$e()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,[o]){if(o&3){n=l[0];let a;for(a=0;a<n.length;a+=1){const u=M6(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=L6(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ie(),a=n.length;a<r.length;a+=1)s(a);re()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){it(r,l),l&&y(e)}}}function v$e(i,e,t){let n;Ee(i,cd,o=>t(0,n=o));const r=o=>{let a=`${qu(o.name)}-${o.id}.json`;Pc.json(a,JSON.stringify(o.asObject,null,2))};return wt(()=>{cd.init()}),[n,r,o=>{VI(o)},o=>{r(o)}]}class b$e extends ce{constructor(e){super(),ue(this,e,v$e,g$e,le,{})}}function k$e(i){let e,t,n,r;return e=new Ft({props:{solo:!0,$$slots:{default:[w$e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment),t=Y(),n=A("div"),n.textContent="Use templates to quickly setup Nomie.",h(n,"class","px-4 py-4 text-center note-muted")},m(s,l){N(e,s,l),w(s,t,l),w(s,n,l),r=!0},p(s,l){const o={};l&256&&(o.$$scope={dirty:l,ctx:s}),e.$set(o)},i(s){r||(_(e.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),r=!1},d(s){M(e,s),s&&y(t),s&&y(n)}}}function y$e(i){let e,t,n,r,s;e=new Ft({props:{solo:!0,$$slots:{default:[E$e]},$$scope:{ctx:i}}});let l=i[1].length&&O6(i);return{c(){O(e.$$.fragment),t=Y(),l&&l.c(),n=Y(),r=A("div"),r.textContent="Build a custom Nomie Configuration that can be downloaded and shared with others",h(r,"class","px-4 py-4 text-center note-muted")},m(o,a){N(e,o,a),w(o,t,a),l&&l.m(o,a),w(o,n,a),w(o,r,a),s=!0},p(o,a){const u={};a&258&&(u.$$scope={dirty:a,ctx:o}),e.$set(u),o[1].length?l?l.p(o,a):(l=O6(o),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},i(o){s||(_(e.$$.fragment,o),s=!0)},o(o){v(e.$$.fragment,o),s=!1},d(o){M(e,o),o&&y(t),l&&l.d(o),o&&y(n),o&&y(r)}}}function w$e(i){let e,t;return e=new GI({}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function $$e(i){let e,t;return e=new b$e({}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function F$e(i){let e,t;return e=new Gn({props:{title:"No custom templates found",buttonLabel:"Create a Custom Template",buttonClick:i[6]}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function E$e(i){let e,t,n,r;const s=[F$e,$$e],l=[];function o(a,u){return a[1].length?1:0}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=$e()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?l[e].p(a,u):(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function O6(i){let e,t,n,r;return{c(){e=A("div"),t=A("button"),t.textContent="Create Template",h(t,"class","text-primary py-2 px-4"),h(e,"class","py-2 px-4 flex justify-center")},m(s,l){w(s,e,l),E(e,t),n||(r=ke(t,"click",i[7]),n=!0)},p:W,d(s){s&&y(e),n=!1,r()}}}function D$e(i){let e,t,n,r;const s=[y$e,k$e],l=[];function o(a,u){return a[0]=="mine"?0:1}return t=o(i),n=l[t]=s[t](i),{c(){e=A("main"),n.c(),h(e,"class","lg:p-6 py-2")},m(a,u){w(a,e,u),l[t].m(e,null),r=!0},p(a,u){let c=t;t=o(a),t===c?l[t].p(a,u):(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),n=l[t],n?n.p(a,u):(n=l[t]=s[t](a),n.c()),_(n,1),n.m(e,null))},i(a){r||(_(n),r=!0)},o(a){v(n),r=!1},d(a){a&&y(e),l[t].d()}}}function C$e(i){let e;return{c(){e=Z("Templates")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function S$e(i){let e,t;return e=new Yr({props:{$$slots:{default:[C$e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&256&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function T$e(i){let e;return{c(){e=Z("Close")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function A$e(i){let e,t;return e=new Me({props:{slot:"left",primary:!0,clear:!0,$$slots:{default:[T$e]},$$scope:{ctx:i}}}),e.$on("click",i[3]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&256&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function P$e(i){let e,t;return e=new ms({props:{buttons:[{label:"Available",active:i[0]=="templates",click:i[4]},{label:"Build",active:i[0]=="mine",click:i[5]}]}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.buttons=[{label:"Available",active:n[0]=="templates",click:n[4]},{label:"Build",active:n[0]=="mine",click:n[5]}]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function N$e(i){let e,t,n,r,s;return t=new Jt({props:{$$slots:{left:[A$e],default:[S$e]},$$scope:{ctx:i}}}),r=new Sr({props:{$$slots:{default:[P$e]},$$scope:{ctx:i}}}),{c(){e=A("header"),O(t.$$.fragment),n=Y(),O(r.$$.fragment),h(e,"slot","header")},m(l,o){w(l,e,o),N(t,e,null),E(e,n),N(r,e,null),s=!0},p(l,o){const a={};o&256&&(a.$$scope={dirty:o,ctx:l}),t.$set(a);const u={};o&257&&(u.$$scope={dirty:o,ctx:l}),r.$set(u)},i(l){s||(_(t.$$.fragment,l),_(r.$$.fragment,l),s=!0)},o(l){v(t.$$.fragment,l),v(r.$$.fragment,l),s=!1},d(l){l&&y(e),M(t),M(r)}}}function M$e(i){let e,t;return e=new _n({props:{className:"h-full",mainClass:"bg-gray-100 dark:bg-gray-800",$$slots:{header:[N$e],default:[D$e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&259&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function L$e(i,e,t){let n;Ee(i,cd,f=>t(1,n=f));let r="templates";wt(()=>{cd.init()});const s=()=>{VI(new Yv)};return[r,n,s,()=>K4e(),function(){t(0,r="templates")},function(){t(0,r="mine")},()=>s(),()=>s()]}class O$e extends ce{constructor(e){super(),ue(this,e,L$e,M$e,le,{})}}const BI=(i,e=!1)=>{let t={},n={};return i.trackables.filter(r=>r.type=="tracker").forEach(r=>{t[r.tracker.tag]=Nhe(new oi(r.tracker),e)}),{version:Ya,created:new Date().toJSON(),files:{"trackers.json":t,"people.json":n,"context.json":i.trackables.filter(r=>r.type=="context").map(r=>r),"goals.json":i.goals,"dashboards.json":i.dashboards,"boards.json":i.boards}}};function I6(i,e,t){const n=i.slice();return n[2]=e[t],n}function B6(i,e,t){const n=i.slice();return n[5]=e[t],n}function z6(i,e,t){const n=i.slice();return n[5]=e[t],n}function R6(i,e,t){const n=i.slice();return n[10]=e[t],n}function j6(i){let e,t,n=i[0].description+"",r;return{c(){e=A("p"),t=A("span"),r=Z(n),h(e,"class","text-sm text-gray-500 dark:text-gray-400")},m(s,l){w(s,e,l),E(e,t),E(t,r)},p(s,l){l&1&&n!==(n=s[0].description+"")&&oe(r,n)},d(s){s&&y(e)}}}function I$e(i){let e;return{c(){e=Z("Use this Template")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Y6(i){let e,t,n,r,s;t=new Yr({props:{className:"mb-2",$$slots:{default:[B$e]},$$scope:{ctx:i}}});let l=i[0].trackables,o=[];for(let u=0;u<l.length;u+=1)o[u]=U6(R6(i,l,u));const a=u=>v(o[u],1,1,()=>{o[u]=null});return{c(){e=A("section"),O(t.$$.fragment),n=Y(),r=A("div");for(let u=0;u<o.length;u+=1)o[u].c();h(r,"class","flex flex-wrap"),h(e,"class","svelte-ct5n07")},m(u,c){w(u,e,c),N(t,e,null),E(e,n),E(e,r);for(let f=0;f<o.length;f+=1)o[f].m(r,null);s=!0},p(u,c){const f={};if(c&8192&&(f.$$scope={dirty:c,ctx:u}),t.$set(f),c&1){l=u[0].trackables;let d;for(d=0;d<l.length;d+=1){const m=R6(u,l,d);o[d]?(o[d].p(m,c),_(o[d],1)):(o[d]=U6(m),o[d].c(),_(o[d],1),o[d].m(r,null))}for(ie(),d=l.length;d<o.length;d+=1)a(d);re()}},i(u){if(!s){_(t.$$.fragment,u);for(let c=0;c<l.length;c+=1)_(o[c]);s=!0}},o(u){v(t.$$.fragment,u),o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)v(o[c]);s=!1},d(u){u&&y(e),M(t),it(o,u)}}}function B$e(i){let e;return{c(){e=Z("Trackables")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function U6(i){let e,t;return e=new vl({props:{solid:!0,hideValue:!0,size:32,trackable:new ri(i[10]),className:"m-1"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.trackable=new ri(n[10])),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function q6(i){let e,t,n,r,s;t=new Yr({props:{className:"mb-2",$$slots:{default:[z$e]},$$scope:{ctx:i}}});let l=i[0].boards,o=[];for(let a=0;a<l.length;a+=1)o[a]=H6(z6(i,l,a));return{c(){e=A("section"),O(t.$$.fragment),n=Y(),r=A("div");for(let a=0;a<o.length;a+=1)o[a].c();h(r,"class","flex flex-wrap"),h(e,"class","svelte-ct5n07")},m(a,u){w(a,e,u),N(t,e,null),E(e,n),E(e,r);for(let c=0;c<o.length;c+=1)o[c].m(r,null);s=!0},p(a,u){const c={};if(u&8192&&(c.$$scope={dirty:u,ctx:a}),t.$set(c),u&1){l=a[0].boards;let f;for(f=0;f<l.length;f+=1){const d=z6(a,l,f);o[f]?o[f].p(d,u):(o[f]=H6(d),o[f].c(),o[f].m(r,null))}for(;f<o.length;f+=1)o[f].d(1);o.length=l.length}},i(a){s||(_(t.$$.fragment,a),s=!0)},o(a){v(t.$$.fragment,a),s=!1},d(a){a&&y(e),M(t),it(o,a)}}}function z$e(i){let e;return{c(){e=Z("Tabs")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function H6(i){let e,t,n=i[5].label+"",r,s,l,o=i[5].elements.length+"",a,u,c;return{c(){e=A("div"),t=A("div"),r=Z(n),s=Y(),l=A("div"),a=Z(o),u=Z(" trackables"),c=Y(),h(t,"class","ntitle"),h(l,"class","text-xs text-gray-500 whitespace-nowrap"),h(e,"class","pill")},m(f,d){w(f,e,d),E(e,t),E(t,r),E(e,s),E(e,l),E(l,a),E(l,u),E(e,c)},p(f,d){d&1&&n!==(n=f[5].label+"")&&oe(r,n),d&1&&o!==(o=f[5].elements.length+"")&&oe(a,o)},d(f){f&&y(e)}}}function W6(i){let e,t,n,r,s;t=new Yr({props:{className:"mb-2",$$slots:{default:[R$e]},$$scope:{ctx:i}}});let l=i[0].dashboards,o=[];for(let a=0;a<l.length;a+=1)o[a]=V6(B6(i,l,a));return{c(){e=A("section"),O(t.$$.fragment),n=Y(),r=A("div");for(let a=0;a<o.length;a+=1)o[a].c();h(r,"class","flex flex-wrap"),h(e,"class","svelte-ct5n07")},m(a,u){w(a,e,u),N(t,e,null),E(e,n),E(e,r);for(let c=0;c<o.length;c+=1)o[c].m(r,null);s=!0},p(a,u){const c={};if(u&8192&&(c.$$scope={dirty:u,ctx:a}),t.$set(c),u&1){l=a[0].dashboards;let f;for(f=0;f<l.length;f+=1){const d=B6(a,l,f);o[f]?o[f].p(d,u):(o[f]=V6(d),o[f].c(),o[f].m(r,null))}for(;f<o.length;f+=1)o[f].d(1);o.length=l.length}},i(a){s||(_(t.$$.fragment,a),s=!0)},o(a){v(t.$$.fragment,a),s=!1},d(a){a&&y(e),M(t),it(o,a)}}}function R$e(i){let e;return{c(){e=Z("Dashboards")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function V6(i){let e,t,n=i[5].label+"",r,s,l,o=i[5].widgets.length+"",a,u,c;return{c(){e=A("div"),t=A("div"),r=Z(n),s=Y(),l=A("div"),a=Z(o),u=Z(" widgets"),c=Y(),h(t,"class","ntitle"),h(l,"class","text-xs text-gray-500 whitespace-nowrap"),h(e,"class","pill")},m(f,d){w(f,e,d),E(e,t),E(t,r),E(e,s),E(e,l),E(l,a),E(l,u),E(e,c)},p(f,d){d&1&&n!==(n=f[5].label+"")&&oe(r,n),d&1&&o!==(o=f[5].widgets.length+"")&&oe(a,o)},d(f){f&&y(e)}}}function G6(i){let e,t,n,r,s;t=new Yr({props:{className:"mb-2",$$slots:{default:[j$e]},$$scope:{ctx:i}}});let l=i[0].goals,o=[];for(let a=0;a<l.length;a+=1)o[a]=Z6(I6(i,l,a));return{c(){e=A("section"),O(t.$$.fragment),n=Y(),r=A("div");for(let a=0;a<o.length;a+=1)o[a].c();h(r,"class","flex flex-wrap"),h(e,"class","svelte-ct5n07")},m(a,u){w(a,e,u),N(t,e,null),E(e,n),E(e,r);for(let c=0;c<o.length;c+=1)o[c].m(r,null);s=!0},p(a,u){const c={};if(u&8192&&(c.$$scope={dirty:u,ctx:a}),t.$set(c),u&1){l=a[0].goals;let f;for(f=0;f<l.length;f+=1){const d=I6(a,l,f);o[f]?o[f].p(d,u):(o[f]=Z6(d),o[f].c(),o[f].m(r,null))}for(;f<o.length;f+=1)o[f].d(1);o.length=l.length}},i(a){s||(_(t.$$.fragment,a),s=!0)},o(a){v(t.$$.fragment,a),s=!1},d(a){a&&y(e),M(t),it(o,a)}}}function j$e(i){let e;return{c(){e=Z("Goals")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Z6(i){let e,t,n=i[2].tag+"",r,s,l=i[2].comparison+"",o,a,u=i[2].target+"",c,f,d,m;return{c(){e=A("div"),t=A("div"),r=Z(n),s=Y(),o=Z(l),a=Y(),c=Z(u),f=Y(),d=A("div"),m=Y(),h(t,"class","ntitle"),h(d,"class","text-xs text-gray-500 whitespace-nowrap"),h(e,"class","pill")},m(p,g){w(p,e,g),E(e,t),E(t,r),E(t,s),E(t,o),E(t,a),E(t,c),E(e,f),E(e,d),E(e,m)},p(p,g){g&1&&n!==(n=p[2].tag+"")&&oe(r,n),g&1&&l!==(l=p[2].comparison+"")&&oe(o,l),g&1&&u!==(u=p[2].target+"")&&oe(c,u)},d(p){p&&y(e)}}}function Y$e(i){let e,t,n,r=i[0].name+"",s,l,o,a,u,c,f,d,m,p,g,k=i[0].description&&j6(i);a=new Me({props:{shape:"rounded",color:"primary",size:"sm",className:"w-full max-w-xs my-4",$$slots:{default:[I$e]},$$scope:{ctx:i}}}),a.$on("click",i[1]);let $=i[0].trackables.length&&Y6(i),D=i[0].boards.length&&q6(i),F=i[0].dashboards.length&&W6(i),C=i[0].goals.length&&G6(i);return{c(){e=A("div"),t=A("div"),n=A("h1"),s=Z(r),l=Y(),k&&k.c(),o=Y(),O(a.$$.fragment),u=Y(),c=A("hr"),f=Y(),$&&$.c(),d=Y(),D&&D.c(),m=Y(),F&&F.c(),p=Y(),C&&C.c(),h(n,"class","text-2xl lg:text-4xl font-bold lg:col-span-8 text-solid"),h(t,"class","grid grid-cols-1 mb-2 gap-2 items-center"),h(c,"class","mt-2 mb-4 dark:border-gray-700"),h(e,"class","template-view svelte-ct5n07")},m(S,P){w(S,e,P),E(e,t),E(t,n),E(n,s),E(e,l),k&&k.m(e,null),E(e,o),N(a,e,null),E(e,u),E(e,c),E(e,f),$&&$.m(e,null),E(e,d),D&&D.m(e,null),E(e,m),F&&F.m(e,null),E(e,p),C&&C.m(e,null),g=!0},p(S,[P]){(!g||P&1)&&r!==(r=S[0].name+"")&&oe(s,r),S[0].description?k?k.p(S,P):(k=j6(S),k.c(),k.m(e,o)):k&&(k.d(1),k=null);const I={};P&8192&&(I.$$scope={dirty:P,ctx:S}),a.$set(I),S[0].trackables.length?$?($.p(S,P),P&1&&_($,1)):($=Y6(S),$.c(),_($,1),$.m(e,d)):$&&(ie(),v($,1,1,()=>{$=null}),re()),S[0].boards.length?D?(D.p(S,P),P&1&&_(D,1)):(D=q6(S),D.c(),_(D,1),D.m(e,m)):D&&(ie(),v(D,1,1,()=>{D=null}),re()),S[0].dashboards.length?F?(F.p(S,P),P&1&&_(F,1)):(F=W6(S),F.c(),_(F,1),F.m(e,p)):F&&(ie(),v(F,1,1,()=>{F=null}),re()),S[0].goals.length?C?(C.p(S,P),P&1&&_(C,1)):(C=G6(S),C.c(),_(C,1),C.m(e,null)):C&&(ie(),v(C,1,1,()=>{C=null}),re())},i(S){g||(_(a.$$.fragment,S),_($),_(D),_(F),_(C),g=!0)},o(S){v(a.$$.fragment,S),v($),v(D),v(F),v(C),g=!1},d(S){S&&y(e),k&&k.d(),M(a),$&&$.d(),D&&D.d(),F&&F.d(),C&&C.d()}}}function U$e(i,e,t){let{template:n}=e;const r=()=>Q4e(n);return i.$$set=s=>{"template"in s&&t(0,n=s.template)},[n,r]}class q$e extends ce{constructor(e){super(),ue(this,e,U$e,Y$e,le,{template:0})}}function H$e(i){let e,t,n,r;function s(o){i[4](o)}let l={};return i[0]!==void 0&&(l.template=i[0]),t=new q$e({props:l}),De.push(()=>Ue(t,"template",s,i[0])),{c(){e=A("main"),O(t.$$.fragment),h(e,"class","lg:p-6 p-4")},m(o,a){w(o,e,a),N(t,e,null),r=!0},p(o,a){const u={};!n&&a&1&&(n=!0,u.template=o[0],qe(()=>n=!1)),t.$set(u)},i(o){r||(_(t.$$.fragment,o),r=!0)},o(o){v(t.$$.fragment,o),r=!1},d(o){o&&y(e),M(t)}}}function W$e(i){let e;return{c(){e=Z("Close")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function V$e(i){let e,t;return e=new Me({props:{slot:"left",primary:!0,clear:!0,$$slots:{default:[W$e]},$$scope:{ctx:i}}}),e.$on("click",i[3]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&32&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function G$e(i){let e,t;return e=new Jt({props:{slot:"header",$$slots:{left:[V$e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&32&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Z$e(i){let e,t;return e=new _n({props:{className:"h-full",mainClass:"bg-gray-100 dark:bg-gray-800",$$slots:{header:[G$e],default:[H$e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&33&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function x$e(i,e,t){let{id:n}=e,{template:r}=e;const s=()=>{Ot(n)},l=()=>s();function o(a){r=a,t(0,r)}return i.$$set=a=>{"id"in a&&t(2,n=a.id),"template"in a&&t(0,r=a.template)},[r,s,n,l,o]}class X$e extends ce{constructor(e){super(),ue(this,e,x$e,Z$e,le,{id:2,template:0})}}function K$e(i){return i.substr(0,1)}function zI(i){let e={tick:"tick",numeric:"value",range:"range",timer:"timer"},t={};return i.trackers.forEach(n=>{n.config=n.config||{};let r={tag:Lo(n.label),label:n.label,color:n.color,emoji:K$e(n.label),min:n.config.min||"",max:n.config.max||"",uom:n.config.uom||"num",type:e[n.config.type||"tick"]||"tick",math:n.config.math||"sum"};t[r.tag]=new oi(r)}),t}function J$e(i){let e={};return i.trackers.forEach(t=>{let n=Lo(t.label);t.groups&&t.groups.forEach(r=>{(r||"").trim().length&&(e[r]=e[r]||[],e[r].indexOf(n)===-1&&e[r].push(n))})}),Object.keys(e).filter(t=>t.toLowerCase()!=="all").map(t=>({id:Lo(t),label:t,trackers:e[t]||[]}))}function Q$e(i){let e={};return i.trackers.hasOwnProperty("length")&&i.trackers.forEach(t=>{let n={tag:Lo(t.label),...t};e[t._id]=new oi(n)}),e}function eFe(i){let e=zI(i),t=Q$e(i),n=[];return i.notes.forEach(r=>{let s=new Gt({_id:pn(10),start:r.time,end:r.time+1e3,lat:(r.geo||[]).length==2?r.geo[0]:null,lng:(r.geo||[]).length==2?r.geo[1]:null,location:"",note:r.value});n.push(s)}),i.events.forEach(r=>{if(t.hasOwnProperty(r.parent)){let s,l=e[t[r.parent].tag];l.tag,l.type==="tick"?s=`#${l.tag}`:s=`#${l.tag}(${r.value})`;let o=new Gt({_id:pn(10),start:r.time,end:r.time+1e3,lat:(r.geo||[]).length==2?r.geo[0]:null,lng:(r.geo||[]).length==2?r.geo[1]:null,location:"",note:s});n.push(o)}}),n}function tFe(i){return{trackers:zI(i),boards:J$e(i),logs:eFe(i),context:[],people:{},dashboards:[],locations:[]}}function nFe(i){return i.substr(0,1)}function RI(i){let e={tick:"tick",numeric:"value",range:"range",timer:"timer"},t={};return(i.trackers||[]).forEach(n=>{n.config=n.config||{};let r={tag:Lo(n.label),label:n.label,color:n.color,emoji:nFe(n.label),min:n.config.min||"",max:n.config.max||"",uom:n.config.uom||"num",type:e[n.config.type||"tick"]||"tick",math:n.config.math||"sum"};t[r.tag]=new oi(r)}),t}function iFe(i){let e={};return(i.trackers||[]).forEach(t=>{let n=Lo(t.label);t.groups&&t.groups.forEach(r=>{(r||"").trim().length&&(e[r]=e[r]||[],e[r].indexOf(n)===-1&&e[r].push(n))})}),Object.keys(e).filter(t=>t.toLowerCase()!=="all").map(t=>({id:Lo(t),label:t,trackers:e[t]||[]}))}function rFe(i){let e={};return i.trackers.hasOwnProperty("length")&&(i.trackers||[]).forEach(t=>{let n={tag:Lo(t.label),...t};e[t._id]=new oi(n)}),e}function sFe(i){let e=RI(i),t=rFe(i),n=[];return(i.notes||[]).forEach(r=>{let s=new Gt({_id:pn(10),start:r.time,end:r.time+1e3,lat:(r.geo||[]).length==2?r.geo[0]:null,lng:(r.geo||[]).length==2?r.geo[1]:null,location:"",note:r.value});n.push(s)}),(i.events||[]).forEach(r=>{if(t.hasOwnProperty(r.parent)){let s,l=e[t[r.parent].tag];l.tag,l.type==="tick"?s=`#${l.tag}`:s=`#${l.tag}(${r.value})`;let o=new Gt({_id:pn(10),start:r.time,end:r.time+1e3,lat:(r.geo||[]).length==2?r.geo[0]:null,lng:(r.geo||[]).length==2?r.geo[1]:null,location:"",note:s});n.push(o)}}),n}function lFe(i){return{trackers:RI(i),boards:iFe(i),logs:sFe(i),context:[],people:{},dashboards:[],locations:[]}}class oFe{constructor(e){Ne(this,"index");Ne(this,"id");Ne(this,"trackers");Ne(this,"label");e?(this.index=e.index,this.id=e.id,this.trackers=e.trackers,this.label=e.label):this.id=pn()}}function aFe(i){let e={};return Object.keys(i.trackers).forEach(t=>{e[t]=new oi(i.trackers[t])}),e}function uFe(i){return(i.boards||[]).map(e=>new oFe(e))}function cFe(i){return(i.events||[]).map(e=>(e.note=e.notes,new Gt(e)))}function fFe(i){return{trackers:aFe(i),boards:uFe(i),logs:cFe(i),people:{},context:[],locations:[],dashboards:[]}}function dFe(i){let e={};return Object.keys(i.trackers).forEach(t=>{e[t]=new oi(i.trackers[t])}),e}function hFe(i){let e={};return Object.keys(i.people||{}).forEach(t=>{e[t]=new jl(i.people[t])}),e}function mFe(i){return(i.boards||[]).map(e=>({label:e.label,elements:e.elements||(e.trackers||[]).map(n=>n.search("#")===-1?`#${n}`:n),id:e.id})).filter(e=>e)}const pFe=i=>{let e=[];return i.dashboards&&i.dashboards.dashboards?e=i.dashboards.dashboards:i.dashboards&&(e=i.dashboards),e=e.map(t=>new ac(t)),e};function _Fe(i){return(i.events||[]).map(e=>new Gt(e))}function gFe(i){const e=pFe(i);return{trackers:dFe(i),boards:mFe(i),logs:_Fe(i),people:hFe(i),context:i.context||[],locations:(i.locations||[]).map(n=>new vo(n)),dashboards:e}}function Lo(i){return i&&i.match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g).map(e=>e.toLowerCase()).join("_")}class vFe{constructor(e){Ne(this,"original");Ne(this,"version");Ne(this,"normalized");var t,n;if(this.original=e,this.version=parseInt((n=(t=e==null?void 0:e.nomie)==null?void 0:t.number)==null?void 0:n.split(".")[0]),this.version)this.version>=4?this.normalized=gFe(e):this.version==3?this.normalized=fFe(e):this.version==2?this.normalized=lFe(e):this.version==1&&(this.normalized=tFe(e));else throw new Error("Invalid Nomie Backup file")}}class jI{constructor(){Ne(this,"normalized");Ne(this,"raw");Ne(this,"changeListeners");Ne(this,"importing",{});Ne(this,"importer");this.importing={}}onChange(e){this.changeListeners.indexOf(e)==-1&&this.changeListeners.push(e)}logs(e){return this.normalized={logs:e},this}async openPayload(e){this.raw=e,this.importer=new vFe(e),this.normalized=this.importer.normalized}async importAll(e){e=e||function(t){};try{return e({importing:"boards"}),await this.importBoards(),e({importing:"trackers"}),await this.importTrackers(),e({importing:"dashboards"}),await this.importDashboards(),e({importing:"people"}),await this.importPeople(),e({importing:"context"}),await this.importContext(),e({importing:"locations"}),await this.importLocations(),e({importing:"logs"}),await this.importLogs(e),!0}catch(t){throw console.error(t),new Error(t.message)}}async importTrackers(){return await jr.updateSync(e=>({...this.normalized.trackers,...e})),this}async importDashboards(){let e=await ru(),t=Co([...e,...this.normalized.dashboards],"id");return Wv(t),this}async importBoards(){const e=await Nc()||[],t=this.normalized.boards||[],r=[...e.filter(o=>!t.find(a=>a.id==o.id)),...t],s=r.findIndex(o=>o.id=="all"||o.id=="_all");s&&r[s]&&(r[s].id="v5-all",r[s].label="All");let l=Co(r,"id");return await Pv(l),this}async importLogs(e){return await Ut.import(this.normalized.logs,t=>{if(t.step){let n;t.step<t.total?n=ht.round(100-(t.total-t.step)/t.total*100):t.step==t.total?n=100:n=0,e&&e({message:`Step ${t.step} of ${t.total}`,progress:n,step:t.step,total:t.total})}}),await Ut.getFirstDate(!0),this}async importPeople(){return await Zl.updateSync(t=>({...(this.normalized||{people:{}}).people,...t}))}async importContext(){const t=(this.normalized.context||[]).map(n=>new yp(n));try{await Ld.upsertMany(t)}catch(n){console.error(n)}return this}async importLocations(){return await Wr.upsertMany(this.normalized.locations),this}fireChange(e){this.changeListeners.forEach(t=>{t(e)})}}function bFe(i){let e,t,n,r,s,l=(i[3]||"0")+"",o,a,u;const c=i[5].default,f=He(c,i,i[7],null);return{c(){e=A("main"),t=A("h1"),n=Z(i[1]),r=Y(),s=A("span"),o=Z(l),a=Y(),f&&f.c(),h(t,"class","ntitle"),h(s,"class","text-xs font-semibold px-2 rounded-full bg-gray-300 dark:bg-gray-700"),h(e,"class","flex items-center space-x-2")},m(d,m){w(d,e,m),E(e,t),E(t,n),E(e,r),E(e,s),E(s,o),w(d,a,m),f&&f.m(d,m),u=!0},p(d,m){(!u||m&2)&&oe(n,d[1]),(!u||m&8)&&l!==(l=(d[3]||"0")+"")&&oe(o,l),f&&f.p&&(!u||m&128)&&Ve(f,c,d,d[7],u?We(c,d[7],m,null):Ge(d[7]),null)},i(d){u||(_(f,d),u=!0)},o(d){v(f,d),u=!1},d(d){d&&y(e),d&&y(a),f&&f.d(d)}}}function kFe(i){let e,t;return{c(){e=A("span"),t=Z(i[0]),h(e,"slot","left")},m(n,r){w(n,e,r),E(e,t)},p(n,r){r&1&&oe(t,n[0])},d(n){n&&y(e)}}}function yFe(i){let e,t;return e=new Me({props:{clear:!0,primary:!0,$$slots:{default:[FFe]},$$scope:{ctx:i}}}),e.$on("click",i[6]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&128&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function wFe(i){let e,t;return e=new je({props:{icon:Cs,className:"text-primary-500"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function $Fe(i){let e,t;return e=new Mn({props:{size:24}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function FFe(i){let e=_e.t("import.import","Import")+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p:W,d(n){n&&y(t)}}}function EFe(i){let e,t,n,r;const s=[$Fe,wFe,yFe],l=[];function o(a,u){return a[2].running?0:a[2].done?1:2}return t=o(i),n=l[t]=s[t](i),{c(){e=A("div"),n.c(),h(e,"slot","right"),h(e,"class","flex items-center space-x-2")},m(a,u){w(a,e,u),l[t].m(e,null),r=!0},p(a,u){let c=t;t=o(a),t===c?l[t].p(a,u):(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),n=l[t],n?n.p(a,u):(n=l[t]=s[t](a),n.c()),_(n,1),n.m(e,null))},i(a){r||(_(n),r=!0)},o(a){v(n),r=!1},d(a){a&&y(e),l[t].d()}}}function DFe(i){let e,t;return e=new xe({props:{bottomLine:48,$$slots:{right:[EFe],left:[kFe],default:[bFe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&143&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function CFe(i,e,t){let{$$slots:n={},$$scope:r}=e,{emoji:s="\u{1F643}"}=e,{title:l="Unknown"}=e,{status:o}=e,{count:a="0"}=e;const u=Dt(),c=()=>{u("import")};return i.$$set=f=>{"emoji"in f&&t(0,s=f.emoji),"title"in f&&t(1,l=f.title),"status"in f&&t(2,o=f.status),"count"in f&&t(3,a=f.count),"$$scope"in f&&t(7,r=f.$$scope)},[s,l,o,a,u,n,c,r]}class Vo extends ce{constructor(e){super(),ue(this,e,CFe,DFe,le,{emoji:0,title:1,status:2,count:3})}}function x6(i){let e,t;return e=new Gn({props:{className:"my-5 text-center leading-tight",icon:yd,description:"Supports CSV files, Nomie backup files (all versions), and tracker packs.",title:"Import a file",buttonLabel:_e.t("settings.select-nomie-file","Select File..."),buttonClick:i[9]}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function SFe(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p,g,k,$,D,F,C,S,P,I,R,B,z,q;e=new xe({props:{className:"item-divider compact bg-faded",$$slots:{default:[AFe]},$$scope:{ctx:i}}});const H=[NFe,PFe],K=[];function G(Ze,bt){return(Ze[4].normalized.logs||[]).length>0?0:1}n=G(i),r=K[n]=H[n](i);const U=[BFe,IFe],Q=[];function V(Ze,bt){return Object.keys(Ze[4].normalized.trackers).length>0?0:1}l=V(i),o=Q[l]=U[l](i);const x=[YFe,jFe],ee=[];function J(Ze,bt){var Yt;return((Yt=Ze[4].normalized.goals)==null?void 0:Yt.length)>0?0:1}u=J(i),c=ee[u]=x[u](i);const se=[WFe,HFe],te=[];function ge(Ze,bt){return(Ze[4].normalized.locations||[]).length>0?0:1}d=ge(i),m=te[d]=se[d](i);const ae=[xFe,ZFe],ve=[];function Te(Ze,bt){return(Ze[4].normalized.boards||[]).length>0?0:1}g=Te(i),k=ve[g]=ae[g](i);const Pe=[QFe,JFe],pe=[];function Ie(Ze,bt){return(Object.keys(Ze[4].normalized.people)||[]).length>0?0:1}D=Ie(i),F=pe[D]=Pe[D](i);const ye=[i3e,n3e],st=[];function dt(Ze,bt){return(Ze[4].normalized.context||[]).length>0?0:1}S=dt(i),P=st[S]=ye[S](i);const lt=[o3e,l3e],vt=[];function kt(Ze,bt){return(Ze[4].normalized.dashboards||[]).length>0?0:1}return R=kt(i),B=vt[R]=lt[R](i),{c(){O(e.$$.fragment),t=Y(),r.c(),s=Y(),o.c(),a=Y(),c.c(),f=Y(),m.c(),p=Y(),k.c(),$=Y(),F.c(),C=Y(),P.c(),I=Y(),B.c(),z=$e()},m(Ze,bt){N(e,Ze,bt),w(Ze,t,bt),K[n].m(Ze,bt),w(Ze,s,bt),Q[l].m(Ze,bt),w(Ze,a,bt),ee[u].m(Ze,bt),w(Ze,f,bt),te[d].m(Ze,bt),w(Ze,p,bt),ve[g].m(Ze,bt),w(Ze,$,bt),pe[D].m(Ze,bt),w(Ze,C,bt),st[S].m(Ze,bt),w(Ze,I,bt),vt[R].m(Ze,bt),w(Ze,z,bt),q=!0},p(Ze,bt){const Yt={};bt&67108865&&(Yt.$$scope={dirty:bt,ctx:Ze}),e.$set(Yt),r.p(Ze,bt),o.p(Ze,bt),c.p(Ze,bt),m.p(Ze,bt),k.p(Ze,bt),F.p(Ze,bt),P.p(Ze,bt),B.p(Ze,bt)},i(Ze){q||(_(e.$$.fragment,Ze),_(r),_(o),_(c),_(m),_(k),_(F),_(P),_(B),q=!0)},o(Ze){v(e.$$.fragment,Ze),v(r),v(o),v(c),v(m),v(k),v(F),v(P),v(B),q=!1},d(Ze){M(e,Ze),Ze&&y(t),K[n].d(Ze),Ze&&y(s),Q[l].d(Ze),Ze&&y(a),ee[u].d(Ze),Ze&&y(f),te[d].d(Ze),Ze&&y(p),ve[g].d(Ze),Ze&&y($),pe[D].d(Ze),Ze&&y(C),st[S].d(Ze),Ze&&y(I),vt[R].d(Ze),Ze&&y(z)}}}function TFe(i){let e,t;return e=new xe({props:{title:"Unknown/Invalid File"}}),e.$on("click",i[10]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function AFe(i){let e,t=i[0].nomie.number+"",n;return{c(){e=Z("From Nomie "),n=Z(t)},m(r,s){w(r,e,s),w(r,n,s)},p(r,s){s&1&&t!==(t=r[0].nomie.number+"")&&oe(n,t)},d(r){r&&y(e),r&&y(n)}}}function PFe(i){let e,t;return e=new xe({props:{bottomLine:48,title:"Notes",$$slots:{right:[LFe],left:[MFe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&67108864&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function NFe(i){let e,t,n;function r(l){i[11](l)}let s={emoji:"\u23F0",title:"Logs",count:(i[4].normalized.logs||[]).length.toLocaleString(),$$slots:{default:[OFe]},$$scope:{ctx:i}};return i[3].logs!==void 0&&(s.status=i[3].logs),e=new Vo({props:s}),De.push(()=>Ue(e,"status",r,i[3].logs)),e.$on("import",i[12]),{c(){O(e.$$.fragment)},m(l,o){N(e,l,o),n=!0},p(l,o){const a={};o&67108872&&(a.$$scope={dirty:o,ctx:l}),!t&&o&8&&(t=!0,a.status=l[3].logs,qe(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){M(e,l)}}}function MFe(i){let e;return{c(){e=A("div"),e.textContent="\u23F0",h(e,"slot","left")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function LFe(i){let e;return{c(){e=A("div"),e.textContent="No Data",h(e,"slot","right"),h(e,"class","text-gray-500 pr-4")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function X6(i){let e,t;return e=new Kr({props:{percentage:i[3].logs.progress,className:"mt-2 mr-2 h-2"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&8&&(s.percentage=n[3].logs.progress),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function OFe(i){let e,t,n=i[3].logs.running&&X6(i);return{c(){n&&n.c(),e=$e()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,s){r[3].logs.running?n?(n.p(r,s),s&8&&_(n,1)):(n=X6(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ie(),v(n,1,1,()=>{n=null}),re())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function IFe(i){let e,t;return e=new xe({props:{bottomLine:48,title:_e.t("general.trackers"),$$slots:{right:[RFe],left:[zFe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&67108864&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function BFe(i){let e,t,n;function r(l){i[13](l)}let s={emoji:"\u{1F92A}",title:"Trackers",count:Object.keys(i[4].normalized.trackers).length.toLocaleString()};return i[3].trackers!==void 0&&(s.status=i[3].trackers),e=new Vo({props:s}),De.push(()=>Ue(e,"status",r,i[3].trackers)),e.$on("import",i[14]),{c(){O(e.$$.fragment)},m(l,o){N(e,l,o),n=!0},p(l,o){const a={};!t&&o&8&&(t=!0,a.status=l[3].trackers,qe(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){M(e,l)}}}function zFe(i){let e;return{c(){e=A("div"),e.textContent="\u{1F92A}",h(e,"slot","left")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function RFe(i){let e;return{c(){e=A("div"),e.textContent="No Data",h(e,"slot","right"),h(e,"class","text-gray-500 pr-4")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function jFe(i){let e,t;return e=new xe({props:{bottomLine:48,title:_e.t("general.goals","Goals"),$$slots:{right:[qFe],left:[UFe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&67108864&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function YFe(i){var l;let e,t,n;function r(o){i[15](o)}let s={emoji:"\u{1F92A}",title:"Goals",count:(l=i[4].normalized.goals)==null?void 0:l.length.toLocaleString()};return i[3].goals!==void 0&&(s.status=i[3].goals),e=new Vo({props:s}),De.push(()=>Ue(e,"status",r,i[3].goals)),e.$on("import",$3e),{c(){O(e.$$.fragment)},m(o,a){N(e,o,a),n=!0},p(o,a){const u={};!t&&a&8&&(t=!0,u.status=o[3].goals,qe(()=>t=!1)),e.$set(u)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){M(e,o)}}}function UFe(i){let e;return{c(){e=A("div"),e.textContent="\u{1F3C6}",h(e,"slot","left")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function qFe(i){let e;return{c(){e=A("div"),e.textContent="No Data",h(e,"slot","right"),h(e,"class","text-gray-500 pr-4")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function HFe(i){let e,t;return e=new xe({props:{bottomLine:48,title:_e.t("general.locations","Locations"),$$slots:{right:[GFe],left:[VFe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&67108864&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function WFe(i){let e,t,n;function r(l){i[16](l)}let s={emoji:"\u{1F5FA}",title:"Locations",count:(i[4].normalized.locations||[]).length.toLocaleString()};return i[3].locations!==void 0&&(s.status=i[3].locations),e=new Vo({props:s}),De.push(()=>Ue(e,"status",r,i[3].locations)),e.$on("import",i[17]),{c(){O(e.$$.fragment)},m(l,o){N(e,l,o),n=!0},p(l,o){const a={};!t&&o&8&&(t=!0,a.status=l[3].locations,qe(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){M(e,l)}}}function VFe(i){let e;return{c(){e=A("div"),e.textContent="\u{1F5FA}",h(e,"slot","left")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function GFe(i){let e;return{c(){e=A("div"),e.textContent="No Data",h(e,"slot","right"),h(e,"class","text-gray-500 pr-4")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function ZFe(i){let e,t;return e=new xe({props:{bottomLine:48,title:_e.t("general.boards","Boards"),$$slots:{right:[KFe],left:[XFe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&67108864&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function xFe(i){let e,t,n;function r(l){i[18](l)}let s={emoji:"\u{1F5C2}",title:_e.t("general.boards","Boards"),count:(i[4].normalized.boards||[]).length.toLocaleString()};return i[3].boards!==void 0&&(s.status=i[3].boards),e=new Vo({props:s}),De.push(()=>Ue(e,"status",r,i[3].boards)),e.$on("import",i[19]),{c(){O(e.$$.fragment)},m(l,o){N(e,l,o),n=!0},p(l,o){const a={};!t&&o&8&&(t=!0,a.status=l[3].boards,qe(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){M(e,l)}}}function XFe(i){let e;return{c(){e=A("div"),e.textContent="\u{1F5C2}",h(e,"slot","left")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function KFe(i){let e;return{c(){e=A("div"),e.textContent="No Data",h(e,"slot","right"),h(e,"class","text-gray-500 pr-4")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function JFe(i){let e,t;return e=new xe({props:{bottomLine:48,title:_e.t("general.people","People"),$$slots:{right:[t3e],left:[e3e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&67108864&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function QFe(i){let e,t,n;function r(l){i[20](l)}let s={emoji:"\u{1F469}\u{1F3FD}\u200D\u{1F4BC}",title:_e.t("general.people","People"),count:(Object.keys(i[4].normalized.people)||[]).length.toLocaleString()};return i[3].people!==void 0&&(s.status=i[3].people),e=new Vo({props:s}),De.push(()=>Ue(e,"status",r,i[3].people)),e.$on("import",i[21]),{c(){O(e.$$.fragment)},m(l,o){N(e,l,o),n=!0},p(l,o){const a={};!t&&o&8&&(t=!0,a.status=l[3].people,qe(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){M(e,l)}}}function e3e(i){let e;return{c(){e=A("div"),e.textContent="\u{1F469}\u{1F3FD}\u200D\u{1F4BC}",h(e,"slot","left")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function t3e(i){let e;return{c(){e=A("div"),e.textContent="No Data",h(e,"slot","right"),h(e,"class","text-gray-500 pr-4")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function n3e(i){let e,t;return e=new xe({props:{bottomLine:48,title:_e.t("general.context","Context"),$$slots:{right:[s3e],left:[r3e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&67108864&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function i3e(i){let e,t,n;function r(l){i[22](l)}let s={emoji:"\u{1F4AD}",title:_e.t("general.context","Context"),count:(i[4].normalized.context||[]).length.toLocaleString()};return i[3].context!==void 0&&(s.status=i[3].context),e=new Vo({props:s}),De.push(()=>Ue(e,"status",r,i[3].context)),e.$on("import",i[23]),{c(){O(e.$$.fragment)},m(l,o){N(e,l,o),n=!0},p(l,o){const a={};!t&&o&8&&(t=!0,a.status=l[3].context,qe(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){M(e,l)}}}function r3e(i){let e;return{c(){e=A("div"),e.textContent="\u{1F4AD}",h(e,"slot","left")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function s3e(i){let e;return{c(){e=A("div"),e.textContent="No Data",h(e,"slot","right"),h(e,"class","text-gray-500 pr-4")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function l3e(i){let e,t;return e=new xe({props:{bottomLine:48,title:_e.t("general.dashboards","Dashboards"),$$slots:{right:[u3e],left:[a3e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&67108864&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function o3e(i){let e,t,n;function r(l){i[24](l)}let s={emoji:"\u{1F4CA}",title:_e.t("general.dashboards","Dashboards"),count:(i[4].normalized.dashboards||[]).length.toLocaleString()};return i[3].dashboards!==void 0&&(s.status=i[3].dashboards),e=new Vo({props:s}),De.push(()=>Ue(e,"status",r,i[3].dashboards)),e.$on("import",i[25]),{c(){O(e.$$.fragment)},m(l,o){N(e,l,o),n=!0},p(l,o){const a={};!t&&o&8&&(t=!0,a.status=l[3].dashboards,qe(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){M(e,l)}}}function a3e(i){let e;return{c(){e=A("div"),e.textContent="\u{1F4CA}",h(e,"slot","left")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function u3e(i){let e;return{c(){e=A("div"),e.textContent="No Data",h(e,"slot","right"),h(e,"class","text-gray-500 pr-4")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function c3e(i){let e,t,n,r,s,l=!i[0]&&x6(i);const o=[TFe,SFe],a=[];function u(c,f){return c[0]&&!c[1]?0:c[0]?1:-1}return~(n=u(i))&&(r=a[n]=o[n](i)),{c(){l&&l.c(),e=Y(),t=A("div"),r&&r.c(),h(t,"class","n-list")},m(c,f){l&&l.m(c,f),w(c,e,f),w(c,t,f),~n&&a[n].m(t,null),s=!0},p(c,f){c[0]?l&&(ie(),v(l,1,1,()=>{l=null}),re()):l?(l.p(c,f),f&1&&_(l,1)):(l=x6(c),l.c(),_(l,1),l.m(e.parentNode,e));let d=n;n=u(c),n===d?~n&&a[n].p(c,f):(r&&(ie(),v(a[d],1,1,()=>{a[d]=null}),re()),~n?(r=a[n],r?r.p(c,f):(r=a[n]=o[n](c),r.c()),_(r,1),r.m(t,null)):r=null)},i(c){s||(_(l),_(r),s=!0)},o(c){v(l),v(r),s=!1},d(c){l&&l.d(c),c&&y(e),c&&y(t),~n&&a[n].d()}}}function f3e(i){let e;return{c(){e=A("h1"),e.textContent=`${_e.t("settings.import","Import")}`,h(e,"class","ntitle sm")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function d3e(i){let e=_e.t("general.close","Close")+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p:W,d(n){n&&y(t)}}}function h3e(i){let e,t;return e=new Me({props:{clear:!0,primary:!0,slot:"left",$$slots:{default:[d3e]},$$scope:{ctx:i}}}),e.$on("click",i[6]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&67108864&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function m3e(i){let e,t;return e=new Me({props:{primary:!0,clear:!0,className:"whitespace-nowrap",$$slots:{default:[g3e]},$$scope:{ctx:i}}}),e.$on("click",i[5].finish),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&67108864&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function p3e(i){let e,t;return e=new Me({props:{primary:!0,clear:!0,className:"whitespace-nowrap",$$slots:{default:[v3e]},$$scope:{ctx:i}}}),e.$on("click",i[5].importAll),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&67108864&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function _3e(i){let e,t;return e=new Me({props:{primary:!0,clear:!0,disabled:!0,className:"whitespace-nowrap",$$slots:{default:[b3e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&67108864&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function g3e(i){let e=_e.t("general.finished","Finished")+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p:W,d(n){n&&y(t)}}}function v3e(i){let e=_e.t("import.import-all","Import All")+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p:W,d(n){n&&y(t)}}}function b3e(i){let e=_e.t("import.import-all","Import All")+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p:W,d(n){n&&y(t)}}}function k3e(i){let e,t,n,r;const s=[_3e,p3e,m3e],l=[];function o(a,u){return a[2]===!0?0:a[1]&&!a[3].all.running&&!a[3].all.done?1:a[3].all.done?2:-1}return~(t=o(i))&&(n=l[t]=s[t](i)),{c(){e=A("div"),n&&n.c(),h(e,"slot","right")},m(a,u){w(a,e,u),~t&&l[t].m(e,null),r=!0},p(a,u){let c=t;t=o(a),t===c?~t&&l[t].p(a,u):(n&&(ie(),v(l[c],1,1,()=>{l[c]=null}),re()),~t?(n=l[t],n?n.p(a,u):(n=l[t]=s[t](a),n.c()),_(n,1),n.m(e,null)):n=null)},i(a){r||(_(n),r=!0)},o(a){v(n),r=!1},d(a){a&&y(e),~t&&l[t].d()}}}function y3e(i){let e,t;return e=new Jt({props:{slot:"header",$$slots:{right:[k3e],left:[h3e],default:[f3e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&67108878&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function w3e(i){let e,t;return e=new _n({props:{$$slots:{header:[y3e],default:[c3e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&67108879&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}const $3e=()=>{};function F3e(i,e,t){let{id:n}=e,{fileData:r=void 0}=e,s,l=!1,o={boards:{running:!1,done:!1},locations:{running:!1,done:!1},goals:{running:!1,done:!1},logs:{running:!1,done:!1,progress:0},trackers:{running:!1,done:!1},people:{running:!1,done:!1},dashboards:{running:!1,done:!1},context:{running:!1,done:!1},all:{running:!1,done:!1}};const a=new jI;let u=!1;const c={init(){if(t(8,u=!0),r.hasOwnProperty("nomie"))try{a.openPayload(r),t(1,s=a.importer.version)}catch(K){console.error(K.message),Xe.alert("Error",K.message)}},async finish(){await Ut.getFirstDate(!0),await Xe.confirm("Import Complete. Restart?","It's best to reload Nomie after an import")&&(document.location.href="/")},onImportFile(K){let G=new FileReader,U=K.target.files[0];G.onload=Q=>{try{t(0,r=JSON.parse(Q.target.result)),c.init()}catch(V){console.error(V),Xe.alert("Error",V.message)}},G.readAsText(U)},async run(K,G,U=!1){t(3,o[K].running=!0,o);try{let Q=!0;U&&(Q=await Xe.confirm(`Import ${K}?`,"This action cannot be undone"),await Et(200),Q!==!0&&(t(3,o[K].running=!1,o),t(3,o[K].done=!1,o))),Q&&(await G(),t(3,o[K].running=!1,o),t(3,o[K].done=!0,o))}catch(Q){console.error(K,Q.message),Xe.alert("Error",Q.message),t(3,o[K].running=!1,o),t(3,o[K].done=!1,o)}},async importTrackers(K=!1){return await c.run("trackers",async()=>await a.importTrackers(),K)},async importDashboards(K=!1){return await c.run("dashboards",async()=>await a.importDashboards(),K)},async importPeople(K=!1){return await c.run("people",async()=>await a.importPeople(),K)},async importBoards(K=!1){return await c.run("boards",async()=>await a.importBoards(),K)},async importLogs(K=!1){return await c.run("logs",async()=>(t(3,o.logs.running=!0,o),await a.importLogs(G=>{t(3,o.logs.progress=G.progress,o),G.step==G.total&&(t(3,o.logs.done=!0,o),t(3,o.logs.running=!1,o))})),K)},async importContext(K=!1){return await c.run("context",async()=>await a.importContext(),K)},async importLocations(K=!1){return await c.run("locations",async()=>await a.importLocations(),K)},async importAll(){if(await Xe.confirm("Confirm","Are you sure? Importing cannot be undone.")===!0){await Et(300),t(2,l=!0),t(3,o.all.running=!0,o);let G=[];try{await a.importAll(U=>{U.importing?(t(3,o[U.importing]=o[U.importing]||{},o),t(3,o[U.importing].running=!0,o),G.push(U.importing),Object.keys(o).forEach(Q=>{U.importing!==Q&&(t(3,o[Q].running=!1,o),G.indexOf(Q)>-1&&t(3,o[Q].done=!0,o))})):U.progress&&t(3,o.logs.progress=U.progress,o)}),Object.keys(o).forEach(U=>{t(3,o[U].done=!0,o)}),t(3,o.all.running=!1,o),t(3,o.all.done=!0,o),t(3,o.logs.done=!0,o),t(3,o.logs.running=!1,o),t(2,l=!1),un({message:"Import Finishing..."}),await Ut.getFirstDate(!0),c.finish()}catch(U){console.error(U.message),Xe.alert("Error",U.message)}return!0}return!1}},f=async()=>{o.logs.running?await Xe.confirm("Stop the import?")&&window.location.reload():Ot(n)},d=()=>{HI()},m=()=>{t(0,r=null)};function p(K){i.$$.not_equal(o.logs,K)&&(o.logs=K,t(3,o))}const g=()=>{c.importLogs(!0)};function k(K){i.$$.not_equal(o.trackers,K)&&(o.trackers=K,t(3,o))}const $=()=>{c.importTrackers(!0)};function D(K){i.$$.not_equal(o.goals,K)&&(o.goals=K,t(3,o))}function F(K){i.$$.not_equal(o.locations,K)&&(o.locations=K,t(3,o))}const C=()=>{c.importLocations(!0)};function S(K){i.$$.not_equal(o.boards,K)&&(o.boards=K,t(3,o))}const P=()=>{c.importBoards(!0)};function I(K){i.$$.not_equal(o.people,K)&&(o.people=K,t(3,o))}const R=()=>{c.importPeople(!0)};function B(K){i.$$.not_equal(o.context,K)&&(o.context=K,t(3,o))}const z=()=>{c.importContext(!0)};function q(K){i.$$.not_equal(o.dashboards,K)&&(o.dashboards=K,t(3,o))}const H=()=>{c.importDashboards(!0)};return i.$$set=K=>{"id"in K&&t(7,n=K.id),"fileData"in K&&t(0,r=K.fileData)},i.$$.update=()=>{i.$$.dirty&257&&r&&!u&&c.init()},[r,s,l,o,a,c,f,n,u,d,m,p,g,k,$,D,F,C,S,P,I,R,B,z,q,H]}class E3e extends ce{constructor(e){super(),ue(this,e,F3e,w3e,le,{id:7,fileData:0})}}function D3e(i){let e,t;return e=new Me({props:{$$slots:{default:[S3e]},$$scope:{ctx:i}}}),e.$on("click",i[8]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&8192&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function C3e(i){let e,t;return e=new Me({props:{color:"transparent",className:"text-red",$$slots:{default:[T3e]},$$scope:{ctx:i}}}),e.$on("click",i[6]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&8192&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function S3e(i){let e;return{c(){e=Z("Select...")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function T3e(i){let e;return{c(){e=Z("Clear")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function A3e(i){let e,t,n,r;const s=[C3e,D3e],l=[];function o(a,u){return a[5]?0:1}return t=o(i),n=l[t]=s[t](i),{c(){e=A("div"),n.c(),h(e,"slot","right"),h(e,"class","pr-2")},m(a,u){w(a,e,u),l[t].m(e,null),r=!0},p(a,u){let c=t;t=o(a),t===c?l[t].p(a,u):(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),n=l[t],n?n.p(a,u):(n=l[t]=s[t](a),n.c()),_(n,1),n.m(e,null))},i(a){r||(_(n),r=!0)},o(a){v(n),r=!1},d(a){a&&y(e),l[t].d()}}}function P3e(i){let e,t,n,r,s,l;return e=new fn({props:{className:i[1],placeholder:i[3],label:i[0],value:i[5],disabled:!0,$$slots:{right:[A3e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment),t=Y(),n=A("input"),h(n,"type","file"),h(n,"class","hidden"),h(n,"accept",i[2])},m(o,a){N(e,o,a),w(o,t,a),w(o,n,a),i[9](n),r=!0,s||(l=ke(n,"change",i[7]),s=!0)},p(o,[a]){const u={};a&2&&(u.className=o[1]),a&8&&(u.placeholder=o[3]),a&1&&(u.label=o[0]),a&32&&(u.value=o[5]),a&8240&&(u.$$scope={dirty:a,ctx:o}),e.$set(u),(!r||a&4)&&h(n,"accept",o[2])},i(o){r||(_(e.$$.fragment,o),r=!0)},o(o){v(e.$$.fragment,o),r=!1},d(o){M(e,o),o&&y(t),o&&y(n),i[9](null),s=!1,l()}}}function N3e(i,e,t){let{className:n=""}=e,{accept:r="png,jpeg,jpg,csv"}=e,{placeholder:s="No file chosen"}=e,{label:l="File"}=e;const o=Dt();let a,u,c;function f(){a=void 0,t(5,c=void 0)}function d(k){let $=new FileReader;try{$.onload=async D=>{let F=D.target.result;a={data:null,file:null},a.data=F,a.file=k,t(5,c=a.file.name),t(0,l="File Loaded"),o("file",a)},$.readAsText(k)}catch(D){Xe.error(D.message)}}function m(k){let $=k.target.files;d($[0])}const p=()=>{u&&u.click()};function g(k){De[k?"unshift":"push"](()=>{u=k,t(4,u)})}return i.$$set=k=>{"className"in k&&t(1,n=k.className),"accept"in k&&t(2,r=k.accept),"placeholder"in k&&t(3,s=k.placeholder),"label"in k&&t(0,l=k.label)},[l,n,r,s,u,c,f,m,p,g]}class ob extends ce{constructor(e){super(),ue(this,e,N3e,P3e,le,{className:1,accept:2,placeholder:3,label:0})}}var YI={exports:{}};/* @license
Papa Parse
v5.3.2
https://github.com/mholt/PapaParse
License: MIT
*/(function(i,e){(function(t,n){i.exports=n()})(Yn,function t(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},r=!n.document&&!!n.postMessage,s=r&&/blob:/i.test((n.location||{}).protocol),l={},o=0,a={parse:function(R,B){var z=(B=B||{}).dynamicTyping||!1;if(I(z)&&(B.dynamicTypingFunction=z,z={}),B.dynamicTyping=z,B.transform=!!I(B.transform)&&B.transform,B.worker&&a.WORKERS_SUPPORTED){var q=function(){if(!a.WORKERS_SUPPORTED)return!1;var K=(U=n.URL||n.webkitURL||null,Q=t.toString(),a.BLOB_URL||(a.BLOB_URL=U.createObjectURL(new Blob(["(",Q,")();"],{type:"text/javascript"})))),G=new n.Worker(K),U,Q;return G.onmessage=D,G.id=o++,l[G.id]=G}();return q.userStep=B.step,q.userChunk=B.chunk,q.userComplete=B.complete,q.userError=B.error,B.step=I(B.step),B.chunk=I(B.chunk),B.complete=I(B.complete),B.error=I(B.error),delete B.worker,void q.postMessage({input:R,config:B,workerId:q.id})}var H=null;return a.NODE_STREAM_INPUT,typeof R=="string"?H=B.download?new f(B):new m(B):R.readable===!0&&I(R.read)&&I(R.on)?H=new p(B):(n.File&&R instanceof File||R instanceof Object)&&(H=new d(B)),H.stream(R)},unparse:function(R,B){var z=!1,q=!0,H=",",K=`\r
`,G='"',U=G+G,Q=!1,V=null,x=!1;(function(){if(typeof B=="object"){if(typeof B.delimiter!="string"||a.BAD_DELIMITERS.filter(function(te){return B.delimiter.indexOf(te)!==-1}).length||(H=B.delimiter),(typeof B.quotes=="boolean"||typeof B.quotes=="function"||Array.isArray(B.quotes))&&(z=B.quotes),typeof B.skipEmptyLines!="boolean"&&typeof B.skipEmptyLines!="string"||(Q=B.skipEmptyLines),typeof B.newline=="string"&&(K=B.newline),typeof B.quoteChar=="string"&&(G=B.quoteChar),typeof B.header=="boolean"&&(q=B.header),Array.isArray(B.columns)){if(B.columns.length===0)throw new Error("Option columns is empty");V=B.columns}B.escapeChar!==void 0&&(U=B.escapeChar+G),(typeof B.escapeFormulae=="boolean"||B.escapeFormulae instanceof RegExp)&&(x=B.escapeFormulae instanceof RegExp?B.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var ee=new RegExp(k(G),"g");if(typeof R=="string"&&(R=JSON.parse(R)),Array.isArray(R)){if(!R.length||Array.isArray(R[0]))return J(null,R,Q);if(typeof R[0]=="object")return J(V||Object.keys(R[0]),R,Q)}else if(typeof R=="object")return typeof R.data=="string"&&(R.data=JSON.parse(R.data)),Array.isArray(R.data)&&(R.fields||(R.fields=R.meta&&R.meta.fields||V),R.fields||(R.fields=Array.isArray(R.data[0])?R.fields:typeof R.data[0]=="object"?Object.keys(R.data[0]):[]),Array.isArray(R.data[0])||typeof R.data[0]=="object"||(R.data=[R.data])),J(R.fields||[],R.data||[],Q);throw new Error("Unable to serialize unrecognized input");function J(te,ge,ae){var ve="";typeof te=="string"&&(te=JSON.parse(te)),typeof ge=="string"&&(ge=JSON.parse(ge));var Te=Array.isArray(te)&&0<te.length,Pe=!Array.isArray(ge[0]);if(Te&&q){for(var pe=0;pe<te.length;pe++)0<pe&&(ve+=H),ve+=se(te[pe],pe);0<ge.length&&(ve+=K)}for(var Ie=0;Ie<ge.length;Ie++){var ye=Te?te.length:ge[Ie].length,st=!1,dt=Te?Object.keys(ge[Ie]).length===0:ge[Ie].length===0;if(ae&&!Te&&(st=ae==="greedy"?ge[Ie].join("").trim()==="":ge[Ie].length===1&&ge[Ie][0].length===0),ae==="greedy"&&Te){for(var lt=[],vt=0;vt<ye;vt++){var kt=Pe?te[vt]:vt;lt.push(ge[Ie][kt])}st=lt.join("").trim()===""}if(!st){for(var Ze=0;Ze<ye;Ze++){0<Ze&&!dt&&(ve+=H);var bt=Te&&Pe?te[Ze]:Ze;ve+=se(ge[Ie][bt],Ze)}Ie<ge.length-1&&(!ae||0<ye&&!dt)&&(ve+=K)}}return ve}function se(te,ge){if(te==null)return"";if(te.constructor===Date)return JSON.stringify(te).slice(1,25);var ae=!1;x&&typeof te=="string"&&x.test(te)&&(te="'"+te,ae=!0);var ve=te.toString().replace(ee,U);return(ae=ae||z===!0||typeof z=="function"&&z(te,ge)||Array.isArray(z)&&z[ge]||function(Te,Pe){for(var pe=0;pe<Pe.length;pe++)if(-1<Te.indexOf(Pe[pe]))return!0;return!1}(ve,a.BAD_DELIMITERS)||-1<ve.indexOf(H)||ve.charAt(0)===" "||ve.charAt(ve.length-1)===" ")?G+ve+G:ve}}};if(a.RECORD_SEP=String.fromCharCode(30),a.UNIT_SEP=String.fromCharCode(31),a.BYTE_ORDER_MARK="\uFEFF",a.BAD_DELIMITERS=["\r",`
`,'"',a.BYTE_ORDER_MARK],a.WORKERS_SUPPORTED=!r&&!!n.Worker,a.NODE_STREAM_INPUT=1,a.LocalChunkSize=10485760,a.RemoteChunkSize=5242880,a.DefaultDelimiter=",",a.Parser=$,a.ParserHandle=g,a.NetworkStreamer=f,a.FileStreamer=d,a.StringStreamer=m,a.ReadableStreamStreamer=p,n.jQuery){var u=n.jQuery;u.fn.parse=function(R){var B=R.config||{},z=[];return this.each(function(K){if(!(u(this).prop("tagName").toUpperCase()==="INPUT"&&u(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var G=0;G<this.files.length;G++)z.push({file:this.files[G],inputElem:this,instanceConfig:u.extend({},B)})}),q(),this;function q(){if(z.length!==0){var K,G,U,Q,V=z[0];if(I(R.before)){var x=R.before(V.file,V.inputElem);if(typeof x=="object"){if(x.action==="abort")return K="AbortError",G=V.file,U=V.inputElem,Q=x.reason,void(I(R.error)&&R.error({name:K},G,U,Q));if(x.action==="skip")return void H();typeof x.config=="object"&&(V.instanceConfig=u.extend(V.instanceConfig,x.config))}else if(x==="skip")return void H()}var ee=V.instanceConfig.complete;V.instanceConfig.complete=function(J){I(ee)&&ee(J,V.file,V.inputElem),H()},a.parse(V.file,V.instanceConfig)}else I(R.complete)&&R.complete()}function H(){z.splice(0,1),q()}}}function c(R){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(B){var z=S(B);z.chunkSize=parseInt(z.chunkSize),B.step||B.chunk||(z.chunkSize=null),this._handle=new g(z),(this._handle.streamer=this)._config=z}.call(this,R),this.parseChunk=function(B,z){if(this.isFirstChunk&&I(this._config.beforeFirstChunk)){var q=this._config.beforeFirstChunk(B);q!==void 0&&(B=q)}this.isFirstChunk=!1,this._halted=!1;var H=this._partialLine+B;this._partialLine="";var K=this._handle.parse(H,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var G=K.meta.cursor;this._finished||(this._partialLine=H.substring(G-this._baseIndex),this._baseIndex=G),K&&K.data&&(this._rowCount+=K.data.length);var U=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(s)n.postMessage({results:K,workerId:a.WORKER_ID,finished:U});else if(I(this._config.chunk)&&!z){if(this._config.chunk(K,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);K=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(K.data),this._completeResults.errors=this._completeResults.errors.concat(K.errors),this._completeResults.meta=K.meta),this._completed||!U||!I(this._config.complete)||K&&K.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),U||K&&K.meta.paused||this._nextChunk(),K}this._halted=!0},this._sendError=function(B){I(this._config.error)?this._config.error(B):s&&this._config.error&&n.postMessage({workerId:a.WORKER_ID,error:B,finished:!1})}}function f(R){var B;(R=R||{}).chunkSize||(R.chunkSize=a.RemoteChunkSize),c.call(this,R),this._nextChunk=r?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(z){this._input=z,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(B=new XMLHttpRequest,this._config.withCredentials&&(B.withCredentials=this._config.withCredentials),r||(B.onload=P(this._chunkLoaded,this),B.onerror=P(this._chunkError,this)),B.open(this._config.downloadRequestBody?"POST":"GET",this._input,!r),this._config.downloadRequestHeaders){var z=this._config.downloadRequestHeaders;for(var q in z)B.setRequestHeader(q,z[q])}if(this._config.chunkSize){var H=this._start+this._config.chunkSize-1;B.setRequestHeader("Range","bytes="+this._start+"-"+H)}try{B.send(this._config.downloadRequestBody)}catch(K){this._chunkError(K.message)}r&&B.status===0&&this._chunkError()}},this._chunkLoaded=function(){B.readyState===4&&(B.status<200||400<=B.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:B.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(z){var q=z.getResponseHeader("Content-Range");return q===null?-1:parseInt(q.substring(q.lastIndexOf("/")+1))}(B),this.parseChunk(B.responseText)))},this._chunkError=function(z){var q=B.statusText||z;this._sendError(new Error(q))}}function d(R){var B,z;(R=R||{}).chunkSize||(R.chunkSize=a.LocalChunkSize),c.call(this,R);var q=typeof FileReader<"u";this.stream=function(H){this._input=H,z=H.slice||H.webkitSlice||H.mozSlice,q?((B=new FileReader).onload=P(this._chunkLoaded,this),B.onerror=P(this._chunkError,this)):B=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var H=this._input;if(this._config.chunkSize){var K=Math.min(this._start+this._config.chunkSize,this._input.size);H=z.call(H,this._start,K)}var G=B.readAsText(H,this._config.encoding);q||this._chunkLoaded({target:{result:G}})},this._chunkLoaded=function(H){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(H.target.result)},this._chunkError=function(){this._sendError(B.error)}}function m(R){var B;c.call(this,R=R||{}),this.stream=function(z){return B=z,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var z,q=this._config.chunkSize;return q?(z=B.substring(0,q),B=B.substring(q)):(z=B,B=""),this._finished=!B,this.parseChunk(z)}}}function p(R){c.call(this,R=R||{});var B=[],z=!0,q=!1;this.pause=function(){c.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){c.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(H){this._input=H,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){q&&B.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),B.length?this.parseChunk(B.shift()):z=!0},this._streamData=P(function(H){try{B.push(typeof H=="string"?H:H.toString(this._config.encoding)),z&&(z=!1,this._checkIsFinished(),this.parseChunk(B.shift()))}catch(K){this._streamError(K)}},this),this._streamError=P(function(H){this._streamCleanUp(),this._sendError(H)},this),this._streamEnd=P(function(){this._streamCleanUp(),q=!0,this._streamData("")},this),this._streamCleanUp=P(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function g(R){var B,z,q,H=Math.pow(2,53),K=-H,G=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,U=/^(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))$/,Q=this,V=0,x=0,ee=!1,J=!1,se=[],te={data:[],errors:[],meta:{}};if(I(R.step)){var ge=R.step;R.step=function(Ie){if(te=Ie,Te())ve();else{if(ve(),te.data.length===0)return;V+=Ie.data.length,R.preview&&V>R.preview?z.abort():(te.data=te.data[0],ge(te,Q))}}}function ae(Ie){return R.skipEmptyLines==="greedy"?Ie.join("").trim()==="":Ie.length===1&&Ie[0].length===0}function ve(){return te&&q&&(pe("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+a.DefaultDelimiter+"'"),q=!1),R.skipEmptyLines&&(te.data=te.data.filter(function(Ie){return!ae(Ie)})),Te()&&function(){if(!te)return;function Ie(st,dt){I(R.transformHeader)&&(st=R.transformHeader(st,dt)),se.push(st)}if(Array.isArray(te.data[0])){for(var ye=0;Te()&&ye<te.data.length;ye++)te.data[ye].forEach(Ie);te.data.splice(0,1)}else te.data.forEach(Ie)}(),function(){if(!te||!R.header&&!R.dynamicTyping&&!R.transform)return te;function Ie(st,dt){var lt,vt=R.header?{}:[];for(lt=0;lt<st.length;lt++){var kt=lt,Ze=st[lt];R.header&&(kt=lt>=se.length?"__parsed_extra":se[lt]),R.transform&&(Ze=R.transform(Ze,kt)),Ze=Pe(kt,Ze),kt==="__parsed_extra"?(vt[kt]=vt[kt]||[],vt[kt].push(Ze)):vt[kt]=Ze}return R.header&&(lt>se.length?pe("FieldMismatch","TooManyFields","Too many fields: expected "+se.length+" fields but parsed "+lt,x+dt):lt<se.length&&pe("FieldMismatch","TooFewFields","Too few fields: expected "+se.length+" fields but parsed "+lt,x+dt)),vt}var ye=1;return!te.data.length||Array.isArray(te.data[0])?(te.data=te.data.map(Ie),ye=te.data.length):te.data=Ie(te.data,0),R.header&&te.meta&&(te.meta.fields=se),x+=ye,te}()}function Te(){return R.header&&se.length===0}function Pe(Ie,ye){return st=Ie,R.dynamicTypingFunction&&R.dynamicTyping[st]===void 0&&(R.dynamicTyping[st]=R.dynamicTypingFunction(st)),(R.dynamicTyping[st]||R.dynamicTyping)===!0?ye==="true"||ye==="TRUE"||ye!=="false"&&ye!=="FALSE"&&(function(dt){if(G.test(dt)){var lt=parseFloat(dt);if(K<lt&&lt<H)return!0}return!1}(ye)?parseFloat(ye):U.test(ye)?new Date(ye):ye===""?null:ye):ye;var st}function pe(Ie,ye,st,dt){var lt={type:Ie,code:ye,message:st};dt!==void 0&&(lt.row=dt),te.errors.push(lt)}this.parse=function(Ie,ye,st){var dt=R.quoteChar||'"';if(R.newline||(R.newline=function(kt,Ze){kt=kt.substring(0,1048576);var bt=new RegExp(k(Ze)+"([^]*?)"+k(Ze),"gm"),Yt=(kt=kt.replace(bt,"")).split("\r"),sn=kt.split(`
`),Ln=1<sn.length&&sn[0].length<Yt[0].length;if(Yt.length===1||Ln)return`
`;for(var In=0,On=0;On<Yt.length;On++)Yt[On][0]===`
`&&In++;return In>=Yt.length/2?`\r
`:"\r"}(Ie,dt)),q=!1,R.delimiter)I(R.delimiter)&&(R.delimiter=R.delimiter(Ie),te.meta.delimiter=R.delimiter);else{var lt=function(kt,Ze,bt,Yt,sn){var Ln,In,On,vn;sn=sn||[",","	","|",";",a.RECORD_SEP,a.UNIT_SEP];for(var hi=0;hi<sn.length;hi++){var rt=sn[hi],Ii=0,mi=0,Ye=0;On=void 0;for(var mr=new $({comments:Yt,delimiter:rt,newline:Ze,preview:10}).parse(kt),pr=0;pr<mr.data.length;pr++)if(bt&&ae(mr.data[pr]))Ye++;else{var Ji=mr.data[pr].length;mi+=Ji,On!==void 0?0<Ji&&(Ii+=Math.abs(Ji-On),On=Ji):On=Ji}0<mr.data.length&&(mi/=mr.data.length-Ye),(In===void 0||Ii<=In)&&(vn===void 0||vn<mi)&&1.99<mi&&(In=Ii,Ln=rt,vn=mi)}return{successful:!!(R.delimiter=Ln),bestDelimiter:Ln}}(Ie,R.newline,R.skipEmptyLines,R.comments,R.delimitersToGuess);lt.successful?R.delimiter=lt.bestDelimiter:(q=!0,R.delimiter=a.DefaultDelimiter),te.meta.delimiter=R.delimiter}var vt=S(R);return R.preview&&R.header&&vt.preview++,B=Ie,z=new $(vt),te=z.parse(B,ye,st),ve(),ee?{meta:{paused:!0}}:te||{meta:{paused:!1}}},this.paused=function(){return ee},this.pause=function(){ee=!0,z.abort(),B=I(R.chunk)?"":B.substring(z.getCharIndex())},this.resume=function(){Q.streamer._halted?(ee=!1,Q.streamer.parseChunk(B,!0)):setTimeout(Q.resume,3)},this.aborted=function(){return J},this.abort=function(){J=!0,z.abort(),te.meta.aborted=!0,I(R.complete)&&R.complete(te),B=""}}function k(R){return R.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function $(R){var B,z=(R=R||{}).delimiter,q=R.newline,H=R.comments,K=R.step,G=R.preview,U=R.fastMode,Q=B=R.quoteChar===void 0||R.quoteChar===null?'"':R.quoteChar;if(R.escapeChar!==void 0&&(Q=R.escapeChar),(typeof z!="string"||-1<a.BAD_DELIMITERS.indexOf(z))&&(z=","),H===z)throw new Error("Comment character same as delimiter");H===!0?H="#":(typeof H!="string"||-1<a.BAD_DELIMITERS.indexOf(H))&&(H=!1),q!==`
`&&q!=="\r"&&q!==`\r
`&&(q=`
`);var V=0,x=!1;this.parse=function(ee,J,se){if(typeof ee!="string")throw new Error("Input must be a string");var te=ee.length,ge=z.length,ae=q.length,ve=H.length,Te=I(K),Pe=[],pe=[],Ie=[],ye=V=0;if(!ee)return vn();if(U||U!==!1&&ee.indexOf(B)===-1){for(var st=ee.split(q),dt=0;dt<st.length;dt++){if(Ie=st[dt],V+=Ie.length,dt!==st.length-1)V+=q.length;else if(se)return vn();if(!H||Ie.substring(0,ve)!==H){if(Te){if(Pe=[],sn(Ie.split(z)),hi(),x)return vn()}else sn(Ie.split(z));if(G&&G<=dt)return Pe=Pe.slice(0,G),vn(!0)}}return vn()}for(var lt=ee.indexOf(z,V),vt=ee.indexOf(q,V),kt=new RegExp(k(Q)+k(B),"g"),Ze=ee.indexOf(B,V);;)if(ee[V]!==B)if(H&&Ie.length===0&&ee.substring(V,V+ve)===H){if(vt===-1)return vn();V=vt+ae,vt=ee.indexOf(q,V),lt=ee.indexOf(z,V)}else if(lt!==-1&&(lt<vt||vt===-1))Ie.push(ee.substring(V,lt)),V=lt+ge,lt=ee.indexOf(z,V);else{if(vt===-1)break;if(Ie.push(ee.substring(V,vt)),On(vt+ae),Te&&(hi(),x))return vn();if(G&&Pe.length>=G)return vn(!0)}else for(Ze=V,V++;;){if((Ze=ee.indexOf(B,Ze+1))===-1)return se||pe.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Pe.length,index:V}),In();if(Ze===te-1)return In(ee.substring(V,Ze).replace(kt,B));if(B!==Q||ee[Ze+1]!==Q){if(B===Q||Ze===0||ee[Ze-1]!==Q){lt!==-1&&lt<Ze+1&&(lt=ee.indexOf(z,Ze+1)),vt!==-1&&vt<Ze+1&&(vt=ee.indexOf(q,Ze+1));var bt=Ln(vt===-1?lt:Math.min(lt,vt));if(ee.substr(Ze+1+bt,ge)===z){Ie.push(ee.substring(V,Ze).replace(kt,B)),ee[V=Ze+1+bt+ge]!==B&&(Ze=ee.indexOf(B,V)),lt=ee.indexOf(z,V),vt=ee.indexOf(q,V);break}var Yt=Ln(vt);if(ee.substring(Ze+1+Yt,Ze+1+Yt+ae)===q){if(Ie.push(ee.substring(V,Ze).replace(kt,B)),On(Ze+1+Yt+ae),lt=ee.indexOf(z,V),Ze=ee.indexOf(B,V),Te&&(hi(),x))return vn();if(G&&Pe.length>=G)return vn(!0);break}pe.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Pe.length,index:V}),Ze++}}else Ze++}return In();function sn(rt){Pe.push(rt),ye=V}function Ln(rt){var Ii=0;if(rt!==-1){var mi=ee.substring(Ze+1,rt);mi&&mi.trim()===""&&(Ii=mi.length)}return Ii}function In(rt){return se||(rt===void 0&&(rt=ee.substring(V)),Ie.push(rt),V=te,sn(Ie),Te&&hi()),vn()}function On(rt){V=rt,sn(Ie),Ie=[],vt=ee.indexOf(q,V)}function vn(rt){return{data:Pe,errors:pe,meta:{delimiter:z,linebreak:q,aborted:x,truncated:!!rt,cursor:ye+(J||0)}}}function hi(){K(vn()),Pe=[],pe=[]}},this.abort=function(){x=!0},this.getCharIndex=function(){return V}}function D(R){var B=R.data,z=l[B.workerId],q=!1;if(B.error)z.userError(B.error,B.file);else if(B.results&&B.results.data){var H={abort:function(){q=!0,F(B.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:C,resume:C};if(I(z.userStep)){for(var K=0;K<B.results.data.length&&(z.userStep({data:B.results.data[K],errors:B.results.errors,meta:B.results.meta},H),!q);K++);delete B.results}else I(z.userChunk)&&(z.userChunk(B.results,H,B.file),delete B.results)}B.finished&&!q&&F(B.workerId,B.results)}function F(R,B){var z=l[R];I(z.userComplete)&&z.userComplete(B),z.terminate(),delete l[R]}function C(){throw new Error("Not implemented.")}function S(R){if(typeof R!="object"||R===null)return R;var B=Array.isArray(R)?[]:{};for(var z in R)B[z]=S(R[z]);return B}function P(R,B){return function(){R.apply(B,arguments)}}function I(R){return typeof R=="function"}return s&&(n.onmessage=function(R){var B=R.data;if(a.WORKER_ID===void 0&&B&&(a.WORKER_ID=B.workerId),typeof B.input=="string")n.postMessage({workerId:a.WORKER_ID,results:a.parse(B.input,B.config),finished:!0});else if(n.File&&B.input instanceof File||B.input instanceof Object){var z=a.parse(B.input,B.config);z&&n.postMessage({workerId:a.WORKER_ID,results:z,finished:!0})}}),(f.prototype=Object.create(c.prototype)).constructor=f,(d.prototype=Object.create(c.prototype)).constructor=d,(m.prototype=Object.create(m.prototype)).constructor=m,(p.prototype=Object.create(c.prototype)).constructor=p,a})})(YI);const M3e=YI.exports,K6=tu(Xn.storage.csvTemplates(),{key:"id",label:"CSVTemplate",itemInitializer:i=>i,itemSerializer:i=>i});class kg{constructor(e){Ne(this,"parsed");Ne(this,"name");Ne(this,"nlogs");Ne(this,"config");Ne(this,"errors");this.config=e||{name:this.config.name||this.name||"Untitled",fieldMap:{}},this.config.fieldMap=this.config.fieldMap||{},this.config.name=this.config.name||this.name||"Untitled",this.config.id=this.config.id||pn(8)}csv(e){try{this.parsed=M3e.parse(e.trim())}catch(t){console.error("Papa parse: Line 59 csvr-import",t.message)}return this}setName(e){this.name=e}length(){var e,t,n,r;return this.config.hasHeaders?(((t=(e=this.parsed)==null?void 0:e.data)==null?void 0:t.length)||1)-1:((r=(n=this.parsed)==null?void 0:n.data)==null?void 0:r.length)||0}toFields(e=[]){let t={};return e.forEach((n,r)=>{t[`f${r}`]=n}),t}fieldsToNote(e){let t=`${this.config.template}`;return Object.keys(e).forEach(n=>{t=t.replace("{"+n+"}",e[n])}),t}getHeaders(){return this.parsed.data[0]}toLog(e,t){let n;try{let r=this.toFields(e),s=this.fieldsToNote(r);n=new Gt({note:s,end:we(e[this.config.fieldMap.end]).toDate().getTime()}),this.config.fieldMap.start!==void 0&&(n.start=we(e[this.config.fieldMap.start]).toDate()),this.config.fieldMap.lat!==void 0&&this.config.fieldMap.lat!==void 0&&(n.lat=parseFloat(e[this.config.fieldMap.lat]),n.lng=parseFloat(e[this.config.fieldMap.lng])),this.config.fieldMap.location!==void 0&&(n.location=e[this.config.fieldMap.location]),this.config.fieldMap.source!==void 0?typeof this.config.fieldMap.source=="number"?n.source=e[this.config.fieldMap.source]:typeof this.config.fieldMap.source=="string"&&(n.source=this.config.fieldMap.source):n.source="importer"}catch(r){console.error("toLog Error",r.message),n=new Gt({note:"Invalid row data"})}return n}toLogs(){let e=[];return(this.parsed.data||[]).forEach((n,r)=>{try{let s=this.toLog(n,r);e.push(s)}catch(s){console.error(s),this.errors.push(`Row #${r} errored: ${s.message}`)}}),this.config.hasHeaders&&e.shift(),e}}function J6(i,e,t){const n=i.slice();return n[52]=e[t],n}function Q6(i,e,t){const n=i.slice();return n[46]=e[t],n}function e5(i){let e,t;return e=new xe({props:{bg:"light",mainClass:"py-4",$$slots:{default:[I3e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[0]&4|r[1]&16777216&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function L3e(i){let e=Rl(i[2].name,26,5)+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p(n,r){r[0]&4&&e!==(e=Rl(n[2].name,26,5)+"")&&oe(t,e)},d(n){n&&y(t)}}}function O3e(i){let e,t=i[2].length()+"",n,r,s=i[2].parsed.data[0].length+"",l;return{c(){e=Z("Records: "),n=Z(t),r=Z(", Columns: "),l=Z(s)},m(o,a){w(o,e,a),w(o,n,a),w(o,r,a),w(o,l,a)},p(o,a){a[0]&4&&t!==(t=o[2].length()+"")&&oe(n,t),a[0]&4&&s!==(s=o[2].parsed.data[0].length+"")&&oe(l,s)},d(o){o&&y(e),o&&y(n),o&&y(r),o&&y(l)}}}function I3e(i){let e,t,n,r;return e=new Di({props:{size:"sm",bold:!0,$$slots:{default:[L3e]},$$scope:{ctx:i}}}),n=new Di({props:{faded:!0,size:"sm",$$slots:{default:[O3e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment),t=Y(),O(n.$$.fragment)},m(s,l){N(e,s,l),w(s,t,l),N(n,s,l),r=!0},p(s,l){const o={};l[0]&4|l[1]&16777216&&(o.$$scope={dirty:l,ctx:s}),e.$set(o);const a={};l[0]&4|l[1]&16777216&&(a.$$scope={dirty:l,ctx:s}),n.$set(a)},i(s){r||(_(e.$$.fragment,s),_(n.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(n.$$.fragment,s),r=!1},d(s){M(e,s),s&&y(t),M(n,s)}}}function B3e(i){let e,t,n,r,s,l;t=new xe({props:{className:"pb-0",$$slots:{default:[j3e]},$$scope:{ctx:i}}}),r=new xe({props:{$$slots:{default:[Y3e]},$$scope:{ctx:i}}});let o=!i[2].parsed&&t5(i);return{c(){e=A("div"),O(t.$$.fragment),n=Y(),O(r.$$.fragment),s=Y(),o&&o.c(),h(e,"class","")},m(a,u){w(a,e,u),N(t,e,null),E(e,n),N(r,e,null),E(e,s),o&&o.m(e,null),l=!0},p(a,u){const c={};u[0]&4|u[1]&16777216&&(c.$$scope={dirty:u,ctx:a}),t.$set(c);const f={};u[0]&4|u[1]&16777216&&(f.$$scope={dirty:u,ctx:a}),r.$set(f),a[2].parsed?o&&(ie(),v(o,1,1,()=>{o=null}),re()):o?(o.p(a,u),u[0]&4&&_(o,1)):(o=t5(a),o.c(),_(o,1),o.m(e,null))},i(a){l||(_(t.$$.fragment,a),_(r.$$.fragment,a),_(o),l=!0)},o(a){v(t.$$.fragment,a),v(r.$$.fragment,a),v(o),l=!1},d(a){a&&y(e),M(t),M(r),o&&o.d()}}}function z3e(i){let e,t,n,r,s,l;t=new xe({props:{$$slots:{right:[W3e],default:[H3e]},$$scope:{ctx:i}}});const o=[G3e,V3e],a=[];function u(c,f){return c[2].parsed?1:0}return r=u(i),s=a[r]=o[r](i),{c(){e=A("div"),O(t.$$.fragment),n=Y(),s.c(),h(e,"class","p-0 import-csv-note")},m(c,f){w(c,e,f),N(t,e,null),E(e,n),a[r].m(e,null),l=!0},p(c,f){const d={};f[0]&4|f[1]&16777216&&(d.$$scope={dirty:f,ctx:c}),t.$set(d);let m=r;r=u(c),r===m?a[r].p(c,f):(ie(),v(a[m],1,1,()=>{a[m]=null}),re(),s=a[r],s?s.p(c,f):(s=a[r]=o[r](c),s.c()),_(s,1),s.m(e,null))},i(c){l||(_(t.$$.fragment,c),_(s),l=!0)},o(c){v(t.$$.fragment,c),v(s),l=!1},d(c){c&&y(e),M(t),a[r].d()}}}function R3e(i){let e,t,n,r,s,l,o,a;t=new xe({props:{bg:"transparent",$$slots:{default:[s4e]},$$scope:{ctx:i}}}),r=new xe({props:{$$slots:{default:[l4e]},$$scope:{ctx:i}}});let u=i[9].length&&r5(i);return{c(){e=A("div"),O(t.$$.fragment),n=Y(),O(r.$$.fragment),s=Y(),u&&u.c(),l=Y(),o=A("hr"),h(o,"class","divider center my-3"),h(e,"class","p-0 import-csv-home")},m(c,f){w(c,e,f),N(t,e,null),E(e,n),N(r,e,null),E(e,s),u&&u.m(e,null),E(e,l),E(e,o),a=!0},p(c,f){const d={};f[1]&16777216&&(d.$$scope={dirty:f,ctx:c}),t.$set(d);const m={};f[0]&2|f[1]&16777216&&(m.$$scope={dirty:f,ctx:c}),r.$set(m),c[9].length?u?(u.p(c,f),f[0]&512&&_(u,1)):(u=r5(c),u.c(),_(u,1),u.m(e,l)):u&&(ie(),v(u,1,1,()=>{u=null}),re())},i(c){a||(_(t.$$.fragment,c),_(r.$$.fragment,c),_(u),a=!0)},o(c){v(t.$$.fragment,c),v(r.$$.fragment,c),v(u),a=!1},d(c){c&&y(e),M(t),M(r),u&&u.d()}}}function j3e(i){let e=i[2].config.name+"",t,n;return{c(){t=Z(e),n=Z(" Importer")},m(r,s){w(r,t,s),w(r,n,s)},p(r,s){s[0]&4&&e!==(e=r[2].config.name+"")&&oe(t,e)},d(r){r&&y(t),r&&y(n)}}}function Y3e(i){let e,t,n;function r(l){i[35](l)}let s={type:"textarea",placeholder:_e.t("csv-import.compose-note"),rows:3};return i[2].config.template!==void 0&&(s.value=i[2].config.template),e=new fn({props:s}),De.push(()=>Ue(e,"value",r,i[2].config.template)),{c(){O(e.$$.fragment)},m(l,o){N(e,l,o),n=!0},p(l,o){const a={};!t&&o[0]&4&&(t=!0,a.value=l[2].config.template,qe(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){M(e,l)}}}function t5(i){let e,t;return e=new xe({props:{bg:"transparent",$$slots:{default:[q3e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[1]&16777216&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function U3e(i){let e;return{c(){e=Z("Select the CSV to process")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function q3e(i){let e,t,n,r;return e=new Di({props:{size:"sm",faded:!0,$$slots:{default:[U3e]},$$scope:{ctx:i}}}),n=new ob({props:{accept:"csv",label:"CSV File"}}),n.$on("file",i[36]),{c(){O(e.$$.fragment),t=Y(),O(n.$$.fragment)},m(s,l){N(e,s,l),w(s,t,l),N(n,s,l),r=!0},p(s,l){const o={};l[1]&16777216&&(o.$$scope={dirty:l,ctx:s}),e.$set(o)},i(s){r||(_(e.$$.fragment,s),_(n.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(n.$$.fragment,s),r=!1},d(s){M(e,s),s&&y(t),M(n,s)}}}function H3e(i){let e;return{c(){e=A("span"),e.textContent="Does this have a header row?"},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function W3e(i){let e,t,n,r;function s(o){i[30](o)}let l={title:"Header Row"};return i[2].config.hasHeaders!==void 0&&(l.value=i[2].config.hasHeaders),t=new Oi({props:l}),De.push(()=>Ue(t,"value",s,i[2].config.hasHeaders)),{c(){e=A("div"),O(t.$$.fragment),h(e,"slot","right")},m(o,a){w(o,e,a),N(t,e,null),r=!0},p(o,a){const u={};!n&&a[0]&4&&(n=!0,u.value=o[2].config.hasHeaders,qe(()=>n=!1)),t.$set(u)},i(o){r||(_(t.$$.fragment,o),r=!0)},o(o){v(t.$$.fragment,o),r=!1},d(o){o&&y(e),M(t)}}}function V3e(i){let e,t,n,r,s,l,o,a,u=i[13],c=[];for(let m=0;m<u.length;m+=1)c[m]=i5(J6(i,u,m));const f=m=>v(c[m],1,1,()=>{c[m]=null});s=new xe({props:{$$slots:{default:[r4e]},$$scope:{ctx:i}}});let d=A4e;return{c(){e=A("div"),t=A("div"),t.textContent=`${_e.t("csv-import.map-fields","Map Fields")}`,n=Y();for(let m=0;m<c.length;m+=1)c[m].c();r=Y(),O(s.$$.fragment),l=Y(),o=$e(),h(t,"class","dark:text-white opacity-60 text-sm"),h(e,"class","px-4 pt-4")},m(m,p){w(m,e,p),E(e,t),w(m,n,p);for(let g=0;g<c.length;g+=1)c[g].m(m,p);w(m,r,p),N(s,m,p),w(m,l,p),w(m,o,p),a=!0},p(m,p){if(p[0]&536596){u=m[13];let k;for(k=0;k<u.length;k+=1){const $=J6(m,u,k);c[k]?(c[k].p($,p),_(c[k],1)):(c[k]=i5($),c[k].c(),_(c[k],1),c[k].m(r.parentNode,r))}for(ie(),k=u.length;k<c.length;k+=1)f(k);re()}const g={};p[0]&4|p[1]&16777216&&(g.$$scope={dirty:p,ctx:m}),s.$set(g)},i(m){if(!a){for(let p=0;p<u.length;p+=1)_(c[p]);_(s.$$.fragment,m),_(d),a=!0}},o(m){c=c.filter(Boolean);for(let p=0;p<c.length;p+=1)v(c[p]);v(s.$$.fragment,m),v(d),a=!1},d(m){m&&y(e),m&&y(n),it(c,m),m&&y(r),M(s,m),m&&y(l),m&&y(o)}}}function G3e(i){let e,t;return e=new ob({props:{accept:"csv",label:_e.t("csv-import.select-csv-file","Select CSV File...")}}),e.$on("file",i[31]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function n5(i){let e,t,n,r=(i[52].id=="end"||i[52].id=="start")&&Z3e(i);return t=new Di({props:{size:"sm",faded:!0,$$slots:{default:[X3e]},$$scope:{ctx:i}}}),{c(){r&&r.c(),e=Y(),O(t.$$.fragment)},m(s,l){r&&r.m(s,l),w(s,e,l),N(t,s,l),n=!0},p(s,l){(s[52].id=="end"||s[52].id=="start")&&r.p(s,l);const o={};l[0]&20|l[1]&16777216&&(o.$$scope={dirty:l,ctx:s}),t.$set(o)},i(s){n||(_(r),_(t.$$.fragment,s),n=!0)},o(s){v(r),v(t.$$.fragment,s),n=!1},d(s){r&&r.d(s),s&&y(e),M(t,s)}}}function Z3e(i){let e,t;return e=new Di({props:{size:"sm",bold:!0,$$slots:{default:[x3e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[0]&20|r[1]&16777216&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function x3e(i){let e,t=we(i[4][i[2].config.fieldMap[i[52].id]]).format(`${i[12].date} ${i[12].time}`)+"",n;return{c(){e=Z("Parsed: "),n=Z(t)},m(r,s){w(r,e,s),w(r,n,s)},p(r,s){s[0]&20&&t!==(t=we(r[4][r[2].config.fieldMap[r[52].id]]).format(`${r[12].date} ${r[12].time}`)+"")&&oe(n,t)},d(r){r&&y(e),r&&y(n)}}}function X3e(i){let e=i[4][i[2].config.fieldMap[i[52].id]]+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p(n,r){r[0]&20&&e!==(e=n[4][n[2].config.fieldMap[n[52].id]]+"")&&oe(t,e)},d(n){n&&y(t)}}}function K3e(i){let e=jn.truthy(i[2].config.fieldMap[i[52].id]),t,n,r=e&&n5(i);return{c(){r&&r.c(),t=$e()},m(s,l){r&&r.m(s,l),w(s,t,l),n=!0},p(s,l){l[0]&4&&(e=jn.truthy(s[2].config.fieldMap[s[52].id])),e?r?(r.p(s,l),l[0]&4&&_(r,1)):(r=n5(s),r.c(),_(r,1),r.m(t.parentNode,t)):r&&(ie(),v(r,1,1,()=>{r=null}),re())},i(s){n||(_(r),n=!0)},o(s){v(r),n=!1},d(s){r&&r.d(s),s&&y(t)}}}function J3e(i){let e;return{c(){e=A("span"),e.textContent="Map",h(e,"class","text-sm font-bold")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function Q3e(i){let e,t=i[2].config.fieldMap[i[52].id]+"",n;return{c(){e=Z("f"),n=Z(t)},m(r,s){w(r,e,s),w(r,n,s)},p(r,s){s[0]&4&&t!==(t=r[2].config.fieldMap[r[52].id]+"")&&oe(n,t)},d(r){r&&y(e),r&&y(n)}}}function e4e(i){let e,t,n,r;function s(a,u){return u[0]&4&&(e=null),e==null&&(e=!!jn.truthy(a[2].config.fieldMap[a[52].id])),e?Q3e:J3e}let l=s(i,[-1,-1]),o=l(i);return n=new je({props:{icon:$0,size:14,className:"text-primary-500 ml-2 -mr-2"}}),{c(){o.c(),t=Y(),O(n.$$.fragment)},m(a,u){o.m(a,u),w(a,t,u),N(n,a,u),r=!0},p(a,u){l===(l=s(a,u))&&o?o.p(a,u):(o.d(1),o=l(a),o&&(o.c(),o.m(t.parentNode,t)))},i(a){r||(_(n.$$.fragment,a),r=!0)},o(a){v(n.$$.fragment,a),r=!1},d(a){o.d(a),a&&y(t),M(n,a)}}}function t4e(i){let e,t,n;return t=new Me({props:{color:"transparent",className:"text-primary-500",$$slots:{default:[e4e]},$$scope:{ctx:i}}}),{c(){e=A("div"),O(t.$$.fragment),h(e,"slot","right")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p(r,s){const l={};s[0]&4|s[1]&16777216&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function i5(i){let e,t;function n(){return i[32](i[52])}return e=new xe({props:{bottomLine:16,clickable:!0,title:`${i[52].title}`,$$slots:{right:[t4e],default:[K3e]},$$scope:{ctx:i}}}),e.$on("click",n),{c(){O(e.$$.fragment)},m(r,s){N(e,r,s),t=!0},p(r,s){i=r;const l={};s[0]&20|s[1]&16777216&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){M(e,r)}}}function n4e(i){let e,t;return e=new je({props:{icon:kd}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function i4e(i){let e,t,n;return t=new Me({props:{shape:"round",color:"transparent",$$slots:{default:[n4e]},$$scope:{ctx:i}}}),t.$on("click",i[18]),{c(){e=A("div"),O(t.$$.fragment),h(e,"slot","right")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p(r,s){const l={};s[1]&16777216&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function r4e(i){let e,t,n,r,s;function l(a){i[33](a)}let o={type:"textarea",placeholder:_e.t("csv-import.compose-note","Compose a note for this CSV data"),rows:3,$$slots:{right:[i4e]},$$scope:{ctx:i}};return i[2].config.template!==void 0&&(o.value=i[2].config.template),n=new fn({props:o}),De.push(()=>Ue(n,"value",l,i[2].config.template)),{c(){e=A("div"),e.textContent="Note*",t=Y(),O(n.$$.fragment),h(e,"class","dark:text-white")},m(a,u){w(a,e,u),w(a,t,u),N(n,a,u),s=!0},p(a,u){const c={};u[1]&16777216&&(c.$$scope={dirty:u,ctx:a}),!r&&u[0]&4&&(r=!0,c.value=a[2].config.template,qe(()=>r=!1)),n.$set(c)},i(a){s||(_(n.$$.fragment,a),s=!0)},o(a){v(n.$$.fragment,a),s=!1},d(a){a&&y(e),a&&y(t),M(n,a)}}}function s4e(i){let e;return{c(){e=A("span"),e.textContent=`Select any CSV to begin. You can then map the appropriate fields to turn a row of data into a Note within
            Nomie.`,h(e,"class","text-gray-500 text-sm leading-tight")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function l4e(i){let e,t;return e=new ob({props:{accept:"csv",placeholder:"CSV File"}}),e.$on("file",i[25]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function r5(i){let e,t,n,r,s,l;n=new xe({props:{itemDivider:!0,compact:!0,className:"bg-transparent",$$slots:{right:[d4e],default:[o4e]},$$scope:{ctx:i}}});let o=i[9],a=[];for(let c=0;c<o.length;c+=1)a[c]=l5(Q6(i,o,c));const u=c=>v(a[c],1,1,()=>{a[c]=null});return{c(){e=A("hr"),t=Y(),O(n.$$.fragment),r=Y();for(let c=0;c<a.length;c+=1)a[c].c();s=$e(),h(e,"class","divider center my-2")},m(c,f){w(c,e,f),w(c,t,f),N(n,c,f),w(c,r,f);for(let d=0;d<a.length;d+=1)a[d].m(c,f);w(c,s,f),l=!0},p(c,f){const d={};if(f[0]&128|f[1]&16777216&&(d.$$scope={dirty:f,ctx:c}),n.$set(d),f[0]&5243520){o=c[9];let m;for(m=0;m<o.length;m+=1){const p=Q6(c,o,m);a[m]?(a[m].p(p,f),_(a[m],1)):(a[m]=l5(p),a[m].c(),_(a[m],1),a[m].m(s.parentNode,s))}for(ie(),m=o.length;m<a.length;m+=1)u(m);re()}},i(c){if(!l){_(n.$$.fragment,c);for(let f=0;f<o.length;f+=1)_(a[f]);l=!0}},o(c){v(n.$$.fragment,c),a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)v(a[f]);l=!1},d(c){c&&y(e),c&&y(t),M(n,c),c&&y(r),it(a,c),c&&y(s)}}}function o4e(i){let e=_e.t("csv-import.saved-templates","Saved Templates")+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p:W,d(n){n&&y(t)}}}function a4e(i){let e,t;return e=new Me({props:{size:"sm",color:"transparent",className:"text-red",$$slots:{default:[c4e]},$$scope:{ctx:i}}}),e.$on("click",i[27]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[1]&16777216&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function u4e(i){let e,t;return e=new Me({props:{color:"transparent",size:"sm",$$slots:{default:[f4e]},$$scope:{ctx:i}}}),e.$on("click",i[26]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[1]&16777216&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function c4e(i){let e=_e.t("general.done","Done")+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p:W,d(n){n&&y(t)}}}function f4e(i){let e=_e.t("general.edit","Edit")+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p:W,d(n){n&&y(t)}}}function d4e(i){let e,t,n,r;const s=[u4e,a4e],l=[];function o(a,u){return a[7]!="edit"?0:1}return t=o(i),n=l[t]=s[t](i),{c(){e=A("div"),n.c(),h(e,"slot","right")},m(a,u){w(a,e,u),l[t].m(e,null),r=!0},p(a,u){let c=t;t=o(a),t===c?l[t].p(a,u):(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),n=l[t],n?n.p(a,u):(n=l[t]=s[t](a),n.c()),_(n,1),n.m(e,null))},i(a){r||(_(n),r=!0)},o(a){v(n),r=!1},d(a){a&&y(e),l[t].d()}}}function h4e(i){let e=i[46].name+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p(n,r){r[0]&512&&e!==(e=n[46].name+"")&&oe(t,e)},d(n){n&&y(t)}}}function m4e(i){let e=i[46].template+"",t,n=Object.keys(i[46].fieldMap)+"",r;return{c(){t=Z(e),r=Z(n)},m(s,l){w(s,t,l),w(s,r,l)},p(s,l){l[0]&512&&e!==(e=s[46].template+"")&&oe(t,e),l[0]&512&&n!==(n=Object.keys(s[46].fieldMap)+"")&&oe(r,n)},d(s){s&&y(t),s&&y(r)}}}function p4e(i){let e,t,n,r,s;return e=new Di({props:{bold:!0,$$slots:{default:[h4e]},$$scope:{ctx:i}}}),n=new Di({props:{size:"sm",faded:!0,$$slots:{default:[m4e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment),t=Y(),O(n.$$.fragment),r=Y()},m(l,o){N(e,l,o),w(l,t,o),N(n,l,o),w(l,r,o),s=!0},p(l,o){const a={};o[0]&512|o[1]&16777216&&(a.$$scope={dirty:o,ctx:l}),e.$set(a);const u={};o[0]&512|o[1]&16777216&&(u.$$scope={dirty:o,ctx:l}),n.$set(u)},i(l){s||(_(e.$$.fragment,l),_(n.$$.fragment,l),s=!0)},o(l){v(e.$$.fragment,l),v(n.$$.fragment,l),s=!1},d(l){M(e,l),l&&y(t),M(n,l),l&&y(r)}}}function s5(i){let e,t;function n(...r){return i[28](i[46],...r)}return e=new Me({props:{size:"sm",color:"danger",$$slots:{default:[_4e]},$$scope:{ctx:i}}}),e.$on("click",n),{c(){O(e.$$.fragment)},m(r,s){N(e,r,s),t=!0},p(r,s){i=r;const l={};s[1]&16777216&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){M(e,r)}}}function _4e(i){let e;return{c(){e=Z("Delete")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function g4e(i){let e,t,n,r=i[7]=="edit"&&s5(i);return{c(){e=A("div"),r&&r.c(),t=Y(),h(e,"slot","right")},m(s,l){w(s,e,l),r&&r.m(e,null),E(e,t),n=!0},p(s,l){s[7]=="edit"?r?(r.p(s,l),l[0]&128&&_(r,1)):(r=s5(s),r.c(),_(r,1),r.m(e,t)):r&&(ie(),v(r,1,1,()=>{r=null}),re())},i(s){n||(_(r),n=!0)},o(s){v(r),n=!1},d(s){s&&y(e),r&&r.d()}}}function l5(i){let e,t;function n(){return i[29](i[46])}return e=new xe({props:{detail:!0,clickable:i[7]=="list",$$slots:{right:[g4e],default:[p4e]},$$scope:{ctx:i}}}),e.$on("click",n),{c(){O(e.$$.fragment)},m(r,s){N(e,r,s),t=!0},p(r,s){i=r;const l={};s[0]&128&&(l.clickable=i[7]=="list"),s[0]&640|s[1]&16777216&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){M(e,r)}}}function o5(i){let e,t,n=i[6].note&&i[6].note!=="null"&&a5(i);return{c(){n&&n.c(),e=$e()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,s){r[6].note&&r[6].note!=="null"?n?(n.p(r,s),s[0]&64&&_(n,1)):(n=a5(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ie(),v(n,1,1,()=>{n=null}),re())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function a5(i){let e,t,n,r,s,l,o,a,u=i[2].length()+"",c,f,d,m,p,g,k,$,D,F;return e=new Tn({}),p=new Ec({props:{hideCal:!0}}),p.$on("next",i[10]),p.$on("previous",i[11]),k=new Xo({props:{log:i[6]}}),D=new xe({props:{$$slots:{default:[b4e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment),t=Y(),n=A("div"),r=A("div"),s=A("div"),l=Z("Preview "),o=Z(i[3]),a=Z(" of "),c=Z(u),f=Y(),d=A("div"),m=Y(),O(p.$$.fragment),g=Y(),O(k.$$.fragment),$=Y(),O(D.$$.fragment),h(s,"class","main dark:text-white text-sm"),h(d,"class","filler"),h(r,"class","n-toolbar flex pl-2"),h(n,"class","examples bg-inverse-2 p-2 px-4")},m(C,S){N(e,C,S),w(C,t,S),w(C,n,S),E(n,r),E(r,s),E(s,l),E(s,o),E(s,a),E(s,c),E(r,f),E(r,d),E(r,m),N(p,r,null),E(n,g),N(k,n,null),w(C,$,S),N(D,C,S),F=!0},p(C,S){(!F||S[0]&8)&&oe(o,C[3]),(!F||S[0]&4)&&u!==(u=C[2].length()+"")&&oe(c,u);const P={};S[0]&64&&(P.log=C[6]),k.$set(P);const I={};S[0]&4|S[1]&16777216&&(I.$$scope={dirty:S,ctx:C}),D.$set(I)},i(C){F||(_(e.$$.fragment,C),_(p.$$.fragment,C),_(k.$$.fragment,C),_(D.$$.fragment,C),F=!0)},o(C){v(e.$$.fragment,C),v(p.$$.fragment,C),v(k.$$.fragment,C),v(D.$$.fragment,C),F=!1},d(C){M(e,C),C&&y(t),C&&y(n),M(p),M(k),C&&y($),M(D,C)}}}function v4e(i){let e,t=i[2].length()+"",n,r;return{c(){e=Z("Import "),n=Z(t),r=Z(" Logs...")},m(s,l){w(s,e,l),w(s,n,l),w(s,r,l)},p(s,l){l[0]&4&&t!==(t=s[2].length()+"")&&oe(n,t)},d(s){s&&y(e),s&&y(n),s&&y(r)}}}function b4e(i){let e,t;return e=new Me({props:{primary:!0,block:!0,$$slots:{default:[v4e]},$$scope:{ctx:i}}}),e.$on("click",i[16]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[0]&4|r[1]&16777216&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function k4e(i){let e,t,n,r,s,l=i[6]&&jn.truthy(i[3])&&i[2].parsed,o,a=i[2]&&i[2].name&&e5(i);const u=[R3e,z3e,B3e],c=[];function f(m,p){return m[8]&&m[8].id=="home"?0:m[8]&&m[8].id=="note"&&m[2]?1:m[8]&&m[8].id=="template"&&m[2]?2:-1}~(n=f(i))&&(r=c[n]=u[n](i));let d=l&&o5(i);return{c(){e=A("main"),a&&a.c(),t=Y(),r&&r.c(),s=Y(),d&&d.c(),h(e,"class","page page-csv-import flex-column")},m(m,p){w(m,e,p),a&&a.m(e,null),E(e,t),~n&&c[n].m(e,null),E(e,s),d&&d.m(e,null),o=!0},p(m,p){m[2]&&m[2].name?a?(a.p(m,p),p[0]&4&&_(a,1)):(a=e5(m),a.c(),_(a,1),a.m(e,t)):a&&(ie(),v(a,1,1,()=>{a=null}),re());let g=n;n=f(m),n===g?~n&&c[n].p(m,p):(r&&(ie(),v(c[g],1,1,()=>{c[g]=null}),re()),~n?(r=c[n],r?r.p(m,p):(r=c[n]=u[n](m),r.c()),_(r,1),r.m(e,s)):r=null),p[0]&76&&(l=m[6]&&jn.truthy(m[3])&&m[2].parsed),l?d?(d.p(m,p),p[0]&76&&_(d,1)):(d=o5(m),d.c(),_(d,1),d.m(e,null)):d&&(ie(),v(d,1,1,()=>{d=null}),re())},i(m){o||(_(a),_(r),_(d),o=!0)},o(m){v(a),v(r),v(d),o=!1},d(m){m&&y(e),a&&a.d(),~n&&c[n].d(),d&&d.d()}}}function y4e(i){let e;return{c(){e=A("div"),e.textContent="Import CSV",h(e,"class","ntitle main")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function w4e(i){let e;return{c(){e=Z("Close")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function $4e(i){let e,t;return e=new Me({props:{primary:!0,slot:"left",className:"text-primary-500",$$slots:{default:[w4e]},$$scope:{ctx:i}}}),e.$on("click",i[24]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[1]&16777216&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function F4e(i){let e,t;return e=new Me({props:{color:"clear",$$slots:{default:[D4e]},$$scope:{ctx:i}}}),e.$on("click",i[21]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[1]&16777216&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function E4e(i){return{c:W,m:W,p:W,i:W,o:W,d:W}}function D4e(i){let e;return{c(){e=Z("Edit")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function C4e(i){let e,t,n,r;const s=[E4e,F4e],l=[];function o(a,u){return a[8]&&a[8].id=="note"?0:a[8]&&a[8].id=="template"?1:-1}return~(t=o(i))&&(n=l[t]=s[t](i)),{c(){e=A("div"),n&&n.c(),h(e,"slot","right")},m(a,u){w(a,e,u),~t&&l[t].m(e,null),r=!0},p(a,u){let c=t;t=o(a),t===c?~t&&l[t].p(a,u):(n&&(ie(),v(l[c],1,1,()=>{l[c]=null}),re()),~t?(n=l[t],n?n.p(a,u):(n=l[t]=s[t](a),n.c()),_(n,1),n.m(e,null)):n=null)},i(a){r||(_(n),r=!0)},o(a){v(n),r=!1},d(a){a&&y(e),~t&&l[t].d()}}}function S4e(i){let e,t;return e=new Jt({props:{slot:"header",$$slots:{right:[C4e],left:[$4e],default:[y4e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[0]&257|r[1]&16777216&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function T4e(i){let e,t;return e=new _n({props:{className:"import",showCapture:!1,$$slots:{header:[S4e],default:[k4e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[0]&1023|r[1]&16777216&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}let A4e=!1;function P4e(i,e,t){let n,r;Ee(i,K6,ye=>t(9,r=ye));let s="home",l,o,a=0,u,c=!1,f,d="list",{id:m="csv-import"}=e,{fileUpload:p}=e;p&&(l=l||new kg({}),l.csv(p.data),l.setName(p.file.name),s="note");async function g(){let ye=a+0;ye<l.length()-1?t(3,a=ye+1):t(3,a=0)}async function k(){let ye=a+0;ye!==1?t(3,a=ye-1):t(3,a=l.length()-1)}let $=[{title:"Import CSV",id:"home"},{title:"Compose Note",id:"note"},{title:"Template",id:"template"}];function D(ye,st){t(2,l.config.fieldMap[ye]=o,l),P()}const F=Pn(),C=[{title:"End Time*",required:!0,id:"end",click(){D("end")}},{title:"Start Time",id:"start",click(){D("start")}},{title:"Latitude",id:"lat",click(){D("lat")}},{title:"Longitude",id:"lng",click(){D("lng")}},{title:"Location Name",id:"location",click(){D("location")}},{title:"Source",id:"source",click(){D("source")}}];function S(ye){o=ye,Xe.popmenu({title:`Map ${l?l.getHeaders()[ye]:"Unknown"}`,buttons:C,id:"field-map"})}function P(){t(5,c=!0),Et(100,()=>{t(5,c=!1)})}function I(ye){let st=null;return l&&l.config&&l.config.fieldMap&&(st=Object.keys(l.config.fieldMap).find(dt=>l.config.fieldMap[dt]==ye)),st}async function R(){await Xe.confirm("Warning",`This will add ${l.length()} new records to your data. Be 100% sure everything is accurate.
      If you're unsure, launch Nomie in a private browswer and test on a local only account. Also, backup if you haven't for a while.`)&&(l.length()>1e3?Xe.blocker("Importer starting. With this many records it might freeze the UI, just give it time..."):Xe.blocker("Importer starting up..."),await new jI().logs(l.toLogs()).importLogs(dt=>{Xe.blocker(dt.message)}),Xe.stopBlocker(),un({message:"Import complete"}))}async function B(ye){let st=ye.detail;return st.data&&(t(2,l=l||new kg({})),l.csv(st.data),l.setName(st.file.name)),!0}async function z(){let ye=await q("Select a field to Insert into the note");ye&&t(2,l.config.template=`${l.config.template||""}{f${ye.index}}`.trim(),l)}function q(ye){return new Promise((st,dt)=>{let lt=l.getHeaders().map((vt,kt)=>({title:`${vt}`,description:`f${kt}: ${Rl(u[kt],60)}`,click(){st({header:vt,index:kt})}}));Xe.popmenu({id:"field-map-menu",title:ye,description:`Which field maps to ${ye}?`,buttons:lt})})}async function H(ye){let st=await q(`${ye.title}`);jn.truthy(st)&&t(2,l.config.fieldMap[ye.id]=st.index,l)}async function K(ye){t(2,l=new kg(ye)),t(1,s="template")}async function G(){t(1,s="note")}async function U(ye){await Xe.confirm(`Remove ${ye.name} Importer?`,"You can always remake it")&&(alert("TODO"),un({message:"Removed"}))}async function Q(){await K6.init()}wt(Q);const V=()=>{Ot(m)},x=async ye=>{await B(ye),t(1,s="note")},ee=()=>{t(7,d="edit")},J=()=>{t(7,d="list")},se=(ye,st)=>{U(ye)},te=ye=>{d=="list"&&K(ye)};function ge(ye){i.$$.not_equal(l.config.hasHeaders,ye)&&(l.config.hasHeaders=ye,t(2,l))}const ae=async ye=>{await B(ye)},ve=ye=>{H(ye)};function Te(ye){i.$$.not_equal(l.config.template,ye)&&(l.config.template=ye,t(2,l))}const Pe=ye=>{S(ye)};function pe(ye){i.$$.not_equal(l.config.template,ye)&&(l.config.template=ye,t(2,l))}const Ie=async ye=>{await B(ye)};return i.$$set=ye=>{"id"in ye&&t(0,m=ye.id),"fileUpload"in ye&&t(23,p=ye.fileUpload)},i.$$.update=()=>{i.$$.dirty[0]&28&&l&&l.parsed&&l.parsed.data&&(l.length()>1&&a==0&&t(3,a=1),t(4,u=l.parsed.data[a]),t(6,f=l.toLog(u))),i.$$.dirty[0]&2&&t(8,n=$.find(ye=>ye.id==s))},[m,s,l,a,u,c,f,d,n,r,g,k,F,C,S,I,R,B,z,H,K,G,U,p,V,x,ee,J,se,te,ge,ae,ve,Te,Pe,pe,Ie]}class N4e extends ce{constructor(e){super(),ue(this,e,P4e,T4e,le,{id:0,fileUpload:23},null,[-1,-1])}}const ab=i=>{en({id:"importer",component:E3e,componentProps:{fileData:i},position:"bottom"})},u5=()=>{Ot("importer")},M4e=i=>{en({id:"csv-importer",component:N4e,componentProps:{fileUpload:i}})};var L4e=function(e){return O4e(e)&&!I4e(e)};function O4e(i){return!!i&&typeof i=="object"}function I4e(i){var e=Object.prototype.toString.call(i);return e==="[object RegExp]"||e==="[object Date]"||R4e(i)}var B4e=typeof Symbol=="function"&&Symbol.for,z4e=B4e?Symbol.for("react.element"):60103;function R4e(i){return i.$$typeof===z4e}function j4e(i){return Array.isArray(i)?[]:{}}function ud(i,e){return e.clone!==!1&&e.isMergeableObject(i)?hc(j4e(i),i,e):i}function Y4e(i,e,t){return i.concat(e).map(function(n){return ud(n,t)})}function U4e(i,e){if(!e.customMerge)return hc;var t=e.customMerge(i);return typeof t=="function"?t:hc}function q4e(i){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(i).filter(function(e){return i.propertyIsEnumerable(e)}):[]}function c5(i){return Object.keys(i).concat(q4e(i))}function UI(i,e){try{return e in i}catch{return!1}}function H4e(i,e){return UI(i,e)&&!(Object.hasOwnProperty.call(i,e)&&Object.propertyIsEnumerable.call(i,e))}function W4e(i,e,t){var n={};return t.isMergeableObject(i)&&c5(i).forEach(function(r){n[r]=ud(i[r],t)}),c5(e).forEach(function(r){H4e(i,r)||(UI(i,r)&&t.isMergeableObject(e[r])?n[r]=U4e(r,t)(i[r],e[r],t):n[r]=ud(e[r],t))}),n}function hc(i,e,t){t=t||{},t.arrayMerge=t.arrayMerge||Y4e,t.isMergeableObject=t.isMergeableObject||L4e,t.cloneUnlessOtherwiseSpecified=ud;var n=Array.isArray(e),r=Array.isArray(i),s=n===r;return s?n?t.arrayMerge(i,e,t):W4e(i,e,t):ud(e,t)}hc.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(n,r){return hc(n,r,t)},{})};var V4e=hc,qI=V4e;const G4e=(i,e)=>i instanceof Array?Z4e(i,e):qI(i,e),Z4e=(i,e)=>{const t=["_id","key","id"];let n="id";if(i.length||e.length){let r=i[0]||e[0];t.forEach(a=>{r.hasOwnProperty(a)&&(n=a)});let s={};return[...i,...e].forEach((a,u)=>{let c=a[n];s[c]=s[c]||[],s[c].push({item:a,index:u})}),Object.keys(s).map(a=>{let u=s[a];return u.length>1?{item:qI(u[0].item,u[1].item),index:u[0].index}:u[0]}).sort((a,u)=>a.index>u.index?1:-1).map(a=>a.item)}else return[]},x4e=async i=>{const e={},t=await Vt.list(),n=Tv(t,10);Xe.blocker("Starting Exporter...",0),await Et(200);for(let s=0;s<n.length;s++){let l=n[s];for(let o=0;o<l.length;o++){let a=Vt.convertPath(l[o]);Xe.blocker(`${a}`,ht.percentage(n.length-1,s));let u=await Vt.get(a);u&&(e[a]=u)}}const r={version:`${Ya}`,created:new Date,files:e};await Pc.json(`n${Ya}-${we().format("YYYY-MM-DD-H")}.json`,r),Xe.stopBlocker()},HI=async(i=!0)=>{const e=await Iae(".json,.csv");if(`${e.file.name}`.toLowerCase().endsWith(".csv"))u5(),M4e(e);else{const t=JSON.parse(e.data);if(t&&t.type&&t.type=="template"){const n=BI(t);return await Y1(n)}else{if(t.files&&t.version.substring(0,1)==="6")return await Y1(t);if(t.type==="tracker"&&t.tracker){const n=new oi(t.tracker);await Xe.confirm(`Install ${n.tag}?`)&&qp({trackable:n.toTrackable(),known:Ou,permissions:{},prompt:!0})}else u5(),await Et(300),ab(t)}}},Y1=async(i,e={})=>{const t=Object.keys(i.files).map(r=>({path:r,content:i.files[r]}));if(e.silent?!0:await Xe.confirm("Import?",`This ${i.version} archive contains ${Object.keys(i.files).length} files. This action cannot be undone.`)){const r=Tv(t,10),s=[],l=[];for(let o=0;o<r.length;o++){const a=r[o];for(let u=0;u<a.length;u++){Xe.blocker(`${a[u].path}`,ht.percentage(t.length,l.length));try{let c=a[u].path,f=a[u].content;const d=await Vt.get(c);if(d&&typeof d!="string"){let m=G4e(d,f);await Vt.put(c,m)}else await Vt.put(c,f);l.push(c)}catch(c){s.push({path:a[u].path,e:c})}}}return Xe.stopBlocker(),e.silent?!0:s.length?(console.error(s),await Xe.alert("Notice",`${s.length} files errored on Import. Check your console to see the details`),window.location.reload(),!0):(await Xe.alert(`Successfully imported ${t.length} files`),window.location.reload(),!0)}},cd=tu(Xn.storage.templates(),{key:"id",label:"Template",itemInitializer:i=>new Yv(i),itemSerializer:i=>i.asObject}),X4e=()=>{en({id:"template-manager",component:O$e})},K4e=()=>{Ot("template-manager")},WI=async i=>{try{const e=i||await Xe.prompt("Template URL","Full url to the template",{placeholder:"https://url-to-template"});if(`${e||""}`.length)if(jn.url(e))ub(e);else throw new Error("Invalid URL, please try again")}catch(e){Xe.error(`${e.message}`)}},ub=async i=>{try{const t=await(await fetch(i)).json();if(t&&t.type=="template"){const n=new Yv(t);return J4e(n)}else throw new Error("Invalid Template Type")}catch(e){Xe.error(`${e}`)}},J4e=i=>{en({id:"template-preview",component:X$e,componentProps:{template:i}})},VI=i=>{en({id:"template-editor",component:d$e,componentProps:{template:i}})},Q4e=async i=>{if(await Xe.confirm(`Install the ${i.name} template?`)){const t=BI(i,Dd().useMetric);await Y1(t,{silent:!0}),un({message:`${i.name} installed`}),Ot("template-preview");let n=await Mc();Hv(),km(n)}};function f5(i,e,t){const n=i.slice();return n[1]=e[t],n[3]=t,n}function e6e(i){let e=i[1].title+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p:W,d(n){n&&y(t)}}}function t6e(i){let e,t,n;return e=new Yr({props:{$$slots:{default:[e6e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment),t=Y()},m(r,s){N(e,r,s),w(r,t,s),n=!0},p(r,s){const l={};s&16&&(l.$$scope={dirty:s,ctx:r}),e.$set(l)},i(r){n||(_(e.$$.fragment,r),n=!0)},o(r){v(e.$$.fragment,r),n=!1},d(r){M(e,r),r&&y(t)}}}function d5(i){let e,t;function n(){return i[0](i[1])}return e=new xe({props:{detail:!0,bottomLine:16,clickable:!0,$$slots:{default:[t6e]},$$scope:{ctx:i}}}),e.$on("click",n),{c(){O(e.$$.fragment)},m(r,s){N(e,r,s),t=!0},p(r,s){i=r;const l={};s&16&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){M(e,r)}}}function n6e(i){let e,t,n=A1,r=[];for(let l=0;l<n.length;l+=1)r[l]=d5(f5(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=$e()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,[o]){if(o&0){n=A1;let a;for(a=0;a<n.length;a+=1){const u=f5(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=d5(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ie(),a=n.length;a<r.length;a+=1)s(a);re()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){it(r,l),l&&y(e)}}}function i6e(i){return[t=>{ub(t.url)}]}class GI extends ce{constructor(e){super(),ue(this,e,i6e,n6e,le,{})}}function h5(i,e,t){const n=i.slice();return n[17]=e[t],n}function m5(i){let e,t;return e=new Ft({props:{className:"mb-6",$$slots:{default:[h6e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1048582&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function r6e(i){let e,t;return e=new Gn({props:{title:"No results"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function s6e(i){let e,t,n=i[1],r=[];for(let l=0;l<n.length;l+=1)r[l]=p5(h5(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=$e()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o&14){n=l[1];let a;for(a=0;a<n.length;a+=1){const u=h5(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=p5(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ie(),a=n.length;a<r.length;a+=1)s(a);re()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){it(r,l),l&&y(e)}}}function l6e(i){let e,t=i[17].label+"",n,r;return{c(){e=A("h1"),n=Z(t),r=Y()},m(s,l){w(s,e,l),E(e,n),w(s,r,l)},p(s,l){l&2&&t!==(t=s[17].label+"")&&oe(n,t)},d(s){s&&y(e),s&&y(r)}}}function o6e(i){let e,t;return e=new fi({props:{trackable:i[17],size:42,slot:"left"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.trackable=n[17]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function a6e(i){let e,t;return e=new Me({props:{size:"sm",shape:"round",className:"bg-gray-600 opacity-25 text-white",$$slots:{default:[c6e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1048576&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function u6e(i){let e,t;function n(){return i[10](i[17])}return e=new Me({props:{size:"sm",shape:"round",className:"bg-gray-600 text-white",$$slots:{default:[f6e]},$$scope:{ctx:i}}}),e.$on("click",n),{c(){O(e.$$.fragment)},m(r,s){N(e,r,s),t=!0},p(r,s){i=r;const l={};s&1048576&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){M(e,r)}}}function c6e(i){let e;return{c(){e=Z("Added")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function f6e(i){let e;return{c(){e=Z("Add")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function d6e(i){let e,t,n,r,s;const l=[u6e,a6e],o=[];function a(u,c){return u[2].trackables[u[17].tag]?1:0}return t=a(i),n=o[t]=l[t](i),{c(){e=A("div"),n.c(),r=Y(),h(e,"slot","right")},m(u,c){w(u,e,c),o[t].m(e,null),E(e,r),s=!0},p(u,c){let f=t;t=a(u),t===f?o[t].p(u,c):(ie(),v(o[f],1,1,()=>{o[f]=null}),re(),n=o[t],n?n.p(u,c):(n=o[t]=l[t](u),n.c()),_(n,1),n.m(e,r))},i(u){s||(_(n),s=!0)},o(u){v(n),s=!1},d(u){u&&y(e),o[t].d()}}}function p5(i){let e,t;return e=new xe({props:{bottomLine:78,$$slots:{right:[d6e],left:[o6e],default:[l6e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1048582&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function h6e(i){let e,t,n,r,s,l;const o=[s6e,r6e],a=[];function u(c,f){return c[1]&&c[1].length?0:1}return n=u(i),r=a[n]=o[n](i),{c(){e=A("header"),e.textContent="Search Results",t=Y(),r.c(),s=$e(),h(e,"class","list-header")},m(c,f){w(c,e,f),w(c,t,f),a[n].m(c,f),w(c,s,f),l=!0},p(c,f){let d=n;n=u(c),n===d?a[n].p(c,f):(ie(),v(a[d],1,1,()=>{a[d]=null}),re(),r=a[n],r?r.p(c,f):(r=a[n]=o[n](c),r.c()),_(r,1),r.m(s.parentNode,s))},i(c){l||(_(r),l=!0)},o(c){v(r),l=!1},d(c){c&&y(e),c&&y(t),a[n].d(c),c&&y(s)}}}function m6e(i){let e,t;return e=new GI({}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function p6e(i){let e,t,n,r=i[0]&&m5(i);return t=new Ft({props:{solo:!0,outside:!0,title:"Templates",$$slots:{default:[m6e]},$$scope:{ctx:i}}}),{c(){r&&r.c(),e=Y(),O(t.$$.fragment)},m(s,l){r&&r.m(s,l),w(s,e,l),N(t,s,l),n=!0},p(s,l){s[0]?r?(r.p(s,l),l&1&&_(r,1)):(r=m5(s),r.c(),_(r,1),r.m(e.parentNode,e)):r&&(ie(),v(r,1,1,()=>{r=null}),re());const o={};l&1048576&&(o.$$scope={dirty:l,ctx:s}),t.$set(o)},i(s){n||(_(r),_(t.$$.fragment,s),n=!0)},o(s){v(r),v(t.$$.fragment,s),n=!1},d(s){r&&r.d(s),s&&y(e),M(t,s)}}}function _6e(i){let e;return{c(){e=A("h1"),e.textContent=`${_e.t("library.tracker-library","Tracker Library")}`,h(e,"class","ntitle")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function g6e(i){let e;return{c(){e=Z("Done")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function v6e(i){let e,t;return e=new Me({props:{clear:!0,primary:!0,slot:"left",$$slots:{default:[g6e]},$$scope:{ctx:i}}}),e.$on("click",i[4]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1048576&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function b6e(i){let e,t,n,r,s,l,o,a;t=new Jt({props:{className:"bg-white dark:bg-gray-900",$$slots:{left:[v6e],default:[_6e]},$$scope:{ctx:i}}});function u(f){i[9](f)}let c={};return i[0]!==void 0&&(c.searchTerm=i[0]),r=new iu({props:c}),De.push(()=>Ue(r,"searchTerm",u,i[0])),{c(){e=A("header"),O(t.$$.fragment),n=Y(),O(r.$$.fragment),l=Y(),o=A("div"),o.textContent="\xA0",h(o,"class","h-1"),h(e,"slot","header"),h(e,"class","bg-white dark:bg-gray-900 mb-2")},m(f,d){w(f,e,d),N(t,e,null),E(e,n),N(r,e,null),E(e,l),E(e,o),a=!0},p(f,d){const m={};d&1048576&&(m.$$scope={dirty:d,ctx:f}),t.$set(m);const p={};!s&&d&1&&(s=!0,p.searchTerm=f[0],qe(()=>s=!1)),r.$set(p)},i(f){a||(_(t.$$.fragment,f),_(r.$$.fragment,f),a=!0)},o(f){v(t.$$.fragment,f),v(r.$$.fragment,f),a=!1},d(f){f&&y(e),M(t),M(r)}}}function k6e(i){let e,t;return e=new _n({props:{$$slots:{header:[b6e],default:[p6e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&1048583&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function y6e(i,e,t){let n,r,s,l;Ee(i,jp,$=>t(12,n=$)),Ee(i,It,$=>t(2,r=$)),Ee(i,St,$=>t(13,s=$)),Ee(i,cb,$=>t(8,l=$));let{id:o}=e,a=!1,u=[],c=[],f;wt(()=>{t(6,a=!0)});async function d($){const D=$ instanceof oi?$:new oi($),F=new Wp(D.uom),C=s.useMetric?"metric":"imperial";F.system!==C&&F.system!=="both"&&(D.uom=F.convertTo(C).id,D.default=F.convertValueTo(D.default||0,C));const S=D.toTrackable();r.trackables.hasOwnProperty(`#${D.tag}`)?un({message:"Already installed"}):await qp({trackable:S,known:r.trackables,saveToActiveBoard:!1,permissions:{},prompt:!1})&&(await ym([S],n),Rr.update(I=>I),un({message:`${S.tag} added`}))}const m=$=>{const D=[];return u.forEach(F=>{F.trackers.forEach(C=>{D.push(C.toTrackable())})}),D.filter(F=>JSON.stringify(F).toLowerCase().search($.toLowerCase())>-1)},p=async()=>{Ot(o)};function g($){f=$,t(0,f)}const k=$=>{d($.tracker)};return i.$$set=$=>{"id"in $&&t(5,o=$.id)},i.$$.update=()=>{i.$$.dirty&448&&l&&!u.length&&a&&t(7,u=[]),i.$$.dirty&1&&f&&t(1,c=m(f))},[f,c,r,d,p,o,a,u,l,g,k]}class w6e extends ce{constructor(e){super(),ue(this,e,y6e,k6e,le,{id:5})}}new Uo("\u{1F4DA} Nomie Library");const $6e=()=>{const{update:i,subscribe:e,set:t}=Bt({trackers:[],show:!1,first:!1,activeBundle:null});return{update:i,subscribe:e,set:t,...{toggle(){i(r=>(r.show=!r.show,r.first=!1,r))},presentBundle(r){i(s=>(s.activeBundle=r,s))},installBundle(r){},showFirst(){i(r=>(r.show=!0,r.first=!0,r))}}}},cb=$6e(),F6e=(i=!1)=>{cb.update(e=>(e.show=!0,e)),en({id:"trackable-library",component:w6e,componentProps:{first:i}})};function E6e(i){let e,t,n,r,s,l,o;return{c(){e=me("svg"),t=me("title"),n=Z("Filter Circle"),r=me("path"),s=me("path"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-width","32"),h(r,"stroke-miterlimit","10"),h(r,"d","M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"),h(s,"fill","none"),h(s,"stroke","currentColor"),h(s,"stroke-width","32"),h(s,"stroke-linecap","round"),h(s,"stroke-linejoin","round"),h(s,"d","M144 208h224M176 272h160M224 336h64"),h(e,"height",l=i[0]+"px"),h(e,"width",o=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(a,u){w(a,e,u),E(e,t),E(t,n),E(e,r),E(e,s)},p(a,[u]){u&1&&l!==(l=a[0]+"px")&&h(e,"height",l),u&1&&o!==(o=a[0]+"px")&&h(e,"width",o)},i:W,o:W,d(a){a&&y(e)}}}function D6e(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class C6e extends ce{constructor(e){super(),ue(this,e,D6e,E6e,le,{size:0})}}function S6e(i){let e,t,n,r,s,l,o,a;return{c(){e=me("svg"),t=me("title"),n=Z("Repeat"),r=me("path"),s=me("path"),l=me("path"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(r,"d","M320 120l48 48-48 48"),h(s,"d","M352 168H144a80.24 80.24 0 00-80 80v16M192 392l-48-48 48-48"),h(s,"fill","none"),h(s,"stroke","currentColor"),h(s,"stroke-linecap","round"),h(s,"stroke-linejoin","round"),h(s,"stroke-width","32"),h(l,"d","M160 344h208a80.24 80.24 0 0080-80v-16"),h(l,"fill","none"),h(l,"stroke","currentColor"),h(l,"stroke-linecap","round"),h(l,"stroke-linejoin","round"),h(l,"stroke-width","32"),h(e,"height",o=i[0]+"px"),h(e,"width",a=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(u,c){w(u,e,c),E(e,t),E(t,n),E(e,r),E(e,s),E(e,l)},p(u,[c]){c&1&&o!==(o=u[0]+"px")&&h(e,"height",o),c&1&&a!==(a=u[0]+"px")&&h(e,"width",a)},i:W,o:W,d(u){u&&y(e)}}}function T6e(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class A6e extends ce{constructor(e){super(),ue(this,e,T6e,S6e,le,{size:0})}}function P6e(i){let e,t,n,r,s,l,o;return{c(){e=me("svg"),t=me("title"),n=Z("Play Back Circle"),r=me("path"),s=me("path"),h(r,"d","M256 448c106 0 192-86 192-192S362 64 256 64 64 150 64 256s86 192 192 192z"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-miterlimit","10"),h(r,"stroke-width","32"),h(s,"d","M117.23 246.7l114.45-69.14a10.78 10.78 0 0116.32 9.31v53.32l103.68-62.63a10.78 10.78 0 0116.32 9.31v138.26a10.78 10.78 0 01-16.32 9.31L248 271.81v53.32a10.78 10.78 0 01-16.32 9.31L117.23 265.3a10.89 10.89 0 010-18.6z"),h(e,"height",l=i[0]+"px"),h(e,"width",o=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(a,u){w(a,e,u),E(e,t),E(t,n),E(e,r),E(e,s)},p(a,[u]){u&1&&l!==(l=a[0]+"px")&&h(e,"height",l),u&1&&o!==(o=a[0]+"px")&&h(e,"width",o)},i:W,o:W,d(a){a&&y(e)}}}function N6e(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class M6e extends ce{constructor(e){super(),ue(this,e,N6e,P6e,le,{size:0})}}function L6e(i){let e,t,n,r,s,l,o;return{c(){e=me("svg"),t=me("title"),n=Z("Bookmarks"),r=me("path"),s=me("path"),h(r,"d","M128 80V64a48.14 48.14 0 0148-48h224a48.14 48.14 0 0148 48v368l-80-64"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(s,"d","M320 96H112a48.14 48.14 0 00-48 48v352l152-128 152 128V144a48.14 48.14 0 00-48-48z"),h(s,"fill","none"),h(s,"stroke","currentColor"),h(s,"stroke-linejoin","round"),h(s,"stroke-width","32"),h(e,"height",l=i[0]+"px"),h(e,"width",o=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(a,u){w(a,e,u),E(e,t),E(t,n),E(e,r),E(e,s)},p(a,[u]){u&1&&l!==(l=a[0]+"px")&&h(e,"height",l),u&1&&o!==(o=a[0]+"px")&&h(e,"width",o)},i:W,o:W,d(a){a&&y(e)}}}function O6e(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class ZI extends ce{constructor(e){super(),ue(this,e,O6e,L6e,le,{size:0})}}let xI=[{view:"all",icon:YP,label:`${_e.t("general.all","All")}`,reduce:i=>i.length},{view:"context",icon:ZI,label:`${_e.t("general.context","Context")}`,reduce:i=>i.length},{view:"notes",icon:RP,label:`${_e.t("general.notes","Notes")}`,reduce:i=>i.filter(e=>e.hasNote).length},{view:"people",icon:zP,label:`${_e.t("general.people","People")}`,reduce:i=>i.filter(e=>(e.getMeta(),e.people&&e.people.length>0)).length},{view:"locations",icon:jP,label:`${_e.t("general.locations","Locations")}`,reduce:i=>{const e={};return i.filter(t=>{if(t.lat){const n=`${ht.round(t.lat,100)},${ht.round(t.lng,100)}`;return e[n]?!1:(e[n]=!0,!0)}else return!1}).length}}];function XI(i){return i.filter(t=>rM(t.note)).sort((t,n)=>t.end<n.end?1:-1)}function KI(i){let e=[];return i.forEach(t=>{t.context.forEach(n=>{const r=n.id;r&&e.indexOf(r)===-1&&e.push(r)})}),e}function JI(i,e={}){let t=[];return i.forEach(n=>{n.people.forEach(r=>{let s=e[r.id];s&&t.indexOf(s)===-1&&t.push(s)})}),t}function QI(i,e={}){return Object.keys(i).map(n=>{let r=i[n],s=e&&e[n]?new oi(e[n]):new oi({tag:n}),l=s.math=="sum"?ht.sum(r.values):ht.average(r.values);return{tag:n,tracker:s,values:r.values,count:r.values.length,value:s.displayValue(l)}}).sort((n,r)=>n.tracker.label>r.tracker.label?1:-1)}function I6e(i){let e,t,n,r;const s=i[8].default,l=He(s,i,i[7],null);return{c(){e=A("div"),l&&l.c(),h(e,"class",t="nc-grid "+i[0]+" svelte-15ryzxy"),h(e,"style",n="--columnFr: "+i[2]+"; --columnDots: "+i[3]+"; --gap: "+i[4]+"; "+i[1])},m(o,a){w(o,e,a),l&&l.m(e,null),r=!0},p(o,[a]){l&&l.p&&(!r||a&128)&&Ve(l,s,o,o[7],r?We(s,o[7],a,null):Ge(o[7]),null),(!r||a&1&&t!==(t="nc-grid "+o[0]+" svelte-15ryzxy"))&&h(e,"class",t),(!r||a&30&&n!==(n="--columnFr: "+o[2]+"; --columnDots: "+o[3]+"; --gap: "+o[4]+"; "+o[1]))&&h(e,"style",n)},i(o){r||(_(l,o),r=!0)},o(o){v(l,o),r=!1},d(o){o&&y(e),l&&l.d(o)}}}function B6e(i,e,t){let{$$slots:n={},$$scope:r}=e,{columns:s=3}=e,{gap:l=2}=e,{className:o=""}=e,{style:a=""}=e,u="1fr 1fr 1fr",c=". . .",f="2px 2px";return i.$$set=d=>{"columns"in d&&t(5,s=d.columns),"gap"in d&&t(6,l=d.gap),"className"in d&&t(0,o=d.className),"style"in d&&t(1,a=d.style),"$$scope"in d&&t(7,r=d.$$scope)},i.$$.update=()=>{i.$$.dirty&96&&s&&(t(2,u=Array(s).fill("1fr").join(" ")),t(3,c=Array(s).fill(".").join(" ")),t(4,f=`${l}px`))},[o,a,u,c,f,s,l,r,n]}class z6e extends ce{constructor(e){super(),ue(this,e,B6e,I6e,le,{columns:5,gap:6,className:0,style:1})}}var Le={exports:{}};/* @preserve
 * Leaflet 1.9.3, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2022 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(i,e){(function(t,n){n(e)})(Yn,function(t){var n="1.9.3";function r(b){var T,j,X,ne;for(j=1,X=arguments.length;j<X;j++){ne=arguments[j];for(T in ne)b[T]=ne[T]}return b}var s=Object.create||function(){function b(){}return function(T){return b.prototype=T,new b}}();function l(b,T){var j=Array.prototype.slice;if(b.bind)return b.bind.apply(b,j.call(arguments,1));var X=j.call(arguments,2);return function(){return b.apply(T,X.length?X.concat(j.call(arguments)):arguments)}}var o=0;function a(b){return"_leaflet_id"in b||(b._leaflet_id=++o),b._leaflet_id}function u(b,T,j){var X,ne,fe,Se;return Se=function(){X=!1,ne&&(fe.apply(j,ne),ne=!1)},fe=function(){X?ne=arguments:(b.apply(j,arguments),setTimeout(Se,T),X=!0)},fe}function c(b,T,j){var X=T[1],ne=T[0],fe=X-ne;return b===X&&j?b:((b-ne)%fe+fe)%fe+ne}function f(){return!1}function d(b,T){if(T===!1)return b;var j=Math.pow(10,T===void 0?6:T);return Math.round(b*j)/j}function m(b){return b.trim?b.trim():b.replace(/^\s+|\s+$/g,"")}function p(b){return m(b).split(/\s+/)}function g(b,T){Object.prototype.hasOwnProperty.call(b,"options")||(b.options=b.options?s(b.options):{});for(var j in T)b.options[j]=T[j];return b.options}function k(b,T,j){var X=[];for(var ne in b)X.push(encodeURIComponent(j?ne.toUpperCase():ne)+"="+encodeURIComponent(b[ne]));return(!T||T.indexOf("?")===-1?"?":"&")+X.join("&")}var $=/\{ *([\w_ -]+) *\}/g;function D(b,T){return b.replace($,function(j,X){var ne=T[X];if(ne===void 0)throw new Error("No value provided for variable "+j);return typeof ne=="function"&&(ne=ne(T)),ne})}var F=Array.isArray||function(b){return Object.prototype.toString.call(b)==="[object Array]"};function C(b,T){for(var j=0;j<b.length;j++)if(b[j]===T)return j;return-1}var S="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function P(b){return window["webkit"+b]||window["moz"+b]||window["ms"+b]}var I=0;function R(b){var T=+new Date,j=Math.max(0,16-(T-I));return I=T+j,window.setTimeout(b,j)}var B=window.requestAnimationFrame||P("RequestAnimationFrame")||R,z=window.cancelAnimationFrame||P("CancelAnimationFrame")||P("CancelRequestAnimationFrame")||function(b){window.clearTimeout(b)};function q(b,T,j){if(j&&B===R)b.call(T);else return B.call(window,l(b,T))}function H(b){b&&z.call(window,b)}var K={__proto__:null,extend:r,create:s,bind:l,get lastId(){return o},stamp:a,throttle:u,wrapNum:c,falseFn:f,formatNum:d,trim:m,splitWords:p,setOptions:g,getParamString:k,template:D,isArray:F,indexOf:C,emptyImageUrl:S,requestFn:B,cancelFn:z,requestAnimFrame:q,cancelAnimFrame:H};function G(){}G.extend=function(b){var T=function(){g(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},j=T.__super__=this.prototype,X=s(j);X.constructor=T,T.prototype=X;for(var ne in this)Object.prototype.hasOwnProperty.call(this,ne)&&ne!=="prototype"&&ne!=="__super__"&&(T[ne]=this[ne]);return b.statics&&r(T,b.statics),b.includes&&(U(b.includes),r.apply(null,[X].concat(b.includes))),r(X,b),delete X.statics,delete X.includes,X.options&&(X.options=j.options?s(j.options):{},r(X.options,b.options)),X._initHooks=[],X.callInitHooks=function(){if(!this._initHooksCalled){j.callInitHooks&&j.callInitHooks.call(this),this._initHooksCalled=!0;for(var fe=0,Se=X._initHooks.length;fe<Se;fe++)X._initHooks[fe].call(this)}},T},G.include=function(b){var T=this.prototype.options;return r(this.prototype,b),b.options&&(this.prototype.options=T,this.mergeOptions(b.options)),this},G.mergeOptions=function(b){return r(this.prototype.options,b),this},G.addInitHook=function(b){var T=Array.prototype.slice.call(arguments,1),j=typeof b=="function"?b:function(){this[b].apply(this,T)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(j),this};function U(b){if(!(typeof L>"u"||!L||!L.Mixin)){b=F(b)?b:[b];for(var T=0;T<b.length;T++)b[T]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Q={on:function(b,T,j){if(typeof b=="object")for(var X in b)this._on(X,b[X],T);else{b=p(b);for(var ne=0,fe=b.length;ne<fe;ne++)this._on(b[ne],T,j)}return this},off:function(b,T,j){if(!arguments.length)delete this._events;else if(typeof b=="object")for(var X in b)this._off(X,b[X],T);else{b=p(b);for(var ne=arguments.length===1,fe=0,Se=b.length;fe<Se;fe++)ne?this._off(b[fe]):this._off(b[fe],T,j)}return this},_on:function(b,T,j,X){if(typeof T!="function"){console.warn("wrong listener type: "+typeof T);return}if(this._listens(b,T,j)===!1){j===this&&(j=void 0);var ne={fn:T,ctx:j};X&&(ne.once=!0),this._events=this._events||{},this._events[b]=this._events[b]||[],this._events[b].push(ne)}},_off:function(b,T,j){var X,ne,fe;if(!!this._events&&(X=this._events[b],!!X)){if(arguments.length===1){if(this._firingCount)for(ne=0,fe=X.length;ne<fe;ne++)X[ne].fn=f;delete this._events[b];return}if(typeof T!="function"){console.warn("wrong listener type: "+typeof T);return}var Se=this._listens(b,T,j);if(Se!==!1){var Re=X[Se];this._firingCount&&(Re.fn=f,this._events[b]=X=X.slice()),X.splice(Se,1)}}},fire:function(b,T,j){if(!this.listens(b,j))return this;var X=r({},T,{type:b,target:this,sourceTarget:T&&T.sourceTarget||this});if(this._events){var ne=this._events[b];if(ne){this._firingCount=this._firingCount+1||1;for(var fe=0,Se=ne.length;fe<Se;fe++){var Re=ne[fe],Qe=Re.fn;Re.once&&this.off(b,Qe,Re.ctx),Qe.call(Re.ctx||this,X)}this._firingCount--}}return j&&this._propagateEvent(X),this},listens:function(b,T,j,X){typeof b!="string"&&console.warn('"string" type argument expected');var ne=T;typeof T!="function"&&(X=!!T,ne=void 0,j=void 0);var fe=this._events&&this._events[b];if(fe&&fe.length&&this._listens(b,ne,j)!==!1)return!0;if(X){for(var Se in this._eventParents)if(this._eventParents[Se].listens(b,T,j,X))return!0}return!1},_listens:function(b,T,j){if(!this._events)return!1;var X=this._events[b]||[];if(!T)return!!X.length;j===this&&(j=void 0);for(var ne=0,fe=X.length;ne<fe;ne++)if(X[ne].fn===T&&X[ne].ctx===j)return ne;return!1},once:function(b,T,j){if(typeof b=="object")for(var X in b)this._on(X,b[X],T,!0);else{b=p(b);for(var ne=0,fe=b.length;ne<fe;ne++)this._on(b[ne],T,j,!0)}return this},addEventParent:function(b){return this._eventParents=this._eventParents||{},this._eventParents[a(b)]=b,this},removeEventParent:function(b){return this._eventParents&&delete this._eventParents[a(b)],this},_propagateEvent:function(b){for(var T in this._eventParents)this._eventParents[T].fire(b.type,r({layer:b.target,propagatedFrom:b.target},b),!0)}};Q.addEventListener=Q.on,Q.removeEventListener=Q.clearAllEventListeners=Q.off,Q.addOneTimeEventListener=Q.once,Q.fireEvent=Q.fire,Q.hasEventListeners=Q.listens;var V=G.extend(Q);function x(b,T,j){this.x=j?Math.round(b):b,this.y=j?Math.round(T):T}var ee=Math.trunc||function(b){return b>0?Math.floor(b):Math.ceil(b)};x.prototype={clone:function(){return new x(this.x,this.y)},add:function(b){return this.clone()._add(J(b))},_add:function(b){return this.x+=b.x,this.y+=b.y,this},subtract:function(b){return this.clone()._subtract(J(b))},_subtract:function(b){return this.x-=b.x,this.y-=b.y,this},divideBy:function(b){return this.clone()._divideBy(b)},_divideBy:function(b){return this.x/=b,this.y/=b,this},multiplyBy:function(b){return this.clone()._multiplyBy(b)},_multiplyBy:function(b){return this.x*=b,this.y*=b,this},scaleBy:function(b){return new x(this.x*b.x,this.y*b.y)},unscaleBy:function(b){return new x(this.x/b.x,this.y/b.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ee(this.x),this.y=ee(this.y),this},distanceTo:function(b){b=J(b);var T=b.x-this.x,j=b.y-this.y;return Math.sqrt(T*T+j*j)},equals:function(b){return b=J(b),b.x===this.x&&b.y===this.y},contains:function(b){return b=J(b),Math.abs(b.x)<=Math.abs(this.x)&&Math.abs(b.y)<=Math.abs(this.y)},toString:function(){return"Point("+d(this.x)+", "+d(this.y)+")"}};function J(b,T,j){return b instanceof x?b:F(b)?new x(b[0],b[1]):b==null?b:typeof b=="object"&&"x"in b&&"y"in b?new x(b.x,b.y):new x(b,T,j)}function se(b,T){if(!!b)for(var j=T?[b,T]:b,X=0,ne=j.length;X<ne;X++)this.extend(j[X])}se.prototype={extend:function(b){var T,j;if(!b)return this;if(b instanceof x||typeof b[0]=="number"||"x"in b)T=j=J(b);else if(b=te(b),T=b.min,j=b.max,!T||!j)return this;return!this.min&&!this.max?(this.min=T.clone(),this.max=j.clone()):(this.min.x=Math.min(T.x,this.min.x),this.max.x=Math.max(j.x,this.max.x),this.min.y=Math.min(T.y,this.min.y),this.max.y=Math.max(j.y,this.max.y)),this},getCenter:function(b){return J((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,b)},getBottomLeft:function(){return J(this.min.x,this.max.y)},getTopRight:function(){return J(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(b){var T,j;return typeof b[0]=="number"||b instanceof x?b=J(b):b=te(b),b instanceof se?(T=b.min,j=b.max):T=j=b,T.x>=this.min.x&&j.x<=this.max.x&&T.y>=this.min.y&&j.y<=this.max.y},intersects:function(b){b=te(b);var T=this.min,j=this.max,X=b.min,ne=b.max,fe=ne.x>=T.x&&X.x<=j.x,Se=ne.y>=T.y&&X.y<=j.y;return fe&&Se},overlaps:function(b){b=te(b);var T=this.min,j=this.max,X=b.min,ne=b.max,fe=ne.x>T.x&&X.x<j.x,Se=ne.y>T.y&&X.y<j.y;return fe&&Se},isValid:function(){return!!(this.min&&this.max)},pad:function(b){var T=this.min,j=this.max,X=Math.abs(T.x-j.x)*b,ne=Math.abs(T.y-j.y)*b;return te(J(T.x-X,T.y-ne),J(j.x+X,j.y+ne))},equals:function(b){return b?(b=te(b),this.min.equals(b.getTopLeft())&&this.max.equals(b.getBottomRight())):!1}};function te(b,T){return!b||b instanceof se?b:new se(b,T)}function ge(b,T){if(!!b)for(var j=T?[b,T]:b,X=0,ne=j.length;X<ne;X++)this.extend(j[X])}ge.prototype={extend:function(b){var T=this._southWest,j=this._northEast,X,ne;if(b instanceof ve)X=b,ne=b;else if(b instanceof ge){if(X=b._southWest,ne=b._northEast,!X||!ne)return this}else return b?this.extend(Te(b)||ae(b)):this;return!T&&!j?(this._southWest=new ve(X.lat,X.lng),this._northEast=new ve(ne.lat,ne.lng)):(T.lat=Math.min(X.lat,T.lat),T.lng=Math.min(X.lng,T.lng),j.lat=Math.max(ne.lat,j.lat),j.lng=Math.max(ne.lng,j.lng)),this},pad:function(b){var T=this._southWest,j=this._northEast,X=Math.abs(T.lat-j.lat)*b,ne=Math.abs(T.lng-j.lng)*b;return new ge(new ve(T.lat-X,T.lng-ne),new ve(j.lat+X,j.lng+ne))},getCenter:function(){return new ve((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ve(this.getNorth(),this.getWest())},getSouthEast:function(){return new ve(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(b){typeof b[0]=="number"||b instanceof ve||"lat"in b?b=Te(b):b=ae(b);var T=this._southWest,j=this._northEast,X,ne;return b instanceof ge?(X=b.getSouthWest(),ne=b.getNorthEast()):X=ne=b,X.lat>=T.lat&&ne.lat<=j.lat&&X.lng>=T.lng&&ne.lng<=j.lng},intersects:function(b){b=ae(b);var T=this._southWest,j=this._northEast,X=b.getSouthWest(),ne=b.getNorthEast(),fe=ne.lat>=T.lat&&X.lat<=j.lat,Se=ne.lng>=T.lng&&X.lng<=j.lng;return fe&&Se},overlaps:function(b){b=ae(b);var T=this._southWest,j=this._northEast,X=b.getSouthWest(),ne=b.getNorthEast(),fe=ne.lat>T.lat&&X.lat<j.lat,Se=ne.lng>T.lng&&X.lng<j.lng;return fe&&Se},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(b,T){return b?(b=ae(b),this._southWest.equals(b.getSouthWest(),T)&&this._northEast.equals(b.getNorthEast(),T)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ae(b,T){return b instanceof ge?b:new ge(b,T)}function ve(b,T,j){if(isNaN(b)||isNaN(T))throw new Error("Invalid LatLng object: ("+b+", "+T+")");this.lat=+b,this.lng=+T,j!==void 0&&(this.alt=+j)}ve.prototype={equals:function(b,T){if(!b)return!1;b=Te(b);var j=Math.max(Math.abs(this.lat-b.lat),Math.abs(this.lng-b.lng));return j<=(T===void 0?1e-9:T)},toString:function(b){return"LatLng("+d(this.lat,b)+", "+d(this.lng,b)+")"},distanceTo:function(b){return pe.distance(this,Te(b))},wrap:function(){return pe.wrapLatLng(this)},toBounds:function(b){var T=180*b/40075017,j=T/Math.cos(Math.PI/180*this.lat);return ae([this.lat-T,this.lng-j],[this.lat+T,this.lng+j])},clone:function(){return new ve(this.lat,this.lng,this.alt)}};function Te(b,T,j){return b instanceof ve?b:F(b)&&typeof b[0]!="object"?b.length===3?new ve(b[0],b[1],b[2]):b.length===2?new ve(b[0],b[1]):null:b==null?b:typeof b=="object"&&"lat"in b?new ve(b.lat,"lng"in b?b.lng:b.lon,b.alt):T===void 0?null:new ve(b,T,j)}var Pe={latLngToPoint:function(b,T){var j=this.projection.project(b),X=this.scale(T);return this.transformation._transform(j,X)},pointToLatLng:function(b,T){var j=this.scale(T),X=this.transformation.untransform(b,j);return this.projection.unproject(X)},project:function(b){return this.projection.project(b)},unproject:function(b){return this.projection.unproject(b)},scale:function(b){return 256*Math.pow(2,b)},zoom:function(b){return Math.log(b/256)/Math.LN2},getProjectedBounds:function(b){if(this.infinite)return null;var T=this.projection.bounds,j=this.scale(b),X=this.transformation.transform(T.min,j),ne=this.transformation.transform(T.max,j);return new se(X,ne)},infinite:!1,wrapLatLng:function(b){var T=this.wrapLng?c(b.lng,this.wrapLng,!0):b.lng,j=this.wrapLat?c(b.lat,this.wrapLat,!0):b.lat,X=b.alt;return new ve(j,T,X)},wrapLatLngBounds:function(b){var T=b.getCenter(),j=this.wrapLatLng(T),X=T.lat-j.lat,ne=T.lng-j.lng;if(X===0&&ne===0)return b;var fe=b.getSouthWest(),Se=b.getNorthEast(),Re=new ve(fe.lat-X,fe.lng-ne),Qe=new ve(Se.lat-X,Se.lng-ne);return new ge(Re,Qe)}},pe=r({},Pe,{wrapLng:[-180,180],R:6371e3,distance:function(b,T){var j=Math.PI/180,X=b.lat*j,ne=T.lat*j,fe=Math.sin((T.lat-b.lat)*j/2),Se=Math.sin((T.lng-b.lng)*j/2),Re=fe*fe+Math.cos(X)*Math.cos(ne)*Se*Se,Qe=2*Math.atan2(Math.sqrt(Re),Math.sqrt(1-Re));return this.R*Qe}}),Ie=6378137,ye={R:Ie,MAX_LATITUDE:85.0511287798,project:function(b){var T=Math.PI/180,j=this.MAX_LATITUDE,X=Math.max(Math.min(j,b.lat),-j),ne=Math.sin(X*T);return new x(this.R*b.lng*T,this.R*Math.log((1+ne)/(1-ne))/2)},unproject:function(b){var T=180/Math.PI;return new ve((2*Math.atan(Math.exp(b.y/this.R))-Math.PI/2)*T,b.x*T/this.R)},bounds:function(){var b=Ie*Math.PI;return new se([-b,-b],[b,b])}()};function st(b,T,j,X){if(F(b)){this._a=b[0],this._b=b[1],this._c=b[2],this._d=b[3];return}this._a=b,this._b=T,this._c=j,this._d=X}st.prototype={transform:function(b,T){return this._transform(b.clone(),T)},_transform:function(b,T){return T=T||1,b.x=T*(this._a*b.x+this._b),b.y=T*(this._c*b.y+this._d),b},untransform:function(b,T){return T=T||1,new x((b.x/T-this._b)/this._a,(b.y/T-this._d)/this._c)}};function dt(b,T,j,X){return new st(b,T,j,X)}var lt=r({},pe,{code:"EPSG:3857",projection:ye,transformation:function(){var b=.5/(Math.PI*ye.R);return dt(b,.5,-b,.5)}()}),vt=r({},lt,{code:"EPSG:900913"});function kt(b){return document.createElementNS("http://www.w3.org/2000/svg",b)}function Ze(b,T){var j="",X,ne,fe,Se,Re,Qe;for(X=0,fe=b.length;X<fe;X++){for(Re=b[X],ne=0,Se=Re.length;ne<Se;ne++)Qe=Re[ne],j+=(ne?"L":"M")+Qe.x+" "+Qe.y;j+=T?yt.svg?"z":"x":""}return j||"M0 0"}var bt=document.documentElement.style,Yt="ActiveXObject"in window,sn=Yt&&!document.addEventListener,Ln="msLaunchUri"in navigator&&!("documentMode"in document),In=Lt("webkit"),On=Lt("android"),vn=Lt("android 2")||Lt("android 3"),hi=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),rt=On&&Lt("Google")&&hi<537&&!("AudioNode"in window),Ii=!!window.opera,mi=!Ln&&Lt("chrome"),Ye=Lt("gecko")&&!In&&!Ii&&!Yt,mr=!mi&&Lt("safari"),pr=Lt("phantom"),Ji="OTransition"in bt,kl=navigator.platform.indexOf("Win")===0,Ke=Yt&&"transition"in bt,Mt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!vn,tn="MozPerspective"in bt,bn=!window.L_DISABLE_3D&&(Ke||Mt||tn)&&!Ji&&!pr,_i=typeof orientation<"u"||Lt("mobile"),Jr=_i&&In,qi=_i&&Mt,Ri=!window.PointerEvent&&window.MSPointerEvent,Ql=!!(window.PointerEvent||Ri),eo="ontouchstart"in window||!!window.TouchEvent,to=!window.L_NO_TOUCH&&(eo||Ql),Ko=_i&&Ii,no=_i&&Ye,_s=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Jo=function(){var b=!1;try{var T=Object.defineProperty({},"passive",{get:function(){b=!0}});window.addEventListener("testPassiveEventSupport",f,T),window.removeEventListener("testPassiveEventSupport",f,T)}catch{}return b}(),cu=function(){return!!document.createElement("canvas").getContext}(),de=!!(document.createElementNS&&kt("svg").createSVGRect),Fe=!!de&&function(){var b=document.createElement("div");return b.innerHTML="<svg/>",(b.firstChild&&b.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Be=!de&&function(){try{var b=document.createElement("div");b.innerHTML='<v:shape adj="1"/>';var T=b.firstChild;return T.style.behavior="url(#default#VML)",T&&typeof T.adj=="object"}catch{return!1}}(),tt=navigator.platform.indexOf("Mac")===0,mt=navigator.platform.indexOf("Linux")===0;function Lt(b){return navigator.userAgent.toLowerCase().indexOf(b)>=0}var yt={ie:Yt,ielt9:sn,edge:Ln,webkit:In,android:On,android23:vn,androidStock:rt,opera:Ii,chrome:mi,gecko:Ye,safari:mr,phantom:pr,opera12:Ji,win:kl,ie3d:Ke,webkit3d:Mt,gecko3d:tn,any3d:bn,mobile:_i,mobileWebkit:Jr,mobileWebkit3d:qi,msPointer:Ri,pointer:Ql,touch:to,touchNative:eo,mobileOpera:Ko,mobileGecko:no,retina:_s,passiveEvents:Jo,canvas:cu,svg:de,vml:Be,inlineSvg:Fe,mac:tt,linux:mt},gi=yt.msPointer?"MSPointerDown":"pointerdown",nn=yt.msPointer?"MSPointerMove":"pointermove",$i=yt.msPointer?"MSPointerUp":"pointerup",yl=yt.msPointer?"MSPointerCancel":"pointercancel",io={touchstart:gi,touchmove:nn,touchend:$i,touchcancel:yl},Qo={touchstart:Qi,touchmove:Qn,touchend:Qn,touchcancel:Qn},_r={},ea=!1;function fu(b,T,j){return T==="touchstart"&&gr(),Qo[T]?(j=Qo[T].bind(this,j),b.addEventListener(io[T],j,!1),j):(console.warn("wrong event specified:",T),f)}function Bs(b,T,j){if(!io[T]){console.warn("wrong event specified:",T);return}b.removeEventListener(io[T],j,!1)}function ta(b){_r[b.pointerId]=b}function na(b){_r[b.pointerId]&&(_r[b.pointerId]=b)}function ro(b){delete _r[b.pointerId]}function gr(){ea||(document.addEventListener(gi,ta,!0),document.addEventListener(nn,na,!0),document.addEventListener($i,ro,!0),document.addEventListener(yl,ro,!0),ea=!0)}function Qn(b,T){if(T.pointerType!==(T.MSPOINTER_TYPE_MOUSE||"mouse")){T.touches=[];for(var j in _r)T.touches.push(_r[j]);T.changedTouches=[T],b(T)}}function Qi(b,T){T.MSPOINTER_TYPE_TOUCH&&T.pointerType===T.MSPOINTER_TYPE_TOUCH&&Hi(T),Qn(b,T)}function Qr(b){var T={},j,X;for(X in b)j=b[X],T[X]=j&&j.bind?j.bind(b):j;return b=T,T.type="dblclick",T.detail=2,T.isTrusted=!1,T._simulated=!0,T}var er=200;function gs(b,T){b.addEventListener("dblclick",T);var j=0,X;function ne(fe){if(fe.detail!==1){X=fe.detail;return}if(!(fe.pointerType==="mouse"||fe.sourceCapabilities&&!fe.sourceCapabilities.firesTouchEvents)){var Se=r2(fe);if(!(Se.some(function(Qe){return Qe instanceof HTMLLabelElement&&Qe.attributes.for})&&!Se.some(function(Qe){return Qe instanceof HTMLInputElement||Qe instanceof HTMLSelectElement}))){var Re=Date.now();Re-j<=er?(X++,X===2&&T(Qr(fe))):X=1,j=Re}}}return b.addEventListener("click",ne),{dblclick:T,simDblclick:ne}}function vr(b,T){b.removeEventListener("dblclick",T.dblclick),b.removeEventListener("click",T.simDblclick)}var zs=Nt(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Rs=Nt(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ia=Rs==="webkitTransition"||Rs==="OTransition"?Rs+"End":"transitionend";function Ur(b){return typeof b=="string"?document.getElementById(b):b}function ra(b,T){var j=b.style[T]||b.currentStyle&&b.currentStyle[T];if((!j||j==="auto")&&document.defaultView){var X=document.defaultView.getComputedStyle(b,null);j=X?X[T]:null}return j==="auto"?null:j}function kn(b,T,j){var X=document.createElement(b);return X.className=T||"",j&&j.appendChild(X),X}function he(b){var T=b.parentNode;T&&T.removeChild(b)}function Ae(b){for(;b.firstChild;)b.removeChild(b.firstChild)}function be(b){var T=b.parentNode;T&&T.lastChild!==b&&T.appendChild(b)}function Oe(b){var T=b.parentNode;T&&T.firstChild!==b&&T.insertBefore(b,T.firstChild)}function ze(b,T){if(b.classList!==void 0)return b.classList.contains(T);var j=_t(b);return j.length>0&&new RegExp("(^|\\s)"+T+"(\\s|$)").test(j)}function Ce(b,T){if(b.classList!==void 0)for(var j=p(T),X=0,ne=j.length;X<ne;X++)b.classList.add(j[X]);else if(!ze(b,T)){var fe=_t(b);ut(b,(fe?fe+" ":"")+T)}}function et(b,T){b.classList!==void 0?b.classList.remove(T):ut(b,m((" "+_t(b)+" ").replace(" "+T+" "," ")))}function ut(b,T){b.className.baseVal===void 0?b.className=T:b.className.baseVal=T}function _t(b){return b.correspondingElement&&(b=b.correspondingElement),b.className.baseVal===void 0?b.className:b.className.baseVal}function ct(b,T){"opacity"in b.style?b.style.opacity=T:"filter"in b.style&&$t(b,T)}function $t(b,T){var j=!1,X="DXImageTransform.Microsoft.Alpha";try{j=b.filters.item(X)}catch{if(T===1)return}T=Math.round(T*100),j?(j.Enabled=T!==100,j.Opacity=T):b.style.filter+=" progid:"+X+"(opacity="+T+")"}function Nt(b){for(var T=document.documentElement.style,j=0;j<b.length;j++)if(b[j]in T)return b[j];return!1}function Ht(b,T,j){var X=T||new x(0,0);b.style[zs]=(yt.ie3d?"translate("+X.x+"px,"+X.y+"px)":"translate3d("+X.x+"px,"+X.y+"px,0)")+(j?" scale("+j+")":"")}function jt(b,T){b._leaflet_pos=T,yt.any3d?Ht(b,T):(b.style.left=T.x+"px",b.style.top=T.y+"px")}function cn(b){return b._leaflet_pos||new x(0,0)}var ei,Zn,tr;if("onselectstart"in document)ei=function(){Qt(window,"selectstart",Hi)},Zn=function(){ti(window,"selectstart",Hi)};else{var vs=Nt(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ei=function(){if(vs){var b=document.documentElement.style;tr=b[vs],b[vs]="none"}},Zn=function(){vs&&(document.documentElement.style[vs]=tr,tr=void 0)}}function sa(){Qt(window,"dragstart",Hi)}function qc(){ti(window,"dragstart",Hi)}var so,Jd;function Hc(b){for(;b.tabIndex===-1;)b=b.parentNode;!b.style||(du(),so=b,Jd=b.style.outline,b.style.outline="none",Qt(window,"keydown",du))}function du(){!so||(so.style.outline=Jd,so=void 0,Jd=void 0,ti(window,"keydown",du))}function Wc(b){do b=b.parentNode;while((!b.offsetWidth||!b.offsetHeight)&&b!==document.body);return b}function $_(b){var T=b.getBoundingClientRect();return{x:T.width/b.offsetWidth||1,y:T.height/b.offsetHeight||1,boundingClientRect:T}}var gR={__proto__:null,TRANSFORM:zs,TRANSITION:Rs,TRANSITION_END:ia,get:Ur,getStyle:ra,create:kn,remove:he,empty:Ae,toFront:be,toBack:Oe,hasClass:ze,addClass:Ce,removeClass:et,setClass:ut,getClass:_t,setOpacity:ct,testProp:Nt,setTransform:Ht,setPosition:jt,getPosition:cn,get disableTextSelection(){return ei},get enableTextSelection(){return Zn},disableImageDrag:sa,enableImageDrag:qc,preventOutline:Hc,restoreOutline:du,getSizedParentNode:Wc,getScale:$_};function Qt(b,T,j,X){if(T&&typeof T=="object")for(var ne in T)E_(b,ne,T[ne],j);else{T=p(T);for(var fe=0,Se=T.length;fe<Se;fe++)E_(b,T[fe],j,X)}return this}var js="_leaflet_events";function ti(b,T,j,X){if(arguments.length===1)i2(b),delete b[js];else if(T&&typeof T=="object")for(var ne in T)D_(b,ne,T[ne],j);else if(T=p(T),arguments.length===2)i2(b,function(Re){return C(T,Re)!==-1});else for(var fe=0,Se=T.length;fe<Se;fe++)D_(b,T[fe],j,X);return this}function i2(b,T){for(var j in b[js]){var X=j.split(/\d/)[0];(!T||T(X))&&D_(b,X,null,null,j)}}var F_={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function E_(b,T,j,X){var ne=T+a(j)+(X?"_"+a(X):"");if(b[js]&&b[js][ne])return this;var fe=function(Re){return j.call(X||b,Re||window.event)},Se=fe;!yt.touchNative&&yt.pointer&&T.indexOf("touch")===0?fe=fu(b,T,fe):yt.touch&&T==="dblclick"?fe=gs(b,fe):"addEventListener"in b?T==="touchstart"||T==="touchmove"||T==="wheel"||T==="mousewheel"?b.addEventListener(F_[T]||T,fe,yt.passiveEvents?{passive:!1}:!1):T==="mouseenter"||T==="mouseleave"?(fe=function(Re){Re=Re||window.event,S_(b,Re)&&Se(Re)},b.addEventListener(F_[T],fe,!1)):b.addEventListener(T,Se,!1):b.attachEvent("on"+T,fe),b[js]=b[js]||{},b[js][ne]=fe}function D_(b,T,j,X,ne){ne=ne||T+a(j)+(X?"_"+a(X):"");var fe=b[js]&&b[js][ne];if(!fe)return this;!yt.touchNative&&yt.pointer&&T.indexOf("touch")===0?Bs(b,T,fe):yt.touch&&T==="dblclick"?vr(b,fe):"removeEventListener"in b?b.removeEventListener(F_[T]||T,fe,!1):b.detachEvent("on"+T,fe),b[js][ne]=null}function la(b){return b.stopPropagation?b.stopPropagation():b.originalEvent?b.originalEvent._stopped=!0:b.cancelBubble=!0,this}function C_(b){return E_(b,"wheel",la),this}function Vc(b){return Qt(b,"mousedown touchstart dblclick contextmenu",la),b._leaflet_disable_click=!0,this}function Hi(b){return b.preventDefault?b.preventDefault():b.returnValue=!1,this}function oa(b){return Hi(b),la(b),this}function r2(b){if(b.composedPath)return b.composedPath();for(var T=[],j=b.target;j;)T.push(j),j=j.parentNode;return T}function s2(b,T){if(!T)return new x(b.clientX,b.clientY);var j=$_(T),X=j.boundingClientRect;return new x((b.clientX-X.left)/j.x-T.clientLeft,(b.clientY-X.top)/j.y-T.clientTop)}var vR=yt.linux&&yt.chrome?window.devicePixelRatio:yt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function l2(b){return yt.edge?b.wheelDeltaY/2:b.deltaY&&b.deltaMode===0?-b.deltaY/vR:b.deltaY&&b.deltaMode===1?-b.deltaY*20:b.deltaY&&b.deltaMode===2?-b.deltaY*60:b.deltaX||b.deltaZ?0:b.wheelDelta?(b.wheelDeltaY||b.wheelDelta)/2:b.detail&&Math.abs(b.detail)<32765?-b.detail*20:b.detail?b.detail/-32765*60:0}function S_(b,T){var j=T.relatedTarget;if(!j)return!0;try{for(;j&&j!==b;)j=j.parentNode}catch{return!1}return j!==b}var bR={__proto__:null,on:Qt,off:ti,stopPropagation:la,disableScrollPropagation:C_,disableClickPropagation:Vc,preventDefault:Hi,stop:oa,getPropagationPath:r2,getMousePosition:s2,getWheelDelta:l2,isExternalTarget:S_,addListener:Qt,removeListener:ti},o2=V.extend({run:function(b,T,j,X){this.stop(),this._el=b,this._inProgress=!0,this._duration=j||.25,this._easeOutPower=1/Math.max(X||.5,.2),this._startPos=cn(b),this._offset=T.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){!this._inProgress||(this._step(!0),this._complete())},_animate:function(){this._animId=q(this._animate,this),this._step()},_step:function(b){var T=+new Date-this._startTime,j=this._duration*1e3;T<j?this._runFrame(this._easeOut(T/j),b):(this._runFrame(1),this._complete())},_runFrame:function(b,T){var j=this._startPos.add(this._offset.multiplyBy(b));T&&j._round(),jt(this._el,j),this.fire("step")},_complete:function(){H(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(b){return 1-Math.pow(1-b,this._easeOutPower)}}),yn=V.extend({options:{crs:lt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(b,T){T=g(this,T),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(b),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),T.maxBounds&&this.setMaxBounds(T.maxBounds),T.zoom!==void 0&&(this._zoom=this._limitZoom(T.zoom)),T.center&&T.zoom!==void 0&&this.setView(Te(T.center),T.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Rs&&yt.any3d&&!yt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Qt(this._proxy,ia,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(b,T,j){if(T=T===void 0?this._zoom:this._limitZoom(T),b=this._limitCenter(Te(b),T,this.options.maxBounds),j=j||{},this._stop(),this._loaded&&!j.reset&&j!==!0){j.animate!==void 0&&(j.zoom=r({animate:j.animate},j.zoom),j.pan=r({animate:j.animate,duration:j.duration},j.pan));var X=this._zoom!==T?this._tryAnimatedZoom&&this._tryAnimatedZoom(b,T,j.zoom):this._tryAnimatedPan(b,j.pan);if(X)return clearTimeout(this._sizeTimer),this}return this._resetView(b,T,j.pan&&j.pan.noMoveStart),this},setZoom:function(b,T){return this._loaded?this.setView(this.getCenter(),b,{zoom:T}):(this._zoom=b,this)},zoomIn:function(b,T){return b=b||(yt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+b,T)},zoomOut:function(b,T){return b=b||(yt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-b,T)},setZoomAround:function(b,T,j){var X=this.getZoomScale(T),ne=this.getSize().divideBy(2),fe=b instanceof x?b:this.latLngToContainerPoint(b),Se=fe.subtract(ne).multiplyBy(1-1/X),Re=this.containerPointToLatLng(ne.add(Se));return this.setView(Re,T,{zoom:j})},_getBoundsCenterZoom:function(b,T){T=T||{},b=b.getBounds?b.getBounds():ae(b);var j=J(T.paddingTopLeft||T.padding||[0,0]),X=J(T.paddingBottomRight||T.padding||[0,0]),ne=this.getBoundsZoom(b,!1,j.add(X));if(ne=typeof T.maxZoom=="number"?Math.min(T.maxZoom,ne):ne,ne===1/0)return{center:b.getCenter(),zoom:ne};var fe=X.subtract(j).divideBy(2),Se=this.project(b.getSouthWest(),ne),Re=this.project(b.getNorthEast(),ne),Qe=this.unproject(Se.add(Re).divideBy(2).add(fe),ne);return{center:Qe,zoom:ne}},fitBounds:function(b,T){if(b=ae(b),!b.isValid())throw new Error("Bounds are not valid.");var j=this._getBoundsCenterZoom(b,T);return this.setView(j.center,j.zoom,T)},fitWorld:function(b){return this.fitBounds([[-90,-180],[90,180]],b)},panTo:function(b,T){return this.setView(b,this._zoom,{pan:T})},panBy:function(b,T){if(b=J(b).round(),T=T||{},!b.x&&!b.y)return this.fire("moveend");if(T.animate!==!0&&!this.getSize().contains(b))return this._resetView(this.unproject(this.project(this.getCenter()).add(b)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new o2,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),T.noMoveStart||this.fire("movestart"),T.animate!==!1){Ce(this._mapPane,"leaflet-pan-anim");var j=this._getMapPanePos().subtract(b).round();this._panAnim.run(this._mapPane,j,T.duration||.25,T.easeLinearity)}else this._rawPanBy(b),this.fire("move").fire("moveend");return this},flyTo:function(b,T,j){if(j=j||{},j.animate===!1||!yt.any3d)return this.setView(b,T,j);this._stop();var X=this.project(this.getCenter()),ne=this.project(b),fe=this.getSize(),Se=this._zoom;b=Te(b),T=T===void 0?Se:T;var Re=Math.max(fe.x,fe.y),Qe=Re*this.getZoomScale(Se,T),ot=ne.distanceTo(X)||1,Tt=1.42,Wt=Tt*Tt;function dn(Ti){var fh=Ti?-1:1,oj=Ti?Qe:Re,aj=Qe*Qe-Re*Re+fh*Wt*Wt*ot*ot,uj=2*oj*Wt*ot,R_=aj/uj,Y2=Math.sqrt(R_*R_+1)-R_,cj=Y2<1e-9?-18:Math.log(Y2);return cj}function ts(Ti){return(Math.exp(Ti)-Math.exp(-Ti))/2}function ua(Ti){return(Math.exp(Ti)+Math.exp(-Ti))/2}function ch(Ti){return ts(Ti)/ua(Ti)}var ao=dn(0);function z_(Ti){return Re*(ua(ao)/ua(ao+Tt*Ti))}function ij(Ti){return Re*(ua(ao)*ch(ao+Tt*Ti)-ts(ao))/Wt}function rj(Ti){return 1-Math.pow(1-Ti,1.5)}var sj=Date.now(),R2=(dn(1)-ao)/Tt,lj=j.duration?1e3*j.duration:1e3*R2*.8;function j2(){var Ti=(Date.now()-sj)/lj,fh=rj(Ti)*R2;Ti<=1?(this._flyToFrame=q(j2,this),this._move(this.unproject(X.add(ne.subtract(X).multiplyBy(ij(fh)/ot)),Se),this.getScaleZoom(Re/z_(fh),Se),{flyTo:!0})):this._move(b,T)._moveEnd(!0)}return this._moveStart(!0,j.noMoveStart),j2.call(this),this},flyToBounds:function(b,T){var j=this._getBoundsCenterZoom(b,T);return this.flyTo(j.center,j.zoom,T)},setMaxBounds:function(b){return b=ae(b),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),b.isValid()?(this.options.maxBounds=b,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(b){var T=this.options.minZoom;return this.options.minZoom=b,this._loaded&&T!==b&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(b):this},setMaxZoom:function(b){var T=this.options.maxZoom;return this.options.maxZoom=b,this._loaded&&T!==b&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(b):this},panInsideBounds:function(b,T){this._enforcingBounds=!0;var j=this.getCenter(),X=this._limitCenter(j,this._zoom,ae(b));return j.equals(X)||this.panTo(X,T),this._enforcingBounds=!1,this},panInside:function(b,T){T=T||{};var j=J(T.paddingTopLeft||T.padding||[0,0]),X=J(T.paddingBottomRight||T.padding||[0,0]),ne=this.project(this.getCenter()),fe=this.project(b),Se=this.getPixelBounds(),Re=te([Se.min.add(j),Se.max.subtract(X)]),Qe=Re.getSize();if(!Re.contains(fe)){this._enforcingBounds=!0;var ot=fe.subtract(Re.getCenter()),Tt=Re.extend(fe).getSize().subtract(Qe);ne.x+=ot.x<0?-Tt.x:Tt.x,ne.y+=ot.y<0?-Tt.y:Tt.y,this.panTo(this.unproject(ne),T),this._enforcingBounds=!1}return this},invalidateSize:function(b){if(!this._loaded)return this;b=r({animate:!1,pan:!0},b===!0?{animate:!0}:b);var T=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var j=this.getSize(),X=T.divideBy(2).round(),ne=j.divideBy(2).round(),fe=X.subtract(ne);return!fe.x&&!fe.y?this:(b.animate&&b.pan?this.panBy(fe):(b.pan&&this._rawPanBy(fe),this.fire("move"),b.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:T,newSize:j}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(b){if(b=this._locateOptions=r({timeout:1e4,watch:!1},b),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var T=l(this._handleGeolocationResponse,this),j=l(this._handleGeolocationError,this);return b.watch?this._locationWatchId=navigator.geolocation.watchPosition(T,j,b):navigator.geolocation.getCurrentPosition(T,j,b),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(b){if(!!this._container._leaflet_id){var T=b.code,j=b.message||(T===1?"permission denied":T===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:T,message:"Geolocation error: "+j+"."})}},_handleGeolocationResponse:function(b){if(!!this._container._leaflet_id){var T=b.coords.latitude,j=b.coords.longitude,X=new ve(T,j),ne=X.toBounds(b.coords.accuracy*2),fe=this._locateOptions;if(fe.setView){var Se=this.getBoundsZoom(ne);this.setView(X,fe.maxZoom?Math.min(Se,fe.maxZoom):Se)}var Re={latlng:X,bounds:ne,timestamp:b.timestamp};for(var Qe in b.coords)typeof b.coords[Qe]=="number"&&(Re[Qe]=b.coords[Qe]);this.fire("locationfound",Re)}},addHandler:function(b,T){if(!T)return this;var j=this[b]=new T(this);return this._handlers.push(j),this.options[b]&&j.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),he(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(H(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var b;for(b in this._layers)this._layers[b].remove();for(b in this._panes)he(this._panes[b]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(b,T){var j="leaflet-pane"+(b?" leaflet-"+b.replace("Pane","")+"-pane":""),X=kn("div",j,T||this._mapPane);return b&&(this._panes[b]=X),X},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var b=this.getPixelBounds(),T=this.unproject(b.getBottomLeft()),j=this.unproject(b.getTopRight());return new ge(T,j)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(b,T,j){b=ae(b),j=J(j||[0,0]);var X=this.getZoom()||0,ne=this.getMinZoom(),fe=this.getMaxZoom(),Se=b.getNorthWest(),Re=b.getSouthEast(),Qe=this.getSize().subtract(j),ot=te(this.project(Re,X),this.project(Se,X)).getSize(),Tt=yt.any3d?this.options.zoomSnap:1,Wt=Qe.x/ot.x,dn=Qe.y/ot.y,ts=T?Math.max(Wt,dn):Math.min(Wt,dn);return X=this.getScaleZoom(ts,X),Tt&&(X=Math.round(X/(Tt/100))*(Tt/100),X=T?Math.ceil(X/Tt)*Tt:Math.floor(X/Tt)*Tt),Math.max(ne,Math.min(fe,X))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new x(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(b,T){var j=this._getTopLeftPoint(b,T);return new se(j,j.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(b){return this.options.crs.getProjectedBounds(b===void 0?this.getZoom():b)},getPane:function(b){return typeof b=="string"?this._panes[b]:b},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(b,T){var j=this.options.crs;return T=T===void 0?this._zoom:T,j.scale(b)/j.scale(T)},getScaleZoom:function(b,T){var j=this.options.crs;T=T===void 0?this._zoom:T;var X=j.zoom(b*j.scale(T));return isNaN(X)?1/0:X},project:function(b,T){return T=T===void 0?this._zoom:T,this.options.crs.latLngToPoint(Te(b),T)},unproject:function(b,T){return T=T===void 0?this._zoom:T,this.options.crs.pointToLatLng(J(b),T)},layerPointToLatLng:function(b){var T=J(b).add(this.getPixelOrigin());return this.unproject(T)},latLngToLayerPoint:function(b){var T=this.project(Te(b))._round();return T._subtract(this.getPixelOrigin())},wrapLatLng:function(b){return this.options.crs.wrapLatLng(Te(b))},wrapLatLngBounds:function(b){return this.options.crs.wrapLatLngBounds(ae(b))},distance:function(b,T){return this.options.crs.distance(Te(b),Te(T))},containerPointToLayerPoint:function(b){return J(b).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(b){return J(b).add(this._getMapPanePos())},containerPointToLatLng:function(b){var T=this.containerPointToLayerPoint(J(b));return this.layerPointToLatLng(T)},latLngToContainerPoint:function(b){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Te(b)))},mouseEventToContainerPoint:function(b){return s2(b,this._container)},mouseEventToLayerPoint:function(b){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(b))},mouseEventToLatLng:function(b){return this.layerPointToLatLng(this.mouseEventToLayerPoint(b))},_initContainer:function(b){var T=this._container=Ur(b);if(T){if(T._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Qt(T,"scroll",this._onScroll,this),this._containerId=a(T)},_initLayout:function(){var b=this._container;this._fadeAnimated=this.options.fadeAnimation&&yt.any3d,Ce(b,"leaflet-container"+(yt.touch?" leaflet-touch":"")+(yt.retina?" leaflet-retina":"")+(yt.ielt9?" leaflet-oldie":"")+(yt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var T=ra(b,"position");T!=="absolute"&&T!=="relative"&&T!=="fixed"&&T!=="sticky"&&(b.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var b=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),jt(this._mapPane,new x(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ce(b.markerPane,"leaflet-zoom-hide"),Ce(b.shadowPane,"leaflet-zoom-hide"))},_resetView:function(b,T,j){jt(this._mapPane,new x(0,0));var X=!this._loaded;this._loaded=!0,T=this._limitZoom(T),this.fire("viewprereset");var ne=this._zoom!==T;this._moveStart(ne,j)._move(b,T)._moveEnd(ne),this.fire("viewreset"),X&&this.fire("load")},_moveStart:function(b,T){return b&&this.fire("zoomstart"),T||this.fire("movestart"),this},_move:function(b,T,j,X){T===void 0&&(T=this._zoom);var ne=this._zoom!==T;return this._zoom=T,this._lastCenter=b,this._pixelOrigin=this._getNewPixelOrigin(b),X?j&&j.pinch&&this.fire("zoom",j):((ne||j&&j.pinch)&&this.fire("zoom",j),this.fire("move",j)),this},_moveEnd:function(b){return b&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return H(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(b){jt(this._mapPane,this._getMapPanePos().subtract(b))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(b){this._targets={},this._targets[a(this._container)]=this;var T=b?ti:Qt;T(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&T(window,"resize",this._onResize,this),yt.any3d&&this.options.transform3DLimit&&(b?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){H(this._resizeRequest),this._resizeRequest=q(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var b=this._getMapPanePos();Math.max(Math.abs(b.x),Math.abs(b.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(b,T){for(var j=[],X,ne=T==="mouseout"||T==="mouseover",fe=b.target||b.srcElement,Se=!1;fe;){if(X=this._targets[a(fe)],X&&(T==="click"||T==="preclick")&&this._draggableMoved(X)){Se=!0;break}if(X&&X.listens(T,!0)&&(ne&&!S_(fe,b)||(j.push(X),ne))||fe===this._container)break;fe=fe.parentNode}return!j.length&&!Se&&!ne&&this.listens(T,!0)&&(j=[this]),j},_isClickDisabled:function(b){for(;b&&b!==this._container;){if(b._leaflet_disable_click)return!0;b=b.parentNode}},_handleDOMEvent:function(b){var T=b.target||b.srcElement;if(!(!this._loaded||T._leaflet_disable_events||b.type==="click"&&this._isClickDisabled(T))){var j=b.type;j==="mousedown"&&Hc(T),this._fireDOMEvent(b,j)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(b,T,j){if(b.type==="click"){var X=r({},b);X.type="preclick",this._fireDOMEvent(X,X.type,j)}var ne=this._findEventTargets(b,T);if(j){for(var fe=[],Se=0;Se<j.length;Se++)j[Se].listens(T,!0)&&fe.push(j[Se]);ne=fe.concat(ne)}if(!!ne.length){T==="contextmenu"&&Hi(b);var Re=ne[0],Qe={originalEvent:b};if(b.type!=="keypress"&&b.type!=="keydown"&&b.type!=="keyup"){var ot=Re.getLatLng&&(!Re._radius||Re._radius<=10);Qe.containerPoint=ot?this.latLngToContainerPoint(Re.getLatLng()):this.mouseEventToContainerPoint(b),Qe.layerPoint=this.containerPointToLayerPoint(Qe.containerPoint),Qe.latlng=ot?Re.getLatLng():this.layerPointToLatLng(Qe.layerPoint)}for(Se=0;Se<ne.length;Se++)if(ne[Se].fire(T,Qe,!0),Qe.originalEvent._stopped||ne[Se].options.bubblingMouseEvents===!1&&C(this._mouseEvents,T)!==-1)return}},_draggableMoved:function(b){return b=b.dragging&&b.dragging.enabled()?b:this,b.dragging&&b.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var b=0,T=this._handlers.length;b<T;b++)this._handlers[b].disable()},whenReady:function(b,T){return this._loaded?b.call(T||this,{target:this}):this.on("load",b,T),this},_getMapPanePos:function(){return cn(this._mapPane)||new x(0,0)},_moved:function(){var b=this._getMapPanePos();return b&&!b.equals([0,0])},_getTopLeftPoint:function(b,T){var j=b&&T!==void 0?this._getNewPixelOrigin(b,T):this.getPixelOrigin();return j.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(b,T){var j=this.getSize()._divideBy(2);return this.project(b,T)._subtract(j)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(b,T,j){var X=this._getNewPixelOrigin(j,T);return this.project(b,T)._subtract(X)},_latLngBoundsToNewLayerBounds:function(b,T,j){var X=this._getNewPixelOrigin(j,T);return te([this.project(b.getSouthWest(),T)._subtract(X),this.project(b.getNorthWest(),T)._subtract(X),this.project(b.getSouthEast(),T)._subtract(X),this.project(b.getNorthEast(),T)._subtract(X)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(b){return this.latLngToLayerPoint(b).subtract(this._getCenterLayerPoint())},_limitCenter:function(b,T,j){if(!j)return b;var X=this.project(b,T),ne=this.getSize().divideBy(2),fe=new se(X.subtract(ne),X.add(ne)),Se=this._getBoundsOffset(fe,j,T);return Math.abs(Se.x)<=1&&Math.abs(Se.y)<=1?b:this.unproject(X.add(Se),T)},_limitOffset:function(b,T){if(!T)return b;var j=this.getPixelBounds(),X=new se(j.min.add(b),j.max.add(b));return b.add(this._getBoundsOffset(X,T))},_getBoundsOffset:function(b,T,j){var X=te(this.project(T.getNorthEast(),j),this.project(T.getSouthWest(),j)),ne=X.min.subtract(b.min),fe=X.max.subtract(b.max),Se=this._rebound(ne.x,-fe.x),Re=this._rebound(ne.y,-fe.y);return new x(Se,Re)},_rebound:function(b,T){return b+T>0?Math.round(b-T)/2:Math.max(0,Math.ceil(b))-Math.max(0,Math.floor(T))},_limitZoom:function(b){var T=this.getMinZoom(),j=this.getMaxZoom(),X=yt.any3d?this.options.zoomSnap:1;return X&&(b=Math.round(b/X)*X),Math.max(T,Math.min(j,b))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){et(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(b,T){var j=this._getCenterOffset(b)._trunc();return(T&&T.animate)!==!0&&!this.getSize().contains(j)?!1:(this.panBy(j,T),!0)},_createAnimProxy:function(){var b=this._proxy=kn("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(b),this.on("zoomanim",function(T){var j=zs,X=this._proxy.style[j];Ht(this._proxy,this.project(T.center,T.zoom),this.getZoomScale(T.zoom,1)),X===this._proxy.style[j]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){he(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var b=this.getCenter(),T=this.getZoom();Ht(this._proxy,this.project(b,T),this.getZoomScale(T,1))},_catchTransitionEnd:function(b){this._animatingZoom&&b.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(b,T,j){if(this._animatingZoom)return!0;if(j=j||{},!this._zoomAnimated||j.animate===!1||this._nothingToAnimate()||Math.abs(T-this._zoom)>this.options.zoomAnimationThreshold)return!1;var X=this.getZoomScale(T),ne=this._getCenterOffset(b)._divideBy(1-1/X);return j.animate!==!0&&!this.getSize().contains(ne)?!1:(q(function(){this._moveStart(!0,!1)._animateZoom(b,T,!0)},this),!0)},_animateZoom:function(b,T,j,X){!this._mapPane||(j&&(this._animatingZoom=!0,this._animateToCenter=b,this._animateToZoom=T,Ce(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:b,zoom:T,noUpdate:X}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){!this._animatingZoom||(this._mapPane&&et(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function kR(b,T){return new yn(b,T)}var bs=G.extend({options:{position:"topright"},initialize:function(b){g(this,b)},getPosition:function(){return this.options.position},setPosition:function(b){var T=this._map;return T&&T.removeControl(this),this.options.position=b,T&&T.addControl(this),this},getContainer:function(){return this._container},addTo:function(b){this.remove(),this._map=b;var T=this._container=this.onAdd(b),j=this.getPosition(),X=b._controlCorners[j];return Ce(T,"leaflet-control"),j.indexOf("bottom")!==-1?X.insertBefore(T,X.firstChild):X.appendChild(T),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(he(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(b){this._map&&b&&b.screenX>0&&b.screenY>0&&this._map.getContainer().focus()}}),Gc=function(b){return new bs(b)};yn.include({addControl:function(b){return b.addTo(this),this},removeControl:function(b){return b.remove(),this},_initControlPos:function(){var b=this._controlCorners={},T="leaflet-",j=this._controlContainer=kn("div",T+"control-container",this._container);function X(ne,fe){var Se=T+ne+" "+T+fe;b[ne+fe]=kn("div",Se,j)}X("top","left"),X("top","right"),X("bottom","left"),X("bottom","right")},_clearControlPos:function(){for(var b in this._controlCorners)he(this._controlCorners[b]);he(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var a2=bs.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(b,T,j,X){return j<X?-1:X<j?1:0}},initialize:function(b,T,j){g(this,j),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var X in b)this._addLayer(b[X],X);for(X in T)this._addLayer(T[X],X,!0)},onAdd:function(b){this._initLayout(),this._update(),this._map=b,b.on("zoomend",this._checkDisabledLayers,this);for(var T=0;T<this._layers.length;T++)this._layers[T].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(b){return bs.prototype.addTo.call(this,b),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var b=0;b<this._layers.length;b++)this._layers[b].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(b,T){return this._addLayer(b,T),this._map?this._update():this},addOverlay:function(b,T){return this._addLayer(b,T,!0),this._map?this._update():this},removeLayer:function(b){b.off("add remove",this._onLayerChange,this);var T=this._getLayer(a(b));return T&&this._layers.splice(this._layers.indexOf(T),1),this._map?this._update():this},expand:function(){Ce(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var b=this._map.getSize().y-(this._container.offsetTop+50);return b<this._section.clientHeight?(Ce(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=b+"px"):et(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return et(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var b="leaflet-control-layers",T=this._container=kn("div",b),j=this.options.collapsed;T.setAttribute("aria-haspopup",!0),Vc(T),C_(T);var X=this._section=kn("section",b+"-list");j&&(this._map.on("click",this.collapse,this),Qt(T,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var ne=this._layersLink=kn("a",b+"-toggle",T);ne.href="#",ne.title="Layers",ne.setAttribute("role","button"),Qt(ne,{keydown:function(fe){fe.keyCode===13&&this._expandSafely()},click:function(fe){Hi(fe),this._expandSafely()}},this),j||this.expand(),this._baseLayersList=kn("div",b+"-base",X),this._separator=kn("div",b+"-separator",X),this._overlaysList=kn("div",b+"-overlays",X),T.appendChild(X)},_getLayer:function(b){for(var T=0;T<this._layers.length;T++)if(this._layers[T]&&a(this._layers[T].layer)===b)return this._layers[T]},_addLayer:function(b,T,j){this._map&&b.on("add remove",this._onLayerChange,this),this._layers.push({layer:b,name:T,overlay:j}),this.options.sortLayers&&this._layers.sort(l(function(X,ne){return this.options.sortFunction(X.layer,ne.layer,X.name,ne.name)},this)),this.options.autoZIndex&&b.setZIndex&&(this._lastZIndex++,b.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ae(this._baseLayersList),Ae(this._overlaysList),this._layerControlInputs=[];var b,T,j,X,ne=0;for(j=0;j<this._layers.length;j++)X=this._layers[j],this._addItem(X),T=T||X.overlay,b=b||!X.overlay,ne+=X.overlay?0:1;return this.options.hideSingleBase&&(b=b&&ne>1,this._baseLayersList.style.display=b?"":"none"),this._separator.style.display=T&&b?"":"none",this},_onLayerChange:function(b){this._handlingClick||this._update();var T=this._getLayer(a(b.target)),j=T.overlay?b.type==="add"?"overlayadd":"overlayremove":b.type==="add"?"baselayerchange":null;j&&this._map.fire(j,T)},_createRadioElement:function(b,T){var j='<input type="radio" class="leaflet-control-layers-selector" name="'+b+'"'+(T?' checked="checked"':"")+"/>",X=document.createElement("div");return X.innerHTML=j,X.firstChild},_addItem:function(b){var T=document.createElement("label"),j=this._map.hasLayer(b.layer),X;b.overlay?(X=document.createElement("input"),X.type="checkbox",X.className="leaflet-control-layers-selector",X.defaultChecked=j):X=this._createRadioElement("leaflet-base-layers_"+a(this),j),this._layerControlInputs.push(X),X.layerId=a(b.layer),Qt(X,"click",this._onInputClick,this);var ne=document.createElement("span");ne.innerHTML=" "+b.name;var fe=document.createElement("span");T.appendChild(fe),fe.appendChild(X),fe.appendChild(ne);var Se=b.overlay?this._overlaysList:this._baseLayersList;return Se.appendChild(T),this._checkDisabledLayers(),T},_onInputClick:function(){var b=this._layerControlInputs,T,j,X=[],ne=[];this._handlingClick=!0;for(var fe=b.length-1;fe>=0;fe--)T=b[fe],j=this._getLayer(T.layerId).layer,T.checked?X.push(j):T.checked||ne.push(j);for(fe=0;fe<ne.length;fe++)this._map.hasLayer(ne[fe])&&this._map.removeLayer(ne[fe]);for(fe=0;fe<X.length;fe++)this._map.hasLayer(X[fe])||this._map.addLayer(X[fe]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var b=this._layerControlInputs,T,j,X=this._map.getZoom(),ne=b.length-1;ne>=0;ne--)T=b[ne],j=this._getLayer(T.layerId).layer,T.disabled=j.options.minZoom!==void 0&&X<j.options.minZoom||j.options.maxZoom!==void 0&&X>j.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var b=this._section;Qt(b,"click",Hi),this.expand(),setTimeout(function(){ti(b,"click",Hi)})}}),yR=function(b,T,j){return new a2(b,T,j)},T_=bs.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(b){var T="leaflet-control-zoom",j=kn("div",T+" leaflet-bar"),X=this.options;return this._zoomInButton=this._createButton(X.zoomInText,X.zoomInTitle,T+"-in",j,this._zoomIn),this._zoomOutButton=this._createButton(X.zoomOutText,X.zoomOutTitle,T+"-out",j,this._zoomOut),this._updateDisabled(),b.on("zoomend zoomlevelschange",this._updateDisabled,this),j},onRemove:function(b){b.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(b){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(b.shiftKey?3:1))},_zoomOut:function(b){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(b.shiftKey?3:1))},_createButton:function(b,T,j,X,ne){var fe=kn("a",j,X);return fe.innerHTML=b,fe.href="#",fe.title=T,fe.setAttribute("role","button"),fe.setAttribute("aria-label",T),Vc(fe),Qt(fe,"click",oa),Qt(fe,"click",ne,this),Qt(fe,"click",this._refocusOnMap,this),fe},_updateDisabled:function(){var b=this._map,T="leaflet-disabled";et(this._zoomInButton,T),et(this._zoomOutButton,T),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||b._zoom===b.getMinZoom())&&(Ce(this._zoomOutButton,T),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||b._zoom===b.getMaxZoom())&&(Ce(this._zoomInButton,T),this._zoomInButton.setAttribute("aria-disabled","true"))}});yn.mergeOptions({zoomControl:!0}),yn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new T_,this.addControl(this.zoomControl))});var wR=function(b){return new T_(b)},u2=bs.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(b){var T="leaflet-control-scale",j=kn("div",T),X=this.options;return this._addScales(X,T+"-line",j),b.on(X.updateWhenIdle?"moveend":"move",this._update,this),b.whenReady(this._update,this),j},onRemove:function(b){b.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(b,T,j){b.metric&&(this._mScale=kn("div",T,j)),b.imperial&&(this._iScale=kn("div",T,j))},_update:function(){var b=this._map,T=b.getSize().y/2,j=b.distance(b.containerPointToLatLng([0,T]),b.containerPointToLatLng([this.options.maxWidth,T]));this._updateScales(j)},_updateScales:function(b){this.options.metric&&b&&this._updateMetric(b),this.options.imperial&&b&&this._updateImperial(b)},_updateMetric:function(b){var T=this._getRoundNum(b),j=T<1e3?T+" m":T/1e3+" km";this._updateScale(this._mScale,j,T/b)},_updateImperial:function(b){var T=b*3.2808399,j,X,ne;T>5280?(j=T/5280,X=this._getRoundNum(j),this._updateScale(this._iScale,X+" mi",X/j)):(ne=this._getRoundNum(T),this._updateScale(this._iScale,ne+" ft",ne/T))},_updateScale:function(b,T,j){b.style.width=Math.round(this.options.maxWidth*j)+"px",b.innerHTML=T},_getRoundNum:function(b){var T=Math.pow(10,(Math.floor(b)+"").length-1),j=b/T;return j=j>=10?10:j>=5?5:j>=3?3:j>=2?2:1,T*j}}),$R=function(b){return new u2(b)},FR='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',A_=bs.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(yt.inlineSvg?FR+" ":"")+"Leaflet</a>"},initialize:function(b){g(this,b),this._attributions={}},onAdd:function(b){b.attributionControl=this,this._container=kn("div","leaflet-control-attribution"),Vc(this._container);for(var T in b._layers)b._layers[T].getAttribution&&this.addAttribution(b._layers[T].getAttribution());return this._update(),b.on("layeradd",this._addAttribution,this),this._container},onRemove:function(b){b.off("layeradd",this._addAttribution,this)},_addAttribution:function(b){b.layer.getAttribution&&(this.addAttribution(b.layer.getAttribution()),b.layer.once("remove",function(){this.removeAttribution(b.layer.getAttribution())},this))},setPrefix:function(b){return this.options.prefix=b,this._update(),this},addAttribution:function(b){return b?(this._attributions[b]||(this._attributions[b]=0),this._attributions[b]++,this._update(),this):this},removeAttribution:function(b){return b?(this._attributions[b]&&(this._attributions[b]--,this._update()),this):this},_update:function(){if(!!this._map){var b=[];for(var T in this._attributions)this._attributions[T]&&b.push(T);var j=[];this.options.prefix&&j.push(this.options.prefix),b.length&&j.push(b.join(", ")),this._container.innerHTML=j.join(' <span aria-hidden="true">|</span> ')}}});yn.mergeOptions({attributionControl:!0}),yn.addInitHook(function(){this.options.attributionControl&&new A_().addTo(this)});var ER=function(b){return new A_(b)};bs.Layers=a2,bs.Zoom=T_,bs.Scale=u2,bs.Attribution=A_,Gc.layers=yR,Gc.zoom=wR,Gc.scale=$R,Gc.attribution=ER;var Ys=G.extend({initialize:function(b){this._map=b},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ys.addTo=function(b,T){return b.addHandler(T,this),this};var DR={Events:Q},c2=yt.touch?"touchstart mousedown":"mousedown",lo=V.extend({options:{clickTolerance:3},initialize:function(b,T,j,X){g(this,X),this._element=b,this._dragStartTarget=T||b,this._preventOutline=j},enable:function(){this._enabled||(Qt(this._dragStartTarget,c2,this._onDown,this),this._enabled=!0)},disable:function(){!this._enabled||(lo._dragging===this&&this.finishDrag(!0),ti(this._dragStartTarget,c2,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(b){if(!!this._enabled&&(this._moved=!1,!ze(this._element,"leaflet-zoom-anim"))){if(b.touches&&b.touches.length!==1){lo._dragging===this&&this.finishDrag();return}if(!(lo._dragging||b.shiftKey||b.which!==1&&b.button!==1&&!b.touches)&&(lo._dragging=this,this._preventOutline&&Hc(this._element),sa(),ei(),!this._moving)){this.fire("down");var T=b.touches?b.touches[0]:b,j=Wc(this._element);this._startPoint=new x(T.clientX,T.clientY),this._startPos=cn(this._element),this._parentScale=$_(j);var X=b.type==="mousedown";Qt(document,X?"mousemove":"touchmove",this._onMove,this),Qt(document,X?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(b){if(!!this._enabled){if(b.touches&&b.touches.length>1){this._moved=!0;return}var T=b.touches&&b.touches.length===1?b.touches[0]:b,j=new x(T.clientX,T.clientY)._subtract(this._startPoint);!j.x&&!j.y||Math.abs(j.x)+Math.abs(j.y)<this.options.clickTolerance||(j.x/=this._parentScale.x,j.y/=this._parentScale.y,Hi(b),this._moved||(this.fire("dragstart"),this._moved=!0,Ce(document.body,"leaflet-dragging"),this._lastTarget=b.target||b.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ce(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(j),this._moving=!0,this._lastEvent=b,this._updatePosition())}},_updatePosition:function(){var b={originalEvent:this._lastEvent};this.fire("predrag",b),jt(this._element,this._newPos),this.fire("drag",b)},_onUp:function(){!this._enabled||this.finishDrag()},finishDrag:function(b){et(document.body,"leaflet-dragging"),this._lastTarget&&(et(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ti(document,"mousemove touchmove",this._onMove,this),ti(document,"mouseup touchend touchcancel",this._onUp,this),qc(),Zn(),this._moved&&this._moving&&this.fire("dragend",{noInertia:b,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,lo._dragging=!1}});function f2(b,T){if(!T||!b.length)return b.slice();var j=T*T;return b=TR(b,j),b=SR(b,j),b}function d2(b,T,j){return Math.sqrt(Zc(b,T,j,!0))}function CR(b,T,j){return Zc(b,T,j)}function SR(b,T){var j=b.length,X=typeof Uint8Array!=void 0+""?Uint8Array:Array,ne=new X(j);ne[0]=ne[j-1]=1,P_(b,ne,T,0,j-1);var fe,Se=[];for(fe=0;fe<j;fe++)ne[fe]&&Se.push(b[fe]);return Se}function P_(b,T,j,X,ne){var fe=0,Se,Re,Qe;for(Re=X+1;Re<=ne-1;Re++)Qe=Zc(b[Re],b[X],b[ne],!0),Qe>fe&&(Se=Re,fe=Qe);fe>j&&(T[Se]=1,P_(b,T,j,X,Se),P_(b,T,j,Se,ne))}function TR(b,T){for(var j=[b[0]],X=1,ne=0,fe=b.length;X<fe;X++)AR(b[X],b[ne])>T&&(j.push(b[X]),ne=X);return ne<fe-1&&j.push(b[fe-1]),j}var h2;function m2(b,T,j,X,ne){var fe=X?h2:aa(b,j),Se=aa(T,j),Re,Qe,ot;for(h2=Se;;){if(!(fe|Se))return[b,T];if(fe&Se)return!1;Re=fe||Se,Qe=Qd(b,T,Re,j,ne),ot=aa(Qe,j),Re===fe?(b=Qe,fe=ot):(T=Qe,Se=ot)}}function Qd(b,T,j,X,ne){var fe=T.x-b.x,Se=T.y-b.y,Re=X.min,Qe=X.max,ot,Tt;return j&8?(ot=b.x+fe*(Qe.y-b.y)/Se,Tt=Qe.y):j&4?(ot=b.x+fe*(Re.y-b.y)/Se,Tt=Re.y):j&2?(ot=Qe.x,Tt=b.y+Se*(Qe.x-b.x)/fe):j&1&&(ot=Re.x,Tt=b.y+Se*(Re.x-b.x)/fe),new x(ot,Tt,ne)}function aa(b,T){var j=0;return b.x<T.min.x?j|=1:b.x>T.max.x&&(j|=2),b.y<T.min.y?j|=4:b.y>T.max.y&&(j|=8),j}function AR(b,T){var j=T.x-b.x,X=T.y-b.y;return j*j+X*X}function Zc(b,T,j,X){var ne=T.x,fe=T.y,Se=j.x-ne,Re=j.y-fe,Qe=Se*Se+Re*Re,ot;return Qe>0&&(ot=((b.x-ne)*Se+(b.y-fe)*Re)/Qe,ot>1?(ne=j.x,fe=j.y):ot>0&&(ne+=Se*ot,fe+=Re*ot)),Se=b.x-ne,Re=b.y-fe,X?Se*Se+Re*Re:new x(ne,fe)}function es(b){return!F(b[0])||typeof b[0][0]!="object"&&typeof b[0][0]<"u"}function p2(b){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),es(b)}function _2(b,T){var j,X,ne,fe,Se,Re,Qe,ot;if(!b||b.length===0)throw new Error("latlngs not passed");es(b)||(console.warn("latlngs are not flat! Only the first ring will be used"),b=b[0]);var Tt=[];for(var Wt in b)Tt.push(T.project(Te(b[Wt])));var dn=Tt.length;for(j=0,X=0;j<dn-1;j++)X+=Tt[j].distanceTo(Tt[j+1])/2;if(X===0)ot=Tt[0];else for(j=0,fe=0;j<dn-1;j++)if(Se=Tt[j],Re=Tt[j+1],ne=Se.distanceTo(Re),fe+=ne,fe>X){Qe=(fe-X)/ne,ot=[Re.x-Qe*(Re.x-Se.x),Re.y-Qe*(Re.y-Se.y)];break}return T.unproject(J(ot))}var PR={__proto__:null,simplify:f2,pointToSegmentDistance:d2,closestPointOnSegment:CR,clipSegment:m2,_getEdgeIntersection:Qd,_getBitCode:aa,_sqClosestPointOnSegment:Zc,isFlat:es,_flat:p2,polylineCenter:_2};function g2(b,T,j){var X,ne=[1,4,2,8],fe,Se,Re,Qe,ot,Tt,Wt,dn;for(fe=0,Tt=b.length;fe<Tt;fe++)b[fe]._code=aa(b[fe],T);for(Re=0;Re<4;Re++){for(Wt=ne[Re],X=[],fe=0,Tt=b.length,Se=Tt-1;fe<Tt;Se=fe++)Qe=b[fe],ot=b[Se],Qe._code&Wt?ot._code&Wt||(dn=Qd(ot,Qe,Wt,T,j),dn._code=aa(dn,T),X.push(dn)):(ot._code&Wt&&(dn=Qd(ot,Qe,Wt,T,j),dn._code=aa(dn,T),X.push(dn)),X.push(Qe));b=X}return b}function v2(b,T){var j,X,ne,fe,Se,Re,Qe,ot,Tt;if(!b||b.length===0)throw new Error("latlngs not passed");es(b)||(console.warn("latlngs are not flat! Only the first ring will be used"),b=b[0]);var Wt=[];for(var dn in b)Wt.push(T.project(Te(b[dn])));var ts=Wt.length;for(Re=Qe=ot=0,j=0,X=ts-1;j<ts;X=j++)ne=Wt[j],fe=Wt[X],Se=ne.y*fe.x-fe.y*ne.x,Qe+=(ne.x+fe.x)*Se,ot+=(ne.y+fe.y)*Se,Re+=Se*3;return Re===0?Tt=Wt[0]:Tt=[Qe/Re,ot/Re],T.unproject(J(Tt))}var NR={__proto__:null,clipPolygon:g2,polygonCenter:v2},N_={project:function(b){return new x(b.lng,b.lat)},unproject:function(b){return new ve(b.y,b.x)},bounds:new se([-180,-90],[180,90])},M_={R:6378137,R_MINOR:6356752314245179e-9,bounds:new se([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(b){var T=Math.PI/180,j=this.R,X=b.lat*T,ne=this.R_MINOR/j,fe=Math.sqrt(1-ne*ne),Se=fe*Math.sin(X),Re=Math.tan(Math.PI/4-X/2)/Math.pow((1-Se)/(1+Se),fe/2);return X=-j*Math.log(Math.max(Re,1e-10)),new x(b.lng*T*j,X)},unproject:function(b){for(var T=180/Math.PI,j=this.R,X=this.R_MINOR/j,ne=Math.sqrt(1-X*X),fe=Math.exp(-b.y/j),Se=Math.PI/2-2*Math.atan(fe),Re=0,Qe=.1,ot;Re<15&&Math.abs(Qe)>1e-7;Re++)ot=ne*Math.sin(Se),ot=Math.pow((1-ot)/(1+ot),ne/2),Qe=Math.PI/2-2*Math.atan(fe*ot)-Se,Se+=Qe;return new ve(Se*T,b.x*T/j)}},MR={__proto__:null,LonLat:N_,Mercator:M_,SphericalMercator:ye},LR=r({},pe,{code:"EPSG:3395",projection:M_,transformation:function(){var b=.5/(Math.PI*M_.R);return dt(b,.5,-b,.5)}()}),b2=r({},pe,{code:"EPSG:4326",projection:N_,transformation:dt(1/180,1,-1/180,.5)}),OR=r({},Pe,{projection:N_,transformation:dt(1,0,-1,0),scale:function(b){return Math.pow(2,b)},zoom:function(b){return Math.log(b)/Math.LN2},distance:function(b,T){var j=T.lng-b.lng,X=T.lat-b.lat;return Math.sqrt(j*j+X*X)},infinite:!0});Pe.Earth=pe,Pe.EPSG3395=LR,Pe.EPSG3857=lt,Pe.EPSG900913=vt,Pe.EPSG4326=b2,Pe.Simple=OR;var ks=V.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(b){return b.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(b){return b&&b.removeLayer(this),this},getPane:function(b){return this._map.getPane(b?this.options[b]||b:this.options.pane)},addInteractiveTarget:function(b){return this._map._targets[a(b)]=this,this},removeInteractiveTarget:function(b){return delete this._map._targets[a(b)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(b){var T=b.target;if(!!T.hasLayer(this)){if(this._map=T,this._zoomAnimated=T._zoomAnimated,this.getEvents){var j=this.getEvents();T.on(j,this),this.once("remove",function(){T.off(j,this)},this)}this.onAdd(T),this.fire("add"),T.fire("layeradd",{layer:this})}}});yn.include({addLayer:function(b){if(!b._layerAdd)throw new Error("The provided object is not a Layer.");var T=a(b);return this._layers[T]?this:(this._layers[T]=b,b._mapToAdd=this,b.beforeAdd&&b.beforeAdd(this),this.whenReady(b._layerAdd,b),this)},removeLayer:function(b){var T=a(b);return this._layers[T]?(this._loaded&&b.onRemove(this),delete this._layers[T],this._loaded&&(this.fire("layerremove",{layer:b}),b.fire("remove")),b._map=b._mapToAdd=null,this):this},hasLayer:function(b){return a(b)in this._layers},eachLayer:function(b,T){for(var j in this._layers)b.call(T,this._layers[j]);return this},_addLayers:function(b){b=b?F(b)?b:[b]:[];for(var T=0,j=b.length;T<j;T++)this.addLayer(b[T])},_addZoomLimit:function(b){(!isNaN(b.options.maxZoom)||!isNaN(b.options.minZoom))&&(this._zoomBoundLayers[a(b)]=b,this._updateZoomLevels())},_removeZoomLimit:function(b){var T=a(b);this._zoomBoundLayers[T]&&(delete this._zoomBoundLayers[T],this._updateZoomLevels())},_updateZoomLevels:function(){var b=1/0,T=-1/0,j=this._getZoomSpan();for(var X in this._zoomBoundLayers){var ne=this._zoomBoundLayers[X].options;b=ne.minZoom===void 0?b:Math.min(b,ne.minZoom),T=ne.maxZoom===void 0?T:Math.max(T,ne.maxZoom)}this._layersMaxZoom=T===-1/0?void 0:T,this._layersMinZoom=b===1/0?void 0:b,j!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var hu=ks.extend({initialize:function(b,T){g(this,T),this._layers={};var j,X;if(b)for(j=0,X=b.length;j<X;j++)this.addLayer(b[j])},addLayer:function(b){var T=this.getLayerId(b);return this._layers[T]=b,this._map&&this._map.addLayer(b),this},removeLayer:function(b){var T=b in this._layers?b:this.getLayerId(b);return this._map&&this._layers[T]&&this._map.removeLayer(this._layers[T]),delete this._layers[T],this},hasLayer:function(b){var T=typeof b=="number"?b:this.getLayerId(b);return T in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(b){var T=Array.prototype.slice.call(arguments,1),j,X;for(j in this._layers)X=this._layers[j],X[b]&&X[b].apply(X,T);return this},onAdd:function(b){this.eachLayer(b.addLayer,b)},onRemove:function(b){this.eachLayer(b.removeLayer,b)},eachLayer:function(b,T){for(var j in this._layers)b.call(T,this._layers[j]);return this},getLayer:function(b){return this._layers[b]},getLayers:function(){var b=[];return this.eachLayer(b.push,b),b},setZIndex:function(b){return this.invoke("setZIndex",b)},getLayerId:function(b){return a(b)}}),IR=function(b,T){return new hu(b,T)},wl=hu.extend({addLayer:function(b){return this.hasLayer(b)?this:(b.addEventParent(this),hu.prototype.addLayer.call(this,b),this.fire("layeradd",{layer:b}))},removeLayer:function(b){return this.hasLayer(b)?(b in this._layers&&(b=this._layers[b]),b.removeEventParent(this),hu.prototype.removeLayer.call(this,b),this.fire("layerremove",{layer:b})):this},setStyle:function(b){return this.invoke("setStyle",b)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var b=new ge;for(var T in this._layers){var j=this._layers[T];b.extend(j.getBounds?j.getBounds():j.getLatLng())}return b}}),BR=function(b,T){return new wl(b,T)},mu=G.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(b){g(this,b)},createIcon:function(b){return this._createIcon("icon",b)},createShadow:function(b){return this._createIcon("shadow",b)},_createIcon:function(b,T){var j=this._getIconUrl(b);if(!j){if(b==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var X=this._createImg(j,T&&T.tagName==="IMG"?T:null);return this._setIconStyles(X,b),(this.options.crossOrigin||this.options.crossOrigin==="")&&(X.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),X},_setIconStyles:function(b,T){var j=this.options,X=j[T+"Size"];typeof X=="number"&&(X=[X,X]);var ne=J(X),fe=J(T==="shadow"&&j.shadowAnchor||j.iconAnchor||ne&&ne.divideBy(2,!0));b.className="leaflet-marker-"+T+" "+(j.className||""),fe&&(b.style.marginLeft=-fe.x+"px",b.style.marginTop=-fe.y+"px"),ne&&(b.style.width=ne.x+"px",b.style.height=ne.y+"px")},_createImg:function(b,T){return T=T||document.createElement("img"),T.src=b,T},_getIconUrl:function(b){return yt.retina&&this.options[b+"RetinaUrl"]||this.options[b+"Url"]}});function zR(b){return new mu(b)}var xc=mu.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(b){return typeof xc.imagePath!="string"&&(xc.imagePath=this._detectIconPath()),(this.options.imagePath||xc.imagePath)+mu.prototype._getIconUrl.call(this,b)},_stripUrl:function(b){var T=function(j,X,ne){var fe=X.exec(j);return fe&&fe[ne]};return b=T(b,/^url\((['"])?(.+)\1\)$/,2),b&&T(b,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var b=kn("div","leaflet-default-icon-path",document.body),T=ra(b,"background-image")||ra(b,"backgroundImage");if(document.body.removeChild(b),T=this._stripUrl(T),T)return T;var j=document.querySelector('link[href$="leaflet.css"]');return j?j.href.substring(0,j.href.length-11-1):""}}),k2=Ys.extend({initialize:function(b){this._marker=b},addHooks:function(){var b=this._marker._icon;this._draggable||(this._draggable=new lo(b,b,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ce(b,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&et(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(b){var T=this._marker,j=T._map,X=this._marker.options.autoPanSpeed,ne=this._marker.options.autoPanPadding,fe=cn(T._icon),Se=j.getPixelBounds(),Re=j.getPixelOrigin(),Qe=te(Se.min._subtract(Re).add(ne),Se.max._subtract(Re).subtract(ne));if(!Qe.contains(fe)){var ot=J((Math.max(Qe.max.x,fe.x)-Qe.max.x)/(Se.max.x-Qe.max.x)-(Math.min(Qe.min.x,fe.x)-Qe.min.x)/(Se.min.x-Qe.min.x),(Math.max(Qe.max.y,fe.y)-Qe.max.y)/(Se.max.y-Qe.max.y)-(Math.min(Qe.min.y,fe.y)-Qe.min.y)/(Se.min.y-Qe.min.y)).multiplyBy(X);j.panBy(ot,{animate:!1}),this._draggable._newPos._add(ot),this._draggable._startPos._add(ot),jt(T._icon,this._draggable._newPos),this._onDrag(b),this._panRequest=q(this._adjustPan.bind(this,b))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(b){this._marker.options.autoPan&&(H(this._panRequest),this._panRequest=q(this._adjustPan.bind(this,b)))},_onDrag:function(b){var T=this._marker,j=T._shadow,X=cn(T._icon),ne=T._map.layerPointToLatLng(X);j&&jt(j,X),T._latlng=ne,b.latlng=ne,b.oldLatLng=this._oldLatLng,T.fire("move",b).fire("drag",b)},_onDragEnd:function(b){H(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",b)}}),eh=ks.extend({options:{icon:new xc,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(b,T){g(this,T),this._latlng=Te(b)},onAdd:function(b){this._zoomAnimated=this._zoomAnimated&&b.options.markerZoomAnimation,this._zoomAnimated&&b.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(b){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&b.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(b){var T=this._latlng;return this._latlng=Te(b),this.update(),this.fire("move",{oldLatLng:T,latlng:this._latlng})},setZIndexOffset:function(b){return this.options.zIndexOffset=b,this.update()},getIcon:function(){return this.options.icon},setIcon:function(b){return this.options.icon=b,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var b=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(b)}return this},_initIcon:function(){var b=this.options,T="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),j=b.icon.createIcon(this._icon),X=!1;j!==this._icon&&(this._icon&&this._removeIcon(),X=!0,b.title&&(j.title=b.title),j.tagName==="IMG"&&(j.alt=b.alt||"")),Ce(j,T),b.keyboard&&(j.tabIndex="0",j.setAttribute("role","button")),this._icon=j,b.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Qt(j,"focus",this._panOnFocus,this);var ne=b.icon.createShadow(this._shadow),fe=!1;ne!==this._shadow&&(this._removeShadow(),fe=!0),ne&&(Ce(ne,T),ne.alt=""),this._shadow=ne,b.opacity<1&&this._updateOpacity(),X&&this.getPane().appendChild(this._icon),this._initInteraction(),ne&&fe&&this.getPane(b.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ti(this._icon,"focus",this._panOnFocus,this),he(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&he(this._shadow),this._shadow=null},_setPos:function(b){this._icon&&jt(this._icon,b),this._shadow&&jt(this._shadow,b),this._zIndex=b.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(b){this._icon&&(this._icon.style.zIndex=this._zIndex+b)},_animateZoom:function(b){var T=this._map._latLngToNewLayerPoint(this._latlng,b.zoom,b.center).round();this._setPos(T)},_initInteraction:function(){if(!!this.options.interactive&&(Ce(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),k2)){var b=this.options.draggable;this.dragging&&(b=this.dragging.enabled(),this.dragging.disable()),this.dragging=new k2(this),b&&this.dragging.enable()}},setOpacity:function(b){return this.options.opacity=b,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var b=this.options.opacity;this._icon&&ct(this._icon,b),this._shadow&&ct(this._shadow,b)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var b=this._map;if(!!b){var T=this.options.icon.options,j=T.iconSize?J(T.iconSize):J(0,0),X=T.iconAnchor?J(T.iconAnchor):J(0,0);b.panInside(this._latlng,{paddingTopLeft:X,paddingBottomRight:j.subtract(X)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function RR(b,T){return new eh(b,T)}var oo=ks.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(b){this._renderer=b.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(b){return g(this,b),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&b&&Object.prototype.hasOwnProperty.call(b,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),th=oo.extend({options:{fill:!0,radius:10},initialize:function(b,T){g(this,T),this._latlng=Te(b),this._radius=this.options.radius},setLatLng:function(b){var T=this._latlng;return this._latlng=Te(b),this.redraw(),this.fire("move",{oldLatLng:T,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(b){return this.options.radius=this._radius=b,this.redraw()},getRadius:function(){return this._radius},setStyle:function(b){var T=b&&b.radius||this._radius;return oo.prototype.setStyle.call(this,b),this.setRadius(T),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var b=this._radius,T=this._radiusY||b,j=this._clickTolerance(),X=[b+j,T+j];this._pxBounds=new se(this._point.subtract(X),this._point.add(X))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(b){return b.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function jR(b,T){return new th(b,T)}var L_=th.extend({initialize:function(b,T,j){if(typeof T=="number"&&(T=r({},j,{radius:T})),g(this,T),this._latlng=Te(b),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(b){return this._mRadius=b,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var b=[this._radius,this._radiusY||this._radius];return new ge(this._map.layerPointToLatLng(this._point.subtract(b)),this._map.layerPointToLatLng(this._point.add(b)))},setStyle:oo.prototype.setStyle,_project:function(){var b=this._latlng.lng,T=this._latlng.lat,j=this._map,X=j.options.crs;if(X.distance===pe.distance){var ne=Math.PI/180,fe=this._mRadius/pe.R/ne,Se=j.project([T+fe,b]),Re=j.project([T-fe,b]),Qe=Se.add(Re).divideBy(2),ot=j.unproject(Qe).lat,Tt=Math.acos((Math.cos(fe*ne)-Math.sin(T*ne)*Math.sin(ot*ne))/(Math.cos(T*ne)*Math.cos(ot*ne)))/ne;(isNaN(Tt)||Tt===0)&&(Tt=fe/Math.cos(Math.PI/180*T)),this._point=Qe.subtract(j.getPixelOrigin()),this._radius=isNaN(Tt)?0:Qe.x-j.project([ot,b-Tt]).x,this._radiusY=Qe.y-Se.y}else{var Wt=X.unproject(X.project(this._latlng).subtract([this._mRadius,0]));this._point=j.latLngToLayerPoint(this._latlng),this._radius=this._point.x-j.latLngToLayerPoint(Wt).x}this._updateBounds()}});function YR(b,T,j){return new L_(b,T,j)}var $l=oo.extend({options:{smoothFactor:1,noClip:!1},initialize:function(b,T){g(this,T),this._setLatLngs(b)},getLatLngs:function(){return this._latlngs},setLatLngs:function(b){return this._setLatLngs(b),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(b){for(var T=1/0,j=null,X=Zc,ne,fe,Se=0,Re=this._parts.length;Se<Re;Se++)for(var Qe=this._parts[Se],ot=1,Tt=Qe.length;ot<Tt;ot++){ne=Qe[ot-1],fe=Qe[ot];var Wt=X(b,ne,fe,!0);Wt<T&&(T=Wt,j=X(b,ne,fe))}return j&&(j.distance=Math.sqrt(T)),j},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return _2(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(b,T){return T=T||this._defaultShape(),b=Te(b),T.push(b),this._bounds.extend(b),this.redraw()},_setLatLngs:function(b){this._bounds=new ge,this._latlngs=this._convertLatLngs(b)},_defaultShape:function(){return es(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(b){for(var T=[],j=es(b),X=0,ne=b.length;X<ne;X++)j?(T[X]=Te(b[X]),this._bounds.extend(T[X])):T[X]=this._convertLatLngs(b[X]);return T},_project:function(){var b=new se;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,b),this._bounds.isValid()&&b.isValid()&&(this._rawPxBounds=b,this._updateBounds())},_updateBounds:function(){var b=this._clickTolerance(),T=new x(b,b);!this._rawPxBounds||(this._pxBounds=new se([this._rawPxBounds.min.subtract(T),this._rawPxBounds.max.add(T)]))},_projectLatlngs:function(b,T,j){var X=b[0]instanceof ve,ne=b.length,fe,Se;if(X){for(Se=[],fe=0;fe<ne;fe++)Se[fe]=this._map.latLngToLayerPoint(b[fe]),j.extend(Se[fe]);T.push(Se)}else for(fe=0;fe<ne;fe++)this._projectLatlngs(b[fe],T,j)},_clipPoints:function(){var b=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(b))){if(this.options.noClip){this._parts=this._rings;return}var T=this._parts,j,X,ne,fe,Se,Re,Qe;for(j=0,ne=0,fe=this._rings.length;j<fe;j++)for(Qe=this._rings[j],X=0,Se=Qe.length;X<Se-1;X++)Re=m2(Qe[X],Qe[X+1],b,X,!0),Re&&(T[ne]=T[ne]||[],T[ne].push(Re[0]),(Re[1]!==Qe[X+1]||X===Se-2)&&(T[ne].push(Re[1]),ne++))}},_simplifyPoints:function(){for(var b=this._parts,T=this.options.smoothFactor,j=0,X=b.length;j<X;j++)b[j]=f2(b[j],T)},_update:function(){!this._map||(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(b,T){var j,X,ne,fe,Se,Re,Qe=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(b))return!1;for(j=0,fe=this._parts.length;j<fe;j++)for(Re=this._parts[j],X=0,Se=Re.length,ne=Se-1;X<Se;ne=X++)if(!(!T&&X===0)&&d2(b,Re[ne],Re[X])<=Qe)return!0;return!1}});function UR(b,T){return new $l(b,T)}$l._flat=p2;var pu=$l.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return v2(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(b){var T=$l.prototype._convertLatLngs.call(this,b),j=T.length;return j>=2&&T[0]instanceof ve&&T[0].equals(T[j-1])&&T.pop(),T},_setLatLngs:function(b){$l.prototype._setLatLngs.call(this,b),es(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return es(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var b=this._renderer._bounds,T=this.options.weight,j=new x(T,T);if(b=new se(b.min.subtract(j),b.max.add(j)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(b))){if(this.options.noClip){this._parts=this._rings;return}for(var X=0,ne=this._rings.length,fe;X<ne;X++)fe=g2(this._rings[X],b,!0),fe.length&&this._parts.push(fe)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(b){var T=!1,j,X,ne,fe,Se,Re,Qe,ot;if(!this._pxBounds||!this._pxBounds.contains(b))return!1;for(fe=0,Qe=this._parts.length;fe<Qe;fe++)for(j=this._parts[fe],Se=0,ot=j.length,Re=ot-1;Se<ot;Re=Se++)X=j[Se],ne=j[Re],X.y>b.y!=ne.y>b.y&&b.x<(ne.x-X.x)*(b.y-X.y)/(ne.y-X.y)+X.x&&(T=!T);return T||$l.prototype._containsPoint.call(this,b,!0)}});function qR(b,T){return new pu(b,T)}var Fl=wl.extend({initialize:function(b,T){g(this,T),this._layers={},b&&this.addData(b)},addData:function(b){var T=F(b)?b:b.features,j,X,ne;if(T){for(j=0,X=T.length;j<X;j++)ne=T[j],(ne.geometries||ne.geometry||ne.features||ne.coordinates)&&this.addData(ne);return this}var fe=this.options;if(fe.filter&&!fe.filter(b))return this;var Se=nh(b,fe);return Se?(Se.feature=sh(b),Se.defaultOptions=Se.options,this.resetStyle(Se),fe.onEachFeature&&fe.onEachFeature(b,Se),this.addLayer(Se)):this},resetStyle:function(b){return b===void 0?this.eachLayer(this.resetStyle,this):(b.options=r({},b.defaultOptions),this._setLayerStyle(b,this.options.style),this)},setStyle:function(b){return this.eachLayer(function(T){this._setLayerStyle(T,b)},this)},_setLayerStyle:function(b,T){b.setStyle&&(typeof T=="function"&&(T=T(b.feature)),b.setStyle(T))}});function nh(b,T){var j=b.type==="Feature"?b.geometry:b,X=j?j.coordinates:null,ne=[],fe=T&&T.pointToLayer,Se=T&&T.coordsToLatLng||O_,Re,Qe,ot,Tt;if(!X&&!j)return null;switch(j.type){case"Point":return Re=Se(X),y2(fe,b,Re,T);case"MultiPoint":for(ot=0,Tt=X.length;ot<Tt;ot++)Re=Se(X[ot]),ne.push(y2(fe,b,Re,T));return new wl(ne);case"LineString":case"MultiLineString":return Qe=ih(X,j.type==="LineString"?0:1,Se),new $l(Qe,T);case"Polygon":case"MultiPolygon":return Qe=ih(X,j.type==="Polygon"?1:2,Se),new pu(Qe,T);case"GeometryCollection":for(ot=0,Tt=j.geometries.length;ot<Tt;ot++){var Wt=nh({geometry:j.geometries[ot],type:"Feature",properties:b.properties},T);Wt&&ne.push(Wt)}return new wl(ne);case"FeatureCollection":for(ot=0,Tt=j.features.length;ot<Tt;ot++){var dn=nh(j.features[ot],T);dn&&ne.push(dn)}return new wl(ne);default:throw new Error("Invalid GeoJSON object.")}}function y2(b,T,j,X){return b?b(T,j):new eh(j,X&&X.markersInheritOptions&&X)}function O_(b){return new ve(b[1],b[0],b[2])}function ih(b,T,j){for(var X=[],ne=0,fe=b.length,Se;ne<fe;ne++)Se=T?ih(b[ne],T-1,j):(j||O_)(b[ne]),X.push(Se);return X}function I_(b,T){return b=Te(b),b.alt!==void 0?[d(b.lng,T),d(b.lat,T),d(b.alt,T)]:[d(b.lng,T),d(b.lat,T)]}function rh(b,T,j,X){for(var ne=[],fe=0,Se=b.length;fe<Se;fe++)ne.push(T?rh(b[fe],es(b[fe])?0:T-1,j,X):I_(b[fe],X));return!T&&j&&ne.push(ne[0].slice()),ne}function _u(b,T){return b.feature?r({},b.feature,{geometry:T}):sh(T)}function sh(b){return b.type==="Feature"||b.type==="FeatureCollection"?b:{type:"Feature",properties:{},geometry:b}}var B_={toGeoJSON:function(b){return _u(this,{type:"Point",coordinates:I_(this.getLatLng(),b)})}};eh.include(B_),L_.include(B_),th.include(B_),$l.include({toGeoJSON:function(b){var T=!es(this._latlngs),j=rh(this._latlngs,T?1:0,!1,b);return _u(this,{type:(T?"Multi":"")+"LineString",coordinates:j})}}),pu.include({toGeoJSON:function(b){var T=!es(this._latlngs),j=T&&!es(this._latlngs[0]),X=rh(this._latlngs,j?2:T?1:0,!0,b);return T||(X=[X]),_u(this,{type:(j?"Multi":"")+"Polygon",coordinates:X})}}),hu.include({toMultiPoint:function(b){var T=[];return this.eachLayer(function(j){T.push(j.toGeoJSON(b).geometry.coordinates)}),_u(this,{type:"MultiPoint",coordinates:T})},toGeoJSON:function(b){var T=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(T==="MultiPoint")return this.toMultiPoint(b);var j=T==="GeometryCollection",X=[];return this.eachLayer(function(ne){if(ne.toGeoJSON){var fe=ne.toGeoJSON(b);if(j)X.push(fe.geometry);else{var Se=sh(fe);Se.type==="FeatureCollection"?X.push.apply(X,Se.features):X.push(Se)}}}),j?_u(this,{geometries:X,type:"GeometryCollection"}):{type:"FeatureCollection",features:X}}});function w2(b,T){return new Fl(b,T)}var HR=w2,lh=ks.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(b,T,j){this._url=b,this._bounds=ae(T),g(this,j)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ce(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){he(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(b){return this.options.opacity=b,this._image&&this._updateOpacity(),this},setStyle:function(b){return b.opacity&&this.setOpacity(b.opacity),this},bringToFront:function(){return this._map&&be(this._image),this},bringToBack:function(){return this._map&&Oe(this._image),this},setUrl:function(b){return this._url=b,this._image&&(this._image.src=b),this},setBounds:function(b){return this._bounds=ae(b),this._map&&this._reset(),this},getEvents:function(){var b={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(b.zoomanim=this._animateZoom),b},setZIndex:function(b){return this.options.zIndex=b,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var b=this._url.tagName==="IMG",T=this._image=b?this._url:kn("img");if(Ce(T,"leaflet-image-layer"),this._zoomAnimated&&Ce(T,"leaflet-zoom-animated"),this.options.className&&Ce(T,this.options.className),T.onselectstart=f,T.onmousemove=f,T.onload=l(this.fire,this,"load"),T.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(T.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),b){this._url=T.src;return}T.src=this._url,T.alt=this.options.alt},_animateZoom:function(b){var T=this._map.getZoomScale(b.zoom),j=this._map._latLngBoundsToNewLayerBounds(this._bounds,b.zoom,b.center).min;Ht(this._image,j,T)},_reset:function(){var b=this._image,T=new se(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),j=T.getSize();jt(b,T.min),b.style.width=j.x+"px",b.style.height=j.y+"px"},_updateOpacity:function(){ct(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var b=this.options.errorOverlayUrl;b&&this._url!==b&&(this._url=b,this._image.src=b)},getCenter:function(){return this._bounds.getCenter()}}),WR=function(b,T,j){return new lh(b,T,j)},$2=lh.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var b=this._url.tagName==="VIDEO",T=this._image=b?this._url:kn("video");if(Ce(T,"leaflet-image-layer"),this._zoomAnimated&&Ce(T,"leaflet-zoom-animated"),this.options.className&&Ce(T,this.options.className),T.onselectstart=f,T.onmousemove=f,T.onloadeddata=l(this.fire,this,"load"),b){for(var j=T.getElementsByTagName("source"),X=[],ne=0;ne<j.length;ne++)X.push(j[ne].src);this._url=j.length>0?X:[T.src];return}F(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(T.style,"objectFit")&&(T.style.objectFit="fill"),T.autoplay=!!this.options.autoplay,T.loop=!!this.options.loop,T.muted=!!this.options.muted,T.playsInline=!!this.options.playsInline;for(var fe=0;fe<this._url.length;fe++){var Se=kn("source");Se.src=this._url[fe],T.appendChild(Se)}}});function VR(b,T,j){return new $2(b,T,j)}var F2=lh.extend({_initImage:function(){var b=this._image=this._url;Ce(b,"leaflet-image-layer"),this._zoomAnimated&&Ce(b,"leaflet-zoom-animated"),this.options.className&&Ce(b,this.options.className),b.onselectstart=f,b.onmousemove=f}});function GR(b,T,j){return new F2(b,T,j)}var Us=ks.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(b,T){b&&(b instanceof ve||F(b))?(this._latlng=Te(b),g(this,T)):(g(this,b),this._source=T),this.options.content&&(this._content=this.options.content)},openOn:function(b){return b=arguments.length?b:this._source._map,b.hasLayer(this)||b.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(b){return this._map?this.close():(arguments.length?this._source=b:b=this._source,this._prepareOpen(),this.openOn(b._map)),this},onAdd:function(b){this._zoomAnimated=b._zoomAnimated,this._container||this._initLayout(),b._fadeAnimated&&ct(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),b._fadeAnimated&&ct(this._container,1),this.bringToFront(),this.options.interactive&&(Ce(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(b){b._fadeAnimated?(ct(this._container,0),this._removeTimeout=setTimeout(l(he,void 0,this._container),200)):he(this._container),this.options.interactive&&(et(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(b){return this._latlng=Te(b),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(b){return this._content=b,this.update(),this},getElement:function(){return this._container},update:function(){!this._map||(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var b={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(b.zoomanim=this._animateZoom),b},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&be(this._container),this},bringToBack:function(){return this._map&&Oe(this._container),this},_prepareOpen:function(b){var T=this._source;if(!T._map)return!1;if(T instanceof wl){T=null;var j=this._source._layers;for(var X in j)if(j[X]._map){T=j[X];break}if(!T)return!1;this._source=T}if(!b)if(T.getCenter)b=T.getCenter();else if(T.getLatLng)b=T.getLatLng();else if(T.getBounds)b=T.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(b),this._map&&this.update(),!0},_updateContent:function(){if(!!this._content){var b=this._contentNode,T=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof T=="string")b.innerHTML=T;else{for(;b.hasChildNodes();)b.removeChild(b.firstChild);b.appendChild(T)}this.fire("contentupdate")}},_updatePosition:function(){if(!!this._map){var b=this._map.latLngToLayerPoint(this._latlng),T=J(this.options.offset),j=this._getAnchor();this._zoomAnimated?jt(this._container,b.add(j)):T=T.add(b).add(j);var X=this._containerBottom=-T.y,ne=this._containerLeft=-Math.round(this._containerWidth/2)+T.x;this._container.style.bottom=X+"px",this._container.style.left=ne+"px"}},_getAnchor:function(){return[0,0]}});yn.include({_initOverlay:function(b,T,j,X){var ne=T;return ne instanceof b||(ne=new b(X).setContent(T)),j&&ne.setLatLng(j),ne}}),ks.include({_initOverlay:function(b,T,j,X){var ne=j;return ne instanceof b?(g(ne,X),ne._source=this):(ne=T&&!X?T:new b(X,this),ne.setContent(j)),ne}});var oh=Us.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(b){return b=arguments.length?b:this._source._map,!b.hasLayer(this)&&b._popup&&b._popup.options.autoClose&&b.removeLayer(b._popup),b._popup=this,Us.prototype.openOn.call(this,b)},onAdd:function(b){Us.prototype.onAdd.call(this,b),b.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof oo||this._source.on("preclick",la))},onRemove:function(b){Us.prototype.onRemove.call(this,b),b.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof oo||this._source.off("preclick",la))},getEvents:function(){var b=Us.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(b.preclick=this.close),this.options.keepInView&&(b.moveend=this._adjustPan),b},_initLayout:function(){var b="leaflet-popup",T=this._container=kn("div",b+" "+(this.options.className||"")+" leaflet-zoom-animated"),j=this._wrapper=kn("div",b+"-content-wrapper",T);if(this._contentNode=kn("div",b+"-content",j),Vc(T),C_(this._contentNode),Qt(T,"contextmenu",la),this._tipContainer=kn("div",b+"-tip-container",T),this._tip=kn("div",b+"-tip",this._tipContainer),this.options.closeButton){var X=this._closeButton=kn("a",b+"-close-button",T);X.setAttribute("role","button"),X.setAttribute("aria-label","Close popup"),X.href="#close",X.innerHTML='<span aria-hidden="true">&#215;</span>',Qt(X,"click",function(ne){Hi(ne),this.close()},this)}},_updateLayout:function(){var b=this._contentNode,T=b.style;T.width="",T.whiteSpace="nowrap";var j=b.offsetWidth;j=Math.min(j,this.options.maxWidth),j=Math.max(j,this.options.minWidth),T.width=j+1+"px",T.whiteSpace="",T.height="";var X=b.offsetHeight,ne=this.options.maxHeight,fe="leaflet-popup-scrolled";ne&&X>ne?(T.height=ne+"px",Ce(b,fe)):et(b,fe),this._containerWidth=this._container.offsetWidth},_animateZoom:function(b){var T=this._map._latLngToNewLayerPoint(this._latlng,b.zoom,b.center),j=this._getAnchor();jt(this._container,T.add(j))},_adjustPan:function(){if(!!this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var b=this._map,T=parseInt(ra(this._container,"marginBottom"),10)||0,j=this._container.offsetHeight+T,X=this._containerWidth,ne=new x(this._containerLeft,-j-this._containerBottom);ne._add(cn(this._container));var fe=b.layerPointToContainerPoint(ne),Se=J(this.options.autoPanPadding),Re=J(this.options.autoPanPaddingTopLeft||Se),Qe=J(this.options.autoPanPaddingBottomRight||Se),ot=b.getSize(),Tt=0,Wt=0;fe.x+X+Qe.x>ot.x&&(Tt=fe.x+X-ot.x+Qe.x),fe.x-Tt-Re.x<0&&(Tt=fe.x-Re.x),fe.y+j+Qe.y>ot.y&&(Wt=fe.y+j-ot.y+Qe.y),fe.y-Wt-Re.y<0&&(Wt=fe.y-Re.y),(Tt||Wt)&&(this.options.keepInView&&(this._autopanning=!0),b.fire("autopanstart").panBy([Tt,Wt]))}},_getAnchor:function(){return J(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ZR=function(b,T){return new oh(b,T)};yn.mergeOptions({closePopupOnClick:!0}),yn.include({openPopup:function(b,T,j){return this._initOverlay(oh,b,T,j).openOn(this),this},closePopup:function(b){return b=arguments.length?b:this._popup,b&&b.close(),this}}),ks.include({bindPopup:function(b,T){return this._popup=this._initOverlay(oh,this._popup,b,T),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(b){return this._popup&&(this instanceof wl||(this._popup._source=this),this._popup._prepareOpen(b||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(b){return this._popup&&this._popup.setContent(b),this},getPopup:function(){return this._popup},_openPopup:function(b){if(!(!this._popup||!this._map)){oa(b);var T=b.layer||b.target;if(this._popup._source===T&&!(T instanceof oo)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(b.latlng);return}this._popup._source=T,this.openPopup(b.latlng)}},_movePopup:function(b){this._popup.setLatLng(b.latlng)},_onKeyPress:function(b){b.originalEvent.keyCode===13&&this._openPopup(b)}});var ah=Us.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(b){Us.prototype.onAdd.call(this,b),this.setOpacity(this.options.opacity),b.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(b){Us.prototype.onRemove.call(this,b),b.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var b=Us.prototype.getEvents.call(this);return this.options.permanent||(b.preclick=this.close),b},_initLayout:function(){var b="leaflet-tooltip",T=b+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=kn("div",T),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+a(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(b){var T,j,X=this._map,ne=this._container,fe=X.latLngToContainerPoint(X.getCenter()),Se=X.layerPointToContainerPoint(b),Re=this.options.direction,Qe=ne.offsetWidth,ot=ne.offsetHeight,Tt=J(this.options.offset),Wt=this._getAnchor();Re==="top"?(T=Qe/2,j=ot):Re==="bottom"?(T=Qe/2,j=0):Re==="center"?(T=Qe/2,j=ot/2):Re==="right"?(T=0,j=ot/2):Re==="left"?(T=Qe,j=ot/2):Se.x<fe.x?(Re="right",T=0,j=ot/2):(Re="left",T=Qe+(Tt.x+Wt.x)*2,j=ot/2),b=b.subtract(J(T,j,!0)).add(Tt).add(Wt),et(ne,"leaflet-tooltip-right"),et(ne,"leaflet-tooltip-left"),et(ne,"leaflet-tooltip-top"),et(ne,"leaflet-tooltip-bottom"),Ce(ne,"leaflet-tooltip-"+Re),jt(ne,b)},_updatePosition:function(){var b=this._map.latLngToLayerPoint(this._latlng);this._setPosition(b)},setOpacity:function(b){this.options.opacity=b,this._container&&ct(this._container,b)},_animateZoom:function(b){var T=this._map._latLngToNewLayerPoint(this._latlng,b.zoom,b.center);this._setPosition(T)},_getAnchor:function(){return J(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),xR=function(b,T){return new ah(b,T)};yn.include({openTooltip:function(b,T,j){return this._initOverlay(ah,b,T,j).openOn(this),this},closeTooltip:function(b){return b.close(),this}}),ks.include({bindTooltip:function(b,T){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ah,this._tooltip,b,T),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(b){if(!(!b&&this._tooltipHandlersAdded)){var T=b?"off":"on",j={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?j.add=this._openTooltip:(j.mouseover=this._openTooltip,j.mouseout=this.closeTooltip,j.click=this._openTooltip,this._map?this._addFocusListeners():j.add=this._addFocusListeners),this._tooltip.options.sticky&&(j.mousemove=this._moveTooltip),this[T](j),this._tooltipHandlersAdded=!b}},openTooltip:function(b){return this._tooltip&&(this instanceof wl||(this._tooltip._source=this),this._tooltip._prepareOpen(b)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(b){return this._tooltip&&this._tooltip.setContent(b),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(b){var T=b.getElement();T&&(Qt(T,"focus",function(){this._tooltip._source=b,this.openTooltip()},this),Qt(T,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(b){var T=b.getElement();T&&T.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(b){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=b.layer||b.target,this.openTooltip(this._tooltip.options.sticky?b.latlng:void 0))},_moveTooltip:function(b){var T=b.latlng,j,X;this._tooltip.options.sticky&&b.originalEvent&&(j=this._map.mouseEventToContainerPoint(b.originalEvent),X=this._map.containerPointToLayerPoint(j),T=this._map.layerPointToLatLng(X)),this._tooltip.setLatLng(T)}});var E2=mu.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(b){var T=b&&b.tagName==="DIV"?b:document.createElement("div"),j=this.options;if(j.html instanceof Element?(Ae(T),T.appendChild(j.html)):T.innerHTML=j.html!==!1?j.html:"",j.bgPos){var X=J(j.bgPos);T.style.backgroundPosition=-X.x+"px "+-X.y+"px"}return this._setIconStyles(T,"icon"),T},createShadow:function(){return null}});function XR(b){return new E2(b)}mu.Default=xc;var Xc=ks.extend({options:{tileSize:256,opacity:1,updateWhenIdle:yt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(b){g(this,b)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(b){b._addZoomLimit(this)},onRemove:function(b){this._removeAllTiles(),he(this._container),b._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(be(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Oe(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(b){return this.options.opacity=b,this._updateOpacity(),this},setZIndex:function(b){return this.options.zIndex=b,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var b=this._clampZoom(this._map.getZoom());b!==this._tileZoom&&(this._tileZoom=b,this._updateLevels()),this._update()}return this},getEvents:function(){var b={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=u(this._onMoveEnd,this.options.updateInterval,this)),b.move=this._onMove),this._zoomAnimated&&(b.zoomanim=this._animateZoom),b},createTile:function(){return document.createElement("div")},getTileSize:function(){var b=this.options.tileSize;return b instanceof x?b:new x(b,b)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(b){for(var T=this.getPane().children,j=-b(-1/0,1/0),X=0,ne=T.length,fe;X<ne;X++)fe=T[X].style.zIndex,T[X]!==this._container&&fe&&(j=b(j,+fe));isFinite(j)&&(this.options.zIndex=j+b(-1,1),this._updateZIndex())},_updateOpacity:function(){if(!!this._map&&!yt.ielt9){ct(this._container,this.options.opacity);var b=+new Date,T=!1,j=!1;for(var X in this._tiles){var ne=this._tiles[X];if(!(!ne.current||!ne.loaded)){var fe=Math.min(1,(b-ne.loaded)/200);ct(ne.el,fe),fe<1?T=!0:(ne.active?j=!0:this._onOpaqueTile(ne),ne.active=!0)}}j&&!this._noPrune&&this._pruneTiles(),T&&(H(this._fadeFrame),this._fadeFrame=q(this._updateOpacity,this))}},_onOpaqueTile:f,_initContainer:function(){this._container||(this._container=kn("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var b=this._tileZoom,T=this.options.maxZoom;if(b!==void 0){for(var j in this._levels)j=Number(j),this._levels[j].el.children.length||j===b?(this._levels[j].el.style.zIndex=T-Math.abs(b-j),this._onUpdateLevel(j)):(he(this._levels[j].el),this._removeTilesAtZoom(j),this._onRemoveLevel(j),delete this._levels[j]);var X=this._levels[b],ne=this._map;return X||(X=this._levels[b]={},X.el=kn("div","leaflet-tile-container leaflet-zoom-animated",this._container),X.el.style.zIndex=T,X.origin=ne.project(ne.unproject(ne.getPixelOrigin()),b).round(),X.zoom=b,this._setZoomTransform(X,ne.getCenter(),ne.getZoom()),f(X.el.offsetWidth),this._onCreateLevel(X)),this._level=X,X}},_onUpdateLevel:f,_onRemoveLevel:f,_onCreateLevel:f,_pruneTiles:function(){if(!!this._map){var b,T,j=this._map.getZoom();if(j>this.options.maxZoom||j<this.options.minZoom){this._removeAllTiles();return}for(b in this._tiles)T=this._tiles[b],T.retain=T.current;for(b in this._tiles)if(T=this._tiles[b],T.current&&!T.active){var X=T.coords;this._retainParent(X.x,X.y,X.z,X.z-5)||this._retainChildren(X.x,X.y,X.z,X.z+2)}for(b in this._tiles)this._tiles[b].retain||this._removeTile(b)}},_removeTilesAtZoom:function(b){for(var T in this._tiles)this._tiles[T].coords.z===b&&this._removeTile(T)},_removeAllTiles:function(){for(var b in this._tiles)this._removeTile(b)},_invalidateAll:function(){for(var b in this._levels)he(this._levels[b].el),this._onRemoveLevel(Number(b)),delete this._levels[b];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(b,T,j,X){var ne=Math.floor(b/2),fe=Math.floor(T/2),Se=j-1,Re=new x(+ne,+fe);Re.z=+Se;var Qe=this._tileCoordsToKey(Re),ot=this._tiles[Qe];return ot&&ot.active?(ot.retain=!0,!0):(ot&&ot.loaded&&(ot.retain=!0),Se>X?this._retainParent(ne,fe,Se,X):!1)},_retainChildren:function(b,T,j,X){for(var ne=2*b;ne<2*b+2;ne++)for(var fe=2*T;fe<2*T+2;fe++){var Se=new x(ne,fe);Se.z=j+1;var Re=this._tileCoordsToKey(Se),Qe=this._tiles[Re];if(Qe&&Qe.active){Qe.retain=!0;continue}else Qe&&Qe.loaded&&(Qe.retain=!0);j+1<X&&this._retainChildren(ne,fe,j+1,X)}},_resetView:function(b){var T=b&&(b.pinch||b.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),T,T)},_animateZoom:function(b){this._setView(b.center,b.zoom,!0,b.noUpdate)},_clampZoom:function(b){var T=this.options;return T.minNativeZoom!==void 0&&b<T.minNativeZoom?T.minNativeZoom:T.maxNativeZoom!==void 0&&T.maxNativeZoom<b?T.maxNativeZoom:b},_setView:function(b,T,j,X){var ne=Math.round(T);this.options.maxZoom!==void 0&&ne>this.options.maxZoom||this.options.minZoom!==void 0&&ne<this.options.minZoom?ne=void 0:ne=this._clampZoom(ne);var fe=this.options.updateWhenZooming&&ne!==this._tileZoom;(!X||fe)&&(this._tileZoom=ne,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),ne!==void 0&&this._update(b),j||this._pruneTiles(),this._noPrune=!!j),this._setZoomTransforms(b,T)},_setZoomTransforms:function(b,T){for(var j in this._levels)this._setZoomTransform(this._levels[j],b,T)},_setZoomTransform:function(b,T,j){var X=this._map.getZoomScale(j,b.zoom),ne=b.origin.multiplyBy(X).subtract(this._map._getNewPixelOrigin(T,j)).round();yt.any3d?Ht(b.el,ne,X):jt(b.el,ne)},_resetGrid:function(){var b=this._map,T=b.options.crs,j=this._tileSize=this.getTileSize(),X=this._tileZoom,ne=this._map.getPixelWorldBounds(this._tileZoom);ne&&(this._globalTileRange=this._pxBoundsToTileRange(ne)),this._wrapX=T.wrapLng&&!this.options.noWrap&&[Math.floor(b.project([0,T.wrapLng[0]],X).x/j.x),Math.ceil(b.project([0,T.wrapLng[1]],X).x/j.y)],this._wrapY=T.wrapLat&&!this.options.noWrap&&[Math.floor(b.project([T.wrapLat[0],0],X).y/j.x),Math.ceil(b.project([T.wrapLat[1],0],X).y/j.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(b){var T=this._map,j=T._animatingZoom?Math.max(T._animateToZoom,T.getZoom()):T.getZoom(),X=T.getZoomScale(j,this._tileZoom),ne=T.project(b,this._tileZoom).floor(),fe=T.getSize().divideBy(X*2);return new se(ne.subtract(fe),ne.add(fe))},_update:function(b){var T=this._map;if(!!T){var j=this._clampZoom(T.getZoom());if(b===void 0&&(b=T.getCenter()),this._tileZoom!==void 0){var X=this._getTiledPixelBounds(b),ne=this._pxBoundsToTileRange(X),fe=ne.getCenter(),Se=[],Re=this.options.keepBuffer,Qe=new se(ne.getBottomLeft().subtract([Re,-Re]),ne.getTopRight().add([Re,-Re]));if(!(isFinite(ne.min.x)&&isFinite(ne.min.y)&&isFinite(ne.max.x)&&isFinite(ne.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ot in this._tiles){var Tt=this._tiles[ot].coords;(Tt.z!==this._tileZoom||!Qe.contains(new x(Tt.x,Tt.y)))&&(this._tiles[ot].current=!1)}if(Math.abs(j-this._tileZoom)>1){this._setView(b,j);return}for(var Wt=ne.min.y;Wt<=ne.max.y;Wt++)for(var dn=ne.min.x;dn<=ne.max.x;dn++){var ts=new x(dn,Wt);if(ts.z=this._tileZoom,!!this._isValidTile(ts)){var ua=this._tiles[this._tileCoordsToKey(ts)];ua?ua.current=!0:Se.push(ts)}}if(Se.sort(function(ao,z_){return ao.distanceTo(fe)-z_.distanceTo(fe)}),Se.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ch=document.createDocumentFragment();for(dn=0;dn<Se.length;dn++)this._addTile(Se[dn],ch);this._level.el.appendChild(ch)}}}},_isValidTile:function(b){var T=this._map.options.crs;if(!T.infinite){var j=this._globalTileRange;if(!T.wrapLng&&(b.x<j.min.x||b.x>j.max.x)||!T.wrapLat&&(b.y<j.min.y||b.y>j.max.y))return!1}if(!this.options.bounds)return!0;var X=this._tileCoordsToBounds(b);return ae(this.options.bounds).overlaps(X)},_keyToBounds:function(b){return this._tileCoordsToBounds(this._keyToTileCoords(b))},_tileCoordsToNwSe:function(b){var T=this._map,j=this.getTileSize(),X=b.scaleBy(j),ne=X.add(j),fe=T.unproject(X,b.z),Se=T.unproject(ne,b.z);return[fe,Se]},_tileCoordsToBounds:function(b){var T=this._tileCoordsToNwSe(b),j=new ge(T[0],T[1]);return this.options.noWrap||(j=this._map.wrapLatLngBounds(j)),j},_tileCoordsToKey:function(b){return b.x+":"+b.y+":"+b.z},_keyToTileCoords:function(b){var T=b.split(":"),j=new x(+T[0],+T[1]);return j.z=+T[2],j},_removeTile:function(b){var T=this._tiles[b];!T||(he(T.el),delete this._tiles[b],this.fire("tileunload",{tile:T.el,coords:this._keyToTileCoords(b)}))},_initTile:function(b){Ce(b,"leaflet-tile");var T=this.getTileSize();b.style.width=T.x+"px",b.style.height=T.y+"px",b.onselectstart=f,b.onmousemove=f,yt.ielt9&&this.options.opacity<1&&ct(b,this.options.opacity)},_addTile:function(b,T){var j=this._getTilePos(b),X=this._tileCoordsToKey(b),ne=this.createTile(this._wrapCoords(b),l(this._tileReady,this,b));this._initTile(ne),this.createTile.length<2&&q(l(this._tileReady,this,b,null,ne)),jt(ne,j),this._tiles[X]={el:ne,coords:b,current:!0},T.appendChild(ne),this.fire("tileloadstart",{tile:ne,coords:b})},_tileReady:function(b,T,j){T&&this.fire("tileerror",{error:T,tile:j,coords:b});var X=this._tileCoordsToKey(b);j=this._tiles[X],j&&(j.loaded=+new Date,this._map._fadeAnimated?(ct(j.el,0),H(this._fadeFrame),this._fadeFrame=q(this._updateOpacity,this)):(j.active=!0,this._pruneTiles()),T||(Ce(j.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:j.el,coords:b})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),yt.ielt9||!this._map._fadeAnimated?q(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(b){return b.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(b){var T=new x(this._wrapX?c(b.x,this._wrapX):b.x,this._wrapY?c(b.y,this._wrapY):b.y);return T.z=b.z,T},_pxBoundsToTileRange:function(b){var T=this.getTileSize();return new se(b.min.unscaleBy(T).floor(),b.max.unscaleBy(T).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var b in this._tiles)if(!this._tiles[b].loaded)return!1;return!0}});function KR(b){return new Xc(b)}var gu=Xc.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(b,T){this._url=b,T=g(this,T),T.detectRetina&&yt.retina&&T.maxZoom>0?(T.tileSize=Math.floor(T.tileSize/2),T.zoomReverse?(T.zoomOffset--,T.minZoom=Math.min(T.maxZoom,T.minZoom+1)):(T.zoomOffset++,T.maxZoom=Math.max(T.minZoom,T.maxZoom-1)),T.minZoom=Math.max(0,T.minZoom)):T.zoomReverse?T.minZoom=Math.min(T.maxZoom,T.minZoom):T.maxZoom=Math.max(T.minZoom,T.maxZoom),typeof T.subdomains=="string"&&(T.subdomains=T.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(b,T){return this._url===b&&T===void 0&&(T=!0),this._url=b,T||this.redraw(),this},createTile:function(b,T){var j=document.createElement("img");return Qt(j,"load",l(this._tileOnLoad,this,T,j)),Qt(j,"error",l(this._tileOnError,this,T,j)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(j.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(j.referrerPolicy=this.options.referrerPolicy),j.alt="",j.src=this.getTileUrl(b),j},getTileUrl:function(b){var T={r:yt.retina?"@2x":"",s:this._getSubdomain(b),x:b.x,y:b.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var j=this._globalTileRange.max.y-b.y;this.options.tms&&(T.y=j),T["-y"]=j}return D(this._url,r(T,this.options))},_tileOnLoad:function(b,T){yt.ielt9?setTimeout(l(b,this,null,T),0):b(null,T)},_tileOnError:function(b,T,j){var X=this.options.errorTileUrl;X&&T.getAttribute("src")!==X&&(T.src=X),b(j,T)},_onTileRemove:function(b){b.tile.onload=null},_getZoomForUrl:function(){var b=this._tileZoom,T=this.options.maxZoom,j=this.options.zoomReverse,X=this.options.zoomOffset;return j&&(b=T-b),b+X},_getSubdomain:function(b){var T=Math.abs(b.x+b.y)%this.options.subdomains.length;return this.options.subdomains[T]},_abortLoading:function(){var b,T;for(b in this._tiles)if(this._tiles[b].coords.z!==this._tileZoom&&(T=this._tiles[b].el,T.onload=f,T.onerror=f,!T.complete)){T.src=S;var j=this._tiles[b].coords;he(T),delete this._tiles[b],this.fire("tileabort",{tile:T,coords:j})}},_removeTile:function(b){var T=this._tiles[b];if(!!T)return T.el.setAttribute("src",S),Xc.prototype._removeTile.call(this,b)},_tileReady:function(b,T,j){if(!(!this._map||j&&j.getAttribute("src")===S))return Xc.prototype._tileReady.call(this,b,T,j)}});function D2(b,T){return new gu(b,T)}var C2=gu.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(b,T){this._url=b;var j=r({},this.defaultWmsParams);for(var X in T)X in this.options||(j[X]=T[X]);T=g(this,T);var ne=T.detectRetina&&yt.retina?2:1,fe=this.getTileSize();j.width=fe.x*ne,j.height=fe.y*ne,this.wmsParams=j},onAdd:function(b){this._crs=this.options.crs||b.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var T=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[T]=this._crs.code,gu.prototype.onAdd.call(this,b)},getTileUrl:function(b){var T=this._tileCoordsToNwSe(b),j=this._crs,X=te(j.project(T[0]),j.project(T[1])),ne=X.min,fe=X.max,Se=(this._wmsVersion>=1.3&&this._crs===b2?[ne.y,ne.x,fe.y,fe.x]:[ne.x,ne.y,fe.x,fe.y]).join(","),Re=gu.prototype.getTileUrl.call(this,b);return Re+k(this.wmsParams,Re,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Se},setParams:function(b,T){return r(this.wmsParams,b),T||this.redraw(),this}});function JR(b,T){return new C2(b,T)}gu.WMS=C2,D2.wms=JR;var El=ks.extend({options:{padding:.1},initialize:function(b){g(this,b),a(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&Ce(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var b={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(b.zoomanim=this._onAnimZoom),b},_onAnimZoom:function(b){this._updateTransform(b.center,b.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(b,T){var j=this._map.getZoomScale(T,this._zoom),X=this._map.getSize().multiplyBy(.5+this.options.padding),ne=this._map.project(this._center,T),fe=X.multiplyBy(-j).add(ne).subtract(this._map._getNewPixelOrigin(b,T));yt.any3d?Ht(this._container,fe,j):jt(this._container,fe)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var b in this._layers)this._layers[b]._reset()},_onZoomEnd:function(){for(var b in this._layers)this._layers[b]._project()},_updatePaths:function(){for(var b in this._layers)this._layers[b]._update()},_update:function(){var b=this.options.padding,T=this._map.getSize(),j=this._map.containerPointToLayerPoint(T.multiplyBy(-b)).round();this._bounds=new se(j,j.add(T.multiplyBy(1+b*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),S2=El.extend({options:{tolerance:0},getEvents:function(){var b=El.prototype.getEvents.call(this);return b.viewprereset=this._onViewPreReset,b},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){El.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var b=this._container=document.createElement("canvas");Qt(b,"mousemove",this._onMouseMove,this),Qt(b,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Qt(b,"mouseout",this._handleMouseOut,this),b._leaflet_disable_events=!0,this._ctx=b.getContext("2d")},_destroyContainer:function(){H(this._redrawRequest),delete this._ctx,he(this._container),ti(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var b;this._redrawBounds=null;for(var T in this._layers)b=this._layers[T],b._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){El.prototype._update.call(this);var b=this._bounds,T=this._container,j=b.getSize(),X=yt.retina?2:1;jt(T,b.min),T.width=X*j.x,T.height=X*j.y,T.style.width=j.x+"px",T.style.height=j.y+"px",yt.retina&&this._ctx.scale(2,2),this._ctx.translate(-b.min.x,-b.min.y),this.fire("update")}},_reset:function(){El.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(b){this._updateDashArray(b),this._layers[a(b)]=b;var T=b._order={layer:b,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=T),this._drawLast=T,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(b){this._requestRedraw(b)},_removePath:function(b){var T=b._order,j=T.next,X=T.prev;j?j.prev=X:this._drawLast=X,X?X.next=j:this._drawFirst=j,delete b._order,delete this._layers[a(b)],this._requestRedraw(b)},_updatePath:function(b){this._extendRedrawBounds(b),b._project(),b._update(),this._requestRedraw(b)},_updateStyle:function(b){this._updateDashArray(b),this._requestRedraw(b)},_updateDashArray:function(b){if(typeof b.options.dashArray=="string"){var T=b.options.dashArray.split(/[, ]+/),j=[],X,ne;for(ne=0;ne<T.length;ne++){if(X=Number(T[ne]),isNaN(X))return;j.push(X)}b.options._dashArray=j}else b.options._dashArray=b.options.dashArray},_requestRedraw:function(b){!this._map||(this._extendRedrawBounds(b),this._redrawRequest=this._redrawRequest||q(this._redraw,this))},_extendRedrawBounds:function(b){if(b._pxBounds){var T=(b.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new se,this._redrawBounds.extend(b._pxBounds.min.subtract([T,T])),this._redrawBounds.extend(b._pxBounds.max.add([T,T]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var b=this._redrawBounds;if(b){var T=b.getSize();this._ctx.clearRect(b.min.x,b.min.y,T.x,T.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var b,T=this._redrawBounds;if(this._ctx.save(),T){var j=T.getSize();this._ctx.beginPath(),this._ctx.rect(T.min.x,T.min.y,j.x,j.y),this._ctx.clip()}this._drawing=!0;for(var X=this._drawFirst;X;X=X.next)b=X.layer,(!T||b._pxBounds&&b._pxBounds.intersects(T))&&b._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(b,T){if(!!this._drawing){var j,X,ne,fe,Se=b._parts,Re=Se.length,Qe=this._ctx;if(!!Re){for(Qe.beginPath(),j=0;j<Re;j++){for(X=0,ne=Se[j].length;X<ne;X++)fe=Se[j][X],Qe[X?"lineTo":"moveTo"](fe.x,fe.y);T&&Qe.closePath()}this._fillStroke(Qe,b)}}},_updateCircle:function(b){if(!(!this._drawing||b._empty())){var T=b._point,j=this._ctx,X=Math.max(Math.round(b._radius),1),ne=(Math.max(Math.round(b._radiusY),1)||X)/X;ne!==1&&(j.save(),j.scale(1,ne)),j.beginPath(),j.arc(T.x,T.y/ne,X,0,Math.PI*2,!1),ne!==1&&j.restore(),this._fillStroke(j,b)}},_fillStroke:function(b,T){var j=T.options;j.fill&&(b.globalAlpha=j.fillOpacity,b.fillStyle=j.fillColor||j.color,b.fill(j.fillRule||"evenodd")),j.stroke&&j.weight!==0&&(b.setLineDash&&b.setLineDash(T.options&&T.options._dashArray||[]),b.globalAlpha=j.opacity,b.lineWidth=j.weight,b.strokeStyle=j.color,b.lineCap=j.lineCap,b.lineJoin=j.lineJoin,b.stroke())},_onClick:function(b){for(var T=this._map.mouseEventToLayerPoint(b),j,X,ne=this._drawFirst;ne;ne=ne.next)j=ne.layer,j.options.interactive&&j._containsPoint(T)&&(!(b.type==="click"||b.type==="preclick")||!this._map._draggableMoved(j))&&(X=j);this._fireEvent(X?[X]:!1,b)},_onMouseMove:function(b){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var T=this._map.mouseEventToLayerPoint(b);this._handleMouseHover(b,T)}},_handleMouseOut:function(b){var T=this._hoveredLayer;T&&(et(this._container,"leaflet-interactive"),this._fireEvent([T],b,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(b,T){if(!this._mouseHoverThrottled){for(var j,X,ne=this._drawFirst;ne;ne=ne.next)j=ne.layer,j.options.interactive&&j._containsPoint(T)&&(X=j);X!==this._hoveredLayer&&(this._handleMouseOut(b),X&&(Ce(this._container,"leaflet-interactive"),this._fireEvent([X],b,"mouseover"),this._hoveredLayer=X)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,b),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(b,T,j){this._map._fireDOMEvent(T,j||T.type,b)},_bringToFront:function(b){var T=b._order;if(!!T){var j=T.next,X=T.prev;if(j)j.prev=X;else return;X?X.next=j:j&&(this._drawFirst=j),T.prev=this._drawLast,this._drawLast.next=T,T.next=null,this._drawLast=T,this._requestRedraw(b)}},_bringToBack:function(b){var T=b._order;if(!!T){var j=T.next,X=T.prev;if(X)X.next=j;else return;j?j.prev=X:X&&(this._drawLast=X),T.prev=null,T.next=this._drawFirst,this._drawFirst.prev=T,this._drawFirst=T,this._requestRedraw(b)}}});function T2(b){return yt.canvas?new S2(b):null}var Kc=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(b){return document.createElement("<lvml:"+b+' class="lvml">')}}catch{}return function(b){return document.createElement("<"+b+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),QR={_initContainer:function(){this._container=kn("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(El.prototype._update.call(this),this.fire("update"))},_initPath:function(b){var T=b._container=Kc("shape");Ce(T,"leaflet-vml-shape "+(this.options.className||"")),T.coordsize="1 1",b._path=Kc("path"),T.appendChild(b._path),this._updateStyle(b),this._layers[a(b)]=b},_addPath:function(b){var T=b._container;this._container.appendChild(T),b.options.interactive&&b.addInteractiveTarget(T)},_removePath:function(b){var T=b._container;he(T),b.removeInteractiveTarget(T),delete this._layers[a(b)]},_updateStyle:function(b){var T=b._stroke,j=b._fill,X=b.options,ne=b._container;ne.stroked=!!X.stroke,ne.filled=!!X.fill,X.stroke?(T||(T=b._stroke=Kc("stroke")),ne.appendChild(T),T.weight=X.weight+"px",T.color=X.color,T.opacity=X.opacity,X.dashArray?T.dashStyle=F(X.dashArray)?X.dashArray.join(" "):X.dashArray.replace(/( *, *)/g," "):T.dashStyle="",T.endcap=X.lineCap.replace("butt","flat"),T.joinstyle=X.lineJoin):T&&(ne.removeChild(T),b._stroke=null),X.fill?(j||(j=b._fill=Kc("fill")),ne.appendChild(j),j.color=X.fillColor||X.color,j.opacity=X.fillOpacity):j&&(ne.removeChild(j),b._fill=null)},_updateCircle:function(b){var T=b._point.round(),j=Math.round(b._radius),X=Math.round(b._radiusY||j);this._setPath(b,b._empty()?"M0 0":"AL "+T.x+","+T.y+" "+j+","+X+" 0,"+65535*360)},_setPath:function(b,T){b._path.v=T},_bringToFront:function(b){be(b._container)},_bringToBack:function(b){Oe(b._container)}},uh=yt.vml?Kc:kt,Jc=El.extend({_initContainer:function(){this._container=uh("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=uh("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){he(this._container),ti(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){El.prototype._update.call(this);var b=this._bounds,T=b.getSize(),j=this._container;(!this._svgSize||!this._svgSize.equals(T))&&(this._svgSize=T,j.setAttribute("width",T.x),j.setAttribute("height",T.y)),jt(j,b.min),j.setAttribute("viewBox",[b.min.x,b.min.y,T.x,T.y].join(" ")),this.fire("update")}},_initPath:function(b){var T=b._path=uh("path");b.options.className&&Ce(T,b.options.className),b.options.interactive&&Ce(T,"leaflet-interactive"),this._updateStyle(b),this._layers[a(b)]=b},_addPath:function(b){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(b._path),b.addInteractiveTarget(b._path)},_removePath:function(b){he(b._path),b.removeInteractiveTarget(b._path),delete this._layers[a(b)]},_updatePath:function(b){b._project(),b._update()},_updateStyle:function(b){var T=b._path,j=b.options;!T||(j.stroke?(T.setAttribute("stroke",j.color),T.setAttribute("stroke-opacity",j.opacity),T.setAttribute("stroke-width",j.weight),T.setAttribute("stroke-linecap",j.lineCap),T.setAttribute("stroke-linejoin",j.lineJoin),j.dashArray?T.setAttribute("stroke-dasharray",j.dashArray):T.removeAttribute("stroke-dasharray"),j.dashOffset?T.setAttribute("stroke-dashoffset",j.dashOffset):T.removeAttribute("stroke-dashoffset")):T.setAttribute("stroke","none"),j.fill?(T.setAttribute("fill",j.fillColor||j.color),T.setAttribute("fill-opacity",j.fillOpacity),T.setAttribute("fill-rule",j.fillRule||"evenodd")):T.setAttribute("fill","none"))},_updatePoly:function(b,T){this._setPath(b,Ze(b._parts,T))},_updateCircle:function(b){var T=b._point,j=Math.max(Math.round(b._radius),1),X=Math.max(Math.round(b._radiusY),1)||j,ne="a"+j+","+X+" 0 1,0 ",fe=b._empty()?"M0 0":"M"+(T.x-j)+","+T.y+ne+j*2+",0 "+ne+-j*2+",0 ";this._setPath(b,fe)},_setPath:function(b,T){b._path.setAttribute("d",T)},_bringToFront:function(b){be(b._path)},_bringToBack:function(b){Oe(b._path)}});yt.vml&&Jc.include(QR);function A2(b){return yt.svg||yt.vml?new Jc(b):null}yn.include({getRenderer:function(b){var T=b.options.renderer||this._getPaneRenderer(b.options.pane)||this.options.renderer||this._renderer;return T||(T=this._renderer=this._createRenderer()),this.hasLayer(T)||this.addLayer(T),T},_getPaneRenderer:function(b){if(b==="overlayPane"||b===void 0)return!1;var T=this._paneRenderers[b];return T===void 0&&(T=this._createRenderer({pane:b}),this._paneRenderers[b]=T),T},_createRenderer:function(b){return this.options.preferCanvas&&T2(b)||A2(b)}});var P2=pu.extend({initialize:function(b,T){pu.prototype.initialize.call(this,this._boundsToLatLngs(b),T)},setBounds:function(b){return this.setLatLngs(this._boundsToLatLngs(b))},_boundsToLatLngs:function(b){return b=ae(b),[b.getSouthWest(),b.getNorthWest(),b.getNorthEast(),b.getSouthEast()]}});function ej(b,T){return new P2(b,T)}Jc.create=uh,Jc.pointsToPath=Ze,Fl.geometryToLayer=nh,Fl.coordsToLatLng=O_,Fl.coordsToLatLngs=ih,Fl.latLngToCoords=I_,Fl.latLngsToCoords=rh,Fl.getFeature=_u,Fl.asFeature=sh,yn.mergeOptions({boxZoom:!0});var N2=Ys.extend({initialize:function(b){this._map=b,this._container=b._container,this._pane=b._panes.overlayPane,this._resetStateTimeout=0,b.on("unload",this._destroy,this)},addHooks:function(){Qt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ti(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){he(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(b){if(!b.shiftKey||b.which!==1&&b.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ei(),sa(),this._startPoint=this._map.mouseEventToContainerPoint(b),Qt(document,{contextmenu:oa,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(b){this._moved||(this._moved=!0,this._box=kn("div","leaflet-zoom-box",this._container),Ce(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(b);var T=new se(this._point,this._startPoint),j=T.getSize();jt(this._box,T.min),this._box.style.width=j.x+"px",this._box.style.height=j.y+"px"},_finish:function(){this._moved&&(he(this._box),et(this._container,"leaflet-crosshair")),Zn(),qc(),ti(document,{contextmenu:oa,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(b){if(!(b.which!==1&&b.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var T=new ge(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(T).fire("boxzoomend",{boxZoomBounds:T})}},_onKeyDown:function(b){b.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});yn.addInitHook("addHandler","boxZoom",N2),yn.mergeOptions({doubleClickZoom:!0});var M2=Ys.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(b){var T=this._map,j=T.getZoom(),X=T.options.zoomDelta,ne=b.originalEvent.shiftKey?j-X:j+X;T.options.doubleClickZoom==="center"?T.setZoom(ne):T.setZoomAround(b.containerPoint,ne)}});yn.addInitHook("addHandler","doubleClickZoom",M2),yn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var L2=Ys.extend({addHooks:function(){if(!this._draggable){var b=this._map;this._draggable=new lo(b._mapPane,b._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),b.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),b.on("zoomend",this._onZoomEnd,this),b.whenReady(this._onZoomEnd,this))}Ce(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){et(this._map._container,"leaflet-grab"),et(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var b=this._map;if(b._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var T=ae(this._map.options.maxBounds);this._offsetLimit=te(this._map.latLngToContainerPoint(T.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(T.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;b.fire("movestart").fire("dragstart"),b.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(b){if(this._map.options.inertia){var T=this._lastTime=+new Date,j=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(j),this._times.push(T),this._prunePositions(T)}this._map.fire("move",b).fire("drag",b)},_prunePositions:function(b){for(;this._positions.length>1&&b-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var b=this._map.getSize().divideBy(2),T=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=T.subtract(b).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(b,T){return b-(b-T)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var b=this._draggable._newPos.subtract(this._draggable._startPos),T=this._offsetLimit;b.x<T.min.x&&(b.x=this._viscousLimit(b.x,T.min.x)),b.y<T.min.y&&(b.y=this._viscousLimit(b.y,T.min.y)),b.x>T.max.x&&(b.x=this._viscousLimit(b.x,T.max.x)),b.y>T.max.y&&(b.y=this._viscousLimit(b.y,T.max.y)),this._draggable._newPos=this._draggable._startPos.add(b)}},_onPreDragWrap:function(){var b=this._worldWidth,T=Math.round(b/2),j=this._initialWorldOffset,X=this._draggable._newPos.x,ne=(X-T+j)%b+T-j,fe=(X+T+j)%b-T-j,Se=Math.abs(ne+j)<Math.abs(fe+j)?ne:fe;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Se},_onDragEnd:function(b){var T=this._map,j=T.options,X=!j.inertia||b.noInertia||this._times.length<2;if(T.fire("dragend",b),X)T.fire("moveend");else{this._prunePositions(+new Date);var ne=this._lastPos.subtract(this._positions[0]),fe=(this._lastTime-this._times[0])/1e3,Se=j.easeLinearity,Re=ne.multiplyBy(Se/fe),Qe=Re.distanceTo([0,0]),ot=Math.min(j.inertiaMaxSpeed,Qe),Tt=Re.multiplyBy(ot/Qe),Wt=ot/(j.inertiaDeceleration*Se),dn=Tt.multiplyBy(-Wt/2).round();!dn.x&&!dn.y?T.fire("moveend"):(dn=T._limitOffset(dn,T.options.maxBounds),q(function(){T.panBy(dn,{duration:Wt,easeLinearity:Se,noMoveStart:!0,animate:!0})}))}}});yn.addInitHook("addHandler","dragging",L2),yn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var O2=Ys.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(b){this._map=b,this._setPanDelta(b.options.keyboardPanDelta),this._setZoomDelta(b.options.zoomDelta)},addHooks:function(){var b=this._map._container;b.tabIndex<=0&&(b.tabIndex="0"),Qt(b,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ti(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var b=document.body,T=document.documentElement,j=b.scrollTop||T.scrollTop,X=b.scrollLeft||T.scrollLeft;this._map._container.focus(),window.scrollTo(X,j)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(b){var T=this._panKeys={},j=this.keyCodes,X,ne;for(X=0,ne=j.left.length;X<ne;X++)T[j.left[X]]=[-1*b,0];for(X=0,ne=j.right.length;X<ne;X++)T[j.right[X]]=[b,0];for(X=0,ne=j.down.length;X<ne;X++)T[j.down[X]]=[0,b];for(X=0,ne=j.up.length;X<ne;X++)T[j.up[X]]=[0,-1*b]},_setZoomDelta:function(b){var T=this._zoomKeys={},j=this.keyCodes,X,ne;for(X=0,ne=j.zoomIn.length;X<ne;X++)T[j.zoomIn[X]]=b;for(X=0,ne=j.zoomOut.length;X<ne;X++)T[j.zoomOut[X]]=-b},_addHooks:function(){Qt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ti(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(b){if(!(b.altKey||b.ctrlKey||b.metaKey)){var T=b.keyCode,j=this._map,X;if(T in this._panKeys){if(!j._panAnim||!j._panAnim._inProgress)if(X=this._panKeys[T],b.shiftKey&&(X=J(X).multiplyBy(3)),j.options.maxBounds&&(X=j._limitOffset(J(X),j.options.maxBounds)),j.options.worldCopyJump){var ne=j.wrapLatLng(j.unproject(j.project(j.getCenter()).add(X)));j.panTo(ne)}else j.panBy(X)}else if(T in this._zoomKeys)j.setZoom(j.getZoom()+(b.shiftKey?3:1)*this._zoomKeys[T]);else if(T===27&&j._popup&&j._popup.options.closeOnEscapeKey)j.closePopup();else return;oa(b)}}});yn.addInitHook("addHandler","keyboard",O2),yn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var I2=Ys.extend({addHooks:function(){Qt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ti(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(b){var T=l2(b),j=this._map.options.wheelDebounceTime;this._delta+=T,this._lastMousePos=this._map.mouseEventToContainerPoint(b),this._startTime||(this._startTime=+new Date);var X=Math.max(j-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),X),oa(b)},_performZoom:function(){var b=this._map,T=b.getZoom(),j=this._map.options.zoomSnap||0;b._stop();var X=this._delta/(this._map.options.wheelPxPerZoomLevel*4),ne=4*Math.log(2/(1+Math.exp(-Math.abs(X))))/Math.LN2,fe=j?Math.ceil(ne/j)*j:ne,Se=b._limitZoom(T+(this._delta>0?fe:-fe))-T;this._delta=0,this._startTime=null,Se&&(b.options.scrollWheelZoom==="center"?b.setZoom(T+Se):b.setZoomAround(this._lastMousePos,T+Se))}});yn.addInitHook("addHandler","scrollWheelZoom",I2);var tj=600;yn.mergeOptions({tapHold:yt.touchNative&&yt.safari&&yt.mobile,tapTolerance:15});var B2=Ys.extend({addHooks:function(){Qt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ti(this._map._container,"touchstart",this._onDown,this)},_onDown:function(b){if(clearTimeout(this._holdTimeout),b.touches.length===1){var T=b.touches[0];this._startPos=this._newPos=new x(T.clientX,T.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(Qt(document,"touchend",Hi),Qt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",T))},this),tj),Qt(document,"touchend touchcancel contextmenu",this._cancel,this),Qt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function b(){ti(document,"touchend",Hi),ti(document,"touchend touchcancel",b)},_cancel:function(){clearTimeout(this._holdTimeout),ti(document,"touchend touchcancel contextmenu",this._cancel,this),ti(document,"touchmove",this._onMove,this)},_onMove:function(b){var T=b.touches[0];this._newPos=new x(T.clientX,T.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(b,T){var j=new MouseEvent(b,{bubbles:!0,cancelable:!0,view:window,screenX:T.screenX,screenY:T.screenY,clientX:T.clientX,clientY:T.clientY});j._simulated=!0,T.target.dispatchEvent(j)}});yn.addInitHook("addHandler","tapHold",B2),yn.mergeOptions({touchZoom:yt.touch,bounceAtZoomLimits:!0});var z2=Ys.extend({addHooks:function(){Ce(this._map._container,"leaflet-touch-zoom"),Qt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){et(this._map._container,"leaflet-touch-zoom"),ti(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(b){var T=this._map;if(!(!b.touches||b.touches.length!==2||T._animatingZoom||this._zooming)){var j=T.mouseEventToContainerPoint(b.touches[0]),X=T.mouseEventToContainerPoint(b.touches[1]);this._centerPoint=T.getSize()._divideBy(2),this._startLatLng=T.containerPointToLatLng(this._centerPoint),T.options.touchZoom!=="center"&&(this._pinchStartLatLng=T.containerPointToLatLng(j.add(X)._divideBy(2))),this._startDist=j.distanceTo(X),this._startZoom=T.getZoom(),this._moved=!1,this._zooming=!0,T._stop(),Qt(document,"touchmove",this._onTouchMove,this),Qt(document,"touchend touchcancel",this._onTouchEnd,this),Hi(b)}},_onTouchMove:function(b){if(!(!b.touches||b.touches.length!==2||!this._zooming)){var T=this._map,j=T.mouseEventToContainerPoint(b.touches[0]),X=T.mouseEventToContainerPoint(b.touches[1]),ne=j.distanceTo(X)/this._startDist;if(this._zoom=T.getScaleZoom(ne,this._startZoom),!T.options.bounceAtZoomLimits&&(this._zoom<T.getMinZoom()&&ne<1||this._zoom>T.getMaxZoom()&&ne>1)&&(this._zoom=T._limitZoom(this._zoom)),T.options.touchZoom==="center"){if(this._center=this._startLatLng,ne===1)return}else{var fe=j._add(X)._divideBy(2)._subtract(this._centerPoint);if(ne===1&&fe.x===0&&fe.y===0)return;this._center=T.unproject(T.project(this._pinchStartLatLng,this._zoom).subtract(fe),this._zoom)}this._moved||(T._moveStart(!0,!1),this._moved=!0),H(this._animRequest);var Se=l(T._move,T,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=q(Se,this,!0),Hi(b)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,H(this._animRequest),ti(document,"touchmove",this._onTouchMove,this),ti(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});yn.addInitHook("addHandler","touchZoom",z2),yn.BoxZoom=N2,yn.DoubleClickZoom=M2,yn.Drag=L2,yn.Keyboard=O2,yn.ScrollWheelZoom=I2,yn.TapHold=B2,yn.TouchZoom=z2,t.Bounds=se,t.Browser=yt,t.CRS=Pe,t.Canvas=S2,t.Circle=L_,t.CircleMarker=th,t.Class=G,t.Control=bs,t.DivIcon=E2,t.DivOverlay=Us,t.DomEvent=bR,t.DomUtil=gR,t.Draggable=lo,t.Evented=V,t.FeatureGroup=wl,t.GeoJSON=Fl,t.GridLayer=Xc,t.Handler=Ys,t.Icon=mu,t.ImageOverlay=lh,t.LatLng=ve,t.LatLngBounds=ge,t.Layer=ks,t.LayerGroup=hu,t.LineUtil=PR,t.Map=yn,t.Marker=eh,t.Mixin=DR,t.Path=oo,t.Point=x,t.PolyUtil=NR,t.Polygon=pu,t.Polyline=$l,t.Popup=oh,t.PosAnimation=o2,t.Projection=MR,t.Rectangle=P2,t.Renderer=El,t.SVG=Jc,t.SVGOverlay=F2,t.TileLayer=gu,t.Tooltip=ah,t.Transformation=st,t.Util=K,t.VideoOverlay=$2,t.bind=l,t.bounds=te,t.canvas=T2,t.circle=YR,t.circleMarker=jR,t.control=Gc,t.divIcon=XR,t.extend=r,t.featureGroup=BR,t.geoJSON=w2,t.geoJson=HR,t.gridLayer=KR,t.icon=zR,t.imageOverlay=WR,t.latLng=Te,t.latLngBounds=ae,t.layerGroup=IR,t.map=kR,t.marker=RR,t.point=J,t.polygon=qR,t.polyline=UR,t.popup=ZR,t.rectangle=ej,t.setOptions=g,t.stamp=a,t.svg=A2,t.svgOverlay=GR,t.tileLayer=D2,t.tooltip=xR,t.transformation=dt,t.version=n,t.videoOverlay=VR;var nj=window.L;t.noConflict=function(){return window.L=nj,this},window.L=t})})(Le,Le.exports);const uo=Le.exports;var i_=window.XMLHttpRequest&&"withCredentials"in new window.XMLHttpRequest,ho=document.documentElement.style.pointerEvents==="",ya={cors:i_,pointerEvents:ho},R6e={attributionWidthOffset:55},_5=0;function r_(i){var e="";i.f=i.f||"json";for(var t in i)if(i.hasOwnProperty(t)){var n=i[t],r=Object.prototype.toString.call(n),s;e.length&&(e+="&"),r==="[object Array]"?s=Object.prototype.toString.call(n[0])==="[object Object]"?JSON.stringify(n):n.join(","):r==="[object Object]"?s=JSON.stringify(n):r==="[object Date]"?s=n.valueOf():s=n,e+=encodeURIComponent(t)+"="+encodeURIComponent(s)}return e}function fb(i,e){var t=new window.XMLHttpRequest;return t.onerror=function(n){t.onreadystatechange=Le.exports.Util.falseFn,i.call(e,{error:{code:500,message:"XMLHttpRequest error"}},null)},t.onreadystatechange=function(){var n,r;if(t.readyState===4){try{n=JSON.parse(t.responseText)}catch{n=null,r={code:500,message:"Could not parse response as JSON. This could also be caused by a CORS or XMLHttpRequest error."}}!r&&n.error&&(r=n.error,n=null),t.onerror=Le.exports.Util.falseFn,i.call(e,r,n)}},t.ontimeout=function(){this.onerror()},t}function j6e(i,e,t,n){var r=fb(t,n);return r.open("POST",i),typeof n<"u"&&n!==null&&typeof n.options<"u"&&(r.timeout=n.options.timeout),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),r.send(r_(e)),r}function eB(i,e,t,n){var r=fb(t,n);return r.open("GET",i+"?"+r_(e),!0),typeof n<"u"&&n!==null&&typeof n.options<"u"&&(r.timeout=n.options.timeout,n.options.withCredentials&&(r.withCredentials=!0)),r.send(null),r}function tB(i,e,t,n){var r=r_(e),s=fb(t,n),l=(i+"?"+r).length;if(l<=2e3&&ya.cors?s.open("GET",i+"?"+r):l>2e3&&ya.cors&&(s.open("POST",i),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8")),typeof n<"u"&&n!==null&&typeof n.options<"u"&&(s.timeout=n.options.timeout,n.options.withCredentials&&(s.withCredentials=!0)),l<=2e3&&ya.cors)s.send(null);else if(l>2e3&&ya.cors)s.send(r);else{if(l<=2e3&&!ya.cors)return db(i,e,t,n);Oo("a request to "+i+" was longer then 2000 characters and this browser cannot make a cross-domain post request. Please use a proxy http://esri.github.io/esri-leaflet/api-reference/request.html");return}return s}function db(i,e,t,n){window._EsriLeafletCallbacks=window._EsriLeafletCallbacks||{};var r="c"+_5;e.callback="window._EsriLeafletCallbacks."+r,window._EsriLeafletCallbacks[r]=function(l){if(window._EsriLeafletCallbacks[r]!==!0){var o,a=Object.prototype.toString.call(l);a==="[object Object]"||a==="[object Array]"||(o={error:{code:500,message:"Expected array or object as JSONP response"}},l=null),!o&&l.error&&(o=l,l=null),t.call(n,o,l),window._EsriLeafletCallbacks[r]=!0}};var s=Le.exports.DomUtil.create("script",null,document.body);return s.type="text/javascript",s.src=i+"?"+r_(e),s.id=r,s.onerror=function(l){if(l&&window._EsriLeafletCallbacks[r]!==!0){var o={error:{code:500,message:"An unknown error occurred"}};t.call(n,o),window._EsriLeafletCallbacks[r]=!0}},Le.exports.DomUtil.addClass(s,"esri-leaflet-jsonp"),_5++,{id:r,url:s.src,abort:function(){window._EsriLeafletCallbacks._callback[r]({code:0,message:"Request aborted."})}}}var hb=ya.cors?eB:db;hb.CORS=eB;hb.JSONP=db;function Oo(){console&&console.warn&&console.warn.apply(console,arguments)}var zm={request:tB,get:hb,post:j6e};/* @preserve
* @terraformer/arcgis - v2.1.1 - MIT
* Copyright (c) 2012-2022 Environmental Systems Research Institute, Inc.
* Tue Aug 02 2022 14:23:48 GMT-0700 (Pacific Daylight Time)
*/var Y6e=function(e,t,n,r){var s=(r[0]-n[0])*(e[1]-n[1])-(r[1]-n[1])*(e[0]-n[0]),l=(t[0]-e[0])*(e[1]-n[1])-(t[1]-e[1])*(e[0]-n[0]),o=(r[1]-n[1])*(t[0]-e[0])-(r[0]-n[0])*(t[1]-e[1]);if(o!==0){var a=s/o,u=l/o;if(a>=0&&a<=1&&u>=0&&u<=1)return!0}return!1},U6e=function(e,t){for(var n=!1,r=-1,s=e.length,l=s-1;++r<s;l=r)(e[r][1]<=t[1]&&t[1]<e[l][1]||e[l][1]<=t[1]&&t[1]<e[r][1])&&t[0]<(e[l][0]-e[r][0])*(t[1]-e[r][1])/(e[l][1]-e[r][1])+e[r][0]&&(n=!n);return n},q6e=function(e,t){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},nB=function(e,t){for(var n=0;n<e.length-1;n++)for(var r=0;r<t.length-1;r++)if(Y6e(e[n],e[n+1],t[r],t[r+1]))return!0;return!1},U1=function(e){return q6e(e[0],e[e.length-1])||e.push(e[0]),e},q1=function(e){var t=0,n=0,r=e.length,s=e[n],l;for(n;n<r-1;n++)l=e[n+1],t+=(l[0]-s[0])*(l[1]+s[1]),s=l;return t>=0},iB=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},H6e=function(e,t){var n=nB(e,t),r=U6e(e,t[0]);return!!(!n&&r)},W6e=function(e){for(var t=[],n=[],r,s,l,o=0;o<e.length;o++){var a=U1(e[o].slice(0));if(!(a.length<4))if(q1(a)){var u=[a.slice().reverse()];t.push(u)}else n.push(a.slice().reverse())}for(var c=[];n.length;){l=n.pop();var f=!1;for(r=t.length-1;r>=0;r--)if(s=t[r][0],H6e(s,l)){t[r].push(l),f=!0;break}f||c.push(l)}for(;c.length;){l=c.pop();var d=!1;for(r=t.length-1;r>=0;r--)if(s=t[r][0],nB(s,l)){t[r].push(l),d=!0;break}d||t.push([l.reverse()])}return t.length===1?{type:"Polygon",coordinates:t[0]}:{type:"MultiPolygon",coordinates:t}},V6e=function(e,t){for(var n=t?[t,"OBJECTID","FID"]:["OBJECTID","FID"],r=0;r<n.length;r++){var s=n[r];if(s in e&&(typeof e[s]=="string"||typeof e[s]=="number"))return e[s]}throw Error("No valid id attribute found")},G6e=function i(e,t){var n={};if(e.features){n.type="FeatureCollection",n.features=[];for(var r=0;r<e.features.length;r++)n.features.push(i(e.features[r],t))}if(typeof e.x=="number"&&typeof e.y=="number"&&(n.type="Point",n.coordinates=[e.x,e.y],typeof e.z=="number"&&n.coordinates.push(e.z)),e.points&&(n.type="MultiPoint",n.coordinates=e.points.slice(0)),e.paths&&(e.paths.length===1?(n.type="LineString",n.coordinates=e.paths[0].slice(0)):(n.type="MultiLineString",n.coordinates=e.paths.slice(0))),e.rings&&(n=W6e(e.rings.slice(0))),typeof e.xmin=="number"&&typeof e.ymin=="number"&&typeof e.xmax=="number"&&typeof e.ymax=="number"&&(n.type="Polygon",n.coordinates=[[[e.xmax,e.ymax],[e.xmin,e.ymax],[e.xmin,e.ymin],[e.xmax,e.ymin],[e.xmax,e.ymax]]]),(e.geometry||e.attributes)&&(n.type="Feature",n.geometry=e.geometry?i(e.geometry):null,n.properties=e.attributes?iB(e.attributes):null,e.attributes))try{n.id=V6e(e.attributes,t)}catch{}return JSON.stringify(n.geometry)===JSON.stringify({})&&(n.geometry=null),e.spatialReference&&e.spatialReference.wkid&&e.spatialReference.wkid!==4326&&console.warn("Object converted in non-standard crs - "+JSON.stringify(e.spatialReference)),n},rB=function(e){var t=[],n=e.slice(0),r=U1(n.shift().slice(0));if(r.length>=4){q1(r)||r.reverse(),t.push(r);for(var s=0;s<n.length;s++){var l=U1(n[s].slice(0));l.length>=4&&(q1(l)&&l.reverse(),t.push(l))}}return t},Z6e=function(e){for(var t=[],n=0;n<e.length;n++)for(var r=rB(e[n]),s=r.length-1;s>=0;s--){var l=r[s].slice(0);t.push(l)}return t},x6e=function i(e,t){t=t||"OBJECTID";var n={wkid:4326},r={},s;switch(e.type){case"Point":r.x=e.coordinates[0],r.y=e.coordinates[1],e.coordinates[2]!=null&&(r.z=e.coordinates[2]),r.spatialReference=n;break;case"MultiPoint":r.points=e.coordinates.slice(0),e.coordinates[0][2]!=null&&(r.hasZ=!0),r.spatialReference=n;break;case"LineString":r.paths=[e.coordinates.slice(0)],e.coordinates[0][2]!=null&&(r.hasZ=!0),r.spatialReference=n;break;case"MultiLineString":r.paths=e.coordinates.slice(0),e.coordinates[0][0][2]!=null&&(r.hasZ=!0),r.spatialReference=n;break;case"Polygon":r.rings=rB(e.coordinates.slice(0)),e.coordinates[0][0][2]!=null&&(r.hasZ=!0),r.spatialReference=n;break;case"MultiPolygon":r.rings=Z6e(e.coordinates.slice(0)),e.coordinates[0][0][0][2]!=null&&(r.hasZ=!0),r.spatialReference=n;break;case"Feature":e.geometry&&(r.geometry=i(e.geometry,t)),r.attributes=e.properties?iB(e.properties):{},e.id&&(r.attributes[t]=e.id);break;case"FeatureCollection":for(r=[],s=0;s<e.features.length;s++)r.push(i(e.features[s],t));break;case"GeometryCollection":for(r=[],s=0;s<e.geometries.length;s++)r.push(i(e.geometries[s],t));break}return r},sB='<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>',X6e='Powered by <a href="https://www.esri.com">Esri</a>';function fd(i,e){return x6e(i,e)}function lB(i,e){return G6e(i,e)}function H1(i){if(i.xmin!=="NaN"&&i.ymin!=="NaN"&&i.xmax!=="NaN"&&i.ymax!=="NaN"){var e=Le.exports.latLng(i.ymin,i.xmin),t=Le.exports.latLng(i.ymax,i.xmax);return Le.exports.latLngBounds(e,t)}else return null}function mb(i){return i=Le.exports.latLngBounds(i),{xmin:i.getSouthWest().lng,ymin:i.getSouthWest().lat,xmax:i.getNorthEast().lng,ymax:i.getNorthEast().lat,spatialReference:{wkid:4326}}}var oB=/^(OBJECTID|FID|OID|ID)$/i;function aB(i){var e;if(i.objectIdFieldName)e=i.objectIdFieldName;else if(i.fields){for(var t=0;t<=i.fields.length-1;t++)if(i.fields[t].type==="esriFieldTypeOID"){e=i.fields[t].name;break}if(!e){for(t=0;t<=i.fields.length-1;t++)if(i.fields[t].name.match(oB)){e=i.fields[t].name;break}}}return e}function uB(i){for(var e in i.attributes)if(e.match(oB))return e}function Hd(i,e){var t,n=i.features||i.results,r=n&&n.length;e?t=e:t=aB(i);var s={type:"FeatureCollection",features:[]};if(r)for(var l=n.length-1;l>=0;l--){var o=lB(n[l],t||uB(n[l]));s.features.push(o)}return s}function s_(i){return i=Le.exports.Util.trim(i),i[i.length-1]!=="/"&&(i+="/"),i}function Wd(i){if(i.url.indexOf("?")!==-1){i.requestParams=i.requestParams||{};var e=i.url.substring(i.url.indexOf("?")+1);i.url=i.url.split("?")[0],i.requestParams=JSON.parse('{"'+decodeURI(e).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}')}return i.url=s_(i.url.split("?")[0]),i}function cB(i){return/^(?!.*utility\.arcgis\.com).*\.arcgis\.com.*FeatureServer/i.test(i)}function W1(i){var e;switch(i){case"Point":e="esriGeometryPoint";break;case"MultiPoint":e="esriGeometryMultipoint";break;case"LineString":e="esriGeometryPolyline";break;case"MultiLineString":e="esriGeometryPolyline";break;case"Polygon":e="esriGeometryPolygon";break;case"MultiPolygon":e="esriGeometryPolygon";break}return e}function Rm(i){return i.getSize().x-R6e.attributionWidthOffset+"px"}function Vd(i){if(!!i.attributionControl){if(i.attributionControl._esriAttributionLayerCount||(i.attributionControl._esriAttributionLayerCount=0),i.attributionControl._esriAttributionLayerCount===0){if(!i.attributionControl._esriAttributionAddedOnce){var e=document.createElement("style");e.type="text/css",e.innerHTML=".esri-truncated-attribution:hover {white-space: normal;}",document.getElementsByTagName("head")[0].appendChild(e);var t=document.createElement("style");t.type="text/css",t.innerHTML=".esri-truncated-attribution {vertical-align: -3px;white-space: nowrap;overflow: hidden;text-overflow: ellipsis;display: inline-block;transition: 0s white-space;transition-delay: 1s;max-width: "+Rm(i)+";}",document.getElementsByTagName("head")[0].appendChild(t),i.on("resize",function(n){i.attributionControl&&(i.attributionControl._container.style.maxWidth=Rm(n.target))}),i.attributionControl._esriAttributionAddedOnce=!0}i.attributionControl.setPrefix(sB+" | "+X6e),Le.exports.DomUtil.addClass(i.attributionControl._container,"esri-truncated-attribution:hover"),Le.exports.DomUtil.addClass(i.attributionControl._container,"esri-truncated-attribution")}i.attributionControl._esriAttributionLayerCount=i.attributionControl._esriAttributionLayerCount+1}}function l_(i){!i.attributionControl||(i.attributionControl._esriAttributionLayerCount&&i.attributionControl._esriAttributionLayerCount===1&&(i.attributionControl.setPrefix(sB),Le.exports.DomUtil.removeClass(i.attributionControl._container,"esri-truncated-attribution:hover"),Le.exports.DomUtil.removeClass(i.attributionControl._container,"esri-truncated-attribution")),i.attributionControl._esriAttributionLayerCount=i.attributionControl._esriAttributionLayerCount-1)}function pb(i){var e={geometry:null,geometryType:null};if(i instanceof Le.exports.LatLngBounds)return e.geometry=mb(i),e.geometryType="esriGeometryEnvelope",e;if(i.getLatLng&&(i=i.getLatLng()),i instanceof Le.exports.LatLng&&(i={type:"Point",coordinates:[i.lng,i.lat]}),i instanceof Le.exports.GeoJSON&&(i=i.getLayers()[0].feature.geometry,e.geometry=fd(i),e.geometryType=W1(i.type)),i.toGeoJSON&&(i=i.toGeoJSON()),i.type==="Feature"&&(i=i.geometry),i.type==="Point"||i.type==="LineString"||i.type==="Polygon"||i.type==="MultiPolygon")return e.geometry=fd(i),e.geometryType=W1(i.type),e;Oo("invalid geometry passed to spatial query. Should be L.LatLng, L.LatLngBounds, L.Marker or a GeoJSON Point, Line, Polygon or MultiPolygon object")}function fB(i,e){ya.cors&&tB(i,{},Le.exports.Util.bind(function(t,n){if(!t){e._esriAttributions=[];for(var r=0;r<n.contributors.length;r++)for(var s=n.contributors[r],l=0;l<s.coverageAreas.length;l++){var o=s.coverageAreas[l],a=Le.exports.latLng(o.bbox[0],o.bbox[1]),u=Le.exports.latLng(o.bbox[2],o.bbox[3]);e._esriAttributions.push({attribution:s.attribution,score:o.score,bounds:Le.exports.latLngBounds(a,u),minZoom:o.zoomMin,maxZoom:o.zoomMax})}e._esriAttributions.sort(function(f,d){return d.score-f.score});var c={target:e};jm(c)}},this))}function jm(i){var e=i.target,t=e._esriAttributions;if(!(!e||!e.attributionControl)){var n=e.attributionControl._container.querySelector(".esri-dynamic-attribution");if(n&&t){for(var r="",s=e.getBounds(),l=Le.exports.latLngBounds(s.getSouthWest().wrap(),s.getNorthEast().wrap()),o=e.getZoom(),a=0;a<t.length;a++){var u=t[a],c=u.attribution;!r.match(c)&&u.bounds.intersects(l)&&o>=u.minZoom&&o<=u.maxZoom&&(r+=", "+c)}r=r.substr(2),n.innerHTML=r,n.style.maxWidth=Rm(e),e.fire("attributionupdated",{attribution:r})}}}var Ym={warn:Oo,cleanUrl:s_,getUrlParams:Wd,isArcgisOnline:cB,geojsonTypeToArcGIS:W1,responseToFeatureCollection:Hd,geojsonToArcGIS:fd,arcgisToGeoJSON:lB,boundsToExtent:mb,extentToBounds:H1,calcAttributionWidth:Rm,setEsriAttribution:Vd,_setGeometry:pb,_getAttributionData:fB,_updateMapAttribution:jm,_findIdAttributeFromFeature:uB,_findIdAttributeFromResponse:aB},Ul=Le.exports.Class.extend({options:{proxy:!1,useCors:i_},generateSetter:function(i,e){return Le.exports.Util.bind(function(t){return this.params[i]=t,this},e)},initialize:function(i){if(i.request&&i.options?(this._service=i,Le.exports.Util.setOptions(this,i.options)):(Le.exports.Util.setOptions(this,i),this.options.url=s_(i.url)),this.params=Le.exports.Util.extend({},this.params||{}),this.setters)for(var e in this.setters){var t=this.setters[e];this[e]=this.generateSetter(t,this)}},token:function(i){return this._service?this._service.authenticate(i):this.params.token=i,this},format:function(i){return this.params.returnUnformattedValues=!i,this},request:function(i,e){return this.options.requestParams&&Le.exports.Util.extend(this.params,this.options.requestParams),this._service?this._service.request(this.path,this.params,i,e):this._request("request",this.path,this.params,i,e)},_request:function(i,e,t,n,r){var s=this.options.proxy?this.options.proxy+"?"+this.options.url+e:this.options.url+e;return(i==="get"||i==="request")&&!this.options.useCors?zm.get.JSONP(s,t,n,r):zm[i](s,t,n,r)}}),K6e=Ul.extend({setters:{offset:"resultOffset",limit:"resultRecordCount",fields:"outFields",precision:"geometryPrecision",featureIds:"objectIds",returnGeometry:"returnGeometry",returnM:"returnM",transform:"datumTransformation",token:"token"},path:"query",params:{returnGeometry:!0,where:"1=1",outSR:4326,outFields:"*"},within:function(i){return this._setGeometryParams(i),this.params.spatialRel="esriSpatialRelContains",this},intersects:function(i){return this._setGeometryParams(i),this.params.spatialRel="esriSpatialRelIntersects",this},contains:function(i){return this._setGeometryParams(i),this.params.spatialRel="esriSpatialRelWithin",this},crosses:function(i){return this._setGeometryParams(i),this.params.spatialRel="esriSpatialRelCrosses",this},touches:function(i){return this._setGeometryParams(i),this.params.spatialRel="esriSpatialRelTouches",this},overlaps:function(i){return this._setGeometryParams(i),this.params.spatialRel="esriSpatialRelOverlaps",this},bboxIntersects:function(i){return this._setGeometryParams(i),this.params.spatialRel="esriSpatialRelEnvelopeIntersects",this},indexIntersects:function(i){return this._setGeometryParams(i),this.params.spatialRel="esriSpatialRelIndexIntersects",this},nearby:function(i,e){return i=Le.exports.latLng(i),this.params.geometry=[i.lng,i.lat],this.params.geometryType="esriGeometryPoint",this.params.spatialRel="esriSpatialRelIntersects",this.params.units="esriSRUnit_Meter",this.params.distance=e,this.params.inSR=4326,this},where:function(i){return this.params.where=i,this},between:function(i,e){return this.params.time=[i.valueOf(),e.valueOf()],this},simplify:function(i,e){var t=Math.abs(i.getBounds().getWest()-i.getBounds().getEast());return this.params.maxAllowableOffset=t/i.getSize().y*e,this},orderBy:function(i,e){return e=e||"ASC",this.params.orderByFields=this.params.orderByFields?this.params.orderByFields+",":"",this.params.orderByFields+=[i,e].join(" "),this},run:function(i,e){return this._cleanParams(),this.options.isModern||cB(this.options.url)&&this.options.isModern===void 0?(this.params.f="geojson",this.request(function(t,n){this._trapSQLerrors(t),i.call(e,t,n,n)},this)):this.request(function(t,n){this._trapSQLerrors(t),i.call(e,t,n&&Hd(n),n)},this)},count:function(i,e){return this._cleanParams(),this.params.returnCountOnly=!0,this.request(function(t,n){i.call(this,t,n&&n.count,n)},e)},ids:function(i,e){return this._cleanParams(),this.params.returnIdsOnly=!0,this.request(function(t,n){i.call(this,t,n&&n.objectIds,n)},e)},bounds:function(i,e){return this._cleanParams(),this.params.returnExtentOnly=!0,this.request(function(t,n){n&&n.extent&&H1(n.extent)?i.call(e,t,H1(n.extent),n):(t={message:"Invalid Bounds"},i.call(e,t,null,n))},e)},distinct:function(){return this.params.returnGeometry=!1,this.params.returnDistinctValues=!0,this},pixelSize:function(i){var e=Le.exports.point(i);return this.params.pixelSize=[e.x,e.y],this},layer:function(i){return this.path=i+"/query",this},_trapSQLerrors:function(i){i&&i.code==="400"&&Oo("one common syntax error in query requests is encasing string values in double quotes instead of single quotes")},_cleanParams:function(){delete this.params.returnIdsOnly,delete this.params.returnExtentOnly,delete this.params.returnCountOnly},_setGeometryParams:function(i){this.params.inSR=4326;var e=pb(i);this.params.geometry=e.geometry,this.params.geometryType=e.geometryType}});function _b(i){return new K6e(i)}var J6e=Ul.extend({setters:{contains:"contains",text:"searchText",fields:"searchFields",spatialReference:"sr",sr:"sr",layers:"layers",returnGeometry:"returnGeometry",maxAllowableOffset:"maxAllowableOffset",precision:"geometryPrecision",dynamicLayers:"dynamicLayers",returnZ:"returnZ",returnM:"returnM",gdbVersion:"gdbVersion",token:"token"},path:"find",params:{sr:4326,contains:!0,returnGeometry:!0,returnZ:!0,returnM:!1},layerDefs:function(i,e){return this.params.layerDefs=this.params.layerDefs?this.params.layerDefs+";":"",this.params.layerDefs+=[i,e].join(":"),this},simplify:function(i,e){var t=Math.abs(i.getBounds().getWest()-i.getBounds().getEast());return this.params.maxAllowableOffset=t/i.getSize().y*e,this},run:function(i,e){return this.request(function(t,n){i.call(e,t,n&&Hd(n),n)},e)}});function Q6e(i){return new J6e(i)}var dB=Ul.extend({path:"identify",between:function(i,e){return this.params.time=[i.valueOf(),e.valueOf()],this}}),e5e=dB.extend({setters:{layers:"layers",precision:"geometryPrecision",tolerance:"tolerance",returnGeometry:"returnGeometry"},params:{sr:4326,layers:"all",tolerance:3,returnGeometry:!0},on:function(i){var e=mb(i.getBounds()),t=i.getSize();return this.params.imageDisplay=[t.x,t.y,96],this.params.mapExtent=[e.xmin,e.ymin,e.xmax,e.ymax],this},at:function(i){return i.length===2&&(i=Le.exports.latLng(i)),this._setGeometryParams(i),this},layerDef:function(i,e){return this.params.layerDefs=this.params.layerDefs?this.params.layerDefs+";":"",this.params.layerDefs+=[i,e].join(":"),this},simplify:function(i,e){var t=Math.abs(i.getBounds().getWest()-i.getBounds().getEast());return this.params.maxAllowableOffset=t/i.getSize().y*e,this},run:function(i,e){return this.request(function(t,n){if(t){i.call(e,t,void 0,n);return}else{var r=Hd(n);n.results=n.results.reverse();for(var s=0;s<r.features.length;s++){var l=r.features[s];l.layerId=n.results[s].layerId}i.call(e,void 0,r,n)}})},_setGeometryParams:function(i){var e=pb(i);this.params.geometry=e.geometry,this.params.geometryType=e.geometryType}});function t5e(i){return new e5e(i)}var n5e=dB.extend({setters:{setMosaicRule:"mosaicRule",setRenderingRule:"renderingRule",setPixelSize:"pixelSize",returnCatalogItems:"returnCatalogItems",returnGeometry:"returnGeometry"},params:{returnGeometry:!1},at:function(i){return i=Le.exports.latLng(i),this.params.geometry=JSON.stringify({x:i.lng,y:i.lat,spatialReference:{wkid:4326}}),this.params.geometryType="esriGeometryPoint",this},getMosaicRule:function(){return this.params.mosaicRule},getRenderingRule:function(){return this.params.renderingRule},getPixelSize:function(){return this.params.pixelSize},run:function(i,e){return this.request(function(t,n){i.call(e,t,n&&this._responseToGeoJSON(n),n)},this)},_responseToGeoJSON:function(i){var e=i.location,t=i.catalogItems,n=i.catalogItemVisibilities,r={pixel:{type:"Feature",geometry:{type:"Point",coordinates:[e.x,e.y]},crs:{type:"EPSG",properties:{code:e.spatialReference.wkid}},properties:{OBJECTID:i.objectId,name:i.name,value:i.value},id:i.objectId}};if(i.properties&&i.properties.Values&&(r.pixel.properties.values=i.properties.Values),t&&t.features&&(r.catalogItems=Hd(t),n&&n.length===r.catalogItems.features.length))for(var s=n.length-1;s>=0;s--)r.catalogItems.features[s].properties.catalogItemVisibility=n[s];return r}});function i5e(i){return new n5e(i)}var Wu=Le.exports.Evented.extend({options:{proxy:!1,useCors:i_,timeout:0},initialize:function(i){i=i||{},this._requestQueue=[],this._authenticating=!1,Le.exports.Util.setOptions(this,i),this.options.url=s_(this.options.url)},get:function(i,e,t,n){return this._request("get",i,e,t,n)},post:function(i,e,t,n){return this._request("post",i,e,t,n)},request:function(i,e,t,n){return this._request("request",i,e,t,n)},metadata:function(i,e){return this._request("get","",{},i,e)},authenticate:function(i){return this._authenticating=!1,this.options.token=i,this._runQueue(),this},getTimeout:function(){return this.options.timeout},setTimeout:function(i){this.options.timeout=i},_request:function(i,e,t,n,r){this.fire("requeststart",{url:this.options.url+e,params:t,method:i},!0);var s=this._createServiceCallback(i,e,t,n,r);if(this.options.token&&(t.token=this.options.token),this.options.requestParams&&Le.exports.Util.extend(t,this.options.requestParams),this._authenticating){this._requestQueue.push([i,e,t,n,r]);return}else{var l=this.options.proxy?this.options.proxy+"?"+this.options.url+e:this.options.url+e;return(i==="get"||i==="request")&&!this.options.useCors?zm.get.JSONP(l,t,s,r):zm[i](l,t,s,r)}},_createServiceCallback:function(i,e,t,n,r){return Le.exports.Util.bind(function(s,l){s&&(s.code===499||s.code===498)&&(this._authenticating=!0,this._requestQueue.push([i,e,t,n,r]),this.fire("authenticationrequired",{authenticate:Le.exports.Util.bind(this.authenticate,this)},!0),s.authenticate=Le.exports.Util.bind(this.authenticate,this)),n.call(r,s,l),s?this.fire("requesterror",{url:this.options.url+e,params:t,message:s.message,code:s.code,method:i},!0):this.fire("requestsuccess",{url:this.options.url+e,params:t,response:l,method:i},!0),this.fire("requestend",{url:this.options.url+e,params:t,method:i},!0)},this)},_runQueue:function(){for(var i=this._requestQueue.length-1;i>=0;i--){var e=this._requestQueue[i],t=e.shift();this[t].apply(this,e)}this._requestQueue=[]}}),V1=Wu.extend({identify:function(){return t5e(this)},find:function(){return Q6e(this)},query:function(){return _b(this)}});function hB(i){return new V1(i)}var r5e=Wu.extend({query:function(){return _b(this)},identify:function(){return i5e(this)}});function s5e(i){return new r5e(i)}var G1=Wu.extend({options:{idAttribute:"OBJECTID"},query:function(){return _b(this)},addFeature:function(i,e,t){this.addFeatures(i,e,t)},addFeatures:function(i,e,t){for(var n=i.features?i.features:[i],r=n.length-1;r>=0;r--)delete n[r].id;return i=fd(i),i=n.length>1?i:[i],this.post("addFeatures",{features:i},function(s,l){var o=l&&l.addResults?l.addResults.length>1?l.addResults:l.addResults[0]:void 0;e&&e.call(t,s||l.addResults[0].error,o)},t)},updateFeature:function(i,e,t){this.updateFeatures(i,e,t)},updateFeatures:function(i,e,t){var n=i.features?i.features:[i];return i=fd(i,this.options.idAttribute),i=n.length>1?i:[i],this.post("updateFeatures",{features:i},function(r,s){var l=s&&s.updateResults?s.updateResults.length>1?s.updateResults:s.updateResults[0]:void 0;e&&e.call(t,r||s.updateResults[0].error,l)},t)},deleteFeature:function(i,e,t){this.deleteFeatures(i,e,t)},deleteFeatures:function(i,e,t){return this.post("deleteFeatures",{objectIds:i},function(n,r){var s=r&&r.deleteResults?r.deleteResults.length>1?r.deleteResults:r.deleteResults[0]:void 0;e&&e.call(t,n||r.deleteResults[0].error,s)},t)}});function l5e(i){return new G1(i)}var Ai=window.location.protocol!=="https:"?"http:":"https:",g5=Le.exports.TileLayer.extend({statics:{TILES:{Streets:{urlTemplate:Ai+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],attribution:"USGS, NOAA",attributionUrl:"https://static.arcgis.com/attribution/World_Street_Map"}},Topographic:{urlTemplate:Ai+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],attribution:"USGS, NOAA",attributionUrl:"https://static.arcgis.com/attribution/World_Topo_Map"}},Oceans:{urlTemplate:Ai+"//{s}.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"USGS, NOAA",attributionUrl:"https://static.arcgis.com/attribution/Ocean_Basemap"}},OceansLabels:{urlTemplate:Ai+"//{s}.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],pane:ho?"esri-labels":"tilePane",attribution:""}},NationalGeographic:{urlTemplate:Ai+"//{s}.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"National Geographic, DeLorme, HERE, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, increment P Corp."}},DarkGray:{urlTemplate:Ai+"//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"HERE, DeLorme, MapmyIndia, &copy; OpenStreetMap contributors"}},DarkGrayLabels:{urlTemplate:Ai+"//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Reference/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],pane:ho?"esri-labels":"tilePane",attribution:""}},Gray:{urlTemplate:Ai+"//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"HERE, DeLorme, MapmyIndia, &copy; OpenStreetMap contributors"}},GrayLabels:{urlTemplate:Ai+"//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],pane:ho?"esri-labels":"tilePane",attribution:""}},Imagery:{urlTemplate:Ai+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],attribution:"DigitalGlobe, GeoEye, i-cubed, USDA, USGS, AEX, Getmapping, Aerogrid, IGN, IGP, swisstopo, and the GIS User Community",attributionUrl:"https://static.arcgis.com/attribution/World_Imagery"}},ImageryLabels:{urlTemplate:Ai+"//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],pane:ho?"esri-labels":"tilePane",attribution:""}},ImageryTransportation:{urlTemplate:Ai+"//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Transportation/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],pane:ho?"esri-labels":"tilePane",attribution:""}},ShadedRelief:{urlTemplate:Ai+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Shaded_Relief/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:13,subdomains:["server","services"],attribution:"USGS"}},ShadedReliefLabels:{urlTemplate:Ai+"//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places_Alternate/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:12,subdomains:["server","services"],pane:ho?"esri-labels":"tilePane",attribution:""}},Terrain:{urlTemplate:Ai+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:13,subdomains:["server","services"],attribution:"USGS, NOAA"}},TerrainLabels:{urlTemplate:Ai+"//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:13,subdomains:["server","services"],pane:ho?"esri-labels":"tilePane",attribution:""}},USATopo:{urlTemplate:Ai+"//{s}.arcgisonline.com/ArcGIS/rest/services/USA_Topo_Maps/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:15,subdomains:["server","services"],attribution:"USGS, National Geographic Society, i-cubed"}},ImageryClarity:{urlTemplate:Ai+"//clarity.maptiles.arcgis.com/arcgis/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,attribution:"Esri, DigitalGlobe, GeoEye, Earthstar Geographics, CNES/Airbus DS, USDA, USGS, AeroGRID, IGN, and the GIS User Community"}},Physical:{urlTemplate:Ai+"//{s}.arcgisonline.com/arcgis/rest/services/World_Physical_Map/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:8,subdomains:["server","services"],attribution:"U.S. National Park Service"}},ImageryFirefly:{urlTemplate:Ai+"//fly.maptiles.arcgis.com/arcgis/rest/services/World_Imagery_Firefly/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,attribution:"Esri, DigitalGlobe, GeoEye, Earthstar Geographics, CNES/Airbus DS, USDA, USGS, AeroGRID, IGN, and the GIS User Community",attributionUrl:"https://static.arcgis.com/attribution/World_Imagery"}}}},initialize:function(i,e){var t;if(typeof i=="object"&&i.urlTemplate&&i.options)t=i;else if(typeof i=="string"&&g5.TILES[i])t=g5.TILES[i];else throw new Error('L.esri.BasemapLayer: Invalid parameter. Use one of "Streets", "Topographic", "Oceans", "OceansLabels", "NationalGeographic", "Physical", "Gray", "GrayLabels", "DarkGray", "DarkGrayLabels", "Imagery", "ImageryLabels", "ImageryTransportation", "ImageryClarity", "ImageryFirefly", ShadedRelief", "ShadedReliefLabels", "Terrain", "TerrainLabels" or "USATopo"');var n=Le.exports.Util.extend(t.options,e);Le.exports.Util.setOptions(this,n),this.options.token&&t.urlTemplate.indexOf("token=")===-1&&(t.urlTemplate+="?token="+this.options.token),this.options.proxy&&(t.urlTemplate=this.options.proxy+"?"+t.urlTemplate),Le.exports.TileLayer.prototype.initialize.call(this,t.urlTemplate,n)},onAdd:function(i){Vd(i),this.options.pane==="esri-labels"&&this._initPane(),this.options.attributionUrl&&fB((this.options.proxy?this.options.proxy+"?":"")+this.options.attributionUrl,i),i.on("moveend",jm),Le.exports.TileLayer.prototype.onAdd.call(this,i)},onRemove:function(i){l_(i),i.off("moveend",jm),Le.exports.TileLayer.prototype.onRemove.call(this,i)},_initPane:function(){if(!this._map.getPane(this.options.pane)){var i=this._map.createPane(this.options.pane);i.style.pointerEvents="none",i.style.zIndex=500}},getAttribution:function(){if(this.options.attribution)var i='<span class="esri-dynamic-attribution">'+this.options.attribution+"</span>";return i}}),o5e=Le.exports.TileLayer.extend({options:{zoomOffsetAllowance:.1,errorTileUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEABAMAAACuXLVVAAAAA1BMVEUzNDVszlHHAAAAAXRSTlMAQObYZgAAAAlwSFlzAAAAAAAAAAAB6mUWpAAAADZJREFUeJztwQEBAAAAgiD/r25IQAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA7waBAAABw08RwAAAAABJRU5ErkJggg=="},statics:{MercatorZoomLevels:{0:156543.033928,1:78271.5169639999,2:39135.7584820001,3:19567.8792409999,4:9783.93962049996,5:4891.96981024998,6:2445.98490512499,7:1222.99245256249,8:611.49622628138,9:305.748113140558,10:152.874056570411,11:76.4370282850732,12:38.2185141425366,13:19.1092570712683,14:9.55462853563415,15:4.77731426794937,16:2.38865713397468,17:1.19432856685505,18:.597164283559817,19:.298582141647617,20:.14929107082381,21:.07464553541191,22:.0373227677059525,23:.0186613838529763}},initialize:function(i){i=Le.exports.Util.setOptions(this,i),i=Wd(i),this.tileUrl=(i.proxy?i.proxy+"?":"")+i.url+"tile/{z}/{y}/{x}"+(i.requestParams&&Object.keys(i.requestParams).length>0?Le.exports.Util.getParamString(i.requestParams):""),i.url.indexOf("{s}")!==-1&&i.subdomains&&(i.url=i.url.replace("{s}",i.subdomains[0])),this.service=hB(i),this.service.addEventParent(this);var e=new RegExp(/tiles.arcgis(online)?\.com/g);e.test(i.url)&&(this.tileUrl=this.tileUrl.replace("://tiles","://tiles{s}"),i.subdomains=["1","2","3","4"]),this.options.token&&(this.tileUrl+="?token="+this.options.token),Le.exports.TileLayer.prototype.initialize.call(this,this.tileUrl,i)},getTileUrl:function(i){var e=this._getZoomForUrl();return Le.exports.Util.template(this.tileUrl,Le.exports.Util.extend({s:this._getSubdomain(i),x:i.x,y:i.y,z:this._lodMap&&this._lodMap[e]?this._lodMap[e]:e},this.options))},createTile:function(i,e){var t=document.createElement("img");return Le.exports.DomEvent.on(t,"load",Le.exports.Util.bind(this._tileOnLoad,this,e,t)),Le.exports.DomEvent.on(t,"error",Le.exports.Util.bind(this._tileOnError,this,e,t)),this.options.crossOrigin&&(t.crossOrigin=""),t.alt="",!this._lodMap||this._lodMap&&this._lodMap[this._getZoomForUrl()]?t.src=this.getTileUrl(i):this.once("lodmap",function(){t.src=this.getTileUrl(i)},this),t},onAdd:function(i){Vd(i),this._lodMap||this.metadata(function(e,t){if(!e&&t.spatialReference){var n=t.spatialReference.latestWkid||t.spatialReference.wkid;if(!this.options.attribution&&i.attributionControl&&t.copyrightText&&(this.options.attribution=t.copyrightText,i.attributionControl.addAttribution(this.getAttribution())),i.options.crs===Le.exports.CRS.EPSG3857&&(n===102100||n===3857)){this._lodMap={};for(var r=t.tileInfo.lods,s=o5e.MercatorZoomLevels,l=0;l<r.length;l++){var o=r[l];for(var a in s){var u=s[a];if(this._withinPercentage(o.resolution,u,this.options.zoomOffsetAllowance)){this._lodMap[a]=o.level;break}}}this.fire("lodmap")}else i.options.crs&&i.options.crs.code&&i.options.crs.code.indexOf(n)>-1||Oo("L.esri.TiledMapLayer is using a non-mercator spatial reference. Support may be available through Proj4Leaflet http://esri.github.io/esri-leaflet/examples/non-mercator-projection.html")}},this),Le.exports.TileLayer.prototype.onAdd.call(this,i)},onRemove:function(i){l_(i)},metadata:function(i,e){return this.service.metadata(i,e),this},identify:function(){return this.service.identify()},find:function(){return this.service.find()},query:function(){return this.service.query()},authenticate:function(i){var e="?token="+i;return this.tileUrl=this.options.token?this.tileUrl.replace(/\?token=(.+)/g,e):this.tileUrl+e,this.options.token=i,this.service.authenticate(i),this},_withinPercentage:function(i,e,t){var n=Math.abs(i/e-1);return n<t}}),a5e=Le.exports.ImageOverlay.extend({onAdd:function(i){this._topLeft=i.getPixelBounds().min,Le.exports.ImageOverlay.prototype.onAdd.call(this,i)},_reset:function(){this._map.options.crs===Le.exports.CRS.EPSG3857?Le.exports.ImageOverlay.prototype._reset.call(this):Le.exports.DomUtil.setPosition(this._image,this._topLeft.subtract(this._map.getPixelOrigin()))}}),mB=Le.exports.Layer.extend({options:{opacity:1,position:"front",f:"image",useCors:i_,attribution:null,interactive:!1,alt:""},onAdd:function(i){Vd(i),this.options.zIndex&&(this.options.position=null),this._update=Le.exports.Util.throttle(this._update,this.options.updateInterval,this),i.on("moveend",this._update,this),this._currentImage&&this._currentImage._bounds.equals(this._map.getBounds())?i.addLayer(this._currentImage):this._currentImage&&(this._map.removeLayer(this._currentImage),this._currentImage=null),this._update(),this._popup&&(this._map.on("click",this._getPopupData,this),this._map.on("dblclick",this._resetPopupState,this)),this.metadata(function(e,t){!e&&!this.options.attribution&&i.attributionControl&&t.copyrightText&&(this.options.attribution=t.copyrightText,i.attributionControl.addAttribution(this.getAttribution()))},this)},onRemove:function(i){l_(i),this._currentImage&&this._map.removeLayer(this._currentImage),this._popup&&(this._map.off("click",this._getPopupData,this),this._map.off("dblclick",this._resetPopupState,this)),this._map.off("moveend",this._update,this)},bindPopup:function(i,e){return this._shouldRenderPopup=!1,this._lastClick=!1,this._popup=Le.exports.popup(e),this._popupFunction=i,this._map&&(this._map.on("click",this._getPopupData,this),this._map.on("dblclick",this._resetPopupState,this)),this},unbindPopup:function(){return this._map&&(this._map.closePopup(this._popup),this._map.off("click",this._getPopupData,this),this._map.off("dblclick",this._resetPopupState,this)),this._popup=!1,this},bringToFront:function(){return this.options.position="front",this._currentImage&&(this._currentImage.bringToFront(),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this.options.position="back",this._currentImage&&(this._currentImage.bringToBack(),this._setAutoZIndex(Math.min)),this},setZIndex:function(i){return this.options.zIndex=i,this._currentImage&&this._currentImage.setZIndex(i),this},_setAutoZIndex:function(i){if(!!this._currentImage){for(var e=this._currentImage.getPane().children,t=-i(-1/0,1/0),n=0,r=e.length,s;n<r;n++)s=e[n].style.zIndex,e[n]!==this._currentImage._image&&s&&(t=i(t,+s));isFinite(t)&&(this.options.zIndex=t+i(-1,1),this.setZIndex(this.options.zIndex))}},getAttribution:function(){return this.options.attribution},getOpacity:function(){return this.options.opacity},setOpacity:function(i){return this.options.opacity=i,this._currentImage&&this._currentImage.setOpacity(i),this},getTimeRange:function(){return[this.options.from,this.options.to]},setTimeRange:function(i,e){return this.options.from=i,this.options.to=e,this._update(),this},metadata:function(i,e){return this.service.metadata(i,e),this},authenticate:function(i){return this.service.authenticate(i),this},redraw:function(){this._update()},_renderImage:function(i,e,t){if(this._map){if(t&&(i="data:"+t+";base64,"+i),!i)return;var n=new a5e(i,e,{opacity:0,crossOrigin:this.options.withCredentials?"use-credentials":this.options.useCors,alt:this.options.alt,pane:this.options.pane||this.getPane(),interactive:this.options.interactive}).addTo(this._map),r=function(){this._map.removeLayer(n),this.fire("error"),n.off("load",s,this)},s=function(l){if(n.off("error",s,this),this._map){var o=l.target,a=this._currentImage;o._bounds.equals(e)&&o._bounds.equals(this._map.getBounds())?(this._currentImage=o,this.options.position==="front"?this.bringToFront():this.options.position==="back"&&this.bringToBack(),this.options.zIndex&&this.setZIndex(this.options.zIndex),this._map&&this._currentImage._map?this._currentImage.setOpacity(this.options.opacity):this._currentImage._map.removeLayer(this._currentImage),a&&this._map&&this._map.removeLayer(a),a&&a._map&&a._map.removeLayer(a)):this._map.removeLayer(o)}this.fire("load",{bounds:e})};n.once("error",r,this),n.once("load",s,this)}},_update:function(){if(!!this._map){var i=this._map.getZoom(),e=this._map.getBounds();if(!this._animatingZoom&&!(this._map._panTransition&&this._map._panTransition._inProgress)){if(i>this.options.maxZoom||i<this.options.minZoom){this._currentImage&&(this._currentImage._map.removeLayer(this._currentImage),this._currentImage=null);return}var t=this._buildExportParams();Le.exports.Util.extend(t,this.options.requestParams),t?(this._requestExport(t,e),this.fire("loading",{bounds:e})):this._currentImage&&(this._currentImage._map.removeLayer(this._currentImage),this._currentImage=null)}}},_renderPopup:function(i,e,t,n){if(i=Le.exports.latLng(i),this._shouldRenderPopup&&this._lastClick.equals(i)){var r=this._popupFunction(e,t,n);r&&this._popup.setLatLng(i).setContent(r).openOn(this._map)}},_resetPopupState:function(i){this._shouldRenderPopup=!1,this._lastClick=i.latlng},_calculateBbox:function(){var i=this._map.getPixelBounds(),e=this._map.unproject(i.getBottomLeft()),t=this._map.unproject(i.getTopRight()),n=this._map.options.crs.project(t),r=this._map.options.crs.project(e),s=Le.exports.bounds(n,r);return[s.getBottomLeft().x,s.getBottomLeft().y,s.getTopRight().x,s.getTopRight().y].join(",")},_calculateImageSize:function(){var i=this._map.getPixelBounds(),e=this._map.getSize(),t=this._map.unproject(i.getBottomLeft()),n=this._map.unproject(i.getTopRight()),r=this._map.latLngToLayerPoint(n).y,s=this._map.latLngToLayerPoint(t).y;return(r>0||s<e.y)&&(e.y=s-r),e.x+","+e.y}});mB.extend({options:{updateInterval:150,format:"jpgpng",transparent:!0,f:"image"},query:function(){return this.service.query()},identify:function(){return this.service.identify()},initialize:function(i){i=Wd(i),this.service=s5e(i),this.service.addEventParent(this),Le.exports.Util.setOptions(this,i)},setPixelType:function(i){return this.options.pixelType=i,this._update(),this},getPixelType:function(){return this.options.pixelType},setBandIds:function(i){return Le.exports.Util.isArray(i)?this.options.bandIds=i.join(","):this.options.bandIds=i.toString(),this._update(),this},getBandIds:function(){return this.options.bandIds},setNoData:function(i,e){return Le.exports.Util.isArray(i)?this.options.noData=i.join(","):this.options.noData=i.toString(),e&&(this.options.noDataInterpretation=e),this._update(),this},getNoData:function(){return this.options.noData},getNoDataInterpretation:function(){return this.options.noDataInterpretation},setRenderingRule:function(i){this.options.renderingRule=i,this._update()},getRenderingRule:function(){return this.options.renderingRule},setMosaicRule:function(i){this.options.mosaicRule=i,this._update()},getMosaicRule:function(){return this.options.mosaicRule},_getPopupData:function(i){var e=Le.exports.Util.bind(function(n,r,s){n||setTimeout(Le.exports.Util.bind(function(){this._renderPopup(i.latlng,n,r,s)},this),300)},this),t=this.identify().at(i.latlng);this.options.mosaicRule&&t.setMosaicRule(this.options.mosaicRule),t.run(e),this._shouldRenderPopup=!0,this._lastClick=i.latlng},_buildExportParams:function(){var i=parseInt(this._map.options.crs.code.split(":")[1],10),e={bbox:this._calculateBbox(),size:this._calculateImageSize(),format:this.options.format,transparent:this.options.transparent,bboxSR:i,imageSR:i};return this.options.from&&this.options.to&&(e.time=this.options.from.valueOf()+","+this.options.to.valueOf()),this.options.pixelType&&(e.pixelType=this.options.pixelType),this.options.interpolation&&(e.interpolation=this.options.interpolation),this.options.compressionQuality&&(e.compressionQuality=this.options.compressionQuality),this.options.bandIds&&(e.bandIds=this.options.bandIds),(this.options.noData===0||this.options.noData)&&(e.noData=this.options.noData),this.options.noDataInterpretation&&(e.noDataInterpretation=this.options.noDataInterpretation),this.service.options.token&&(e.token=this.service.options.token),this.options.renderingRule&&(e.renderingRule=JSON.stringify(this.options.renderingRule)),this.options.mosaicRule&&(e.mosaicRule=JSON.stringify(this.options.mosaicRule)),e},_requestExport:function(i,e){if(this.options.f==="json")this.service.request("exportImage",i,function(n,r){n||(this.options.token&&(r.href+="?token="+this.options.token),this.options.proxy&&(r.href=this.options.proxy+"?"+r.href),this._renderImage(r.href,e))},this);else{i.f="image";var t=this.options.url+"exportImage"+Le.exports.Util.getParamString(i);this.options.proxy&&(t=this.options.proxy+"?"+t),this._renderImage(t,e)}}});mB.extend({options:{updateInterval:150,layers:!1,layerDefs:!1,timeOptions:!1,format:"png32",transparent:!0,f:"json"},initialize:function(i){i=Wd(i),this.service=hB(i),this.service.addEventParent(this),Le.exports.Util.setOptions(this,i)},getDynamicLayers:function(){return this.options.dynamicLayers},setDynamicLayers:function(i){return this.options.dynamicLayers=i,this._update(),this},getLayers:function(){return this.options.layers},setLayers:function(i){return this.options.layers=i,this._update(),this},getLayerDefs:function(){return this.options.layerDefs},setLayerDefs:function(i){return this.options.layerDefs=i,this._update(),this},getTimeOptions:function(){return this.options.timeOptions},setTimeOptions:function(i){return this.options.timeOptions=i,this._update(),this},query:function(){return this.service.query()},identify:function(){return this.service.identify()},find:function(){return this.service.find()},_getPopupData:function(i){var e=Le.exports.Util.bind(function(r,s,l){r||setTimeout(Le.exports.Util.bind(function(){this._renderPopup(i.latlng,r,s,l)},this),300)},this),t;if(this.options.popup?t=this.options.popup.on(this._map).at(i.latlng):t=this.identify().on(this._map).at(i.latlng),t.params.maxAllowableOffset||t.simplify(this._map,.5),this.options.popup&&this.options.popup.params&&this.options.popup.params.layers||(this.options.layers?t.layers("visible:"+this.options.layers.join(",")):t.layers("visible")),this.options.layerDefs&&typeof this.options.layerDefs!="string"&&!t.params.layerDefs)for(var n in this.options.layerDefs)this.options.layerDefs.hasOwnProperty(n)&&t.layerDef(n,this.options.layerDefs[n]);t.run(e),this._shouldRenderPopup=!0,this._lastClick=i.latlng},_buildExportParams:function(){var i=parseInt(this._map.options.crs.code.split(":")[1],10),e={bbox:this._calculateBbox(),size:this._calculateImageSize(),dpi:96,format:this.options.format,transparent:this.options.transparent,bboxSR:i,imageSR:i};if(this.options.dynamicLayers&&(e.dynamicLayers=this.options.dynamicLayers),this.options.layers){if(this.options.layers.length===0)return;e.layers="show:"+this.options.layers.join(",")}return this.options.layerDefs&&(e.layerDefs=typeof this.options.layerDefs=="string"?this.options.layerDefs:JSON.stringify(this.options.layerDefs)),this.options.timeOptions&&(e.timeOptions=JSON.stringify(this.options.timeOptions)),this.options.from&&this.options.to&&(e.time=this.options.from.valueOf()+","+this.options.to.valueOf()),this.service.options.token&&(e.token=this.service.options.token),this.options.proxy&&(e.proxy=this.options.proxy),this.options.disableCache&&(e._ts=Date.now()),e},_requestExport:function(i,e){if(this.options.f==="json")this.service.request("export",i,function(n,r){n||(this.options.token&&r.href&&(r.href+="?token="+this.options.token),this.options.proxy&&r.href&&(r.href=this.options.proxy+"?"+r.href),r.href?this._renderImage(r.href,e):this._renderImage(r.imageData,e,r.contentType))},this);else{i.f="image";var t=this.options.url+"export"+Le.exports.Util.getParamString(i);this.options.proxy&&(t=this.options.proxy+"?"+t),this._renderImage(t,e)}}});var Nh=Le.exports.Layer.extend({options:{cellSize:512,updateWhenIdle:Le.exports.Browser.mobile,updateInterval:150,noWrap:!1,keepBuffer:1.5},initialize:function(i){Le.exports.Util.setOptions(this,i)},onAdd:function(i){this._cells={},this._activeCells={},this._resetView(),this._update()},onRemove:function(i){this._removeAllCells(),this._cellZoom=void 0},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllCells(),this._update()),this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=Le.exports.Util.throttle(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),i},createCell:function(){return document.createElement("div")},removeCell:function(){},reuseCell:function(){},cellLeave:function(){},cellEnter:function(){},getCellSize:function(){var i=this.options.cellSize;return i instanceof Le.exports.Point?i:new Le.exports.Point(i,i)},_pruneCells:function(){if(!!this._map){var i,e;for(i in this._cells)e=this._cells[i],e.retain=e.current;for(i in this._cells)if(e=this._cells[i],e.current&&!e.active){var t=e.coords;this._retainParent(t.x,t.y,t.z,t.z-5)||this._retainChildren(t.x,t.y,t.z,t.z+2)}for(i in this._cells)this._cells[i].retain||this._removeCell(i)}},_removeAllCells:function(){for(var i in this._cells)this._removeCell(i)},_invalidateAll:function(){this._removeAllCells(),this._cellZoom=void 0},_retainParent:function(i,e,t,n){var r=Math.floor(i/2),s=Math.floor(e/2),l=t-1,o=new Le.exports.Point(+r,+s);o.z=+l;var a=this._cellCoordsToKey(o),u=this._cells[a];return u&&u.active?(u.retain=!0,!0):(u&&u.loaded&&(u.retain=!0),l>n?this._retainParent(r,s,l,n):!1)},_retainChildren:function(i,e,t,n){for(var r=2*i;r<2*i+2;r++)for(var s=2*e;s<2*e+2;s++){var l=new Le.exports.Point(r,s);l.z=t+1;var o=this._cellCoordsToKey(l),a=this._cells[o];if(a&&a.active){a.retain=!0;continue}else a&&a.loaded&&(a.retain=!0);t+1<n&&this._retainChildren(r,s,t+1,n)}},_resetView:function(i){var e=i&&(i.pinch||i.flyTo);e||this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_setView:function(i,e,t,n){var r=Math.round(e);n||(this._cellZoom=r,this._abortLoading&&this._abortLoading(),this._resetGrid(),r!==void 0&&this._update(i),t||this._pruneCells(),this._noPrune=!!t)},_resetGrid:function(){var i=this._map,e=i.options.crs,t=this._cellSize=this.getCellSize(),n=this._cellZoom,r=this._map.getPixelWorldBounds(this._cellZoom);r&&(this._globalCellRange=this._pxBoundsToCellRange(r)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,e.wrapLng[0]],n).x/t.x),Math.ceil(i.project([0,e.wrapLng[1]],n).x/t.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([e.wrapLat[0],0],n).y/t.x),Math.ceil(i.project([e.wrapLat[1],0],n).y/t.y)]},_onMoveEnd:function(i){var e=i&&(i.pinch||i.flyTo);e||!this._map||this._map._animatingZoom||this._update()},_getCelldPixelBounds:function(i){var e=this._map,t=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),n=e.getZoomScale(t,this._cellZoom),r=e.project(i,this._cellZoom).floor(),s=e.getSize().divideBy(n*2);return new Le.exports.Bounds(r.subtract(s),r.add(s))},_update:function(i){var e=this._map;if(!!e){var t=Math.round(e.getZoom());i===void 0&&(i=e.getCenter());var n=this._getCelldPixelBounds(i),r=this._pxBoundsToCellRange(n),s=r.getCenter(),l=[],o=this.options.keepBuffer,a=new Le.exports.Bounds(r.getBottomLeft().subtract([o,-o]),r.getTopRight().add([o,-o]));if(!(isFinite(r.min.x)&&isFinite(r.min.y)&&isFinite(r.max.x)&&isFinite(r.max.y)))throw new Error("Attempted to load an infinite number of cells");for(var u in this._cells){var c=this._cells[u].coords;(c.z!==this._cellZoom||!a.contains(new Le.exports.Point(c.x,c.y)))&&(this._cells[u].current=!1)}if(Math.abs(t-this._cellZoom)>1){this._setView(i,t);return}for(var f=r.min.y;f<=r.max.y;f++)for(var d=r.min.x;d<=r.max.x;d++){var m=new Le.exports.Point(d,f);if(m.z=this._cellZoom,!!this._isValidCell(m)){var p=this._cells[this._cellCoordsToKey(m)];p?p.current=!0:l.push(m)}}if(l.sort(function($,D){return $.distanceTo(s)-D.distanceTo(s)}),l.length!==0)for(this._loading||(this._loading=!0),d=0;d<l.length;d++){var g=this._cellCoordsToKey(l[d]),k=this._keyToCellCoords(g);this._activeCells[k]?this._reuseCell(l[d]):this._createCell(l[d])}}},_isValidCell:function(i){var e=this._map.options.crs;if(!e.infinite){var t=this._globalCellRange;if(!e.wrapLng&&(i.x<t.min.x||i.x>t.max.x)||!e.wrapLat&&(i.y<t.min.y||i.y>t.max.y))return!1}if(!this.options.bounds)return!0;var n=this._cellCoordsToBounds(i);return Le.exports.toLatLngBounds(this.options.bounds).overlaps(n)},_keyToBounds:function(i){return this._cellCoordsToBounds(this._keyToCellCoords(i))},_cellCoordsToNwSe:function(i){var e=this._map,t=this.getCellSize(),n=i.scaleBy(t),r=n.add(t),s=e.unproject(n,i.z),l=e.unproject(r,i.z);return[s,l]},_cellCoordsToBounds:function(i){var e=this._cellCoordsToNwSe(i),t=new Le.exports.LatLngBounds(e[0],e[1]);return this.options.noWrap||(t=this._map.wrapLatLngBounds(t)),t},_cellCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToCellCoords:function(i){var e=i.split(":"),t=new Le.exports.Point(+e[0],+e[1]);return t.z=+e[2],t},_removeCell:function(i){var e=this._cells[i];if(!!e){var t=this._keyToCellCoords(i),n=this._wrapCoords(t),r=this._cellCoordsToBounds(this._wrapCoords(t));e.current=!1,delete this._cells[i],this._activeCells[i]=e,this.cellLeave(r,n,i),this.fire("cellleave",{key:i,coords:n,bounds:r})}},_reuseCell:function(i){var e=this._cellCoordsToKey(i);this._cells[e]=this._activeCells[e],this._cells[e].current=!0;var t=this._wrapCoords(i),n=this._cellCoordsToBounds(this._wrapCoords(i));this.cellEnter(n,t,e),this.fire("cellenter",{key:e,coords:t,bounds:n})},_createCell:function(i){var e=this._cellCoordsToKey(i),t=this._wrapCoords(i),n=this._cellCoordsToBounds(this._wrapCoords(i));this.createCell(n,t,e),this.fire("cellcreate",{key:e,coords:t,bounds:n}),this._cells[e]={coords:i,current:!0},Le.exports.Util.requestAnimFrame(this._pruneCells,this)},_cellReady:function(i,e,t){var n=this._cellCoordsToKey(i);t=this._cells[n],t&&(t.loaded=+new Date,t.active=!0)},_getCellPos:function(i){return i.scaleBy(this.getCellSize())},_wrapCoords:function(i){var e=new Le.exports.Point(this._wrapX?Le.exports.Util.wrapNum(i.x,this._wrapX):i.x,this._wrapY?Le.exports.Util.wrapNum(i.y,this._wrapY):i.y);return e.z=i.z,e},_pxBoundsToCellRange:function(i){var e=this.getCellSize();return new Le.exports.Bounds(i.min.unscaleBy(e).floor(),i.max.unscaleBy(e).ceil().subtract([1,1]))}});function Il(i){this.values=[].concat(i||[])}Il.prototype.query=function(i){var e=this.getIndex(i);return this.values[e]};Il.prototype.getIndex=function(e){this.dirty&&this.sort();for(var t=0,n=this.values.length-1,r,s;t<=n;)if(r=(t+n)/2|0,s=this.values[Math.round(r)],+s.value<+e)t=r+1;else if(+s.value>+e)n=r-1;else return r;return Math.abs(~n)};Il.prototype.between=function(e,t){var n=this.getIndex(e),r=this.getIndex(t);if(n===0&&r===0)return[];for(;this.values[n-1]&&this.values[n-1].value===e;)n--;for(;this.values[r+1]&&this.values[r+1].value===t;)r++;return this.values[r]&&this.values[r].value===t&&this.values[r+1]&&r++,this.values.slice(n,r)};Il.prototype.insert=function(e){return this.values.splice(this.getIndex(e.value),0,e),this};Il.prototype.bulkAdd=function(e,t){return this.values=this.values.concat([].concat(e||[])),t?this.sort():this.dirty=!0,this};Il.prototype.sort=function(){return this.values.sort(function(e,t){return+t.value-+e.value}).reverse(),this.dirty=!1,this};var yg=Nh.extend({options:{attribution:null,where:"1=1",fields:["*"],from:!1,to:!1,timeField:!1,timeFilterMode:"server",simplifyFactor:0,precision:6,fetchAllFeatures:!1},initialize:function(i){if(Nh.prototype.initialize.call(this,i),i=Wd(i),i=Le.exports.Util.setOptions(this,i),this.service=l5e(i),this.service.addEventParent(this),this.options.fields[0]!=="*"){for(var e=!1,t=0;t<this.options.fields.length;t++)this.options.fields[t].match(/^(OBJECTID|FID|OID|ID)$/i)&&(e=!0);e===!1&&Oo("no known esriFieldTypeOID field detected in fields Array.  Please add an attribute field containing unique IDs to ensure the layer can be drawn correctly.")}this.options.timeField.start&&this.options.timeField.end?(this._startTimeIndex=new Il,this._endTimeIndex=new Il):this.options.timeField&&(this._timeIndex=new Il),this._cache={},this._currentSnapshot=[],this._activeRequests=0},onAdd:function(i){return Vd(i),this.service.metadata(function(e,t){if(!e){var n=t.supportedQueryFormats,r=!1;(this.service.options.isModern===!1||this.options.fetchAllFeatures)&&(r=!0),!r&&n&&n.indexOf("geoJSON")!==-1&&(this.service.options.isModern=!0),t.objectIdField&&(this.service.options.idAttribute=t.objectIdField),!this.options.attribution&&i.attributionControl&&t.copyrightText&&(this.options.attribution=t.copyrightText,i.attributionControl.addAttribution(this.getAttribution()))}},this),i.on("zoomend",this._handleZoomChange,this),Nh.prototype.onAdd.call(this,i)},onRemove:function(i){return l_(i),i.off("zoomend",this._handleZoomChange,this),Nh.prototype.onRemove.call(this,i)},getAttribution:function(){return this.options.attribution},createCell:function(i,e){this._visibleZoom()&&this._requestFeatures(i,e)},_requestFeatures:function(i,e,t,n){this._activeRequests++,n=n||0;var r=this.options.where;return this._activeRequests===1&&this.fire("loading",{bounds:i},!0),this._buildQuery(i,n).run(function(s,l,o){o&&o.exceededTransferLimit&&this.fire("drawlimitexceeded"),this.options.where===r&&(!s&&l&&l.features.length&&Le.exports.Util.requestAnimFrame(Le.exports.Util.bind(function(){this._addFeatures(l.features,e),this._postProcessFeatures(i)},this)),!s&&l&&!l.features.length&&this._postProcessFeatures(i),s&&this._postProcessFeatures(i),t&&t.call(this,s,l),o&&(o.exceededTransferLimit||o.properties&&o.properties.exceededTransferLimit)&&this.options.fetchAllFeatures&&this._requestFeatures(i,e,t,n+l.features.length))},this)},_postProcessFeatures:function(i){this._activeRequests--,this._activeRequests<=0&&this.fire("load",{bounds:i})},_cacheKey:function(i){return i.z+":"+i.x+":"+i.y},_addFeatures:function(i,e){if(e){var t=this._cacheKey(e);this._cache[t]=this._cache[t]||[]}for(var n=i.length-1;n>=0;n--){var r=i[n].id;this._currentSnapshot.indexOf(r)===-1&&this._currentSnapshot.push(r),typeof t<"u"&&this._cache[t].indexOf(r)===-1&&this._cache[t].push(r)}this.options.timeField&&this._buildTimeIndexes(i),this.createLayers(i)},_buildQuery:function(i,e){var t=this.service.query().intersects(i).where(this.options.where).fields(this.options.fields).precision(this.options.precision);return this.options.fetchAllFeatures&&!isNaN(parseInt(e))&&(t=t.offset(e)),t.params.resultType="tile",this.options.requestParams&&Le.exports.Util.extend(t.params,this.options.requestParams),this.options.simplifyFactor&&t.simplify(this._map,this.options.simplifyFactor),this.options.timeFilterMode==="server"&&this.options.from&&this.options.to&&t.between(this.options.from,this.options.to),t},setWhere:function(i,e,t){this.options.where=i&&i.length?i:"1=1";for(var n=[],r=[],s=0,l=null,o=Le.exports.Util.bind(function(d,m){if(d&&(l=d),m)for(var p=m.features.length-1;p>=0;p--)r.push(m.features[p].id);s--,s<=0&&this._visibleZoom()&&i===this.options.where&&(this._currentSnapshot=r,Le.exports.Util.requestAnimFrame(Le.exports.Util.bind(function(){this.removeLayers(n),this.addLayers(r),e&&e.call(t,l)},this)))},this),a=this._currentSnapshot.length-1;a>=0;a--)n.push(this._currentSnapshot[a]);this._cache={};for(var u in this._cells){s++;var c=this._keyToCellCoords(u),f=this._cellCoordsToBounds(c);this._requestFeatures(f,c,o)}return this},getWhere:function(){return this.options.where},getTimeRange:function(){return[this.options.from,this.options.to]},setTimeRange:function(i,e,t,n){var r=this.options.from,s=this.options.to,l=0,o=null,a=Le.exports.Util.bind(function(d){d&&(o=d),this._filterExistingFeatures(r,s,i,e),l--,t&&l<=0&&t.call(n,o)},this);if(this.options.from=i,this.options.to=e,this._filterExistingFeatures(r,s,i,e),this.options.timeFilterMode==="server")for(var u in this._cells){l++;var c=this._keyToCellCoords(u),f=this._cellCoordsToBounds(c);this._requestFeatures(f,c,a)}return this},refresh:function(){this.setWhere(this.options.where)},_filterExistingFeatures:function(i,e,t,n){var r=i&&e?this._getFeaturesInTimeRange(i,e):this._currentSnapshot,s=this._getFeaturesInTimeRange(t,n);if(s.indexOf)for(var l=0;l<s.length;l++){var o=r.indexOf(s[l]);o>=0&&r.splice(o,1)}Le.exports.Util.requestAnimFrame(Le.exports.Util.bind(function(){this.removeLayers(r),this.addLayers(s)},this))},_getFeaturesInTimeRange:function(i,e){var t=[],n;if(this.options.timeField.start&&this.options.timeField.end){var r=this._startTimeIndex.between(i,e),s=this._endTimeIndex.between(i,e);n=r.concat(s)}else if(this._timeIndex)n=this._timeIndex.between(i,e);else return Oo("You must set timeField in the layer constructor in order to manipulate the start and end time filter."),[];for(var l=n.length-1;l>=0;l--)t.push(n[l].id);return t},_buildTimeIndexes:function(i){var e,t;if(this.options.timeField.start&&this.options.timeField.end){var n=[],r=[];for(e=i.length-1;e>=0;e--)t=i[e],n.push({id:t.id,value:new Date(t.properties[this.options.timeField.start])}),r.push({id:t.id,value:new Date(t.properties[this.options.timeField.end])});this._startTimeIndex.bulkAdd(n),this._endTimeIndex.bulkAdd(r)}else{var s=[];for(e=i.length-1;e>=0;e--)t=i[e],s.push({id:t.id,value:new Date(t.properties[this.options.timeField])});this._timeIndex.bulkAdd(s)}},_featureWithinTimeRange:function(i){if(!this.options.from||!this.options.to)return!0;var e=+this.options.from.valueOf(),t=+this.options.to.valueOf();if(typeof this.options.timeField=="string"){var n=+i.properties[this.options.timeField];return n>=e&&n<=t}if(this.options.timeField.start&&this.options.timeField.end){var r=+i.properties[this.options.timeField.start],s=+i.properties[this.options.timeField.end];return r>=e&&r<=t||s>=e&&s<=t||r<=e&&s>=t}},_visibleZoom:function(){if(!this._map)return!1;var i=this._map.getZoom();return!(i>this.options.maxZoom||i<this.options.minZoom)},_handleZoomChange:function(){if(!this._visibleZoom())this.removeLayers(this._currentSnapshot);else for(var i in this._cells){var e=this._cells[i].coords,t=this._cacheKey(e);this._cache[t]&&this.addLayers(this._cache[t])}},authenticate:function(i){return this.service.authenticate(i),this},metadata:function(i,e){return this.service.metadata(i,e),this},query:function(){return this.service.query()},_getMetadata:function(i){if(this._metadata){var e;i(e,this._metadata)}else this.metadata(Le.exports.Util.bind(function(t,n){this._metadata=n,i(t,this._metadata)},this))},addFeature:function(i,e,t){this.addFeatures(i,e,t)},addFeatures:function(i,e,t){this._getMetadata(Le.exports.Util.bind(function(n,r){if(n){e&&e.call(this,n,null);return}var s=i.features?i.features:[i];this.service.addFeatures(i,Le.exports.Util.bind(function(l,o){if(!l){for(var a=s.length-1;a>=0;a--)s[a].properties[r.objectIdField]=s.length>1?o[a].objectId:o.objectId,s[a].id=s.length>1?o[a].objectId:o.objectId;this._addFeatures(s)}e&&e.call(t,l,o)},this))},this))},updateFeature:function(i,e,t){this.updateFeatures(i,e,t)},updateFeatures:function(i,e,t){var n=i.features?i.features:[i];this.service.updateFeatures(i,function(r,s){if(!r){for(var l=n.length-1;l>=0;l--)this.removeLayers([n[l].id],!0);this._addFeatures(n)}e&&e.call(t,r,s)},this)},deleteFeature:function(i,e,t){this.deleteFeatures(i,e,t)},deleteFeatures:function(i,e,t){return this.service.deleteFeatures(i,function(n,r){var s=r.length?r:[r];if(!n&&s.length>0)for(var l=s.length-1;l>=0;l--)this.removeLayers([s[l].objectId],!0);e&&e.call(t,n,r)},this)}});yg.extend({options:{cacheLayers:!0},initialize:function(i){yg.prototype.initialize.call(this,i),this._originalStyle=this.options.style,this._layers={}},onRemove:function(i){for(var e in this._layers)i.removeLayer(this._layers[e]),this.fire("removefeature",{feature:this._layers[e].feature,permanent:!1},!0);return yg.prototype.onRemove.call(this,i)},createNewLayer:function(i){var e=Le.exports.GeoJSON.geometryToLayer(i,this.options);return e&&(e.defaultOptions=e.options),e},_updateLayer:function(i,e){var t=[],n=this.options.coordsToLatLng||Le.exports.GeoJSON.coordsToLatLng;switch(e.properties&&(i.feature.properties=e.properties),e.geometry.type){case"Point":t=Le.exports.GeoJSON.coordsToLatLng(e.geometry.coordinates),i.setLatLng(t);break;case"LineString":t=Le.exports.GeoJSON.coordsToLatLngs(e.geometry.coordinates,0,n),i.setLatLngs(t);break;case"MultiLineString":t=Le.exports.GeoJSON.coordsToLatLngs(e.geometry.coordinates,1,n),i.setLatLngs(t);break;case"Polygon":t=Le.exports.GeoJSON.coordsToLatLngs(e.geometry.coordinates,1,n),i.setLatLngs(t);break;case"MultiPolygon":t=Le.exports.GeoJSON.coordsToLatLngs(e.geometry.coordinates,2,n),i.setLatLngs(t);break}},createLayers:function(i){for(var e=i.length-1;e>=0;e--){var t=i[e],n=this._layers[t.id],r;this._visibleZoom()&&n&&!this._map.hasLayer(n)&&(!this.options.timeField||this._featureWithinTimeRange(t))&&(this._map.addLayer(n),this.fire("addfeature",{feature:n.feature},!0)),n&&this.options.simplifyFactor>0&&(n.setLatLngs||n.setLatLng)&&this._updateLayer(n,t),n||(r=this.createNewLayer(t),r?(r.feature=t,r.addEventParent(this),this.options.onEachFeature&&this.options.onEachFeature(r.feature,r),this._layers[r.feature.id]=r,this.setFeatureStyle(r.feature.id,this.options.style),this.fire("createfeature",{feature:r.feature},!0),this._visibleZoom()&&(!this.options.timeField||this.options.timeField&&this._featureWithinTimeRange(t))&&this._map.addLayer(r)):Oo("invalid GeoJSON encountered"))}},addLayers:function(i){for(var e=i.length-1;e>=0;e--){var t=this._layers[i[e]];t&&(!this.options.timeField||this._featureWithinTimeRange(t.feature))&&this._map.addLayer(t)}},removeLayers:function(i,e){for(var t=i.length-1;t>=0;t--){var n=i[t],r=this._layers[n];r&&(this.fire("removefeature",{feature:r.feature,permanent:e},!0),this._map.removeLayer(r)),r&&e&&delete this._layers[n]}},cellEnter:function(i,e){this._visibleZoom()&&!this._zooming&&this._map&&Le.exports.Util.requestAnimFrame(Le.exports.Util.bind(function(){var t=this._cacheKey(e),n=this._cellCoordsToKey(e),r=this._cache[t];this._activeCells[n]&&r&&this.addLayers(r)},this))},cellLeave:function(i,e){this._zooming||Le.exports.Util.requestAnimFrame(Le.exports.Util.bind(function(){if(this._map){var t=this._cacheKey(e),n=this._cellCoordsToKey(e),r=this._cache[t],s=this._map.getBounds();if(!this._activeCells[n]&&r){for(var l=!0,o=0;o<r.length;o++){var a=this._layers[r[o]];a&&a.getBounds&&s.intersects(a.getBounds())&&(l=!1)}l&&this.removeLayers(r,!this.options.cacheLayers),!this.options.cacheLayers&&l&&(delete this._cache[t],delete this._cells[n],delete this._activeCells[n])}}},this))},resetStyle:function(){return this.options.style=this._originalStyle,this.eachFeature(function(i){this.resetFeatureStyle(i.feature.id)},this),this},setStyle:function(i){return this.options.style=i,this.eachFeature(function(e){this.setFeatureStyle(e.feature.id,i)},this),this},resetFeatureStyle:function(i){var e=this._layers[i],t=this._originalStyle||Le.exports.Path.prototype.options;return e&&(Le.exports.Util.extend(e.options,e.defaultOptions),this.setFeatureStyle(i,t)),this},setFeatureStyle:function(i,e){var t=this._layers[i];return typeof e=="function"&&(e=e(t.feature)),t.setStyle&&t.setStyle(e),this},eachActiveFeature:function(i,e){if(this._map){var t=this._map.getBounds();for(var n in this._layers)this._currentSnapshot.indexOf(this._layers[n].feature.id)!==-1&&(typeof this._layers[n].getLatLng=="function"&&t.contains(this._layers[n].getLatLng())?i.call(e,this._layers[n]):typeof this._layers[n].getBounds=="function"&&t.intersects(this._layers[n].getBounds())&&i.call(e,this._layers[n]))}return this},eachFeature:function(i,e){for(var t in this._layers)i.call(e,this._layers[t]);return this},getFeature:function(i){return this._layers[i]},bringToBack:function(){this.eachFeature(function(i){i.bringToBack&&i.bringToBack()})},bringToFront:function(){this.eachFeature(function(i){i.bringToFront&&i.bringToFront()})},redraw:function(i){return i&&this._redraw(i),this},_redraw:function(i){var e=this._layers[i],t=e.feature;if(e&&e.setIcon&&this.options.pointToLayer&&this.options.pointToLayer){var n=this.options.pointToLayer(t,Le.exports.latLng(t.geometry.coordinates[1],t.geometry.coordinates[0])),r=n.options.icon;e.setIcon(r)}if(e&&e.setStyle&&this.options.pointToLayer){var s=this.options.pointToLayer(t,Le.exports.latLng(t.geometry.coordinates[1],t.geometry.coordinates[0])),l=s.options;this.setFeatureStyle(t.id,l)}e&&e.setStyle&&this.options.style&&this.resetStyle(t.id)}});var o_="https://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer/",u5e=Ul.extend({path:"findAddressCandidates",params:{outSr:4326,forStorage:!1,outFields:"*",maxLocations:20},setters:{address:"address",neighborhood:"neighborhood",city:"city",subregion:"subregion",region:"region",postal:"postal",country:"country",text:"singleLine",category:"category",token:"token",key:"magicKey",fields:"outFields",forStorage:"forStorage",maxLocations:"maxLocations",countries:"sourceCountry"},initialize:function(i){i=i||{},i.url=i.url||o_,Ul.prototype.initialize.call(this,i)},within:function(i){return i=Le.exports.latLngBounds(i),this.params.searchExtent=Ym.boundsToExtent(i),this},nearby:function(i,e){var t=Le.exports.latLng(i);return this.params.location=t.lng+","+t.lat,e&&(this.params.distance=Math.min(Math.max(e,2e3),5e4)),this},run:function(i,e){return this.options.customParam&&(this.params[this.options.customParam]=this.params.singleLine,delete this.params.singleLine),this.request(function(t,n){var r=this._processGeocoderResponse,s=t?void 0:r(n);i.call(e,t,{results:s},n)},this)},_processGeocoderResponse:function(i){for(var e=[],t=0;t<i.candidates.length;t++){var n=i.candidates[t];if(n.extent)var r=Ym.extentToBounds(n.extent);e.push({text:n.address,bounds:r,score:n.score,latlng:Le.exports.latLng(n.location.y,n.location.x),properties:n.attributes})}return e}});function c5e(i){return new u5e(i)}var f5e=Ul.extend({path:"reverseGeocode",params:{outSR:4326,returnIntersection:!1},setters:{distance:"distance",language:"langCode",intersection:"returnIntersection"},initialize:function(i){i=i||{},i.url=i.url||o_,Ul.prototype.initialize.call(this,i)},latlng:function(i){var e=Le.exports.latLng(i);return this.params.location=e.lng+","+e.lat,this},run:function(i,e){return this.request(function(t,n){var r;t?r=void 0:r={latlng:Le.exports.latLng(n.location.y,n.location.x),address:n.address},i.call(e,t,r,n)},this)}});function d5e(i){return new f5e(i)}var h5e=Ul.extend({path:"suggest",params:{},setters:{text:"text",category:"category",countries:"countryCode",maxSuggestions:"maxSuggestions"},initialize:function(i){i=i||{},i.url||(i.url=o_,i.supportsSuggest=!0),Ul.prototype.initialize.call(this,i)},within:function(i){i=Le.exports.latLngBounds(i),i=i.pad(.5);var e=i.getCenter(),t=i.getNorthWest();return this.params.location=e.lng+","+e.lat,this.params.distance=Math.min(Math.max(e.distanceTo(t),2e3),5e4),this.params.searchExtent=Ym.boundsToExtent(i),this},nearby:function(i,e){var t=Le.exports.latLng(i);return this.params.location=t.lng+","+t.lat,e&&(this.params.distance=Math.min(Math.max(e,2e3),5e4)),this},run:function(i,e){if(this.options.supportsSuggest)return this.request(function(t,n){i.call(e,t,n,n)},this);console.warn("this geocoding service does not support asking for suggestions")}});function m5e(i){return new h5e(i)}var gb=Wu.extend({initialize:function(i){i=i||{},i.url?(Wu.prototype.initialize.call(this,i),this._confirmSuggestSupport()):(i.url=o_,i.supportsSuggest=!0,Wu.prototype.initialize.call(this,i))},geocode:function(){return c5e(this)},reverse:function(){return d5e(this)},suggest:function(){return m5e(this)},_confirmSuggestSupport:function(){this.metadata(function(i,e){i||(e.capabilities?e.capabilities.indexOf("Suggest")>-1?this.options.supportsSuggest=!0:this.options.supportsSuggest=!1:this.options.supportsSuggest=!1,this.options.customParam=e.singleLineAddressField.name)},this)}});function p5e(i){return new gb(i)}var _5e=Le.exports.Evented.extend({options:{zoomToResult:!0,useMapBounds:12,searchBounds:null},initialize:function(i,e){if(Le.exports.Util.setOptions(this,e),this._control=i,!e||!e.providers||!e.providers.length)throw new Error("You must specify at least one provider");this._providers=e.providers},_geocode:function(i,e,t){var n=0,r=[],s,l=Le.exports.Util.bind(function(a,u){n--,!a&&(u&&(r=r.concat(u)),n<=0&&(s=this._boundsFromResults(r),this.fire("results",{results:r,bounds:s,latlng:s?s.getCenter():void 0,text:i},!0),this.options.zoomToResult&&s&&this._control._map.fitBounds(s),this.fire("load")))},this);if(e)n++,t.results(i,e,this._searchBounds(),l);else for(var o=0;o<this._providers.length;o++)n++,this._providers[o].results(i,e,this._searchBounds(),l)},_suggest:function(i){var e=this._providers.length,t=0,n=Le.exports.Util.bind(function(o,a){return Le.exports.Util.bind(function(u,c){if(e=e-1,t+=c.length,u){this._control._clearProviderSuggestions(a),this._control._finalizeSuggestions(e,t);return}if(c.length)for(var f=0;f<c.length;f++)c[f].provider=a;else this._control._renderSuggestions(c);a._lastRender!==o&&this._control._clearProviderSuggestions(a),c.length&&this._control._input.value===o&&(a._lastRender=o,this._control._renderSuggestions(c)),this._control._finalizeSuggestions(e,t)},this)},this);this._pendingSuggestions=[];for(var r=0;r<this._providers.length;r++){var s=this._providers[r],l=s.suggestions(i,this._searchBounds(),n(i,s));this._pendingSuggestions.push(l)}},_searchBounds:function(){return this.options.searchBounds!==null?this.options.searchBounds:this.options.useMapBounds===!1?null:this.options.useMapBounds===!0?this._control._map.getBounds():this.options.useMapBounds<=this._control._map.getZoom()?this._control._map.getBounds():null},_boundsFromResults:function(i){if(!!i.length){for(var e=Le.exports.latLngBounds([0,0],[0,0]),t=[],n=[],r=i.length-1;r>=0;r--){var s=i[r];n.push(s.latlng),s.bounds&&s.bounds.isValid()&&!s.bounds.equals(e)&&t.push(s.bounds)}for(var l=Le.exports.latLngBounds(n),o=0;o<t.length;o++)l.extend(t[o]);return l}},_getAttribution:function(){for(var i=[],e=this._providers,t=0;t<e.length;t++)e[t].options.attribution&&i.push(e[t].options.attribution);return i.join(", ")}});function g5e(i,e){return new _5e(i,e)}var v5e=gb.extend({options:{label:"Places and Addresses",maxResults:5},suggestions:function(i,e,t){var n=this.suggest().text(i);return e&&n.within(e),this.options.nearby&&n.nearby(this.options.nearby),this.options.countries&&n.countries(this.options.countries),this.options.categories&&n.category(this.options.categories),n.maxSuggestions(this.options.maxResults),n.run(function(r,s,l){var o=[];if(!r)for(;l.suggestions.length&&o.length<=this.options.maxResults-1;){var a=l.suggestions.shift();a.isCollection||o.push({text:a.text,unformattedText:a.text,magicKey:a.magicKey})}t(r,o)},this)},results:function(i,e,t,n){var r=this.geocode().text(i);return e&&r.key(e),r.maxLocations(this.options.maxResults),t&&r.within(t),this.options.forStorage&&r.forStorage(!0),this.options.nearby&&r.nearby(this.options.nearby),this.options.countries&&r.countries(this.options.countries),this.options.categories&&r.category(this.options.categories),r.run(function(s,l){n(s,l.results)},this)}});function pB(i){return new v5e(i)}var b5e=Le.exports.Control.extend({includes:Le.exports.Evented.prototype,options:{position:"topleft",collapseAfterResult:!0,expanded:!1,allowMultipleResults:!0,placeholder:"Search for places or addresses",title:"Location Search"},initialize:function(i){Le.exports.Util.setOptions(this,i),(!i||!i.providers||!i.providers.length)&&(i||(i={}),i.providers=[pB()]),this._geosearchCore=g5e(this,i),this._geosearchCore._providers=i.providers,this._geosearchCore.addEventParent(this);for(var e=0;e<this._geosearchCore._providers.length;e++)this._geosearchCore._providers[e].addEventParent(this);this._geosearchCore._pendingSuggestions=[],Le.exports.Control.prototype.initialize.call(this,i)},_renderSuggestions:function(i){var e;i.length>0&&(this._suggestions.style.display="block");for(var t,n,r=[],s=0;s<i.length;s++){var l=i[s];if(!n&&this._geosearchCore._providers.length>1&&e!==l.provider.options.label&&(n=Le.exports.DomUtil.create("div","geocoder-control-header",l.provider._contentsElement),n.textContent=l.provider.options.label,n.innerText=l.provider.options.label,e=l.provider.options.label),t||(t=Le.exports.DomUtil.create("ul","geocoder-control-list",l.provider._contentsElement)),r.indexOf(l.text)===-1){var o=Le.exports.DomUtil.create("li","geocoder-control-suggestion",t);o.innerHTML=l.text,o.provider=l.provider,o["data-magic-key"]=l.magicKey,o.unformattedText=l.unformattedText}else for(var a=0;a<t.childNodes.length;a++)t.childNodes[a].innerHTML===l.text&&(t.childNodes[a]["data-magic-key"]+=","+l.magicKey);r.push(l.text)}this.getPosition().indexOf("top")>-1&&(this._suggestions.style.maxHeight=this._map.getSize().y-this._suggestions.offsetTop-this._wrapper.offsetTop-10+"px"),this.getPosition().indexOf("bottom")>-1&&this._setSuggestionsBottomPosition()},_setSuggestionsBottomPosition:function(){this._suggestions.style.maxHeight=this._map.getSize().y-this._map._controlCorners[this.getPosition()].offsetHeight-this._wrapper.offsetHeight+"px",this._suggestions.style.top=-this._suggestions.offsetHeight-this._wrapper.offsetHeight+20+"px"},_boundsFromResults:function(i){if(!!i.length){for(var e=Le.exports.latLngBounds([0,0],[0,0]),t=[],n=[],r=i.length-1;r>=0;r--){var s=i[r];n.push(s.latlng),s.bounds&&s.bounds.isValid()&&!s.bounds.equals(e)&&t.push(s.bounds)}for(var l=Le.exports.latLngBounds(n),o=0;o<t.length;o++)l.extend(t[o]);return l}},clear:function(){this._clearAllSuggestions(),this.options.collapseAfterResult&&(this._input.value="",this._lastValue="",this._input.placeholder="",Le.exports.DomUtil.removeClass(this._wrapper,"geocoder-control-expanded")),!this._map.scrollWheelZoom.enabled()&&this._map.options.scrollWheelZoom&&this._map.scrollWheelZoom.enable()},_clearAllSuggestions:function(){this._suggestions.style.display="none";for(var i=0;i<this.options.providers.length;i++)this._clearProviderSuggestions(this.options.providers[i])},_clearProviderSuggestions:function(i){i._contentsElement.innerHTML=""},_finalizeSuggestions:function(i,e){i||(Le.exports.DomUtil.removeClass(this._input,"geocoder-control-loading"),this.getPosition().indexOf("bottom")>-1&&this._setSuggestionsBottomPosition(),e||this._clearAllSuggestions())},_setupClick:function(){Le.exports.DomUtil.addClass(this._wrapper,"geocoder-control-expanded"),this._input.focus()},disable:function(){this._input.disabled=!0,Le.exports.DomUtil.addClass(this._input,"geocoder-control-input-disabled"),Le.exports.DomEvent.removeListener(this._wrapper,"click",this._setupClick,this)},enable:function(){this._input.disabled=!1,Le.exports.DomUtil.removeClass(this._input,"geocoder-control-input-disabled"),Le.exports.DomEvent.addListener(this._wrapper,"click",this._setupClick,this)},getAttribution:function(){for(var i=[],e=0;e<this._providers.length;e++)this._providers[e].options.attribution&&i.push(this._providers[e].options.attribution);return i.join(", ")},geocodeSuggestion:function(i){var e=i.target||i.srcElement;e.classList.contains("geocoder-control-suggestions")||e.classList.contains("geocoder-control-header")||(e.classList.length<1&&(e=e.parentNode),this._geosearchCore._geocode(e.unformattedText,e["data-magic-key"],e.provider),this.clear())},onAdd:function(i){Ym.setEsriAttribution(i),this._map=i,this._wrapper=Le.exports.DomUtil.create("div","geocoder-control"),this._input=Le.exports.DomUtil.create("input","geocoder-control-input leaflet-bar",this._wrapper),this._input.title=this.options.title,this.options.expanded&&(Le.exports.DomUtil.addClass(this._wrapper,"geocoder-control-expanded"),this._input.placeholder=this.options.placeholder),this._suggestions=Le.exports.DomUtil.create("div","geocoder-control-suggestions leaflet-bar",this._wrapper);for(var e=0;e<this.options.providers.length;e++)this.options.providers[e]._contentsElement=Le.exports.DomUtil.create("div",null,this._suggestions);var t=this._geosearchCore._getAttribution();return i.attributionControl&&i.attributionControl.addAttribution(t),Le.exports.DomEvent.addListener(this._input,"focus",function(n){this._input.placeholder=this.options.placeholder,Le.exports.DomUtil.addClass(this._wrapper,"geocoder-control-expanded")},this),Le.exports.DomEvent.addListener(this._wrapper,"click",this._setupClick,this),Le.exports.DomEvent.addListener(this._suggestions,"mousedown",this.geocodeSuggestion,this),Le.exports.DomEvent.addListener(this._input,"blur",function(n){this.clear()},this),Le.exports.DomEvent.addListener(this._input,"keydown",function(n){var r=(n.target||n.srcElement).value;Le.exports.DomUtil.addClass(this._wrapper,"geocoder-control-expanded");for(var s=this._suggestions.querySelectorAll(".geocoder-control-suggestion"),l=this._suggestions.querySelectorAll(".geocoder-control-selected")[0],o,a=0;a<s.length;a++)if(s[a]===l){o=a;break}switch(n.keyCode){case 13:l?(this._input.value=l.innerText,this._geosearchCore._geocode(l.unformattedText,l["data-magic-key"],l.provider),this.clear()):this.options.allowMultipleResults&&r.length>=2?(this._geosearchCore._geocode(this._input.value,void 0),this.clear()):s.length===1?(Le.exports.DomUtil.addClass(s[0],"geocoder-control-selected"),this._geosearchCore._geocode(s[0].innerHTML,s[0]["data-magic-key"],s[0].provider)):(this.clear(),this._input.blur()),Le.exports.DomEvent.preventDefault(n);break;case 38:l&&Le.exports.DomUtil.removeClass(l,"geocoder-control-selected");var u=s[o-1];l&&u?Le.exports.DomUtil.addClass(u,"geocoder-control-selected"):Le.exports.DomUtil.addClass(s[s.length-1],"geocoder-control-selected"),Le.exports.DomEvent.preventDefault(n);break;case 40:l&&Le.exports.DomUtil.removeClass(l,"geocoder-control-selected");var c=s[o+1];l&&c?Le.exports.DomUtil.addClass(c,"geocoder-control-selected"):Le.exports.DomUtil.addClass(s[0],"geocoder-control-selected"),Le.exports.DomEvent.preventDefault(n);break;default:for(var f=0;f<this._geosearchCore._pendingSuggestions.length;f++){var d=this._geosearchCore._pendingSuggestions[f];d&&d.abort&&!d.id&&d.abort()}break}},this),Le.exports.DomEvent.addListener(this._input,"keyup",Le.exports.Util.throttle(function(n){var r=n.which||n.keyCode,s=(n.target||n.srcElement).value;if(s.length<2){this._lastValue=this._input.value,this._clearAllSuggestions(),Le.exports.DomUtil.removeClass(this._input,"geocoder-control-loading");return}if(r===27){this._clearAllSuggestions();return}r!==13&&r!==38&&r!==40&&this._input.value!==this._lastValue&&(this._lastValue=this._input.value,Le.exports.DomUtil.addClass(this._input,"geocoder-control-loading"),this._geosearchCore._suggest(s))},50,this),this),Le.exports.DomEvent.disableClickPropagation(this._wrapper),Le.exports.DomEvent.addListener(this._suggestions,"mouseover",function(n){i.scrollWheelZoom.enabled()&&i.options.scrollWheelZoom&&i.scrollWheelZoom.disable()}),Le.exports.DomEvent.addListener(this._suggestions,"mouseout",function(n){!i.scrollWheelZoom.enabled()&&i.options.scrollWheelZoom&&i.scrollWheelZoom.enable()}),this._geosearchCore.on("load",function(n){Le.exports.DomUtil.removeClass(this._input,"geocoder-control-loading"),this.clear(),this._input.blur()},this),this._wrapper}});function k5e(i){return new b5e(i)}G1.extend({options:{label:"Feature Layer",maxResults:5,bufferRadius:1e3,searchMode:"contain",formatSuggestion:function(i){return i.properties[this.options.searchFields[0]]}},initialize:function(i){G1.prototype.initialize.call(this,i),typeof this.options.searchFields=="string"&&(this.options.searchFields=[this.options.searchFields]),this._suggestionsQuery=this.query(),this._resultsQuery=this.query()},suggestions:function(i,e,t){var n=this._suggestionsQuery.where(this._buildQuery(i)).returnGeometry(!1);e&&n.intersects(e),this.options.idField&&n.fields([this.options.idField].concat(this.options.searchFields));var r=n.run(function(s,l,o){if(s)t(s,[]);else{this.options.idField=o.objectIdFieldName;for(var a=[],u=l.features.length-1;u>=0;u--){var c=l.features[u];a.push({text:this.options.formatSuggestion.call(this,c),unformattedText:c.properties[this.options.searchFields[0]],magicKey:c.id})}t(s,a.slice(0,this.options.maxResults))}},this);return r},results:function(i,e,t,n){var r=this._resultsQuery;return e?(delete r.params.where,r.featureIds([e])):r.where(this._buildQuery(i)),t&&r.within(t),r.run(Le.exports.Util.bind(function(s,l){for(var o=[],a=0;a<l.features.length;a++){var u=l.features[a];if(u){var c=this._featureBounds(u),f={latlng:c.getCenter(),bounds:c,text:this.options.formatSuggestion.call(this,u),properties:u.properties,geojson:u};o.push(f),delete this._resultsQuery.params.objectIds}}n(s,o)},this))},orderBy:function(i,e){this._suggestionsQuery.orderBy(i,e)},_buildQuery:function(i){for(var e=[],t=this.options.searchFields.length-1;t>=0;t--){var n='upper("'+this.options.searchFields[t]+'")';if(this.options.searchMode==="contain")e.push(n+" LIKE upper('%"+i+"%')");else if(this.options.searchMode==="startWith")e.push(n+" LIKE upper('"+i+"%')");else if(this.options.searchMode==="endWith")e.push(n+" LIKE upper('%"+i+"')");else if(this.options.searchMode==="strict")e.push(n+" LIKE upper('"+i+"')");else throw new Error('L.esri.Geocoding.featureLayerProvider: Invalid parameter for "searchMode". Use one of "contain", "startWith", "endWith", or "strict"')}return this.options.where?this.options.where+" AND ("+e.join(" OR ")+")":e.join(" OR ")},_featureBounds:function(i){var e=Le.exports.geoJson(i);if(i.geometry.type==="Point"){var t=e.getBounds().getCenter(),n=this.options.bufferRadius/40075017*360/Math.cos(180/Math.PI*t.lat),r=this.options.bufferRadius/40075017*360;return Le.exports.latLngBounds([t.lat-r,t.lng-n],[t.lat+r,t.lng+n])}else return e.getBounds()}});var y5e=V1.extend({options:{layers:[0],label:"Map Service",bufferRadius:1e3,maxResults:5,formatSuggestion:function(i){return i.properties[i.displayFieldName]+" <small>"+i.layerName+"</small>"}},initialize:function(i){V1.prototype.initialize.call(this,i),this._getIdFields()},suggestions:function(i,e,t){var n=this.find().text(i).fields(this.options.searchFields).returnGeometry(!1).layers(this.options.layers);return n.run(function(r,s,l){var o=[];if(!r){var a=Math.min(this.options.maxResults,s.features.length);l.results=l.results.reverse();for(var u=0;u<a;u++){var c=s.features[u],f=l.results[u],d=f.layerId,m=this._idFields[d];c.layerId=d,c.layerName=this._layerNames[d],c.displayFieldName=this._displayFields[d],m&&o.push({text:this.options.formatSuggestion.call(this,c),unformattedText:c.properties[c.displayFieldName],magicKey:f.attributes[m]+":"+d})}}t(r,o.reverse())},this)},results:function(i,e,t,n){var r=[],s;if(e&&!e.includes(",")){var l=e.split(":")[0],o=e.split(":")[1];s=this.query().layer(o).featureIds(l)}else s=this.find().text(i).fields(this.options.searchFields).layers(this.options.layers);return s.run(function(a,u,c){if(!a){c.results&&(c.results=c.results.reverse());for(var f=0;f<u.features.length;f++){var d=u.features[f];if(o=o||c.results[f].layerId,d&&o!==void 0){var m=this._featureBounds(d);d.layerId=o,d.layerName=this._layerNames[o],d.displayFieldName=this._displayFields[o];var p={latlng:m.getCenter(),bounds:m,text:this.options.formatSuggestion.call(this,d),properties:d.properties,geojson:d};r.push(p)}}}n(a,r.reverse())},this)},_featureBounds:function(i){var e=Le.exports.geoJson(i);if(i.geometry.type==="Point"){var t=e.getBounds().getCenter(),n=this.options.bufferRadius/40075017*360/Math.cos(180/Math.PI*t.lat),r=this.options.bufferRadius/40075017*360;return Le.exports.latLngBounds([t.lat-r,t.lng-n],[t.lat+r,t.lng+n])}else return e.getBounds()},_layerMetadataCallback:function(i){return Le.exports.Util.bind(function(e,t){if(!e){this._displayFields[i]=t.displayField,this._layerNames[i]=t.name;for(var n=0;n<t.fields.length;n++){var r=t.fields[n];if(r.type==="esriFieldTypeOID"){this._idFields[i]=r.name;break}}}},this)},_getIdFields:function(){this._idFields={},this._displayFields={},this._layerNames={};for(var i=0;i<this.options.layers.length;i++){var e=this.options.layers[i];this.get(e,{},this._layerMetadataCallback(e))}}});function w5e(i){return new y5e(i)}gb.extend({options:{label:"Geocode Server",maxResults:5},suggestions:function(i,e,t){if(this.options.supportsSuggest){var n=this.suggest().text(i);return e&&n.within(e),n.run(function(r,s,l){var o=[];if(!r)for(;l.suggestions.length&&o.length<=this.options.maxResults-1;){var a=l.suggestions.shift();a.isCollection||o.push({text:a.text,unformattedText:a.text,magicKey:a.magicKey})}t(r,o)},this)}else return t(void 0,[]),!1},results:function(i,e,t,n){var r=this.geocode().text(i);return e&&r.key(e),r.maxLocations(this.options.maxResults),t&&r.within(t),r.run(function(s,l){n(s,l.results)},this)}});function v5(i){let e,t,n,r,s,l;return t=new je({props:{icon:IO}}),{c(){e=A("button"),O(t.$$.fragment),h(e,"class","map-lock-cover absolute top-0 left-0 right-0 bottom-0 w-full flex bg-opacity-10 p-5 justify-end items-start bg-black z-10")},m(o,a){w(o,e,a),N(t,e,null),r=!0,s||(l=ke(e,"click",i[17]),s=!0)},p(o,a){i=o},i(o){r||(_(t.$$.fragment,o),Rn(()=>{n||(n=lr(e,cs,{duration:200,easing:al},!0)),n.run(1)}),r=!0)},o(o){v(t.$$.fragment,o),n||(n=lr(e,cs,{duration:200,easing:al},!1)),n.run(0),r=!1},d(o){o&&y(e),M(t),o&&n&&n.end(),s=!1,l()}}}function b5(i){let e;return{c(){e=A("div"),e.innerHTML=`<div class="picker-target"><svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 60 60" height="120" style="enable-background:new 0 0 60 60;" xml:space="preserve"><g><path d="M42,29h-5.08c-0.441-3.059-2.861-5.479-5.92-5.92V18c0-0.553-0.447-1-1-1s-1,0.447-1,1v5.08
              c-3.059,0.441-5.479,2.862-5.92,5.92H18c-0.553,0-1,0.447-1,1s0.447,1,1,1h5.08c0.441,3.059,2.861,5.479,5.92,5.92V42
              c0,0.553,0.447,1,1,1s1-0.447,1-1v-5.08c3.059-0.441,5.479-2.862,5.92-5.92H42c0.553,0,1-0.447,1-1S42.553,29,42,29z
              M30,35
              c-2.757,0-5-2.243-5-5s2.243-5,5-5s5,2.243,5,5S32.757,35,30,35z"></path></g></svg></div>`,h(e,"class","picker-cover")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function k5(i){let e,t;return e=new Me({props:{className:"favorites-button tap-icon",shape:"rounded",icon:!0,$$slots:{default:[$5e]},$$scope:{ctx:i}}}),e.$on("click",i[11]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&8388608&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function $5e(i){let e,t;return e=new je({props:{icon:mH,size:18}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function F5e(i){let e,t,n,r,s,l,o,a,u,c=i[0]&&v5(i),f=i[2]&&b5(),d=i[2]&&i[9].length&&!i[6]&&k5(i);return{c(){e=A("div"),c&&c.c(),t=Y(),f&&f.c(),n=Y(),r=A("div"),s=A("div"),l=Y(),d&&d.c(),h(s,"id",i[10]),h(s,"class","n-map"),h(r,"class","n-map-wrapper"),nt(r,"bottom",i[2]?"1px":"0"),h(e,"class",o=i[4]+" n-map-container relative "+(i[1]?"small ":"")),h(e,"style",a=(i[3]?`height: ${i[3]}px;`:`min-height: ${i[8].height}px;`)+" "+i[5])},m(m,p){w(m,e,p),c&&c.m(e,null),E(e,t),f&&f.m(e,null),E(e,n),E(e,r),E(r,s),E(r,l),d&&d.m(r,null),i[18](e),u=!0},p(m,[p]){m[0]?c?(c.p(m,p),p&1&&_(c,1)):(c=v5(m),c.c(),_(c,1),c.m(e,t)):c&&(ie(),v(c,1,1,()=>{c=null}),re()),m[2]?f||(f=b5(),f.c(),f.m(e,n)):f&&(f.d(1),f=null),m[2]&&m[9].length&&!m[6]?d?(d.p(m,p),p&580&&_(d,1)):(d=k5(m),d.c(),_(d,1),d.m(r,null)):d&&(ie(),v(d,1,1,()=>{d=null}),re()),(!u||p&4)&&nt(r,"bottom",m[2]?"1px":"0"),(!u||p&18&&o!==(o=m[4]+" n-map-container relative "+(m[1]?"small ":"")))&&h(e,"class",o),(!u||p&296&&a!==(a=(m[3]?`height: ${m[3]}px;`:`min-height: ${m[8].height}px;`)+" "+m[5]))&&h(e,"style",a)},i(m){u||(_(c),_(d),u=!0)},o(m){v(c),v(d),u=!1},d(m){m&&y(e),c&&c.d(),f&&f.d(),d&&d.d(),i[18](null)}}}function E5e(i,e,t){let n;Ee(i,Wr,z=>t(9,n=z));let{locations:r=[]}=e,{records:s=[]}=e,{small:l=void 0}=e,{picker:o=void 0}=e,{height:a=void 0}=e,{className:u=""}=e,{style:c=""}=e,{lock:f=!1}=e,{hideFavorite:d=!1}=e;const m=Dt(),p=`map-${Math.random().toString().replace(".","")}`,g=p5e();let k,$,D={locationName:null,activeLocation:r[r.length-1]||null,locating:!1,lat:null,lng:null,showLocations:!1,height:"100px"},F;async function C(){try{await I.init(),I.renderMap()}catch(z){console.error("init and render error",z.message)}}async function S(){let z=n.map(q=>({title:q.name,icon:dH,click:()=>{I.setLocation(q),m("change",q)}}));Xe.popmenu({id:"locations-view",title:`${_e.t("location.saved-locations","Saved Locations")}`,buttons:z})}let P=[],{methods:I={init(){var z;return P=[],$&&t(8,D.height=(z=$==null?void 0:$.parentElement)==null?void 0:z.clientHeight,D),new Promise((q,H)=>{if(document.getElementById(p)){t(15,k=new uo.Map(p).fitWorld());var K=pB();let G=k5e({zoomToResult:!0,placeholder:"Search",useMapBounds:25,providers:[K,w5e({label:"States and Counties",url:"https://sampleserver6.arcgisonline.com/arcgis/rest/services/Census/MapServer",layers:[2,3],searchFields:["NAME","STATE_NAME"]})]});G.on("results",V=>{if(V.latlng){let x=new vo({lat:V.latlng.lat,lng:V.latlng.lng,name:V.text});I.setLocation(x)}});let U;const Q=()=>{let V=k.getCenter(),x=V.lat,ee=V.lng;t(8,D.lat=x,D),t(8,D.lng=ee,D);const J=async()=>{m("change",new vo({...k.getCenter(),location:D.locationName,name:D.locationName}))};clearTimeout(U),U=setTimeout(()=>{J()},1e3)};k.off("moveend",Q),o&&(G.addTo(k),k.on("moveend",Q)),k.eachLayer(function(V){k.removeLayer(V)}),q(k)}})},deleteLocation(z){Xe.confirm(`${_e.t("general.delete")} ${z.name}?`).then(q=>{q&&Wr.remove(z)})},editName(z){Xe.prompt("Location Name",null,{value:z.name}).then(q=>{z.name=q,Wr.upsert(z)})},setLocation(z){t(8,D.locationName=z.name,D),t(8,D.lat=z.lat,D),t(8,D.lng=z.lng,D),t(12,r=[z]),t(8,D.showLocations=!1,D),k.setView(uo.latLng(z.lat,z.lng),12),m("location",z)},saveLocation(){Wr.upsert(new vo({name:D.locationName,lat:D.lat,lng:D.lng})).then(z=>{un({message:`${_e.t("general.saved","Saved")}`})})},renderMap(){let z='&copy; <a href="https://www.openstreetmap.org/">OSM</a> <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>',q="https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png";if($){document.documentElement.classList.contains("mode-dark")&&(q="https://cartodb-basemaps-{s}.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"),uo.tileLayer(q,{attribution:z,maxZoom:18}).addTo(k);var H=uo.icon({iconUrl:"/images/map/map-marker.svg",iconRetinaUrl:"/images/map/map-marker.svg",iconSize:[32,32],iconAnchor:[9,21],popupAnchor:[0,-14]});let K=(Q,V,x)=>{let ee=new uo.marker(Q,{icon:H});V&&ee.bindPopup(V),ee.on("click",x),ee.addTo(k),P.push(ee)},G=r.map(Q=>[Q.lat,Q.lng]);if(RL.furthest(G,"nm")>.5){r.forEach(V=>{K([V.lat,V.lng],V.name,()=>{t(8,D.activeLocation=V,D),V.log&&gc(V.log)})});let Q=V=>{var x=[];return V.forEach(ee=>{x.push([ee.lat,ee.lng])}),x};uo.polyline(Q(r),{color:"rgba(2.7%, 52.5%, 100%, 0.378)"}).addTo(k)}else if(r.length){let Q;K([r[0].lat,r[0].lng],r[0].name,()=>{t(8,D.activeLocation=r[0],D);const V=r.map(ee=>ee.log.note).join(`

`),x=r.find(ee=>ee.log.end).log;clearTimeout(Q),Q=setTimeout(()=>{gc(new Gt({note:V,created:x==null?void 0:x.end}))},100)})}k.invalidateSize(),I.centerMap()}},centerMap(){if(P.length)try{var z=new uo.featureGroup(P);k.fitBounds(z.getBounds())}catch(q){console.error("Caught error trying to center ma",q)}},getLocation(z,q){return new Promise((H,K)=>{g.reverse().latlng([z,q]).run((G,U)=>{H((U||{}).address||"Unknown")})})}}}=e;wt(async()=>{await Et(600),C()});const R=()=>{t(0,f=!1)};function B(z){De[z?"unshift":"push"](()=>{$=z,t(7,$)})}return i.$$set=z=>{"locations"in z&&t(12,r=z.locations),"records"in z&&t(13,s=z.records),"small"in z&&t(1,l=z.small),"picker"in z&&t(2,o=z.picker),"height"in z&&t(3,a=z.height),"className"in z&&t(4,u=z.className),"style"in z&&t(5,c=z.style),"lock"in z&&t(0,f=z.lock),"hideFavorite"in z&&t(6,d=z.hideFavorite),"methods"in z&&t(14,I=z.methods)},i.$$.update=()=>{if(i.$$.dirty&12288&&!r.length&&s.length)try{let z=s.filter(q=>q.lat).map(q=>({lat:q.lat,lng:q.lng,name:q.location,log:q}));t(12,r=z)}catch(z){console.error("Location || record length reaction error",z.mesasge)}if(i.$$.dirty&69632&&r&&JSON.stringify(r)!==F)try{t(16,F=JSON.stringify(r)),C()}catch(z){console.error("Location change error",z.message)}if(i.$$.dirty&36868&&o&&k&&r.length==0)try{Od().then(z=>{r.push({lat:z.latitude,lng:z.longitude,name:"Unnamed"}),k.setView(uo.latLng(z.latitude,z.longitude),12)}).catch(z=>{})}catch(z){console.error("Picker reaction error",z.message)}},[f,l,o,a,u,c,d,$,D,n,p,S,r,s,I,k,F,R,B]}class Yc extends ce{constructor(e){super(),ue(this,e,E5e,F5e,le,{locations:12,records:13,small:1,picker:2,height:3,className:4,style:5,lock:0,hideFavorite:6,methods:14})}}const D5e=async(i,e)=>{const t=we(i),n=t.add(30,"day"),r=t.subtract(30,"day"),s=(await Ut.query({start:r,end:n})).filter(a=>a.elements.filter(u=>u.type=="context")),l=Ms(s,{trackables:e}),o={};return Object.keys(l).forEach(a=>{const u=l[a];if(u.trackable.type==="context"){let c=!1;u.dates.forEach(f=>{let d=we(f).subtract(2,"day").toDate();i>=d&&(c=!0)}),c&&(o[a]=u)}}),o};function y5(i,e,t){const n=i.slice();return n[20]=e[t],n}function w5(i,e,t){const n=i.slice();return n[23]=e[t],n[25]=t,n}function $5(i){let e;return{c(){e=A("div"),e.textContent="No Context for this time period.",h(e,"class","w-full h-full flex items-center justify-center text-gray-500 text-xs")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function F5(i){let e,t,n,r;function s(){return i[11](i[23])}return{c(){e=A("div"),t=A("div"),h(t,"class","cover"),h(e,"class","cc-bar"),nt(e,"--cc-start-index",i[23].startIndex),nt(e,"--cc-bar-parts",i[23].value)},m(l,o){w(l,e,o),E(e,t),n||(r=ke(e,"click",s),n=!0)},p(l,o){i=l,o&64&&nt(e,"--cc-start-index",i[23].startIndex),o&64&&nt(e,"--cc-bar-parts",i[23].value)},d(l){l&&y(e),n=!1,r()}}}function E5(i){let e,t,n=i[20].trackable.label+"",r,s,l,o,a,u,c,f,d;l=new fi({props:{trackable:i[20].trackable,size:16,className:"ml-1 shadow-md"}});function m(){return i[10](i[20])}let p=i[20].marks,g=[];for(let $=0;$<p.length;$+=1)g[$]=F5(w5(i,p,$));function k(){return i[12](i[20])}return{c(){e=A("div"),t=A("button"),r=Z(n),s=Y(),O(l.$$.fragment),o=Y();for(let $=0;$<g.length;$+=1)g[$].c();a=Y(),h(t,"class","mr-1 bar-trackable-label flex items-center"),h(e,"class","text-white cc-item-holder"),nt(e,"--trackable-color",i[20].trackable.color),nt(e,"--trackable-color-rgb",Bk(i[20].trackable.color)),h(e,"data-label",u=i[20].trackable.label)},m($,D){w($,e,D),E(e,t),E(t,r),E(t,s),N(l,t,null),E(e,o);for(let F=0;F<g.length;F+=1)g[F].m(e,null);E(e,a),c=!0,f||(d=[ke(t,"click",m),ke(e,"click",k)],f=!0)},p($,D){i=$,(!c||D&64)&&n!==(n=i[20].trackable.label+"")&&oe(r,n);const F={};if(D&64&&(F.trackable=i[20].trackable),l.$set(F),D&192){p=i[20].marks;let C;for(C=0;C<p.length;C+=1){const S=w5(i,p,C);g[C]?g[C].p(S,D):(g[C]=F5(S),g[C].c(),g[C].m(e,a))}for(;C<g.length;C+=1)g[C].d(1);g.length=p.length}(!c||D&64)&&nt(e,"--trackable-color",i[20].trackable.color),(!c||D&64)&&nt(e,"--trackable-color-rgb",Bk(i[20].trackable.color)),(!c||D&64&&u!==(u=i[20].trackable.label))&&h(e,"data-label",u)},i($){c||(_(l.$$.fragment,$),c=!0)},o($){v(l.$$.fragment,$),c=!1},d($){$&&y(e),M(l),it(g,$),f=!1,pt(d)}}}function D5(i){let e,t,n,r,s,l;return t=new je({props:{size:16,icon:E0}}),{c(){e=A("button"),O(t.$$.fragment),h(e,"class",n="absolute transition-all rounded-lg h-7 w-7 flex items-center justify-center border-opacity-70 duration-200 bottom-1 left-1 z-40 "+(i[1]=="sm"?"bg-white bg-opacity-10 text-white":"bg-white bg-opacity-30 text-white"))},m(o,a){w(o,e,a),N(t,e,null),r=!0,s||(l=ke(e,"click",i[14]),s=!0)},p(o,a){(!r||a&2&&n!==(n="absolute transition-all rounded-lg h-7 w-7 flex items-center justify-center border-opacity-70 duration-200 bottom-1 left-1 z-40 "+(o[1]=="sm"?"bg-white bg-opacity-10 text-white":"bg-white bg-opacity-30 text-white")))&&h(e,"class",n)},i(o){r||(_(t.$$.fragment,o),r=!0)},o(o){v(t.$$.fragment,o),r=!1},d(o){o&&y(e),M(t),s=!1,l()}}}function C5e(i){let e,t,n,r,s,l,o,a,u=i[6].length==0&&$5(),c=i[6],f=[];for(let p=0;p<c.length;p+=1)f[p]=E5(y5(i,c,p));const d=p=>v(f[p],1,1,()=>{f[p]=null});let m=i[1]!=="auto"&&D5(i);return{c(){e=A("div"),t=A("div"),n=Y(),r=A("div"),u&&u.c(),s=Y();for(let p=0;p<f.length;p+=1)f[p].c();l=Y(),m&&m.c(),h(t,"class","cc-now-mark"),h(r,"class","context-chart-bound md:rounded-xl"),nt(r,"--cc-width",i[4]+"px"),nt(r,"--cc-height",i[0]+"px"),nt(r,"--cc-item-count",i[6].length),nt(r,"--cc-row-height",i[5]+"px"),h(e,"class",o="relative context-wrapper size-"+i[1]+" "+i[2])},m(p,g){w(p,e,g),E(e,t),E(e,n),E(e,r),u&&u.m(r,null),E(r,s);for(let k=0;k<f.length;k+=1)f[k].m(r,null);i[13](r),E(e,l),m&&m.m(e,null),a=!0},p(p,[g]){if(p[6].length==0?u||(u=$5(),u.c(),u.m(r,s)):u&&(u.d(1),u=null),g&192){c=p[6];let k;for(k=0;k<c.length;k+=1){const $=y5(p,c,k);f[k]?(f[k].p($,g),_(f[k],1)):(f[k]=E5($),f[k].c(),_(f[k],1),f[k].m(r,null))}for(ie(),k=c.length;k<f.length;k+=1)d(k);re()}(!a||g&16)&&nt(r,"--cc-width",p[4]+"px"),(!a||g&1)&&nt(r,"--cc-height",p[0]+"px"),(!a||g&64)&&nt(r,"--cc-item-count",p[6].length),(!a||g&32)&&nt(r,"--cc-row-height",p[5]+"px"),p[1]!=="auto"?m?(m.p(p,g),g&2&&_(m,1)):(m=D5(p),m.c(),_(m,1),m.m(e,null)):m&&(ie(),v(m,1,1,()=>{m=null}),re()),(!a||g&6&&o!==(o="relative context-wrapper size-"+p[1]+" "+p[2]))&&h(e,"class",o)},i(p){if(!a){for(let g=0;g<c.length;g+=1)_(f[g]);_(m),a=!0}},o(p){f=f.filter(Boolean);for(let g=0;g<f.length;g+=1)v(f[g]);v(m),a=!1},d(p){p&&y(e),u&&u.d(),it(f,p),i[13](null),m&&m.d()}}}function S5e(i,e,t){let n;Ee(i,It,I=>t(18,n=I));const r=Dt();let{date:s=new Date}=e,{height:l=320}=e,{className:o=""}=e,{size:a="sm"}=e,u,c=[],f=320,d,m,p=0,g=[],k;async function $(){const I=n.trackables,R=we(d),B=we(m),z=await D5e(s,I);c=z?Object.keys(z).map(H=>z[H]):[];const q=[];c.forEach(H=>{const K={trackable:H.trackable,marks:[]},G=H.trackable;(H.dates||[]).forEach((U,Q)=>{let V=G.ctx.duration>G.value?G.ctx.duration:G.value||G.ctx.duration,x={startDate:U.toDate(),usage:H,endDate:we(U).add(V||1).toDate(),startIndex:we(U).diff(R,"day"),endIndex:B.diff(we(U),"day"),value:V};K.marks.push(x)}),q.push(K)}),t(6,g=q.sort((H,K)=>{const G=H.marks[0].endDate.getTime()+H.marks[0].value,U=K.marks[0].endDate.getTime()+K.marks[0].value;return G<U?1:-1})),t(5,p=l/q.length),t(5,p=p<1?10:p),g.length===0&&t(1,a="sm")}wt(()=>{u&&(t(4,f=u.offsetWidth),t(0,l=u.offsetHeight))});const D=I=>{Ui(I.trackable)},F=I=>{r("item-click",I),Xe.popmenu({id:`context-item-${I.usage.trackable.tag}`,buttons:[...Rz(I.usage.logs[0]),...rp(vLe(I.usage.trackable)),...rp(y_(I.startDate))]})},C=I=>{r("click",I.trackable)};function S(I){De[I?"unshift":"push"](()=>{u=I,t(3,u)})}const P=()=>{t(1,a=a=="sm"?"lg":"sm")};return i.$$set=I=>{"date"in I&&t(8,s=I.date),"height"in I&&t(0,l=I.height),"className"in I&&t(2,o=I.className),"size"in I&&t(1,a=I.size)},i.$$.update=()=>{i.$$.dirty&768&&s&&s!==k&&(t(9,k=s),d=we(s).subtract(30,"day").toDate(),m=we(s).add(30,"day").toDate(),$())},[l,a,o,u,f,p,g,r,s,k,D,F,C,S,P]}class _B extends ce{constructor(e){super(),ue(this,e,S5e,C5e,le,{date:8,height:0,className:2,size:1})}}function C5(i,e,t){const n=i.slice();return n[6]=e[t],n[8]=t,n}function S5(i){let e,t,n,r,s,l=i[2],o=[];for(let a=0;a<l.length;a+=1)o[a]=T5(C5(i,l,a));return{c(){e=A("div"),t=A("div"),n=Z(i[1]),r=Y();for(let a=0;a<o.length;a+=1)o[a].c();h(t,"class","score flex items-center bg-gray-300 dark:bg-gray-900 px-1 text-xs"),h(e,"class",s="score-grid "+(i[0]||"h-4"))},m(a,u){w(a,e,u),E(e,t),E(t,n),E(e,r);for(let c=0;c<o.length;c+=1)o[c].m(e,null)},p(a,u){if(u&2&&oe(n,a[1]),u&4){l=a[2];let c;for(c=0;c<l.length;c+=1){const f=C5(a,l,c);o[c]?o[c].p(f,u):(o[c]=T5(f),o[c].c(),o[c].m(e,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=l.length}u&1&&s!==(s="score-grid "+(a[0]||"h-4"))&&h(e,"class",s)},d(a){a&&y(e),it(o,a)}}}function T5(i){let e,t;return{c(){e=A("div"),h(e,"class",t="hour "+i[6])},m(n,r){w(n,e,r)},p(n,r){r&4&&t!==(t="hour "+n[6])&&h(e,"class",t)},d(n){n&&y(e)}}}function T5e(i){let e,t=i[1]&&S5(i);return{c(){t&&t.c(),e=$e()},m(n,r){t&&t.m(n,r),w(n,e,r)},p(n,[r]){n[1]?t?t.p(n,r):(t=S5(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:W,o:W,d(n){t&&t.d(n),n&&y(e)}}}function A5e(i,e,t){let n;Ee(i,jr,u=>t(5,n=u));let{logs:r=[]}=e,{className:s=""}=e,l=!1,o=[],a=0;return wt(()=>{t(4,l=!0)}),i.$$set=u=>{"logs"in u&&t(3,r=u.logs),"className"in u&&t(0,s=u.className)},i.$$.update=()=>{if(i.$$.dirty&58&&r&&l){let u=wQ(r,n);t(1,a=0),t(2,o=u.byHour.map(c=>(t(1,a=a+c),c>0?"positive":c<0?"negative":"neutral")))}},[s,a,o,r,l,n]}class gB extends ce{constructor(e){super(),ue(this,e,A5e,T5e,le,{logs:3,className:0})}}function A5(i,e,t){const n=i.slice();return n[4]=e[t],n}function P5(i){let e,t,n;return t=new Vn({props:{className:"px-4 pb-4",$$slots:{default:[P5e]},$$scope:{ctx:i}}}),{c(){e=A("section"),O(t.$$.fragment),h(e,"class","mt-3 bg-primary-500")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p(r,s){const l={};s&129&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function N5(i){let e,t,n,r=we(i[4].end).fromNow()+"",s,l,o,a,u,c,f,d,m;o=new je({props:{icon:DP,className:"fill-white",size:16}});function p(){return i[2](i[4])}return c=new Xo({props:{fullDate:!0,className:"aged",log:i[4]}}),c.$on("textClick",i[3]),{c(){e=A("div"),t=A("button"),n=A("span"),s=Z(r),l=Y(),O(o.$$.fragment),u=Y(),O(c.$$.fragment),h(n,"class","text-sm"),h(t,"aria-label",a="View logs from "+we(i[4].end).format("ddd MM YYYY")),h(t,"class","flex items-center justify-center w-full py-2 font-medium text-black bg-primary-500"),h(e,"class","py-3 text-center memories-log-header")},m(g,k){w(g,e,k),E(e,t),E(t,n),E(n,s),E(t,l),N(o,t,null),w(g,u,k),N(c,g,k),f=!0,d||(m=ke(t,"click",p),d=!0)},p(g,k){i=g,(!f||k&1)&&r!==(r=we(i[4].end).fromNow()+"")&&oe(s,r),(!f||k&1&&a!==(a="View logs from "+we(i[4].end).format("ddd MM YYYY")))&&h(t,"aria-label",a);const $={};k&1&&($.log=i[4]),c.$set($)},i(g){f||(_(o.$$.fragment,g),_(c.$$.fragment,g),f=!0)},o(g){v(o.$$.fragment,g),v(c.$$.fragment,g),f=!1},d(g){g&&y(e),M(o),g&&y(u),M(c,g),d=!1,m()}}}function P5e(i){let e,t,n=i[0].memories,r=[];for(let l=0;l<n.length;l+=1)r[l]=N5(A5(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){e=A("div");for(let l=0;l<r.length;l+=1)r[l].c();h(e,"class","memories")},m(l,o){w(l,e,o);for(let a=0;a<r.length;a+=1)r[a].m(e,null);t=!0},p(l,o){if(o&3){n=l[0].memories;let a;for(a=0;a<n.length;a+=1){const u=A5(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=N5(u),r[a].c(),_(r[a],1),r[a].m(e,null))}for(ie(),a=n.length;a<r.length;a+=1)s(a);re()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){l&&y(e),it(r,l)}}}function N5e(i){let e,t,n=i[0].memories.length>0&&P5(i);return{c(){n&&n.c(),e=$e()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,[s]){r[0].memories.length>0?n?(n.p(r,s),s&1&&_(n,1)):(n=P5(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ie(),v(n,1,1,()=>{n=null}),re())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function M5e(i,e,t){let n;Ee(i,Ut,o=>t(0,n=o));const r=Dt();return wt(async()=>{await Ut.getMemories()}),[n,r,o=>{r("date",o.end)},o=>{r("text",o)}]}class L5e extends ce{constructor(e){super(),ue(this,e,M5e,N5e,le,{})}}const{Map:O5e}=Cj;function M5(i,e,t){const n=i.slice();return n[8]=e[t],n}function L5(i,e,t){const n=i.slice();return n[31]=e[t],n}function O5(i,e,t){const n=i.slice();return n[26]=e[t],n}function I5(i,e,t){const n=i.slice();return n[26]=e[t],n}const I5e=i=>({}),B5=i=>({});function z5(i,e,t){const n=i.slice();return n[23]=e[t],n}function R5(i){let e,t;return e=new Vn({props:{className:"px-2 z-10",$$slots:{default:[B5e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[0]&2097154&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function B5e(i){let e,t,n;return t=new gB({props:{logs:i[1]}}),{c(){e=A("div"),O(t.$$.fragment),h(e,"class","px-2 flex space-y-2 lg:space-y-0 lg:space-x-2 lg:flex-row flex-col items-center")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p(r,s){const l={};s[0]&2&&(l.logs=r[1]),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function z5e(i){let e=i[1],t,n,r=j5(i);return{c(){r.c(),t=$e()},m(s,l){r.m(s,l),w(s,t,l),n=!0},p(s,l){l[0]&2&&le(e,e=s[1])?(ie(),v(r,1,1,W),re(),r=j5(s),r.c(),_(r,1),r.m(t.parentNode,t)):r.p(s,l)},i(s){n||(_(r),n=!0)},o(s){v(r),n=!1},d(s){s&&y(t),r.d(s)}}}function R5e(i){let e,t,n,r;const s=[V5e,W5e],l=[];function o(a,u){return a[8].length?1:0}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=$e()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?l[e].p(a,u):(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function j5e(i){let e,t,n,r;const s=[X5e,x5e],l=[];function o(a,u){return a[5].length?1:0}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=$e()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?l[e].p(a,u):(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function Y5e(i){let e,t,n,r;const s=[nEe,tEe],l=[];function o(a,u){return a[4].length?1:0}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=$e()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?l[e].p(a,u):(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function U5e(i){let e,t,n,r;const s=[sEe,rEe],l=[];function o(a,u){return a[1].length?1:0}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=$e()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?l[e].p(a,u):(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function q5e(i){let e,t;return e=new _B({props:{size:"auto",date:i[6]}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[0]&64&&(s.date=n[6]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function H5e(i){let e,t;return e=new Vn({props:{className:"p-3",$$slots:{default:[aEe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[0]&2097288&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function j5(i){let e,t;return e=new Yc({props:{records:i[1],className:"h-full h-75vh"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[0]&2&&(s.records=n[1]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function W5e(i){let e,t;return e=new Vn({props:{$$slots:{default:[Z5e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[0]&2097408&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function V5e(i){let e,t;return e=new Gn({props:{title:_e.t("on-this-day.no-context","No Context on this Day"),emoji:"\u{1F937}\u200D\u2642\uFE0F"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function G5e(i){let e=i[8]+"",t,n;return{c(){t=Z(e),n=Y()},m(r,s){w(r,t,s),w(r,n,s)},p(r,s){s[0]&256&&e!==(e=r[8]+"")&&oe(t,e)},d(r){r&&y(t),r&&y(n)}}}function Y5(i){let e,t;function n(){return i[19](i[8])}return e=new Me({props:{shape:"round",size:"lg",color:"light",className:"m-2",$$slots:{default:[G5e]},$$scope:{ctx:i}}}),e.$on("click",n),{c(){O(e.$$.fragment)},m(r,s){N(e,r,s),t=!0},p(r,s){i=r;const l={};s[0]&2097408&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){M(e,r)}}}function Z5e(i){let e,t,n=i[8],r=[];for(let l=0;l<n.length;l+=1)r[l]=Y5(M5(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){e=A("div");for(let l=0;l<r.length;l+=1)r[l].c();h(e,"class","mt-3 n-grid")},m(l,o){w(l,e,o);for(let a=0;a<r.length;a+=1)r[a].m(e,null);t=!0},p(l,o){if(o[0]&256){n=l[8];let a;for(a=0;a<n.length;a+=1){const u=M5(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=Y5(u),r[a].c(),_(r[a],1),r[a].m(e,null))}for(ie(),a=n.length;a<r.length;a+=1)s(a);re()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){l&&y(e),it(r,l)}}}function x5e(i){let e,t;return e=new Vn({props:{$$slots:{default:[eEe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[0]&2097184&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function X5e(i){let e,t;return e=new Gn({props:{title:_e.t("on-this-day.no-people","No People on this Day"),icon:xq}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function K5e(i){let e,t=i[31].displayName+"",n,r;return{c(){e=A("h2"),n=Z(t),r=Y(),h(e,"class","ntitle")},m(s,l){w(s,e,l),E(e,n),w(s,r,l)},p(s,l){l[0]&32&&t!==(t=s[31].displayName+"")&&oe(n,t)},d(s){s&&y(e),s&&y(r)}}}function J5e(i){let e,t;return e=new fi({props:{trackable:i[31].toTrackable(),slot:"left",size:42}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[0]&32&&(s.trackable=n[31].toTrackable()),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Q5e(i){let e,t,n=i[31].username+"",r;return{c(){e=A("div"),t=Z("@"),r=Z(n),h(e,"class","text-sm text-gray-500"),h(e,"slot","right")},m(s,l){w(s,e,l),E(e,t),E(e,r)},p(s,l){l[0]&32&&n!==(n=s[31].username+"")&&oe(r,n)},d(s){s&&y(e)}}}function U5(i){let e,t;function n(){return i[18](i[31])}return e=new xe({props:{bottomLine:68,clickable:!0,$$slots:{right:[Q5e],left:[J5e],default:[K5e]},$$scope:{ctx:i}}}),e.$on("click",n),{c(){O(e.$$.fragment)},m(r,s){N(e,r,s),t=!0},p(r,s){i=r;const l={};s[0]&2097184&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){M(e,r)}}}function eEe(i){let e,t,n=i[5],r=[];for(let l=0;l<n.length;l+=1)r[l]=U5(L5(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=$e()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o[0]&32){n=l[5];let a;for(a=0;a<n.length;a+=1){const u=L5(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=U5(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ie(),a=n.length;a<r.length;a+=1)s(a);re()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){it(r,l),l&&y(e)}}}function tEe(i){let e,t;return e=new Vn({props:{className:"p-2 py-4 space-y-4",$$slots:{default:[iEe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[0]&2097168&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function nEe(i){let e,t;return e=new Gn({props:{title:_e.t("on-this-day.no-notes","No Notes on this Day"),emoji:"\u270D\u{1F3FD}"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function q5(i){let e,t;return e=new Xo({props:{log:i[26]}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[0]&16&&(s.log=n[26]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function iEe(i){let e,t,n=i[4],r=[];for(let l=0;l<n.length;l+=1)r[l]=q5(O5(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=$e()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o[0]&16){n=l[4];let a;for(a=0;a<n.length;a+=1){const u=O5(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=q5(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ie(),a=n.length;a<r.length;a+=1)s(a);re()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){it(r,l),l&&y(e)}}}function rEe(i){let e,t;return e=new Vn({props:{className:"p-2 py-4 space-y-4",$$slots:{default:[lEe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[0]&2097158&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function sEe(i){let e;const t=i[15].empty,n=He(t,i,i[21],B5);return{c(){n&&n.c()},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s[0]&2097152)&&Ve(n,t,r,r[21],e?We(t,r[21],s,I5e):Ge(r[21]),B5)},i(r){e||(_(n,r),e=!0)},o(r){v(n,r),e=!1},d(r){n&&n.d(r)}}}function H5(i){let e,t;return e=new Xo({props:{className:"mb-2",log:i[26]}}),e.$on("textClick",i[17]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[0]&2&&(s.log=n[26]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function lEe(i){let e,t,n=i[1],r=[];for(let l=0;l<n.length;l+=1)r[l]=H5(I5(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=$e()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o[0]&6){n=l[1];let a;for(a=0;a<n.length;a+=1){const u=I5(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=H5(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ie(),a=n.length;a<r.length;a+=1)s(a);re()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){it(r,l),l&&y(e)}}}function W5(i,e){let t,n,r;function s(){return e[16](e[23])}return n=new vl({props:{trackable:e[23].tracker.toTrackable(e[23].value)}}),n.$on("click",s),{key:i,first:null,c(){t=$e(),O(n.$$.fragment),this.first=t},m(l,o){w(l,t,o),N(n,l,o),r=!0},p(l,o){e=l;const a={};o[0]&8&&(a.trackable=e[23].tracker.toTrackable(e[23].value)),n.$set(a)},i(l){r||(_(n.$$.fragment,l),r=!0)},o(l){v(n.$$.fragment,l),r=!1},d(l){l&&y(t),M(n,l)}}}function oEe(i){let e=[],t=new O5e,n,r,s=i[3];const l=o=>o[23].tag;for(let o=0;o<s.length;o+=1){let a=z5(i,s,o),u=l(a);t.set(u,e[o]=W5(u,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();n=$e()},m(o,a){for(let u=0;u<e.length;u+=1)e[u].m(o,a);w(o,n,a),r=!0},p(o,a){a[0]&8&&(s=o[3],ie(),e=qn(e,a,l,1,o,s,t,n.parentNode,Ci,W5,n,z5),re())},i(o){if(!r){for(let a=0;a<s.length;a+=1)_(e[a]);r=!0}},o(o){for(let a=0;a<e.length;a+=1)v(e[a]);r=!1},d(o){for(let a=0;a<e.length;a+=1)e[a].d(o);o&&y(n)}}}function aEe(i){let e,t;return e=new z6e({props:{gap:0,columns:i[7],$$slots:{default:[oEe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[0]&128&&(s.columns=n[7]),r[0]&2097160&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function V5(i){let e,t;return e=new L5e({}),e.$on("date",i[20]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function uEe(i){let e,t,n,r,s=i[6].toDateString()===new Date().toDateString(),l,o,a=i[0]!=="context"&&R5(i);const u=[H5e,q5e,U5e,Y5e,j5e,R5e,z5e],c=[];function f(m,p){return m[0]==="trackers"?0:m[0]==="context"?1:m[0]==="all"?2:m[0]==="notes"?3:m[0]==="people"?4:m[0]==="context"?5:m[0]==="locations"?6:-1}~(t=f(i))&&(n=c[t]=u[t](i));let d=s&&V5(i);return{c(){a&&a.c(),e=Y(),n&&n.c(),r=Y(),d&&d.c(),l=$e()},m(m,p){a&&a.m(m,p),w(m,e,p),~t&&c[t].m(m,p),w(m,r,p),d&&d.m(m,p),w(m,l,p),o=!0},p(m,p){m[0]!=="context"?a?(a.p(m,p),p[0]&1&&_(a,1)):(a=R5(m),a.c(),_(a,1),a.m(e.parentNode,e)):a&&(ie(),v(a,1,1,()=>{a=null}),re());let g=t;t=f(m),t===g?~t&&c[t].p(m,p):(n&&(ie(),v(c[g],1,1,()=>{c[g]=null}),re()),~t?(n=c[t],n?n.p(m,p):(n=c[t]=u[t](m),n.c()),_(n,1),n.m(r.parentNode,r)):n=null),p[0]&64&&(s=m[6].toDateString()===new Date().toDateString()),s?d?(d.p(m,p),p[0]&64&&_(d,1)):(d=V5(m),d.c(),_(d,1),d.m(l.parentNode,l)):d&&(ie(),v(d,1,1,()=>{d=null}),re())},i(m){o||(_(a),_(n),_(d),o=!0)},o(m){v(a),v(n),v(d),o=!1},d(m){a&&a.d(m),m&&y(e),~t&&c[t].d(m),m&&y(r),d&&d.d(m),m&&y(l)}}}function cEe(i,e,t){let n,r,s,l;Ee(i,It,B=>t(2,n=B)),Ee(i,jr,B=>t(12,r=B)),Ee(i,Zl,B=>t(13,s=B)),Ee(i,Hn,B=>t(14,l=B));let{$$slots:o={},$$scope:a}=e,{view:u="notes"}=e,{logs:c=[]}=e,f=[],d=[],m=[],p=[];const g=Dt();let k,$=new Date,D=3,F;const C=B=>{Ui(B.tracker.toTrackable(B.value))},S=B=>{Ui(pi(B.detail,n.trackables))},P=B=>{Ui(B.toTrackable())},I=B=>{Ui(new ri({id:B,type:"context",context:B}))},R=B=>{g("date",B.detail)};return i.$$set=B=>{"view"in B&&t(0,u=B.view),"logs"in B&&t(1,c=B.logs),"$$scope"in B&&t(21,a=B.$$scope)},i.$$.update=()=>{if(i.$$.dirty[0]&16384&&(l.width<400?t(7,D=2):(l.width<700||l.width>900)&&t(7,D=3)),i.$$.dirty[0]&15366&&c&&c.length&&k!==c.map(B=>B._id).join(",")){t(6,$=c[0].end),t(10,k=c.map(z=>z._id).join(","));let B=CL(c);t(4,d=XI(c)),t(5,m=JI(c,s)),t(8,p=KI(c)),t(3,f=QI(B,r)),t(11,F=RO(c,n.trackables)),F&&(F[0].score!==0||F[1].score!==0||F[2].score)}},[u,c,n,f,d,m,$,D,p,g,k,F,r,s,l,o,C,S,P,I,R,a]}class vB extends ce{constructor(e){super(),ue(this,e,cEe,uEe,le,{view:0,logs:1},null,[-1,-1])}}const vb=(i,e)=>{let t=[{time:30,title:"1 Month Back",unit:"day"},{time:90,title:"90 Days Back",unit:"day"},{time:180,title:"6 Months Back",unit:"day"},{time:1,title:"1 Year Back",unit:"year"},{time:2,title:"2 Years Back",unit:"year"},{time:-1,divider:!0,title:`${_e.t("general.select-date","Select Date")}...`,unit:"day"}];return new Promise(n=>{e||t.unshift({days:0,divider:!0,title:`${_e.t("history.go-to-today","Go to Today")}`}),Xe.popmenu({id:"select-date-fuzzy",buttons:t.map(r=>({title:r.title,divider:!!r.divider,click:async()=>{if(r.time==-1){let s=await Xe.selectDate();s&&n(we(s))}else r.time===void 0||r.time===0?n(we(new Date)):n(i.subtract(r.time||0,r.unit||"day"))}}))})})};function G5(i,e,t){const n=i.slice();return n[20]=e[t],n}function fEe(i){let e,t;return e=new Gn({props:{className:"text-gray-500",$$slots:{default:[mEe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&8388608&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function dEe(i){let e,t;return e=new Gn({props:{$$slots:{default:[pEe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&8388608&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function hEe(i){let e,t;return e=new vB({props:{view:i[2],logs:i[0].records}}),e.$on("date",i[16]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&4&&(s.view=n[2]),r&1&&(s.logs=n[0].records),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function mEe(i){let e;return{c(){e=Z("No data on this day")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function pEe(i){let e,t;return e=new Mn({}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function _Ee(i){let e,t,n,r;const s=[hEe,dEe,fEe],l=[];function o(a,u){return a[1]?a[1]?1:2:0}return t=o(i),n=l[t]=s[t](i),{c(){e=A("main"),n.c(),h(e,"class","h-full relative min-h-full h-50vh pt-3")},m(a,u){w(a,e,u),l[t].m(e,null),r=!0},p(a,u){let c=t;t=o(a),t===c?l[t].p(a,u):(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),n=l[t],n?n.p(a,u):(n=l[t]=s[t](a),n.c()),_(n,1),n.m(e,null))},i(a){r||(_(n),r=!0)},o(a){v(n),r=!1},d(a){a&&y(e),l[t].d()}}}function gEe(i){let e,t,n=we(i[3]).format("ddd MMM D, YYYY")+"",r,s,l,o=we(i[3]).fromNow()+"",a;return{c(){e=A("div"),t=A("h2"),r=Z(n),s=Y(),l=A("div"),a=Z(o),h(t,"class","text-center text-black dark:text-white font-bold leading-none text-sm line-clamp-1"),h(l,"class","text-xs text-gray-500 font-medium leading-none mt-1"),h(e,"class","title")},m(u,c){w(u,e,c),E(e,t),E(t,r),E(e,s),E(e,l),E(l,a)},p(u,c){c&8&&n!==(n=we(u[3]).format("ddd MMM D, YYYY")+"")&&oe(r,n),c&8&&o!==(o=we(u[3]).fromNow()+"")&&oe(a,o)},d(u){u&&y(e)}}}function vEe(i){let e=_e.t("general.close","Close")+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p:W,d(n){n&&y(t)}}}function bEe(i){let e,t;return e=new Me({props:{slot:"left",primary:!0,clear:!0,$$slots:{default:[vEe]},$$scope:{ctx:i}}}),e.$on("click",i[8]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&8388608&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function kEe(i){let e,t;return e=new je({props:{icon:Ga}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function yEe(i){let e,t;return e=new Me({props:{icon:!0,clear:!0,primary:!0,$$slots:{default:[kEe]},$$scope:{ctx:i}}}),e.$on("click",i[12]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&8388608&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function wEe(i){let e,t,n;return t=new Ec({props:{hideCal:!0,$$slots:{default:[yEe]},$$scope:{ctx:i}}}),t.$on("previous",i[13]),t.$on("next",i[14]),{c(){e=A("div"),O(t.$$.fragment),h(e,"class","-mr-2"),h(e,"slot","right")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p(r,s){const l={};s&8388608&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function $Ee(i){let e,t;return e=new je({props:{icon:i[20].icon,size:20}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Z5(i){let e,t,n;function r(){return i[15](i[20])}return e=new Me({props:{className:i[2]===i[20].view?"active":"",icon:!0,$$slots:{default:[$Ee]},$$scope:{ctx:i}}}),e.$on("click",r),{c(){O(e.$$.fragment),t=Y()},m(s,l){N(e,s,l),w(s,t,l),n=!0},p(s,l){i=s;const o={};l&4&&(o.className=i[2]===i[20].view?"active":""),l&8388608&&(o.$$scope={dirty:l,ctx:i}),e.$set(o)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){v(e.$$.fragment,s),n=!1},d(s){M(e,s),s&&y(t)}}}function FEe(i){let e,t,n=i[4],r=[];for(let l=0;l<n.length;l+=1)r[l]=Z5(G5(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=$e()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o&52){n=l[4];let a;for(a=0;a<n.length;a+=1){const u=G5(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=Z5(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ie(),a=n.length;a<r.length;a+=1)s(a);re()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){it(r,l),l&&y(e)}}}function EEe(i){let e,t;return e=new ms({props:{compact:!0,$$slots:{default:[FEe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&8388612&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function DEe(i){let e,t,n,r,s;return t=new Jt({props:{$$slots:{right:[wEe],left:[bEe],default:[gEe]},$$scope:{ctx:i}}}),r=new Sr({props:{className:"px-4",$$slots:{default:[EEe]},$$scope:{ctx:i}}}),{c(){e=A("header"),O(t.$$.fragment),n=Y(),O(r.$$.fragment),h(e,"slot","header"),h(e,"class","bg-white dark:bg-black")},m(l,o){w(l,e,o),N(t,e,null),E(e,n),N(r,e,null),s=!0},p(l,o){const a={};o&8388616&&(a.$$scope={dirty:o,ctx:l}),t.$set(a);const u={};o&8388612&&(u.$$scope={dirty:o,ctx:l}),r.$set(u)},i(l){s||(_(t.$$.fragment,l),_(r.$$.fragment,l),s=!0)},o(l){v(t.$$.fragment,l),v(r.$$.fragment,l),s=!1},d(l){l&&y(e),M(t),M(r)}}}function CEe(i){let e,t;return e=new _n({props:{$$slots:{header:[DEe],default:[_Ee]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&8388623&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function SEe(i,e,t){let n,r;Ee(i,bb,I=>t(3,n=I)),Ee(i,Zl,I=>t(17,r=I));let{id:s}=e;const l={notes:[],trackers:[],trackers1:[],trackers2:[],records:[],people:[],context:[],locations:[]};let o=!0,a=xI,u="all";function c(I){t(2,u=I)}async function f(){t(1,o=!0);let I=await Ut.getDay(n),R=Ut.extractTrackerTagAndValues(I);t(0,l.people=JI(I,r),l),t(0,l.context=KI(I),l),t(0,l.notes=XI(I),l),t(0,l.trackers=QI(R),l),t(0,l.records=I,l),t(1,o=!1)}function d(){let I=we(n).add(1,"day").toDate();wg(I),f()}function m(){let I=we(n).subtract(1,"day").toDate();wg(I),f()}const p=()=>{Ot(s)},g=I=>{I&&(wg(I),f())},k=async()=>{let I=await vb(we(n),!1);g(I.toDate())},$=async()=>{f()};wt(()=>{$()});const D=()=>k(),F=()=>{m()},C=()=>{d()},S=I=>{c(I.view)},P=I=>{g(I.detail)};return i.$$set=I=>{"id"in I&&t(11,s=I.id)},[l,o,u,n,a,c,d,m,p,g,k,s,D,F,C,S,P]}class TEe extends ce{constructor(e){super(),ue(this,e,SEe,CEe,le,{id:11})}}const AEe=void 0,bb=Bt(AEe),a_=i=>{i&&(bb.update(e=>i),en({id:`on-this-day-modal-${i.toDateString()}`,component:TEe,componentProps:{}}))},wg=i=>{bb.update(e=>i)},PEe=Pn(),Z1=async(i,e,t)=>{try{let n=we(e).hour(we().hour()).minute(we().minute()).toDate(),r=new Gt({end:n});if(i.tracker){if(i.tracker.type==="tick")r.note=`${i.tag} ${i.tracker.getIncluded(1).trim()}`;else{const s=await xo({tracker:i.tracker,trackables:t,value:void 0,allowSave:!1,expandNote:!0,nextLabel:`Add to ${we(e).format(PEe.tinyDate)} \u2192`});r.note=s.raw;let l={};Object.keys(t).map(o=>{o.substring(0,1)==="#"&&(l[o.replace("#","")]=t[o].tracker)}),r.score=Ja(r.note,r.end,l)}await To(r)}else i.type=="person"?uu(new Gt({note:`${i.tag} `,end:e})):(r.note=i.tag,await To(r));return!0}catch(n){return console.error(n),!1}};var NEe=Q0,MEe=Fc,LEe="Expected a function";function OEe(i,e,t){var n=!0,r=!0;if(typeof i!="function")throw new TypeError(LEe);return MEe(t)&&(n="leading"in t?!!t.leading:n,r="trailing"in t?!!t.trailing:r),NEe(i,e,{leading:n,maxWait:e,trailing:r})}var IEe=OEe;function x5(i,e,t){const n=i.slice();return n[25]=e[t],n[27]=t,n}const BEe=i=>({item:i&1,firstPosItem:i&512,centerPosItem:i&1024}),X5=i=>({item:i[25],index:i[27],firstPosItem:i[9],centerPosItem:i[10]});function K5(i){let e,t,n,r;const s=i[15].default,l=He(s,i,i[14],X5);return{c(){e=A("div"),l&&l.c(),t=Y(),h(e,"data-index",i[27]),h(e,"class",n="scroller-item "+i[4]),Je(e,"snap-center",i[5]=="center"),Je(e,"snap-start",i[5]=="start"),Je(e,"snap-end",i[5]=="end")},m(o,a){w(o,e,a),l&&l.m(e,null),E(e,t),r=!0},p(o,a){l&&l.p&&(!r||a&17921)&&Ve(l,s,o,o[14],r?We(s,o[14],a,BEe):Ge(o[14]),X5),(!r||a&16&&n!==(n="scroller-item "+o[4]))&&h(e,"class",n),(!r||a&48)&&Je(e,"snap-center",o[5]=="center"),(!r||a&48)&&Je(e,"snap-start",o[5]=="start"),(!r||a&48)&&Je(e,"snap-end",o[5]=="end")},i(o){r||(_(l,o),r=!0)},o(o){v(l,o),r=!1},d(o){o&&y(e),l&&l.d(o)}}}function zEe(i){let e,t,n,r,s,l,o,a=i[0],u=[];for(let f=0;f<a.length;f+=1)u[f]=K5(x5(i,a,f));const c=f=>v(u[f],1,1,()=>{u[f]=null});return{c(){var f,d;e=A("div"),t=A("div");for(let m=0;m<u.length;m+=1)u[m].c();h(t,"class",n="scroller-items "+i[3]+" flex "+(i[1]=="x"?"snap-scroll-x flex-row overflow-x-auto w-full":"snap-scroll-y flex-col overflow-y-auto h-full")),h(e,"class",r="scroller relative "+i[2]+" "+(i[1]=="x"?"w-full dir-x":"h-full dir-y")),nt(e,"--ele-width",(f=i[8])==null?void 0:f.clientWidth),nt(e,"--ele-height",(d=i[8])==null?void 0:d.clientHeight),Je(e,"center-start",i[6]==="center"||i[7])},m(f,d){w(f,e,d),E(e,t);for(let m=0;m<u.length;m+=1)u[m].m(t,null);i[16](t),s=!0,l||(o=ke(t,"scroll",i[17]),l=!0)},p(f,[d]){var m,p;if(d&17969){a=f[0];let g;for(g=0;g<a.length;g+=1){const k=x5(f,a,g);u[g]?(u[g].p(k,d),_(u[g],1)):(u[g]=K5(k),u[g].c(),_(u[g],1),u[g].m(t,null))}for(ie(),g=a.length;g<u.length;g+=1)c(g);re()}(!s||d&10&&n!==(n="scroller-items "+f[3]+" flex "+(f[1]=="x"?"snap-scroll-x flex-row overflow-x-auto w-full":"snap-scroll-y flex-col overflow-y-auto h-full")))&&h(t,"class",n),(!s||d&6&&r!==(r="scroller relative "+f[2]+" "+(f[1]=="x"?"w-full dir-x":"h-full dir-y")))&&h(e,"class",r),(!s||d&256)&&nt(e,"--ele-width",(m=f[8])==null?void 0:m.clientWidth),(!s||d&256)&&nt(e,"--ele-height",(p=f[8])==null?void 0:p.clientHeight),(!s||d&198)&&Je(e,"center-start",f[6]==="center"||f[7])},i(f){if(!s){for(let d=0;d<a.length;d+=1)_(u[d]);s=!0}},o(f){u=u.filter(Boolean);for(let d=0;d<u.length;d+=1)v(u[d]);s=!1},d(f){f&&y(e),it(u,f),i[16](null),l=!1,o()}}}function REe(i,e,t){let{$$slots:n={},$$scope:r}=e,{items:s}=e,{direction:l="x"}=e,{className:o=""}=e,{itemsClass:a=""}=e,{itemClass:u=""}=e,{snapToItem:c="start"}=e,{start:f="start"}=e,{centerPoint:d=!1}=e,{scrollToIndex:m=void 0}=e;const p=Dt();let g=!1,k,$,D,F,C,S,P=[];const I=()=>{var H,K;if(f=="center"){let G=ht.round(s.length*.5,0)-1;(H=C.children[G])==null||H.scrollIntoView({behavior:"auto",block:"center",inline:"center"})}else f=="end"&&((K=C.children[s.length-1])==null||K.scrollIntoView({behavior:"auto",block:"center",inline:"center"}))},R=H=>{let K=l=="x"?C.scrollLeft:C.scrollTop;S=l=="x"?C.clientWidth*.5:C.clientHeight*.5,P=s.map((U,Q)=>{const V=C.children[Q],x=xf(V),ee=l=="x"?x.top-x.eleHeight:x.top-x.eleHeight*2;return{index:Q,item:U,left:x.left,right:x.left+x.eleWidth,top:ee,bottom:ee+x.eleHeight,width:x.eleWidth,height:x.eleHeight}});let G=P.sort((U,Q)=>l=="x"?U.left>Q.left?1:-1:U.top>Q.top?1:-1).filter(U=>l=="x"?U.right>=0:U.bottom>=0);$=G[0],t(9,k=$==null?void 0:$.item),D=G.find(U=>l=="x"?U.left<=S&&U.right>=S:U.top<=S&&U.bottom>=S),t(10,F=D==null?void 0:D.item),H?Et(100).then(()=>{I()}):p("change",{firstPosItem:{item:k,details:$},centerPosItem:{item:F,details:D},scrollAmount:K})},B=IEe(H=>{R()},200);wt(()=>{R(!0),t(13,g=!0)});function z(H){De[H?"unshift":"push"](()=>{C=H,t(8,C)})}const q=H=>{B(H)};return i.$$set=H=>{"items"in H&&t(0,s=H.items),"direction"in H&&t(1,l=H.direction),"className"in H&&t(2,o=H.className),"itemsClass"in H&&t(3,a=H.itemsClass),"itemClass"in H&&t(4,u=H.itemClass),"snapToItem"in H&&t(5,c=H.snapToItem),"start"in H&&t(6,f=H.start),"centerPoint"in H&&t(7,d=H.centerPoint),"scrollToIndex"in H&&t(12,m=H.scrollToIndex),"$$scope"in H&&t(14,r=H.$$scope)},i.$$.update=()=>{i.$$.dirty&12544&&g&&m&&setTimeout(()=>{const H=C.children[m];H==null||H.scrollIntoView({behavior:"auto",block:"center",inline:"center"}),R()},100)},[s,l,o,a,u,c,f,d,C,k,F,B,m,g,r,n,z,q]}class Um extends ce{constructor(e){super(),ue(this,e,REe,zEe,le,{items:0,direction:1,className:2,itemsClass:3,itemClass:4,snapToItem:5,start:6,centerPoint:7,scrollToIndex:12})}}function J5(i,e,t){const n=i.slice();return n[5]=e[t],n[7]=t,n}function Q5(i){let e,t=[],n=new Map,r,s=i[3];const l=o=>Math.random();for(let o=0;o<s.length;o+=1){let a=J5(i,s,o),u=l();n.set(u,t[o]=eE(u,a))}return{c(){e=A("span");for(let o=0;o<t.length;o+=1)t[o].c();h(e,"class",r="letter-ticker "+i[1]),h(e,"style",i[2])},m(o,a){w(o,e,a);for(let u=0;u<t.length;u+=1)t[u].m(e,null)},p(o,a){a&24&&(s=o[3],t=qn(t,a,l,1,o,s,n,e,Sa,eE,null,J5)),a&2&&r!==(r="letter-ticker "+o[1])&&h(e,"class",r),a&4&&h(e,"style",o[2])},d(o){o&&y(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function eE(i,e){let t,n=(e[5]===" "?"  ":e[5])+"",r,s;return{key:i,first:null,c(){t=A("span"),r=Z(n),h(t,"class",s=e[4][e[7]]==e[5]?"letter-stay":"letter-up"),Je(t,"empty",e[5]===" "),this.first=t},m(l,o){w(l,t,o),E(t,r)},p(l,o){e=l,o&8&&n!==(n=(e[5]===" "?"  ":e[5])+"")&&oe(r,n),o&24&&s!==(s=e[4][e[7]]==e[5]?"letter-stay":"letter-up")&&h(t,"class",s),o&24&&Je(t,"empty",e[5]===" ")},d(l){l&&y(t)}}}function jEe(i){let e,t=i[0]&&Q5(i);return{c(){t&&t.c(),e=$e()},m(n,r){t&&t.m(n,r),w(n,e,r)},p(n,[r]){n[0]?t?t.p(n,r):(t=Q5(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:W,o:W,d(n){t&&t.d(n),n&&y(e)}}}function YEe(i,e,t){let{text:n=""}=e,{className:r=""}=e,{style:s=""}=e,l=[],o=[];return i.$$set=a=>{"text"in a&&t(0,n=a.text),"className"in a&&t(1,r=a.className),"style"in a&&t(2,s=a.style)},i.$$.update=()=>{i.$$.dirty&9&&n&&(t(4,o=l||[]),t(3,l=`${n||""}`.split("")))},[n,r,s,l,o]}class ou extends ce{constructor(e){super(),ue(this,e,YEe,jEe,le,{text:0,className:1,style:2})}}function UEe(i){let e,t=(i[0]?i[0].formatValue(0):0)+"",n;return{c(){e=A("div"),n=Z(t),h(e,"class","value")},m(r,s){w(r,e,s),E(e,n)},p(r,s){s&1&&t!==(t=(r[0]?r[0].formatValue(0):0)+"")&&oe(n,t)},d(r){r&&y(e)}}}function qEe(i){let e,t=(i[0]?i[0].formatValue(i[3].values[i[21]]):i[3].values[i[21]])+"",n,r;return{c(){var s,l;e=A("div"),n=Z(t),h(e,"class",r="value "+(((l=(s=i[0])==null?void 0:s.formatValue(i[3].values[i[21]]))==null?void 0:l.length)>3?"xs":""))},m(s,l){w(s,e,l),E(e,n)},p(s,l){var o,a;l&2097161&&t!==(t=(s[0]?s[0].formatValue(s[3].values[s[21]]):s[3].values[s[21]])+"")&&oe(n,t),l&2097161&&r!==(r="value "+(((a=(o=s[0])==null?void 0:o.formatValue(s[3].values[s[21]]))==null?void 0:a.length)>3?"xs":""))&&h(e,"class",r)},d(s){s&&y(e)}}}function HEe(i){let e,t,n,r=i[20].format("ddd")+"",s,l,o,a=i[20].format(i[6].tinyNumber)+"",u,c,f,d,m,p,g,k,$,D,F,C,S;function P(){return i[11](i[20])}function I(H,K){return K&2097160&&(d=null),d==null&&(d=!isNaN(H[3].values[H[21]])),d?qEe:UEe}let R=I(i,-1),B=R(i);function z(){return i[12](i[20])}function q(){return i[13](i[20])}return{c(){var H;e=A("div"),t=A("button"),n=A("div"),s=Z(r),l=Y(),o=A("div"),u=Z(a),c=Y(),f=A("button"),B.c(),m=Y(),p=A("div"),g=Y(),k=A("button"),k.textContent="+",h(n,"class","text-xs opacity-70 leading-none"),h(o,"class","leading-tight"),h(t,"class","mb-1 text-solid border-dotted border-b border-gray-200 dark:border-gray-800 "),h(p,"class","progress w-full transition-all duration-75"),nt(p,"height",`${ht.percentage(i[4]||0,((H=i[3])==null?void 0:H.values[i[21]])||0)}%`),nt(p,"background-color",i[3].trackable.color),h(f,"class","day-wrapper"),h(k,"class","track-button"),h(e,"class",$="day "+(i[1]===i[21]?"active":"")),h(e,"data-index",D=i[21]),h(e,"data-label",F=i[20].format("dddd, MMMM D")),h(e,"aria-controls","form")},m(H,K){w(H,e,K),E(e,t),E(t,n),E(n,s),E(t,l),E(t,o),E(o,u),E(e,c),E(e,f),B.m(f,null),E(f,m),E(f,p),E(e,g),E(e,k),C||(S=[ke(t,"click",P),ke(f,"click",z),ke(k,"click",q)],C=!0)},p(H,K){var G;i=H,K&1048576&&r!==(r=i[20].format("ddd")+"")&&oe(s,r),K&1048576&&a!==(a=i[20].format(i[6].tinyNumber)+"")&&oe(u,a),R===(R=I(i,K))&&B?B.p(i,K):(B.d(1),B=R(i),B&&(B.c(),B.m(f,m))),K&2097176&&nt(p,"height",`${ht.percentage(i[4]||0,((G=i[3])==null?void 0:G.values[i[21]])||0)}%`),K&8&&nt(p,"background-color",i[3].trackable.color),K&2097154&&$!==($="day "+(i[1]===i[21]?"active":""))&&h(e,"class",$),K&2097152&&D!==(D=i[21])&&h(e,"data-index",D),K&1048576&&F!==(F=i[20].format("dddd, MMMM D"))&&h(e,"data-label",F)},d(H){H&&y(e),B.d(),C=!1,pt(S)}}}function WEe(i){var r;let e,t,n;return t=new Um({props:{start:"end",snapToItem:"center",centerPoint:!0,items:((r=i[3])==null?void 0:r.dates)||[],direction:"x",itemsClass:"streak-scroller px-2 py-2 space-x-2",$$slots:{default:[HEe,({item:s,index:l})=>({20:s,21:l}),({item:s,index:l})=>(s?1048576:0)|(l?2097152:0)]},$$scope:{ctx:i}}}),t.$on("change",i[14]),{c(){e=A("div"),O(t.$$.fragment),h(e,"class","streak-2 bg-white dark:bg-black py-1")},m(s,l){w(s,e,l),N(t,e,null),n=!0},p(s,[l]){var a;const o={};l&8&&(o.items=((a=s[3])==null?void 0:a.dates)||[]),l&7340091&&(o.$$scope={dirty:l,ctx:s}),t.$set(o)},i(s){n||(_(t.$$.fragment,s),n=!0)},o(s){v(t.$$.fragment,s),n=!1},d(s){s&&y(e),M(t)}}}function VEe(i,e,t){let n;Ee(i,It,P=>t(5,n=P)),Dt();let r,s,l,o,{endDate:a=new Date}=e,{trackable:u=void 0}=e,{loading:c=!0}=e,f,d=10,m;const p=async()=>{clearTimeout(m),m=setTimeout(()=>{k()},200)};let g=Pn();wt(async()=>{await k(),l=Br.subscribe(P=>{t(10,o=P)})}),Dr(()=>{l()});const k=async()=>{t(8,c=!0);const P=we(a).endOf("day"),I=we(P).subtract(30,"days").startOf("day");let R=new $r({trackable:u,values:[],dates:[]});t(3,f=R.byDay.backfill(I.toDate(),P.toDate()));const B={end:P,start:I,search:u.tag,fuzzy:!0,caller:"streak2.svelte"},z=await Ut.query(B),q=Ms(z,{trackables:n.trackables});return q[u.tag]?R=q[u.tag]:R=new $r({trackable:u,values:[],dates:[]}),t(3,f=R.byDay.backfill(I.toDate(),P.toDate())),t(4,d=ht.max(f.values)),t(8,c=!1),!0},$=(P,I)=>{Oa(P,[{title:"Track on this Day",click(){Z1(I,we(P).hour(we().hour()).toDate(),n.trackables)}}])},D=P=>{$(P.toDate(),f.trackable)},F=P=>{$(P.toDate(),f.trackable)},C=P=>{Z1(f.trackable,P.hour(we().hour()).toDate(),n.trackables)},S=P=>{var I,R,B;P.detail.centerPosItem&&P.detail.centerPosItem.item&&(t(1,r=(R=(I=P.detail.centerPosItem)==null?void 0:I.details)==null?void 0:R.index),t(2,s=(B=P.detail.centerPosItem)==null?void 0:B.item.format(`ddd ${g.mmm_d_yyyy}`)))};return i.$$set=P=>{"endDate"in P&&t(9,a=P.endDate),"trackable"in P&&t(0,u=P.trackable),"loading"in P&&t(8,c=P.loading)},i.$$.update=()=>{i.$$.dirty&1537&&o&&(u||a)&&p()},[u,r,s,f,d,n,g,$,c,a,o,D,F,C,S]}class GEe extends ce{constructor(e){super(),ue(this,e,VEe,WEe,le,{endDate:9,trackable:0,loading:8})}}function tE(i,e,t){const n=i.slice();return n[32]=e[t],n[34]=t,n}function nE(i,e,t){const n=i.slice();return n[35]=e[t],n[34]=t,n}function iE(i,e,t){const n=i.slice();return n[32]=e[t],n[34]=t,n}function rE(i,e,t){const n=i.slice();return n[38]=e[t],n}function sE(i,e,t){const n=i.slice();return n[41]=e[t],n[34]=t,n}function lE(i,e,t){const n=i.slice();return n[43]=e[t],n[34]=t,n}const ZEe=i=>({}),oE=i=>({});function aE(i){let e,t=i[43]+"",n;return{c(){e=A("option"),n=Z(t),e.__value=i[34],e.value=e.__value},m(r,s){w(r,e,s),E(e,n)},p:W,d(r){r&&y(e)}}}function uE(i){let e,t=i[41]+"",n;return{c(){e=A("option"),n=Z(t),e.__value=i[41],e.value=e.__value},m(r,s){w(r,e,s),E(e,n)},p:W,d(r){r&&y(e)}}}function cE(i){let e,t,n,r,s;return t=new je({props:{icon:hp,size:14}}),{c(){e=A("button"),O(t.$$.fragment),h(e,"class","nselect"),Je(e,"sm",i[2]=="sm")},m(l,o){w(l,e,o),N(t,e,null),n=!0,r||(s=ke(e,"click",i[25]),r=!0)},p(l,o){(!n||o[0]&4)&&Je(e,"sm",l[2]=="sm")},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){v(t.$$.fragment,l),n=!1},d(l){l&&y(e),M(t),r=!1,s()}}}function fE(i){let e,t,n,r,s;return t=new je({props:{icon:jo,size:14}}),{c(){e=A("button"),O(t.$$.fragment),h(e,"class","nselect"),Je(e,"sm",i[2]=="sm")},m(l,o){w(l,e,o),N(t,e,null),n=!0,r||(s=ke(e,"click",i[27]),r=!0)},p(l,o){(!n||o[0]&4)&&Je(e,"sm",l[2]=="sm")},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){v(t.$$.fragment,l),n=!1},d(l){l&&y(e),M(t),r=!1,s()}}}function dE(i){let e,t=i[38].substring(0,3)+"",n,r;return{c(){e=A("div"),n=Z(t),r=Y(),h(e,"class","cell")},m(s,l){w(s,e,l),E(e,n),E(e,r)},p:W,d(s){s&&y(e)}}}function hE(i){let e,t,n,r=Array(i[9]).fill(0),s=[];for(let c=0;c<r.length;c+=1)s[c]=mE(iE(i,r,c));let l=Array(i[11]).fill(0).map(i[29]),o=[];for(let c=0;c<l.length;c+=1)o[c]=pE(nE(i,l,c));let a=Array(7-i[8]).fill(0),u=[];for(let c=0;c<a.length;c+=1)u[c]=_E(tE(i,a,c));return{c(){for(let c=0;c<s.length;c+=1)s[c].c();e=Y();for(let c=0;c<o.length;c+=1)o[c].c();t=Y();for(let c=0;c<u.length;c+=1)u[c].c();n=$e()},m(c,f){for(let d=0;d<s.length;d+=1)s[d].m(c,f);w(c,e,f);for(let d=0;d<o.length;d+=1)o[d].m(c,f);w(c,t,f);for(let d=0;d<u.length;d+=1)u[d].m(c,f);w(c,n,f)},p(c,f){if(f[0]&136736){r=Array(c[9]).fill(0);let d;for(d=0;d<r.length;d+=1){const m=iE(c,r,d);s[d]?s[d].p(m,f):(s[d]=mE(m),s[d].c(),s[d].m(e.parentNode,e))}for(;d<s.length;d+=1)s[d].d(1);s.length=r.length}if(f[0]&202784){l=Array(c[11]).fill(0).map(c[29]);let d;for(d=0;d<l.length;d+=1){const m=nE(c,l,d);o[d]?o[d].p(m,f):(o[d]=pE(m),o[d].c(),o[d].m(t.parentNode,t))}for(;d<o.length;d+=1)o[d].d(1);o.length=l.length}if(f[0]&135456){a=Array(7-c[8]).fill(0);let d;for(d=0;d<a.length;d+=1){const m=tE(c,a,d);u[d]?u[d].p(m,f):(u[d]=_E(m),u[d].c(),u[d].m(n.parentNode,n))}for(;d<u.length;d+=1)u[d].d(1);u.length=a.length}},d(c){it(s,c),c&&y(e),it(o,c),c&&y(t),it(u,c),c&&y(n)}}}function mE(i){let e,t,n=i[10]-(i[9]-(i[34]+1))+"",r,s,l,o,a;function u(){return i[28](i[34])}return{c(){e=A("button"),t=A("span"),r=Z(n),s=Y(),h(e,"class",l="past-month day d-"+i[5].format("YYYY-MM-DD")),Je(e,"today",i[5].format("YYYY-MM-DD")===i[12])},m(c,f){w(c,e,f),E(e,t),E(t,r),E(e,s),o||(a=ke(e,"click",u),o=!0)},p(c,f){i=c,f[0]&1536&&n!==(n=i[10]-(i[9]-(i[34]+1))+"")&&oe(r,n),f[0]&32&&l!==(l="past-month day d-"+i[5].format("YYYY-MM-DD"))&&h(e,"class",l),f[0]&4128&&Je(e,"today",i[5].format("YYYY-MM-DD")===i[12])},d(c){c&&y(e),o=!1,a()}}}function pE(i){let e,t,n=i[34]+1+"",r,s,l,o,a;function u(){return i[30](i[35])}return{c(){e=A("button"),t=A("span"),r=Z(n),s=Y(),h(e,"class",l="cell day day-$"+i[34]+" d-"+i[35].format("YYYY-MM-DD")+" "+i[16](i[35])),Je(e,"today",i[35].format("YYYY-MM-DD")===i[12])},m(c,f){w(c,e,f),E(e,t),E(t,r),E(e,s),o||(a=ke(e,"click",u),o=!0)},p(c,f){i=c,f[0]&2080&&l!==(l="cell day day-$"+i[34]+" d-"+i[35].format("YYYY-MM-DD")+" "+i[16](i[35]))&&h(e,"class",l),f[0]&6176&&Je(e,"today",i[35].format("YYYY-MM-DD")===i[12])},d(c){c&&y(e),o=!1,a()}}}function _E(i){let e,t,n=i[34]+1+"",r,s,l,o,a;function u(){return i[31](i[34])}return{c(){e=A("button"),t=A("span"),r=Z(n),s=Y(),h(e,"class",l="next-month day d-"+i[5].format("YYYY-MM-DD")),Je(e,"today",i[5].format("YYYY-MM-DD")==i[12])},m(c,f){w(c,e,f),E(e,t),E(t,r),E(e,s),o||(a=ke(e,"click",u),o=!0)},p(c,f){i=c,f[0]&32&&l!==(l="next-month day d-"+i[5].format("YYYY-MM-DD"))&&h(e,"class",l),f[0]&4128&&Je(e,"today",i[5].format("YYYY-MM-DD")==i[12])},d(c){c&&y(e),o=!1,a()}}}function gE(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p,g,k,$,D,F,C,S;const P=i[20]["header-left"],I=He(P,i,i[19],oE);let R=Array(12).fill(0).map(i[21]),B=[];for(let V=0;V<R.length;V+=1)B[V]=aE(lE(i,R,V));let z=Array(12).fill(0).map(i[23]),q=[];for(let V=0;V<z.length;V+=1)q[V]=uE(sE(i,z,V));let H=!i[4]&&cE(i),K=!i[4]&&fE(i),G=i[14],U=[];for(let V=0;V<G.length;V+=1)U[V]=dE(rE(i,G,V));let Q=!i[3]&&hE(i);return{c(){e=A("div"),t=A("header"),n=A("div"),I&&I.c(),r=Y(),s=A("div"),l=A("select");for(let V=0;V<B.length;V+=1)B[V].c();o=Y(),a=A("select");for(let V=0;V<q.length;V+=1)q[V].c();u=Y(),c=A("div"),f=Y(),H&&H.c(),d=Y(),m=A("button"),m.textContent="Today",p=Y(),K&&K.c(),g=Y(),k=A("div");for(let V=0;V<U.length;V+=1)U[V].c();$=Y(),D=A("main"),Q&&Q.c(),h(l,"class","nselect rounded-r-none"),Je(l,"sm",i[2]=="sm"),h(a,"class","nselect rounded-l-none"),Je(a,"sm",i[2]=="sm"),h(s,"class","divide-x-2 divide-opacity-30 divide-gray-500 flex items-center nselect-group"),h(c,"class","filler"),h(m,"class","nselect "),Je(m,"sm",i[2]=="sm"),h(n,"class","title py-2 px-2 ntitle flex items-center space-x-1"),h(k,"class","header-days grid grid-cols-7 w-full"),h(D,"class","grid grid-cols-7 w-full calendar-days"),h(e,"class","calendar-3"),nt(e,"--trackable-color",i[1].trackable.color)},m(V,x){w(V,e,x),E(e,t),E(t,n),I&&I.m(n,null),E(n,r),E(n,s),E(s,l);for(let ee=0;ee<B.length;ee+=1)B[ee].m(l,null);gn(l,i[7]),E(s,o),E(s,a);for(let ee=0;ee<q.length;ee+=1)q[ee].m(a,null);gn(a,i[6]),E(n,u),E(n,c),E(n,f),H&&H.m(n,null),E(n,d),E(n,m),E(n,p),K&&K.m(n,null),E(t,g),E(t,k);for(let ee=0;ee<U.length;ee+=1)U[ee].m(k,null);E(e,$),E(e,D),Q&&Q.m(D,null),F=!0,C||(S=[ke(l,"input",i[22]),ke(a,"input",i[24]),ke(m,"click",i[26])],C=!0)},p(V,x){if(I&&I.p&&(!F||x[0]&524288)&&Ve(I,P,V,V[19],F?We(P,V[19],x,ZEe):Ge(V[19]),oE),x&0){R=Array(12).fill(0).map(V[21]);let ee;for(ee=0;ee<R.length;ee+=1){const J=lE(V,R,ee);B[ee]?B[ee].p(J,x):(B[ee]=aE(J),B[ee].c(),B[ee].m(l,null))}for(;ee<B.length;ee+=1)B[ee].d(1);B.length=R.length}if((!F||x[0]&128)&&gn(l,V[7]),(!F||x[0]&4)&&Je(l,"sm",V[2]=="sm"),x&0){z=Array(12).fill(0).map(V[23]);let ee;for(ee=0;ee<z.length;ee+=1){const J=sE(V,z,ee);q[ee]?q[ee].p(J,x):(q[ee]=uE(J),q[ee].c(),q[ee].m(a,null))}for(;ee<q.length;ee+=1)q[ee].d(1);q.length=z.length}if((!F||x[0]&64)&&gn(a,V[6]),(!F||x[0]&4)&&Je(a,"sm",V[2]=="sm"),V[4]?H&&(ie(),v(H,1,1,()=>{H=null}),re()):H?(H.p(V,x),x[0]&16&&_(H,1)):(H=cE(V),H.c(),_(H,1),H.m(n,d)),(!F||x[0]&4)&&Je(m,"sm",V[2]=="sm"),V[4]?K&&(ie(),v(K,1,1,()=>{K=null}),re()):K?(K.p(V,x),x[0]&16&&_(K,1)):(K=fE(V),K.c(),_(K,1),K.m(n,null)),x[0]&16384){G=V[14];let ee;for(ee=0;ee<G.length;ee+=1){const J=rE(V,G,ee);U[ee]?U[ee].p(J,x):(U[ee]=dE(J),U[ee].c(),U[ee].m(k,null))}for(;ee<U.length;ee+=1)U[ee].d(1);U.length=G.length}V[3]?Q&&(Q.d(1),Q=null):Q?Q.p(V,x):(Q=hE(V),Q.c(),Q.m(D,null)),(!F||x[0]&2)&&nt(e,"--trackable-color",V[1].trackable.color)},i(V){F||(_(I,V),_(H),_(K),F=!0)},o(V){v(I,V),v(H),v(K),F=!1},d(V){V&&y(e),I&&I.d(V),it(B,V),it(q,V),H&&H.d(),K&&K.d(),it(U,V),Q&&Q.d(),C=!1,pt(S)}}}function xEe(i){let e=i[1],t,n,r=gE(i);return{c(){r.c(),t=$e()},m(s,l){r.m(s,l),w(s,t,l),n=!0},p(s,l){l[0]&2&&le(e,e=s[1])?(ie(),v(r,1,1,W),re(),r=gE(s),r.c(),_(r,1),r.m(t.parentNode,t)):r.p(s,l)},i(s){n||(_(r),n=!0)},o(s){v(r),n=!1},d(s){s&&y(t),r.d(s)}}}function XEe(i,e,t){let n,r,s,l,o,a,u,{$$slots:c={},$$scope:f}=e,{date:d=new Date}=e,{weekStarts:m="sunday"}=e,{trackableUsage:p=void 0}=e,{size:g="base"}=e,{loading:k}=e,{hidePrevNext:$=!1}=e,D=we().format("YYYY-MM-DD");const F=Dt();let C=[_e.t("days.monday","Monday"),_e.t("days.tuesday","Tuesday"),_e.t("days.wednesday","Wednesday"),_e.t("days.thursday","Thursday"),_e.t("days.friday","Friday"),_e.t("days.saturday","Saturday"),_e.t("days.sunday","Sunday")];const S=ee=>{ee==="next"?t(0,d=we(d).add(1,"month").toDate()):t(0,d=we(d).subtract(1,"month").toDate()),F("dateChange",d)},P=ee=>{let J=[];if(!p)return"";const se=p.dates.findIndex(te=>te.format("YYYY-MM-DD")===ee.format("YYYY-MM-DD"));return se>-1&&J.push("has-value"),p.positivity[se]>0?J.push("is-positive"):p.positivity[se]<0&&J.push("is-negative"),J.join(" ")},I=ee=>{F("input",ee.toDate())},R=(ee,J)=>we().month(J).startOf("month").format("MMM"),B=ee=>{let J=n.month(ee.target.value);t(0,d=J.toDate()),F("dateChange",J.toDate())},z=(ee,J)=>Nn(we().format("YYYY"))-J,q=ee=>{let J=n.year(Nn(ee.target.value));t(0,d=J.toDate()),F("dateChange",J)},H=()=>S("previous"),K=()=>{t(0,d=new Date)},G=()=>S("next"),U=ee=>{let J=s-(l-(ee+1));I(n.subtract(1,"month").date(J))},Q=(ee,J)=>n.date(J+1),V=ee=>{I(ee)},x=ee=>{I(n.add(1,"month").date(ee+1))};return i.$$set=ee=>{"date"in ee&&t(0,d=ee.date),"weekStarts"in ee&&t(18,m=ee.weekStarts),"trackableUsage"in ee&&t(1,p=ee.trackableUsage),"size"in ee&&t(2,g=ee.size),"loading"in ee&&t(3,k=ee.loading),"hidePrevNext"in ee&&t(4,$=ee.hidePrevNext),"$$scope"in ee&&t(19,f=ee.$$scope)},i.$$.update=()=>{if(i.$$.dirty[0]&1&&t(5,n=we(d).startOf("month")),i.$$.dirty[0]&32&&t(11,r=n.daysInMonth()),i.$$.dirty[0]&32&&t(10,s=n.subtract(1,"month").daysInMonth()),i.$$.dirty[0]&262176&&t(9,l=n.day()-(m==="monday"?1:0)),i.$$.dirty[0]&262176&&t(8,o=n.endOf("month").day()+(m==="monday"?0:1)),i.$$.dirty[0]&32&&t(7,a=n.month()),i.$$.dirty[0]&32&&t(6,u=Nn(n.format("YYYY"))),i.$$.dirty[0]&262144&&m=="sunday"){const ee=C.pop();C.unshift(ee)}},[d,p,g,k,$,n,u,a,o,l,s,r,D,F,C,S,P,I,m,f,c,R,B,z,q,H,K,G,U,Q,V,x]}class bB extends ce{constructor(e){super(),ue(this,e,XEe,xEe,le,{date:0,weekStarts:18,trackableUsage:1,size:2,loading:3,hidePrevNext:4},null,[-1,-1])}}function vE(i){let e,t,n,r;function s(a){i[8](a)}function l(a){i[9](a)}let o={};return i[2]!==void 0&&(o.trackableUsage=i[2]),i[1]!==void 0&&(o.loading=i[1]),e=new bB({props:o}),De.push(()=>Ue(e,"trackableUsage",s,i[2])),De.push(()=>Ue(e,"loading",l,i[1])),e.$on("input",i[10]),e.$on("dateChange",i[11]),{c(){O(e.$$.fragment)},m(a,u){N(e,a,u),r=!0},p(a,u){const c={};!t&&u&4&&(t=!0,c.trackableUsage=a[2],qe(()=>t=!1)),!n&&u&2&&(n=!0,c.loading=a[1],qe(()=>n=!1)),e.$set(c)},i(a){r||(_(e.$$.fragment,a),r=!0)},o(a){v(e.$$.fragment,a),r=!1},d(a){M(e,a)}}}function bE(i){let e,t,n;return t=new Mn({props:{size:32}}),{c(){e=A("div"),O(t.$$.fragment),h(e,"class","h-60 flex items-center justify-center")},m(r,s){w(r,e,s),N(t,e,null),n=!0},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function KEe(i){let e,t,n,r=i[2]&&vE(i),s=(!i[2]||i[1])&&bE();return{c(){r&&r.c(),e=Y(),s&&s.c(),t=$e()},m(l,o){r&&r.m(l,o),w(l,e,o),s&&s.m(l,o),w(l,t,o),n=!0},p(l,[o]){l[2]?r?(r.p(l,o),o&4&&_(r,1)):(r=vE(l),r.c(),_(r,1),r.m(e.parentNode,e)):r&&(ie(),v(r,1,1,()=>{r=null}),re()),!l[2]||l[1]?s?o&6&&_(s,1):(s=bE(),s.c(),_(s,1),s.m(t.parentNode,t)):s&&(ie(),v(s,1,1,()=>{s=null}),re())},i(l){n||(_(r),_(s),n=!0)},o(l){v(r),v(s),n=!1},d(l){r&&r.d(l),l&&y(e),s&&s.d(l),l&&y(t)}}}function JEe(i,e,t){let n,r;Ee(i,Ut,$=>t(7,n=$)),Ee(i,It,$=>t(13,r=$));let{trackable:s}=e,{date:l=new Date}=e;const o=Dt();let a=!0,u,c;const f=async()=>{t(1,a=!0),clearTimeout(c),c=setTimeout(async()=>{t(2,u=await Id(s,{start:we(l).startOf("month"),end:we(l).endOf("month")},r.trackables)),o("usage",u),t(1,a=!1)},100)};let d="";wt(()=>{f()});function m($){u=$,t(2,u)}function p($){a=$,t(1,a)}const g=$=>{o("input",$.detail)},k=$=>{t(0,l=$.detail),o("change",l),f()};return i.$$set=$=>{"trackable"in $&&t(5,s=$.trackable),"date"in $&&t(0,l=$.date)},i.$$.update=()=>{i.$$.dirty&225&&l&&s&&n.hash&&`${l==null?void 0:l.toDateString()}${s.tag}`!==d&&(t(6,d=`${l.toDateString()}${s.tag}`),f())},[l,a,u,o,f,s,d,n,m,p,g,k]}class QEe extends ce{constructor(e){super(),ue(this,e,JEe,KEe,le,{trackable:5,date:0})}}function e8e(i){let e=i[3].format(`${i[5].tinyDate} ${i[5].time}`)+"",t,n,r=i[2].format(`${i[5].tinyDate} ${i[5].time}`)+"",s;return{c(){t=Z(e),n=Z(` \u2192\xA0
    `),s=Z(r)},m(l,o){w(l,t,o),w(l,n,o),w(l,s,o)},p(l,o){o&8&&e!==(e=l[3].format(`${l[5].tinyDate} ${l[5].time}`)+"")&&oe(t,e),o&4&&r!==(r=l[2].format(`${l[5].tinyDate} ${l[5].time}`)+"")&&oe(s,r)},d(l){l&&y(t),l&&y(n),l&&y(s)}}}function t8e(i){let e=i[3].format(`ddd ${i[5].time}`)+"",t,n,r=i[2].format(`ddd ${i[5].time}`)+"",s;return{c(){t=Z(e),n=Z(` \u2192\xA0
    `),s=Z(r)},m(l,o){w(l,t,o),w(l,n,o),w(l,s,o)},p(l,o){o&8&&e!==(e=l[3].format(`ddd ${l[5].time}`)+"")&&oe(t,e),o&4&&r!==(r=l[2].format(`ddd ${l[5].time}`)+"")&&oe(s,r)},d(l){l&&y(t),l&&y(n),l&&y(s)}}}function n8e(i){let e=i[3].format(`${i[5].time}`)+"",t,n,r=i[2].format(`${i[5].time}`)+"",s;return{c(){t=Z(e),n=Z(` \u2192\xA0
    `),s=Z(r)},m(l,o){w(l,t,o),w(l,n,o),w(l,s,o)},p(l,o){o&8&&e!==(e=l[3].format(`${l[5].time}`)+"")&&oe(t,e),o&4&&r!==(r=l[2].format(`${l[5].time}`)+"")&&oe(s,r)},d(l){l&&y(t),l&&y(n),l&&y(s)}}}function i8e(i){let e,t;function n(l,o){return l[4]==0?n8e:l[4]<2?t8e:e8e}let r=n(i),s=r(i);return{c(){e=A("span"),s.c(),h(e,"class",t="time-range-text "+i[0]),h(e,"style",i[1])},m(l,o){w(l,e,o),s.m(e,null)},p(l,[o]){r===(r=n(l))&&s?s.p(l,o):(s.d(1),s=r(l),s&&(s.c(),s.m(e,null))),o&1&&t!==(t="time-range-text "+l[0])&&h(e,"class",t),o&2&&h(e,"style",l[1])},i:W,o:W,d(l){l&&y(e),s.d()}}}function r8e(i,e,t){let{date:n}=e,{seconds:r}=e,{className:s=""}=e,{style:l=""}=e,o,a,u;const c=Pn();return i.$$set=f=>{"date"in f&&t(6,n=f.date),"seconds"in f&&t(7,r=f.seconds),"className"in f&&t(0,s=f.className),"style"in f&&t(1,l=f.style)},i.$$.update=()=>{i.$$.dirty&192&&(n||r)&&(t(2,o=we(n)),t(3,a=we(n).subtract(r,"seconds")),t(4,u=Math.floor(r/(3600*24))))},[s,l,o,a,u,c,n,r]}class s8e extends ce{constructor(e){super(),ue(this,e,r8e,i8e,le,{date:6,seconds:7,className:0,style:1})}}function kE(i){let e,t;return e=new s8e({props:{date:i[0].end,seconds:i[5],className:" dark:text-gray-300 leading-tight"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.date=n[0].end),r&32&&(s.seconds=n[5]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function l8e(i){let e,t=i[0].note+"",n;return{c(){e=A("div"),n=Z(t),h(e,"class","text-sm text-gray-500 pr-2 pt-px w-full line-clamp-5")},m(r,s){w(r,e,s),E(e,n)},p(r,s){s&1&&t!==(t=r[0].note+"")&&oe(n,t)},i:W,o:W,d(r){r&&y(e)}}}function o8e(i){let e,t,n;return t=new Kr({props:{percentage:ht.percentage(i[2],i[5]),className:"h-1 w-full",color:i[1].color}}),{c(){e=A("div"),O(t.$$.fragment),h(e,"class","pr-2 pt-2 w-full")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p(r,s){const l={};s&36&&(l.percentage=ht.percentage(r[2],r[5])),s&2&&(l.color=r[1].color),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function a8e(i){var G;let e,t,n,r,s,l,o=i[1].label+"",a,u,c,f=i[0].endDayjs().format(i[6].tinyDate)+"",d,m,p,g=i[1].formatValue(i[5])+"",k,$,D,F,C,S,P,I,R,B;t=new fi({props:{trackable:i[1],size:42,className:"mr-2 mt-4"}});let z=((G=i[1].tracker)==null?void 0:G.type)=="timer"&&!i[4]&&kE(i);const q=[o8e,l8e],H=[];function K(U,Q){return U[2]&&U[1].tracker?0:1}return F=K(i),C=H[F]=q[F](i),{c(){e=A("button"),O(t.$$.fragment),n=Y(),r=A("main"),s=A("div"),l=A("h3"),a=Z(o),u=Y(),c=A("span"),d=Z(f),m=Y(),p=A("p"),k=Z(g),$=Y(),z&&z.c(),D=Y(),C.c(),h(c,"class","text-base font-normal text-gray-500"),h(l,"class","text-base leading-tight font-bold w-full dark:text-white"),h(p,"class","text-black dark:text-white font-bold text-xl text-right mr-4 leading-none whitespace-nowrap"),h(s,"class","flex item-center space-y-1 filler items-center justify-between w-full"),h(r,"class","flex py-3 items-start flex-col w-full space-y-1"),h(e,"type","menu"),h(e,"class",S="rounded-md mock-item flex pl-1 items-start w-full text-left focus:ring-2 focus:ring-primary-500 "+i[3]),h(e,"id",P="log-"+i[0]._id)},m(U,Q){w(U,e,Q),N(t,e,null),E(e,n),E(e,r),E(r,s),E(s,l),E(l,a),E(l,u),E(l,c),E(c,d),E(s,m),E(s,p),E(p,k),E(r,$),z&&z.m(r,null),E(r,D),H[F].m(r,null),I=!0,R||(B=ke(e,"click",i[8]),R=!0)},p(U,[Q]){var ee;const V={};Q&2&&(V.trackable=U[1]),t.$set(V),(!I||Q&2)&&o!==(o=U[1].label+"")&&oe(a,o),(!I||Q&1)&&f!==(f=U[0].endDayjs().format(U[6].tinyDate)+"")&&oe(d,f),(!I||Q&34)&&g!==(g=U[1].formatValue(U[5])+"")&&oe(k,g),((ee=U[1].tracker)==null?void 0:ee.type)=="timer"&&!U[4]?z?(z.p(U,Q),Q&18&&_(z,1)):(z=kE(U),z.c(),_(z,1),z.m(r,D)):z&&(ie(),v(z,1,1,()=>{z=null}),re());let x=F;F=K(U),F===x?H[F].p(U,Q):(ie(),v(H[x],1,1,()=>{H[x]=null}),re(),C=H[F],C?C.p(U,Q):(C=H[F]=q[F](U),C.c()),_(C,1),C.m(r,null)),(!I||Q&8&&S!==(S="rounded-md mock-item flex pl-1 items-start w-full text-left focus:ring-2 focus:ring-primary-500 "+U[3]))&&h(e,"class",S),(!I||Q&1&&P!==(P="log-"+U[0]._id))&&h(e,"id",P)},i(U){I||(_(t.$$.fragment,U),_(z),_(C),I=!0)},o(U){v(t.$$.fragment,U),v(z),v(C),I=!1},d(U){U&&y(e),M(t),z&&z.d(),H[F].d(),R=!1,B()}}}function u8e(i,e,t){let{log:n}=e,{trackable:r}=e,{max:s=void 0}=e,{className:l=""}=e,{hideTime:o=!1}=e,a=0;const u=Pn(),c=Dt(),f=()=>{c("click",{log:n,trackable:r})};return i.$$set=d=>{"log"in d&&t(0,n=d.log),"trackable"in d&&t(1,r=d.trackable),"max"in d&&t(2,s=d.max),"className"in d&&t(3,l=d.className),"hideTime"in d&&t(4,o=d.hideTime)},i.$$.update=()=>{var d;i.$$.dirty&3&&(n||r)&&t(5,a=r.tracker?n.getTrackerValue((d=r.tracker)==null?void 0:d.tag):1)},[n,r,s,l,o,a,u,c,f]}class kB extends ce{constructor(e){super(),ue(this,e,u8e,a8e,le,{log:0,trackable:1,max:2,className:3,hideTime:4})}}function yE(i,e,t){const n=i.slice();return n[17]=e[t],n[19]=t,n}function c8e(i){let e,t,n;function r(l){i[12](l)}let s={trackable:i[0].trackable};return i[1]!==void 0&&(s.date=i[1]),e=new QEe({props:s}),De.push(()=>Ue(e,"date",r,i[1])),e.$on("input",i[13]),e.$on("usage",i[14]),{c(){O(e.$$.fragment)},m(l,o){N(e,l,o),n=!0},p(l,o){const a={};o&1&&(a.trackable=l[0].trackable),!t&&o&2&&(t=!0,a.date=l[1],qe(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){M(e,l)}}}function f8e(i){let e,t;return e=new Gn({props:{className:"text-gray-500",$$slots:{default:[p8e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1048592&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function d8e(i){let e,t,n=[],r=new Map,s,l=!i[3].logs.length&&wE(i),o=i[3].logs;const a=u=>u[19];for(let u=0;u<o.length;u+=1){let c=yE(i,o,u),f=a(c);r.set(f,n[u]=$E(f,c))}return{c(){e=A("div"),l&&l.c(),t=Y();for(let u=0;u<n.length;u+=1)n[u].c();h(e,"class","px-2 pt-2 lg:px-4 bg-gray-300 dark:bg-gray-800")},m(u,c){w(u,e,c),l&&l.m(e,null),E(e,t);for(let f=0;f<n.length;f+=1)n[f].m(e,null);s=!0},p(u,c){u[3].logs.length?l&&(l.d(1),l=null):l?l.p(u,c):(l=wE(u),l.c(),l.m(e,t)),c&9&&(o=u[3].logs,ie(),n=qn(n,c,a,1,u,o,r,e,Ci,$E,null,yE),re())},i(u){if(!s){for(let c=0;c<o.length;c+=1)_(n[c]);s=!0}},o(u){for(let c=0;c<n.length;c+=1)v(n[c]);s=!1},d(u){u&&y(e),l&&l.d();for(let c=0;c<n.length;c+=1)n[c].d()}}}function h8e(i){let e;return{c(){e=Z("No Data")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function m8e(i){let e;return{c(){e=Z("Getting Data...")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function p8e(i){let e;function t(s,l){return s[4]?m8e:h8e}let n=t(i),r=n(i);return{c(){r.c(),e=$e()},m(s,l){r.m(s,l),w(s,e,l)},p(s,l){n!==(n=t(s))&&(r.d(1),r=n(s),r&&(r.c(),r.m(e.parentNode,e)))},d(s){r.d(s),s&&y(e)}}}function wE(i){let e,t,n=i[3].trackable.label+"",r,s,l=we(i[2]||i[1]).format(i[7].mmm_d_yyyy)+"",o;return{c(){e=A("div"),t=Z("No "),r=Z(n),s=Z(" data for "),o=Z(l),h(e,"class","text-center p-10 text-gray-500")},m(a,u){w(a,e,u),E(e,t),E(e,r),E(e,s),E(e,o)},p(a,u){u&8&&n!==(n=a[3].trackable.label+"")&&oe(r,n),u&6&&l!==(l=we(a[2]||a[1]).format(a[7].mmm_d_yyyy)+"")&&oe(o,l)},d(a){a&&y(e)}}}function $E(i,e){let t,n,r;function s(...l){return e[15](e[17],...l)}return n=new kB({props:{index:e[19],max:e[3].max.value,trackable:e[0].trackable,log:e[17]}}),n.$on("click",s),{key:i,first:null,c(){t=$e(),O(n.$$.fragment),this.first=t},m(l,o){w(l,t,o),N(n,l,o),r=!0},p(l,o){e=l;const a={};o&8&&(a.index=e[19]),o&8&&(a.max=e[3].max.value),o&1&&(a.trackable=e[0].trackable),o&8&&(a.log=e[17]),n.$set(a)},i(l){r||(_(n.$$.fragment,l),r=!0)},o(l){v(n.$$.fragment,l),r=!1},d(l){l&&y(t),M(n,l)}}}function _8e(i){let e,t,n,r,s,l,o,a;e=new Gp({props:{className:"bg-gray-100 rounded-none dark:bg-gray-900 stiff shadow-2xl z-30 overflow-hidden",$$slots:{default:[c8e]},$$scope:{ctx:i}}}),r=new Tn({props:{left:1,className:"opacity-50"}});const u=[d8e,f8e],c=[];function f(d,m){return d[3]?0:1}return l=f(i),o=c[l]=u[l](i),{c(){O(e.$$.fragment),t=Y(),n=A("section"),O(r.$$.fragment),s=Y(),o.c(),h(n,"id","calendar-view-list"),h(n,"class","flex flex-col h-auto overflow-y-auto bg-white dark:bg-black")},m(d,m){N(e,d,m),w(d,t,m),w(d,n,m),N(r,n,null),E(n,s),c[l].m(n,null),a=!0},p(d,m){const p={};m&1048703&&(p.$$scope={dirty:m,ctx:d}),e.$set(p);let g=l;l=f(d),l===g?c[l].p(d,m):(ie(),v(c[g],1,1,()=>{c[g]=null}),re(),o=c[l],o?o.p(d,m):(o=c[l]=u[l](d),o.c()),_(o,1),o.m(n,null))},i(d){a||(_(e.$$.fragment,d),_(r.$$.fragment,d),_(o),a=!0)},o(d){v(e.$$.fragment,d),v(r.$$.fragment,d),v(o),a=!1},d(d){M(e,d),d&&y(t),d&&y(n),M(r),c[l].d()}}}function g8e(i){let e,t,n=i[1]?`${i[2]?we(i[2]).format(i[7].mmm_d_yyyy):we(i[1]).format("MMM YYYY")}`:"Loading...",r;return{c(){e=A("div"),t=A("h1"),r=Z(n),h(t,"class","ntitle"),h(e,"class","flex items-center space-x-2")},m(s,l){w(s,e,l),E(e,t),E(t,r)},p(s,l){l&6&&n!==(n=s[1]?`${s[2]?we(s[2]).format(s[7].mmm_d_yyyy):we(s[1]).format("MMM YYYY")}`:"Loading...")&&oe(r,n)},d(s){s&&y(e)}}}function v8e(i){let e=_e.t("general.close","Close")+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p:W,d(n){n&&y(t)}}}function b8e(i){let e,t;return e=new Me({props:{slot:"left",clear:!0,primary:!0,$$slots:{default:[v8e]},$$scope:{ctx:i}}}),e.$on("click",i[9]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1048576&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function k8e(i){let e,t;return e=new vl({props:{transparent:!0,slot:"right",className:"rounded-full flex-row-reverse",trackable:i[0].trackable,hideValue:!0,size:32}}),e.$on("click",i[11]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.trackable=n[0].trackable),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function y8e(i){let e,t;return e=new Jt({props:{slot:"header",$$slots:{right:[k8e],left:[b8e],default:[g8e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1048583&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function w8e(i){let e,t;return e=new Gp({props:{absolute:!0,className:"overflow-hidden ",mainClass:"flex flex-col",$$slots:{header:[y8e],default:[_8e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1048703&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function $8e(i){let e,t;return e=new _n({props:{className:"calendar-view-modal",$$slots:{default:[w8e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&1048703&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function F8e(i,e,t){let n,r;Ee(i,It,C=>t(16,n=C)),Ee(i,Br,C=>t(6,r=C));let{id:s}=e,{props:l}=e,o,a,u,c=Pn(),f=!0,d;const m=async C=>{let S=we(C);const P=u.dates.findIndex(I=>I.format("YYYY-MM-DD")===(S==null?void 0:S.format("YYYY-MM-DD")));if(P>-1){const I=u.logs[P];if(I){const R=document.querySelector(`#calendar-view-list #log-${I._id}`);R&&R.scrollIntoView({behavior:"smooth"})}}else await Xe.confirm("Track on this Day?")&&(t(4,f=!0),await Z1(u.trackable,C,n.trackables),t(4,f=!1))},p=()=>{Ot(s)},g=()=>Ui(l.trackable);function k(C){o=C,t(1,o)}const $=C=>{t(2,a=we(C.detail)),m(C.detail)},D=C=>{t(4,f=!1),t(2,a=void 0),t(3,u=C.detail),t(5,d=r[u.trackable.tag])},F=(C,S)=>{ZAe(C,l.trackable)};return i.$$set=C=>{"id"in C&&t(10,s=C.id),"props"in C&&t(0,l=C.props)},[l,o,a,u,f,d,r,c,m,p,s,g,k,$,D,F]}class E8e extends ce{constructor(e){super(),ue(this,e,F8e,$8e,le,{id:10,props:0})}}const D8e=Bt({}),yB=i=>{i.date=i.date||new Date,en({id:`calendarview-modal-${i.date.toDateString()}`,position:"fullscreen",component:E8e,componentProps:{props:i}}),D8e.update(e=>({...i,show:!0}))},C8e=i=>({}),FE=i=>({});function S8e(i){let e,t;return e=new je({props:{size:30,icon:hp}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function T8e(i){let e=i[2].format(i[5].mmm_d_yyyy)+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p(n,r){r&36&&e!==(e=n[2].format(n[5].mmm_d_yyyy)+"")&&oe(t,e)},d(n){n&&y(t)}}}function A8e(i){let e=i[0].format(i[5].mmm_d_yyyy)+"",t,n,r=i[1].format(i[5].mmm_d_yyyy)+"",s;return{c(){t=Z(e),n=Z(` -
        `),s=Z(r)},m(l,o){w(l,t,o),w(l,n,o),w(l,s,o)},p(l,o){o&33&&e!==(e=l[0].format(l[5].mmm_d_yyyy)+"")&&oe(t,e),o&34&&r!==(r=l[1].format(l[5].mmm_d_yyyy)+"")&&oe(s,r)},d(l){l&&y(t),l&&y(n),l&&y(s)}}}function P8e(i){let e,t;return e=new je({props:{size:30,icon:jo}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function N8e(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p,g,k,$;r=new Me({props:{className:"bg-gray-500 bg-opacity-20",size:"lg",primary:!0,icon:!0,$$slots:{default:[S8e]},$$scope:{ctx:i}}}),r.$on("click",i[8]);const D=i[7].default,F=He(D,i,i[10],null),C=i[7].title,S=He(C,i,i[10],FE);function P(B,z){return B[0]&&B[1]?A8e:T8e}let I=P(i),R=I(i);return m=new Me({props:{className:"bg-gray-500 bg-opacity-20",size:"lg",primary:!0,icon:!0,$$slots:{default:[P8e]},$$scope:{ctx:i}}}),m.$on("click",i[9]),{c(){e=A("div"),t=A("div"),n=Y(),O(r.$$.fragment),s=Y(),l=A("div"),F&&F.c(),o=Y(),a=A("div"),S&&S.c(),u=Y(),c=A("p"),R.c(),d=Y(),O(m.$$.fragment),p=Y(),g=A("div"),h(t,"class","filler"),h(a,"class","title text-center"),h(c,"class",f=""+i[4]),h(l,"class","filler"),h(g,"class","filler"),h(e,"class",k="flex items-center py-2 justify-center "+i[3])},m(B,z){w(B,e,z),E(e,t),E(e,n),N(r,e,null),E(e,s),E(e,l),F&&F.m(l,null),E(l,o),E(l,a),S&&S.m(a,null),E(l,u),E(l,c),R.m(c,null),E(e,d),N(m,e,null),E(e,p),E(e,g),$=!0},p(B,[z]){const q={};z&1024&&(q.$$scope={dirty:z,ctx:B}),r.$set(q),F&&F.p&&(!$||z&1024)&&Ve(F,D,B,B[10],$?We(D,B[10],z,null):Ge(B[10]),null),S&&S.p&&(!$||z&1024)&&Ve(S,C,B,B[10],$?We(C,B[10],z,C8e):Ge(B[10]),FE),I===(I=P(B))&&R?R.p(B,z):(R.d(1),R=I(B),R&&(R.c(),R.m(c,null))),(!$||z&16&&f!==(f=""+B[4]))&&h(c,"class",f);const H={};z&1024&&(H.$$scope={dirty:z,ctx:B}),m.$set(H),(!$||z&8&&k!==(k="flex items-center py-2 justify-center "+B[3]))&&h(e,"class",k)},i(B){$||(_(r.$$.fragment,B),_(F,B),_(S,B),_(m.$$.fragment,B),$=!0)},o(B){v(r.$$.fragment,B),v(F,B),v(S,B),v(m.$$.fragment,B),$=!1},d(B){B&&y(e),M(r),F&&F.d(B),S&&S.d(B),R.d(),M(m)}}}function M8e(i,e,t){let n,{$$slots:r={},$$scope:s}=e,{start:l=void 0}=e,{end:o=void 0}=e,{date:a=we()}=e,{className:u=""}=e,{dateClass:c="text-center text-gray-600 dark:text-gray-400 text-xs md:text-sm my-1"}=e;const f=Dt(),d=()=>{f("previous")},m=()=>{f("next")};return i.$$set=p=>{"start"in p&&t(0,l=p.start),"end"in p&&t(1,o=p.end),"date"in p&&t(2,a=p.date),"className"in p&&t(3,u=p.className),"dateClass"in p&&t(4,c=p.dateClass),"$$scope"in p&&t(10,s=p.$$scope)},t(5,n=Pn()),[l,o,a,u,c,n,f,r,d,m,s]}class L8e extends ce{constructor(e){super(),ue(this,e,M8e,N8e,le,{start:0,end:1,date:2,className:3,dateClass:4})}}/*!
 * Chart.js v3.9.1
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */const O8e=function(){let i=0;return function(){return i++}}();function zn(i){return i===null||typeof i>"u"}function li(i){if(Array.isArray&&Array.isArray(i))return!0;const e=Object.prototype.toString.call(i);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function hn(i){return i!==null&&Object.prototype.toString.call(i)==="[object Object]"}const Ei=i=>(typeof i=="number"||i instanceof Number)&&isFinite(+i);function is(i,e){return Ei(i)?i:e}function $n(i,e){return typeof i>"u"?e:i}const I8e=(i,e)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100:i/e,wB=(i,e)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100*e:+i;function vi(i,e,t){if(i&&typeof i.call=="function")return i.apply(t,e)}function Bn(i,e,t,n){let r,s,l;if(li(i))if(s=i.length,n)for(r=s-1;r>=0;r--)e.call(t,i[r],r);else for(r=0;r<s;r++)e.call(t,i[r],r);else if(hn(i))for(l=Object.keys(i),s=l.length,r=0;r<s;r++)e.call(t,i[l[r]],l[r])}function qm(i,e){let t,n,r,s;if(!i||!e||i.length!==e.length)return!1;for(t=0,n=i.length;t<n;++t)if(r=i[t],s=e[t],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function Hm(i){if(li(i))return i.map(Hm);if(hn(i)){const e=Object.create(null),t=Object.keys(i),n=t.length;let r=0;for(;r<n;++r)e[t[r]]=Hm(i[t[r]]);return e}return i}function $B(i){return["__proto__","prototype","constructor"].indexOf(i)===-1}function B8e(i,e,t,n){if(!$B(i))return;const r=e[i],s=t[i];hn(r)&&hn(s)?dd(r,s,n):e[i]=Hm(s)}function dd(i,e,t){const n=li(e)?e:[e],r=n.length;if(!hn(i))return i;t=t||{};const s=t.merger||B8e;for(let l=0;l<r;++l){if(e=n[l],!hn(e))continue;const o=Object.keys(e);for(let a=0,u=o.length;a<u;++a)s(o[a],i,e,t)}return i}function Of(i,e){return dd(i,e,{merger:z8e})}function z8e(i,e,t){if(!$B(i))return;const n=e[i],r=t[i];hn(n)&&hn(r)?Of(n,r):Object.prototype.hasOwnProperty.call(e,i)||(e[i]=Hm(r))}const EE={"":i=>i,x:i=>i.x,y:i=>i.y};function Io(i,e){return(EE[e]||(EE[e]=R8e(e)))(i)}function R8e(i){const e=j8e(i);return t=>{for(const n of e){if(n==="")break;t=t&&t[n]}return t}}function j8e(i){const e=i.split("."),t=[];let n="";for(const r of e)n+=r,n.endsWith("\\")?n=n.slice(0,-1)+".":(t.push(n),n="");return t}function kb(i){return i.charAt(0).toUpperCase()+i.slice(1)}const ds=i=>typeof i<"u",Bo=i=>typeof i=="function",DE=(i,e)=>{if(i.size!==e.size)return!1;for(const t of i)if(!e.has(t))return!1;return!0};function Y8e(i){return i.type==="mouseup"||i.type==="click"||i.type==="contextmenu"}const yi=Math.PI,Un=2*yi,U8e=Un+yi,Wm=Number.POSITIVE_INFINITY,q8e=yi/180,ki=yi/2,af=yi/4,CE=yi*2/3,os=Math.log10,sl=Math.sign;function SE(i){const e=Math.round(i);i=If(i,e,i/1e3)?e:i;const t=Math.pow(10,Math.floor(os(i))),n=i/t;return(n<=1?1:n<=2?2:n<=5?5:10)*t}function H8e(i){const e=[],t=Math.sqrt(i);let n;for(n=1;n<t;n++)i%n===0&&(e.push(n),e.push(i/n));return t===(t|0)&&e.push(t),e.sort((r,s)=>r-s).pop(),e}function mc(i){return!isNaN(parseFloat(i))&&isFinite(i)}function If(i,e,t){return Math.abs(i-e)<t}function W8e(i,e){const t=Math.round(i);return t-e<=i&&t+e>=i}function FB(i,e,t){let n,r,s;for(n=0,r=i.length;n<r;n++)s=i[n][t],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Ss(i){return i*(yi/180)}function yb(i){return i*(180/yi)}function TE(i){if(!Ei(i))return;let e=1,t=0;for(;Math.round(i*e)/e!==i;)e*=10,t++;return t}function EB(i,e){const t=e.x-i.x,n=e.y-i.y,r=Math.sqrt(t*t+n*n);let s=Math.atan2(n,t);return s<-.5*yi&&(s+=Un),{angle:s,distance:r}}function x1(i,e){return Math.sqrt(Math.pow(e.x-i.x,2)+Math.pow(e.y-i.y,2))}function V8e(i,e){return(i-e+U8e)%Un-yi}function Hr(i){return(i%Un+Un)%Un}function hd(i,e,t,n){const r=Hr(i),s=Hr(e),l=Hr(t),o=Hr(s-r),a=Hr(l-r),u=Hr(r-s),c=Hr(r-l);return r===s||r===l||n&&s===l||o>a&&u<c}function rr(i,e,t){return Math.max(e,Math.min(t,i))}function G8e(i){return rr(i,-32768,32767)}function md(i,e,t,n=1e-6){return i>=Math.min(e,t)-n&&i<=Math.max(e,t)+n}function wb(i,e,t){t=t||(l=>i[l]<e);let n=i.length-1,r=0,s;for(;n-r>1;)s=r+n>>1,t(s)?r=s:n=s;return{lo:r,hi:n}}const Da=(i,e,t,n)=>wb(i,t,n?r=>i[r][e]<=t:r=>i[r][e]<t),Z8e=(i,e,t)=>wb(i,t,n=>i[n][e]>=t);function x8e(i,e,t){let n=0,r=i.length;for(;n<r&&i[n]<e;)n++;for(;r>n&&i[r-1]>t;)r--;return n>0||r<i.length?i.slice(n,r):i}const DB=["push","pop","shift","splice","unshift"];function X8e(i,e){if(i._chartjs){i._chartjs.listeners.push(e);return}Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),DB.forEach(t=>{const n="_onData"+kb(t),r=i[t];Object.defineProperty(i,t,{configurable:!0,enumerable:!1,value(...s){const l=r.apply(this,s);return i._chartjs.listeners.forEach(o=>{typeof o[n]=="function"&&o[n](...s)}),l}})})}function AE(i,e){const t=i._chartjs;if(!t)return;const n=t.listeners,r=n.indexOf(e);r!==-1&&n.splice(r,1),!(n.length>0)&&(DB.forEach(s=>{delete i[s]}),delete i._chartjs)}function CB(i){const e=new Set;let t,n;for(t=0,n=i.length;t<n;++t)e.add(i[t]);return e.size===n?i:Array.from(e)}const SB=function(){return typeof window>"u"?function(i){return i()}:window.requestAnimationFrame}();function TB(i,e,t){const n=t||(l=>Array.prototype.slice.call(l));let r=!1,s=[];return function(...l){s=n(l),r||(r=!0,SB.call(window,()=>{r=!1,i.apply(e,s)}))}}function K8e(i,e){let t;return function(...n){return e?(clearTimeout(t),t=setTimeout(i,e,n)):i.apply(this,n),e}}const J8e=i=>i==="start"?"left":i==="end"?"right":"center",PE=(i,e,t)=>i==="start"?e:i==="end"?t:(e+t)/2;function AB(i,e,t){const n=e.length;let r=0,s=n;if(i._sorted){const{iScale:l,_parsed:o}=i,a=l.axis,{min:u,max:c,minDefined:f,maxDefined:d}=l.getUserBounds();f&&(r=rr(Math.min(Da(o,l.axis,u).lo,t?n:Da(e,a,l.getPixelForValue(u)).lo),0,n-1)),d?s=rr(Math.max(Da(o,l.axis,c,!0).hi+1,t?0:Da(e,a,l.getPixelForValue(c),!0).hi+1),r,n)-r:s=n-r}return{start:r,count:s}}function PB(i){const{xScale:e,yScale:t,_scaleRanges:n}=i,r={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!n)return i._scaleRanges=r,!0;const s=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==t.min||n.ymax!==t.max;return Object.assign(n,r),s}const Mh=i=>i===0||i===1,NE=(i,e,t)=>-(Math.pow(2,10*(i-=1))*Math.sin((i-e)*Un/t)),ME=(i,e,t)=>Math.pow(2,-10*i)*Math.sin((i-e)*Un/t)+1,Bf={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>-i*(i-2),easeInOutQuad:i=>(i/=.5)<1?.5*i*i:-.5*(--i*(i-2)-1),easeInCubic:i=>i*i*i,easeOutCubic:i=>(i-=1)*i*i+1,easeInOutCubic:i=>(i/=.5)<1?.5*i*i*i:.5*((i-=2)*i*i+2),easeInQuart:i=>i*i*i*i,easeOutQuart:i=>-((i-=1)*i*i*i-1),easeInOutQuart:i=>(i/=.5)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2),easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>(i-=1)*i*i*i*i+1,easeInOutQuint:i=>(i/=.5)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2),easeInSine:i=>-Math.cos(i*ki)+1,easeOutSine:i=>Math.sin(i*ki),easeInOutSine:i=>-.5*(Math.cos(yi*i)-1),easeInExpo:i=>i===0?0:Math.pow(2,10*(i-1)),easeOutExpo:i=>i===1?1:-Math.pow(2,-10*i)+1,easeInOutExpo:i=>Mh(i)?i:i<.5?.5*Math.pow(2,10*(i*2-1)):.5*(-Math.pow(2,-10*(i*2-1))+2),easeInCirc:i=>i>=1?i:-(Math.sqrt(1-i*i)-1),easeOutCirc:i=>Math.sqrt(1-(i-=1)*i),easeInOutCirc:i=>(i/=.5)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1),easeInElastic:i=>Mh(i)?i:NE(i,.075,.3),easeOutElastic:i=>Mh(i)?i:ME(i,.075,.3),easeInOutElastic(i){return Mh(i)?i:i<.5?.5*NE(i*2,.1125,.45):.5+.5*ME(i*2-1,.1125,.45)},easeInBack(i){return i*i*((1.70158+1)*i-1.70158)},easeOutBack(i){return(i-=1)*i*((1.70158+1)*i+1.70158)+1},easeInOutBack(i){let e=1.70158;return(i/=.5)<1?.5*(i*i*(((e*=1.525)+1)*i-e)):.5*((i-=2)*i*(((e*=1.525)+1)*i+e)+2)},easeInBounce:i=>1-Bf.easeOutBounce(1-i),easeOutBounce(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},easeInOutBounce:i=>i<.5?Bf.easeInBounce(i*2)*.5:Bf.easeOutBounce(i*2-1)*.5+.5};/*!
 * @kurkle/color v0.2.1
 * https://github.com/kurkle/color#readme
 * (c) 2022 Jukka Kurkela
 * Released under the MIT License
 */function Gd(i){return i+.5|0}const po=(i,e,t)=>Math.max(Math.min(i,t),e);function $f(i){return po(Gd(i*2.55),0,255)}function wo(i){return po(Gd(i*255),0,255)}function Al(i){return po(Gd(i/2.55)/100,0,1)}function LE(i){return po(Gd(i*100),0,100)}const ns={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},X1=[..."0123456789ABCDEF"],Q8e=i=>X1[i&15],eDe=i=>X1[(i&240)>>4]+X1[i&15],Lh=i=>(i&240)>>4===(i&15),tDe=i=>Lh(i.r)&&Lh(i.g)&&Lh(i.b)&&Lh(i.a);function nDe(i){var e=i.length,t;return i[0]==="#"&&(e===4||e===5?t={r:255&ns[i[1]]*17,g:255&ns[i[2]]*17,b:255&ns[i[3]]*17,a:e===5?ns[i[4]]*17:255}:(e===7||e===9)&&(t={r:ns[i[1]]<<4|ns[i[2]],g:ns[i[3]]<<4|ns[i[4]],b:ns[i[5]]<<4|ns[i[6]],a:e===9?ns[i[7]]<<4|ns[i[8]]:255})),t}const iDe=(i,e)=>i<255?e(i):"";function rDe(i){var e=tDe(i)?Q8e:eDe;return i?"#"+e(i.r)+e(i.g)+e(i.b)+iDe(i.a,e):void 0}const sDe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function NB(i,e,t){const n=e*Math.min(t,1-t),r=(s,l=(s+i/30)%12)=>t-n*Math.max(Math.min(l-3,9-l,1),-1);return[r(0),r(8),r(4)]}function lDe(i,e,t){const n=(r,s=(r+i/60)%6)=>t-t*e*Math.max(Math.min(s,4-s,1),0);return[n(5),n(3),n(1)]}function oDe(i,e,t){const n=NB(i,1,.5);let r;for(e+t>1&&(r=1/(e+t),e*=r,t*=r),r=0;r<3;r++)n[r]*=1-e-t,n[r]+=e;return n}function aDe(i,e,t,n,r){return i===r?(e-t)/n+(e<t?6:0):e===r?(t-i)/n+2:(i-e)/n+4}function $b(i){const t=i.r/255,n=i.g/255,r=i.b/255,s=Math.max(t,n,r),l=Math.min(t,n,r),o=(s+l)/2;let a,u,c;return s!==l&&(c=s-l,u=o>.5?c/(2-s-l):c/(s+l),a=aDe(t,n,r,c,s),a=a*60+.5),[a|0,u||0,o]}function Fb(i,e,t,n){return(Array.isArray(e)?i(e[0],e[1],e[2]):i(e,t,n)).map(wo)}function Eb(i,e,t){return Fb(NB,i,e,t)}function uDe(i,e,t){return Fb(oDe,i,e,t)}function cDe(i,e,t){return Fb(lDe,i,e,t)}function MB(i){return(i%360+360)%360}function fDe(i){const e=sDe.exec(i);let t=255,n;if(!e)return;e[5]!==n&&(t=e[6]?$f(+e[5]):wo(+e[5]));const r=MB(+e[2]),s=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?n=uDe(r,s,l):e[1]==="hsv"?n=cDe(r,s,l):n=Eb(r,s,l),{r:n[0],g:n[1],b:n[2],a:t}}function dDe(i,e){var t=$b(i);t[0]=MB(t[0]+e),t=Eb(t),i.r=t[0],i.g=t[1],i.b=t[2]}function hDe(i){if(!i)return;const e=$b(i),t=e[0],n=LE(e[1]),r=LE(e[2]);return i.a<255?`hsla(${t}, ${n}%, ${r}%, ${Al(i.a)})`:`hsl(${t}, ${n}%, ${r}%)`}const OE={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},IE={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function mDe(){const i={},e=Object.keys(IE),t=Object.keys(OE);let n,r,s,l,o;for(n=0;n<e.length;n++){for(l=o=e[n],r=0;r<t.length;r++)s=t[r],o=o.replace(s,OE[s]);s=parseInt(IE[l],16),i[o]=[s>>16&255,s>>8&255,s&255]}return i}let Oh;function pDe(i){Oh||(Oh=mDe(),Oh.transparent=[0,0,0,0]);const e=Oh[i.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const _De=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function gDe(i){const e=_De.exec(i);let t=255,n,r,s;if(!!e){if(e[7]!==n){const l=+e[7];t=e[8]?$f(l):po(l*255,0,255)}return n=+e[1],r=+e[3],s=+e[5],n=255&(e[2]?$f(n):po(n,0,255)),r=255&(e[4]?$f(r):po(r,0,255)),s=255&(e[6]?$f(s):po(s,0,255)),{r:n,g:r,b:s,a:t}}}function vDe(i){return i&&(i.a<255?`rgba(${i.r}, ${i.g}, ${i.b}, ${Al(i.a)})`:`rgb(${i.r}, ${i.g}, ${i.b})`)}const $g=i=>i<=.0031308?i*12.92:Math.pow(i,1/2.4)*1.055-.055,Du=i=>i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4);function bDe(i,e,t){const n=Du(Al(i.r)),r=Du(Al(i.g)),s=Du(Al(i.b));return{r:wo($g(n+t*(Du(Al(e.r))-n))),g:wo($g(r+t*(Du(Al(e.g))-r))),b:wo($g(s+t*(Du(Al(e.b))-s))),a:i.a+t*(e.a-i.a)}}function Ih(i,e,t){if(i){let n=$b(i);n[e]=Math.max(0,Math.min(n[e]+n[e]*t,e===0?360:1)),n=Eb(n),i.r=n[0],i.g=n[1],i.b=n[2]}}function LB(i,e){return i&&Object.assign(e||{},i)}function BE(i){var e={r:0,g:0,b:0,a:255};return Array.isArray(i)?i.length>=3&&(e={r:i[0],g:i[1],b:i[2],a:255},i.length>3&&(e.a=wo(i[3]))):(e=LB(i,{r:0,g:0,b:0,a:1}),e.a=wo(e.a)),e}function kDe(i){return i.charAt(0)==="r"?gDe(i):fDe(i)}class Vm{constructor(e){if(e instanceof Vm)return e;const t=typeof e;let n;t==="object"?n=BE(e):t==="string"&&(n=nDe(e)||pDe(e)||kDe(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=LB(this._rgb);return e&&(e.a=Al(e.a)),e}set rgb(e){this._rgb=BE(e)}rgbString(){return this._valid?vDe(this._rgb):void 0}hexString(){return this._valid?rDe(this._rgb):void 0}hslString(){return this._valid?hDe(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,r=e.rgb;let s;const l=t===s?.5:t,o=2*l-1,a=n.a-r.a,u=((o*a===-1?o:(o+a)/(1+o*a))+1)/2;s=1-u,n.r=255&u*n.r+s*r.r+.5,n.g=255&u*n.g+s*r.g+.5,n.b=255&u*n.b+s*r.b+.5,n.a=l*n.a+(1-l)*r.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=bDe(this._rgb,e._rgb,t)),this}clone(){return new Vm(this.rgb)}alpha(e){return this._rgb.a=wo(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Gd(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Ih(this._rgb,2,e),this}darken(e){return Ih(this._rgb,2,-e),this}saturate(e){return Ih(this._rgb,1,e),this}desaturate(e){return Ih(this._rgb,1,-e),this}rotate(e){return dDe(this._rgb,e),this}}function OB(i){return new Vm(i)}function IB(i){if(i&&typeof i=="object"){const e=i.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function zE(i){return IB(i)?i:OB(i)}function Fg(i){return IB(i)?i:OB(i).saturate(.5).darken(.1).hexString()}const Wa=Object.create(null),K1=Object.create(null);function zf(i,e){if(!e)return i;const t=e.split(".");for(let n=0,r=t.length;n<r;++n){const s=t[n];i=i[s]||(i[s]=Object.create(null))}return i}function Eg(i,e,t){return typeof e=="string"?dd(zf(i,e),t):dd(zf(i,""),e)}class yDe{constructor(e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,n)=>Fg(n.backgroundColor),this.hoverBorderColor=(t,n)=>Fg(n.borderColor),this.hoverColor=(t,n)=>Fg(n.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e)}set(e,t){return Eg(this,e,t)}get(e){return zf(this,e)}describe(e,t){return Eg(K1,e,t)}override(e,t){return Eg(Wa,e,t)}route(e,t,n,r){const s=zf(this,e),l=zf(this,n),o="_"+t;Object.defineProperties(s,{[o]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const a=this[o],u=l[r];return hn(a)?Object.assign({},u,a):$n(a,u)},set(a){this[o]=a}}})}}var En=new yDe({_scriptable:i=>!i.startsWith("on"),_indexable:i=>i!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function wDe(i){return!i||zn(i.size)||zn(i.family)?null:(i.style?i.style+" ":"")+(i.weight?i.weight+" ":"")+i.size+"px "+i.family}function Gm(i,e,t,n,r){let s=e[r];return s||(s=e[r]=i.measureText(r).width,t.push(r)),s>n&&(n=s),n}function $De(i,e,t,n){n=n||{};let r=n.data=n.data||{},s=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(r=n.data={},s=n.garbageCollect=[],n.font=e),i.save(),i.font=e;let l=0;const o=t.length;let a,u,c,f,d;for(a=0;a<o;a++)if(f=t[a],f!=null&&li(f)!==!0)l=Gm(i,r,s,l,f);else if(li(f))for(u=0,c=f.length;u<c;u++)d=f[u],d!=null&&!li(d)&&(l=Gm(i,r,s,l,d));i.restore();const m=s.length/2;if(m>t.length){for(a=0;a<m;a++)delete r[s[a]];s.splice(0,m)}return l}function ma(i,e,t){const n=i.currentDevicePixelRatio,r=t!==0?Math.max(t/2,.5):0;return Math.round((e-r)*n)/n+r}function RE(i,e){e=e||i.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,i.width,i.height),e.restore()}function J1(i,e,t,n){FDe(i,e,t,n,null)}function FDe(i,e,t,n,r){let s,l,o,a,u,c;const f=e.pointStyle,d=e.rotation,m=e.radius;let p=(d||0)*q8e;if(f&&typeof f=="object"&&(s=f.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){i.save(),i.translate(t,n),i.rotate(p),i.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),i.restore();return}if(!(isNaN(m)||m<=0)){switch(i.beginPath(),f){default:r?i.ellipse(t,n,r/2,m,0,0,Un):i.arc(t,n,m,0,Un),i.closePath();break;case"triangle":i.moveTo(t+Math.sin(p)*m,n-Math.cos(p)*m),p+=CE,i.lineTo(t+Math.sin(p)*m,n-Math.cos(p)*m),p+=CE,i.lineTo(t+Math.sin(p)*m,n-Math.cos(p)*m),i.closePath();break;case"rectRounded":u=m*.516,a=m-u,l=Math.cos(p+af)*a,o=Math.sin(p+af)*a,i.arc(t-l,n-o,u,p-yi,p-ki),i.arc(t+o,n-l,u,p-ki,p),i.arc(t+l,n+o,u,p,p+ki),i.arc(t-o,n+l,u,p+ki,p+yi),i.closePath();break;case"rect":if(!d){a=Math.SQRT1_2*m,c=r?r/2:a,i.rect(t-c,n-a,2*c,2*a);break}p+=af;case"rectRot":l=Math.cos(p)*m,o=Math.sin(p)*m,i.moveTo(t-l,n-o),i.lineTo(t+o,n-l),i.lineTo(t+l,n+o),i.lineTo(t-o,n+l),i.closePath();break;case"crossRot":p+=af;case"cross":l=Math.cos(p)*m,o=Math.sin(p)*m,i.moveTo(t-l,n-o),i.lineTo(t+l,n+o),i.moveTo(t+o,n-l),i.lineTo(t-o,n+l);break;case"star":l=Math.cos(p)*m,o=Math.sin(p)*m,i.moveTo(t-l,n-o),i.lineTo(t+l,n+o),i.moveTo(t+o,n-l),i.lineTo(t-o,n+l),p+=af,l=Math.cos(p)*m,o=Math.sin(p)*m,i.moveTo(t-l,n-o),i.lineTo(t+l,n+o),i.moveTo(t+o,n-l),i.lineTo(t-o,n+l);break;case"line":l=r?r/2:Math.cos(p)*m,o=Math.sin(p)*m,i.moveTo(t-l,n-o),i.lineTo(t+l,n+o);break;case"dash":i.moveTo(t,n),i.lineTo(t+Math.cos(p)*m,n+Math.sin(p)*m);break}i.fill(),e.borderWidth>0&&i.stroke()}}function pd(i,e,t){return t=t||.5,!e||i&&i.x>e.left-t&&i.x<e.right+t&&i.y>e.top-t&&i.y<e.bottom+t}function Db(i,e){i.save(),i.beginPath(),i.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),i.clip()}function Cb(i){i.restore()}function EDe(i,e,t,n,r){if(!e)return i.lineTo(t.x,t.y);if(r==="middle"){const s=(e.x+t.x)/2;i.lineTo(s,e.y),i.lineTo(s,t.y)}else r==="after"!=!!n?i.lineTo(e.x,t.y):i.lineTo(t.x,e.y);i.lineTo(t.x,t.y)}function DDe(i,e,t,n){if(!e)return i.lineTo(t.x,t.y);i.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?t.cp2x:t.cp1x,n?t.cp2y:t.cp1y,t.x,t.y)}function Zm(i,e,t,n,r,s={}){const l=li(e)?e:[e],o=s.strokeWidth>0&&s.strokeColor!=="";let a,u;for(i.save(),i.font=r.string,CDe(i,s),a=0;a<l.length;++a)u=l[a],o&&(s.strokeColor&&(i.strokeStyle=s.strokeColor),zn(s.strokeWidth)||(i.lineWidth=s.strokeWidth),i.strokeText(u,t,n,s.maxWidth)),i.fillText(u,t,n,s.maxWidth),SDe(i,t,n,u,s),n+=r.lineHeight;i.restore()}function CDe(i,e){e.translation&&i.translate(e.translation[0],e.translation[1]),zn(e.rotation)||i.rotate(e.rotation),e.color&&(i.fillStyle=e.color),e.textAlign&&(i.textAlign=e.textAlign),e.textBaseline&&(i.textBaseline=e.textBaseline)}function SDe(i,e,t,n,r){if(r.strikethrough||r.underline){const s=i.measureText(n),l=e-s.actualBoundingBoxLeft,o=e+s.actualBoundingBoxRight,a=t-s.actualBoundingBoxAscent,u=t+s.actualBoundingBoxDescent,c=r.strikethrough?(a+u)/2:u;i.strokeStyle=i.fillStyle,i.beginPath(),i.lineWidth=r.decorationWidth||2,i.moveTo(l,c),i.lineTo(o,c),i.stroke()}}function xm(i,e){const{x:t,y:n,w:r,h:s,radius:l}=e;i.arc(t+l.topLeft,n+l.topLeft,l.topLeft,-ki,yi,!0),i.lineTo(t,n+s-l.bottomLeft),i.arc(t+l.bottomLeft,n+s-l.bottomLeft,l.bottomLeft,yi,ki,!0),i.lineTo(t+r-l.bottomRight,n+s),i.arc(t+r-l.bottomRight,n+s-l.bottomRight,l.bottomRight,ki,0,!0),i.lineTo(t+r,n+l.topRight),i.arc(t+r-l.topRight,n+l.topRight,l.topRight,0,-ki,!0),i.lineTo(t+l.topLeft,n)}const TDe=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),ADe=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function PDe(i,e){const t=(""+i).match(TDe);if(!t||t[1]==="normal")return e*1.2;switch(i=+t[2],t[3]){case"px":return i;case"%":i/=100;break}return e*i}const NDe=i=>+i||0;function Sb(i,e){const t={},n=hn(e),r=n?Object.keys(e):e,s=hn(i)?n?l=>$n(i[l],i[e[l]]):l=>i[l]:()=>i;for(const l of r)t[l]=NDe(s(l));return t}function BB(i){return Sb(i,{top:"y",right:"x",bottom:"y",left:"x"})}function Vu(i){return Sb(i,["topLeft","topRight","bottomLeft","bottomRight"])}function hs(i){const e=BB(i);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Zr(i,e){i=i||{},e=e||En.font;let t=$n(i.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let n=$n(i.style,e.style);n&&!(""+n).match(ADe)&&(console.warn('Invalid font style specified: "'+n+'"'),n="");const r={family:$n(i.family,e.family),lineHeight:PDe($n(i.lineHeight,e.lineHeight),t),size:t,style:n,weight:$n(i.weight,e.weight),string:""};return r.string=wDe(r),r}function Bh(i,e,t,n){let r=!0,s,l,o;for(s=0,l=i.length;s<l;++s)if(o=i[s],o!==void 0&&(e!==void 0&&typeof o=="function"&&(o=o(e),r=!1),t!==void 0&&li(o)&&(o=o[t%o.length],r=!1),o!==void 0))return n&&!r&&(n.cacheable=!1),o}function MDe(i,e,t){const{min:n,max:r}=i,s=wB(e,(r-n)/2),l=(o,a)=>t&&o===0?0:o+a;return{min:l(n,-Math.abs(s)),max:l(r,s)}}function Go(i,e){return Object.assign(Object.create(i),e)}function Tb(i,e=[""],t=i,n,r=()=>i[0]){ds(n)||(n=YB("_fallback",i));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:i,_rootScopes:t,_fallback:n,_getTarget:r,override:l=>Tb([l,...i],e,t,n)};return new Proxy(s,{deleteProperty(l,o){return delete l[o],delete l._keys,delete i[0][o],!0},get(l,o){return RB(l,o,()=>YDe(o,e,i,l))},getOwnPropertyDescriptor(l,o){return Reflect.getOwnPropertyDescriptor(l._scopes[0],o)},getPrototypeOf(){return Reflect.getPrototypeOf(i[0])},has(l,o){return YE(l).includes(o)},ownKeys(l){return YE(l)},set(l,o,a){const u=l._storage||(l._storage=r());return l[o]=u[o]=a,delete l._keys,!0}})}function pc(i,e,t,n){const r={_cacheable:!1,_proxy:i,_context:e,_subProxy:t,_stack:new Set,_descriptors:zB(i,n),setContext:s=>pc(i,s,t,n),override:s=>pc(i.override(s),e,t,n)};return new Proxy(r,{deleteProperty(s,l){return delete s[l],delete i[l],!0},get(s,l,o){return RB(s,l,()=>ODe(s,l,o))},getOwnPropertyDescriptor(s,l){return s._descriptors.allKeys?Reflect.has(i,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(i,l)},getPrototypeOf(){return Reflect.getPrototypeOf(i)},has(s,l){return Reflect.has(i,l)},ownKeys(){return Reflect.ownKeys(i)},set(s,l,o){return i[l]=o,delete s[l],!0}})}function zB(i,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:n=e.indexable,_allKeys:r=e.allKeys}=i;return{allKeys:r,scriptable:t,indexable:n,isScriptable:Bo(t)?t:()=>t,isIndexable:Bo(n)?n:()=>n}}const LDe=(i,e)=>i?i+kb(e):e,Ab=(i,e)=>hn(e)&&i!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function RB(i,e,t){if(Object.prototype.hasOwnProperty.call(i,e))return i[e];const n=t();return i[e]=n,n}function ODe(i,e,t){const{_proxy:n,_context:r,_subProxy:s,_descriptors:l}=i;let o=n[e];return Bo(o)&&l.isScriptable(e)&&(o=IDe(e,o,i,t)),li(o)&&o.length&&(o=BDe(e,o,i,l.isIndexable)),Ab(e,o)&&(o=pc(o,r,s&&s[e],l)),o}function IDe(i,e,t,n){const{_proxy:r,_context:s,_subProxy:l,_stack:o}=t;if(o.has(i))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+i);return o.add(i),e=e(s,l||n),o.delete(i),Ab(i,e)&&(e=Pb(r._scopes,r,i,e)),e}function BDe(i,e,t,n){const{_proxy:r,_context:s,_subProxy:l,_descriptors:o}=t;if(ds(s.index)&&n(i))e=e[s.index%e.length];else if(hn(e[0])){const a=e,u=r._scopes.filter(c=>c!==a);e=[];for(const c of a){const f=Pb(u,r,i,c);e.push(pc(f,s,l&&l[i],o))}}return e}function jB(i,e,t){return Bo(i)?i(e,t):i}const zDe=(i,e)=>i===!0?e:typeof i=="string"?Io(e,i):void 0;function RDe(i,e,t,n,r){for(const s of e){const l=zDe(t,s);if(l){i.add(l);const o=jB(l._fallback,t,r);if(ds(o)&&o!==t&&o!==n)return o}else if(l===!1&&ds(n)&&t!==n)return null}return!1}function Pb(i,e,t,n){const r=e._rootScopes,s=jB(e._fallback,t,n),l=[...i,...r],o=new Set;o.add(n);let a=jE(o,l,t,s||t,n);return a===null||ds(s)&&s!==t&&(a=jE(o,l,s,a,n),a===null)?!1:Tb(Array.from(o),[""],r,s,()=>jDe(e,t,n))}function jE(i,e,t,n,r){for(;t;)t=RDe(i,e,t,n,r);return t}function jDe(i,e,t){const n=i._getTarget();e in n||(n[e]={});const r=n[e];return li(r)&&hn(t)?t:r}function YDe(i,e,t,n){let r;for(const s of e)if(r=YB(LDe(s,i),t),ds(r))return Ab(i,r)?Pb(t,n,i,r):r}function YB(i,e){for(const t of e){if(!t)continue;const n=t[i];if(ds(n))return n}}function YE(i){let e=i._keys;return e||(e=i._keys=UDe(i._scopes)),e}function UDe(i){const e=new Set;for(const t of i)for(const n of Object.keys(t).filter(r=>!r.startsWith("_")))e.add(n);return Array.from(e)}function UB(i,e,t,n){const{iScale:r}=i,{key:s="r"}=this._parsing,l=new Array(n);let o,a,u,c;for(o=0,a=n;o<a;++o)u=o+t,c=e[u],l[o]={r:r.parse(Io(c,s),u)};return l}const qDe=Number.EPSILON||1e-14,_c=(i,e)=>e<i.length&&!i[e].skip&&i[e],qB=i=>i==="x"?"y":"x";function HDe(i,e,t,n){const r=i.skip?e:i,s=e,l=t.skip?e:t,o=x1(s,r),a=x1(l,s);let u=o/(o+a),c=a/(o+a);u=isNaN(u)?0:u,c=isNaN(c)?0:c;const f=n*u,d=n*c;return{previous:{x:s.x-f*(l.x-r.x),y:s.y-f*(l.y-r.y)},next:{x:s.x+d*(l.x-r.x),y:s.y+d*(l.y-r.y)}}}function WDe(i,e,t){const n=i.length;let r,s,l,o,a,u=_c(i,0);for(let c=0;c<n-1;++c)if(a=u,u=_c(i,c+1),!(!a||!u)){if(If(e[c],0,qDe)){t[c]=t[c+1]=0;continue}r=t[c]/e[c],s=t[c+1]/e[c],o=Math.pow(r,2)+Math.pow(s,2),!(o<=9)&&(l=3/Math.sqrt(o),t[c]=r*l*e[c],t[c+1]=s*l*e[c])}}function VDe(i,e,t="x"){const n=qB(t),r=i.length;let s,l,o,a=_c(i,0);for(let u=0;u<r;++u){if(l=o,o=a,a=_c(i,u+1),!o)continue;const c=o[t],f=o[n];l&&(s=(c-l[t])/3,o[`cp1${t}`]=c-s,o[`cp1${n}`]=f-s*e[u]),a&&(s=(a[t]-c)/3,o[`cp2${t}`]=c+s,o[`cp2${n}`]=f+s*e[u])}}function GDe(i,e="x"){const t=qB(e),n=i.length,r=Array(n).fill(0),s=Array(n);let l,o,a,u=_c(i,0);for(l=0;l<n;++l)if(o=a,a=u,u=_c(i,l+1),!!a){if(u){const c=u[e]-a[e];r[l]=c!==0?(u[t]-a[t])/c:0}s[l]=o?u?sl(r[l-1])!==sl(r[l])?0:(r[l-1]+r[l])/2:r[l-1]:r[l]}WDe(i,r,s),VDe(i,s,e)}function zh(i,e,t){return Math.max(Math.min(i,t),e)}function ZDe(i,e){let t,n,r,s,l,o=pd(i[0],e);for(t=0,n=i.length;t<n;++t)l=s,s=o,o=t<n-1&&pd(i[t+1],e),s&&(r=i[t],l&&(r.cp1x=zh(r.cp1x,e.left,e.right),r.cp1y=zh(r.cp1y,e.top,e.bottom)),o&&(r.cp2x=zh(r.cp2x,e.left,e.right),r.cp2y=zh(r.cp2y,e.top,e.bottom)))}function xDe(i,e,t,n,r){let s,l,o,a;if(e.spanGaps&&(i=i.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")GDe(i,r);else{let u=n?i[i.length-1]:i[0];for(s=0,l=i.length;s<l;++s)o=i[s],a=HDe(u,o,i[Math.min(s+1,l-(n?0:1))%l],e.tension),o.cp1x=a.previous.x,o.cp1y=a.previous.y,o.cp2x=a.next.x,o.cp2y=a.next.y,u=o}e.capBezierPoints&&ZDe(i,t)}function HB(){return typeof window<"u"&&typeof document<"u"}function Nb(i){let e=i.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Xm(i,e,t){let n;return typeof i=="string"?(n=parseInt(i,10),i.indexOf("%")!==-1&&(n=n/100*e.parentNode[t])):n=i,n}const u_=i=>window.getComputedStyle(i,null);function XDe(i,e){return u_(i).getPropertyValue(e)}const KDe=["top","right","bottom","left"];function Na(i,e,t){const n={};t=t?"-"+t:"";for(let r=0;r<4;r++){const s=KDe[r];n[s]=parseFloat(i[e+"-"+s+t])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const JDe=(i,e,t)=>(i>0||e>0)&&(!t||!t.shadowRoot);function QDe(i,e){const t=i.touches,n=t&&t.length?t[0]:i,{offsetX:r,offsetY:s}=n;let l=!1,o,a;if(JDe(r,s,i.target))o=r,a=s;else{const u=e.getBoundingClientRect();o=n.clientX-u.left,a=n.clientY-u.top,l=!0}return{x:o,y:a,box:l}}function ga(i,e){if("native"in i)return i;const{canvas:t,currentDevicePixelRatio:n}=e,r=u_(t),s=r.boxSizing==="border-box",l=Na(r,"padding"),o=Na(r,"border","width"),{x:a,y:u,box:c}=QDe(i,t),f=l.left+(c&&o.left),d=l.top+(c&&o.top);let{width:m,height:p}=e;return s&&(m-=l.width+o.width,p-=l.height+o.height),{x:Math.round((a-f)/m*t.width/n),y:Math.round((u-d)/p*t.height/n)}}function eCe(i,e,t){let n,r;if(e===void 0||t===void 0){const s=Nb(i);if(!s)e=i.clientWidth,t=i.clientHeight;else{const l=s.getBoundingClientRect(),o=u_(s),a=Na(o,"border","width"),u=Na(o,"padding");e=l.width-u.width-a.width,t=l.height-u.height-a.height,n=Xm(o.maxWidth,s,"clientWidth"),r=Xm(o.maxHeight,s,"clientHeight")}}return{width:e,height:t,maxWidth:n||Wm,maxHeight:r||Wm}}const Dg=i=>Math.round(i*10)/10;function tCe(i,e,t,n){const r=u_(i),s=Na(r,"margin"),l=Xm(r.maxWidth,i,"clientWidth")||Wm,o=Xm(r.maxHeight,i,"clientHeight")||Wm,a=eCe(i,e,t);let{width:u,height:c}=a;if(r.boxSizing==="content-box"){const f=Na(r,"border","width"),d=Na(r,"padding");u-=d.width+f.width,c-=d.height+f.height}return u=Math.max(0,u-s.width),c=Math.max(0,n?Math.floor(u/n):c-s.height),u=Dg(Math.min(u,l,a.maxWidth)),c=Dg(Math.min(c,o,a.maxHeight)),u&&!c&&(c=Dg(u/2)),{width:u,height:c}}function UE(i,e,t){const n=e||1,r=Math.floor(i.height*n),s=Math.floor(i.width*n);i.height=r/n,i.width=s/n;const l=i.canvas;return l.style&&(t||!l.style.height&&!l.style.width)&&(l.style.height=`${i.height}px`,l.style.width=`${i.width}px`),i.currentDevicePixelRatio!==n||l.height!==r||l.width!==s?(i.currentDevicePixelRatio=n,l.height=r,l.width=s,i.ctx.setTransform(n,0,0,n,0,0),!0):!1}const nCe=function(){let i=!1;try{const e={get passive(){return i=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return i}();function qE(i,e){const t=XDe(i,e),n=t&&t.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function va(i,e,t,n){return{x:i.x+t*(e.x-i.x),y:i.y+t*(e.y-i.y)}}function iCe(i,e,t,n){return{x:i.x+t*(e.x-i.x),y:n==="middle"?t<.5?i.y:e.y:n==="after"?t<1?i.y:e.y:t>0?e.y:i.y}}function rCe(i,e,t,n){const r={x:i.cp2x,y:i.cp2y},s={x:e.cp1x,y:e.cp1y},l=va(i,r,t),o=va(r,s,t),a=va(s,e,t),u=va(l,o,t),c=va(o,a,t);return va(u,c,t)}const HE=new Map;function sCe(i,e){e=e||{};const t=i+JSON.stringify(e);let n=HE.get(t);return n||(n=new Intl.NumberFormat(i,e),HE.set(t,n)),n}function Zd(i,e,t){return sCe(e,t).format(i)}const lCe=function(i,e){return{x(t){return i+i+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,n){return t-n},leftForLtr(t,n){return t-n}}},oCe=function(){return{x(i){return i},setWidth(i){},textAlign(i){return i},xPlus(i,e){return i+e},leftForLtr(i,e){return i}}};function Cg(i,e,t){return i?lCe(e,t):oCe()}function aCe(i,e){let t,n;(e==="ltr"||e==="rtl")&&(t=i.canvas.style,n=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),i.prevTextDirection=n)}function uCe(i,e){e!==void 0&&(delete i.prevTextDirection,i.canvas.style.setProperty("direction",e[0],e[1]))}function WB(i){return i==="angle"?{between:hd,compare:V8e,normalize:Hr}:{between:md,compare:(e,t)=>e-t,normalize:e=>e}}function WE({start:i,end:e,count:t,loop:n,style:r}){return{start:i%t,end:e%t,loop:n&&(e-i+1)%t===0,style:r}}function cCe(i,e,t){const{property:n,start:r,end:s}=t,{between:l,normalize:o}=WB(n),a=e.length;let{start:u,end:c,loop:f}=i,d,m;if(f){for(u+=a,c+=a,d=0,m=a;d<m&&l(o(e[u%a][n]),r,s);++d)u--,c--;u%=a,c%=a}return c<u&&(c+=a),{start:u,end:c,loop:f,style:i.style}}function VB(i,e,t){if(!t)return[i];const{property:n,start:r,end:s}=t,l=e.length,{compare:o,between:a,normalize:u}=WB(n),{start:c,end:f,loop:d,style:m}=cCe(i,e,t),p=[];let g=!1,k=null,$,D,F;const C=()=>a(r,F,$)&&o(r,F)!==0,S=()=>o(s,$)===0||a(s,F,$),P=()=>g||C(),I=()=>!g||S();for(let R=c,B=c;R<=f;++R)D=e[R%l],!D.skip&&($=u(D[n]),$!==F&&(g=a($,r,s),k===null&&P()&&(k=o($,r)===0?R:B),k!==null&&I()&&(p.push(WE({start:k,end:R,loop:d,count:l,style:m})),k=null),B=R,F=$));return k!==null&&p.push(WE({start:k,end:f,loop:d,count:l,style:m})),p}function GB(i,e){const t=[],n=i.segments;for(let r=0;r<n.length;r++){const s=VB(n[r],i.points,e);s.length&&t.push(...s)}return t}function fCe(i,e,t,n){let r=0,s=e-1;if(t&&!n)for(;r<e&&!i[r].skip;)r++;for(;r<e&&i[r].skip;)r++;for(r%=e,t&&(s+=r);s>r&&i[s%e].skip;)s--;return s%=e,{start:r,end:s}}function dCe(i,e,t,n){const r=i.length,s=[];let l=e,o=i[e],a;for(a=e+1;a<=t;++a){const u=i[a%r];u.skip||u.stop?o.skip||(n=!1,s.push({start:e%r,end:(a-1)%r,loop:n}),e=l=u.stop?a:null):(l=a,o.skip&&(e=a)),o=u}return l!==null&&s.push({start:e%r,end:l%r,loop:n}),s}function hCe(i,e){const t=i.points,n=i.options.spanGaps,r=t.length;if(!r)return[];const s=!!i._loop,{start:l,end:o}=fCe(t,r,s,n);if(n===!0)return VE(i,[{start:l,end:o,loop:s}],t,e);const a=o<l?o+r:o,u=!!i._fullLoop&&l===0&&o===r-1;return VE(i,dCe(t,l,a,u),t,e)}function VE(i,e,t,n){return!n||!n.setContext||!t?e:mCe(i,e,t,n)}function mCe(i,e,t,n){const r=i._chart.getContext(),s=GE(i.options),{_datasetIndex:l,options:{spanGaps:o}}=i,a=t.length,u=[];let c=s,f=e[0].start,d=f;function m(p,g,k,$){const D=o?-1:1;if(p!==g){for(p+=a;t[p%a].skip;)p-=D;for(;t[g%a].skip;)g+=D;p%a!==g%a&&(u.push({start:p%a,end:g%a,loop:k,style:$}),c=$,f=g%a)}}for(const p of e){f=o?f:p.start;let g=t[f%a],k;for(d=f+1;d<=p.end;d++){const $=t[d%a];k=GE(n.setContext(Go(r,{type:"segment",p0:g,p1:$,p0DataIndex:(d-1)%a,p1DataIndex:d%a,datasetIndex:l}))),pCe(k,c)&&m(f,d-1,p.loop,c),g=$,c=k}f<d-1&&m(f,d-1,p.loop,c)}return u}function GE(i){return{backgroundColor:i.backgroundColor,borderCapStyle:i.borderCapStyle,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderJoinStyle:i.borderJoinStyle,borderWidth:i.borderWidth,borderColor:i.borderColor}}function pCe(i,e){return e&&JSON.stringify(i)!==JSON.stringify(e)}/*!
 * Chart.js v3.9.1
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */class _Ce{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,r){const s=t.listeners[r],l=t.duration;s.forEach(o=>o({chart:e,initial:t.initial,numSteps:l,currentStep:Math.min(n-t.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=SB.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((n,r)=>{if(!n.running||!n.items.length)return;const s=n.items;let l=s.length-1,o=!1,a;for(;l>=0;--l)a=s[l],a._active?(a._total>n.duration&&(n.duration=a._total),a.tick(e),o=!0):(s[l]=s[s.length-1],s.pop());o&&(r.draw(),this._notify(r,n,e,"progress")),s.length||(n.running=!1,this._notify(r,n,e,"complete"),n.initial=!1),t+=s.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);!t||(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((n,r)=>Math.max(n,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Cl=new _Ce;const ZE="transparent",gCe={boolean(i,e,t){return t>.5?e:i},color(i,e,t){const n=zE(i||ZE),r=n.valid&&zE(e||ZE);return r&&r.valid?r.mix(n,t).hexString():e},number(i,e,t){return i+(e-i)*t}};class vCe{constructor(e,t,n,r){const s=t[n];r=Bh([e.to,r,s,e.from]);const l=Bh([e.from,s,r]);this._active=!0,this._fn=e.fn||gCe[e.type||typeof l],this._easing=Bf[e.easing]||Bf.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=l,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const r=this._target[this._prop],s=n-this._start,l=this._duration-s;this._start=n,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Bh([e.to,t,r,e.from]),this._from=Bh([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,r=this._prop,s=this._from,l=this._loop,o=this._to;let a;if(this._active=s!==o&&(l||t<n),!this._active){this._target[r]=o,this._notify(!0);return}if(t<0){this._target[r]=s;return}a=t/n%2,a=l&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[r]=this._fn(s,o,a)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,n)=>{e.push({res:t,rej:n})})}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][t]()}}const bCe=["x","y","borderWidth","radius","tension"],kCe=["color","borderColor","backgroundColor"];En.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const yCe=Object.keys(En.animation);En.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:i=>i!=="onProgress"&&i!=="onComplete"&&i!=="fn"});En.set("animations",{colors:{type:"color",properties:kCe},numbers:{type:"number",properties:bCe}});En.describe("animations",{_fallback:"animation"});En.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:i=>i|0}}}});class ZB{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!hn(e))return;const t=this._properties;Object.getOwnPropertyNames(e).forEach(n=>{const r=e[n];if(!hn(r))return;const s={};for(const l of yCe)s[l]=r[l];(li(r.properties)&&r.properties||[n]).forEach(l=>{(l===n||!t.has(l))&&t.set(l,s)})})}_animateOptions(e,t){const n=t.options,r=$Ce(e,n);if(!r)return[];const s=this._createAnimations(r,n);return n.$shared&&wCe(e.options.$animations,n).then(()=>{e.options=n},()=>{}),s}_createAnimations(e,t){const n=this._properties,r=[],s=e.$animations||(e.$animations={}),l=Object.keys(t),o=Date.now();let a;for(a=l.length-1;a>=0;--a){const u=l[a];if(u.charAt(0)==="$")continue;if(u==="options"){r.push(...this._animateOptions(e,t));continue}const c=t[u];let f=s[u];const d=n.get(u);if(f)if(d&&f.active()){f.update(d,c,o);continue}else f.cancel();if(!d||!d.duration){e[u]=c;continue}s[u]=f=new vCe(d,e,u,c),r.push(f)}return r}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const n=this._createAnimations(e,t);if(n.length)return Cl.add(this._chart,n),!0}}function wCe(i,e){const t=[],n=Object.keys(e);for(let r=0;r<n.length;r++){const s=i[n[r]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}function $Ce(i,e){if(!e)return;let t=i.options;if(!t){i.options=e;return}return t.$shared&&(i.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function xE(i,e){const t=i&&i.options||{},n=t.reverse,r=t.min===void 0?e:0,s=t.max===void 0?e:0;return{start:n?s:r,end:n?r:s}}function FCe(i,e,t){if(t===!1)return!1;const n=xE(i,t),r=xE(e,t);return{top:r.end,right:n.end,bottom:r.start,left:n.start}}function ECe(i){let e,t,n,r;return hn(i)?(e=i.top,t=i.right,n=i.bottom,r=i.left):e=t=n=r=i,{top:e,right:t,bottom:n,left:r,disabled:i===!1}}function xB(i,e){const t=[],n=i._getSortedDatasetMetas(e);let r,s;for(r=0,s=n.length;r<s;++r)t.push(n[r].index);return t}function XE(i,e,t,n={}){const r=i.keys,s=n.mode==="single";let l,o,a,u;if(e!==null){for(l=0,o=r.length;l<o;++l){if(a=+r[l],a===t){if(n.all)continue;break}u=i.values[a],Ei(u)&&(s||e===0||sl(e)===sl(u))&&(e+=u)}return e}}function DCe(i){const e=Object.keys(i),t=new Array(e.length);let n,r,s;for(n=0,r=e.length;n<r;++n)s=e[n],t[n]={x:s,y:i[s]};return t}function KE(i,e){const t=i&&i.options.stacked;return t||t===void 0&&e.stack!==void 0}function CCe(i,e,t){return`${i.id}.${e.id}.${t.stack||t.type}`}function SCe(i){const{min:e,max:t,minDefined:n,maxDefined:r}=i.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:r?t:Number.POSITIVE_INFINITY}}function TCe(i,e,t){const n=i[e]||(i[e]={});return n[t]||(n[t]={})}function JE(i,e,t,n){for(const r of e.getMatchingVisibleMetas(n).reverse()){const s=i[r.index];if(t&&s>0||!t&&s<0)return r.index}return null}function QE(i,e){const{chart:t,_cachedMeta:n}=i,r=t._stacks||(t._stacks={}),{iScale:s,vScale:l,index:o}=n,a=s.axis,u=l.axis,c=CCe(s,l,n),f=e.length;let d;for(let m=0;m<f;++m){const p=e[m],{[a]:g,[u]:k}=p,$=p._stacks||(p._stacks={});d=$[u]=TCe(r,c,g),d[o]=k,d._top=JE(d,l,!0,n.type),d._bottom=JE(d,l,!1,n.type)}}function Sg(i,e){const t=i.scales;return Object.keys(t).filter(n=>t[n].axis===e).shift()}function ACe(i,e){return Go(i,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function PCe(i,e,t){return Go(i,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function uf(i,e){const t=i.controller.index,n=i.vScale&&i.vScale.axis;if(!!n){e=e||i._parsed;for(const r of e){const s=r._stacks;if(!s||s[n]===void 0||s[n][t]===void 0)return;delete s[n][t]}}}const Tg=i=>i==="reset"||i==="none",e8=(i,e)=>e?i:Object.assign({},i),NCe=(i,e,t)=>i&&!e.hidden&&e._stacked&&{keys:xB(t,!0),values:null};class Is{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=KE(e.vScale,e),this.addElements()}updateIndex(e){this.index!==e&&uf(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),r=(f,d,m,p)=>f==="x"?d:f==="r"?p:m,s=t.xAxisID=$n(n.xAxisID,Sg(e,"x")),l=t.yAxisID=$n(n.yAxisID,Sg(e,"y")),o=t.rAxisID=$n(n.rAxisID,Sg(e,"r")),a=t.indexAxis,u=t.iAxisID=r(a,s,l,o),c=t.vAxisID=r(a,l,s,o);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(l),t.rScale=this.getScaleForId(o),t.iScale=this.getScaleForId(u),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&AE(this._data,this),e._stacked&&uf(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(hn(t))this._data=DCe(t);else if(n!==t){if(n){AE(n,this);const r=this._cachedMeta;uf(r),r._parsed=[]}t&&Object.isExtensible(t)&&X8e(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let r=!1;this._dataCheck();const s=t._stacked;t._stacked=KE(t.vScale,t),t.stack!==n.stack&&(r=!0,uf(t),t.stack=n.stack),this._resyncElements(e),(r||s!==t._stacked)&&QE(this,t._parsed)}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:r}=this,{iScale:s,_stacked:l}=n,o=s.axis;let a=e===0&&t===r.length?!0:n._sorted,u=e>0&&n._parsed[e-1],c,f,d;if(this._parsing===!1)n._parsed=r,n._sorted=!0,d=r;else{li(r[e])?d=this.parseArrayData(n,r,e,t):hn(r[e])?d=this.parseObjectData(n,r,e,t):d=this.parsePrimitiveData(n,r,e,t);const m=()=>f[o]===null||u&&f[o]<u[o];for(c=0;c<t;++c)n._parsed[c+e]=f=d[c],a&&(m()&&(a=!1),u=f);n._sorted=a}l&&QE(this,d)}parsePrimitiveData(e,t,n,r){const{iScale:s,vScale:l}=e,o=s.axis,a=l.axis,u=s.getLabels(),c=s===l,f=new Array(r);let d,m,p;for(d=0,m=r;d<m;++d)p=d+n,f[d]={[o]:c||s.parse(u[p],p),[a]:l.parse(t[p],p)};return f}parseArrayData(e,t,n,r){const{xScale:s,yScale:l}=e,o=new Array(r);let a,u,c,f;for(a=0,u=r;a<u;++a)c=a+n,f=t[c],o[a]={x:s.parse(f[0],c),y:l.parse(f[1],c)};return o}parseObjectData(e,t,n,r){const{xScale:s,yScale:l}=e,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,u=new Array(r);let c,f,d,m;for(c=0,f=r;c<f;++c)d=c+n,m=t[d],u[c]={x:s.parse(Io(m,o),d),y:l.parse(Io(m,a),d)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const r=this.chart,s=this._cachedMeta,l=t[e.axis],o={keys:xB(r,!0),values:t._stacks[e.axis]};return XE(o,l,s.index,{mode:n})}updateRangeFromParsed(e,t,n,r){const s=n[t.axis];let l=s===null?NaN:s;const o=r&&n._stacks[t.axis];r&&o&&(r.values=o,l=XE(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,t){const n=this._cachedMeta,r=n._parsed,s=n._sorted&&e===n.iScale,l=r.length,o=this._getOtherScale(e),a=NCe(t,n,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:f}=SCe(o);let d,m;function p(){m=r[d];const g=m[o.axis];return!Ei(m[e.axis])||c>g||f<g}for(d=0;d<l&&!(!p()&&(this.updateRangeFromParsed(u,e,m,a),s));++d);if(s){for(d=l-1;d>=0;--d)if(!p()){this.updateRangeFromParsed(u,e,m,a);break}}return u}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let r,s,l;for(r=0,s=t.length;r<s;++r)l=t[r][e.axis],Ei(l)&&n.push(l);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,r=t.vScale,s=this.getParsed(e);return{label:n?""+n.getLabelForValue(s[n.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=ECe($n(this.options.clip,FCe(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,r=n.data||[],s=t.chartArea,l=[],o=this._drawStart||0,a=this._drawCount||r.length-o,u=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(e,s,o,a),c=o;c<o+a;++c){const f=r[c];f.hidden||(f.active&&u?l.push(f):f.draw(e,s))}for(c=0;c<l.length;++c)l[c].draw(e,s)}getStyle(e,t){const n=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const r=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];s=l.$context||(l.$context=PCe(this.getContext(),e,l)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=ACe(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=n,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",n){const r=t==="active",s=this._cachedDataOpts,l=e+"-"+t,o=s[l],a=this.enableOptionSharing&&ds(n);if(o)return e8(o,a);const u=this.chart.config,c=u.datasetElementScopeKeys(this._type,e),f=r?[`${e}Hover`,"hover",e,""]:[e,""],d=u.getOptionScopes(this.getDataset(),c),m=Object.keys(En.elements[e]),p=()=>this.getContext(n,r),g=u.resolveNamedOptions(d,m,p,f);return g.$shared&&(g.$shared=a,s[l]=Object.freeze(e8(g,a))),g}_resolveAnimations(e,t,n){const r=this.chart,s=this._cachedDataOpts,l=`animation-${t}`,o=s[l];if(o)return o;let a;if(r.options.animation!==!1){const c=this.chart.config,f=c.datasetAnimationScopeKeys(this._type,t),d=c.getOptionScopes(this.getDataset(),f);a=c.createResolver(d,this.getContext(e,n,t))}const u=new ZB(r,a&&a.animations);return a&&a._cacheable&&(s[l]=Object.freeze(u)),u}getSharedOptions(e){if(!!e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Tg(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),r=this._sharedOptions,s=this.getSharedOptions(n),l=this.includeOptions(t,s)||s!==r;return this.updateSharedOptions(s,t,n),{sharedOptions:s,includeOptions:l}}updateElement(e,t,n,r){Tg(r)?Object.assign(e,n):this._resolveAnimations(t,r).update(e,n)}updateSharedOptions(e,t,n){e&&!Tg(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,r){e.active=r;const s=this.getStyle(t,r);this._resolveAnimations(t,n,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[o,a,u]of this._syncList)this[o](a,u);this._syncList=[];const r=n.length,s=t.length,l=Math.min(s,r);l&&this.parse(0,l),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,t,n=!0){const r=this._cachedMeta,s=r.data,l=e+t;let o;const a=u=>{for(u.length+=t,o=u.length-1;o>=l;o--)u[o]=u[o-t]};for(a(s),o=e;o<l;++o)s[o]=new this.dataElementType;this._parsing&&a(r._parsed),this.parse(e,t),n&&this.updateElements(s,e,t,"reset")}updateElements(e,t,n,r){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const r=n._parsed.splice(e,t);n._stacked&&uf(n,r)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,r]=e;this[t](n,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Is.defaults={};Is.prototype.datasetElementType=null;Is.prototype.dataElementType=null;function MCe(i,e){if(!i._cache.$bar){const t=i.getMatchingVisibleMetas(e);let n=[];for(let r=0,s=t.length;r<s;r++)n=n.concat(t[r].controller.getAllParsedValues(i));i._cache.$bar=CB(n.sort((r,s)=>r-s))}return i._cache.$bar}function LCe(i){const e=i.iScale,t=MCe(e,i.type);let n=e._length,r,s,l,o;const a=()=>{l===32767||l===-32768||(ds(o)&&(n=Math.min(n,Math.abs(l-o)||n)),o=l)};for(r=0,s=t.length;r<s;++r)l=e.getPixelForValue(t[r]),a();for(o=void 0,r=0,s=e.ticks.length;r<s;++r)l=e.getPixelForTick(r),a();return n}function OCe(i,e,t,n){const r=t.barThickness;let s,l;return zn(r)?(s=e.min*t.categoryPercentage,l=t.barPercentage):(s=r*n,l=1),{chunk:s/n,ratio:l,start:e.pixels[i]-s/2}}function ICe(i,e,t,n){const r=e.pixels,s=r[i];let l=i>0?r[i-1]:null,o=i<r.length-1?r[i+1]:null;const a=t.categoryPercentage;l===null&&(l=s-(o===null?e.end-e.start:o-s)),o===null&&(o=s+s-l);const u=s-(s-Math.min(l,o))/2*a;return{chunk:Math.abs(o-l)/2*a/n,ratio:t.barPercentage,start:u}}function BCe(i,e,t,n){const r=t.parse(i[0],n),s=t.parse(i[1],n),l=Math.min(r,s),o=Math.max(r,s);let a=l,u=o;Math.abs(l)>Math.abs(o)&&(a=o,u=l),e[t.axis]=u,e._custom={barStart:a,barEnd:u,start:r,end:s,min:l,max:o}}function XB(i,e,t,n){return li(i)?BCe(i,e,t,n):e[t.axis]=t.parse(i,n),e}function t8(i,e,t,n){const r=i.iScale,s=i.vScale,l=r.getLabels(),o=r===s,a=[];let u,c,f,d;for(u=t,c=t+n;u<c;++u)d=e[u],f={},f[r.axis]=o||r.parse(l[u],u),a.push(XB(d,f,s,u));return a}function Ag(i){return i&&i.barStart!==void 0&&i.barEnd!==void 0}function zCe(i,e,t){return i!==0?sl(i):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function RCe(i){let e,t,n,r,s;return i.horizontal?(e=i.base>i.x,t="left",n="right"):(e=i.base<i.y,t="bottom",n="top"),e?(r="end",s="start"):(r="start",s="end"),{start:t,end:n,reverse:e,top:r,bottom:s}}function jCe(i,e,t,n){let r=e.borderSkipped;const s={};if(!r){i.borderSkipped=s;return}if(r===!0){i.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:o,reverse:a,top:u,bottom:c}=RCe(i);r==="middle"&&t&&(i.enableBorderRadius=!0,(t._top||0)===n?r=u:(t._bottom||0)===n?r=c:(s[n8(c,l,o,a)]=!0,r=u)),s[n8(r,l,o,a)]=!0,i.borderSkipped=s}function n8(i,e,t,n){return n?(i=YCe(i,e,t),i=i8(i,t,e)):i=i8(i,e,t),i}function YCe(i,e,t){return i===e?t:i===t?e:i}function i8(i,e,t){return i==="start"?e:i==="end"?t:i}function UCe(i,{inflateAmount:e},t){i.inflateAmount=e==="auto"?t===1?.33:0:e}class c_ extends Is{parsePrimitiveData(e,t,n,r){return t8(e,t,n,r)}parseArrayData(e,t,n,r){return t8(e,t,n,r)}parseObjectData(e,t,n,r){const{iScale:s,vScale:l}=e,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,u=s.axis==="x"?o:a,c=l.axis==="x"?o:a,f=[];let d,m,p,g;for(d=n,m=n+r;d<m;++d)g=t[d],p={},p[s.axis]=s.parse(Io(g,u),d),f.push(XB(Io(g,c),p,l,d));return f}updateRangeFromParsed(e,t,n,r){super.updateRangeFromParsed(e,t,n,r);const s=n._custom;s&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:r}=t,s=this.getParsed(e),l=s._custom,o=Ag(l)?"["+l.start+", "+l.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+n.getLabelForValue(s[n.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,r){const s=r==="reset",{index:l,_cachedMeta:{vScale:o}}=this,a=o.getBasePixel(),u=o.isHorizontal(),c=this._getRuler(),{sharedOptions:f,includeOptions:d}=this._getSharedOptions(t,r);for(let m=t;m<t+n;m++){const p=this.getParsed(m),g=s||zn(p[o.axis])?{base:a,head:a}:this._calculateBarValuePixels(m),k=this._calculateBarIndexPixels(m,c),$=(p._stacks||{})[o.axis],D={horizontal:u,base:g.base,enableBorderRadius:!$||Ag(p._custom)||l===$._top||l===$._bottom,x:u?g.head:k.center,y:u?k.center:g.head,height:u?k.size:Math.abs(g.size),width:u?Math.abs(g.size):k.size};d&&(D.options=f||this.resolveDataElementOptions(m,e[m].active?"active":r));const F=D.options||e[m].options;jCe(D,F,$,l),UCe(D,F,c.ratio),this.updateElement(e[m],m,D,r)}}_getStacks(e,t){const{iScale:n}=this._cachedMeta,r=n.getMatchingVisibleMetas(this._type).filter(a=>a.controller.options.grouped),s=n.options.stacked,l=[],o=a=>{const u=a.controller.getParsed(t),c=u&&u[a.vScale.axis];if(zn(c)||isNaN(c))return!0};for(const a of r)if(!(t!==void 0&&o(a))&&((s===!1||l.indexOf(a.stack)===-1||s===void 0&&a.stack===void 0)&&l.push(a.stack),a.index===e))break;return l.length||l.push(void 0),l}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,n){const r=this._getStacks(e,n),s=t!==void 0?r.indexOf(t):-1;return s===-1?r.length-1:s}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,r=[];let s,l;for(s=0,l=t.data.length;s<l;++s)r.push(n.getPixelForValue(this.getParsed(s)[n.axis],s));const o=e.barThickness;return{min:o||LCe(t),pixels:r,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:n},options:{base:r,minBarLength:s}}=this,l=r||0,o=this.getParsed(e),a=o._custom,u=Ag(a);let c=o[t.axis],f=0,d=n?this.applyStack(t,o,n):c,m,p;d!==c&&(f=d-c,d=c),u&&(c=a.barStart,d=a.barEnd-a.barStart,c!==0&&sl(c)!==sl(a.barEnd)&&(f=0),f+=c);const g=!zn(r)&&!u?r:f;let k=t.getPixelForValue(g);if(this.chart.getDataVisibility(e)?m=t.getPixelForValue(f+d):m=k,p=m-k,Math.abs(p)<s){p=zCe(p,t,l)*s,c===l&&(k-=p/2);const $=t.getPixelForDecimal(0),D=t.getPixelForDecimal(1),F=Math.min($,D),C=Math.max($,D);k=Math.max(Math.min(k,C),F),m=k+p}if(k===t.getPixelForValue(l)){const $=sl(p)*t.getLineWidthForValue(l)/2;k+=$,p-=$}return{size:p,base:k,head:m,center:m+p/2}}_calculateBarIndexPixels(e,t){const n=t.scale,r=this.options,s=r.skipNull,l=$n(r.maxBarThickness,1/0);let o,a;if(t.grouped){const u=s?this._getStackCount(e):t.stackCount,c=r.barThickness==="flex"?ICe(e,t,r,u):OCe(e,t,r,u),f=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);o=c.start+c.chunk*f+c.chunk/2,a=Math.min(l,c.chunk*c.ratio)}else o=n.getPixelForValue(this.getParsed(e)[n.axis],e),a=Math.min(l,t.min*t.ratio);return{base:o-a/2,head:o+a/2,center:o,size:a}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,r=n.length;let s=0;for(;s<r;++s)this.getParsed(s)[t.axis]!==null&&n[s].draw(this._ctx)}}c_.id="bar";c_.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};c_.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class Mb extends Is{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,n,r){const s=super.parsePrimitiveData(e,t,n,r);for(let l=0;l<s.length;l++)s[l]._custom=this.resolveDataElementOptions(l+n).radius;return s}parseArrayData(e,t,n,r){const s=super.parseArrayData(e,t,n,r);for(let l=0;l<s.length;l++){const o=t[n+l];s[l]._custom=$n(o[2],this.resolveDataElementOptions(l+n).radius)}return s}parseObjectData(e,t,n,r){const s=super.parseObjectData(e,t,n,r);for(let l=0;l<s.length;l++){const o=t[n+l];s[l]._custom=$n(o&&o.r&&+o.r,this.resolveDataElementOptions(l+n).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,{xScale:n,yScale:r}=t,s=this.getParsed(e),l=n.getLabelForValue(s.x),o=r.getLabelForValue(s.y),a=s._custom;return{label:t.label,value:"("+l+", "+o+(a?", "+a:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,n,r){const s=r==="reset",{iScale:l,vScale:o}=this._cachedMeta,{sharedOptions:a,includeOptions:u}=this._getSharedOptions(t,r),c=l.axis,f=o.axis;for(let d=t;d<t+n;d++){const m=e[d],p=!s&&this.getParsed(d),g={},k=g[c]=s?l.getPixelForDecimal(.5):l.getPixelForValue(p[c]),$=g[f]=s?o.getBasePixel():o.getPixelForValue(p[f]);g.skip=isNaN(k)||isNaN($),u&&(g.options=a||this.resolveDataElementOptions(d,m.active?"active":r),s&&(g.options.radius=0)),this.updateElement(m,d,g,r)}}resolveDataElementOptions(e,t){const n=this.getParsed(e);let r=super.resolveDataElementOptions(e,t);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const s=r.radius;return t!=="active"&&(r.radius=0),r.radius+=$n(n&&n._custom,s),r}}Mb.id="bubble";Mb.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};Mb.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title(){return""}}}}};function qCe(i,e,t){let n=1,r=1,s=0,l=0;if(e<Un){const o=i,a=o+e,u=Math.cos(o),c=Math.sin(o),f=Math.cos(a),d=Math.sin(a),m=(F,C,S)=>hd(F,o,a,!0)?1:Math.max(C,C*t,S,S*t),p=(F,C,S)=>hd(F,o,a,!0)?-1:Math.min(C,C*t,S,S*t),g=m(0,u,f),k=m(ki,c,d),$=p(yi,u,f),D=p(yi+ki,c,d);n=(g-$)/2,r=(k-D)/2,s=-(g+$)/2,l=-(k+D)/2}return{ratioX:n,ratioY:r,offsetX:s,offsetY:l}}class xd extends Is{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=n;else{let s=a=>+n[a];if(hn(n[e])){const{key:a="value"}=this._parsing;s=u=>+Io(n[u],a)}let l,o;for(l=e,o=e+t;l<o;++l)r._parsed[l]=s(l)}}_getRotation(){return Ss(this.options.rotation-90)}_getCircumference(){return Ss(this.options.circumference)}_getRotationExtents(){let e=Un,t=-Un;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)){const r=this.chart.getDatasetMeta(n).controller,s=r._getRotation(),l=r._getCircumference();e=Math.min(e,s),t=Math.max(t,s+l)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,r=this._cachedMeta,s=r.data,l=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,o=Math.max((Math.min(n.width,n.height)-l)/2,0),a=Math.min(I8e(this.options.cutout,o),1),u=this._getRingWeight(this.index),{circumference:c,rotation:f}=this._getRotationExtents(),{ratioX:d,ratioY:m,offsetX:p,offsetY:g}=qCe(f,c,a),k=(n.width-l)/d,$=(n.height-l)/m,D=Math.max(Math.min(k,$)/2,0),F=wB(this.options.radius,D),C=Math.max(F*a,0),S=(F-C)/this._getVisibleDatasetWeightTotal();this.offsetX=p*F,this.offsetY=g*F,r.total=this.calculateTotal(),this.outerRadius=F-S*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-S*u,0),this.updateElements(s,0,s.length,e)}_circumference(e,t){const n=this.options,r=this._cachedMeta,s=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*s/Un)}updateElements(e,t,n,r){const s=r==="reset",l=this.chart,o=l.chartArea,u=l.options.animation,c=(o.left+o.right)/2,f=(o.top+o.bottom)/2,d=s&&u.animateScale,m=d?0:this.innerRadius,p=d?0:this.outerRadius,{sharedOptions:g,includeOptions:k}=this._getSharedOptions(t,r);let $=this._getRotation(),D;for(D=0;D<t;++D)$+=this._circumference(D,s);for(D=t;D<t+n;++D){const F=this._circumference(D,s),C=e[D],S={x:c+this.offsetX,y:f+this.offsetY,startAngle:$,endAngle:$+F,circumference:F,outerRadius:p,innerRadius:m};k&&(S.options=g||this.resolveDataElementOptions(D,C.active?"active":r)),$+=F,this.updateElement(C,D,S,r)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n=0,r;for(r=0;r<t.length;r++){const s=e._parsed[r];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!t[r].hidden&&(n+=Math.abs(s))}return n}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Un*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,r=n.data.labels||[],s=Zd(t._parsed[e],n.options.locale);return{label:r[e]||"",value:s}}getMaxBorderWidth(e){let t=0;const n=this.chart;let r,s,l,o,a;if(!e){for(r=0,s=n.data.datasets.length;r<s;++r)if(n.isDatasetVisible(r)){l=n.getDatasetMeta(r),e=l.data,o=l.controller;break}}if(!e)return 0;for(r=0,s=e.length;r<s;++r)a=o.resolveDataElementOptions(r),a.borderAlign!=="inner"&&(t=Math.max(t,a.borderWidth||0,a.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,r=e.length;n<r;++n){const s=this.resolveDataElementOptions(n);t=Math.max(t,s.offset||0,s.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max($n(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}xd.id="doughnut";xd.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};xd.descriptors={_scriptable:i=>i!=="spacing",_indexable:i=>i!=="spacing"};xd.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(i){const e=i.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:t}}=i.legend.options;return e.labels.map((n,r)=>{const l=i.getDatasetMeta(0).controller.getStyle(r);return{text:n,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,lineWidth:l.borderWidth,pointStyle:t,hidden:!i.getDataVisibility(r),index:r}})}return[]}},onClick(i,e,t){t.chart.toggleDataVisibility(e.index),t.chart.update()}},tooltip:{callbacks:{title(){return""},label(i){let e=i.label;const t=": "+i.formattedValue;return li(e)?(e=e.slice(),e[0]+=t):e+=t,e}}}}};class f_ extends Is{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:r=[],_dataset:s}=t,l=this.chart._animationsDisabled;let{start:o,count:a}=AB(t,r,l);this._drawStart=o,this._drawCount=a,PB(t)&&(o=0,a=r.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!s._decimated,n.points=r;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(n,void 0,{animated:!l,options:u},e),this.updateElements(r,o,a,e)}updateElements(e,t,n,r){const s=r==="reset",{iScale:l,vScale:o,_stacked:a,_dataset:u}=this._cachedMeta,{sharedOptions:c,includeOptions:f}=this._getSharedOptions(t,r),d=l.axis,m=o.axis,{spanGaps:p,segment:g}=this.options,k=mc(p)?p:Number.POSITIVE_INFINITY,$=this.chart._animationsDisabled||s||r==="none";let D=t>0&&this.getParsed(t-1);for(let F=t;F<t+n;++F){const C=e[F],S=this.getParsed(F),P=$?C:{},I=zn(S[m]),R=P[d]=l.getPixelForValue(S[d],F),B=P[m]=s||I?o.getBasePixel():o.getPixelForValue(a?this.applyStack(o,S,a):S[m],F);P.skip=isNaN(R)||isNaN(B)||I,P.stop=F>0&&Math.abs(S[d]-D[d])>k,g&&(P.parsed=S,P.raw=u.data[F]),f&&(P.options=c||this.resolveDataElementOptions(F,C.active?"active":r)),$||this.updateElement(C,F,P,r),D=S}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return n;const s=r[0].size(this.resolveDataElementOptions(0)),l=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,s,l)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}f_.id="line";f_.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};f_.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};class Lb extends Is{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,r=n.data.labels||[],s=Zd(t._parsed[e].r,n.options.locale);return{label:r[e]||"",value:s}}parseObjectData(e,t,n,r){return UB.bind(this)(e,t,n,r)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((n,r)=>{const s=this.getParsed(r).r;!isNaN(s)&&this.chart.getDataVisibility(r)&&(s<t.min&&(t.min=s),s>t.max&&(t.max=s))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,n=e.options,r=Math.min(t.right-t.left,t.bottom-t.top),s=Math.max(r/2,0),l=Math.max(n.cutoutPercentage?s/100*n.cutoutPercentage:1,0),o=(s-l)/e.getVisibleDatasetCount();this.outerRadius=s-o*this.index,this.innerRadius=this.outerRadius-o}updateElements(e,t,n,r){const s=r==="reset",l=this.chart,a=l.options.animation,u=this._cachedMeta.rScale,c=u.xCenter,f=u.yCenter,d=u.getIndexAngle(0)-.5*yi;let m=d,p;const g=360/this.countVisibleElements();for(p=0;p<t;++p)m+=this._computeAngle(p,r,g);for(p=t;p<t+n;p++){const k=e[p];let $=m,D=m+this._computeAngle(p,r,g),F=l.getDataVisibility(p)?u.getDistanceFromCenterForValue(this.getParsed(p).r):0;m=D,s&&(a.animateScale&&(F=0),a.animateRotate&&($=D=d));const C={x:c,y:f,innerRadius:0,outerRadius:F,startAngle:$,endAngle:D,options:this.resolveDataElementOptions(p,k.active?"active":r)};this.updateElement(k,p,C,r)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((n,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&t++}),t}_computeAngle(e,t,n){return this.chart.getDataVisibility(e)?Ss(this.resolveDataElementOptions(e,t).angle||n):0}}Lb.id="polarArea";Lb.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};Lb.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(i){const e=i.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:t}}=i.legend.options;return e.labels.map((n,r)=>{const l=i.getDatasetMeta(0).controller.getStyle(r);return{text:n,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,lineWidth:l.borderWidth,pointStyle:t,hidden:!i.getDataVisibility(r),index:r}})}return[]}},onClick(i,e,t){t.chart.toggleDataVisibility(e.index),t.chart.update()}},tooltip:{callbacks:{title(){return""},label(i){return i.chart.data.labels[i.dataIndex]+": "+i.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class KB extends xd{}KB.id="pie";KB.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class Ob extends Is{getLabelAndValue(e){const t=this._cachedMeta.vScale,n=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(n[t.axis])}}parseObjectData(e,t,n,r){return UB.bind(this)(e,t,n,r)}update(e){const t=this._cachedMeta,n=t.dataset,r=t.data||[],s=t.iScale.getLabels();if(n.points=r,e!=="resize"){const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0);const o={_loop:!0,_fullLoop:s.length===r.length,options:l};this.updateElement(n,void 0,o,e)}this.updateElements(r,0,r.length,e)}updateElements(e,t,n,r){const s=this._cachedMeta.rScale,l=r==="reset";for(let o=t;o<t+n;o++){const a=e[o],u=this.resolveDataElementOptions(o,a.active?"active":r),c=s.getPointPositionForValue(o,this.getParsed(o).r),f=l?s.xCenter:c.x,d=l?s.yCenter:c.y,m={x:f,y:d,angle:c.angle,skip:isNaN(f)||isNaN(d),options:u};this.updateElement(a,o,m,r)}}}Ob.id="radar";Ob.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};Ob.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class Jl{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return mc(this.x)&&mc(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const r={};return e.forEach(s=>{r[s]=n[s]&&n[s].active()?n[s]._to:this[s]}),r}}Jl.defaults={};Jl.defaultRoutes=void 0;const JB={values(i){return li(i)?i:""+i},numeric(i,e,t){if(i===0)return"0";const n=this.chart.options.locale;let r,s=i;if(t.length>1){const u=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(u<1e-4||u>1e15)&&(r="scientific"),s=HCe(i,t)}const l=os(Math.abs(s)),o=Math.max(Math.min(-1*Math.floor(l),20),0),a={notation:r,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(a,this.options.ticks.format),Zd(i,n,a)},logarithmic(i,e,t){if(i===0)return"0";const n=i/Math.pow(10,Math.floor(os(i)));return n===1||n===2||n===5?JB.numeric.call(this,i,e,t):""}};function HCe(i,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&i!==Math.floor(i)&&(t=i-Math.floor(i)),t}var d_={formatters:JB};En.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(i,e)=>e.lineWidth,tickColor:(i,e)=>e.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:d_.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}});En.route("scale.ticks","color","","color");En.route("scale.grid","color","","borderColor");En.route("scale.grid","borderColor","","borderColor");En.route("scale.title","color","","color");En.describe("scale",{_fallback:!1,_scriptable:i=>!i.startsWith("before")&&!i.startsWith("after")&&i!=="callback"&&i!=="parser",_indexable:i=>i!=="borderDash"&&i!=="tickBorderDash"});En.describe("scales",{_fallback:"scale"});En.describe("scale.ticks",{_scriptable:i=>i!=="backdropPadding"&&i!=="callback",_indexable:i=>i!=="backdropPadding"});function WCe(i,e){const t=i.options.ticks,n=t.maxTicksLimit||VCe(i),r=t.major.enabled?ZCe(e):[],s=r.length,l=r[0],o=r[s-1],a=[];if(s>n)return xCe(e,a,r,s/n),a;const u=GCe(r,e,n);if(s>0){let c,f;const d=s>1?Math.round((o-l)/(s-1)):null;for(Rh(e,a,u,zn(d)?0:l-d,l),c=0,f=s-1;c<f;c++)Rh(e,a,u,r[c],r[c+1]);return Rh(e,a,u,o,zn(d)?e.length:o+d),a}return Rh(e,a,u),a}function VCe(i){const e=i.options.offset,t=i._tickSize(),n=i._length/t+(e?0:1),r=i._maxLength/t;return Math.floor(Math.min(n,r))}function GCe(i,e,t){const n=XCe(i),r=e.length/t;if(!n)return Math.max(r,1);const s=H8e(n);for(let l=0,o=s.length-1;l<o;l++){const a=s[l];if(a>r)return a}return Math.max(r,1)}function ZCe(i){const e=[];let t,n;for(t=0,n=i.length;t<n;t++)i[t].major&&e.push(t);return e}function xCe(i,e,t,n){let r=0,s=t[0],l;for(n=Math.ceil(n),l=0;l<i.length;l++)l===s&&(e.push(i[l]),r++,s=t[r*n])}function Rh(i,e,t,n,r){const s=$n(n,0),l=Math.min($n(r,i.length),i.length);let o=0,a,u,c;for(t=Math.ceil(t),r&&(a=r-n,t=a/Math.floor(a/t)),c=s;c<0;)o++,c=Math.round(s+o*t);for(u=Math.max(s,0);u<l;u++)u===c&&(e.push(i[u]),o++,c=Math.round(s+o*t))}function XCe(i){const e=i.length;let t,n;if(e<2)return!1;for(n=i[0],t=1;t<e;++t)if(i[t]-i[t-1]!==n)return!1;return n}const KCe=i=>i==="left"?"right":i==="right"?"left":i,r8=(i,e,t)=>e==="top"||e==="left"?i[e]+t:i[e]-t;function s8(i,e){const t=[],n=i.length/e,r=i.length;let s=0;for(;s<r;s+=n)t.push(i[Math.floor(s)]);return t}function JCe(i,e,t){const n=i.ticks.length,r=Math.min(e,n-1),s=i._startPixel,l=i._endPixel,o=1e-6;let a=i.getPixelForTick(r),u;if(!(t&&(n===1?u=Math.max(a-s,l-a):e===0?u=(i.getPixelForTick(1)-a)/2:u=(a-i.getPixelForTick(r-1))/2,a+=r<e?u:-u,a<s-o||a>l+o)))return a}function QCe(i,e){Bn(i,t=>{const n=t.gc,r=n.length/2;let s;if(r>e){for(s=0;s<r;++s)delete t.data[n[s]];n.splice(0,r)}})}function cf(i){return i.drawTicks?i.tickLength:0}function l8(i,e){if(!i.display)return 0;const t=Zr(i.font,e),n=hs(i.padding);return(li(i.text)?i.text.length:1)*t.lineHeight+n.height}function eSe(i,e){return Go(i,{scale:e,type:"scale"})}function tSe(i,e,t){return Go(i,{tick:t,index:e,type:"tick"})}function nSe(i,e,t){let n=J8e(i);return(t&&e!=="right"||!t&&e==="right")&&(n=KCe(n)),n}function iSe(i,e,t,n){const{top:r,left:s,bottom:l,right:o,chart:a}=i,{chartArea:u,scales:c}=a;let f=0,d,m,p;const g=l-r,k=o-s;if(i.isHorizontal()){if(m=PE(n,s,o),hn(t)){const $=Object.keys(t)[0],D=t[$];p=c[$].getPixelForValue(D)+g-e}else t==="center"?p=(u.bottom+u.top)/2+g-e:p=r8(i,t,e);d=o-s}else{if(hn(t)){const $=Object.keys(t)[0],D=t[$];m=c[$].getPixelForValue(D)-k+e}else t==="center"?m=(u.left+u.right)/2-k+e:m=r8(i,t,e);p=PE(n,l,r),f=t==="left"?-ki:ki}return{titleX:m,titleY:p,maxWidth:d,rotation:f}}class au extends Jl{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:r}=this;return e=is(e,Number.POSITIVE_INFINITY),t=is(t,Number.NEGATIVE_INFINITY),n=is(n,Number.POSITIVE_INFINITY),r=is(r,Number.NEGATIVE_INFINITY),{min:is(e,n),max:is(t,r),minDefined:Ei(e),maxDefined:Ei(t)}}getMinMax(e){let{min:t,max:n,minDefined:r,maxDefined:s}=this.getUserBounds(),l;if(r&&s)return{min:t,max:n};const o=this.getMatchingVisibleMetas();for(let a=0,u=o.length;a<u;++a)l=o[a].controller.getMinMax(this,e),r||(t=Math.min(t,l.min)),s||(n=Math.max(n,l.max));return t=s&&t>n?n:t,n=r&&t>n?t:n,{min:is(t,is(n,t)),max:is(n,is(t,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){vi(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:r,grace:s,ticks:l}=this.options,o=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=MDe(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const a=o<this.ticks.length;this._convertTicksToLabels(a?s8(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=WCe(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,n;this.isHorizontal()?(t=this.left,n=this.right):(t=this.top,n=this.bottom,e=!e),this._startPixel=t,this._endPixel=n,this._reversePixels=e,this._length=n-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){vi(this.options.afterUpdate,[this])}beforeSetDimensions(){vi(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){vi(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),vi(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){vi(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,r,s;for(n=0,r=e.length;n<r;n++)s=e[n],s.label=vi(t.callback,[s.value,n,e],this)}afterTickToLabelConversion(){vi(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){vi(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=this.ticks.length,r=t.minRotation||0,s=t.maxRotation;let l=r,o,a,u;if(!this._isVisible()||!t.display||r>=s||n<=1||!this.isHorizontal()){this.labelRotation=r;return}const c=this._getLabelSizes(),f=c.widest.width,d=c.highest.height,m=rr(this.chart.width-f,0,this.maxWidth);o=e.offset?this.maxWidth/n:m/(n-1),f+6>o&&(o=m/(n-(e.offset?.5:1)),a=this.maxHeight-cf(e.grid)-t.padding-l8(e.title,this.chart.options.font),u=Math.sqrt(f*f+d*d),l=yb(Math.min(Math.asin(rr((c.highest.height+6)/o,-1,1)),Math.asin(rr(a/u,-1,1))-Math.asin(rr(d/u,-1,1)))),l=Math.max(r,Math.min(s,l))),this.labelRotation=l}afterCalculateLabelRotation(){vi(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){vi(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:r,grid:s}}=this,l=this._isVisible(),o=this.isHorizontal();if(l){const a=l8(r,t.options.font);if(o?(e.width=this.maxWidth,e.height=cf(s)+a):(e.height=this.maxHeight,e.width=cf(s)+a),n.display&&this.ticks.length){const{first:u,last:c,widest:f,highest:d}=this._getLabelSizes(),m=n.padding*2,p=Ss(this.labelRotation),g=Math.cos(p),k=Math.sin(p);if(o){const $=n.mirror?0:k*f.width+g*d.height;e.height=Math.min(this.maxHeight,e.height+$+m)}else{const $=n.mirror?0:g*f.width+k*d.height;e.width=Math.min(this.maxWidth,e.width+$+m)}this._calculatePadding(u,c,k,g)}}this._handleMargins(),o?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,r){const{ticks:{align:s,padding:l},position:o}=this.options,a=this.labelRotation!==0,u=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const c=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,m=0;a?u?(d=r*e.width,m=n*t.height):(d=n*e.height,m=r*t.width):s==="start"?m=t.width:s==="end"?d=e.width:s!=="inner"&&(d=e.width/2,m=t.width/2),this.paddingLeft=Math.max((d-c+l)*this.width/(this.width-c),0),this.paddingRight=Math.max((m-f+l)*this.width/(this.width-f),0)}else{let c=t.height/2,f=e.height/2;s==="start"?(c=0,f=e.height):s==="end"&&(c=t.height,f=0),this.paddingTop=c+l,this.paddingBottom=f+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){vi(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,n;for(t=0,n=e.length;t<n;t++)zn(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=s8(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length)}return e}_computeLabelSizes(e,t){const{ctx:n,_longestTextCache:r}=this,s=[],l=[];let o=0,a=0,u,c,f,d,m,p,g,k,$,D,F;for(u=0;u<t;++u){if(d=e[u].label,m=this._resolveTickFontOptions(u),n.font=p=m.string,g=r[p]=r[p]||{data:{},gc:[]},k=m.lineHeight,$=D=0,!zn(d)&&!li(d))$=Gm(n,g.data,g.gc,$,d),D=k;else if(li(d))for(c=0,f=d.length;c<f;++c)F=d[c],!zn(F)&&!li(F)&&($=Gm(n,g.data,g.gc,$,F),D+=k);s.push($),l.push(D),o=Math.max($,o),a=Math.max(D,a)}QCe(r,t);const C=s.indexOf(o),S=l.indexOf(a),P=I=>({width:s[I]||0,height:l[I]||0});return{first:P(0),last:P(t-1),widest:P(C),highest:P(S),widths:s,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return G8e(this._alignToPixels?ma(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=tSe(this.getContext(),e,n))}return this.$context||(this.$context=eSe(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=Ss(this.labelRotation),n=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),s=this._getLabelSizes(),l=e.autoSkipPadding||0,o=s?s.widest.width+l:0,a=s?s.highest.height+l:0;return this.isHorizontal()?a*n>o*r?o/n:a/r:a*r<o*n?a/n:o/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,r=this.options,{grid:s,position:l}=r,o=s.offset,a=this.isHorizontal(),c=this.ticks.length+(o?1:0),f=cf(s),d=[],m=s.setContext(this.getContext()),p=m.drawBorder?m.borderWidth:0,g=p/2,k=function(U){return ma(n,U,p)};let $,D,F,C,S,P,I,R,B,z,q,H;if(l==="top")$=k(this.bottom),P=this.bottom-f,R=$-g,z=k(e.top)+g,H=e.bottom;else if(l==="bottom")$=k(this.top),z=e.top,H=k(e.bottom)-g,P=$+g,R=this.top+f;else if(l==="left")$=k(this.right),S=this.right-f,I=$-g,B=k(e.left)+g,q=e.right;else if(l==="right")$=k(this.left),B=e.left,q=k(e.right)-g,S=$+g,I=this.left+f;else if(t==="x"){if(l==="center")$=k((e.top+e.bottom)/2+.5);else if(hn(l)){const U=Object.keys(l)[0],Q=l[U];$=k(this.chart.scales[U].getPixelForValue(Q))}z=e.top,H=e.bottom,P=$+g,R=P+f}else if(t==="y"){if(l==="center")$=k((e.left+e.right)/2);else if(hn(l)){const U=Object.keys(l)[0],Q=l[U];$=k(this.chart.scales[U].getPixelForValue(Q))}S=$-g,I=S-f,B=e.left,q=e.right}const K=$n(r.ticks.maxTicksLimit,c),G=Math.max(1,Math.ceil(c/K));for(D=0;D<c;D+=G){const U=s.setContext(this.getContext(D)),Q=U.lineWidth,V=U.color,x=U.borderDash||[],ee=U.borderDashOffset,J=U.tickWidth,se=U.tickColor,te=U.tickBorderDash||[],ge=U.tickBorderDashOffset;F=JCe(this,D,o),F!==void 0&&(C=ma(n,F,Q),a?S=I=B=q=C:P=R=z=H=C,d.push({tx1:S,ty1:P,tx2:I,ty2:R,x1:B,y1:z,x2:q,y2:H,width:Q,color:V,borderDash:x,borderDashOffset:ee,tickWidth:J,tickColor:se,tickBorderDash:te,tickBorderDashOffset:ge}))}return this._ticksLength=c,this._borderValue=$,d}_computeLabelItems(e){const t=this.axis,n=this.options,{position:r,ticks:s}=n,l=this.isHorizontal(),o=this.ticks,{align:a,crossAlign:u,padding:c,mirror:f}=s,d=cf(n.grid),m=d+c,p=f?-c:m,g=-Ss(this.labelRotation),k=[];let $,D,F,C,S,P,I,R,B,z,q,H,K="middle";if(r==="top")P=this.bottom-p,I=this._getXAxisLabelAlignment();else if(r==="bottom")P=this.top+p,I=this._getXAxisLabelAlignment();else if(r==="left"){const U=this._getYAxisLabelAlignment(d);I=U.textAlign,S=U.x}else if(r==="right"){const U=this._getYAxisLabelAlignment(d);I=U.textAlign,S=U.x}else if(t==="x"){if(r==="center")P=(e.top+e.bottom)/2+m;else if(hn(r)){const U=Object.keys(r)[0],Q=r[U];P=this.chart.scales[U].getPixelForValue(Q)+m}I=this._getXAxisLabelAlignment()}else if(t==="y"){if(r==="center")S=(e.left+e.right)/2-m;else if(hn(r)){const U=Object.keys(r)[0],Q=r[U];S=this.chart.scales[U].getPixelForValue(Q)}I=this._getYAxisLabelAlignment(d).textAlign}t==="y"&&(a==="start"?K="top":a==="end"&&(K="bottom"));const G=this._getLabelSizes();for($=0,D=o.length;$<D;++$){F=o[$],C=F.label;const U=s.setContext(this.getContext($));R=this.getPixelForTick($)+s.labelOffset,B=this._resolveTickFontOptions($),z=B.lineHeight,q=li(C)?C.length:1;const Q=q/2,V=U.color,x=U.textStrokeColor,ee=U.textStrokeWidth;let J=I;l?(S=R,I==="inner"&&($===D-1?J=this.options.reverse?"left":"right":$===0?J=this.options.reverse?"right":"left":J="center"),r==="top"?u==="near"||g!==0?H=-q*z+z/2:u==="center"?H=-G.highest.height/2-Q*z+z:H=-G.highest.height+z/2:u==="near"||g!==0?H=z/2:u==="center"?H=G.highest.height/2-Q*z:H=G.highest.height-q*z,f&&(H*=-1)):(P=R,H=(1-q)*z/2);let se;if(U.showLabelBackdrop){const te=hs(U.backdropPadding),ge=G.heights[$],ae=G.widths[$];let ve=P+H-te.top,Te=S-te.left;switch(K){case"middle":ve-=ge/2;break;case"bottom":ve-=ge;break}switch(I){case"center":Te-=ae/2;break;case"right":Te-=ae;break}se={left:Te,top:ve,width:ae+te.width,height:ge+te.height,color:U.backdropColor}}k.push({rotation:g,label:C,font:B,color:V,strokeColor:x,strokeWidth:ee,textOffset:H,textAlign:J,textBaseline:K,translation:[S,P],backdrop:se})}return k}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Ss(this.labelRotation))return e==="top"?"left":"right";let r="center";return t.align==="start"?r="left":t.align==="end"?r="right":t.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:r,padding:s}}=this.options,l=this._getLabelSizes(),o=e+s,a=l.widest.width;let u,c;return t==="left"?r?(c=this.right+s,n==="near"?u="left":n==="center"?(u="center",c+=a/2):(u="right",c+=a)):(c=this.right-o,n==="near"?u="right":n==="center"?(u="center",c-=a/2):(u="left",c=this.left)):t==="right"?r?(c=this.left+s,n==="near"?u="right":n==="center"?(u="center",c-=a/2):(u="left",c-=a)):(c=this.left+o,n==="near"?u="left":n==="center"?(u="center",c+=a/2):(u="right",c=this.right)):u="right",{textAlign:u,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:r,width:s,height:l}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,r,s,l),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const r=this.ticks.findIndex(s=>s.value===e);return r>=0?t.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const t=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,l;const o=(a,u,c)=>{!c.width||!c.color||(n.save(),n.lineWidth=c.width,n.strokeStyle=c.color,n.setLineDash(c.borderDash||[]),n.lineDashOffset=c.borderDashOffset,n.beginPath(),n.moveTo(a.x,a.y),n.lineTo(u.x,u.y),n.stroke(),n.restore())};if(t.display)for(s=0,l=r.length;s<l;++s){const a=r[s];t.drawOnChartArea&&o({x:a.x1,y:a.y1},{x:a.x2,y:a.y2},a),t.drawTicks&&o({x:a.tx1,y:a.ty1},{x:a.tx2,y:a.ty2},{color:a.tickColor,width:a.tickWidth,borderDash:a.tickBorderDash,borderDashOffset:a.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{grid:n}}=this,r=n.setContext(this.getContext()),s=n.drawBorder?r.borderWidth:0;if(!s)return;const l=n.setContext(this.getContext(0)).lineWidth,o=this._borderValue;let a,u,c,f;this.isHorizontal()?(a=ma(e,this.left,s)-s/2,u=ma(e,this.right,l)+l/2,c=f=o):(c=ma(e,this.top,s)-s/2,f=ma(e,this.bottom,l)+l/2,a=u=o),t.save(),t.lineWidth=r.borderWidth,t.strokeStyle=r.borderColor,t.beginPath(),t.moveTo(a,c),t.lineTo(u,f),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,r=this._computeLabelArea();r&&Db(n,r);const s=this._labelItems||(this._labelItems=this._computeLabelItems(e));let l,o;for(l=0,o=s.length;l<o;++l){const a=s[l],u=a.font,c=a.label;a.backdrop&&(n.fillStyle=a.backdrop.color,n.fillRect(a.backdrop.left,a.backdrop.top,a.backdrop.width,a.backdrop.height));let f=a.textOffset;Zm(n,c,0,f,u,a)}r&&Cb(n)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:r}}=this;if(!n.display)return;const s=Zr(n.font),l=hs(n.padding),o=n.align;let a=s.lineHeight/2;t==="bottom"||t==="center"||hn(t)?(a+=l.bottom,li(n.text)&&(a+=s.lineHeight*(n.text.length-1))):a+=l.top;const{titleX:u,titleY:c,maxWidth:f,rotation:d}=iSe(this,a,t,o);Zm(e,n.text,0,0,s,{color:n.color,maxWidth:f,rotation:d,textAlign:nSe(o,t,r),textBaseline:"middle",translation:[u,c]})}draw(e){!this._isVisible()||(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=$n(e.grid&&e.grid.z,-1);return!this._isVisible()||this.draw!==au.prototype.draw?[{z:t,draw:r=>{this.draw(r)}}]:[{z:n,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:n+1,draw:()=>{this.drawBorder()}},{z:t,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let s,l;for(s=0,l=t.length;s<l;++s){const o=t[s];o[n]===this.id&&(!e||o.type===e)&&r.push(o)}return r}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return Zr(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class jh{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;lSe(t)&&(n=this.register(t));const r=this.items,s=e.id,l=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,rSe(e,l,n),this.override&&En.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,r=this.scope;n in t&&delete t[n],r&&n in En[r]&&(delete En[r][n],this.override&&delete Wa[n])}}function rSe(i,e,t){const n=dd(Object.create(null),[t?En.get(t):{},En.get(e),i.defaults]);En.set(e,n),i.defaultRoutes&&sSe(e,i.defaultRoutes),i.descriptors&&En.describe(e,i.descriptors)}function sSe(i,e){Object.keys(e).forEach(t=>{const n=t.split("."),r=n.pop(),s=[i].concat(n).join("."),l=e[t].split("."),o=l.pop(),a=l.join(".");En.route(s,r,a,o)})}function lSe(i){return"id"in i&&"defaults"in i}class oSe{constructor(){this.controllers=new jh(Is,"datasets",!0),this.elements=new jh(Jl,"elements"),this.plugins=new jh(Object,"plugins"),this.scales=new jh(au,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,n){[...t].forEach(r=>{const s=n||this._getRegistryForType(r);n||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):Bn(r,l=>{const o=n||this._getRegistryForType(l);this._exec(e,o,l)})})}_exec(e,t,n){const r=kb(e);vi(n["before"+r],[],n),t[e](n),vi(n["after"+r],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const r=t.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return r}}var el=new oSe;class Ib extends Is{update(e){const t=this._cachedMeta,{data:n=[]}=t,r=this.chart._animationsDisabled;let{start:s,count:l}=AB(t,n,r);if(this._drawStart=s,this._drawCount=l,PB(t)&&(s=0,l=n.length),this.options.showLine){const{dataset:o,_dataset:a}=t;o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!a._decimated,o.points=n;const u=this.resolveDatasetElementOptions(e);u.segment=this.options.segment,this.updateElement(o,void 0,{animated:!r,options:u},e)}this.updateElements(n,s,l,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=el.getElement("line")),super.addElements()}updateElements(e,t,n,r){const s=r==="reset",{iScale:l,vScale:o,_stacked:a,_dataset:u}=this._cachedMeta,c=this.resolveDataElementOptions(t,r),f=this.getSharedOptions(c),d=this.includeOptions(r,f),m=l.axis,p=o.axis,{spanGaps:g,segment:k}=this.options,$=mc(g)?g:Number.POSITIVE_INFINITY,D=this.chart._animationsDisabled||s||r==="none";let F=t>0&&this.getParsed(t-1);for(let C=t;C<t+n;++C){const S=e[C],P=this.getParsed(C),I=D?S:{},R=zn(P[p]),B=I[m]=l.getPixelForValue(P[m],C),z=I[p]=s||R?o.getBasePixel():o.getPixelForValue(a?this.applyStack(o,P,a):P[p],C);I.skip=isNaN(B)||isNaN(z)||R,I.stop=C>0&&Math.abs(P[m]-F[m])>$,k&&(I.parsed=P,I.raw=u.data[C]),d&&(I.options=f||this.resolveDataElementOptions(C,S.active?"active":r)),D||this.updateElement(S,C,I,r),F=P}this.updateSharedOptions(f,r,c)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let o=0;for(let a=t.length-1;a>=0;--a)o=Math.max(o,t[a].size(this.resolveDataElementOptions(a))/2);return o>0&&o}const n=e.dataset,r=n.options&&n.options.borderWidth||0;if(!t.length)return r;const s=t[0].size(this.resolveDataElementOptions(0)),l=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(r,s,l)/2}}Ib.id="scatter";Ib.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};Ib.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title(){return""},label(i){return"("+i.label+", "+i.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};function pa(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Q1{constructor(e){this.options=e||{}}init(e){}formats(){return pa()}parse(e,t){return pa()}format(e,t){return pa()}add(e,t,n){return pa()}diff(e,t,n){return pa()}startOf(e,t,n){return pa()}endOf(e,t){return pa()}}Q1.override=function(i){Object.assign(Q1.prototype,i)};var aSe={_date:Q1};function uSe(i,e,t,n){const{controller:r,data:s,_sorted:l}=i,o=r._cachedMeta.iScale;if(o&&e===o.axis&&e!=="r"&&l&&s.length){const a=o._reversePixels?Z8e:Da;if(n){if(r._sharedOptions){const u=s[0],c=typeof u.getRange=="function"&&u.getRange(e);if(c){const f=a(s,e,t-c),d=a(s,e,t+c);return{lo:f.lo,hi:d.hi}}}}else return a(s,e,t)}return{lo:0,hi:s.length-1}}function Xd(i,e,t,n,r){const s=i.getSortedVisibleDatasetMetas(),l=t[e];for(let o=0,a=s.length;o<a;++o){const{index:u,data:c}=s[o],{lo:f,hi:d}=uSe(s[o],e,l,r);for(let m=f;m<=d;++m){const p=c[m];p.skip||n(p,u,m)}}}function cSe(i){const e=i.indexOf("x")!==-1,t=i.indexOf("y")!==-1;return function(n,r){const s=e?Math.abs(n.x-r.x):0,l=t?Math.abs(n.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(l,2))}}function Pg(i,e,t,n,r){const s=[];return!r&&!i.isPointInArea(e)||Xd(i,t,e,function(o,a,u){!r&&!pd(o,i.chartArea,0)||o.inRange(e.x,e.y,n)&&s.push({element:o,datasetIndex:a,index:u})},!0),s}function fSe(i,e,t,n){let r=[];function s(l,o,a){const{startAngle:u,endAngle:c}=l.getProps(["startAngle","endAngle"],n),{angle:f}=EB(l,{x:e.x,y:e.y});hd(f,u,c)&&r.push({element:l,datasetIndex:o,index:a})}return Xd(i,t,e,s),r}function dSe(i,e,t,n,r,s){let l=[];const o=cSe(t);let a=Number.POSITIVE_INFINITY;function u(c,f,d){const m=c.inRange(e.x,e.y,r);if(n&&!m)return;const p=c.getCenterPoint(r);if(!(!!s||i.isPointInArea(p))&&!m)return;const k=o(e,p);k<a?(l=[{element:c,datasetIndex:f,index:d}],a=k):k===a&&l.push({element:c,datasetIndex:f,index:d})}return Xd(i,t,e,u),l}function Ng(i,e,t,n,r,s){return!s&&!i.isPointInArea(e)?[]:t==="r"&&!n?fSe(i,e,t,r):dSe(i,e,t,n,r,s)}function o8(i,e,t,n,r){const s=[],l=t==="x"?"inXRange":"inYRange";let o=!1;return Xd(i,t,e,(a,u,c)=>{a[l](e[t],r)&&(s.push({element:a,datasetIndex:u,index:c}),o=o||a.inRange(e.x,e.y,r))}),n&&!o?[]:s}var hSe={evaluateInteractionItems:Xd,modes:{index(i,e,t,n){const r=ga(e,i),s=t.axis||"x",l=t.includeInvisible||!1,o=t.intersect?Pg(i,r,s,n,l):Ng(i,r,s,!1,n,l),a=[];return o.length?(i.getSortedVisibleDatasetMetas().forEach(u=>{const c=o[0].index,f=u.data[c];f&&!f.skip&&a.push({element:f,datasetIndex:u.index,index:c})}),a):[]},dataset(i,e,t,n){const r=ga(e,i),s=t.axis||"xy",l=t.includeInvisible||!1;let o=t.intersect?Pg(i,r,s,n,l):Ng(i,r,s,!1,n,l);if(o.length>0){const a=o[0].datasetIndex,u=i.getDatasetMeta(a).data;o=[];for(let c=0;c<u.length;++c)o.push({element:u[c],datasetIndex:a,index:c})}return o},point(i,e,t,n){const r=ga(e,i),s=t.axis||"xy",l=t.includeInvisible||!1;return Pg(i,r,s,n,l)},nearest(i,e,t,n){const r=ga(e,i),s=t.axis||"xy",l=t.includeInvisible||!1;return Ng(i,r,s,t.intersect,n,l)},x(i,e,t,n){const r=ga(e,i);return o8(i,r,"x",t.intersect,n)},y(i,e,t,n){const r=ga(e,i);return o8(i,r,"y",t.intersect,n)}}};const QB=["left","top","right","bottom"];function ff(i,e){return i.filter(t=>t.pos===e)}function a8(i,e){return i.filter(t=>QB.indexOf(t.pos)===-1&&t.box.axis===e)}function df(i,e){return i.sort((t,n)=>{const r=e?n:t,s=e?t:n;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function mSe(i){const e=[];let t,n,r,s,l,o;for(t=0,n=(i||[]).length;t<n;++t)r=i[t],{position:s,options:{stack:l,stackWeight:o=1}}=r,e.push({index:t,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:l&&s+l,stackWeight:o});return e}function pSe(i){const e={};for(const t of i){const{stack:n,pos:r,stackWeight:s}=t;if(!n||!QB.includes(r))continue;const l=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=s}return e}function _Se(i,e){const t=pSe(i),{vBoxMaxWidth:n,hBoxMaxHeight:r}=e;let s,l,o;for(s=0,l=i.length;s<l;++s){o=i[s];const{fullSize:a}=o.box,u=t[o.stack],c=u&&o.stackWeight/u.weight;o.horizontal?(o.width=c?c*n:a&&e.availableWidth,o.height=r):(o.width=n,o.height=c?c*r:a&&e.availableHeight)}return t}function gSe(i){const e=mSe(i),t=df(e.filter(u=>u.box.fullSize),!0),n=df(ff(e,"left"),!0),r=df(ff(e,"right")),s=df(ff(e,"top"),!0),l=df(ff(e,"bottom")),o=a8(e,"x"),a=a8(e,"y");return{fullSize:t,leftAndTop:n.concat(s),rightAndBottom:r.concat(a).concat(l).concat(o),chartArea:ff(e,"chartArea"),vertical:n.concat(r).concat(a),horizontal:s.concat(l).concat(o)}}function u8(i,e,t,n){return Math.max(i[t],e[t])+Math.max(i[n],e[n])}function ez(i,e){i.top=Math.max(i.top,e.top),i.left=Math.max(i.left,e.left),i.bottom=Math.max(i.bottom,e.bottom),i.right=Math.max(i.right,e.right)}function vSe(i,e,t,n){const{pos:r,box:s}=t,l=i.maxPadding;if(!hn(r)){t.size&&(i[r]-=t.size);const f=n[t.stack]||{size:0,count:1};f.size=Math.max(f.size,t.horizontal?s.height:s.width),t.size=f.size/f.count,i[r]+=t.size}s.getPadding&&ez(l,s.getPadding());const o=Math.max(0,e.outerWidth-u8(l,i,"left","right")),a=Math.max(0,e.outerHeight-u8(l,i,"top","bottom")),u=o!==i.w,c=a!==i.h;return i.w=o,i.h=a,t.horizontal?{same:u,other:c}:{same:c,other:u}}function bSe(i){const e=i.maxPadding;function t(n){const r=Math.max(e[n]-i[n],0);return i[n]+=r,r}i.y+=t("top"),i.x+=t("left"),t("right"),t("bottom")}function kSe(i,e){const t=e.maxPadding;function n(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(l=>{s[l]=Math.max(e[l],t[l])}),s}return n(i?["left","right"]:["top","bottom"])}function Ff(i,e,t,n){const r=[];let s,l,o,a,u,c;for(s=0,l=i.length,u=0;s<l;++s){o=i[s],a=o.box,a.update(o.width||e.w,o.height||e.h,kSe(o.horizontal,e));const{same:f,other:d}=vSe(e,t,o,n);u|=f&&r.length,c=c||d,a.fullSize||r.push(o)}return u&&Ff(r,e,t,n)||c}function Yh(i,e,t,n,r){i.top=t,i.left=e,i.right=e+n,i.bottom=t+r,i.width=n,i.height=r}function c8(i,e,t,n){const r=t.padding;let{x:s,y:l}=e;for(const o of i){const a=o.box,u=n[o.stack]||{count:1,placed:0,weight:1},c=o.stackWeight/u.weight||1;if(o.horizontal){const f=e.w*c,d=u.size||a.height;ds(u.start)&&(l=u.start),a.fullSize?Yh(a,r.left,l,t.outerWidth-r.right-r.left,d):Yh(a,e.left+u.placed,l,f,d),u.start=l,u.placed+=f,l=a.bottom}else{const f=e.h*c,d=u.size||a.width;ds(u.start)&&(s=u.start),a.fullSize?Yh(a,s,r.top,d,t.outerHeight-r.bottom-r.top):Yh(a,s,e.top+u.placed,d,f),u.start=s,u.placed+=f,s=a.right}}e.x=s,e.y=l}En.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var Uh={addBox(i,e){i.boxes||(i.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},i.boxes.push(e)},removeBox(i,e){const t=i.boxes?i.boxes.indexOf(e):-1;t!==-1&&i.boxes.splice(t,1)},configure(i,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(i,e,t,n){if(!i)return;const r=hs(i.options.layout.padding),s=Math.max(e-r.width,0),l=Math.max(t-r.height,0),o=gSe(i.boxes),a=o.vertical,u=o.horizontal;Bn(i.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const c=a.reduce((g,k)=>k.box.options&&k.box.options.display===!1?g:g+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:t,padding:r,availableWidth:s,availableHeight:l,vBoxMaxWidth:s/2/c,hBoxMaxHeight:l/2}),d=Object.assign({},r);ez(d,hs(n));const m=Object.assign({maxPadding:d,w:s,h:l,x:r.left,y:r.top},r),p=_Se(a.concat(u),f);Ff(o.fullSize,m,f,p),Ff(a,m,f,p),Ff(u,m,f,p)&&Ff(a,m,f,p),bSe(m),c8(o.leftAndTop,m,f,p),m.x+=m.w,m.y+=m.h,c8(o.rightAndBottom,m,f,p),i.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},Bn(o.chartArea,g=>{const k=g.box;Object.assign(k,i.chartArea),k.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class tz{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,r){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):n)}}isAttached(e){return!0}updateConfig(e){}}class ySe extends tz{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const nm="$chartjs",wSe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},f8=i=>i===null||i==="";function $Se(i,e){const t=i.style,n=i.getAttribute("height"),r=i.getAttribute("width");if(i[nm]={initial:{height:n,width:r,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",f8(r)){const s=qE(i,"width");s!==void 0&&(i.width=s)}if(f8(n))if(i.style.height==="")i.height=i.width/(e||2);else{const s=qE(i,"height");s!==void 0&&(i.height=s)}return i}const nz=nCe?{passive:!0}:!1;function FSe(i,e,t){i.addEventListener(e,t,nz)}function ESe(i,e,t){i.canvas.removeEventListener(e,t,nz)}function DSe(i,e){const t=wSe[i.type]||i.type,{x:n,y:r}=ga(i,e);return{type:t,chart:e,native:i,x:n!==void 0?n:null,y:r!==void 0?r:null}}function Km(i,e){for(const t of i)if(t===e||t.contains(e))return!0}function CSe(i,e,t){const n=i.canvas,r=new MutationObserver(s=>{let l=!1;for(const o of s)l=l||Km(o.addedNodes,n),l=l&&!Km(o.removedNodes,n);l&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}function SSe(i,e,t){const n=i.canvas,r=new MutationObserver(s=>{let l=!1;for(const o of s)l=l||Km(o.removedNodes,n),l=l&&!Km(o.addedNodes,n);l&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}const _d=new Map;let d8=0;function iz(){const i=window.devicePixelRatio;i!==d8&&(d8=i,_d.forEach((e,t)=>{t.currentDevicePixelRatio!==i&&e()}))}function TSe(i,e){_d.size||window.addEventListener("resize",iz),_d.set(i,e)}function ASe(i){_d.delete(i),_d.size||window.removeEventListener("resize",iz)}function PSe(i,e,t){const n=i.canvas,r=n&&Nb(n);if(!r)return;const s=TB((o,a)=>{const u=r.clientWidth;t(o,a),u<r.clientWidth&&t()},window),l=new ResizeObserver(o=>{const a=o[0],u=a.contentRect.width,c=a.contentRect.height;u===0&&c===0||s(u,c)});return l.observe(r),TSe(i,s),l}function Mg(i,e,t){t&&t.disconnect(),e==="resize"&&ASe(i)}function NSe(i,e,t){const n=i.canvas,r=TB(s=>{i.ctx!==null&&t(DSe(s,i))},i,s=>{const l=s[0];return[l,l.offsetX,l.offsetY]});return FSe(n,e,r),r}class MSe extends tz{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?($Se(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[nm])return!1;const n=t[nm].initial;["height","width"].forEach(s=>{const l=n[s];zn(l)?t.removeAttribute(s):t.setAttribute(s,l)});const r=n.style||{};return Object.keys(r).forEach(s=>{t.style[s]=r[s]}),t.width=t.width,delete t[nm],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),l={attach:CSe,detach:SSe,resize:PSe}[t]||NSe;r[t]=l(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),r=n[t];if(!r)return;({attach:Mg,detach:Mg,resize:Mg}[t]||ESe)(e,t,r),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,r){return tCe(e,t,n,r)}isAttached(e){const t=Nb(e);return!!(t&&t.isConnected)}}function LSe(i){return!HB()||typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas?ySe:MSe}class OSe{constructor(){this._init=[]}notify(e,t,n,r){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=r?this._descriptors(e).filter(r):this._descriptors(e),l=this._notify(s,e,t,n);return t==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),l}_notify(e,t,n,r){r=r||{};for(const s of e){const l=s.plugin,o=l[n],a=[t,r,s.options];if(vi(o,a,l)===!1&&r.cancelable)return!1}return!0}invalidate(){zn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,r=$n(n.options&&n.options.plugins,{}),s=ISe(n);return r===!1&&!t?[]:zSe(e,s,r,t)}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,r=(s,l)=>s.filter(o=>!l.some(a=>o.plugin.id===a.plugin.id));this._notify(r(t,n),e,"stop"),this._notify(r(n,t),e,"start")}}function ISe(i){const e={},t=[],n=Object.keys(el.plugins.items);for(let s=0;s<n.length;s++)t.push(el.getPlugin(n[s]));const r=i.plugins||[];for(let s=0;s<r.length;s++){const l=r[s];t.indexOf(l)===-1&&(t.push(l),e[l.id]=!0)}return{plugins:t,localIds:e}}function BSe(i,e){return!e&&i===!1?null:i===!0?{}:i}function zSe(i,{plugins:e,localIds:t},n,r){const s=[],l=i.getContext();for(const o of e){const a=o.id,u=BSe(n[a],r);u!==null&&s.push({plugin:o,options:RSe(i.config,{plugin:o,local:t[a]},u,l)})}return s}function RSe(i,{plugin:e,local:t},n,r){const s=i.pluginScopeKeys(e),l=i.getOptionScopes(n,s);return t&&e.defaults&&l.push(e.defaults),i.createResolver(l,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function e0(i,e){const t=En.datasets[i]||{};return((e.datasets||{})[i]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function jSe(i,e){let t=i;return i==="_index_"?t=e:i==="_value_"&&(t=e==="x"?"y":"x"),t}function YSe(i,e){return i===e?"_index_":"_value_"}function USe(i){if(i==="top"||i==="bottom")return"x";if(i==="left"||i==="right")return"y"}function t0(i,e){return i==="x"||i==="y"?i:e.axis||USe(e.position)||i.charAt(0).toLowerCase()}function qSe(i,e){const t=Wa[i.type]||{scales:{}},n=e.scales||{},r=e0(i.type,e),s=Object.create(null),l=Object.create(null);return Object.keys(n).forEach(o=>{const a=n[o];if(!hn(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const u=t0(o,a),c=YSe(u,r),f=t.scales||{};s[u]=s[u]||o,l[o]=Of(Object.create(null),[{axis:u},a,f[u],f[c]])}),i.data.datasets.forEach(o=>{const a=o.type||i.type,u=o.indexAxis||e0(a,e),f=(Wa[a]||{}).scales||{};Object.keys(f).forEach(d=>{const m=jSe(d,u),p=o[m+"AxisID"]||s[m]||m;l[p]=l[p]||Object.create(null),Of(l[p],[{axis:m},n[p],f[d]])})}),Object.keys(l).forEach(o=>{const a=l[o];Of(a,[En.scales[a.type],En.scale])}),l}function rz(i){const e=i.options||(i.options={});e.plugins=$n(e.plugins,{}),e.scales=qSe(i,e)}function sz(i){return i=i||{},i.datasets=i.datasets||[],i.labels=i.labels||[],i}function HSe(i){return i=i||{},i.data=sz(i.data),rz(i),i}const h8=new Map,lz=new Set;function qh(i,e){let t=h8.get(i);return t||(t=e(),h8.set(i,t),lz.add(t)),t}const hf=(i,e,t)=>{const n=Io(e,t);n!==void 0&&i.add(n)};class WSe{constructor(e){this._config=HSe(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=sz(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),rz(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return qh(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return qh(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return qh(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,n=this.type;return qh(`${n}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const n=this._scopeCache;let r=n.get(e);return(!r||t)&&(r=new Map,n.set(e,r)),r}getOptionScopes(e,t,n){const{options:r,type:s}=this,l=this._cachedScopes(e,n),o=l.get(t);if(o)return o;const a=new Set;t.forEach(c=>{e&&(a.add(e),c.forEach(f=>hf(a,e,f))),c.forEach(f=>hf(a,r,f)),c.forEach(f=>hf(a,Wa[s]||{},f)),c.forEach(f=>hf(a,En,f)),c.forEach(f=>hf(a,K1,f))});const u=Array.from(a);return u.length===0&&u.push(Object.create(null)),lz.has(t)&&l.set(t,u),u}chartOptionScopes(){const{options:e,type:t}=this;return[e,Wa[t]||{},En.datasets[t]||{},{type:t},En,K1]}resolveNamedOptions(e,t,n,r=[""]){const s={$shared:!0},{resolver:l,subPrefixes:o}=m8(this._resolverCache,e,r);let a=l;if(GSe(l,t)){s.$shared=!1,n=Bo(n)?n():n;const u=this.createResolver(e,n,o);a=pc(l,n,u)}for(const u of t)s[u]=a[u];return s}createResolver(e,t,n=[""],r){const{resolver:s}=m8(this._resolverCache,e,n);return hn(t)?pc(s,t,void 0,r):s}}function m8(i,e,t){let n=i.get(e);n||(n=new Map,i.set(e,n));const r=t.join();let s=n.get(r);return s||(s={resolver:Tb(e,t),subPrefixes:t.filter(o=>!o.toLowerCase().includes("hover"))},n.set(r,s)),s}const VSe=i=>hn(i)&&Object.getOwnPropertyNames(i).reduce((e,t)=>e||Bo(i[t]),!1);function GSe(i,e){const{isScriptable:t,isIndexable:n}=zB(i);for(const r of e){const s=t(r),l=n(r),o=(l||s)&&i[r];if(s&&(Bo(o)||VSe(o))||l&&li(o))return!0}return!1}var ZSe="3.9.1";const xSe=["top","bottom","left","right","chartArea"];function p8(i,e){return i==="top"||i==="bottom"||xSe.indexOf(i)===-1&&e==="x"}function _8(i,e){return function(t,n){return t[i]===n[i]?t[e]-n[e]:t[i]-n[i]}}function g8(i){const e=i.chart,t=e.options.animation;e.notifyPlugins("afterRender"),vi(t&&t.onComplete,[i],e)}function XSe(i){const e=i.chart,t=e.options.animation;vi(t&&t.onProgress,[i],e)}function oz(i){return HB()&&typeof i=="string"?i=document.getElementById(i):i&&i.length&&(i=i[0]),i&&i.canvas&&(i=i.canvas),i}const Jm={},az=i=>{const e=oz(i);return Object.values(Jm).filter(t=>t.canvas===e).pop()};function KSe(i,e,t){const n=Object.keys(i);for(const r of n){const s=+r;if(s>=e){const l=i[r];delete i[r],(t>0||s>e)&&(i[s+t]=l)}}}function JSe(i,e,t,n){return!t||i.type==="mouseout"?null:n?e:i}class Qm{constructor(e,t){const n=this.config=new WSe(t),r=oz(e),s=az(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const l=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||LSe(r)),this.platform.updateConfig(n);const o=this.platform.acquireContext(r,l.aspectRatio),a=o&&o.canvas,u=a&&a.height,c=a&&a.width;if(this.id=O8e(),this.ctx=o,this.canvas=a,this.width=c,this.height=u,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new OSe,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=K8e(f=>this.update(f),l.resizeDelay||0),this._dataChanges=[],Jm[this.id]=this,!o||!a){console.error("Failed to create chart: can't acquire context from the given item");return}Cl.listen(this,"complete",g8),Cl.listen(this,"progress",XSe),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:r,_aspectRatio:s}=this;return zn(e)?t&&s?s:r?n/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():UE(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return RE(this.canvas,this.ctx),this}stop(){return Cl.stop(this),this}resize(e,t){Cl.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,r=this.canvas,s=n.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(r,e,t,s),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,UE(this,o,!0)&&(this.notifyPlugins("resize",{size:l}),vi(n.onResize,[this,l],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Bn(t,(n,r)=>{n.id=r})}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,r=Object.keys(n).reduce((l,o)=>(l[o]=!1,l),{});let s=[];t&&(s=s.concat(Object.keys(t).map(l=>{const o=t[l],a=t0(l,o),u=a==="r",c=a==="x";return{options:o,dposition:u?"chartArea":c?"bottom":"left",dtype:u?"radialLinear":c?"category":"linear"}}))),Bn(s,l=>{const o=l.options,a=o.id,u=t0(a,o),c=$n(o.type,l.dtype);(o.position===void 0||p8(o.position,u)!==p8(l.dposition))&&(o.position=l.dposition),r[a]=!0;let f=null;if(a in n&&n[a].type===c)f=n[a];else{const d=el.getScale(c);f=new d({id:a,type:c,ctx:this.ctx,chart:this}),n[f.id]=f}f.init(o,e)}),Bn(r,(l,o)=>{l||delete n[o]}),Bn(n,l=>{Uh.configure(this,l,l.options),Uh.addBox(this,l)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort((r,s)=>r.index-s.index),n>t){for(let r=t;r<n;++r)this._destroyDatasetMeta(r);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(_8("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((n,r)=>{t.filter(s=>s===n._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=t.length;n<r;n++){const s=t[n];let l=this.getDatasetMeta(n);const o=s.type||this.config.type;if(l.type&&l.type!==o&&(this._destroyDatasetMeta(n),l=this.getDatasetMeta(n)),l.type=o,l.indexAxis=s.indexAxis||e0(o,this.options),l.order=s.order||0,l.index=n,l.label=""+s.label,l.visible=this.isDatasetVisible(n),l.controller)l.controller.updateIndex(n),l.controller.linkScales();else{const a=el.getController(o),{datasetElementType:u,dataElementType:c}=En.datasets[o];Object.assign(a.prototype,{dataElementType:el.getElement(c),datasetElementType:u&&el.getElement(u)}),l.controller=new a(this,n),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){Bn(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let u=0,c=this.data.datasets.length;u<c;u++){const{controller:f}=this.getDatasetMeta(u),d=!r&&s.indexOf(f)===-1;f.buildOrUpdateElements(d),l=Math.max(+f.getMaxOverflow(),l)}l=this._minPadding=n.layout.autoPadding?l:0,this._updateLayout(l),r||Bn(s,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(_8("z","_idx"));const{_active:o,_lastEvent:a}=this;a?this._eventHandler(a,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){Bn(this.scales,e=>{Uh.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!DE(t,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:s}of t){const l=n==="_removeElements"?-s:s;KSe(e,r,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=s=>new Set(e.filter(l=>l[0]===s).map((l,o)=>o+","+l.splice(1).join(","))),r=n(0);for(let s=1;s<t;s++)if(!DE(r,n(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Uh.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],Bn(this.boxes,r=>{n&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,n=this.data.datasets.length;t<n;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,Bo(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),r={meta:n,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(n.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Cl.has(this)?this.attached&&!Cl.running(this)&&Cl.start(this):(this.draw(),g8({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:r}=this._resizeBeforeDraw;this._resize(n,r),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let r,s;for(r=0,s=t.length;r<s;++r){const l=t[r];(!e||l.visible)&&n.push(l)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n=e._clip,r=!n.disabled,s=this.chartArea,l={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",l)!==!1&&(r&&Db(t,{left:n.left===!1?0:s.left-n.left,right:n.right===!1?this.width:s.right+n.right,top:n.top===!1?0:s.top-n.top,bottom:n.bottom===!1?this.height:s.bottom+n.bottom}),e.controller.draw(),r&&Cb(t),l.cancelable=!1,this.notifyPlugins("afterDatasetDraw",l))}isPointInArea(e){return pd(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,r){const s=hSe.modes[t];return typeof s=="function"?s(this,e,n,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let r=n.filter(s=>s&&s._dataset===t).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=Go(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!t.hidden}setDatasetVisibility(e,t){const n=this.getDatasetMeta(e);n.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const r=n?"show":"hide",s=this.getDatasetMeta(e),l=s.controller._resolveAnimations(void 0,r);ds(t)?(s.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),l.update(s,{visible:n}),this.update(o=>o.datasetIndex===e?r:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Cl.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),RE(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete Jm[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(s,l)=>{t.addEventListener(this,s,l),e[s]=l},r=(s,l,o)=>{s.offsetX=l,s.offsetY=o,this._eventHandler(s)};Bn(this.options.events,s=>n(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(a,u)=>{t.addEventListener(this,a,u),e[a]=u},r=(a,u)=>{e[a]&&(t.removeEventListener(this,a,u),delete e[a])},s=(a,u)=>{this.canvas&&this.resize(a,u)};let l;const o=()=>{r("attach",o),this.attached=!0,this.resize(),n("resize",s),n("detach",l)};l=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),n("attach",o)},t.isAttached(this.canvas)?o():l()}unbindEvents(){Bn(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Bn(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const r=n?"set":"remove";let s,l,o,a;for(t==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),o=0,a=e.length;o<a;++o){l=e[o];const u=l&&this.getDatasetMeta(l.datasetIndex).controller;u&&u[r+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map(({datasetIndex:s,index:l})=>{const o=this.getDatasetMeta(s);if(!o)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:o.data[l],index:l}});!qm(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}_updateHoverStyles(e,t,n){const r=this.options.hover,s=(a,u)=>a.filter(c=>!u.some(f=>c.datasetIndex===f.datasetIndex&&c.index===f.index)),l=s(t,e),o=n?e:s(e,t);l.length&&this.updateHoverStyle(l,r.mode,!1),o.length&&r.mode&&this.updateHoverStyle(o,r.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,r)===!1)return;const s=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(s||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:r=[],options:s}=this,l=t,o=this._getActiveElements(e,r,n,l),a=Y8e(e),u=JSe(e,this._lastEvent,n,a);n&&(this._lastEvent=null,vi(s.onHover,[e,o,this],this),a&&vi(s.onClick,[e,o,this],this));const c=!qm(o,r);return(c||t)&&(this._active=o,this._updateHoverStyles(o,r,t)),this._lastEvent=u,c}_getActiveElements(e,t,n,r){if(e.type==="mouseout")return[];if(!n)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}}const v8=()=>Bn(Qm.instances,i=>i._plugins.invalidate()),co=!0;Object.defineProperties(Qm,{defaults:{enumerable:co,value:En},instances:{enumerable:co,value:Jm},overrides:{enumerable:co,value:Wa},registry:{enumerable:co,value:el},version:{enumerable:co,value:ZSe},getChart:{enumerable:co,value:az},register:{enumerable:co,value:(...i)=>{el.add(...i),v8()}},unregister:{enumerable:co,value:(...i)=>{el.remove(...i),v8()}}});function uz(i,e,t){const{startAngle:n,pixelMargin:r,x:s,y:l,outerRadius:o,innerRadius:a}=e;let u=r/o;i.beginPath(),i.arc(s,l,o,n-u,t+u),a>r?(u=r/a,i.arc(s,l,a,t+u,n-u,!0)):i.arc(s,l,r,t+ki,n-ki),i.closePath(),i.clip()}function QSe(i){return Sb(i,["outerStart","outerEnd","innerStart","innerEnd"])}function e7e(i,e,t,n){const r=QSe(i.options.borderRadius),s=(t-e)/2,l=Math.min(s,n*e/2),o=a=>{const u=(t-Math.min(s,a))*n/2;return rr(a,0,Math.min(s,u))};return{outerStart:o(r.outerStart),outerEnd:o(r.outerEnd),innerStart:rr(r.innerStart,0,l),innerEnd:rr(r.innerEnd,0,l)}}function Cu(i,e,t,n){return{x:t+i*Math.cos(e),y:n+i*Math.sin(e)}}function n0(i,e,t,n,r,s){const{x:l,y:o,startAngle:a,pixelMargin:u,innerRadius:c}=e,f=Math.max(e.outerRadius+n+t-u,0),d=c>0?c+n+t+u:0;let m=0;const p=r-a;if(n){const U=c>0?c-n:0,Q=f>0?f-n:0,V=(U+Q)/2,x=V!==0?p*V/(V+n):p;m=(p-x)/2}const g=Math.max(.001,p*f-t/yi)/f,k=(p-g)/2,$=a+k+m,D=r-k-m,{outerStart:F,outerEnd:C,innerStart:S,innerEnd:P}=e7e(e,d,f,D-$),I=f-F,R=f-C,B=$+F/I,z=D-C/R,q=d+S,H=d+P,K=$+S/q,G=D-P/H;if(i.beginPath(),s){if(i.arc(l,o,f,B,z),C>0){const V=Cu(R,z,l,o);i.arc(V.x,V.y,C,z,D+ki)}const U=Cu(H,D,l,o);if(i.lineTo(U.x,U.y),P>0){const V=Cu(H,G,l,o);i.arc(V.x,V.y,P,D+ki,G+Math.PI)}if(i.arc(l,o,d,D-P/d,$+S/d,!0),S>0){const V=Cu(q,K,l,o);i.arc(V.x,V.y,S,K+Math.PI,$-ki)}const Q=Cu(I,$,l,o);if(i.lineTo(Q.x,Q.y),F>0){const V=Cu(I,B,l,o);i.arc(V.x,V.y,F,$-ki,B)}}else{i.moveTo(l,o);const U=Math.cos(B)*f+l,Q=Math.sin(B)*f+o;i.lineTo(U,Q);const V=Math.cos(z)*f+l,x=Math.sin(z)*f+o;i.lineTo(V,x)}i.closePath()}function t7e(i,e,t,n,r){const{fullCircles:s,startAngle:l,circumference:o}=e;let a=e.endAngle;if(s){n0(i,e,t,n,l+Un,r);for(let u=0;u<s;++u)i.fill();isNaN(o)||(a=l+o%Un,o%Un===0&&(a+=Un))}return n0(i,e,t,n,a,r),i.fill(),a}function n7e(i,e,t){const{x:n,y:r,startAngle:s,pixelMargin:l,fullCircles:o}=e,a=Math.max(e.outerRadius-l,0),u=e.innerRadius+l;let c;for(t&&uz(i,e,s+Un),i.beginPath(),i.arc(n,r,u,s+Un,s,!0),c=0;c<o;++c)i.stroke();for(i.beginPath(),i.arc(n,r,a,s,s+Un),c=0;c<o;++c)i.stroke()}function i7e(i,e,t,n,r,s){const{options:l}=e,{borderWidth:o,borderJoinStyle:a}=l,u=l.borderAlign==="inner";!o||(u?(i.lineWidth=o*2,i.lineJoin=a||"round"):(i.lineWidth=o,i.lineJoin=a||"bevel"),e.fullCircles&&n7e(i,e,u),u&&uz(i,e,r),n0(i,e,t,n,r,s),i.stroke())}class Bb extends Jl{constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){const r=this.getProps(["x","y"],n),{angle:s,distance:l}=EB(r,{x:e,y:t}),{startAngle:o,endAngle:a,innerRadius:u,outerRadius:c,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),d=this.options.spacing/2,p=$n(f,a-o)>=Un||hd(s,o,a),g=md(l,u+d,c+d);return p&&g}getCenterPoint(e){const{x:t,y:n,startAngle:r,endAngle:s,innerRadius:l,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],e),{offset:a,spacing:u}=this.options,c=(r+s)/2,f=(l+o+u+a)/2;return{x:t+Math.cos(c)*f,y:n+Math.sin(c)*f}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:n}=this,r=(t.offset||0)/2,s=(t.spacing||0)/2,l=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=n>Un?Math.floor(n/Un):0,n===0||this.innerRadius<0||this.outerRadius<0)return;e.save();let o=0;if(r){o=r/2;const u=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(u)*o,Math.sin(u)*o),this.circumference>=yi&&(o=r)}e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor;const a=t7e(e,this,o,s,l);i7e(e,this,o,s,a,l),e.restore()}}Bb.id="arc";Bb.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};Bb.defaultRoutes={backgroundColor:"backgroundColor"};function cz(i,e,t=e){i.lineCap=$n(t.borderCapStyle,e.borderCapStyle),i.setLineDash($n(t.borderDash,e.borderDash)),i.lineDashOffset=$n(t.borderDashOffset,e.borderDashOffset),i.lineJoin=$n(t.borderJoinStyle,e.borderJoinStyle),i.lineWidth=$n(t.borderWidth,e.borderWidth),i.strokeStyle=$n(t.borderColor,e.borderColor)}function r7e(i,e,t){i.lineTo(t.x,t.y)}function s7e(i){return i.stepped?EDe:i.tension||i.cubicInterpolationMode==="monotone"?DDe:r7e}function fz(i,e,t={}){const n=i.length,{start:r=0,end:s=n-1}=t,{start:l,end:o}=e,a=Math.max(r,l),u=Math.min(s,o),c=r<l&&s<l||r>o&&s>o;return{count:n,start:a,loop:e.loop,ilen:u<a&&!c?n+u-a:u-a}}function l7e(i,e,t,n){const{points:r,options:s}=e,{count:l,start:o,loop:a,ilen:u}=fz(r,t,n),c=s7e(s);let{move:f=!0,reverse:d}=n||{},m,p,g;for(m=0;m<=u;++m)p=r[(o+(d?u-m:m))%l],!p.skip&&(f?(i.moveTo(p.x,p.y),f=!1):c(i,g,p,d,s.stepped),g=p);return a&&(p=r[(o+(d?u:0))%l],c(i,g,p,d,s.stepped)),!!a}function o7e(i,e,t,n){const r=e.points,{count:s,start:l,ilen:o}=fz(r,t,n),{move:a=!0,reverse:u}=n||{};let c=0,f=0,d,m,p,g,k,$;const D=C=>(l+(u?o-C:C))%s,F=()=>{g!==k&&(i.lineTo(c,k),i.lineTo(c,g),i.lineTo(c,$))};for(a&&(m=r[D(0)],i.moveTo(m.x,m.y)),d=0;d<=o;++d){if(m=r[D(d)],m.skip)continue;const C=m.x,S=m.y,P=C|0;P===p?(S<g?g=S:S>k&&(k=S),c=(f*c+C)/++f):(F(),i.lineTo(C,S),p=P,f=0,g=k=S),$=S}F()}function i0(i){const e=i.options,t=e.borderDash&&e.borderDash.length;return!i._decimated&&!i._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?o7e:l7e}function a7e(i){return i.stepped?iCe:i.tension||i.cubicInterpolationMode==="monotone"?rCe:va}function u7e(i,e,t,n){let r=e._path;r||(r=e._path=new Path2D,e.path(r,t,n)&&r.closePath()),cz(i,e.options),i.stroke(r)}function c7e(i,e,t,n){const{segments:r,options:s}=e,l=i0(e);for(const o of r)cz(i,s,o.style),i.beginPath(),l(i,e,o,{start:t,end:t+n-1})&&i.closePath(),i.stroke()}const f7e=typeof Path2D=="function";function d7e(i,e,t,n){f7e&&!e.options.segment?u7e(i,e,t,n):c7e(i,e,t,n)}class Zo extends Jl{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const r=n.spanGaps?this._loop:this._fullLoop;xDe(this._points,n,e,r,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=hCe(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,r=e[t],s=this.points,l=GB(this,{property:t,start:r,end:r});if(!l.length)return;const o=[],a=a7e(n);let u,c;for(u=0,c=l.length;u<c;++u){const{start:f,end:d}=l[u],m=s[f],p=s[d];if(m===p){o.push(m);continue}const g=Math.abs((r-m[t])/(p[t]-m[t])),k=a(m,p,g,n.stepped);k[t]=e[t],o.push(k)}return o.length===1?o[0]:o}pathSegment(e,t,n){return i0(this)(e,this,t,n)}path(e,t,n){const r=this.segments,s=i0(this);let l=this._loop;t=t||0,n=n||this.points.length-t;for(const o of r)l&=s(e,this,o,{start:t,end:t+n-1});return!!l}draw(e,t,n,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),d7e(e,this,n,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Zo.id="line";Zo.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};Zo.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};Zo.descriptors={_scriptable:!0,_indexable:i=>i!=="borderDash"&&i!=="fill"};function b8(i,e,t,n){const r=i.options,{[t]:s}=i.getProps([t],n);return Math.abs(e-s)<r.radius+r.hitRadius}class h_ extends Jl{constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,n){const r=this.options,{x:s,y:l}=this.getProps(["x","y"],n);return Math.pow(e-s,2)+Math.pow(t-l,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,t){return b8(this,e,"x",t)}inYRange(e,t){return b8(this,e,"y",t)}getCenterPoint(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}size(e){e=e||this.options||{};let t=e.radius||0;t=Math.max(t,t&&e.hoverRadius||0);const n=t&&e.borderWidth||0;return(t+n)*2}draw(e,t){const n=this.options;this.skip||n.radius<.1||!pd(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,J1(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}h_.id="point";h_.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};h_.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};function dz(i,e){const{x:t,y:n,base:r,width:s,height:l}=i.getProps(["x","y","base","width","height"],e);let o,a,u,c,f;return i.horizontal?(f=l/2,o=Math.min(t,r),a=Math.max(t,r),u=n-f,c=n+f):(f=s/2,o=t-f,a=t+f,u=Math.min(n,r),c=Math.max(n,r)),{left:o,top:u,right:a,bottom:c}}function _o(i,e,t,n){return i?0:rr(e,t,n)}function h7e(i,e,t){const n=i.options.borderWidth,r=i.borderSkipped,s=BB(n);return{t:_o(r.top,s.top,0,t),r:_o(r.right,s.right,0,e),b:_o(r.bottom,s.bottom,0,t),l:_o(r.left,s.left,0,e)}}function m7e(i,e,t){const{enableBorderRadius:n}=i.getProps(["enableBorderRadius"]),r=i.options.borderRadius,s=Vu(r),l=Math.min(e,t),o=i.borderSkipped,a=n||hn(r);return{topLeft:_o(!a||o.top||o.left,s.topLeft,0,l),topRight:_o(!a||o.top||o.right,s.topRight,0,l),bottomLeft:_o(!a||o.bottom||o.left,s.bottomLeft,0,l),bottomRight:_o(!a||o.bottom||o.right,s.bottomRight,0,l)}}function p7e(i){const e=dz(i),t=e.right-e.left,n=e.bottom-e.top,r=h7e(i,t/2,n/2),s=m7e(i,t/2,n/2);return{outer:{x:e.left,y:e.top,w:t,h:n,radius:s},inner:{x:e.left+r.l,y:e.top+r.t,w:t-r.l-r.r,h:n-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function Lg(i,e,t,n){const r=e===null,s=t===null,o=i&&!(r&&s)&&dz(i,n);return o&&(r||md(e,o.left,o.right))&&(s||md(t,o.top,o.bottom))}function _7e(i){return i.topLeft||i.topRight||i.bottomLeft||i.bottomRight}function g7e(i,e){i.rect(e.x,e.y,e.w,e.h)}function Og(i,e,t={}){const n=i.x!==t.x?-e:0,r=i.y!==t.y?-e:0,s=(i.x+i.w!==t.x+t.w?e:0)-n,l=(i.y+i.h!==t.y+t.h?e:0)-r;return{x:i.x+n,y:i.y+r,w:i.w+s,h:i.h+l,radius:i.radius}}class m_ extends Jl{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:r}}=this,{inner:s,outer:l}=p7e(this),o=_7e(l.radius)?xm:g7e;e.save(),(l.w!==s.w||l.h!==s.h)&&(e.beginPath(),o(e,Og(l,t,s)),e.clip(),o(e,Og(s,-t,l)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),o(e,Og(s,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,n){return Lg(this,e,t,n)}inXRange(e,t){return Lg(this,e,null,t)}inYRange(e,t){return Lg(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+r)/2:t,y:s?n:(n+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}m_.id="bar";m_.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};m_.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};function v7e(i,e,t){const n=i.segments,r=i.points,s=e.points,l=[];for(const o of n){let{start:a,end:u}=o;u=zb(a,u,r);const c=r0(t,r[a],r[u],o.loop);if(!e.segments){l.push({source:o,target:c,start:r[a],end:r[u]});continue}const f=GB(e,c);for(const d of f){const m=r0(t,s[d.start],s[d.end],d.loop),p=VB(o,r,m);for(const g of p)l.push({source:g,target:d,start:{[t]:k8(c,m,"start",Math.max)},end:{[t]:k8(c,m,"end",Math.min)}})}}return l}function r0(i,e,t,n){if(n)return;let r=e[i],s=t[i];return i==="angle"&&(r=Hr(r),s=Hr(s)),{property:i,start:r,end:s}}function b7e(i,e){const{x:t=null,y:n=null}=i||{},r=e.points,s=[];return e.segments.forEach(({start:l,end:o})=>{o=zb(l,o,r);const a=r[l],u=r[o];n!==null?(s.push({x:a.x,y:n}),s.push({x:u.x,y:n})):t!==null&&(s.push({x:t,y:a.y}),s.push({x:t,y:u.y}))}),s}function zb(i,e,t){for(;e>i;e--){const n=t[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function k8(i,e,t,n){return i&&e?n(i[t],e[t]):i?i[t]:e?e[t]:0}function hz(i,e){let t=[],n=!1;return li(i)?(n=!0,t=i):t=b7e(i,e),t.length?new Zo({points:t,options:{tension:0},_loop:n,_fullLoop:n}):null}function y8(i){return i&&i.fill!==!1}function k7e(i,e,t){let r=i[e].fill;const s=[e];let l;if(!t)return r;for(;r!==!1&&s.indexOf(r)===-1;){if(!Ei(r))return r;if(l=i[r],!l)return!1;if(l.visible)return r;s.push(r),r=l.fill}return!1}function y7e(i,e,t){const n=E7e(i);if(hn(n))return isNaN(n.value)?!1:n;let r=parseFloat(n);return Ei(r)&&Math.floor(r)===r?w7e(n[0],e,r,t):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function w7e(i,e,t,n){return(i==="-"||i==="+")&&(t=e+t),t===e||t<0||t>=n?!1:t}function $7e(i,e){let t=null;return i==="start"?t=e.bottom:i==="end"?t=e.top:hn(i)?t=e.getPixelForValue(i.value):e.getBasePixel&&(t=e.getBasePixel()),t}function F7e(i,e,t){let n;return i==="start"?n=t:i==="end"?n=e.options.reverse?e.min:e.max:hn(i)?n=i.value:n=e.getBaseValue(),n}function E7e(i){const e=i.options,t=e.fill;let n=$n(t&&t.target,t);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function D7e(i){const{scale:e,index:t,line:n}=i,r=[],s=n.segments,l=n.points,o=C7e(e,t);o.push(hz({x:null,y:e.bottom},n));for(let a=0;a<s.length;a++){const u=s[a];for(let c=u.start;c<=u.end;c++)S7e(r,l[c],o)}return new Zo({points:r,options:{}})}function C7e(i,e){const t=[],n=i.getMatchingVisibleMetas("line");for(let r=0;r<n.length;r++){const s=n[r];if(s.index===e)break;s.hidden||t.unshift(s.dataset)}return t}function S7e(i,e,t){const n=[];for(let r=0;r<t.length;r++){const s=t[r],{first:l,last:o,point:a}=T7e(s,e,"x");if(!(!a||l&&o)){if(l)n.unshift(a);else if(i.push(a),!o)break}}i.push(...n)}function T7e(i,e,t){const n=i.interpolate(e,t);if(!n)return{};const r=n[t],s=i.segments,l=i.points;let o=!1,a=!1;for(let u=0;u<s.length;u++){const c=s[u],f=l[c.start][t],d=l[c.end][t];if(md(r,f,d)){o=r===f,a=r===d;break}}return{first:o,last:a,point:n}}class mz{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,n){const{x:r,y:s,radius:l}=this;return t=t||{start:0,end:Un},e.arc(r,s,l,t.end,t.start,!0),!n.bounds}interpolate(e){const{x:t,y:n,radius:r}=this,s=e.angle;return{x:t+Math.cos(s)*r,y:n+Math.sin(s)*r,angle:s}}}function A7e(i){const{chart:e,fill:t,line:n}=i;if(Ei(t))return P7e(e,t);if(t==="stack")return D7e(i);if(t==="shape")return!0;const r=N7e(i);return r instanceof mz?r:hz(r,n)}function P7e(i,e){const t=i.getDatasetMeta(e);return t&&i.isDatasetVisible(e)?t.dataset:null}function N7e(i){return(i.scale||{}).getPointPositionForValue?L7e(i):M7e(i)}function M7e(i){const{scale:e={},fill:t}=i,n=$7e(t,e);if(Ei(n)){const r=e.isHorizontal();return{x:r?n:null,y:r?null:n}}return null}function L7e(i){const{scale:e,fill:t}=i,n=e.options,r=e.getLabels().length,s=n.reverse?e.max:e.min,l=F7e(t,e,s),o=[];if(n.grid.circular){const a=e.getPointPositionForValue(0,s);return new mz({x:a.x,y:a.y,radius:e.getDistanceFromCenterForValue(l)})}for(let a=0;a<r;++a)o.push(e.getPointPositionForValue(a,l));return o}function Ig(i,e,t){const n=A7e(e),{line:r,scale:s,axis:l}=e,o=r.options,a=o.fill,u=o.backgroundColor,{above:c=u,below:f=u}=a||{};n&&r.points.length&&(Db(i,t),O7e(i,{line:r,target:n,above:c,below:f,area:t,scale:s,axis:l}),Cb(i))}function O7e(i,e){const{line:t,target:n,above:r,below:s,area:l,scale:o}=e,a=t._loop?"angle":e.axis;i.save(),a==="x"&&s!==r&&(w8(i,n,l.top),$8(i,{line:t,target:n,color:r,scale:o,property:a}),i.restore(),i.save(),w8(i,n,l.bottom)),$8(i,{line:t,target:n,color:s,scale:o,property:a}),i.restore()}function w8(i,e,t){const{segments:n,points:r}=e;let s=!0,l=!1;i.beginPath();for(const o of n){const{start:a,end:u}=o,c=r[a],f=r[zb(a,u,r)];s?(i.moveTo(c.x,c.y),s=!1):(i.lineTo(c.x,t),i.lineTo(c.x,c.y)),l=!!e.pathSegment(i,o,{move:l}),l?i.closePath():i.lineTo(f.x,t)}i.lineTo(e.first().x,t),i.closePath(),i.clip()}function $8(i,e){const{line:t,target:n,property:r,color:s,scale:l}=e,o=v7e(t,n,r);for(const{source:a,target:u,start:c,end:f}of o){const{style:{backgroundColor:d=s}={}}=a,m=n!==!0;i.save(),i.fillStyle=d,I7e(i,l,m&&r0(r,c,f)),i.beginPath();const p=!!t.pathSegment(i,a);let g;if(m){p?i.closePath():F8(i,n,f,r);const k=!!n.pathSegment(i,u,{move:p,reverse:!0});g=p&&k,g||F8(i,n,c,r)}i.closePath(),i.fill(g?"evenodd":"nonzero"),i.restore()}}function I7e(i,e,t){const{top:n,bottom:r}=e.chart.chartArea,{property:s,start:l,end:o}=t||{};s==="x"&&(i.beginPath(),i.rect(l,n,o-l,r-n),i.clip())}function F8(i,e,t,n){const r=e.interpolate(t,n);r&&i.lineTo(r.x,r.y)}var B7e={id:"filler",afterDatasetsUpdate(i,e,t){const n=(i.data.datasets||[]).length,r=[];let s,l,o,a;for(l=0;l<n;++l)s=i.getDatasetMeta(l),o=s.dataset,a=null,o&&o.options&&o instanceof Zo&&(a={visible:i.isDatasetVisible(l),index:l,fill:y7e(o,l,n),chart:i,axis:s.controller.options.indexAxis,scale:s.vScale,line:o}),s.$filler=a,r.push(a);for(l=0;l<n;++l)a=r[l],!(!a||a.fill===!1)&&(a.fill=k7e(r,l,t.propagate))},beforeDraw(i,e,t){const n=t.drawTime==="beforeDraw",r=i.getSortedVisibleDatasetMetas(),s=i.chartArea;for(let l=r.length-1;l>=0;--l){const o=r[l].$filler;!o||(o.line.updateControlPoints(s,o.axis),n&&o.fill&&Ig(i.ctx,o,s))}},beforeDatasetsDraw(i,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const n=i.getSortedVisibleDatasetMetas();for(let r=n.length-1;r>=0;--r){const s=n[r].$filler;y8(s)&&Ig(i.ctx,s,i.chartArea)}},beforeDatasetDraw(i,e,t){const n=e.meta.$filler;!y8(n)||t.drawTime!=="beforeDatasetDraw"||Ig(i.ctx,n,i.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const im={average(i){if(!i.length)return!1;let e,t,n=0,r=0,s=0;for(e=0,t=i.length;e<t;++e){const l=i[e].element;if(l&&l.hasValue()){const o=l.tooltipPosition();n+=o.x,r+=o.y,++s}}return{x:n/s,y:r/s}},nearest(i,e){if(!i.length)return!1;let t=e.x,n=e.y,r=Number.POSITIVE_INFINITY,s,l,o;for(s=0,l=i.length;s<l;++s){const a=i[s].element;if(a&&a.hasValue()){const u=a.getCenterPoint(),c=x1(e,u);c<r&&(r=c,o=a)}}if(o){const a=o.tooltipPosition();t=a.x,n=a.y}return{x:t,y:n}}};function Gs(i,e){return e&&(li(e)?Array.prototype.push.apply(i,e):i.push(e)),i}function Sl(i){return(typeof i=="string"||i instanceof String)&&i.indexOf(`
`)>-1?i.split(`
`):i}function z7e(i,e){const{element:t,datasetIndex:n,index:r}=e,s=i.getDatasetMeta(n).controller,{label:l,value:o}=s.getLabelAndValue(r);return{chart:i,label:l,parsed:s.getParsed(r),raw:i.data.datasets[n].data[r],formattedValue:o,dataset:s.getDataset(),dataIndex:r,datasetIndex:n,element:t}}function E8(i,e){const t=i.chart.ctx,{body:n,footer:r,title:s}=i,{boxWidth:l,boxHeight:o}=e,a=Zr(e.bodyFont),u=Zr(e.titleFont),c=Zr(e.footerFont),f=s.length,d=r.length,m=n.length,p=hs(e.padding);let g=p.height,k=0,$=n.reduce((C,S)=>C+S.before.length+S.lines.length+S.after.length,0);if($+=i.beforeBody.length+i.afterBody.length,f&&(g+=f*u.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),$){const C=e.displayColors?Math.max(o,a.lineHeight):a.lineHeight;g+=m*C+($-m)*a.lineHeight+($-1)*e.bodySpacing}d&&(g+=e.footerMarginTop+d*c.lineHeight+(d-1)*e.footerSpacing);let D=0;const F=function(C){k=Math.max(k,t.measureText(C).width+D)};return t.save(),t.font=u.string,Bn(i.title,F),t.font=a.string,Bn(i.beforeBody.concat(i.afterBody),F),D=e.displayColors?l+2+e.boxPadding:0,Bn(n,C=>{Bn(C.before,F),Bn(C.lines,F),Bn(C.after,F)}),D=0,t.font=c.string,Bn(i.footer,F),t.restore(),k+=p.width,{width:k,height:g}}function R7e(i,e){const{y:t,height:n}=e;return t<n/2?"top":t>i.height-n/2?"bottom":"center"}function j7e(i,e,t,n){const{x:r,width:s}=n,l=t.caretSize+t.caretPadding;if(i==="left"&&r+s+l>e.width||i==="right"&&r-s-l<0)return!0}function Y7e(i,e,t,n){const{x:r,width:s}=t,{width:l,chartArea:{left:o,right:a}}=i;let u="center";return n==="center"?u=r<=(o+a)/2?"left":"right":r<=s/2?u="left":r>=l-s/2&&(u="right"),j7e(u,i,e,t)&&(u="center"),u}function D8(i,e,t){const n=t.yAlign||e.yAlign||R7e(i,t);return{xAlign:t.xAlign||e.xAlign||Y7e(i,e,t,n),yAlign:n}}function U7e(i,e){let{x:t,width:n}=i;return e==="right"?t-=n:e==="center"&&(t-=n/2),t}function q7e(i,e,t){let{y:n,height:r}=i;return e==="top"?n+=t:e==="bottom"?n-=r+t:n-=r/2,n}function C8(i,e,t,n){const{caretSize:r,caretPadding:s,cornerRadius:l}=i,{xAlign:o,yAlign:a}=t,u=r+s,{topLeft:c,topRight:f,bottomLeft:d,bottomRight:m}=Vu(l);let p=U7e(e,o);const g=q7e(e,a,u);return a==="center"?o==="left"?p+=u:o==="right"&&(p-=u):o==="left"?p-=Math.max(c,d)+r:o==="right"&&(p+=Math.max(f,m)+r),{x:rr(p,0,n.width-e.width),y:rr(g,0,n.height-e.height)}}function Hh(i,e,t){const n=hs(t.padding);return e==="center"?i.x+i.width/2:e==="right"?i.x+i.width-n.right:i.x+n.left}function S8(i){return Gs([],Sl(i))}function H7e(i,e,t){return Go(i,{tooltip:e,tooltipItems:t,type:"tooltip"})}function T8(i,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?i.override(t):i}class W7e extends Jl{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart||e._chart,this._chart=this.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&t.options.animation&&n.animations,s=new ZB(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=H7e(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:n}=t,r=n.beforeTitle.apply(this,[e]),s=n.title.apply(this,[e]),l=n.afterTitle.apply(this,[e]);let o=[];return o=Gs(o,Sl(r)),o=Gs(o,Sl(s)),o=Gs(o,Sl(l)),o}getBeforeBody(e,t){return S8(t.callbacks.beforeBody.apply(this,[e]))}getBody(e,t){const{callbacks:n}=t,r=[];return Bn(e,s=>{const l={before:[],lines:[],after:[]},o=T8(n,s);Gs(l.before,Sl(o.beforeLabel.call(this,s))),Gs(l.lines,o.label.call(this,s)),Gs(l.after,Sl(o.afterLabel.call(this,s))),r.push(l)}),r}getAfterBody(e,t){return S8(t.callbacks.afterBody.apply(this,[e]))}getFooter(e,t){const{callbacks:n}=t,r=n.beforeFooter.apply(this,[e]),s=n.footer.apply(this,[e]),l=n.afterFooter.apply(this,[e]);let o=[];return o=Gs(o,Sl(r)),o=Gs(o,Sl(s)),o=Gs(o,Sl(l)),o}_createItems(e){const t=this._active,n=this.chart.data,r=[],s=[],l=[];let o=[],a,u;for(a=0,u=t.length;a<u;++a)o.push(z7e(this.chart,t[a]));return e.filter&&(o=o.filter((c,f,d)=>e.filter(c,f,d,n))),e.itemSort&&(o=o.sort((c,f)=>e.itemSort(c,f,n))),Bn(o,c=>{const f=T8(e.callbacks,c);r.push(f.labelColor.call(this,c)),s.push(f.labelPointStyle.call(this,c)),l.push(f.labelTextColor.call(this,c))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=l,this.dataPoints=o,o}update(e,t){const n=this.options.setContext(this.getContext()),r=this._active;let s,l=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const o=im[n.position].call(this,r,this._eventPosition);l=this._createItems(n),this.title=this.getTitle(l,n),this.beforeBody=this.getBeforeBody(l,n),this.body=this.getBody(l,n),this.afterBody=this.getAfterBody(l,n),this.footer=this.getFooter(l,n);const a=this._size=E8(this,n),u=Object.assign({},o,a),c=D8(this.chart,n,u),f=C8(n,u,c,this.chart);this.xAlign=c.xAlign,this.yAlign=c.yAlign,s={opacity:1,x:f.x,y:f.y,width:a.width,height:a.height,caretX:o.x,caretY:o.y}}this._tooltipItems=l,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,r){const s=this.getCaretPosition(e,n,r);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,n){const{xAlign:r,yAlign:s}=this,{caretSize:l,cornerRadius:o}=n,{topLeft:a,topRight:u,bottomLeft:c,bottomRight:f}=Vu(o),{x:d,y:m}=e,{width:p,height:g}=t;let k,$,D,F,C,S;return s==="center"?(C=m+g/2,r==="left"?(k=d,$=k-l,F=C+l,S=C-l):(k=d+p,$=k+l,F=C-l,S=C+l),D=k):(r==="left"?$=d+Math.max(a,c)+l:r==="right"?$=d+p-Math.max(u,f)-l:$=this.caretX,s==="top"?(F=m,C=F-l,k=$-l,D=$+l):(F=m+g,C=F+l,k=$+l,D=$-l),S=F),{x1:k,x2:$,x3:D,y1:F,y2:C,y3:S}}drawTitle(e,t,n){const r=this.title,s=r.length;let l,o,a;if(s){const u=Cg(n.rtl,this.x,this.width);for(e.x=Hh(this,n.titleAlign,n),t.textAlign=u.textAlign(n.titleAlign),t.textBaseline="middle",l=Zr(n.titleFont),o=n.titleSpacing,t.fillStyle=n.titleColor,t.font=l.string,a=0;a<s;++a)t.fillText(r[a],u.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+o,a+1===s&&(e.y+=n.titleMarginBottom-o)}}_drawColorBox(e,t,n,r,s){const l=this.labelColors[n],o=this.labelPointStyles[n],{boxHeight:a,boxWidth:u,boxPadding:c}=s,f=Zr(s.bodyFont),d=Hh(this,"left",s),m=r.x(d),p=a<f.lineHeight?(f.lineHeight-a)/2:0,g=t.y+p;if(s.usePointStyle){const k={radius:Math.min(u,a)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},$=r.leftForLtr(m,u)+u/2,D=g+a/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,J1(e,k,$,D),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,J1(e,k,$,D)}else{e.lineWidth=hn(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const k=r.leftForLtr(m,u-c),$=r.leftForLtr(r.xPlus(m,1),u-c-2),D=Vu(l.borderRadius);Object.values(D).some(F=>F!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,xm(e,{x:k,y:g,w:u,h:a,radius:D}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),xm(e,{x:$,y:g+1,w:u-2,h:a-2,radius:D}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(k,g,u,a),e.strokeRect(k,g,u,a),e.fillStyle=l.backgroundColor,e.fillRect($,g+1,u-2,a-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:r}=this,{bodySpacing:s,bodyAlign:l,displayColors:o,boxHeight:a,boxWidth:u,boxPadding:c}=n,f=Zr(n.bodyFont);let d=f.lineHeight,m=0;const p=Cg(n.rtl,this.x,this.width),g=function(R){t.fillText(R,p.x(e.x+m),e.y+d/2),e.y+=d+s},k=p.textAlign(l);let $,D,F,C,S,P,I;for(t.textAlign=l,t.textBaseline="middle",t.font=f.string,e.x=Hh(this,k,n),t.fillStyle=n.bodyColor,Bn(this.beforeBody,g),m=o&&k!=="right"?l==="center"?u/2+c:u+2+c:0,C=0,P=r.length;C<P;++C){for($=r[C],D=this.labelTextColors[C],t.fillStyle=D,Bn($.before,g),F=$.lines,o&&F.length&&(this._drawColorBox(t,e,C,p,n),d=Math.max(f.lineHeight,a)),S=0,I=F.length;S<I;++S)g(F[S]),d=f.lineHeight;Bn($.after,g)}m=0,d=f.lineHeight,Bn(this.afterBody,g),e.y-=s}drawFooter(e,t,n){const r=this.footer,s=r.length;let l,o;if(s){const a=Cg(n.rtl,this.x,this.width);for(e.x=Hh(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=a.textAlign(n.footerAlign),t.textBaseline="middle",l=Zr(n.footerFont),t.fillStyle=n.footerColor,t.font=l.string,o=0;o<s;++o)t.fillText(r[o],a.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+n.footerSpacing}}drawBackground(e,t,n,r){const{xAlign:s,yAlign:l}=this,{x:o,y:a}=e,{width:u,height:c}=n,{topLeft:f,topRight:d,bottomLeft:m,bottomRight:p}=Vu(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(o+f,a),l==="top"&&this.drawCaret(e,t,n,r),t.lineTo(o+u-d,a),t.quadraticCurveTo(o+u,a,o+u,a+d),l==="center"&&s==="right"&&this.drawCaret(e,t,n,r),t.lineTo(o+u,a+c-p),t.quadraticCurveTo(o+u,a+c,o+u-p,a+c),l==="bottom"&&this.drawCaret(e,t,n,r),t.lineTo(o+m,a+c),t.quadraticCurveTo(o,a+c,o,a+c-m),l==="center"&&s==="left"&&this.drawCaret(e,t,n,r),t.lineTo(o,a+f),t.quadraticCurveTo(o,a,o+f,a),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,r=n&&n.x,s=n&&n.y;if(r||s){const l=im[e.position].call(this,this._active,this._eventPosition);if(!l)return;const o=this._size=E8(this,e),a=Object.assign({},l,this._size),u=D8(t,e,a),c=C8(e,a,u,t);(r._to!==c.x||s._to!==c.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=o.width,this.height=o.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,c))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const l=hs(t.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&o&&(e.save(),e.globalAlpha=n,this.drawBackground(s,e,r,t),aCe(e,t.textDirection),s.y+=l.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),uCe(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,r=e.map(({datasetIndex:o,index:a})=>{const u=this.chart.getDatasetMeta(o);if(!u)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:u.data[a],index:a}}),s=!qm(n,r),l=this._positionChanged(r,t);(s||l)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,n=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],l=this._getActiveElements(e,s,t,n),o=this._positionChanged(l,e),a=t||!qm(l,s)||o;return a&&(this._active=l,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),a}_getActiveElements(e,t,n,r){const s=this.options;if(e.type==="mouseout")return[];if(!r)return t;const l=this.chart.getElementsAtEventForMode(e,s.mode,s,n);return s.reverse&&l.reverse(),l}_positionChanged(e,t){const{caretX:n,caretY:r,options:s}=this,l=im[s.position].call(this,e,t);return l!==!1&&(n!==l.x||r!==l.y)}}W7e.positioners=im;const V7e=(i,e,t,n)=>(typeof e=="string"?(t=i.push(e)-1,n.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function G7e(i,e,t,n){const r=i.indexOf(e);if(r===-1)return V7e(i,e,t,n);const s=i.lastIndexOf(e);return r!==s?t:r}const Z7e=(i,e)=>i===null?null:rr(Math.round(i),0,e);class ep extends au{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const n=this.getLabels();for(const{index:r,label:s}of t)n[r]===s&&n.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(zn(e))return null;const n=this.getLabels();return t=isFinite(t)&&n[t]===e?t:G7e(n,e,$n(t,e),this._addedLabels),Z7e(t,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),t||(r=this.getLabels().length-1)),this.min=n,this.max=r}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,r=[];let s=this.getLabels();s=e===0&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let l=e;l<=t;l++)r.push({value:l});return r}getLabelForValue(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}ep.id="category";ep.defaults={ticks:{callback:ep.prototype.getLabelForValue}};function x7e(i,e){const t=[],{bounds:r,step:s,min:l,max:o,precision:a,count:u,maxTicks:c,maxDigits:f,includeBounds:d}=i,m=s||1,p=c-1,{min:g,max:k}=e,$=!zn(l),D=!zn(o),F=!zn(u),C=(k-g)/(f+1);let S=SE((k-g)/p/m)*m,P,I,R,B;if(S<1e-14&&!$&&!D)return[{value:g},{value:k}];B=Math.ceil(k/S)-Math.floor(g/S),B>p&&(S=SE(B*S/p/m)*m),zn(a)||(P=Math.pow(10,a),S=Math.ceil(S*P)/P),r==="ticks"?(I=Math.floor(g/S)*S,R=Math.ceil(k/S)*S):(I=g,R=k),$&&D&&s&&W8e((o-l)/s,S/1e3)?(B=Math.round(Math.min((o-l)/S,c)),S=(o-l)/B,I=l,R=o):F?(I=$?l:I,R=D?o:R,B=u-1,S=(R-I)/B):(B=(R-I)/S,If(B,Math.round(B),S/1e3)?B=Math.round(B):B=Math.ceil(B));const z=Math.max(TE(S),TE(I));P=Math.pow(10,zn(a)?z:a),I=Math.round(I*P)/P,R=Math.round(R*P)/P;let q=0;for($&&(d&&I!==l?(t.push({value:l}),I<l&&q++,If(Math.round((I+q*S)*P)/P,l,A8(l,C,i))&&q++):I<l&&q++);q<B;++q)t.push({value:Math.round((I+q*S)*P)/P});return D&&d&&R!==o?t.length&&If(t[t.length-1].value,o,A8(o,C,i))?t[t.length-1].value=o:t.push({value:o}):(!D||R===o)&&t.push({value:R}),t}function A8(i,e,{horizontal:t,minRotation:n}){const r=Ss(n),s=(t?Math.sin(r):Math.cos(r))||.001,l=.75*e*(""+i).length;return Math.min(e/s,l)}class tp extends au{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return zn(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this;const l=a=>r=t?r:a,o=a=>s=n?s:a;if(e){const a=sl(r),u=sl(s);a<0&&u<0?o(0):a>0&&u>0&&l(0)}if(r===s){let a=1;(s>=Number.MAX_SAFE_INTEGER||r<=Number.MIN_SAFE_INTEGER)&&(a=Math.abs(s*.05)),o(s+a),e||l(r-a)}this.min=r,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:n}=e,r;return n?(r=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),t=t||11),t&&(r=Math.min(t,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const r={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},s=this._range||this,l=x7e(r,s);return e.bounds==="ticks"&&FB(l,this,"value"),e.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const r=(n-t)/Math.max(e.length-1,1)/2;t-=r,n+=r}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return Zd(e,this.chart.options.locale,this.options.ticks.format)}}class Rb extends tp{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Ei(e)?e:0,this.max=Ei(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=Ss(this.options.ticks.minRotation),r=(e?Math.sin(n):Math.cos(n))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Rb.id="linear";Rb.defaults={ticks:{callback:d_.formatters.numeric}};function P8(i){return i/Math.pow(10,Math.floor(os(i)))===1}function X7e(i,e){const t=Math.floor(os(e.max)),n=Math.ceil(e.max/Math.pow(10,t)),r=[];let s=is(i.min,Math.pow(10,Math.floor(os(e.min)))),l=Math.floor(os(s)),o=Math.floor(s/Math.pow(10,l)),a=l<0?Math.pow(10,Math.abs(l)):1;do r.push({value:s,major:P8(s)}),++o,o===10&&(o=1,++l,a=l>=0?1:a),s=Math.round(o*Math.pow(10,l)*a)/a;while(l<t||l===t&&o<n);const u=is(i.max,s);return r.push({value:u,major:P8(s)}),r}class jb extends au{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const n=tp.prototype.parse.apply(this,[e,t]);if(n===0){this._zero=!0;return}return Ei(n)&&n>0?n:null}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Ei(e)?Math.max(0,e):null,this.max=Ei(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let n=this.min,r=this.max;const s=a=>n=e?n:a,l=a=>r=t?r:a,o=(a,u)=>Math.pow(10,Math.floor(os(a))+u);n===r&&(n<=0?(s(1),l(10)):(s(o(n,-1)),l(o(r,1)))),n<=0&&s(o(r,-1)),r<=0&&l(o(n,1)),this._zero&&this.min!==this._suggestedMin&&n===o(this.min,0)&&s(o(n,-1)),this.min=n,this.max=r}buildTicks(){const e=this.options,t={min:this._userMin,max:this._userMax},n=X7e(t,this);return e.bounds==="ticks"&&FB(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(e){return e===void 0?"0":Zd(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=os(e),this._valueRange=os(this.max)-os(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(os(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}jb.id="logarithmic";jb.defaults={ticks:{callback:d_.formatters.logarithmic,major:{enabled:!0}}};function s0(i){const e=i.ticks;if(e.display&&i.display){const t=hs(e.backdropPadding);return $n(e.font&&e.font.size,En.font.size)+t.height}return 0}function K7e(i,e,t){return t=li(t)?t:[t],{w:$De(i,e.string,t),h:t.length*e.lineHeight}}function N8(i,e,t,n,r){return i===n||i===r?{start:e-t/2,end:e+t/2}:i<n||i>r?{start:e-t,end:e}:{start:e,end:e+t}}function J7e(i){const e={l:i.left+i._padding.left,r:i.right-i._padding.right,t:i.top+i._padding.top,b:i.bottom-i._padding.bottom},t=Object.assign({},e),n=[],r=[],s=i._pointLabels.length,l=i.options.pointLabels,o=l.centerPointLabels?yi/s:0;for(let a=0;a<s;a++){const u=l.setContext(i.getPointLabelContext(a));r[a]=u.padding;const c=i.getPointPosition(a,i.drawingArea+r[a],o),f=Zr(u.font),d=K7e(i.ctx,f,i._pointLabels[a]);n[a]=d;const m=Hr(i.getIndexAngle(a)+o),p=Math.round(yb(m)),g=N8(p,c.x,d.w,0,180),k=N8(p,c.y,d.h,90,270);Q7e(t,e,m,g,k)}i.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),i._pointLabelItems=e9e(i,n,r)}function Q7e(i,e,t,n,r){const s=Math.abs(Math.sin(t)),l=Math.abs(Math.cos(t));let o=0,a=0;n.start<e.l?(o=(e.l-n.start)/s,i.l=Math.min(i.l,e.l-o)):n.end>e.r&&(o=(n.end-e.r)/s,i.r=Math.max(i.r,e.r+o)),r.start<e.t?(a=(e.t-r.start)/l,i.t=Math.min(i.t,e.t-a)):r.end>e.b&&(a=(r.end-e.b)/l,i.b=Math.max(i.b,e.b+a))}function e9e(i,e,t){const n=[],r=i._pointLabels.length,s=i.options,l=s0(s)/2,o=i.drawingArea,a=s.pointLabels.centerPointLabels?yi/r:0;for(let u=0;u<r;u++){const c=i.getPointPosition(u,o+l+t[u],a),f=Math.round(yb(Hr(c.angle+ki))),d=e[u],m=i9e(c.y,d.h,f),p=t9e(f),g=n9e(c.x,d.w,p);n.push({x:c.x,y:m,textAlign:p,left:g,top:m,right:g+d.w,bottom:m+d.h})}return n}function t9e(i){return i===0||i===180?"center":i<180?"left":"right"}function n9e(i,e,t){return t==="right"?i-=e:t==="center"&&(i-=e/2),i}function i9e(i,e,t){return t===90||t===270?i-=e/2:(t>270||t<90)&&(i-=e),i}function r9e(i,e){const{ctx:t,options:{pointLabels:n}}=i;for(let r=e-1;r>=0;r--){const s=n.setContext(i.getPointLabelContext(r)),l=Zr(s.font),{x:o,y:a,textAlign:u,left:c,top:f,right:d,bottom:m}=i._pointLabelItems[r],{backdropColor:p}=s;if(!zn(p)){const g=Vu(s.borderRadius),k=hs(s.backdropPadding);t.fillStyle=p;const $=c-k.left,D=f-k.top,F=d-c+k.width,C=m-f+k.height;Object.values(g).some(S=>S!==0)?(t.beginPath(),xm(t,{x:$,y:D,w:F,h:C,radius:g}),t.fill()):t.fillRect($,D,F,C)}Zm(t,i._pointLabels[r],o,a+l.lineHeight/2,l,{color:s.color,textAlign:u,textBaseline:"middle"})}}function pz(i,e,t,n){const{ctx:r}=i;if(t)r.arc(i.xCenter,i.yCenter,e,0,Un);else{let s=i.getPointPosition(0,e);r.moveTo(s.x,s.y);for(let l=1;l<n;l++)s=i.getPointPosition(l,e),r.lineTo(s.x,s.y)}}function s9e(i,e,t,n){const r=i.ctx,s=e.circular,{color:l,lineWidth:o}=e;!s&&!n||!l||!o||t<0||(r.save(),r.strokeStyle=l,r.lineWidth=o,r.setLineDash(e.borderDash),r.lineDashOffset=e.borderDashOffset,r.beginPath(),pz(i,t,s,n),r.closePath(),r.stroke(),r.restore())}function l9e(i,e,t){return Go(i,{label:t,index:e,type:"pointLabel"})}class p_ extends tp{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=hs(s0(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=Ei(e)&&!isNaN(e)?e:0,this.max=Ei(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/s0(this.options))}generateTickLabels(e){tp.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,n)=>{const r=vi(this.options.pointLabels.callback,[t,n],this);return r||r===0?r:""}).filter((t,n)=>this.chart.getDataVisibility(n))}fit(){const e=this.options;e.display&&e.pointLabels.display?J7e(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,n,r){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,r))}getIndexAngle(e){const t=Un/(this._pointLabels.length||1),n=this.options.startAngle||0;return Hr(e*t+Ss(n))}getDistanceFromCenterForValue(e){if(zn(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(zn(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const n=t[e];return l9e(this.getContext(),e,n)}}getPointPosition(e,t,n=0){const r=this.getIndexAngle(e)-ki+n;return{x:Math.cos(r)*t+this.xCenter,y:Math.sin(r)*t+this.yCenter,angle:r}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:n,right:r,bottom:s}=this._pointLabelItems[e];return{left:t,top:n,right:r,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),pz(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:n,grid:r}=t,s=this._pointLabels.length;let l,o,a;if(t.pointLabels.display&&r9e(this,s),r.display&&this.ticks.forEach((u,c)=>{if(c!==0){o=this.getDistanceFromCenterForValue(u.value);const f=r.setContext(this.getContext(c-1));s9e(this,f,o,s)}}),n.display){for(e.save(),l=s-1;l>=0;l--){const u=n.setContext(this.getPointLabelContext(l)),{color:c,lineWidth:f}=u;!f||!c||(e.lineWidth=f,e.strokeStyle=c,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,o=this.getDistanceFromCenterForValue(t.ticks.reverse?this.min:this.max),a=this.getPointPosition(l,o),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(a.x,a.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;const r=this.getIndexAngle(0);let s,l;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((o,a)=>{if(a===0&&!t.reverse)return;const u=n.setContext(this.getContext(a)),c=Zr(u.font);if(s=this.getDistanceFromCenterForValue(this.ticks[a].value),u.showLabelBackdrop){e.font=c.string,l=e.measureText(o.label).width,e.fillStyle=u.backdropColor;const f=hs(u.backdropPadding);e.fillRect(-l/2-f.left,-s-c.size/2-f.top,l+f.width,c.size+f.height)}Zm(e,o.label,0,-s,c,{color:u.color})}),e.restore()}drawTitle(){}}p_.id="radialLinear";p_.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:d_.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(i){return i},padding:5,centerPointLabels:!1}};p_.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};p_.descriptors={angleLines:{_fallback:"grid"}};const __={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Pr=Object.keys(__);function o9e(i,e){return i-e}function M8(i,e){if(zn(e))return null;const t=i._adapter,{parser:n,round:r,isoWeekday:s}=i._parseOpts;let l=e;return typeof n=="function"&&(l=n(l)),Ei(l)||(l=typeof n=="string"?t.parse(l,n):t.parse(l)),l===null?null:(r&&(l=r==="week"&&(mc(s)||s===!0)?t.startOf(l,"isoWeek",s):t.startOf(l,r)),+l)}function L8(i,e,t,n){const r=Pr.length;for(let s=Pr.indexOf(i);s<r-1;++s){const l=__[Pr[s]],o=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((t-e)/(o*l.size))<=n)return Pr[s]}return Pr[r-1]}function a9e(i,e,t,n,r){for(let s=Pr.length-1;s>=Pr.indexOf(t);s--){const l=Pr[s];if(__[l].common&&i._adapter.diff(r,n,l)>=e-1)return l}return Pr[t?Pr.indexOf(t):0]}function u9e(i){for(let e=Pr.indexOf(i)+1,t=Pr.length;e<t;++e)if(__[Pr[e]].common)return Pr[e]}function O8(i,e,t){if(!t)i[e]=!0;else if(t.length){const{lo:n,hi:r}=wb(t,e),s=t[n]>=e?t[n]:t[r];i[s]=!0}}function c9e(i,e,t,n){const r=i._adapter,s=+r.startOf(e[0].value,n),l=e[e.length-1].value;let o,a;for(o=s;o<=l;o=+r.add(o,1,n))a=t[o],a>=0&&(e[a].major=!0);return e}function I8(i,e,t){const n=[],r={},s=e.length;let l,o;for(l=0;l<s;++l)o=e[l],r[o]=l,n.push({value:o,major:!1});return s===0||!t?n:c9e(i,n,r,t)}class g_ extends au{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t){const n=e.time||(e.time={}),r=this._adapter=new aSe._date(e.adapters.date);r.init(t),Of(n.displayFormats,r.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:M8(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:r,max:s,minDefined:l,maxDefined:o}=this.getUserBounds();function a(u){!l&&!isNaN(u.min)&&(r=Math.min(r,u.min)),!o&&!isNaN(u.max)&&(s=Math.max(s,u.max))}(!l||!o)&&(a(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&a(this.getMinMax(!1))),r=Ei(r)&&!isNaN(r)?r:+t.startOf(Date.now(),n),s=Ei(s)&&!isNaN(s)?s:+t.endOf(Date.now(),n)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,r=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,l=this.max,o=x8e(r,s,l);return this._unit=t.unit||(n.autoSkip?L8(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):a9e(this,o.length,t.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:u9e(this._unit),this.initOffsets(r),e.reverse&&o.reverse(),I8(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e){let t=0,n=0,r,s;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?t=1-r:t=(this.getDecimalForValue(e[1])-r)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?n=s:n=(s-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;t=rr(t,0,l),n=rr(n,0,l),this._offsets={start:t,end:n,factor:1/(t+1+n)}}_generate(){const e=this._adapter,t=this.min,n=this.max,r=this.options,s=r.time,l=s.unit||L8(s.minUnit,t,n,this._getLabelCapacity(t)),o=$n(s.stepSize,1),a=l==="week"?s.isoWeekday:!1,u=mc(a)||a===!0,c={};let f=t,d,m;if(u&&(f=+e.startOf(f,"isoWeek",a)),f=+e.startOf(f,u?"day":l),e.diff(n,t,l)>1e5*o)throw new Error(t+" and "+n+" are too far apart with stepSize of "+o+" "+l);const p=r.ticks.source==="data"&&this.getDataTimestamps();for(d=f,m=0;d<n;d=+e.add(d,o,l),m++)O8(c,d,p);return(d===n||r.bounds==="ticks"||m===1)&&O8(c,d,p),Object.keys(c).sort((g,k)=>g-k).map(g=>+g)}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}_tickFormatFunction(e,t,n,r){const s=this.options,l=s.time.displayFormats,o=this._unit,a=this._majorUnit,u=o&&l[o],c=a&&l[a],f=n[t],d=a&&c&&f&&f.major,m=this._adapter.format(e,r||(d?c:u)),p=s.ticks.callback;return p?vi(p,[m,t,n],this):m}generateTickLabels(e){let t,n,r;for(t=0,n=e.length;t<n;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,r=Ss(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(r),l=Math.sin(r),o=this._resolveTickFontOptions(0).size;return{w:n*s+o*l,h:n*l+o*s}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,r=n[t.unit]||n.millisecond,s=this._tickFormatFunction(e,0,I8(this,[e],this._majorUnit),r),l=this._getLabelSize(s),o=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return o>0?o:1}getDataTimestamps(){let e=this._cache.data||[],t,n;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(t=0,n=r.length;t<n;++t)e=e.concat(r[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const r=this.getLabels();for(t=0,n=r.length;t<n;++t)e.push(M8(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return CB(e.sort(o9e))}}g_.id="time";g_.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};function Wh(i,e,t){let n=0,r=i.length-1,s,l,o,a;t?(e>=i[n].pos&&e<=i[r].pos&&({lo:n,hi:r}=Da(i,"pos",e)),{pos:s,time:o}=i[n],{pos:l,time:a}=i[r]):(e>=i[n].time&&e<=i[r].time&&({lo:n,hi:r}=Da(i,"time",e)),{time:s,pos:o}=i[n],{time:l,pos:a}=i[r]);const u=l-s;return u?o+(a-o)*(e-s)/u:o}class _z extends g_{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Wh(t,this.min),this._tableRange=Wh(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,r=[],s=[];let l,o,a,u,c;for(l=0,o=e.length;l<o;++l)u=e[l],u>=t&&u<=n&&r.push(u);if(r.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(l=0,o=r.length;l<o;++l)c=r[l+1],a=r[l-1],u=r[l],Math.round((c+a)/2)!==u&&s.push({time:u,pos:l/(o-1)});return s}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return t.length&&n.length?e=this.normalize(t.concat(n)):e=t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(Wh(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return Wh(this._table,n*this._tableRange+this._minPos,!0)}}_z.id="timeseries";_z.defaults=g_.defaults;function f9e(i){let e,t;return{c(){e=A("canvas"),h(e,"height","100%"),h(e,"id",t=`chart-${i[0]}`)},m(n,r){w(n,e,r),i[3](e)},p(n,[r]){r&1&&t!==(t=`chart-${n[0]}`)&&h(e,"id",t)},i:W,o:W,d(n){n&&y(e),i[3](null)}}}function d9e(i,e,t){Qm.register(m_,B7e,Zo,h_,ep,Rb,jb,c_,f_);let{id:n}=e,{chartjsPayload:r}=e,s,l;const o=Dt(),a=()=>{try{return t(2,r.options={...r.options,onClick:(c,f)=>{if(f.length){const d=f[0].index;o("click",d)}},onHover:(c,f)=>{if(f.length){const d=f[0].index;o("click",d)}}},r),s=new Qm(l,r),s}catch(c){console.error("Caught an error on the cartjs chart",c)}};wt(()=>{a()});function u(c){De[c?"unshift":"push"](()=>{l=c,t(1,l)})}return i.$$set=c=>{"id"in c&&t(0,n=c.id),"chartjsPayload"in c&&t(2,r=c.chartjsPayload)},[n,l,r,u]}class gz extends ce{constructor(e){super(),ue(this,e,d9e,f9e,le,{id:0,chartjsPayload:2})}}const h9e=(i,e)=>{const t=Yb();t[i]=e,localStorage.setItem("chart-options",JSON.stringify(t))},m9e=i=>Yb()[i],Yb=()=>{try{const i=localStorage.getItem("chart-options")||"{}";return JSON.parse(i)}catch{return{}}};Bt(Yb());function p9e(i){let e,t,n;return t=new Mn({props:{size:32}}),{c(){e=A("div"),O(t.$$.fragment),h(e,"class","loading-box")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p:W,i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function _9e(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p=i[5]&&B8(i),g=i[7]&&z8(i);return a=new je({props:{size:14,icon:nH,className:"text-gray-800 dark:text-gray-200"}}),{c(){e=A("div"),p&&p.c(),t=Y(),g&&g.c(),n=Y(),r=A("div"),s=A("div"),l=Y(),o=A("button"),O(a.$$.fragment),h(s,"class","filler"),h(o,"class","chart-config-button px-1"),h(r,"class","usage-chart-tools flex items-center space-x-2 absolute top-0 left-3 justify-between right-1"),h(e,"id",i[2]),h(e,"class",u="usage-chart pt-2 "+i[1]),h(e,"style",c="min-height:120px; "+i[0])},m(k,$){w(k,e,$),p&&p.m(e,null),E(e,t),g&&g.m(e,null),E(e,n),E(e,r),E(r,s),E(r,l),E(r,o),N(a,o,null),f=!0,d||(m=ke(o,"click",Ro(Or(i[19]))),d=!0)},p(k,$){k[5]?p?(p.p(k,$),$&32&&_(p,1)):(p=B8(k),p.c(),_(p,1),p.m(e,t)):p&&(ie(),v(p,1,1,()=>{p=null}),re()),k[7]?g?(g.p(k,$),$&128&&_(g,1)):(g=z8(k),g.c(),_(g,1),g.m(e,n)):g&&(ie(),v(g,1,1,()=>{g=null}),re()),(!f||$&4)&&h(e,"id",k[2]),(!f||$&2&&u!==(u="usage-chart pt-2 "+k[1]))&&h(e,"class",u),(!f||$&1&&c!==(c="min-height:120px; "+k[0]))&&h(e,"style",c)},i(k){f||(_(p),_(g),_(a.$$.fragment,k),f=!0)},o(k){v(p),v(g),v(a.$$.fragment,k),f=!1},d(k){k&&y(e),p&&p.d(),g&&g.d(),M(a),d=!1,m()}}}function B8(i){let e,t,n,r,s=i[5].format(i[8].tinyDate)+"",l,o,a,u=i[5].format(i[8].dateDay)+"",c,f,d,m,p,g,k,$,D,F;return k=new je({props:{size:12,icon:pl}}),{c(){var C,S;e=A("div"),t=A("button"),n=A("div"),r=A("span"),l=Z(s),o=Y(),a=A("span"),c=Z(u),f=Y(),d=A("div"),m=Z(i[6]),p=Y(),g=A("button"),O(k.$$.fragment),h(r,"class","lg:hidden"),h(a,"class","hidden lg:block"),nt(n,"font-size","0.7rem"),h(n,"class","line-clamp-1 py-px px-2 rounded-md bg-gray-200 dark:bg-gray-800 text-black dark:text-white"),h(d,"class","font-extrabold ml-2"),nt(d,"font-size","0.8rem"),nt(d,"color",(S=(C=i[4])==null?void 0:C.trackable)==null?void 0:S.color),h(t,"class","flex items-center"),h(g,"class","flex items-center justify-center text-sm text-black dark:text-white"),h(e,"class","active-date-holder z-40 flex items-center space-x-2 justify-center px-4 text-center absolute top-1 left-0 right-0")},m(C,S){w(C,e,S),E(e,t),E(t,n),E(n,r),E(r,l),E(n,o),E(n,a),E(a,c),E(t,f),E(t,d),E(d,m),E(e,p),E(e,g),N(k,g,null),$=!0,D||(F=[ke(t,"click",i[16]),ke(g,"click",i[17])],D=!0)},p(C,S){var P,I;(!$||S&32)&&s!==(s=C[5].format(C[8].tinyDate)+"")&&oe(l,s),(!$||S&32)&&u!==(u=C[5].format(C[8].dateDay)+"")&&oe(c,u),(!$||S&64)&&oe(m,C[6]),(!$||S&16)&&nt(d,"color",(I=(P=C[4])==null?void 0:P.trackable)==null?void 0:I.color)},i(C){$||(_(k.$$.fragment,C),$=!0)},o(C){v(k.$$.fragment,C),$=!1},d(C){C&&y(e),M(k),D=!1,pt(F)}}}function z8(i){let e,t;return e=new gz({props:{id:"chart-"+i[2],chartjsPayload:i[9]()}}),e.$on("click",i[18]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&4&&(s.id="chart-"+n[2]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function g9e(i){let e,t,n,r;const s=[_9e,p9e],l=[];function o(a,u){return a[4]?0:1}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=$e()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,[u]){let c=e;e=o(a),e===c?l[e].p(a,u):(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function v9e(i,e,t){let n;Ee(i,It,U=>t(23,n=U));let{usages:r=[]}=e,{style:s=""}=e,{className:l=""}=e,{type:o="bar"}=e,{hideLabels:a=!1}=e,{hideValues:u=!1}=e,{id:c}=e,{stacked:f=!1}=e,d=Pn(),m,p,g;wt(()=>{S()});let k=o,$=!0,D="linear",F=!0;const C=async(U,Q,V=!0)=>{t(7,$=!1),k=U,F=Q,V&&h9e(c,{type:U,startWithZero:F}),await Et(60),t(7,$=!0)},S=()=>{let U=m9e(c)||{},Q=(U.type||o)=="line"?"line":"bar",V=!(U.startWithZero===void 0||U.startWithZero===!1);C(Q,V,!1)},P=async()=>{const U=await Vp(),Q=await Id(U,{start:r[0].dates[0],end:r[0].dates[r[0].dates.length-1]},n.trackables);return r.push(Q),Q},I=async U=>{const Q=[{title:_e.t("general.line-chart","Line Chart"),icon:k==="line"?Cs:void 0,click(){C("line",F)}},{title:_e.t("general.bar-chart","Bar Chart"),icon:k==="bar"?Cs:void 0,click(){C("bar",F)}},{title:`Scale: ${D}`,divider:!0,click(){ls({id:"chart-scale",buttons:[{id:"linear",title:"Linear Scale",checked:D==="linear",click(){D="linear",S()}},{id:"log",title:"Log Scale",checked:D==="logarithmic",click(){D="logarithmic",S()}}]})}},{title:_e.t("general.start-with-zero","Start with Zero"),icon:F?Cs:void 0,divider:!0,click(){F=!F,C(k,F)}},{title:_e.t("general.also-include","Also Include..."),icon:r.length>1?Cs:void 0,async click(){await Et(10),await P(),C(k,F)}}];G0(U,Q)},R=U=>{const Q=U,V=Q.dates,x=Q.values,ee=V.map((te,ge)=>x[ge]);let J={type:k,label:Q.trackable.label,data:ee};const se=(te,ge)=>te.p0.skip||te.p1.skip?ge:void 0;return k==="line"?J={...J,pointRadius:1,pointHitRadius:10,borderColor:Q.trackable.color,spanGaps:!0,borderWidth:1.5,backgroundColor:zJ(Q.trackable.color,.1),fill:"origin",segment:{borderColor:te=>se(te,"rgb(140,140,140,0.5)"),borderDash:te=>se(te,[2,2])},tension:.4}:J={...J,backgroundColor:Q.trackable.color,barPercentage:.9,borderRadius:100,minBarLength:10},J},B=()=>{const U=r.map(V=>R(V));return{type:k,options:{animation:!1,elements:{bar:{borderRadius:100}},plugins:{legend:{display:!1},tooltip:{callbacks:{label(V){return m.trackable.formatValue(Nn(`${V.raw}`))}}}},layout:{padding:6},responsive:!0,maintainAspectRatio:!1,scales:{x:{display:!a,ticks:{autoSkip:!0,maxRotation:0,font:{size:10}}},y:{stacked:f,display:!u,beginAtZero:F,type:D,ticks:{font:{size:10},callback(V,x,ee){return m.trackable.formatValue(V)}}}}},data:{labels:r[0].dates.map(V=>V.format(d.tinyNumber)),datasets:U}}},z=U=>{U?(t(5,p=m.dates[U]),t(6,g=m.trackable.formatValue(m.values[U]))):t(5,p=void 0)},q=()=>Oa(p.toDate()),H=()=>{z(void 0)},K=U=>{z(U.detail)},G=U=>{I(U.target)};return i.$$set=U=>{"usages"in U&&t(11,r=U.usages),"style"in U&&t(0,s=U.style),"className"in U&&t(1,l=U.className),"type"in U&&t(12,o=U.type),"hideLabels"in U&&t(13,a=U.hideLabels),"hideValues"in U&&t(14,u=U.hideValues),"id"in U&&t(2,c=U.id),"stacked"in U&&t(15,f=U.stacked)},i.$$.update=()=>{i.$$.dirty&2048&&r&&r.length&&t(4,m=r[0].backfill())},[s,l,c,I,m,p,g,$,d,B,z,r,o,a,u,f,q,H,K,G]}class v_ extends ce{constructor(e){super(),ue(this,e,v9e,g9e,le,{usages:11,style:0,className:1,type:12,hideLabels:13,hideValues:14,id:2,stacked:15,showOptionsMenu:3})}get showOptionsMenu(){return this.$$.ctx[3]}}function b9e(){return new Worker("/assets/related-worker.d8f5dd9b.js")}function R8(i,e,t){const n=i.slice();return n[22]=e[t],n[24]=t,n}function k9e(i){let e;return{c(){e=A("div"),h(e,"class","w-full h-32")},m(t,n){w(t,e,n)},p:W,i:W,o:W,d(t){t&&y(e)}}}function y9e(i){let e,t;return e=new v_({props:{className:"w-full h-32",hideValues:!0,id:"related-chart",usages:i[2]}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&4&&(s.usages=n[2]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function j8(i){let e,t,n,r;const s=[y9e,k9e],l=[];function o(a,u){return a[6]?1:0}return t=o(i),n=l[t]=s[t](i),{c(){e=A("div"),n.c(),h(e,"class","chart sticky dark:bg-gray-900 bg-gray-100 top-0 pb-2 flex items-center justify-center w-full"),nt(e,"min-height","180px")},m(a,u){w(a,e,u),l[t].m(e,null),r=!0},p(a,u){let c=t;t=o(a),t===c?l[t].p(a,u):(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),n=l[t],n?n.p(a,u):(n=l[t]=s[t](a),n.c()),_(n,1),n.m(e,null))},i(a){r||(_(n),r=!0)},o(a){v(n),r=!1},d(a){a&&y(e),l[t].d()}}}function Y8(i){var m;let e,t,n,r,s,l=Math.abs(((m=i[4])==null?void 0:m.length)||0-Object.keys(i[5]||{}).length)+"",o,a,u=Object.keys(i[5]||{}).length+"",c,f,d;return t=new Mn({props:{size:26}}),{c(){e=A("div"),O(t.$$.fragment),n=Y(),r=A("span"),s=Z("Comparing "),o=Z(l),a=Z(" of "),c=Z(u),f=Z(" ..."),h(e,"class","p-4 text-center text-gray-500 flex items-center space-x-2")},m(p,g){w(p,e,g),N(t,e,null),E(e,n),E(e,r),E(r,s),E(r,o),E(r,a),E(r,c),E(r,f),d=!0},p(p,g){var k;(!d||g&48)&&l!==(l=Math.abs(((k=p[4])==null?void 0:k.length)||0-Object.keys(p[5]||{}).length)+"")&&oe(o,l),(!d||g&32)&&u!==(u=Object.keys(p[5]||{}).length+"")&&oe(c,u)},i(p){d||(_(t.$$.fragment,p),d=!0)},o(p){v(t.$$.fragment,p),d=!1},d(p){p&&y(e),M(t)}}}function U8(i){let e,t;return e=new Gn({props:{emoji:"\u{1F9E2}",title:"Not enough data",description:"Unable to find enough data to look at relations."}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function w9e(i){let e,t,n;return t=new tH({}),{c(){e=A("span"),O(t.$$.fragment),h(e,"class","text-gray-500 dark:text-gray-500 fill-current")},m(r,s){w(r,e,s),N(t,e,null),n=!0},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function $9e(i){let e,t,n;return t=new $P({}),{c(){e=A("span"),O(t.$$.fragment),h(e,"class","text-primary-500 fill-current")},m(r,s){w(r,e,s),N(t,e,null),n=!0},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function q8(i){let e,t,n,r,s,l,o;function a(...m){return i[11](i[22],...m)}const u=[$9e,w9e],c=[];function f(m,p){return p&20&&(t=null),t==null&&(t=!!m[2].find(a)),t?0:1}n=f(i,-1),r=c[n]=u[n](i);function d(){return i[13](i[22])}return{c(){e=A("button"),r.c(),h(e,"class","")},m(m,p){w(m,e,p),c[n].m(e,null),s=!0,l||(o=ke(e,"click",d),l=!0)},p(m,p){i=m;let g=n;n=f(i,p),n!==g&&(ie(),v(c[g],1,1,()=>{c[g]=null}),re(),r=c[n],r||(r=c[n]=u[n](i),r.c()),_(r,1),r.m(e,null))},i(m){s||(_(r),s=!0)},o(m){v(r),s=!1},d(m){m&&y(e),c[n].d(),l=!1,o()}}}function H8(i,e){let t,n,r,s,l,o,a=e[22].trackable.tag+"",u,c,f,d,m,p=(e[22].score*100).toFixed(1)+"",g,k,$,D,F=e[2],C,S,P,I;s=new fi({props:{trackable:e[22].trackable,size:20}}),$=new Kr({props:{className:"w-full h-2 dark:bg-gray-900 bg-gray-200",barClass:"mx-auto",percentage:e[22].percent,color:e[22].score>0?"green":"red"}});function R(){return e[12](e[22])}let B=q8(e);return{key:i,first:null,c(){t=A("div"),n=A("button"),r=A("div"),O(s.$$.fragment),l=Y(),o=A("span"),u=Z(a),c=Y(),f=A("div"),d=Y(),m=A("span"),g=Z(p),k=Y(),O($.$$.fragment),D=Y(),B.c(),C=Y(),h(o,"class","ml-2 w-full line-clamp-1 text-xs font-semibold text-black dark:text-white"),h(f,"class","filler"),h(m,"class","text-gray-500 text-sm"),h(r,"class","flex items-center justify-center mb-1 w-full"),h(n,"class","w-full flex flex-col items-center justify-center px-4 py-2"),h(t,"class","flex items-center w-full"),this.first=t},m(z,q){w(z,t,q),E(t,n),E(n,r),N(s,r,null),E(r,l),E(r,o),E(o,u),E(r,c),E(r,f),E(r,d),E(r,m),E(m,g),E(n,k),N($,n,null),E(t,D),B.m(t,null),E(t,C),S=!0,P||(I=ke(n,"click",R),P=!0)},p(z,q){e=z;const H={};q&16&&(H.trackable=e[22].trackable),s.$set(H),(!S||q&16)&&a!==(a=e[22].trackable.tag+"")&&oe(u,a),(!S||q&16)&&p!==(p=(e[22].score*100).toFixed(1)+"")&&oe(g,p);const K={};q&16&&(K.percentage=e[22].percent),q&16&&(K.color=e[22].score>0?"green":"red"),$.$set(K),q&4&&le(F,F=e[2])?(ie(),v(B,1,1,W),re(),B=q8(e),B.c(),_(B,1),B.m(t,C)):B.p(e,q)},i(z){S||(_(s.$$.fragment,z),_($.$$.fragment,z),_(B),S=!0)},o(z){v(s.$$.fragment,z),v($.$$.fragment,z),v(B),S=!1},d(z){z&&y(t),M(s),M($),B.d(z),P=!1,I()}}}function F9e(i){let e=i[2],t,n,r,s,l=[],o=new Map,a,u,c=j8(i),f=i[3]&&Y8(i),d=!i[4].length&&!i[3]&&U8(),m=i[4];const p=g=>g[22].trackable.tag;for(let g=0;g<m.length;g+=1){let k=R8(i,m,g),$=p(k);o.set($,l[g]=H8($,k))}return{c(){c.c(),t=Y(),n=A("div"),f&&f.c(),r=Y(),d&&d.c(),s=Y();for(let g=0;g<l.length;g+=1)l[g].c();h(n,"class",a="compare-view px-2 pt-2 "+i[0]),h(n,"style",i[1])},m(g,k){c.m(g,k),w(g,t,k),w(g,n,k),f&&f.m(n,null),E(n,r),d&&d.m(n,null),E(n,s);for(let $=0;$<l.length;$+=1)l[$].m(n,null);u=!0},p(g,[k]){k&4&&le(e,e=g[2])?(ie(),v(c,1,1,W),re(),c=j8(g),c.c(),_(c,1),c.m(t.parentNode,t)):c.p(g,k),g[3]?f?(f.p(g,k),k&8&&_(f,1)):(f=Y8(g),f.c(),_(f,1),f.m(n,r)):f&&(ie(),v(f,1,1,()=>{f=null}),re()),!g[4].length&&!g[3]?d?k&24&&_(d,1):(d=U8(),d.c(),_(d,1),d.m(n,s)):d&&(ie(),v(d,1,1,()=>{d=null}),re()),k&148&&(m=g[4],ie(),l=qn(l,k,p,1,g,m,o,n,Ci,H8,null,R8),re()),(!u||k&1&&a!==(a="compare-view px-2 pt-2 "+g[0]))&&h(n,"class",a),(!u||k&2)&&h(n,"style",g[1])},i(g){if(!u){_(c),_(f),_(d);for(let k=0;k<m.length;k+=1)_(l[k]);u=!0}},o(g){v(c),v(f),v(d);for(let k=0;k<l.length;k+=1)v(l[k]);u=!1},d(g){c.d(g),g&&y(t),g&&y(n),f&&f.d(),d&&d.d();for(let k=0;k<l.length;k+=1)l[k].d()}}}function E9e(i,e,t){let n;Ee(i,It,B=>t(16,n=B));let{className:r=""}=e,{style:s=""}=e,{trackable:l}=e,o=[],a=!1,u=!1,c=[],f,d,m,p=we().subtract(1.5,"month");const g=B=>{const z=Object.keys(B).map(K=>B[K].score);let q=ht.max(z),H=ht.min(z);Object.keys(B).map((K,G)=>{let U=B[K].score;U>0?B[K].percent=ht.percentage(q,U):U<0&&(B[K].percent=ht.percentage(q,-U))}),t(4,c=Object.keys(B).map(K=>B[K]).sort((K,G)=>K.score<G.score?1:-1).filter(K=>K.score>0?ht.percentage(q,K.score)>50:K.score<0?ht.percentage(H,K.score)>50:!1))};let k;async function $(){var q;t(3,u=!0),t(4,c=[]);const B=n.trackables,z=await Ut.query({start:p,end:we(new Date)});t(5,k=Ms(z,{trackables:B})),Object.keys(k).map(H=>{k[H].values.length<7&&delete k[H]});try{let H=(q=k[l.tag])==null?void 0:q.values.filter(Q=>!isNaN(Q)).length;H?(m=k[l.tag],d=F(k[l.tag],m.firstDate,m.lastDate),D(d)):t(3,u=!1);const K={tag:l.tag,values:(d==null?void 0:d.values)||[],dates:d==null?void 0:d.dates.map(Q=>Q.toJSON()),compareTo:{}},G=Q=>{const V=k[Q].values.filter(J=>!isNaN(J)).length,x=k[Q],ee=ht.percentage(H,V);if(Q!==l.tag&&ee>20){const J=F(x,m.firstDate,m.lastDate);K.compareTo[Q]=J.values}},U=Object.keys(k);if(d){U.forEach(V=>{G(V)});let Q=new b9e;Q.onmessage=V=>{let x=V.data,ee={};x.map((J,se)=>{let te=J.score;ee[J.tag]={score:te,percent:0,negative:te<0,trackable:k[J.tag].trackable,usage:k[J.tag]}}),g(ee)},Q.postMessage(K)}}catch(H){console.error(H),t(4,c=[])}t(3,u=!1)}const D=B=>{const z=B.byDay.averaged;o.push(z),t(2,o)},F=(B,z,q)=>{let H=z||p.toDate(),K=q||new Date;return B.byDay.backfill(H,K)};let C=!1;const S=async B=>{t(6,C=!0),o.find(z=>z.trackable.tag===B.trackable.tag)?(t(2,o=o.filter(z=>z.trackable.tag!==B.trackable.tag)),t(2,o)):D(B.usage.byDay.backfill()),await Et(100),t(6,C=!1)};wt(()=>{t(3,u=!0),t(9,a=!0)});const P=(B,z)=>z.trackable.tag===B.trackable.tag,I=B=>{Ui(B.trackable,{title:`${B.trackable.label}`})},R=B=>S(B);return i.$$set=B=>{"className"in B&&t(0,r=B.className),"style"in B&&t(1,s=B.style),"trackable"in B&&t(8,l=B.trackable)},i.$$.update=()=>{i.$$.dirty&1792&&a&&f!==l&&(t(10,f=l),$())},[r,s,o,u,c,k,C,S,l,a,f,P,I,R]}class D9e extends ce{constructor(e){super(),ue(this,e,E9e,F9e,le,{className:0,style:1,trackable:8})}}function C9e(i){let e;return{c(){e=A("div"),e.textContent="No Data",h(e,"class","h-40 flex items-center justify-center text-gray-500")},m(t,n){w(t,e,n)},p:W,i:W,o:W,d(t){t&&y(e)}}}function S9e(i){let e;return{c(){e=A("div"),h(e,"class","skeleton-item h-40 w-full bg-white rounded-lg dark:bg-gray-900")},m(t,n){w(t,e,n)},p:W,i:W,o:W,d(t){t&&y(e)}}}function T9e(i){let e,t;return e=new v_({props:{id:`usage-${pn(i[4].trackable.tag)}`,hideValues:!1,className:"h-40 max-h-40 lg:max-h-42 ",usages:[i[4]],type:"bar"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&16&&(s.id=`usage-${pn(n[4].trackable.tag)}`),r&16&&(s.usages=[n[4]]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function A9e(i){let e;return{c(){e=A("span"),e.textContent="Loading...",h(e,"class","text-gray-500")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function P9e(i){let e=i[3].trackable.formatValue(i[3].average)+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p(n,r){r&8&&e!==(e=n[3].trackable.formatValue(n[3].average)+"")&&oe(t,e)},d(n){n&&y(t)}}}function N9e(i){let e;return{c(){e=A("span"),e.textContent="Loading...",h(e,"class","text-gray-500")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function M9e(i){let e=i[1].displayValue+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p(n,r){r&2&&e!==(e=n[1].displayValue+"")&&oe(t,e)},d(n){n&&y(t)}}}function L9e(i){let e,t,n;return{c(){e=A("div"),t=Y(),n=A("div"),h(e,"class","skeleton-item w-full h-14"),h(n,"class","skeleton-item w-full h-14")},m(r,s){w(r,e,s),w(r,t,s),w(r,n,s)},p:W,i:W,o:W,d(r){r&&y(e),r&&y(t),r&&y(n)}}}function O9e(i){let e,t;return e=new Ft({props:{solo:!0,className:"w-full bright",$$slots:{default:[G9e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&65611&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function I9e(i){let e,t;return e=new xe({props:{bottomLine:18,className:"dark:bg-black bg-white shadow-md h-24 rounded-xl",$$slots:{right:[z9e],default:[B9e]},$$scope:{ctx:i}}}),e.$on("click",i[12]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&65537&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function B9e(i){let e,t=we(i[8].last.d).format(i[7].mmm_d_yyyy)+"",n;return{c(){e=Z("Latest: "),n=Z(t)},m(r,s){w(r,e,s),w(r,n,s)},p:W,d(r){r&&y(e),r&&y(n)}}}function z9e(i){let e,t=i[0].formatValue(i[8].last.v,!0)+"",n;return{c(){e=A("div"),n=Z(t),h(e,"slot","right")},m(r,s){w(r,e,s),E(e,n)},p(r,s){s&1&&t!==(t=r[0].formatValue(r[8].last.v,!0)+"")&&oe(n,t)},d(r){r&&y(e)}}}function R9e(i){let e;return{c(){e=A("strong"),e.textContent="Max"},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function W8(i){let e,t;return e=new lu({props:{className:"pad",$$slots:{default:[j9e]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&65544&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function j9e(i){let e=we(i[3].max.date).format(i[7].mmm_d_yyyy)+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p(n,r){r&8&&e!==(e=we(n[3].max.date).format(n[7].mmm_d_yyyy)+"")&&oe(t,e)},d(n){n&&y(t)}}}function Y9e(i){let e,t,n,r=(i[3].max?i[0].formatValue(i[3].max.value):"0")+"",s,l,o=i[3].max&&W8(i);return{c(){e=A("div"),o&&o.c(),t=Y(),n=A("span"),s=Z(r),h(e,"slot","right"),h(e,"class","item-center space-x-2 flex")},m(a,u){w(a,e,u),o&&o.m(e,null),E(e,t),E(e,n),E(n,s),l=!0},p(a,u){a[3].max?o?(o.p(a,u),u&8&&_(o,1)):(o=W8(a),o.c(),_(o,1),o.m(e,t)):o&&(ie(),v(o,1,1,()=>{o=null}),re()),(!l||u&9)&&r!==(r=(a[3].max?a[0].formatValue(a[3].max.value):"0")+"")&&oe(s,r)},i(a){l||(_(o),l=!0)},o(a){v(o),l=!1},d(a){a&&y(e),o&&o.d()}}}function U9e(i){let e;return{c(){e=A("strong"),e.textContent="Min"},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function q9e(i){let e=(i[3].min?we(i[3].min.date).format(i[7].mmm_d_yyyy):"")+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p(n,r){r&8&&e!==(e=(n[3].min?we(n[3].min.date).format(n[7].mmm_d_yyyy):"")+"")&&oe(t,e)},d(n){n&&y(t)}}}function H9e(i){let e,t,n,r,s=(i[3].min?i[0].formatValue(i[3].min.value):"")+"",l,o;return t=new lu({props:{className:"pad",$$slots:{default:[q9e]},$$scope:{ctx:i}}}),{c(){e=A("div"),O(t.$$.fragment),n=Y(),r=A("span"),l=Z(s),h(e,"slot","right"),h(e,"class","item-center space-x-2 flex")},m(a,u){w(a,e,u),N(t,e,null),E(e,n),E(e,r),E(r,l),o=!0},p(a,u){const c={};u&65544&&(c.$$scope={dirty:u,ctx:a}),t.$set(c),(!o||u&9)&&s!==(s=(a[3].min?a[0].formatValue(a[3].min.value):"")+"")&&oe(l,s)},i(a){o||(_(t.$$.fragment,a),o=!0)},o(a){v(t.$$.fragment,a),o=!1},d(a){a&&y(e),M(t)}}}function W9e(i){let e;return{c(){e=A("strong"),e.textContent="Score"},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function V9e(i){let e,t=i[1].getTotalScore(i[6])+"",n,r,s=Eo(i[1].getTotalScore(i[6])>0?1:i[1].getTotalScore(i[6])<0?-1:0,!0)+"",l;return{c(){e=A("div"),n=Z(t),r=Y(),l=Z(s),h(e,"slot","right")},m(o,a){w(o,e,a),E(e,n),E(e,r),E(e,l)},p(o,a){a&66&&t!==(t=o[1].getTotalScore(o[6])+"")&&oe(n,t),a&66&&s!==(s=Eo(o[1].getTotalScore(o[6])>0?1:o[1].getTotalScore(o[6])<0?-1:0,!0)+"")&&oe(l,s)},d(o){o&&y(e)}}}function G9e(i){let e,t,n,r,s,l,o,a=i[8]&&I9e(i);return t=new xe({props:{bottomLine:18,detail:!0,$$slots:{right:[Y9e],default:[R9e]},$$scope:{ctx:i}}}),t.$on("click",i[13]),r=new xe({props:{bottomLine:18,detail:!0,$$slots:{right:[H9e],default:[U9e]},$$scope:{ctx:i}}}),r.$on("click",i[14]),l=new xe({props:{$$slots:{right:[V9e],default:[W9e]},$$scope:{ctx:i}}}),{c(){a&&a.c(),e=Y(),O(t.$$.fragment),n=Y(),O(r.$$.fragment),s=Y(),O(l.$$.fragment)},m(u,c){a&&a.m(u,c),w(u,e,c),N(t,u,c),w(u,n,c),N(r,u,c),w(u,s,c),N(l,u,c),o=!0},p(u,c){u[8]&&a.p(u,c);const f={};c&65545&&(f.$$scope={dirty:c,ctx:u}),t.$set(f);const d={};c&65545&&(d.$$scope={dirty:c,ctx:u}),r.$set(d);const m={};c&65602&&(m.$$scope={dirty:c,ctx:u}),l.$set(m)},i(u){o||(_(a),_(t.$$.fragment,u),_(r.$$.fragment,u),_(l.$$.fragment,u),o=!0)},o(u){v(a),v(t.$$.fragment,u),v(r.$$.fragment,u),v(l.$$.fragment,u),o=!1},d(u){a&&a.d(u),u&&y(e),M(t,u),u&&y(n),M(r,u),u&&y(s),M(l,u)}}}function Z9e(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p,g,k,$,D,F,C;const S=[T9e,S9e,C9e],P=[];function I(V,x){return V[4]?0:V[5].loading?1:2}t=I(i),n=P[t]=S[t](i);function R(V,x){return V[3]?P9e:A9e}let B=R(i),z=B(i);function q(V,x){return V[1]?M9e:N9e}let H=q(i),K=H(i);const G=[O9e,L9e],U=[];function Q(V,x){return V[1]&&V[3]?0:1}return $=Q(i),D=U[$]=G[$](i),{c(){e=A("div"),n.c(),s=Y(),l=A("main"),o=A("div"),a=A("strong"),a.textContent="Daily Avg",u=Y(),c=A("div"),z.c(),f=Y(),d=A("div"),m=A("strong"),m.textContent="Total",p=Y(),g=A("div"),K.c(),k=Y(),D.c(),F=$e(),h(e,"class",r="bg-white p-2 dark:bg-black relative "+i[2]),h(a,"class","text-sm font-semibold"),h(c,"class","text-2xl line-clamp-1 font-semibold bg-white shadow-md dark:bg-black rounded-md px-4 py-2 mt-1"),h(o,"class","h-auto text-center"),h(m,"class","text-sm font-semibold"),h(g,"class","text-2xl line-clamp-1 font-semibold bg-white shadow-md dark:bg-black rounded-md px-4 py-2 mt-1"),h(d,"class","text-center"),h(l,"class","grid grid-cols-2 gap-2 dark:text-white")},m(V,x){w(V,e,x),P[t].m(e,null),w(V,s,x),w(V,l,x),E(l,o),E(o,a),E(o,u),E(o,c),z.m(c,null),E(l,f),E(l,d),E(d,m),E(d,p),E(d,g),K.m(g,null),w(V,k,x),U[$].m(V,x),w(V,F,x),C=!0},p(V,[x]){let ee=t;t=I(V),t===ee?P[t].p(V,x):(ie(),v(P[ee],1,1,()=>{P[ee]=null}),re(),n=P[t],n?n.p(V,x):(n=P[t]=S[t](V),n.c()),_(n,1),n.m(e,null)),(!C||x&4&&r!==(r="bg-white p-2 dark:bg-black relative "+V[2]))&&h(e,"class",r),B===(B=R(V))&&z?z.p(V,x):(z.d(1),z=B(V),z&&(z.c(),z.m(c,null))),H===(H=q(V))&&K?K.p(V,x):(K.d(1),K=H(V),K&&(K.c(),K.m(g,null)));let J=$;$=Q(V),$===J?U[$].p(V,x):(ie(),v(U[J],1,1,()=>{U[J]=null}),re(),D=U[$],D?D.p(V,x):(D=U[$]=G[$](V),D.c()),_(D,1),D.m(F.parentNode,F))},i(V){C||(_(n),_(D),C=!0)},o(V){v(n),v(D),C=!1},d(V){V&&y(e),P[t].d(),V&&y(s),V&&y(l),z.d(),K.d(),V&&y(k),U[$].d(V),V&&y(F)}}}function x9e(i,e,t){let n,r;Ee(i,ll,F=>t(5,n=F)),Ee(i,jr,F=>t(6,r=F));let{trackable:s}=e,{usage:l}=e,{className:o=""}=e;const a=Pn();let u,c;const f=async F=>{const C=F.last.d,S=F.logId,I=(await Ut.query({start:we(C).startOf("day"),end:we(C).endOf("day")})).find(R=>R._id===S);I&&gc(I)},d=async()=>{t(4,g=void 0),await Et(10);let F=new $r({...l,trackable:s});t(3,u=F.byDay),n.time==="1y"?F=F.groupBy("month","YYYY-MM-W"):F=F.byDay;const C=Kd(n.endDate,n.time);F=F.backfill(C.start.toDate(),C.end.toDate()),t(4,g=F)};let m="",p=!1,g;wt(()=>{t(11,p=!0)});const k=()=>{f(c)},$=()=>{let F=u.max.date;Oa(F.toDate())},D=()=>{Oa(u.min.date.toDate())};return i.$$set=F=>{"trackable"in F&&t(0,s=F.trackable),"usage"in F&&t(1,l=F.usage),"className"in F&&t(2,o=F.className)},i.$$.update=()=>{i.$$.dirty&3074&&Fn(l)!==m&&p&&(t(10,m=Fn(l)),d())},[s,l,o,u,g,n,r,a,c,f,m,p,k,$,D]}class X9e extends ce{constructor(e){super(),ue(this,e,x9e,Z9e,le,{trackable:0,usage:1,className:2})}}const K9e={d:{type:"d",label:"Day",unit:"day",format:"YYYY-MM-DD",groupByFormat:"YYYY-MM-DD"},w:{type:"w",label:"Week",unit:"week",format:"YYYY-MM-W",groupByFormat:"YYYY-MM-W"},m:{type:"m",label:"Month",unit:"month",format:"YYYY-MM-DD",groupByFormat:"YYYY-MM-DD"},"3m":{type:"3m",label:"3 Months",unit:"day",format:"YYYY-MM-DD",groupByFormat:"YYYY-MM-DD"},"6m":{type:"6m",label:"6 Months",unit:"month",format:"YYYY-MM-DD",groupByFormat:"YYYY-MM-W"},"1y":{type:"1y",label:"1 year",unit:"year",format:"YYYY-MM-DD",groupByFormat:"YYYY-MM-W"}},J9e=()=>({sun:Array(24).fill(0),mon:Array(24).fill(0),tue:Array(24).fill(0),wed:Array(24).fill(0),thu:Array(24).fill(0),fri:Array(24).fill(0),sat:Array(24).fill(0)}),Q9e=i=>i==="monday"?["mon","tue","wed","thu","fri","sat","sun"]:["sun","mon","tue","wed","thu","fri","sat"],eTe=(i,e,t)=>{let n=0,r=Q9e(e),s=J9e();return i.forEach(o=>{var c;let a=Nn(o.endDayjs().format("H")),u=o.endDayjs().format("ddd").toLowerCase();if(((c=t.tracker)==null?void 0:c.type)=="timer"){let f=o.getTrackerValue(t.tracker.tag),d=ht.round(f?f/60/60:0);if(d)for(let m=1;m<d;m++){let p=a-m,g=o.endDayjs().subtract(p,"hour").format("ddd").toLowerCase();s[g][p]=s[g][p]+1}}s[u][a]=s[u][a]+1,n<s[u][a]&&(n=s[u][a])}),{grid:r.map(o=>({daykey:o,day:s[o]})),meta:{max:n}}};function V8(i,e,t){const n=i.slice();return n[10]=e[t],n[12]=t,n}function G8(i,e,t){const n=i.slice();return n[13]=e[t],n}function Z8(i,e,t){const n=i.slice();return n[16]=e[t],n}function x8(i){let e,t;return{c(){e=A("div"),h(e,"class",t="hour bg-white w-full "+(i[16]===0?"empty-hour":"active-hour")),nt(e,"--percent",ht.percentage(i[4],i[16])/100)},m(n,r){w(n,e,r)},p(n,r){r&8&&t!==(t="hour bg-white w-full "+(n[16]===0?"empty-hour":"active-hour"))&&h(e,"class",t),r&24&&nt(e,"--percent",ht.percentage(n[4],n[16])/100)},d(n){n&&y(e)}}}function X8(i){let e,t,n=i[13].daykey+"",r,s,l=i[13].day,o=[];for(let a=0;a<l.length;a+=1)o[a]=x8(Z8(i,l,a));return{c(){e=A("div"),t=A("div"),r=Z(n),s=Y();for(let a=0;a<o.length;a+=1)o[a].c();h(t,"class","day-label"),h(e,"class","day flex row w-full justify-evenly text-xs")},m(a,u){w(a,e,u),E(e,t),E(t,r),E(e,s);for(let c=0;c<o.length;c+=1)o[c].m(e,null)},p(a,u){if(u&8&&n!==(n=a[13].daykey+"")&&oe(r,n),u&24){l=a[13].day;let c;for(c=0;c<l.length;c+=1){const f=Z8(a,l,c);o[c]?o[c].p(f,u):(o[c]=x8(f),o[c].c(),o[c].m(e,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=l.length}},d(a){a&&y(e),it(o,a)}}}function K8(i){let e,t=i[5](i[12])+"",n,r;return{c(){e=A("div"),n=Z(t),r=Y(),h(e,"class","hour-label overflow-hidden")},m(s,l){w(s,e,l),E(e,n),E(e,r)},p:W,d(s){s&&y(e)}}}function tTe(i){let e,t,n,r,s,l,o=i[3],a=[];for(let f=0;f<o.length;f+=1)a[f]=X8(G8(i,o,f));let u=Array(24).fill(0),c=[];for(let f=0;f<u.length;f+=1)c[f]=K8(V8(i,u,f));return{c(){e=A("div"),t=A("div");for(let f=0;f<a.length;f+=1)a[f].c();n=Y(),r=A("div");for(let f=0;f<c.length;f+=1)c[f].c();h(r,"class","day-legend flex items-center ml-6 mt-1 text-opacity-50 text-black dark:text-white"),h(t,"class","time-grid-wrap relative z-40"),h(e,"class",s="time-grid "+i[1]),h(e,"style",l="--color:"+i[0].color+"; "+i[2])},m(f,d){w(f,e,d),E(e,t);for(let m=0;m<a.length;m+=1)a[m].m(t,null);E(t,n),E(t,r);for(let m=0;m<c.length;m+=1)c[m].m(r,null)},p(f,[d]){if(d&24){o=f[3];let m;for(m=0;m<o.length;m+=1){const p=G8(f,o,m);a[m]?a[m].p(p,d):(a[m]=X8(p),a[m].c(),a[m].m(t,n))}for(;m<a.length;m+=1)a[m].d(1);a.length=o.length}if(d&32){u=Array(24).fill(0);let m;for(m=0;m<u.length;m+=1){const p=V8(f,u,m);c[m]?c[m].p(p,d):(c[m]=K8(p),c[m].c(),c[m].m(r,null))}for(;m<c.length;m+=1)c[m].d(1);c.length=u.length}d&2&&s!==(s="time-grid "+f[1])&&h(e,"class",s),d&5&&l!==(l="--color:"+f[0].color+"; "+f[2])&&h(e,"style",l)},i:W,o:W,d(f){f&&y(e),it(a,f),it(c,f)}}}function nTe(i,e,t){let n,r;Ee(i,Hn,m=>t(7,n=m)),Ee(i,St,m=>t(8,r=m));let{usage:s}=e,{trackable:l}=e,{className:o=""}=e,{style:a=""}=e,u=[],c=0;const f=()=>{const m=eTe(s.logs,r.weekStarts,l);t(3,u=m.grid),t(4,c=m.meta.max)},d=m=>{if(r.use24hour)return m;{let p=we().hour(m).format("h");return n.width<340&&m%2,p}};return i.$$set=m=>{"usage"in m&&t(6,s=m.usage),"trackable"in m&&t(0,l=m.trackable),"className"in m&&t(1,o=m.className),"style"in m&&t(2,a=m.style)},i.$$.update=()=>{i.$$.dirty&64&&s&&f()},[l,o,a,u,c,d,s]}class iTe extends ce{constructor(e){super(),ue(this,e,nTe,tTe,le,{usage:6,trackable:0,className:1,style:2})}}function rTe(i,e=null,t="sum"){let n={mon:{count:0,values:[],percent:0},tue:{count:0,values:[],percent:0},wed:{count:0,values:[],percent:0},thu:{count:0,values:[],percent:0},fri:{count:0,values:[],percent:0},sat:{count:0,values:[],percent:0},sun:{count:0,values:[],percent:0}};i.forEach(l=>{let o=we(l.end).format("ddd").toLowerCase(),a=n[o];a&&(a.count++,a.values.push(e?l.getTrackerValue(e,t):1))});let r=Object.keys(n).map(l=>n[l].count),s=ht.percentile(r);return Object.keys(n).forEach((l,o)=>{n[l].percent=s[o],n[l].total=t=="sum"?ht.sum(n[l].values):ht.average(n[l].valuels)}),n}function sTe(i){let e,t,n=i[1].label+"",r,s,l,o,a,u,c,f,d=i[1].label+"",m,p,g,k,$,D;return a=new gz({props:{id:"dow",chartjsPayload:{type:"bar",data:i[3](),options:{scales:{y:{beginAtZero:!1,type:"logarithmic",ticks:{display:!1}}},responsive:!0,plugins:{legend:{display:!1}}}}}}),$=new iTe({props:{usage:i[0],trackable:i[1],className:"rounded-lg shadow-md"}}),{c(){e=A("div"),t=A("h2"),r=Z(n),s=Z(" by day of week"),l=Y(),o=A("div"),O(a.$$.fragment),u=Y(),c=A("div"),f=A("h2"),m=Z(d),p=Z(" by day and hour"),g=Y(),k=A("div"),O($.$$.fragment),h(t,"class","ntitle mb-4 px-2 pt-2 text-center"),h(o,"class","stiff"),h(e,"class","p-2 h-42 bg-white dark:bg-black rounded-lg shadow-md"),h(f,"class","ntitle mb-4 px-2 pt-2 text-center"),h(k,"class","overflow-hidden w-full"),h(c,"class","p-2 h-40 overflow-hidden bg-white dark:bg-black rounded-lg shadow-md")},m(F,C){w(F,e,C),E(e,t),E(t,r),E(t,s),E(e,l),E(e,o),N(a,o,null),w(F,u,C),w(F,c,C),E(c,f),E(f,m),E(f,p),E(c,g),E(c,k),N($,k,null),D=!0},p(F,C){(!D||C&2)&&n!==(n=F[1].label+"")&&oe(r,n),(!D||C&2)&&d!==(d=F[1].label+"")&&oe(m,d);const S={};C&1&&(S.usage=F[0]),C&2&&(S.trackable=F[1]),$.$set(S)},i(F){D||(_(a.$$.fragment,F),_($.$$.fragment,F),D=!0)},o(F){v(a.$$.fragment,F),v($.$$.fragment,F),D=!1},d(F){F&&y(e),M(a),F&&y(u),F&&y(c),M($)}}}function lTe(i){let e,t,n;return{c(){e=A("div"),t=Y(),n=A("div"),h(e,"class","skeleton-item h-36 bg-white dark:bg-black rounded-lg"),h(n,"class","skeleton-item h-48 bg-white dark:bg-black rounded-lg")},m(r,s){w(r,e,s),w(r,t,s),w(r,n,s)},p:W,i:W,o:W,d(r){r&&y(e),r&&y(t),r&&y(n)}}}function oTe(i){let e,t,n,r;const s=[lTe,sTe],l=[];function o(a,u){return a[2]?0:1}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=$e()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,[u]){let c=e;e=o(a),e===c?l[e].p(a,u):(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function aTe(i,e,t){let n;Ee(i,St,m=>t(8,n=m));let{logs:r}=e,{usage:s}=e,{trackable:l}=e,o,a=!0,u="";const c=()=>({labels:[n.weekStarts=="sunday"?"Sun":null,"Mon","Tue","Wed","Thu","Fri","Sat",n.weekStarts=="monday"?"Sun":null].filter(m=>m),datasets:[{backgroundColor:l.color,barPercentage:.9,borderRadius:100,minBarLength:10,data:[n.weekStarts=="sunday"?o.sun.percent:null,o.mon.percent,o.tue.percent,o.wed.percent,o.thu.percent,o.fri.percent,o.sat.percent,n.weekStarts=="monday"?o.sun.percent:null].filter(m=>m)}]});let f=!1;const d=async()=>{f||(f=!0,t(2,a=!0),o=rTe(r),await Et(10),t(2,a=!1),f=!1)};return i.$$set=m=>{"logs"in m&&t(4,r=m.logs),"usage"in m&&t(0,s=m.usage),"trackable"in m&&t(1,l=m.trackable)},i.$$.update=()=>{i.$$.dirty&48&&Fn(r)!==u&&(t(5,u=Fn(r)),d())},[s,l,a,c,r,u]}class uTe extends ce{constructor(e){super(),ue(this,e,aTe,oTe,le,{logs:4,usage:0,trackable:1})}}function J8(i){let e,t,n;function r(l){i[12](l)}let s={lock:!0,className:"rounded-lg overflow-hidden shadow-lg"};return i[0].logs!==void 0&&(s.records=i[0].logs),e=new Yc({props:s}),De.push(()=>Ue(e,"records",r,i[0].logs)),{c(){O(e.$$.fragment)},m(l,o){N(e,l,o),n=!0},p(l,o){const a={};!t&&o&1&&(t=!0,a.records=l[0].logs,qe(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){M(e,l)}}}function cTe(i){let e,t,n;return{c(){e=A("button"),e.innerHTML='<span class="text-primary-500">Find Related...</span>',h(e,"class","w-full text-primary-500 py-20"),h(e,"title","Find potentially related trackables")},m(r,s){w(r,e,s),t||(n=ke(e,"click",i[13]),t=!0)},p:W,i:W,o:W,d(r){r&&y(e),t=!1,n()}}}function fTe(i){let e,t;return e=new D9e({props:{trackable:i[0].trackable}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.trackable=n[0].trackable),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function dTe(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p,g,k;t=new X9e({props:{className:"-mx-2",trackable:i[0].trackable,usage:i[0].usage}});function $(I){i[11](I)}let D={trackable:i[0].trackable,usage:i[0].usage};i[0].logs!==void 0&&(D.logs=i[0].logs),r=new uTe({props:D}),De.push(()=>Ue(r,"logs",$,i[0].logs));let F=!i[0].loading&&J8(i);const C=[fTe,cTe],S=[];function P(I,R){return I[1]?0:1}return d=P(i),m=S[d]=C[d](i),{c(){e=A("section"),O(t.$$.fragment),n=Y(),O(r.$$.fragment),l=Y(),o=A("div"),F&&F.c(),u=Y(),c=A("section"),f=A("div"),m.c(),p=Y(),g=A("div"),h(o,"class",a="map-wrap rounded-md h-60 shadow-md "+(i[0].loading?"skeleton-item":"")),h(e,"class","pt-2 px-3 w-full grid grid-cols-1 pb-4 overflow-y-auto gap-4 relative bg-gray-200 dark:bg-gray-800"),h(f,"class","related bg-white dark:bg-black rounded-xl shadow-lg border-gray-500 border-opacity-20"),h(c,"class","px-3 w-full"),h(g,"class","h-10")},m(I,R){w(I,e,R),N(t,e,null),E(e,n),N(r,e,null),E(e,l),E(e,o),F&&F.m(o,null),w(I,u,R),w(I,c,R),E(c,f),S[d].m(f,null),w(I,p,R),w(I,g,R),k=!0},p(I,R){const B={};R&1&&(B.trackable=I[0].trackable),R&1&&(B.usage=I[0].usage),t.$set(B);const z={};R&1&&(z.trackable=I[0].trackable),R&1&&(z.usage=I[0].usage),!s&&R&1&&(s=!0,z.logs=I[0].logs,qe(()=>s=!1)),r.$set(z),I[0].loading?F&&(ie(),v(F,1,1,()=>{F=null}),re()):F?(F.p(I,R),R&1&&_(F,1)):(F=J8(I),F.c(),_(F,1),F.m(o,null)),(!k||R&1&&a!==(a="map-wrap rounded-md h-60 shadow-md "+(I[0].loading?"skeleton-item":"")))&&h(o,"class",a);let q=d;d=P(I),d===q?S[d].p(I,R):(ie(),v(S[q],1,1,()=>{S[q]=null}),re(),m=S[d],m?m.p(I,R):(m=S[d]=C[d](I),m.c()),_(m,1),m.m(f,null))},i(I){k||(_(t.$$.fragment,I),_(r.$$.fragment,I),_(F),_(m),k=!0)},o(I){v(t.$$.fragment,I),v(r.$$.fragment,I),v(F),v(m),k=!1},d(I){I&&y(e),M(t),M(r),F&&F.d(),I&&y(u),I&&y(c),S[d].d(),I&&y(p),I&&y(g)}}}function hTe(i){let e;return{c(){e=A("div"),e.textContent="Loading...",h(e,"class","ntitle")},m(t,n){w(t,e,n)},p:W,i:W,o:W,d(t){t&&y(e)}}}function mTe(i){let e,t;return e=new Sr({props:{className:"space-x-2",$$slots:{default:[gTe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&131073&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function pTe(i){let e,t;return e=new je({props:{icon:gl,size:28,className:"text-primary-500"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function _Te(i){let e,t;return e=new je({props:{icon:w0,size:28,className:"text-primary-500"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function gTe(i){let e,t,n,r,s,l;return e=new Me({props:{icon:!0,$$slots:{default:[pTe]},$$scope:{ctx:i}}}),e.$on("click",i[3]),n=new ms({props:{className:"",compact:!0,value:i[0].time,buttons:Object.keys(K9e).map(i[7])}}),s=new Me({props:{icon:!0,$$slots:{default:[_Te]},$$scope:{ctx:i}}}),s.$on("click",i[8]),{c(){O(e.$$.fragment),t=Y(),O(n.$$.fragment),r=Y(),O(s.$$.fragment)},m(o,a){N(e,o,a),w(o,t,a),N(n,o,a),w(o,r,a),N(s,o,a),l=!0},p(o,a){const u={};a&131072&&(u.$$scope={dirty:a,ctx:o}),e.$set(u);const c={};a&1&&(c.value=o[0].time),n.$set(c);const f={};a&131072&&(f.$$scope={dirty:a,ctx:o}),s.$set(f)},i(o){l||(_(e.$$.fragment,o),_(n.$$.fragment,o),_(s.$$.fragment,o),l=!0)},o(o){v(e.$$.fragment,o),v(n.$$.fragment,o),v(s.$$.fragment,o),l=!1},d(o){M(e,o),o&&y(t),M(n,o),o&&y(r),M(s,o)}}}function vTe(i){let e,t,n,r,s=i[0].trackable.label+"",l,o;return t=new fi({props:{trackable:i[0].trackable,size:20,className:"mr-2"}}),{c(){e=A("h1"),O(t.$$.fragment),n=Y(),r=A("span"),l=Z(s),h(e,"class","text-black text-center flex items-center justify-center dark:text-white font-bold leading-none line-clamp-1 w-full")},m(a,u){w(a,e,u),N(t,e,null),E(e,n),E(e,r),E(r,l),o=!0},p(a,u){const c={};u&1&&(c.trackable=a[0].trackable),t.$set(c),(!o||u&1)&&s!==(s=a[0].trackable.label+"")&&oe(l,s)},i(a){o||(_(t.$$.fragment,a),o=!0)},o(a){v(t.$$.fragment,a),o=!1},d(a){a&&y(e),M(t)}}}function bTe(i){let e,t,n,r,s,l;const o=[mTe,hTe],a=[];function u(c,f){return c[0].trackable?0:1}return t=u(i),n=a[t]=o[t](i),s=new L8e({props:{start:i[2].start,end:i[2].end,$$slots:{default:[vTe]},$$scope:{ctx:i}}}),s.$on("next",i[9]),s.$on("previous",i[10]),{c(){e=A("header"),n.c(),r=Y(),O(s.$$.fragment),h(e,"slot","header"),h(e,"class","bg-white dark:bg-gray-800")},m(c,f){w(c,e,f),a[t].m(e,null),E(e,r),N(s,e,null),l=!0},p(c,f){let d=t;t=u(c),t===d?a[t].p(c,f):(ie(),v(a[d],1,1,()=>{a[d]=null}),re(),n=a[t],n?n.p(c,f):(n=a[t]=o[t](c),n.c()),_(n,1),n.m(e,r));const m={};f&4&&(m.start=c[2].start),f&4&&(m.end=c[2].end),f&131073&&(m.$$scope={dirty:f,ctx:c}),s.$set(m)},i(c){l||(_(n),_(s.$$.fragment,c),l=!0)},o(c){v(n),v(s.$$.fragment,c),l=!1},d(c){c&&y(e),a[t].d(),M(s)}}}function kTe(i){let e,t;return e=new _n({props:{headerClass:"shadow-lg z-40",$$slots:{header:[bTe],default:[dTe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&131079&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function yTe(i,e,t){let n,r,s;Ee(i,It,F=>t(15,n=F)),Ee(i,ll,F=>t(0,r=F)),Ee(i,FTe,F=>t(2,s=F));let{id:l}=e,o=!1,a="",u;const c=async()=>{await bz(r.trackable,{known:n.trackables,date:new Date})},f=()=>{Ot(l)},d=F=>({label:F,value:F,click(){CTe(F)}}),m=async()=>{await Et(100),yB({trackable:r.trackable})},p=()=>ETe(),g=()=>DTe();function k(F){i.$$.not_equal(r.logs,F)&&(r.logs=F,ll.set(r))}function $(F){i.$$.not_equal(r.logs,F)&&(r.logs=F,ll.set(r))}const D=()=>t(1,o=!0);return i.$$set=F=>{"id"in F&&t(4,l=F.id)},i.$$.update=()=>{i.$$.dirty&97&&(r.time!==a||u!==r.trackable)&&(t(6,u=r.trackable),t(5,a=r.time),c())},[r,o,s,f,l,a,u,d,m,p,g,k,$,D]}class wTe extends ce{constructor(e){super(),ue(this,e,yTe,kTe,le,{id:4})}}const $Te={loading:!0,trackable:void 0,knownTrackables:{},usage:void 0,view:"overview",time:"m",endDate:new Date,logs:[]},ll=Bt($Te),FTe=cr(ll,i=>Kd(i.endDate,i.time)),vz=async i=>{let e;ll.update(n=>(n.endDate=STe(n.endDate,n.time,i),n.loading=!0,n.usage=void 0,e=n,n)),await Et(200);let t=Kd(e.endDate,e.time);return await Ub(t.start,t.end)},ETe=()=>vz(1),DTe=()=>vz(-1),CTe=async i=>{let e;ll.update(n=>(e=n,n.loading=!0,n.usage=void 0,n.time=i,n.logs=[],n)),await Et(200);const t=Kd(e.endDate,e.time);await Ub(t.start,t.end)},STe=(i,e,t)=>{let n;return e==="d"?n=we(i).add(t,"day"):e==="w"?n=we(i).add(t,"week"):e==="m"?n=we(i).add(t,"month"):e==="3m"?n=we(i).add(3*t,"month"):e==="6m"?n=we(i).add(6*t,"month"):e==="1y"&&(n=we(i).add(t,"year")),n.toDate()},TTe=async(i,e,t)=>{const n=await Ut.query({start:i,end:e});return{usages:Ms(n,{trackables:t}),logs:n}},Ub=async(i,e)=>{const t=ATe(),{usages:n,logs:r}=await TTe(i,e,t.knownTrackables);ll.update(s=>{s.loading=!1;let l=n[s.trackable.tag];return s.logs=r.filter(o=>o.getTrackables({}).find(a=>a.tag===s.trackable.tag)),l&&(s.usage=l),s})},ATe=()=>{let i;return ll.update(e=>(i=e,e)),i},bz=async(i,e)=>{let t;ll.update(r=>(r.trackable=i,r.knownTrackables=e.known,r.endDate=e.date||new Date,r.loading=!0,t=r,r));const n=Kd(t.endDate,t.time);en({id:dm(`stats-${ul(i.tag)}`),component:wTe,componentProps:{}}),await Ub(n.start,n.end)},Kd=(i,e)=>{const t=we(i);let n;return e==="d"?n=t.subtract(1,"day"):e==="w"?n=t.subtract(6,"days"):e==="m"?n=t.subtract(1,"month"):e==="3m"?n=t.subtract(3,"month"):e==="6m"?n=t.subtract(6,"month"):e==="1y"&&(n=t.subtract(1,"year")),{start:n,end:t}},Rf=(i,e)=>bz(i,e),PTe=i=>Sv({dates:i});function NTe(i){let e,t;return e=new kB({props:{className:"ml-2 has-activity",hideTime:!0,max:i[5],trackable:i[1],log:i[1].type==="person"&&i[25].logs&&i[25].logs.length?new Gt({note:i[25].logs[0].note}):i[25].logs.length==1?new Gt(i[25].logs[0]):new Gt({note:`${i[1].tag}(${i[25].value})`,end:i[25].date})}}),e.$on("click",i[19]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&32&&(s.max=n[5]),r&2&&(s.trackable=n[1]),r&33554434&&(s.log=n[1].type==="person"&&n[25].logs&&n[25].logs.length?new Gt({note:n[25].logs[0].note}):n[25].logs.length==1?new Gt(n[25].logs[0]):new Gt({note:`${n[1].tag}(${n[25].value})`,end:n[25].date})),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function MTe(i){let e,t=i[25].date.format(i[10].mmm_d_yyyy)+"",n;return{c(){e=A("div"),n=Z(t),h(e,"class","streak-item no-activity relative w-full text-gray-500 font-semibold ")},m(r,s){w(r,e,s),E(e,n)},p(r,s){s&33554432&&t!==(t=r[25].date.format(r[10].mmm_d_yyyy)+"")&&oe(n,t)},i:W,o:W,d(r){r&&y(e)}}}function LTe(i){let e,t,n,r,s,l,o,a,u;const c=[MTe,NTe],f=[];function d(m,p){return p&33554432&&(s=null),s==null&&(s=!!isNaN(m[25].value)),s?0:1}return l=d(i,-1),o=f[l]=c[l](i),{c(){var m,p;e=A("div"),t=A("div"),r=Y(),o.c(),h(t,"class",n="connector-ball "+(isNaN(i[25].value)?"no-activity":"has-activity")+" "+(isNaN((m=i[2][i[25].index-1])==null?void 0:m.value)?"prev-sib-inactive":"prev-sib-active")+" "+(isNaN((p=i[2][i[25].index+1])==null?void 0:p.value)?"next-sib-inactive":"next-sib-active")),h(e,"class",a="px-4 flex bg-white dark:bg-black justify-items-stretch items-center "+(isNaN(i[25].value)?"no-activity":"has-activity")),nt(e,"--trackable-color",i[1].color)},m(m,p){w(m,e,p),E(e,t),E(e,r),f[l].m(e,null),u=!0},p(m,p){var k,$;(!u||p&33554436&&n!==(n="connector-ball "+(isNaN(m[25].value)?"no-activity":"has-activity")+" "+(isNaN((k=m[2][m[25].index-1])==null?void 0:k.value)?"prev-sib-inactive":"prev-sib-active")+" "+(isNaN(($=m[2][m[25].index+1])==null?void 0:$.value)?"next-sib-inactive":"next-sib-active")))&&h(t,"class",n);let g=l;l=d(m,p),l===g?f[l].p(m,p):(ie(),v(f[g],1,1,()=>{f[g]=null}),re(),o=f[l],o?o.p(m,p):(o=f[l]=c[l](m),o.c()),_(o,1),o.m(e,null)),(!u||p&33554432&&a!==(a="px-4 flex bg-white dark:bg-black justify-items-stretch items-center "+(isNaN(m[25].value)?"no-activity":"has-activity")))&&h(e,"class",a),(!u||p&2)&&nt(e,"--trackable-color",m[1].color)},i(m){u||(_(o),u=!0)},o(m){v(o),u=!1},d(m){m&&y(e),f[l].d()}}}function Q8(i){let e,t,n;return t=new Mn({props:{size:20}}),{c(){e=A("div"),O(t.$$.fragment),h(e,"class","absolute bottom-4 right-4 z-50")},m(r,s){w(r,e,s),N(t,e,null),n=!0},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function OTe(i){let e,t,n,r,s,l;function o(f){i[20](f)}function a(f){i[21](f)}let u={items:i[2],$$slots:{default:[LTe,({item:f})=>({25:f}),({item:f})=>f?33554432:0]},$$scope:{ctx:i}};i[3]!==void 0&&(u.end=i[3]),i[8]!==void 0&&(u.start=i[8]),e=new NI({props:u}),De.push(()=>Ue(e,"end",o,i[3])),De.push(()=>Ue(e,"start",a,i[8]));let c=i[7]&&Q8();return{c(){O(e.$$.fragment),r=Y(),c&&c.c(),s=$e()},m(f,d){N(e,f,d),w(f,r,d),c&&c.m(f,d),w(f,s,d),l=!0},p(f,d){const m={};d&4&&(m.items=f[2]),d&100663334&&(m.$$scope={dirty:d,ctx:f}),!t&&d&8&&(t=!0,m.end=f[3],qe(()=>t=!1)),!n&&d&256&&(n=!0,m.start=f[8],qe(()=>n=!1)),e.$set(m),f[7]?c?d&128&&_(c,1):(c=Q8(),c.c(),_(c,1),c.m(s.parentNode,s)):c&&(ie(),v(c,1,1,()=>{c=null}),re())},i(f){l||(_(e.$$.fragment,f),_(c),l=!0)},o(f){v(e.$$.fragment,f),v(c),l=!1},d(f){M(e,f),f&&y(r),c&&c.d(f),f&&y(s)}}}function ITe(i){let e,t,n,r=i[1].label+"",s,l,o;return t=new fi({props:{trackable:i[1],size:22}}),{c(){e=A("h1"),O(t.$$.fragment),n=Y(),s=Z(r),l=Z(" Streak"),h(e,"class","ntitle capitalize line-clamp-1")},m(a,u){w(a,e,u),N(t,e,null),E(e,n),E(e,s),E(e,l),o=!0},p(a,u){const c={};u&2&&(c.trackable=a[1]),t.$set(c),(!o||u&2)&&r!==(r=a[1].label+"")&&oe(s,r)},i(a){o||(_(t.$$.fragment,a),o=!0)},o(a){v(t.$$.fragment,a),o=!1},d(a){a&&y(e),M(t)}}}function BTe(i){let e,t;return e=new je({props:{icon:pl}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function zTe(i){let e,t;return e=new Me({props:{slot:"left",primary:!0,icon:!0,$$slots:{default:[BTe]},$$scope:{ctx:i}}}),e.$on("click",i[11]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&67108864&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function eD(i){let e,t,n;function r(l){i[17](l)}let s={hidePrevNext:!0,loading:!1,date:i[4]};return i[6]!==void 0&&(s.trackableUsage=i[6]),e=new bB({props:s}),De.push(()=>Ue(e,"trackableUsage",r,i[6])),e.$on("input",YTe),e.$on("dateChange",i[18]),{c(){O(e.$$.fragment)},m(l,o){N(e,l,o),n=!0},p(l,o){const a={};o&16&&(a.date=l[4]),!t&&o&64&&(t=!0,a.trackableUsage=l[6],qe(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){M(e,l)}}}function tD(i){let e,t,n,r,s,l,o=i[9].currentStreak+"",a,u,c,f,d,m,p,g=i[9].longestStreak+"",k,$;return{c(){e=A("section"),t=A("div"),n=A("div"),r=A("div"),r.textContent="Current",s=Y(),l=A("div"),a=Z(o),u=Z(" days"),c=Y(),f=A("div"),d=A("div"),d.textContent="Longest",m=Y(),p=A("div"),k=Z(g),$=Z(" days"),h(r,"class",""),h(l,"class","font-bold"),h(n,"class","leading-tight text-center flex items-center space-x-2 text-xs text-description"),h(d,"class",""),h(p,"class","font-bold"),h(f,"class","leading-tight text-center flex items-center space-x-2 text-xs text-description"),h(t,"class","rounded-full flex space-x-4 items-center mx-auto w-auto"),h(e,"class","flex w-full py-2")},m(D,F){w(D,e,F),E(e,t),E(t,n),E(n,r),E(n,s),E(n,l),E(l,a),E(l,u),E(t,c),E(t,f),E(f,d),E(f,m),E(f,p),E(p,k),E(p,$)},p(D,F){F&512&&o!==(o=D[9].currentStreak+"")&&oe(a,o),F&512&&g!==(g=D[9].longestStreak+"")&&oe(k,g)},d(D){D&&y(e)}}}function RTe(i){let e,t,n,r,s;t=new Jt({props:{$$slots:{left:[zTe],default:[ITe]},$$scope:{ctx:i}}});let l=i[6]&&i[6].logs&&eD(i),o=i[9]&&tD(i);return{c(){e=A("header"),O(t.$$.fragment),n=Y(),l&&l.c(),r=Y(),o&&o.c(),h(e,"slot","header")},m(a,u){w(a,e,u),N(t,e,null),E(e,n),l&&l.m(e,null),E(e,r),o&&o.m(e,null),s=!0},p(a,u){const c={};u&67108866&&(c.$$scope={dirty:u,ctx:a}),t.$set(c),a[6]&&a[6].logs?l?(l.p(a,u),u&64&&_(l,1)):(l=eD(a),l.c(),_(l,1),l.m(e,r)):l&&(ie(),v(l,1,1,()=>{l=null}),re()),a[9]?o?o.p(a,u):(o=tD(a),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},i(a){s||(_(t.$$.fragment,a),_(l),s=!0)},o(a){v(t.$$.fragment,a),v(l),s=!1},d(a){a&&y(e),M(t),l&&l.d(),o&&o.d()}}}function jTe(i){let e,t;return e=new _n({props:{headerClass:"glass mb-2",mainClass:"bg-white filler dark:bg-black",$$slots:{header:[RTe],default:[OTe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&67109887&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}const Bg=30,YTe=i=>{};function UTe(i,e,t){let n;Ee(i,It,H=>t(23,n=H));let{trackable:r}=e,{date:s}=e,{id:l}=e,o,a,u,c,f=0,d=[],m=Pn(),p,g,k=!1;const $=async()=>{var H;t(7,k=!0),t(6,g=await Id(r,{start:u,end:a},n.trackables)),t(5,f=((H=g.max)==null?void 0:H.value)>f?g.max.value:f),o=g.byDay.backfill(u.toDate(),a.toDate()),o.dates.forEach((K,G)=>{let U=g.dates.findIndex(Q=>Q.format("YYYY-MM-DD-HH")===K.format("YYYY-MM-DD-HH"));if(!d.find(Q=>Q.date.format("YYYY-MM-DD")==K.format("YYYY-MM-DD"))){let Q=U>-1?g.logs[U]:void 0;d.push({date:K,value:o.values[G],logs:Q?[Q]:[]})}}),t(2,d=d.sort((K,G)=>K.date<G.date?1:-1).map((K,G)=>(K.index=G,K))),Et(500).then(()=>{t(7,k=!1)})},D=()=>{Ot(l)};let F,C,S,P;function I(H){g=H,t(6,g)}const R=H=>{t(0,s=new Date(H.detail))},B=H=>{Oa(H.detail.log.end)};function z(H){C=H,t(3,C)}function q(H){S=H,t(8,S)}return i.$$set=H=>{"trackable"in H&&t(1,r=H.trackable),"date"in H&&t(0,s=H.date),"id"in H&&t(12,l=H.id)},i.$$.update=()=>{if(i.$$.dirty&32770&&r&&r!==p&&(t(15,p=r),t(2,d=[])),i.$$.dirty&24577&&s&&(t(13,a=we(s)),t(14,u=a.subtract(Bg,"days")),t(4,c=u.toDate()),$()),i.$$.dirty&90124&&F!==C&&C===d.length-1&&d.length>0){t(16,F=C),t(14,u=u.subtract(Bg,"day")),t(4,c=u.toDate()),t(13,a=a.subtract(Bg,"day")),$();let H=d.filter(K=>K.value>0||K.value<0).map(K=>K.date.toDate());t(9,P=PTe(H))}},[s,r,d,C,c,f,g,k,S,P,m,D,l,a,u,p,F,I,R,B,z,q]}class qTe extends ce{constructor(e){super(),ue(this,e,UTe,jTe,le,{trackable:1,date:0,id:12})}}const HTe=(i,e=new Date)=>{en({id:dm(`streak-${i.tag}`),component:qTe,componentProps:{trackable:i,date:e}})};function WTe(i){let e;return{c(){e=Z("\u2193")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function VTe(i){let e;return{c(){e=Z("\u2191")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function GTe(i){let e,t,n,r,s=i[0].trackableUsage.trackable.label+"",l,o,a,u,c,f=ht.round(i[0].compared.value.change*100)+"",d,m,p=i[0].compared.value.direction+"",g,k,$,D,F,C=i[0].trackableUsage.formatValue(i[0].compared.value.from)+"",S,P,I,R,B,z=i[0].trackableUsage.formatValue(i[0].compared.value.to)+"",q,H;function K(Q,V){return Q[0].compared.value.direction==="up"?VTe:WTe}let G=K(i),U=G(i);return{c(){e=A("main"),t=A("div"),n=A("h2"),r=A("div"),l=Z(s),o=Y(),a=A("div"),u=A("span"),U.c(),c=Y(),d=Z(f),m=Z(`%
          `),g=Z(p),k=Y(),$=A("div"),D=A("div"),F=A("span"),S=Z(C),P=Y(),I=A("span"),I.textContent="\u2192",R=Y(),B=A("span"),q=Z(z),h(r,"class","font-semibold filler"),h(u,"class","text-primary-500"),h(a,"class","text-sm opacity-80 stiff text-black dark:text-white font-semibold mb-1"),h(n,"class","leading-tight mb-1 space-x-2 flex items-center"),h(F,"class","whitespace-nowrap"),h(I,"class","opacity-50"),h(B,"class","whitespace-nowrap"),h(D,"class","text-lg text-left text-gray-600 dark:text-gray-400 whitespace-nowrap"),h($,"class",H="w-full change "+i[0].compared.value.direction+" text-right pr-2"),h(t,"class","w-full"),h(e,"class","flex space-x-2 flex-nowrap items-center")},m(Q,V){w(Q,e,V),E(e,t),E(t,n),E(n,r),E(r,l),E(n,o),E(n,a),E(a,u),U.m(u,null),E(a,c),E(a,d),E(a,m),E(a,g),E(t,k),E(t,$),E($,D),E(D,F),E(F,S),E(D,P),E(D,I),E(D,R),E(D,B),E(B,q)},p(Q,V){V&1&&s!==(s=Q[0].trackableUsage.trackable.label+"")&&oe(l,s),G!==(G=K(Q))&&(U.d(1),U=G(Q),U&&(U.c(),U.m(u,null))),V&1&&f!==(f=ht.round(Q[0].compared.value.change*100)+"")&&oe(d,f),V&1&&p!==(p=Q[0].compared.value.direction+"")&&oe(g,p),V&1&&C!==(C=Q[0].trackableUsage.formatValue(Q[0].compared.value.from)+"")&&oe(S,C),V&1&&z!==(z=Q[0].trackableUsage.formatValue(Q[0].compared.value.to)+"")&&oe(q,z),V&1&&H!==(H="w-full change "+Q[0].compared.value.direction+" text-right pr-2")&&h($,"class",H)},d(Q){Q&&y(e),U.d()}}}function ZTe(i){let e,t;return e=new fi({props:{size:42,className:"mr-2 flex items-center",trackable:i[0].trackableUsage.trackable,slot:"left"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.trackable=n[0].trackableUsage.trackable),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function xTe(i){let e,t,n,r;return e=new xe({props:{clickable:!0,$$slots:{left:[ZTe],default:[GTe]},$$scope:{ctx:i}}}),e.$on("click",i[1]),n=new Tn({props:{left:72}}),{c(){O(e.$$.fragment),t=Y(),O(n.$$.fragment)},m(s,l){N(e,s,l),w(s,t,l),N(n,s,l),r=!0},p(s,[l]){const o={};l&5&&(o.$$scope={dirty:l,ctx:s}),e.$set(o)},i(s){r||(_(e.$$.fragment,s),_(n.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(n.$$.fragment,s),r=!1},d(s){M(e,s),s&&y(t),M(n,s)}}}function XTe(i,e,t){let{uct:n}=e;const r=()=>{Ui(n.trackableUsage.trackable)};return i.$$set=s=>{"uct"in s&&t(0,n=s.uct)},[n,r]}class qb extends ce{constructor(e){super(),ue(this,e,XTe,xTe,le,{uct:0})}}function nD(i,e,t){const n=i.slice();return n[22]=e[t],n[24]=t,n}function iD(i,e,t){const n=i.slice();return n[22]=e[t],n[24]=t,n}function rD(i,e,t){const n=i.slice();return n[22]=e[t],n[24]=t,n}function KTe(i){let e,t,n,r,s,l=i[5].length&&sD(i);return t=new Ft({props:{solo:!0,outside:!0,title:"Trending Up",$$slots:{default:[eAe]},$$scope:{ctx:i}}}),r=new Ft({props:{solo:!0,outside:!0,title:"Trending Down ",$$slots:{default:[tAe]},$$scope:{ctx:i}}}),{c(){l&&l.c(),e=Y(),O(t.$$.fragment),n=Y(),O(r.$$.fragment)},m(o,a){l&&l.m(o,a),w(o,e,a),N(t,o,a),w(o,n,a),N(r,o,a),s=!0},p(o,a){o[5].length?l?(l.p(o,a),a&32&&_(l,1)):(l=sD(o),l.c(),_(l,1),l.m(e.parentNode,e)):l&&(ie(),v(l,1,1,()=>{l=null}),re());const u={};a&134217736&&(u.$$scope={dirty:a,ctx:o}),t.$set(u);const c={};a&134217744&&(c.$$scope={dirty:a,ctx:o}),r.$set(c)},i(o){s||(_(l),_(t.$$.fragment,o),_(r.$$.fragment,o),s=!0)},o(o){v(l),v(t.$$.fragment,o),v(r.$$.fragment,o),s=!1},d(o){l&&l.d(o),o&&y(e),M(t,o),o&&y(n),M(r,o)}}}function JTe(i){let e,t,n;return t=new Mn({props:{size:42}}),{c(){e=A("div"),O(t.$$.fragment),h(e,"class","w-full h-40 flex items-center justify-center")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p:W,i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function sD(i){let e,t;return e=new Ft({props:{solo:!0,outside:!0,title:"New",$$slots:{default:[QTe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&134217760&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function lD(i,e){let t,n,r;return n=new qb({props:{uct:e[22]}}),{key:i,first:null,c(){t=$e(),O(n.$$.fragment),this.first=t},m(s,l){w(s,t,l),N(n,s,l),r=!0},p(s,l){e=s;const o={};l&32&&(o.uct=e[22]),n.$set(o)},i(s){r||(_(n.$$.fragment,s),r=!0)},o(s){v(n.$$.fragment,s),r=!1},d(s){s&&y(t),M(n,s)}}}function QTe(i){let e=[],t=new Map,n,r,s=i[5];const l=o=>o[22].trackableUsage.trackable;for(let o=0;o<s.length;o+=1){let a=rD(i,s,o),u=l(a);t.set(u,e[o]=lD(u,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();n=$e()},m(o,a){for(let u=0;u<e.length;u+=1)e[u].m(o,a);w(o,n,a),r=!0},p(o,a){a&32&&(s=o[5],ie(),e=qn(e,a,l,1,o,s,t,n.parentNode,Ci,lD,n,rD),re())},i(o){if(!r){for(let a=0;a<s.length;a+=1)_(e[a]);r=!0}},o(o){for(let a=0;a<e.length;a+=1)v(e[a]);r=!1},d(o){for(let a=0;a<e.length;a+=1)e[a].d(o);o&&y(n)}}}function oD(i,e){let t,n,r;return n=new qb({props:{uct:e[22]}}),{key:i,first:null,c(){t=$e(),O(n.$$.fragment),this.first=t},m(s,l){w(s,t,l),N(n,s,l),r=!0},p(s,l){e=s;const o={};l&8&&(o.uct=e[22]),n.$set(o)},i(s){r||(_(n.$$.fragment,s),r=!0)},o(s){v(n.$$.fragment,s),r=!1},d(s){s&&y(t),M(n,s)}}}function aD(i){let e;return{c(){e=A("div"),e.textContent="No Up Trends",h(e,"class","text-gray-500 px-4 py-4")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function eAe(i){let e=[],t=new Map,n,r,s,l=i[3];const o=u=>u[22].trackableUsage.trackable;for(let u=0;u<l.length;u+=1){let c=iD(i,l,u),f=o(c);t.set(f,e[u]=oD(f,c))}let a=!i[3].length&&aD();return{c(){for(let u=0;u<e.length;u+=1)e[u].c();n=Y(),a&&a.c(),r=$e()},m(u,c){for(let f=0;f<e.length;f+=1)e[f].m(u,c);w(u,n,c),a&&a.m(u,c),w(u,r,c),s=!0},p(u,c){c&8&&(l=u[3],ie(),e=qn(e,c,o,1,u,l,t,n.parentNode,Ci,oD,n,iD),re()),u[3].length?a&&(a.d(1),a=null):a||(a=aD(),a.c(),a.m(r.parentNode,r))},i(u){if(!s){for(let c=0;c<l.length;c+=1)_(e[c]);s=!0}},o(u){for(let c=0;c<e.length;c+=1)v(e[c]);s=!1},d(u){for(let c=0;c<e.length;c+=1)e[c].d(u);u&&y(n),a&&a.d(u),u&&y(r)}}}function uD(i){let e;return{c(){e=A("div"),e.textContent="No Down Trends",h(e,"class","text-gray-500 px-4 py-4")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function cD(i,e){let t,n,r;return n=new qb({props:{uct:e[22]}}),{key:i,first:null,c(){t=$e(),O(n.$$.fragment),this.first=t},m(s,l){w(s,t,l),N(n,s,l),r=!0},p(s,l){e=s;const o={};l&16&&(o.uct=e[22]),n.$set(o)},i(s){r||(_(n.$$.fragment,s),r=!0)},o(s){v(n.$$.fragment,s),r=!1},d(s){s&&y(t),M(n,s)}}}function tAe(i){let e,t=[],n=new Map,r,s,l=!i[4].length&&uD(),o=i[4];const a=u=>u[22].trackableUsage.trackable;for(let u=0;u<o.length;u+=1){let c=nD(i,o,u),f=a(c);n.set(f,t[u]=cD(f,c))}return{c(){l&&l.c(),e=Y();for(let u=0;u<t.length;u+=1)t[u].c();r=$e()},m(u,c){l&&l.m(u,c),w(u,e,c);for(let f=0;f<t.length;f+=1)t[f].m(u,c);w(u,r,c),s=!0},p(u,c){u[4].length?l&&(l.d(1),l=null):l||(l=uD(),l.c(),l.m(e.parentNode,e)),c&16&&(o=u[4],ie(),t=qn(t,c,a,1,u,o,n,r.parentNode,Ci,cD,r,nD),re())},i(u){if(!s){for(let c=0;c<o.length;c+=1)_(t[c]);s=!0}},o(u){for(let c=0;c<t.length;c+=1)v(t[c]);s=!1},d(u){l&&l.d(u),u&&y(e);for(let c=0;c<t.length;c+=1)t[c].d(u);u&&y(r)}}}function nAe(i){let e,t,n,r,s,l;const o=[JTe,KTe],a=[];function u(c,f){return c[0]?0:1}return t=u(i),n=a[t]=o[t](i),{c(){e=A("section"),n.c(),r=Y(),s=A("div"),h(e,"class","trending px-1"),h(s,"class","h-20")},m(c,f){w(c,e,f),a[t].m(e,null),w(c,r,f),w(c,s,f),l=!0},p(c,f){let d=t;t=u(c),t===d?a[t].p(c,f):(ie(),v(a[d],1,1,()=>{a[d]=null}),re(),n=a[t],n?n.p(c,f):(n=a[t]=o[t](c),n.c()),_(n,1),n.m(e,null))},i(c){l||(_(n),l=!0)},o(c){v(n),l=!1},d(c){c&&y(e),a[t].d(),c&&y(r),c&&y(s)}}}function iAe(i){let e,t;return{c(){e=A("h2"),t=Z(i[6]),h(e,"class","text-xs text-solid font-bold leading-tight text-center")},m(n,r){w(n,e,r),E(e,t)},p(n,r){r&64&&oe(t,n[6])},d(n){n&&y(e)}}}function rAe(i){let e,t;return e=new Ec({props:{hideCal:!0,$$slots:{default:[iAe]},$$scope:{ctx:i}}}),e.$on("next",i[8]),e.$on("previous",i[9]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&134217792&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function sAe(i){let e=_e.t("general.close","Close")+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p:W,d(n){n&&y(t)}}}function lAe(i){let e,t;return e=new Me({props:{slot:"left",clear:!0,primary:!0,$$slots:{default:[sAe]},$$scope:{ctx:i}}}),e.$on("click",i[7]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&134217728&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function oAe(i){var n;let e=((n=i[10].find(i[16]))==null?void 0:n.label)+"",t;return{c(){t=Z(e)},m(r,s){w(r,t,s)},p(r,s){var l;s&2&&e!==(e=((l=r[10].find(r[16]))==null?void 0:l.label)+"")&&oe(t,e)},d(r){r&&y(t)}}}function aAe(i){let e,t;return e=new Me({props:{slot:"right",clear:!0,primary:!0,$$slots:{default:[oAe]},$$scope:{ctx:i}}}),e.$on("click",i[11]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&134217730&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function uAe(i){let e,t,n,r,s,l,o;t=new Jt({props:{$$slots:{right:[aAe],left:[lAe],default:[rAe]},$$scope:{ctx:i}}});function a(c){i[17](c)}let u={buttons:[{label:"All",value:"all"},{label:"Trackers",value:"tracker"},{label:"People",value:"person"},{label:"Context",value:"context"}]};return i[2]!==void 0&&(u.value=i[2]),s=new ms({props:u}),De.push(()=>Ue(s,"value",a,i[2])),{c(){e=A("header"),O(t.$$.fragment),n=Y(),r=A("div"),O(s.$$.fragment),h(r,"role","menubar"),h(r,"class","px-4 pb-1"),h(e,"slot","header"),h(e,"class","bg-white dark:bg-black")},m(c,f){w(c,e,f),N(t,e,null),E(e,n),E(e,r),N(s,r,null),o=!0},p(c,f){const d={};f&134217794&&(d.$$scope={dirty:f,ctx:c}),t.$set(d);const m={};!l&&f&4&&(l=!0,m.value=c[2],qe(()=>l=!1)),s.$set(m)},i(c){o||(_(t.$$.fragment,c),_(s.$$.fragment,c),o=!0)},o(c){v(t.$$.fragment,c),v(s.$$.fragment,c),o=!1},d(c){c&&y(e),M(t),M(s)}}}function cAe(i){let e,t;return e=new _n({props:{$$slots:{header:[uAe],default:[nAe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&134217855&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function fAe(i,e,t){let n,r;Ee(i,Tu,B=>t(15,n=B)),Ee(i,It,B=>t(18,r=B));let{id:s}=e,l=!0,o=new Date,a="day",u="all",c=[],f=[],d=[],m=[],p=Pn(),g="Loading...";const k=async()=>{Vl("trending-modal"),t(0,l=!0);const B=pAe(n.date,n.focalPeriod),z=await Nv({start:B.start,end:B.end},r.trackables);t(14,c=_Ae(z,B)),t(0,l=!1)},$=()=>{Ot(s)},D=B=>{let z=we(o);a==="day"?wn(Tu,n.date=B=="forward"?z.add(1,"day").toDate():z.subtract(1,"day").toDate(),n):a=="week"?wn(Tu,n.date=B=="forward"?z.add(1,"week").toDate():z.subtract(1,"week").toDate(),n):a=="month"&&wn(Tu,n.date=B=="forward"?z.add(1,"month").toDate():z.subtract(1,"month").toDate(),n)},F=()=>{D("forward")},C=()=>{D("backward")},S=[{id:"day",label:_e.t("general.day","Day")},{id:"week",label:_e.t("general.week","Week")},{id:"month",label:_e.t("general.month","Month")}],P=()=>{Xe.popmenu({id:`trending-${o.toDateString()}`,buttons:S.map(B=>({title:B.label,async click(){await Et(200),wn(Tu,n.focalPeriod=B.id,n),k()}}))})},I=B=>B.id===a;function R(B){u=B,t(2,u)}return i.$$set=B=>{"id"in B&&t(12,s=B.id)},i.$$.update=()=>{i.$$.dirty&32768&&t(13,o=n.date),i.$$.dirty&32768&&t(1,a=n.focalPeriod),i.$$.dirty&16397&&!l&&u&&(t(4,d=c.filter(B=>u==="all"?!0:B.trackableUsage.trackable.type===u).filter(B=>B.compared.value.direction==="down"&&[B.compared.value.from,B.compared.value.to].join(",")!=="0,1")),t(3,f=c.filter(B=>u==="all"?!0:B.trackableUsage.trackable.type===u).filter(B=>B.compared.value.direction==="up"&&[B.compared.value.from,B.compared.value.to].join(",")!=="0,1")),t(5,m=f.filter(B=>B.compared.value.from===0)),t(3,f=f.filter(B=>B.compared.value.from))),i.$$.dirty&40962&&n&&(k(),a==="day"?t(6,g=we(o).format(p.mmm_d_yyyy)):a==="week"?t(6,g=`${we(o).startOf("week").format(p.tinyDate)} - ${we(o).endOf("week").format(`${p.tinyDate} YYYY`)}`):a==="month"&&t(6,g=`${we(o).format("MMM YYYY")}`))},[l,a,u,f,d,m,g,$,F,C,S,P,s,o,c,n,I,R]}class dAe extends ce{constructor(e){super(),ue(this,e,fAe,cAe,le,{id:12})}}const hAe=i=>{let e=i.groupedBy?i:i.byDay,t=e.values.length,n=Math.floor(t*.5),r={trackable:e.trackable,values:[],dates:[]},s={trackable:e.trackable,values:[],dates:[]};return e.values.forEach((l,o)=>{o<n?(r.values.push(l),r.dates.push(e.dates[o])):(s.values.push(l),s.dates.push(e.dates[o]))}),mAe(new $r(r),new $r(s))},mAe=(i,e)=>{const t=i.average,n=i.values.filter(f=>f).length,r=e.average,s=e.values.filter(f=>f).length,l=t<r?"up":t>r?"down":"same",o=n<s?"up":n>s?"down":"same",a=r>t?ht.percentage(r,t):ht.percentage(t,r),u=s>n?ht.percentage(s,n):ht.percentage(n,s);return{value:{direction:l,change:1-ht.round(a/100),from:t,to:r},usage:{direction:o,change:1-ht.round(u/100)}}},Tu=Bt(void 0),kz=(i,e="day")=>{Tu.update(t=>({date:i,focalPeriod:e})),en({id:`trending-${i.toDateString()}`,componentProps:{},component:dAe})},pAe=(i,e)=>{let t=we(i).startOf("day"),n=we(i).endOf("day");return e==="day"?(t=we(t).subtract(1,"day"),n=we(n).endOf("day")):e==="hour"?(t=we(t).subtract(2,"hour"),n=we(n).endOf("hour")):e==="month"?(t=we(t).startOf("month").subtract(1,"month"),n=we(n).endOf("month")):e==="week"?(t=we(t).startOf("week").subtract(1,"week"),n=we(n).endOf("week")):e==="month"&&(t=we(t).startOf("month").subtract(1,"month"),n=we(n).endOf("month")),{start:t,end:n}},_Ae=(i,e)=>Object.keys(i).map(n=>{try{let r=i[n];r=r.backfill(e.start.toDate(),e.end.toDate());const s=hAe(r);return{trackableUsage:r,compared:s}}catch{return}}).filter(n=>n).sort((n,r)=>{const s=n.trackableUsage.values.filter(o=>!isNaN(o)&&o).length+(n.compared.value.change||0)+(n.compared.usage.change||0)||-1,l=n.trackableUsage.values.filter(o=>!isNaN(o)&&o).length+(r.compared.value.change||0)+(r.compared.usage.change||0)||-1;return s<l?-1:1}).filter(n=>n.compared.value.direction!=="same"),gAe=(i,e)=>{const t={};return i.forEach(n=>{let r="YYYY-MM-DD",s=`${n.endDayjs().format(r)}`;t[s]=t[s]||[],t[s].push(n)}),Object.keys(t).map(n=>{const r=Ms(t[n],{trackables:e});return{time:t[n][0].endDayjs(),usage:r,logs:t[n]}})};function vAe(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p;return{c(){e=A("div"),t=A("div"),n=Z(i[7]),r=Y(),s=A("button"),l=A("div"),o=Z(i[1]),a=Y(),u=A("div"),h(t,"class","top-label"),h(l,"class","vb-value"),h(u,"class","percent-bar"),nt(u,"height",i[0]+"%"),h(s,"type","button"),h(s,"title",c=`${i[7]} ${i[6].toISOString()}`),h(s,"class",f="value-button "+i[4]),nt(s,"background-color",i[2]),h(e,"class",d="value-button-wrapper "+i[5]),nt(e,"--size",i[3]+"px")},m(g,k){w(g,e,k),E(e,t),E(t,n),E(e,r),E(e,s),E(s,l),E(l,o),E(s,a),E(s,u),m||(p=ke(s,"click",i[9]),m=!0)},p(g,[k]){k&128&&oe(n,g[7]),k&2&&oe(o,g[1]),k&1&&nt(u,"height",g[0]+"%"),k&192&&c!==(c=`${g[7]} ${g[6].toISOString()}`)&&h(s,"title",c),k&16&&f!==(f="value-button "+g[4])&&h(s,"class",f),k&4&&nt(s,"background-color",g[2]),k&32&&d!==(d="value-button-wrapper "+g[5])&&h(e,"class",d),k&8&&nt(e,"--size",g[3]+"px")},i:W,o:W,d(g){g&&y(e),m=!1,p()}}}function bAe(i,e,t){const n=Dt();let{percentage:r}=e,{value:s}=e,{color:l}=e,{size:o}=e,{className:a=""}=e,{wrapperClass:u=""}=e,{date:c}=e,{topLabel:f}=e;const d=()=>{n("click")};return i.$$set=m=>{"percentage"in m&&t(0,r=m.percentage),"value"in m&&t(1,s=m.value),"color"in m&&t(2,l=m.color),"size"in m&&t(3,o=m.size),"className"in m&&t(4,a=m.className),"wrapperClass"in m&&t(5,u=m.wrapperClass),"date"in m&&t(6,c=m.date),"topLabel"in m&&t(7,f=m.topLabel)},[r,s,l,o,a,u,c,f,n,d]}class kAe extends ce{constructor(e){super(),ue(this,e,bAe,vAe,le,{percentage:0,value:1,color:2,size:3,className:4,wrapperClass:5,date:6,topLabel:7})}}function fD(i,e,t){const n=i.slice();return n[20]=e[t],n}function dD(i,e,t){const n=i.slice();return n[23]=e[t],n[25]=t,n}function hD(i,e,t){const n=i.slice();return n[26]=e[t],n[25]=t,n}function mD(i){let e,t,n,r=[],s=new Map,l;function o(...c){return i[11](i[19],...c)}let a=Object.keys(i[19].usage).map(o).sort(bD);const u=c=>c[23].tag;for(let c=0;c<a.length;c+=1){let f=dD(i,a,c),d=u(f);s.set(d,r[c]=_D(d,f))}return{c(){e=A("div"),t=A("div"),n=A("div");for(let c=0;c<r.length;c+=1)r[c].c();h(n,"class","trackables relative z-0 rounded-lg bg-white dark:bg-gray-950"),h(t,"class","my-2 mx-4"),Je(t,"hidden",!Object.keys(i[19].usage).length),h(e,"class","timeline-30")},m(c,f){w(c,e,f),E(e,t),E(t,n);for(let d=0;d<r.length;d+=1)r[d].m(n,null);l=!0},p(c,f){i=c,f&524448&&(a=Object.keys(i[19].usage).map(o).sort(bD),ie(),r=qn(r,f,u,1,i,a,s,n,Ci,_D,null,dD),re()),(!l||f&524288)&&Je(t,"hidden",!Object.keys(i[19].usage).length)},i(c){if(!l){for(let f=0;f<a.length;f+=1)_(r[f]);l=!0}},o(c){for(let f=0;f<r.length;f+=1)v(r[f]);l=!1},d(c){c&&y(e);for(let f=0;f<r.length;f+=1)r[f].d()}}}function pD(i,e){let t,n,r;function s(){return e[14](e[26])}return n=new kAe({props:{percentage:e[26].percentage,value:e[26].trackable.formatValue(e[26].value),wrapperClass:"m-px",size:48,date:e[26].date,color:e[26].trackable.color,topLabel:e[26].date.format(e[7].time).replace(/( |M)/g,"").toLowerCase()}}),n.$on("click",s),{key:i,first:null,c(){t=$e(),O(n.$$.fragment),this.first=t},m(l,o){w(l,t,o),N(n,l,o),r=!0},p(l,o){e=l;const a={};o&524288&&(a.percentage=e[26].percentage),o&524288&&(a.value=e[26].trackable.formatValue(e[26].value)),o&524288&&(a.date=e[26].date),o&524288&&(a.color=e[26].trackable.color),o&524288&&(a.topLabel=e[26].date.format(e[7].time).replace(/( |M)/g,"").toLowerCase()),n.$set(a)},i(l){r||(_(n.$$.fragment,l),r=!0)},o(l){v(n.$$.fragment,l),r=!1},d(l){l&&y(t),M(n,l)}}}function yAe(i){let e,t,n=[],r=new Map,s,l;function o(...c){return i[13](i[23],...c)}let a=i[23].usage.values.map(o).sort(kD);const u=c=>c[25];for(let c=0;c<a.length;c+=1){let f=hD(i,a,c),d=u(f);r.set(d,n[c]=pD(d,f))}return{c(){e=A("div"),t=A("div");for(let c=0;c<n.length;c+=1)n[c].c();s=Y(),h(t,"class","flex w-full justify-end items-end flex-wrap"),h(e,"class","w-full")},m(c,f){w(c,e,f),E(e,t);for(let d=0;d<n.length;d+=1)n[d].m(t,null);w(c,s,f),l=!0},p(c,f){i=c,f&524416&&(a=i[23].usage.values.map(o).sort(kD),ie(),n=qn(n,f,u,1,i,a,r,t,Ci,pD,null,hD),re())},i(c){if(!l){for(let f=0;f<a.length;f+=1)_(n[f]);l=!0}},o(c){for(let f=0;f<n.length;f+=1)v(n[f]);l=!1},d(c){c&&y(e);for(let f=0;f<n.length;f+=1)n[f].d();c&&y(s)}}}function wAe(i){let e,t;function n(){return i[12](i[23])}return e=new vl({props:{transparent:!0,slot:"left",value:i[23].usage.trackable.formatValue(i[23].usage.trackable.tallyValues(i[23].usage.values)),hideValue:i[23].usage.trackable.type==="person",trackable:i[23].usage.trackable,size:i[5].width<350?34:42,className:"stiff z-10 hover:scale-105 focus:scale-95 transition-all transform duration-200 mb-1 mr-1  lg:mr-2 shadow-md lg:col-span-3 md:col-span-6 col-span-6 timeline-pill w-full"}}),e.$on("click",n),{c(){O(e.$$.fragment)},m(r,s){N(e,r,s),t=!0},p(r,s){i=r;const l={};s&524288&&(l.value=i[23].usage.trackable.formatValue(i[23].usage.trackable.tallyValues(i[23].usage.values))),s&524288&&(l.hideValue=i[23].usage.trackable.type==="person"),s&524288&&(l.trackable=i[23].usage.trackable),s&32&&(l.size=i[5].width<350?34:42),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){M(e,r)}}}function _D(i,e){let t,n,r;return n=new xe({props:{bottomLine:60,id:dm(e[23].usage.trackable.tag)+"-items",$$slots:{left:[wAe],default:[yAe]},$$scope:{ctx:e}}}),{key:i,first:null,c(){t=$e(),O(n.$$.fragment),this.first=t},m(s,l){w(s,t,l),N(n,s,l),r=!0},p(s,l){e=s;const o={};l&524288&&(o.id=dm(e[23].usage.trackable.tag)+"-items"),l&268959776&&(o.$$scope={dirty:l,ctx:e}),n.$set(o)},i(s){r||(_(n.$$.fragment,s),r=!0)},o(s){v(n.$$.fragment,s),r=!1},d(s){s&&y(t),M(n,s)}}}function gD(i){let e,t,n=i[19].logs.filter(i[15]).sort(yD),r=[];for(let l=0;l<n.length;l+=1)r[l]=vD(fD(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){e=A("div");for(let l=0;l<r.length;l+=1)r[l].c();h(e,"class","notes")},m(l,o){w(l,e,o);for(let a=0;a<r.length;a+=1)r[a].m(e,null);t=!0},p(l,o){if(o&524289){n=l[19].logs.filter(l[15]).sort(yD);let a;for(a=0;a<n.length;a+=1){const u=fD(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=vD(u),r[a].c(),_(r[a],1),r[a].m(e,null))}for(ie(),a=n.length;a<r.length;a+=1)s(a);re()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){l&&y(e),it(r,l)}}}function vD(i){let e,t,n,r;return t=new Xo({props:{log:i[20],hideTrackables:i[0].trackables}}),{c(){e=A("div"),O(t.$$.fragment),n=Y(),h(e,"class","px-4 py-2")},m(s,l){w(s,e,l),N(t,e,null),E(e,n),r=!0},p(s,l){const o={};l&524289&&(o.log=s[20]),l&1&&(o.hideTrackables=s[0].trackables),t.$set(o)},i(s){r||(_(t.$$.fragment,s),r=!0)},o(s){v(t.$$.fragment,s),r=!1},d(s){s&&y(e),M(t)}}}function $Ae(i){let e,t,n,r=i[19].logs[0].endDayjs().fromNow()+"",s,l,o,a=i[19].logs[0].endDayjs().format(`ddd ${i[7].mmm_d_yyyy}`)+"",u,c,f,d,m,p,g,k,$;f=new je({props:{icon:jo,className:"opacity-50",size:14}});function D(){return i[10](i[19])}let F=i[0].trackables&&mD(i),C=i[0].notes&&gD(i);return{c(){var S;e=A("header"),t=A("button"),n=A("div"),s=Z(r),l=Y(),o=A("h2"),u=Z(a),c=Y(),O(f.$$.fragment),d=Y(),F&&F.c(),m=Y(),C&&C.c(),p=$e(),h(n,"class","text-sm block font-normal leading-none text-gray-500 mb-1"),h(o,"class","transform block transition-all duration-500 filler text-xl md:text-2xl"),Je(o,"text-sm",i[19].logs[0].endDayjs().format("YYYY-MM-DD")==((S=i[4])==null?void 0:S.logs[0].endDayjs().format("YYYY-MM-DD"))),h(t,"type","button"),h(t,"class","text-left w-full font-bold hover:opacity-80"),h(e,"class","text-center px-6 items-center mt-6 mb-2 font-bold text-gray-900 dark:text-gray-100")},m(S,P){w(S,e,P),E(e,t),E(t,n),E(n,s),E(t,l),E(t,o),E(o,u),E(o,c),N(f,o,null),w(S,d,P),F&&F.m(S,P),w(S,m,P),C&&C.m(S,P),w(S,p,P),g=!0,k||($=ke(t,"click",D),k=!0)},p(S,P){var I;i=S,(!g||P&524288)&&r!==(r=i[19].logs[0].endDayjs().fromNow()+"")&&oe(s,r),(!g||P&524288)&&a!==(a=i[19].logs[0].endDayjs().format(`ddd ${i[7].mmm_d_yyyy}`)+"")&&oe(u,a),(!g||P&524304)&&Je(o,"text-sm",i[19].logs[0].endDayjs().format("YYYY-MM-DD")==((I=i[4])==null?void 0:I.logs[0].endDayjs().format("YYYY-MM-DD"))),i[0].trackables?F?(F.p(i,P),P&1&&_(F,1)):(F=mD(i),F.c(),_(F,1),F.m(m.parentNode,m)):F&&(ie(),v(F,1,1,()=>{F=null}),re()),i[0].notes?C?(C.p(i,P),P&1&&_(C,1)):(C=gD(i),C.c(),_(C,1),C.m(p.parentNode,p)):C&&(ie(),v(C,1,1,()=>{C=null}),re())},i(S){g||(_(f.$$.fragment,S),_(F),_(C),g=!0)},o(S){v(f.$$.fragment,S),v(F),v(C),g=!1},d(S){S&&y(e),M(f),S&&y(d),F&&F.d(S),S&&y(m),C&&C.d(S),S&&y(p),k=!1,$()}}}function FAe(i){let e,t;return e=new Vn({props:{size:"md",$$slots:{default:[$Ae]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&268959793&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function EAe(i){let e,t,n,r;function s(a){i[16](a)}function l(a){i[17](a)}let o={items:i[1],$$slots:{default:[FAe,({item:a})=>({19:a}),({item:a})=>a?524288:0]},$$scope:{ctx:i}};return i[3]!==void 0&&(o.start=i[3]),i[2]!==void 0&&(o.end=i[2]),e=new MI({props:o}),De.push(()=>Ue(e,"start",s,i[3])),De.push(()=>Ue(e,"end",l,i[2])),e.$on("topItem",i[18]),{c(){O(e.$$.fragment)},m(a,u){N(e,a,u),r=!0},p(a,[u]){const c={};u&2&&(c.items=a[1]),u&268959793&&(c.$$scope={dirty:u,ctx:a}),!t&&u&8&&(t=!0,c.start=a[3],qe(()=>t=!1)),!n&&u&4&&(n=!0,c.end=a[2],qe(()=>n=!1)),e.$set(c)},i(a){r||(_(e.$$.fragment,a),r=!0)},o(a){v(e.$$.fragment,a),r=!1},d(a){M(e,a)}}}const bD=(i,e)=>i.usage.logs[i.usage.logs.length-1].end<e.usage.logs[e.usage.logs.length-1].end?1:-1,kD=(i,e)=>i.log.end>e.log.end?1:-1,yD=(i,e)=>i.pinned||e.pinned?i.pinned<e.pinned?1:-1:i.end<e.end?1:-1;function DAe(i,e,t){let n,r;Ee(i,It,P=>t(9,n=P)),Ee(i,Hn,P=>t(5,r=P));let{logs:s=[]}=e,{filters:l={}}=e;const o=Dt();let a=[],u=Pn(),c,f,d;const m=P=>{a_(P.logs[0].end)},p=(P,I)=>({usage:P.usage[I],tag:I,item:P}),g=P=>Ui(P.usage.trackable),k=(P,I,R)=>{var B;return{value:I,log:P.usage.logs[R],date:P.usage.dates[R],usage:P.usage,trackable:P.usage.trackable,percentage:ht.percentage(((B=Br[P.usage.trackable.tag])==null?void 0:B.max.v)||I,I)}},$=P=>{Xe.logOptions(P.log,{description:P.log.note})},D=P=>l.trackables?P.hasNote:!0;function F(P){c=P,t(3,c)}function C(P){f=P,t(2,f)}const S=P=>{t(4,d=P.detail),o("scrollItem",P.detail)};return i.$$set=P=>{"logs"in P&&t(8,s=P.logs),"filters"in P&&t(0,l=P.filters)},i.$$.update=()=>{i.$$.dirty&768&&n&&t(1,a=gAe(s,n.trackables)),i.$$.dirty&6&&f===a.length&&a.length>0&&o("endOfItems")},[l,a,f,c,d,r,o,u,s,n,m,p,g,k,$,D,F,C,S]}class CAe extends ce{constructor(e){super(),ue(this,e,DAe,EAe,le,{logs:8,filters:0})}}function wD(i){let e,t,n,r=i[7]&&i[4].toDate()>i[8].toDate(),s,l;const o=[AAe,TAe,SAe],a=[];function u(f,d){return f[2].length?0:f[5]?1:f[5]?-1:2}~(e=u(i))&&(t=a[e]=o[e](i));let c=r&&$D(i);return{c(){t&&t.c(),n=Y(),c&&c.c(),s=$e()},m(f,d){~e&&a[e].m(f,d),w(f,n,d),c&&c.m(f,d),w(f,s,d),l=!0},p(f,d){let m=e;e=u(f),e===m?~e&&a[e].p(f,d):(t&&(ie(),v(a[m],1,1,()=>{a[m]=null}),re()),~e?(t=a[e],t?t.p(f,d):(t=a[e]=o[e](f),t.c()),_(t,1),t.m(n.parentNode,n)):t=null),d&400&&(r=f[7]&&f[4].toDate()>f[8].toDate()),r?c?(c.p(f,d),d&400&&_(c,1)):(c=$D(f),c.c(),_(c,1),c.m(s.parentNode,s)):c&&(ie(),v(c,1,1,()=>{c=null}),re())},i(f){l||(_(t),_(c),l=!0)},o(f){v(t),v(c),l=!1},d(f){~e&&a[e].d(f),f&&y(n),c&&c.d(f),f&&y(s)}}}function SAe(i){let e,t;return e=new Gn({props:{$$slots:{default:[PAe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&67108872&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function TAe(i){let e,t,n;return t=new Mn({props:{size:32}}),{c(){e=A("div"),O(t.$$.fragment),h(e,"class","w-full h-screen -mt-12 flex items-center justify-center")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p:W,i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function AAe(i){let e,t,n;function r(l){i[15](l)}let s={logs:i[2]};return i[0]!==void 0&&(s.filters=i[0]),e=new CAe({props:s}),De.push(()=>Ue(e,"filters",r,i[0])),e.$on("scrollItem",i[16]),e.$on("endOfItems",i[17]),{c(){O(e.$$.fragment)},m(l,o){N(e,l,o),n=!0},p(l,o){const a={};o&4&&(a.logs=l[2]),!t&&o&1&&(t=!0,a.filters=l[0],qe(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){M(e,l)}}}function PAe(i){let e,t,n=i[3].format(i[10].date)+"",r;return{c(){e=A("p"),t=Z("No entries found between now and "),r=Z(n),h(e,"class","text-gray-500 text-center leading-tight text-sm")},m(s,l){w(s,e,l),E(e,t),E(e,r)},p(s,l){l&8&&n!==(n=s[3].format(s[10].date)+"")&&oe(r,n)},d(s){s&&y(e)}}}function $D(i){let e,t,n;return t=new Me({props:{size:"sm",className:"bg-primary text-white rounded-full",$$slots:{default:[NAe]},$$scope:{ctx:i}}}),t.$on("click",i[18]),{c(){e=A("div"),O(t.$$.fragment),h(e,"class","px-4 py-2 absolute z-40 bottom-10 left-10 right-10 flex items-center justify-center")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p(r,s){const l={};s&67108864&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function NAe(i){let e;return{c(){e=Z("Load futher back...")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function MAe(i){let e,t,n=i[6]&&wD(i);return{c(){n&&n.c(),e=$e()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,[s]){r[6]?n?(n.p(r,s),s&64&&_(n,1)):(n=wD(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ie(),v(n,1,1,()=>{n=null}),re())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}const Vh=15;function LAe(i,e,t){const n={notes:!0,maps:!1,trackables:!1,context:!1};let{filters:r={...n}}=e,{daysToLoad:s=30}=e,{startingDate:l=new Date}=e,o=[],a=we(l),u=we(l),c=!0,f;const d=Dt();wt(()=>{t(6,f=!0)}),Dr(()=>{t(6,f=!1)});let m=new Date;const p=Pn();let g=0,k=!1;const $=async()=>{t(4,u=a.subtract(s,"day"));const K={end:a,start:u};r.search&&(K.search=r.search,K.fuzzy=!0);const G=await Ut.query(K);G.length===0&&t(1,g=g+1),t(2,o=[...G,...o.filter(U=>!G.find(Q=>Q._id===U._id))].sort((U,Q)=>U.end>Q.end?-1:1)),o.length==0&&g<=Vh&&(t(3,a=we(u)),await $())},D=async(K,G="unknown")=>(t(5,c=!0),K&&(t(1,g=0),t(3,a=we(l||new Date)),t(4,u=we(l||new Date))),g<=Vh&&await $(),t(5,c=!1),o),F=async K=>g<Vh?(t(3,a=we(u)),D(!1,K||"loadMore")):[],C=async()=>{t(2,o=[]),D(!0,"clearAndLoad")};let S,P,I,R;wt(async()=>{t(8,R=await Ut.getFirstDate()),C(),P=Ut.hook("onLogUpdate",async K=>{await Et(600),D(!0,"onLogUpdate")}),S=Ut.hook("onLogSaved",async K=>{await Et(600),D(!0,"onLogSaved")}),I=Ut.hook("onLogsDeleted",async K=>{await Et(200),await C()})}),Dr(()=>{S(),P(),I()});function B(K){r=K,t(0,r)}const z=K=>{const G=K.detail;d("topItem",G)},q=()=>{k||F()},H=()=>{t(1,g=0),F()};return i.$$set=K=>{"filters"in K&&t(0,r=K.filters),"daysToLoad"in K&&t(12,s=K.daysToLoad),"startingDate"in K&&t(13,l=K.startingDate)},i.$$.update=()=>{i.$$.dirty&24576&&l&&l.toDateString()!==m.toDateString()&&(t(14,m=l),t(2,o=[]),t(3,a=we(l)),t(4,u=we(l)),t(1,g=0),D()),i.$$.dirty&2&&t(7,k=g>=Vh)},[r,g,o,a,u,c,f,k,R,d,p,F,s,l,m,B,z,q,H]}class yz extends ce{constructor(e){super(),ue(this,e,LAe,MAe,le,{filters:0,daysToLoad:12,startingDate:13})}}function OAe(i){let e,t,n,r,s;function l(u){i[5](u)}function o(u){i[6](u)}let a={};return i[1]!==void 0&&(a.startingDate=i[1]),i[0]!==void 0&&(a.filters=i[0]),t=new yz({props:a}),De.push(()=>Ue(t,"startingDate",l,i[1])),De.push(()=>Ue(t,"filters",o,i[0])),t.$on("topItem",i[7]),{c(){e=A("div"),O(t.$$.fragment),h(e,"class","pb-10")},m(u,c){w(u,e,c),N(t,e,null),s=!0},p(u,c){const f={};!n&&c&2&&(n=!0,f.startingDate=u[1],qe(()=>n=!1)),!r&&c&1&&(r=!0,f.filters=u[0],qe(()=>r=!1)),t.$set(f)},i(u){s||(_(t.$$.fragment,u),s=!0)},o(u){v(t.$$.fragment,u),s=!1},d(u){u&&y(e),M(t)}}}function IAe(i){let e,t,n;return t=new ou({props:{className:"font-bold ntitle",text:i[2].fromNow()}}),{c(){e=A("div"),O(t.$$.fragment)},m(r,s){w(r,e,s),N(t,e,null),n=!0},p(r,s){const l={};s&4&&(l.text=r[2].fromNow()),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function BAe(i){let e=_e.t("general.close","Close")+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p:W,d(n){n&&y(t)}}}function zAe(i){let e,t;return e=new Me({props:{slot:"left",primary:!0,clear:!0,$$slots:{default:[BAe]},$$scope:{ctx:i}}}),e.$on("click",i[3]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&512&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function RAe(i){let e,t;return e=new Jt({props:{slot:"header",className:"bg-white dark:bg-black",$$slots:{left:[zAe],default:[IAe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&516&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function jAe(i){let e,t;return e=new _n({props:{$$slots:{header:[RAe],default:[OAe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&519&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function YAe(i,e,t){let{id:n}=e,{filters:r={}}=e,{startingDate:s=new Date}=e;Pn();let l=we(s||new Date);const o=()=>{Ot(n)};function a(f){s=f,t(1,s)}function u(f){r=f,t(0,r)}const c=f=>{t(2,l=we(f.detail.time))};return i.$$set=f=>{"id"in f&&t(4,n=f.id),"filters"in f&&t(0,r=f.filters),"startingDate"in f&&t(1,s=f.startingDate)},[r,s,l,o,n,a,u,c]}class UAe extends ce{constructor(e){super(),ue(this,e,YAe,jAe,le,{id:4,filters:0,startingDate:1})}}const mf=OI("timeline-settings",{default:{notes:!0,maps:!1,trackables:!1,context:!1}});function wz(i){en({id:`timeline-modal-${ul(i.search)}`,component:UAe,componentProps:{filters:i}})}const qAe=async()=>{let i=await Xe.prompt(`${_e.t("board.add-a-board","Add New Tab")}`,`${_e.t("board.add-a-board-description","Tabs help you organize your trackables into logical groups.")}`,{placeholder:`${_e.t("board.board-input-placeholder","Tab name or Emoji \u{1F44D}")}`});if(i){let e=i.trim();e.toLowerCase()!=="all"?nue(e):Xe.error("Sorry, 'All' is a reserved word")}},HAe=i=>({title:_e.t("general.new-context"," Add New +Context"),awardRequired:"open-streak-1",icon:ZI,async click(){await 200,await xi(new ri({type:"context"}))}}),$z=i=>({title:`${_e.t("general.new-tracker","Add New #Tracker")}`,icon:C0,async click(){xi(new ri({type:"tracker",tracker:new oi({})}))}}),Fz=async i=>{await Xe.confirm(`${_e.t("general.remove-official","Remove Official Trackable")}`,`${_e.t("tracker.delete-description","No tracked data will be deleted, and you can always recreate this tracker")}`)&&(Xe.blocker("Deleting..."),await cue(i,!1),Xe.stopBlocker(),Hn.reload())},WAe=async(i,e)=>{const t=e||Rp();if(await Xe.confirm(`Remove ${i.tag} from this board?`,"You can always re-add it later")){const r=await Nc(),s=r.find(l=>l.id===t);s&&(s.elements=s.elements.filter(l=>l!==i.tag)),await Yp(r),Rr.update(l=>(l.boards=r,l.hash=Fn(r),l))}},VAe=async i=>{const e=await Nc(),t=e.findIndex(n=>n.id==i.id);return t>-1?e[t]=i:e.push(i),Pv(e)},GAe=async i=>{const e=Rp(),t=[{title:"Remove from Current Tab",click(){WAe(i,e)}},{title:"Remove official Trackable",click(){Fz(i)}}];await Et(300),Xe.popmenu({id:`delete-${i.tag}`,trackable:i,title:`Delete ${i.label}`,buttons:t})},ZAe=(i,e)=>{const t=[{title:"View Full Note",click(){gc(i)}},{title:`View all ${i.endDayjs().format(Pn().mmm_d_yyyy)}`,click(){a_(i.end)}},{title:`View Trending on ${i.endDayjs().format(Pn().mmm_d_yyyy)}`,click(){kz(i.end,"day")}}];Xe.popmenu({id:`calendar-mode-${i._id}`,title:"What would you like to do?",buttons:t})},Ui=async(i,e)=>{var a,u;e=e||{},e.component=e.component||GEe,e.componentProps=e.componentProps||{trackable:i},e.title=e.title||i.tag;const t=mae(i),n=t?(u=(a=t[i.tag])==null?void 0:a.streak)==null?void 0:u.v:0,r=[];t&&t.last&&(r.push(`(${i.formatValue(t.last.v)})`),r.push(we(t.last.d).fromNow())),e.description=r.length?r.join(" "):void 0,e.trackable=e.trackable||i;const s=()=>{e.click&&e.click()};let l=[{title:`${_e.t("tracker.stats","Stats")} `,icon:Gq,skipClosing:!0,click(){Rf(i,{known:{},date:new Date}),s()}},{title:`${_e.t("tracker.streak","Streak")}`,icon:A6e,right:n,skipClosing:!0,click(){HTe(i)}},{title:_e.t("general.entries","Entries"),icon:IP,skipClosing:!0,click(){wz({search:i.tag,notes:!0})}},{title:"Calendar",icon:Ga,skipClosing:!0,click(){yB({trackable:e.trackable})}},{title:`${_e.t("general.configure","Configure")}`,icon:aH,skipClosing:!0,click(){i.type==="tracker"&&xi(i),i.type==="person"&&xi(i),i.type==="context"&&xi(i),s()}},{title:`${_e.t("general.remove","Remove")}`,icon:Za,click(){GAe(i),s()}}];const o={id:`trackable-options-${ul(e.trackable.tag)}`,title:e.title||"Tracker Options",component:e.component,componentProps:e.componentProps,description:e.description||void 0,buttons:e.buttons?[...l,...e.buttons]:l,trackable:e.trackable,buttonView:"grid"};return await ls(o)},Ez=i=>({title:`${_e.t("general.new-person","Add New @Person")}`,icon:zP,awardRequired:"open-streak-1",async click(){await Et(300),Dz()}}),Dz=async i=>{try{const e=new jl({});xi(e.toTrackable())}catch(e){Xe.error(e.message)}},Cz=(i,e)=>({title:`${_e.t("general.pick-from-existing-trackables","Pick From Existing")}`,icon:qP,disabled:e,divider:!0,async click(){await Et(300);const t=await Bc();t.length&&await ym(t,i)}}),Sz={title:`${_e.t("general.browse-library","Browse Library...")}`,icon:YP,async click(){F6e()}},xAe={title:`${_e.t("general.new-tab","Add New Tab")}`,icon:Xq,divider:!0,async click(){qAe()}},Tz=(i,e={})=>{const t=Object.keys(e).length>0;return[$z(),Ez(),HAe(),Cz(i,!t),Sz,xAe]},XAe=async(i,e={})=>{const t=Tz(i,e);Xe.popmenu({id:"things-to-track",buttons:t})},KAe=i=>{let e=[];return e.push({title:`${_e.t("general.go-back-in-time","Go Back in Time")}`,icon:M6e,async click(){await Et(300),hue()}}),e.push({title:"Edit",divider:!0,icon:C6e,click(){ML()}}),e},np=(i=0,e)=>or.positivity.sort((t,n)=>t.score<n.score?1:-1).map(t=>({title:`${t.label}`,emoji:t.emoji,checked:i==t.score,click(){e&&e(t)}}));Array.prototype.find||(Array.prototype.find=function(i){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof i!="function")throw new TypeError("predicate must be a function");for(var e=Object(this),t=e.length>>>0,n=arguments[1],r,s=0;s<t;s++)if(r=e[s],i.call(n,r,s,e))return r});if(window&&typeof window.CustomEvent!="function"){let i=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n};var CustomEvent$1=i;typeof window.Event<"u"&&(i.prototype=window.Event.prototype),window.CustomEvent=i}class ip{constructor(e){this.tribute=e,this.tribute.events=this}static keys(){return[{key:9,value:"TAB"},{key:8,value:"DELETE"},{key:13,value:"ENTER"},{key:27,value:"ESCAPE"},{key:32,value:"SPACE"},{key:38,value:"UP"},{key:40,value:"DOWN"}]}bind(e){e.boundKeydown=this.keydown.bind(e,this),e.boundKeyup=this.keyup.bind(e,this),e.boundInput=this.input.bind(e,this),e.addEventListener("keydown",e.boundKeydown,!1),e.addEventListener("keyup",e.boundKeyup,!1),e.addEventListener("input",e.boundInput,!1)}unbind(e){e.removeEventListener("keydown",e.boundKeydown,!1),e.removeEventListener("keyup",e.boundKeyup,!1),e.removeEventListener("input",e.boundInput,!1),delete e.boundKeydown,delete e.boundKeyup,delete e.boundInput}keydown(e,t){e.shouldDeactivate(t)&&(e.tribute.isActive=!1,e.tribute.hideMenu());let n=this;e.commandEvent=!1,ip.keys().forEach(r=>{r.key===t.keyCode&&(e.commandEvent=!0,e.callbacks()[r.value.toLowerCase()](t,n))})}input(e,t){e.inputEvent=!0,e.keyup.call(this,e,t)}click(e,t){let n=e.tribute;if(n.menu&&n.menu.contains(t.target)){let r=t.target;for(t.preventDefault(),t.stopPropagation();r.nodeName.toLowerCase()!=="li";)if(r=r.parentNode,!r||r===n.menu)throw new Error("cannot find the <li> container for the click");n.selectItemAtIndex(r.getAttribute("data-index"),t),n.hideMenu()}else n.current.element&&!n.current.externalTrigger&&(n.current.externalTrigger=!1,setTimeout(()=>n.hideMenu()))}keyup(e,t){if(e.inputEvent&&(e.inputEvent=!1),e.updateSelection(this),t.keyCode!==27){if(!e.tribute.allowSpaces&&e.tribute.hasTrailingSpace){e.tribute.hasTrailingSpace=!1,e.commandEvent=!0,e.callbacks().space(t,this);return}if(!e.tribute.isActive)if(e.tribute.autocompleteMode)e.callbacks().triggerChar(t,this,"");else{let n=e.getKeyCode(e,this,t);if(isNaN(n)||!n)return;let r=e.tribute.triggers().find(s=>s.charCodeAt(0)===n);typeof r<"u"&&e.callbacks().triggerChar(t,this,r)}e.tribute.current.mentionText.length<e.tribute.current.collection.menuShowMinLength||((e.tribute.current.trigger||e.tribute.autocompleteMode)&&e.commandEvent===!1||e.tribute.isActive&&t.keyCode===8)&&e.tribute.showMenuFor(this,!0)}}shouldDeactivate(e){if(!this.tribute.isActive)return!1;if(this.tribute.current.mentionText.length===0){let t=!1;return ip.keys().forEach(n=>{e.keyCode===n.key&&(t=!0)}),!t}return!1}getKeyCode(e,t,n){let r=e.tribute,s=r.range.getTriggerInfo(!1,r.hasTrailingSpace,!0,r.allowSpaces,r.autocompleteMode);return s?s.mentionTriggerChar.charCodeAt(0):!1}updateSelection(e){this.tribute.current.element=e;let t=this.tribute.range.getTriggerInfo(!1,this.tribute.hasTrailingSpace,!0,this.tribute.allowSpaces,this.tribute.autocompleteMode);t&&(this.tribute.current.selectedPath=t.mentionSelectedPath,this.tribute.current.mentionText=t.mentionText,this.tribute.current.selectedOffset=t.mentionSelectedOffset)}callbacks(){return{triggerChar:(e,t,n)=>{let r=this.tribute;r.current.trigger=n;let s=r.collection.find(l=>l.trigger===n);r.current.collection=s,r.current.mentionText.length>=r.current.collection.menuShowMinLength&&r.inputEvent&&r.showMenuFor(t,!0)},enter:(e,t)=>{this.tribute.isActive&&this.tribute.current.filteredItems&&(e.preventDefault(),e.stopPropagation(),setTimeout(()=>{this.tribute.selectItemAtIndex(this.tribute.menuSelected,e),this.tribute.hideMenu()},0))},escape:(e,t)=>{this.tribute.isActive&&(e.preventDefault(),e.stopPropagation(),this.tribute.isActive=!1,this.tribute.hideMenu())},tab:(e,t)=>{this.callbacks().enter(e,t)},space:(e,t)=>{this.tribute.isActive&&(this.tribute.spaceSelectsMatch?this.callbacks().enter(e,t):this.tribute.allowSpaces||(e.stopPropagation(),setTimeout(()=>{this.tribute.hideMenu(),this.tribute.isActive=!1},0)))},up:(e,t)=>{if(this.tribute.isActive&&this.tribute.current.filteredItems){e.preventDefault(),e.stopPropagation();let n=this.tribute.current.filteredItems.length,r=this.tribute.menuSelected;n>r&&r>0?(this.tribute.menuSelected--,this.setActiveLi()):r===0&&(this.tribute.menuSelected=n-1,this.setActiveLi(),this.tribute.menu.scrollTop=this.tribute.menu.scrollHeight)}},down:(e,t)=>{if(this.tribute.isActive&&this.tribute.current.filteredItems){e.preventDefault(),e.stopPropagation();let n=this.tribute.current.filteredItems.length-1,r=this.tribute.menuSelected;n>r?(this.tribute.menuSelected++,this.setActiveLi()):n===r&&(this.tribute.menuSelected=0,this.setActiveLi(),this.tribute.menu.scrollTop=0)}},delete:(e,t)=>{this.tribute.isActive&&this.tribute.current.mentionText.length<1?this.tribute.hideMenu():this.tribute.isActive&&this.tribute.showMenuFor(t)}}}setActiveLi(e){let t=this.tribute.menu.querySelectorAll("li"),n=t.length>>>0;e&&(this.tribute.menuSelected=parseInt(e));for(let r=0;r<n;r++){let s=t[r];if(r===this.tribute.menuSelected){s.classList.add(this.tribute.current.collection.selectClass);let l=s.getBoundingClientRect(),o=this.tribute.menu.getBoundingClientRect();if(l.bottom>o.bottom){let a=l.bottom-o.bottom;this.tribute.menu.scrollTop+=a}else if(l.top<o.top){let a=o.top-l.top;this.tribute.menu.scrollTop-=a}}else s.classList.remove(this.tribute.current.collection.selectClass)}}getFullHeight(e,t){let n=e.getBoundingClientRect().height;if(t){let r=e.currentStyle||window.getComputedStyle(e);return n+parseFloat(r.marginTop)+parseFloat(r.marginBottom)}return n}}class JAe{constructor(e){this.tribute=e,this.tribute.menuEvents=this,this.menu=this.tribute.menu}bind(e){this.menuClickEvent=this.tribute.events.click.bind(null,this),this.menuContainerScrollEvent=this.debounce(()=>{this.tribute.isActive&&this.tribute.showMenuFor(this.tribute.current.element,!1)},300,!1),this.windowResizeEvent=this.debounce(()=>{this.tribute.isActive&&this.tribute.range.positionMenuAtCaret(!0)},300,!1),this.tribute.range.getDocument().addEventListener("MSPointerDown",this.menuClickEvent,!1),this.tribute.range.getDocument().addEventListener("mousedown",this.menuClickEvent,!1),window.addEventListener("resize",this.windowResizeEvent),this.menuContainer?this.menuContainer.addEventListener("scroll",this.menuContainerScrollEvent,!1):window.addEventListener("scroll",this.menuContainerScrollEvent)}unbind(e){this.tribute.range.getDocument().removeEventListener("mousedown",this.menuClickEvent,!1),this.tribute.range.getDocument().removeEventListener("MSPointerDown",this.menuClickEvent,!1),window.removeEventListener("resize",this.windowResizeEvent),this.menuContainer?this.menuContainer.removeEventListener("scroll",this.menuContainerScrollEvent,!1):window.removeEventListener("scroll",this.menuContainerScrollEvent)}debounce(e,t,n){var r;return()=>{var s=this,l=arguments,o=()=>{r=null,n||e.apply(s,l)},a=n&&!r;clearTimeout(r),r=setTimeout(o,t),a&&e.apply(s,l)}}}class QAe{constructor(e){this.tribute=e,this.tribute.range=this}getDocument(){let e;return this.tribute.current.collection&&(e=this.tribute.current.collection.iframe),e?e.contentWindow.document:document}positionMenuAtCaret(e){let t=this.tribute.current,n,r=this.getTriggerInfo(!1,this.tribute.hasTrailingSpace,!0,this.tribute.allowSpaces,this.tribute.autocompleteMode);if(typeof r<"u"){if(!this.tribute.positionMenu){this.tribute.menu.style.cssText="display: block;";return}this.isContentEditable(t.element)?n=this.getContentEditableCaretPosition(r.mentionPosition):n=this.getTextAreaOrInputUnderlinePosition(this.tribute.current.element,r.mentionPosition),this.tribute.menu.style.cssText=`top: ${n.top}px;
                                     left: ${n.left}px;
                                     right: ${n.right}px;
                                     bottom: ${n.bottom}px;
                                     position: absolute;
                                     display: block;`,n.left==="auto"&&(this.tribute.menu.style.left="auto"),n.top==="auto"&&(this.tribute.menu.style.top="auto"),e&&this.scrollIntoView(),window.setTimeout(()=>{let s={width:this.tribute.menu.offsetWidth,height:this.tribute.menu.offsetHeight},l=this.isMenuOffScreen(n,s),o=window.innerWidth>s.width&&(l.left||l.right),a=window.innerHeight>s.height&&(l.top||l.bottom);(o||a)&&(this.tribute.menu.style.cssText="display: none",this.positionMenuAtCaret(e))},0)}else this.tribute.menu.style.cssText="display: none"}get menuContainerIsBody(){return this.tribute.menuContainer===document.body||!this.tribute.menuContainer}selectElement(e,t,n){let r,s=e;if(t)for(var l=0;l<t.length;l++){if(s=s.childNodes[t[l]],s===void 0)return;for(;s.length<n;)n-=s.length,s=s.nextSibling;s.childNodes.length===0&&!s.length&&(s=s.previousSibling)}let o=this.getWindowSelection();r=this.getDocument().createRange(),r.setStart(s,n),r.setEnd(s,n),r.collapse(!0);try{o.removeAllRanges()}catch{}o.addRange(r),e.focus()}replaceTriggerText(e,t,n,r,s){let l=this.getTriggerInfo(!0,n,t,this.tribute.allowSpaces,this.tribute.autocompleteMode);if(l!==void 0){let o=this.tribute.current,a=new CustomEvent("tribute-replaced",{detail:{item:s,instance:o,context:l,event:r}});if(this.isContentEditable(o.element)){let u=typeof this.tribute.replaceTextSuffix=="string"?this.tribute.replaceTextSuffix:"\xA0";e+=u;let c=l.mentionPosition+l.mentionText.length;this.tribute.autocompleteMode||(c+=l.mentionTriggerChar.length),this.pasteHtml(e,l.mentionPosition,c)}else{let u=this.tribute.current.element,c=typeof this.tribute.replaceTextSuffix=="string"?this.tribute.replaceTextSuffix:" ";e+=c;let f=l.mentionPosition,d=l.mentionPosition+l.mentionText.length+c.length;this.tribute.autocompleteMode||(d+=l.mentionTriggerChar.length-1),u.value=u.value.substring(0,f)+e+u.value.substring(d,u.value.length),u.selectionStart=f+e.length,u.selectionEnd=f+e.length}o.element.dispatchEvent(new CustomEvent("input",{bubbles:!0})),o.element.dispatchEvent(a)}}pasteHtml(e,t,n){let r,s;s=this.getWindowSelection(),r=this.getDocument().createRange(),r.setStart(s.anchorNode,t),r.setEnd(s.anchorNode,n),r.deleteContents();let l=this.getDocument().createElement("div");l.innerHTML=e;let o=this.getDocument().createDocumentFragment(),a,u;for(;a=l.firstChild;)u=o.appendChild(a);r.insertNode(o),u&&(r=r.cloneRange(),r.setStartAfter(u),r.collapse(!0),s.removeAllRanges(),s.addRange(r))}getWindowSelection(){return this.tribute.collection.iframe?this.tribute.collection.iframe.contentWindow.getSelection():window.getSelection()}getNodePositionInParent(e){if(e.parentNode===null)return 0;for(var t=0;t<e.parentNode.childNodes.length;t++)if(e.parentNode.childNodes[t]===e)return t}getContentEditableSelectedPath(e){let t=this.getWindowSelection(),n=t.anchorNode,r=[],s;if(n!=null){let l,o=n.contentEditable;for(;n!==null&&o!=="true";)l=this.getNodePositionInParent(n),r.push(l),n=n.parentNode,n!==null&&(o=n.contentEditable);return r.reverse(),s=t.getRangeAt(0).startOffset,{selected:n,path:r,offset:s}}}getTextPrecedingCurrentSelection(){let e=this.tribute.current,t="";if(this.isContentEditable(e.element)){let n=this.getWindowSelection().anchorNode;if(n!=null){let r=n.textContent,s=this.getWindowSelection().getRangeAt(0).startOffset;r&&s>=0&&(t=r.substring(0,s))}}else{let n=this.tribute.current.element;if(n){let r=n.selectionStart;n.value&&r>=0&&(t=n.value.substring(0,r))}}return t}getLastWordInText(e){e=e.replace(/\u00A0/g," ");let t=e.split(/\s+/),n=t.length-1;return t[n].trim()}getTriggerInfo(e,t,n,r,s){let l=this.tribute.current,o,a,u;if(!this.isContentEditable(l.element))o=this.tribute.current.element;else{let d=this.getContentEditableSelectedPath(l);d&&(o=d.selected,a=d.path,u=d.offset)}let c=this.getTextPrecedingCurrentSelection(),f=this.getLastWordInText(c);if(s)return{mentionPosition:c.length-f.length,mentionText:f,mentionSelectedElement:o,mentionSelectedPath:a,mentionSelectedOffset:u};if(c!=null){let d=-1,m;if(this.tribute.collection.forEach(p=>{let g=p.trigger,k=p.requireLeadingSpace?this.lastIndexWithLeadingSpace(c,g):c.lastIndexOf(g);k>d&&(d=k,m=g,n=p.requireLeadingSpace)}),d>=0&&(d===0||!n||/[\xA0\s]/g.test(c.substring(d-1,d)))){let p=c.substring(d+m.length,c.length);m=c.substring(d,d+m.length);let g=p.substring(0,1),k=p.length>0&&(g===" "||g==="\xA0");t&&(p=p.trim());let $=r?/[^\S ]/g:/[\xA0\s]/g;if(this.tribute.hasTrailingSpace=$.test(p),!k&&(e||!$.test(p)))return{mentionPosition:d,mentionText:p,mentionSelectedElement:o,mentionSelectedPath:a,mentionSelectedOffset:u,mentionTriggerChar:m}}}}lastIndexWithLeadingSpace(e,t){let n=e.split("").reverse().join(""),r=-1;for(let s=0,l=e.length;s<l;s++){let o=s===e.length-1,a=/\s/.test(n[s+1]),u=!0;for(let c=t.length-1;c>=0;c--)if(t[c]!==n[s-c]){u=!1;break}if(u&&(o||a)){r=e.length-1-s;break}}return r}isContentEditable(e){return e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA"}isMenuOffScreen(e,t){let n=window.innerWidth,r=window.innerHeight,s=document.documentElement,l=(window.pageXOffset||s.scrollLeft)-(s.clientLeft||0),o=(window.pageYOffset||s.scrollTop)-(s.clientTop||0),a=typeof e.top=="number"?e.top:o+r-e.bottom-t.height,u=typeof e.right=="number"?e.right:e.left+t.width,c=typeof e.bottom=="number"?e.bottom:e.top+t.height,f=typeof e.left=="number"?e.left:l+n-e.right-t.width;return{top:a<Math.floor(o),right:u>Math.ceil(l+n),bottom:c>Math.ceil(o+r),left:f<Math.floor(l)}}getMenuDimensions(){let e={width:null,height:null};return this.tribute.menu.style.cssText=`top: 0px;
                                 left: 0px;
                                 position: fixed;
                                 display: block;
                                 visibility; hidden;`,e.width=this.tribute.menu.offsetWidth,e.height=this.tribute.menu.offsetHeight,this.tribute.menu.style.cssText="display: none;",e}getTextAreaOrInputUnderlinePosition(e,t,n){let r=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing"],s=window.mozInnerScreenX!==null,l=this.getDocument().createElement("div");l.id="input-textarea-caret-position-mirror-div",this.getDocument().body.appendChild(l);let o=l.style,a=window.getComputedStyle?getComputedStyle(e):e.currentStyle;o.whiteSpace="pre-wrap",e.nodeName!=="INPUT"&&(o.wordWrap="break-word"),o.position="absolute",o.visibility="hidden",r.forEach(P=>{o[P]=a[P]}),s?(o.width=`${parseInt(a.width)-2}px`,e.scrollHeight>parseInt(a.height)&&(o.overflowY="scroll")):o.overflow="hidden",l.textContent=e.value.substring(0,t),e.nodeName==="INPUT"&&(l.textContent=l.textContent.replace(/\s/g,"\xA0"));let u=this.getDocument().createElement("span");u.textContent=e.value.substring(t)||".",l.appendChild(u);let c=e.getBoundingClientRect(),f=document.documentElement,d=(window.pageXOffset||f.scrollLeft)-(f.clientLeft||0),m=(window.pageYOffset||f.scrollTop)-(f.clientTop||0),p=0,g=0;this.menuContainerIsBody&&(p=c.top,g=c.left);let k={top:p+m+u.offsetTop+parseInt(a.borderTopWidth)+parseInt(a.fontSize)-e.scrollTop,left:g+d+u.offsetLeft+parseInt(a.borderLeftWidth)},$=window.innerWidth,D=window.innerHeight,F=this.getMenuDimensions(),C=this.isMenuOffScreen(k,F);C.right&&(k.right=$-k.left,k.left="auto");let S=this.tribute.menuContainer?this.tribute.menuContainer.offsetHeight:this.getDocument().body.offsetHeight;if(C.bottom){let P=this.tribute.menuContainer?this.tribute.menuContainer.getBoundingClientRect():this.getDocument().body.getBoundingClientRect(),I=S-(D-P.top);k.bottom=I+(D-c.top-u.offsetTop),k.top="auto"}return C=this.isMenuOffScreen(k,F),C.left&&(k.left=$>F.width?d+$-F.width:d,delete k.right),C.top&&(k.top=D>F.height?m+D-F.height:m,delete k.bottom),this.getDocument().body.removeChild(l),k}getContentEditableCaretPosition(e){let t,n=this.getWindowSelection();t=this.getDocument().createRange(),t.setStart(n.anchorNode,e),t.setEnd(n.anchorNode,e),t.collapse(!1);let r=t.getBoundingClientRect(),s=document.documentElement,l=(window.pageXOffset||s.scrollLeft)-(s.clientLeft||0),o=(window.pageYOffset||s.scrollTop)-(s.clientTop||0),a=r.left,u=r.top,c={left:a+l,top:u+r.height+o},f=window.innerWidth,d=window.innerHeight,m=this.getMenuDimensions(),p=this.isMenuOffScreen(c,m);p.right&&(c.left="auto",c.right=f-r.left-l);let g=this.tribute.menuContainer?this.tribute.menuContainer.offsetHeight:this.getDocument().body.offsetHeight;if(p.bottom){let k=this.tribute.menuContainer?this.tribute.menuContainer.getBoundingClientRect():this.getDocument().body.getBoundingClientRect(),$=g-(d-k.top);c.top="auto",c.bottom=$+(d-r.top)}return p=this.isMenuOffScreen(c,m),p.left&&(c.left=f>m.width?l+f-m.width:l,delete c.right),p.top&&(c.top=d>m.height?o+d-m.height:o,delete c.bottom),this.menuContainerIsBody||(c.left=c.left?c.left-this.tribute.menuContainer.offsetLeft:c.left,c.top=c.top?c.top-this.tribute.menuContainer.offsetTop:c.top),c}scrollIntoView(e){let t=20,n,r=100,s=this.menu;if(typeof s>"u")return;for(;n===void 0||n.height===0;)if(n=s.getBoundingClientRect(),n.height===0&&(s=s.childNodes[0],s===void 0||!s.getBoundingClientRect))return;let l=n.top,o=l+n.height;if(l<0)window.scrollTo(0,window.pageYOffset+n.top-t);else if(o>window.innerHeight){let a=window.pageYOffset+n.top-t;a-window.pageYOffset>r&&(a=window.pageYOffset+r);let u=window.pageYOffset-(window.innerHeight-o);u>a&&(u=a),window.scrollTo(0,u)}}}class ePe{constructor(e){this.tribute=e,this.tribute.search=this}simpleFilter(e,t){return t.filter(n=>this.test(e,n))}test(e,t){return this.match(e,t)!==null}match(e,t,n){n=n||{},t.length;let r=n.pre||"",s=n.post||"",l=n.caseSensitive&&t||t.toLowerCase();if(n.skip)return{rendered:t,score:0};e=n.caseSensitive&&e||e.toLowerCase();let o=this.traverse(l,e,0,0,[]);return o?{rendered:this.render(t,o.cache,r,s),score:o.score}:null}traverse(e,t,n,r,s){if(t.length===r)return{score:this.calculateScore(s),cache:s.slice()};if(e.length===n||t.length-r>e.length-n)return;let l=t[r],o=e.indexOf(l,n),a,u;for(;o>-1;){if(s.push(o),u=this.traverse(e,t,o+1,r+1,s),s.pop(),!u)return a;(!a||a.score<u.score)&&(a=u),o=e.indexOf(l,o+1)}return a}calculateScore(e){let t=0,n=1;return e.forEach((r,s)=>{s>0&&(e[s-1]+1===r?n+=n+1:n=1),t+=n}),t}render(e,t,n,r){var s=e.substring(0,t[0]);return t.forEach((l,o)=>{s+=n+e[l]+r+e.substring(l+1,t[o+1]?t[o+1]:e.length)}),s}filter(e,t,n){return n=n||{},t.reduce((r,s,l,o)=>{let a=s;n.extract&&(a=n.extract(s),a||(a=""));let u=this.match(e,a,n);return u!=null&&(r[r.length]={string:u.rendered,score:u.score,index:l,original:s}),r},[]).sort((r,s)=>{let l=s.score-r.score;return l||r.index-s.index})}}class wa{constructor({values:e=null,iframe:t=null,selectClass:n="highlight",containerClass:r="tribute-container",itemClass:s="",trigger:l="@",autocompleteMode:o=!1,selectTemplate:a=null,menuItemTemplate:u=null,lookup:c="key",fillAttr:f="value",collection:d=null,menuContainer:m=null,noMatchTemplate:p=null,requireLeadingSpace:g=!0,allowSpaces:k=!1,replaceTextSuffix:$=null,positionMenu:D=!0,spaceSelectsMatch:F=!1,searchOpts:C={},menuItemLimit:S=null,menuShowMinLength:P=0}){if(this.autocompleteMode=o,this.menuSelected=0,this.current={},this.inputEvent=!1,this.isActive=!1,this.menuContainer=m,this.allowSpaces=k,this.replaceTextSuffix=$,this.positionMenu=D,this.hasTrailingSpace=!1,this.spaceSelectsMatch=F,this.autocompleteMode&&(l="",k=!1),e)this.collection=[{trigger:l,iframe:t,selectClass:n,containerClass:r,itemClass:s,selectTemplate:(a||wa.defaultSelectTemplate).bind(this),menuItemTemplate:(u||wa.defaultMenuItemTemplate).bind(this),noMatchTemplate:(I=>typeof I=="string"?I.trim()===""?null:I:typeof I=="function"?I.bind(this):p||function(){return"<li>No Match Found!</li>"}.bind(this))(p),lookup:c,fillAttr:f,values:e,requireLeadingSpace:g,searchOpts:C,menuItemLimit:S,menuShowMinLength:P}];else if(d)this.autocompleteMode&&console.warn("Tribute in autocomplete mode does not work for collections"),this.collection=d.map(I=>({trigger:I.trigger||l,iframe:I.iframe||t,selectClass:I.selectClass||n,containerClass:I.containerClass||r,itemClass:I.itemClass||s,selectTemplate:(I.selectTemplate||wa.defaultSelectTemplate).bind(this),menuItemTemplate:(I.menuItemTemplate||wa.defaultMenuItemTemplate).bind(this),noMatchTemplate:(R=>typeof R=="string"?R.trim()===""?null:R:typeof R=="function"?R.bind(this):p||function(){return"<li>No Match Found!</li>"}.bind(this))(p),lookup:I.lookup||c,fillAttr:I.fillAttr||f,values:I.values,requireLeadingSpace:I.requireLeadingSpace,searchOpts:I.searchOpts||C,menuItemLimit:I.menuItemLimit||S,menuShowMinLength:I.menuShowMinLength||P}));else throw new Error("[Tribute] No collection specified.");new QAe(this),new ip(this),new JAe(this),new ePe(this)}get isActive(){return this._isActive}set isActive(e){if(this._isActive!=e&&(this._isActive=e,this.current.element)){let t=new CustomEvent(`tribute-active-${e}`);this.current.element.dispatchEvent(t)}}static defaultSelectTemplate(e){return typeof e>"u"?`${this.current.collection.trigger}${this.current.mentionText}`:this.range.isContentEditable(this.current.element)?'<span class="tribute-mention">'+(this.current.collection.trigger+e.original[this.current.collection.fillAttr])+"</span>":this.current.collection.trigger+e.original[this.current.collection.fillAttr]}static defaultMenuItemTemplate(e){return e.string}static inputTypes(){return["TEXTAREA","INPUT"]}triggers(){return this.collection.map(e=>e.trigger)}attach(e){if(!e)throw new Error("[Tribute] Must pass in a DOM node or NodeList.");if(typeof jQuery<"u"&&e instanceof jQuery&&(e=e.get()),e.constructor===NodeList||e.constructor===HTMLCollection||e.constructor===Array){let n=e.length;for(var t=0;t<n;++t)this._attach(e[t])}else this._attach(e)}_attach(e){e.hasAttribute("data-tribute")&&console.warn("Tribute was already bound to "+e.nodeName),this.ensureEditable(e),this.events.bind(e),e.setAttribute("data-tribute",!0)}ensureEditable(e){if(wa.inputTypes().indexOf(e.nodeName)===-1)if(e.contentEditable)e.contentEditable=!0;else throw new Error("[Tribute] Cannot bind to "+e.nodeName)}createMenu(e){let t=this.range.getDocument().createElement("div"),n=this.range.getDocument().createElement("ul");return t.className=e,t.appendChild(n),this.menuContainer?this.menuContainer.appendChild(t):this.range.getDocument().body.appendChild(t)}showMenuFor(e,t){if(this.isActive&&this.current.element===e&&this.current.mentionText===this.currentMentionTextSnapshot)return;this.currentMentionTextSnapshot=this.current.mentionText,this.menu||(this.menu=this.createMenu(this.current.collection.containerClass),e.tributeMenu=this.menu,this.menuEvents.bind(this.menu)),this.isActive=!0,this.menuSelected=0,this.current.mentionText||(this.current.mentionText="");const n=r=>{if(!this.isActive)return;let s=this.search.filter(this.current.mentionText,r,{pre:this.current.collection.searchOpts.pre||"<span>",post:this.current.collection.searchOpts.post||"</span>",skip:this.current.collection.searchOpts.skip,extract:a=>{if(typeof this.current.collection.lookup=="string")return a[this.current.collection.lookup];if(typeof this.current.collection.lookup=="function")return this.current.collection.lookup(a,this.current.mentionText);throw new Error("Invalid lookup attribute, lookup must be string or function.")}});this.current.collection.menuItemLimit&&(s=s.slice(0,this.current.collection.menuItemLimit)),this.current.filteredItems=s;let l=this.menu.querySelector("ul");if(this.range.positionMenuAtCaret(t),!s.length){let a=new CustomEvent("tribute-no-match",{detail:this.menu});this.current.element.dispatchEvent(a),typeof this.current.collection.noMatchTemplate=="function"&&!this.current.collection.noMatchTemplate()||!this.current.collection.noMatchTemplate?this.hideMenu():typeof this.current.collection.noMatchTemplate=="function"?l.innerHTML=this.current.collection.noMatchTemplate():l.innerHTML=this.current.collection.noMatchTemplate;return}l.innerHTML="";let o=this.range.getDocument().createDocumentFragment();s.forEach((a,u)=>{let c=this.range.getDocument().createElement("li");c.setAttribute("data-index",u),c.className=this.current.collection.itemClass,c.addEventListener("mousemove",f=>{let[d,m]=this._findLiTarget(f.target);f.movementY!==0&&this.events.setActiveLi(m)}),this.menuSelected===u&&c.classList.add(this.current.collection.selectClass),c.innerHTML=this.current.collection.menuItemTemplate(a),o.appendChild(c)}),l.appendChild(o)};typeof this.current.collection.values=="function"?this.current.collection.values(this.current.mentionText,n):n(this.current.collection.values)}_findLiTarget(e){if(!e)return[];const t=e.getAttribute("data-index");return t?[e,t]:this._findLiTarget(e.parentNode)}showMenuForCollection(e,t){e!==document.activeElement&&this.placeCaretAtEnd(e),this.current.collection=this.collection[t||0],this.current.externalTrigger=!0,this.current.element=e,e.isContentEditable?this.insertTextAtCursor(this.current.collection.trigger):this.insertAtCaret(e,this.current.collection.trigger),this.showMenuFor(e)}placeCaretAtEnd(e){if(e.focus(),typeof window.getSelection<"u"&&typeof document.createRange<"u"){var t=document.createRange();t.selectNodeContents(e),t.collapse(!1);var n=window.getSelection();n.removeAllRanges(),n.addRange(t)}else if(typeof document.body.createTextRange<"u"){var r=document.body.createTextRange();r.moveToElementText(e),r.collapse(!1),r.select()}}insertTextAtCursor(e){var t,n;t=window.getSelection(),n=t.getRangeAt(0),n.deleteContents();var r=document.createTextNode(e);n.insertNode(r),n.selectNodeContents(r),n.collapse(!1),t.removeAllRanges(),t.addRange(n)}insertAtCaret(e,t){var n=e.scrollTop,r=e.selectionStart,s=e.value.substring(0,r),l=e.value.substring(e.selectionEnd,e.value.length);e.value=s+t+l,r=r+t.length,e.selectionStart=r,e.selectionEnd=r,e.focus(),e.scrollTop=n}hideMenu(){this.menu&&(this.menu.style.cssText="display: none;",this.isActive=!1,this.menuSelected=0,this.current={})}selectItemAtIndex(e,t){if(e=parseInt(e),typeof e!="number"||isNaN(e))return;let n=this.current.filteredItems[e],r=this.current.collection.selectTemplate(n);r!==null&&this.replaceText(r,t,n)}replaceText(e,t,n){this.range.replaceTriggerText(e,!0,!0,t,n)}_append(e,t,n){if(typeof e.values=="function")throw new Error("Unable to append to values, as it is a function.");n?e.values=t:e.values=e.values.concat(t)}append(e,t,n){let r=parseInt(e);if(typeof r!="number")throw new Error("please provide an index for the collection to update.");let s=this.collection[r];this._append(s,t,n)}appendCurrent(e,t){if(this.isActive)this._append(this.current.collection,e,t);else throw new Error("No active state. Please use append instead and pass an index.")}detach(e){if(!e)throw new Error("[Tribute] Must pass in a DOM node or NodeList.");if(typeof jQuery<"u"&&e instanceof jQuery&&(e=e.get()),e.constructor===NodeList||e.constructor===HTMLCollection||e.constructor===Array){let n=e.length;for(var t=0;t<n;++t)this._detach(e[t])}else this._detach(e)}_detach(e){this.events.unbind(e),e.tributeMenu&&this.menuEvents.unbind(e.tributeMenu),setTimeout(()=>{e.removeAttribute("data-tribute"),this.isActive=!1,e.tributeMenu&&e.tributeMenu.remove()})}}var _a,Gh,jf=typeof Map=="function"?new Map:(_a=[],Gh=[],{has:function(i){return _a.indexOf(i)>-1},get:function(i){return Gh[_a.indexOf(i)]},set:function(i,e){_a.indexOf(i)===-1&&(_a.push(i),Gh.push(e))},delete:function(i){var e=_a.indexOf(i);e>-1&&(_a.splice(e,1),Gh.splice(e,1))}}),Az=function(i){return new Event(i,{bubbles:!0})};try{new Event("test")}catch{Az=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function tPe(i){var e=jf.get(i);e&&e.destroy()}function nPe(i){var e=jf.get(i);e&&e.update()}var Ef=null;typeof window>"u"||typeof window.getComputedStyle!="function"?((Ef=function(i){return i}).destroy=function(i){return i},Ef.update=function(i){return i}):((Ef=function(i,e){return i&&Array.prototype.forEach.call(i.length?i:[i],function(t){return function(n){if(n&&n.nodeName&&n.nodeName==="TEXTAREA"&&!jf.has(n)){var r,s=null,l=null,o=null,a=function(){n.clientWidth!==l&&d()},u=function(m){window.removeEventListener("resize",a,!1),n.removeEventListener("input",d,!1),n.removeEventListener("keyup",d,!1),n.removeEventListener("autosize:destroy",u,!1),n.removeEventListener("autosize:update",d,!1),Object.keys(m).forEach(function(p){n.style[p]=m[p]}),jf.delete(n)}.bind(n,{height:n.style.height,resize:n.style.resize,overflowY:n.style.overflowY,overflowX:n.style.overflowX,wordWrap:n.style.wordWrap});n.addEventListener("autosize:destroy",u,!1),"onpropertychange"in n&&"oninput"in n&&n.addEventListener("keyup",d,!1),window.addEventListener("resize",a,!1),n.addEventListener("input",d,!1),n.addEventListener("autosize:update",d,!1),n.style.overflowX="hidden",n.style.wordWrap="break-word",jf.set(n,{destroy:u,update:d}),(r=window.getComputedStyle(n,null)).resize==="vertical"?n.style.resize="none":r.resize==="both"&&(n.style.resize="horizontal"),s=r.boxSizing==="content-box"?-(parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)):parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),isNaN(s)&&(s=0),d()}function c(m){var p=n.style.width;n.style.width="0px",n.style.width=p,n.style.overflowY=m}function f(){if(n.scrollHeight!==0){var m=function(p){for(var g=[];p&&p.parentNode&&p.parentNode instanceof Element;)p.parentNode.scrollTop&&(p.parentNode.style.scrollBehavior="auto",g.push([p.parentNode,p.parentNode.scrollTop])),p=p.parentNode;return function(){return g.forEach(function(k){var $=k[0];$.scrollTop=k[1],$.style.scrollBehavior=null})}}(n);n.style.height="",n.style.height=n.scrollHeight+s+"px",l=n.clientWidth,m()}}function d(){f();var m=Math.round(parseFloat(n.style.height)),p=window.getComputedStyle(n,null),g=p.boxSizing==="content-box"?Math.round(parseFloat(p.height)):n.offsetHeight;if(g<m?p.overflowY==="hidden"&&(c("scroll"),f(),g=p.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(n,null).height)):n.offsetHeight):p.overflowY!=="hidden"&&(c("hidden"),f(),g=p.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(n,null).height)):n.offsetHeight),o!==g){o=g;var k=Az("autosize:resized");try{n.dispatchEvent(k)}catch{}}}}(t)}),i}).destroy=function(i){return i&&Array.prototype.forEach.call(i.length?i:[i],tPe),i},Ef.update=function(i){return i&&Array.prototype.forEach.call(i.length?i:[i],nPe),i});var FD=Ef;const iPe=i=>(FD(i),{destroy(){FD.destroy(i)}});function rPe(i){let e,t,n,r,s=[i[3],{class:t=`${i[3].class}`}],l={};for(let o=0;o<s.length;o+=1)l=ft(l,s[o]);return{c(){e=A("textarea"),gt(e,l)},m(o,a){w(o,e,a),e.autofocus&&e.focus(),i[6](e),mn(e,i[0]),n||(r=[Ct(iPe.call(null,e)),ke(e,"input",i[7]),ke(e,"input",i[8]),ke(e,"focus",i[9]),ke(e,"keydown",i[10]),ke(e,"blur",i[11])],n=!0)},p(o,[a]){gt(e,l=At(s,[a&8&&o[3],a&8&&t!==(t=`${o[3].class}`)&&{class:t}])),a&1&&mn(e,o[0])},i:W,o:W,d(o){o&&y(e),i[6](null),n=!1,pt(r)}}}function sPe(i,e,t){const n=["value","tributeConfig","setSelectionRange"];let r=An(e,n),{value:s}=e,{tributeConfig:l=void 0}=e;const o=Dt(),a=(D,F)=>{c.setSelectionRange(D,F),c.focus()};let u,c;const f=D=>{let F=D.detail;F.cursor={start:c.selectionStart,end:c.selectionEnd},o("inserted",D.detail)};wt(async()=>{l&&(u=new wa(l),u.attach(c),c.addEventListener("tribute-replaced",f))}),Dr(()=>{c.removeEventListener("tribute-replaced",f)});function d(D){De[D?"unshift":"push"](()=>{c=D,t(1,c)})}function m(){s=this.value,t(0,s)}const p=D=>{o("input",D)},g=D=>{o("focus",D)},k=D=>{o("keydown",D)},$=D=>{o("blur",D)};return i.$$set=D=>{e=ft(ft({},e),ci(D)),t(3,r=An(e,n)),"value"in D&&t(0,s=D.value),"tributeConfig"in D&&t(4,l=D.tributeConfig)},[s,c,o,r,l,a,d,m,p,g,k,$]}class Pz extends ce{constructor(e){super(),ue(this,e,sPe,rPe,le,{value:0,tributeConfig:4,setSelectionRange:5})}get setSelectionRange(){return this.$$.ctx[5]}}function lPe(i){let e,t,n;const r=[{"aria-label":"Note entry field"},{autofocus:i[1]},{id:i[2]},{tributeConfig:{menuShowMinLength:1,autocompleteMode:!1,menuItemLimit:3,noMatchTemplate:null,collection:[{trigger:"#",noMatchTemplate:null,values:i[5].map(ED)},{trigger:"@",noMatchTemplate:null,values:i[6].map(DD)},{trigger:"+",values:i[7].map(CD)}]}},{class:i[9].class||""},{placeholder:i[9].placeholder||""},i[9]];function s(o){i[10](o)}let l={};for(let o=0;o<r.length;o+=1)l=ft(l,r[o]);return i[0]!==void 0&&(l.value=i[0]),e=new Pz({props:l}),De.push(()=>Ue(e,"value",s,i[0])),i[11](e),e.$on("inserted",i[12]),e.$on("input",i[13]),e.$on("keydown",i[14]),e.$on("focus",i[15]),e.$on("blur",i[16]),e.$on("paste",i[17]),{c(){O(e.$$.fragment)},m(o,a){N(e,o,a),n=!0},p(o,[a]){const u=a&742?At(r,[r[0],a&2&&{autofocus:o[1]},a&4&&{id:o[2]},a&224&&{tributeConfig:{menuShowMinLength:1,autocompleteMode:!1,menuItemLimit:3,noMatchTemplate:null,collection:[{trigger:"#",noMatchTemplate:null,values:o[5].map(ED)},{trigger:"@",noMatchTemplate:null,values:o[6].map(DD)},{trigger:"+",values:o[7].map(CD)}]}},a&512&&{class:o[9].class||""},a&512&&{placeholder:o[9].placeholder||""},a&512&&Ki(o[9])]):{};!t&&a&1&&(t=!0,u.value=o[0],qe(()=>t=!1)),e.$set(u)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){i[11](null),M(e,o)}}}const ED=i=>{var e;return{key:i.tag,value:(e=i.tag)==null?void 0:e.replace("#","")}},DD=i=>{var e;return{key:i.tag,value:(e=i.tag)==null?void 0:e.replace("@","")}},CD=i=>{var e;return{key:i.tag,value:(e=i.tag)==null?void 0:e.replace("+","")}};function oPe(i,e,t){const n=["value","autofocus","id"];let r=An(e,n),s,l,o,a;Ee(i,It,P=>t(4,s=P)),Ee(i,oue,P=>t(5,l=P)),Ee(i,aue,P=>t(6,o=P)),Ee(i,uue,P=>t(7,a=P));let u,{value:c}=e,{autofocus:f}=e,{id:d}=e;const m=Dt();function p(P){c=P,t(0,c)}function g(P){De[P?"unshift":"push"](()=>{u=P,t(3,u)})}const k=async P=>{const I=P.detail.item.original.key,R=Yo(I)[0],B=pi(R,s.trackables),z=P.detail.cursor.end-1-I.length;if(B.type=="tracker"){const q=await xo({trackables:s.trackables,tracker:B.tracker,expandNote:!0});if(q){let H=OJ(c,I,q.raw,z),K=P.detail.cursor.end+(q.raw.length-I.length);t(0,c=`${H} `),await Et(20),u.setSelectionRange(K,K),m("input",P.detail)}}},$=P=>m("input",P.detail),D=P=>m("keydown",P.detail),F=P=>m("focus",P.detail),C=P=>m("blur",P.detail),S=P=>m("paste",P.detail);return i.$$set=P=>{e=ft(ft({},e),ci(P)),t(9,r=An(e,n)),"value"in P&&t(0,c=P.value),"autofocus"in P&&t(1,f=P.autofocus),"id"in P&&t(2,d=P.id)},[c,f,d,u,s,l,o,a,m,r,p,g,k,$,D,F,C,S]}class Nz extends ce{constructor(e){super(),ue(this,e,oPe,lPe,le,{value:0,autofocus:1,id:2})}}function aPe(i){let e,t,n,r,s,l,o,a;return{c(){e=me("svg"),t=me("title"),n=Z("Magnet"),r=me("path"),s=me("path"),l=me("path"),h(r,"d","M421.83 293.82A144 144 0 00218.18 90.17M353.94 225.94a48 48 0 00-67.88-67.88"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-miterlimit","10"),h(r,"stroke-width","32"),h(s,"stroke","currentColor"),h(s,"stroke-linecap","round"),h(s,"stroke-miterlimit","10"),h(s,"stroke-width","32"),h(s,"d","M192 464v-48M90.18 421.82l33.94-33.94M48 320h48"),h(l,"d","M286.06 158.06L172.92 271.19a32 32 0 01-45.25 0L105 248.57a32 32 0 010-45.26L218.18 90.17M421.83 293.82L308.69 407a32 32 0 01-45.26 0l-22.62-22.63a32 32 0 010-45.26l113.13-113.17M139.6 169.98l67.88 67.89M275.36 305.75l67.89 67.88"),h(l,"fill","none"),h(l,"stroke","currentColor"),h(l,"stroke-linejoin","round"),h(l,"stroke-width","32"),h(e,"height",o=i[0]+"px"),h(e,"width",a=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(u,c){w(u,e,c),E(e,t),E(t,n),E(e,r),E(e,s),E(e,l)},p(u,[c]){c&1&&o!==(o=u[0]+"px")&&h(e,"height",o),c&1&&a!==(a=u[0]+"px")&&h(e,"width",a)},i:W,o:W,d(u){u&&y(e)}}}function uPe(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class l0 extends ce{constructor(e){super(),ue(this,e,uPe,aPe,le,{size:0})}}function SD(i){var $;let e,t,n,r,s,l,o,a,u,c;function f(D,F){var C;return(C=D[0].log)!=null&&C.lat?fPe:cPe}let d=f(i),m=d(i),p=(($=i[0].log)==null?void 0:$.lat)&&TD(i);function g(D){i[12](D)}let k={autofocus:!0,id:"editor",placeholder:"What's up?",class:"p-4 pt-2 w-full focus:outline-none dark:text-gray-200 placeholder-gray-500 focus:ring ring-inset ring-primary-500 ring-opacity-20 bg-transparent",style:"min-height:300px;"};return i[0].log.note!==void 0&&(k.value=i[0].log.note),l=new Nz({props:k}),De.push(()=>Ue(l,"value",g,i[0].log.note)),{c(){e=A("div"),t=A("button"),m.c(),n=Y(),p&&p.c(),r=Y(),s=A("div"),O(l.$$.fragment),h(t,"class","control"),h(e,"class","w-full flex items-center px-4 py-3 space-x-2 text-sm justify-center"),h(s,"class","filler h-full")},m(D,F){w(D,e,F),E(e,t),m.m(t,null),E(e,n),p&&p.m(e,null),w(D,r,F),w(D,s,F),N(l,s,null),a=!0,u||(c=ke(t,"click",i[10]),u=!0)},p(D,F){var S;d===(d=f(D))&&m?m.p(D,F):(m.d(1),m=d(D),m&&(m.c(),m.m(t,null))),(S=D[0].log)!=null&&S.lat?p?(p.p(D,F),F&1&&_(p,1)):(p=TD(D),p.c(),_(p,1),p.m(e,null)):p&&(ie(),v(p,1,1,()=>{p=null}),re());const C={};!o&&F&1&&(o=!0,C.value=D[0].log.note,qe(()=>o=!1)),l.$set(C)},i(D){a||(_(p),_(l.$$.fragment,D),a=!0)},o(D){v(p),v(l.$$.fragment,D),a=!1},d(D){D&&y(e),m.d(),p&&p.d(),D&&y(r),D&&y(s),M(l),u=!1,c()}}}function cPe(i){let e;return{c(){e=A("span"),e.textContent=`${_e.t("general.no-location","No Location Set")}`,h(e,"class","text-gray-500")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function fPe(i){let e,t=(i[0].log.location||`${ht.round(i[0].log.lat,100)},${ht.round(i[0].log.lng,100)}`)+"",n;return{c(){e=A("span"),n=Z(t),h(e,"class","text-green-500")},m(r,s){w(r,e,s),E(e,n)},p(r,s){s&1&&t!==(t=(r[0].log.location||`${ht.round(r[0].log.lat,100)},${ht.round(r[0].log.lng,100)}`)+"")&&oe(n,t)},d(r){r&&y(e)}}}function TD(i){let e,t,n,r,s;return t=new je({props:{icon:pl,size:16,className:"text-red-500"}}),{c(){e=A("button"),O(t.$$.fragment),h(e,"class","flex items-center px-1 rounded-md")},m(l,o){w(l,e,o),N(t,e,null),n=!0,r||(s=ke(e,"click",i[11]),r=!0)},p:W,i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){v(t.$$.fragment,l),n=!1},d(l){l&&y(e),M(t),r=!1,s()}}}function dPe(i){let e,t,n=i[0].log&&SD(i);return{c(){n&&n.c(),e=$e()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,s){r[0].log?n?(n.p(r,s),s&1&&_(n,1)):(n=SD(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ie(),v(n,1,1,()=>{n=null}),re())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function hPe(i){let e,t=i[0].log.note+"",n;return{c(){e=A("div"),n=Z(t),h(e,"class","line-clamp-1 text-sm w-full min-w-0 text-black dark:text-white")},m(r,s){w(r,e,s),E(e,n)},p(r,s){s&1&&t!==(t=r[0].log.note+"")&&oe(n,t)},d(r){r&&y(e)}}}function mPe(i){let e=_e.t("general.close","Close")+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p:W,d(n){n&&y(t)}}}function pPe(i){let e,t;return e=new Me({props:{slot:"left",clear:!0,primary:!0,$$slots:{default:[mPe]},$$scope:{ctx:i}}}),e.$on("click",i[4]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&32768&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function _Pe(i){let e=_e.t("general.save","Save")+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p:W,d(n){n&&y(t)}}}function gPe(i){let e,t;return e=new Me({props:{clear:!0,primary:!0,slot:"right",$$slots:{default:[_Pe]},$$scope:{ctx:i}}}),e.$on("click",i[1].save),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&32768&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function vPe(i){let e,t;return e=new Tee({props:{size:"sm",time:i[0].log.end,date:i[0].log.end}}),e.$on("change",i[9]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.time=n[0].log.end),r&1&&(s.date=n[0].log.end),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function bPe(i){let e,t,n=Eo(i[0].log.score).emoji+"",r;return{c(){e=A("div"),t=A("div"),r=Z(n),h(t,"class","value w-10"),h(e,"title","Select Score for this note"),h(e,"class","w-full text-center"),nt(e,"width","100%")},m(s,l){w(s,e,l),E(e,t),E(t,r)},p(s,l){l&1&&n!==(n=Eo(s[0].log.score).emoji+"")&&oe(r,n)},d(s){s&&y(e)}}}function kPe(i){let e,t;return e=new Lc({props:{slot:"left",id:"log-editor-options",x:"left",title:"Select Score for this note",buttonClass:"text-lg ",menuButtons:[...np(i[0].log.score,i[8])],$$slots:{default:[bPe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.menuButtons=[...np(n[0].log.score,n[8])]),r&32769&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function yPe(i){let e,t;return e=new je({props:{icon:l0,className:"text-primary opacity-80"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function wPe(i){let e,t;return e=new je({props:{icon:WQ,className:"text-green-500 dark:text-green-400"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function $Pe(i){let e,t,n,r;const s=[wPe,yPe],l=[];function o(a,u){return a[0].log.pinned?0:1}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=$e()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?l[e].p(a,u):(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function FPe(i){let e,t;return e=new Me({props:{title:"Pin/Unpin Entry to top of Day",slot:"right",clear:!0,icon:!0,$$slots:{default:[$Pe]},$$scope:{ctx:i}}}),e.$on("click",i[7]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&32769&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function EPe(i){let e,t,n,r,s;return t=new Jt({props:{$$slots:{right:[gPe],left:[pPe],default:[hPe]},$$scope:{ctx:i}}}),r=new Jt({props:{$$slots:{right:[FPe],left:[kPe],default:[vPe]},$$scope:{ctx:i}}}),{c(){e=A("div"),O(t.$$.fragment),n=Y(),O(r.$$.fragment),h(e,"slot","header"),h(e,"class","shadow-md z-40 relative")},m(l,o){w(l,e,o),N(t,e,null),E(e,n),N(r,e,null),s=!0},p(l,o){const a={};o&32769&&(a.$$scope={dirty:o,ctx:l}),t.$set(a);const u={};o&32769&&(u.$$scope={dirty:o,ctx:l}),r.$set(u)},i(l){s||(_(t.$$.fragment,l),_(r.$$.fragment,l),s=!0)},o(l){v(t.$$.fragment,l),v(r.$$.fragment,l),s=!1},d(l){l&&y(e),M(t),M(r)}}}function DPe(i){let e,t;return e=new _n({props:{mainClass:"bg-white dark:bg-black filler",className:"h-full bg-white dark:bg-gray-800",$$slots:{header:[EPe],default:[dPe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&32769&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function CPe(i,e,t){let n;Ee(i,St,D=>t(13,n=D));let{log:r}=e,{id:s}=e,l,o={saving:!1,mapReady:!1,log:r};const a={async init(){let D=n.alwaysLocate;if(r&&(t(0,o.log=new Gt(r),o),t(0,o.log.note=`${o.log.note} `,o),o.log.lat&&n.alwaysLocate&&(D=!1)),D){const F=await Od();if(F.latitude){t(0,o.log.lat=F.latitude,o),t(0,o.log.lng=F.longitude,o);let C=await jL({lat:F.latitude,lng:F.longitude});C&&C.name&&t(0,o.log.location=C.name,o)}}t(0,o.mapReady=!0,o)},getLocations(){let D=[];return o.log.lat&&D.push({lat:o.log.lat,lng:o.log.lng,name:o.log.location}),D},async save(){try{t(0,o.saving=!0,o),await Ut.updateLog(o.log,r.end),xn.clear(),un({message:`Saved: ${o.log.note.substring(0,100)}`}),f()}catch(D){Xe.error(D.message)}}};async function u(){let D=await Xe.pickLocation();if(D){let F=D;t(0,o.log.lat=F.lat,o),t(0,o.log.lng=F.lng,o),t(0,o.log.location=F.name,o)}}const c=async()=>{t(0,o.log.lat=void 0,o),t(0,o.log.lng=void 0,o),t(0,o.log.location=void 0,o)},f=()=>{Ot(s)};wt(async()=>{a.init(),Vl("journal-editor"),await Et(200),l==null||l.focus()});const d=()=>{t(0,o.log.pinned=!o.log.pinned,o)},m=D=>{t(0,o.log.score=D.score,o)},p=D=>{t(0,o.log.end=D.detail,o)},g=()=>{u()},k=()=>c();function $(D){i.$$.not_equal(o.log.note,D)&&(o.log.note=D,t(0,o))}return i.$$set=D=>{"log"in D&&t(5,r=D.log),"id"in D&&t(6,s=D.id)},[o,a,u,c,f,r,s,d,m,p,g,k,$]}class SPe extends ce{constructor(e){super(),ue(this,e,CPe,DPe,le,{log:5,id:6})}}const uu=i=>{Vl("open_log_editor"),en({id:`log-editor-${Fn(i)}`,position:"fullscreen",component:SPe,componentProps:{log:i}})},TPe=()=>{let i={};i.end=null,i.start=null;const{subscribe:e,set:t,update:n}=Bt(i),r=new eM,s={clear:Q0(()=>{Mz(),n(l=>(l={},l.start=null,l.end=null,l))},500),hook(l,o){r.hook(l,o)},journal(l){l=l instanceof Gt?l:new Gt(l||{}),uu(l)},updateNote(l){n(o=>(o.note=`${l.trim()} `,r.run("onUpdate",o),o))},asLog(){let l;return n(o=>(l=new Gt(o),o)),l},calculateScore(l,o){return Ja(l,new Date,o)},removeStr(l){n(o=>(o.note=o.note.split(" ").filter(a=>a!==l).join(" "),o))},addElement(l){n(o=>{let a=(o.note||"").trim().split(" ");return a.push(l.trim()),o.note=a.join(" ").trim()+" ",r.run("onAddElement",l),o})},addTag(l,o){n(a=>(isNaN(parseFloat(o))?a.note=`${a.note} #${l} `:a.note=`${a.note} #${l}(${o}) `,r.run("onAddTag",{tag:l,value:o}),a))},focus(){const l=document.getElementById("textarea-capture-note");l&&l.focus()}};return{subscribe:e,update:n,set:t,...s}},xn=TPe(),APe=i=>{xn.update(e=>(e.end=new Date(i),e))},Mz=()=>{document.querySelectorAll(".item-grid .shortcut-button").forEach(e=>{e.classList.remove("in-note")})};we.extend(I0);const ir={padTime(i){return(i+"").length===1?(i+"").padStart(2,"0"):i},secondsToTime(i){i=i||0;let e=i,t=Math.floor(parseInt(`${e}`)/60).toString(),n;return parseInt(t)>59&&(n=this.padTime(Math.floor(parseInt(t)/60).toString()),t=this.padTime((parseInt(t)-parseInt(n)*60).toString())),e=this.padTime(Math.floor(parseInt(`${e}`)%60).toString()),t=this.padTime(t),n?(n=parseInt(`${n}`),`${n}:${t}:${e}`):`00:${t}:${e}`},dateToDesc(i){let e=we(i),t=parseInt(e.format("H"));return t>=6&&t<12?"morning":t>=12&&t<18?"afternoon":t>=18&&t<20?"evening":"night"},fromNow(i){let e=we(i).fromNow(),t=e;return e=="a few seconds ago"?t="now":t=t.replace("minutes","min").replace("seconds","sec").replace("months","mon").replace("hours","hrs"),t},datetimeLocal(i){let e=i.split("T"),t=e[0],n=e[1];return we(t,"YYYY-MM-DD").set("hour",n.split(":")[0]).set("minute",n.split(":")[1]).toDate()},msToSecond(i){return i/1e3},timestringToSeconds(i){let e=i.split(":");return this.unitsToSeconds(e[0],e[1],e[2])},unitsToSeconds(i,e,t){let n=0;return n=(parseInt(i)||0)*60*60,n=n+(parseInt(e)||0)*60,n=n+(parseInt(t)||0),n},getNumberedArray(i){i++;let e=[];for(var t=0;t<i;t++)e.push((t+"").toString().length==1?`0${t}`:`${t}`);return e}};function AD(i,e,t){const n=i.slice();return n[9]=e[t],n}function PD(i,e,t){const n=i.slice();return n[9]=e[t],n}function ND(i,e,t){const n=i.slice();return n[9]=e[t],n}function MD(i,e){let t,n=e[9]+"",r;return{key:i,first:null,c(){t=A("option"),r=Z(n),t.__value=e[9],t.value=t.__value,this.first=t},m(s,l){w(s,t,l),E(t,r)},p(s,l){e=s},d(s){s&&y(t)}}}function LD(i,e){let t,n=e[9]+"",r;return{key:i,first:null,c(){t=A("option"),r=Z(n),t.__value=e[9],t.value=t.__value,this.first=t},m(s,l){w(s,t,l),E(t,r)},p(s,l){e=s},d(s){s&&y(t)}}}function OD(i,e){let t,n=e[9]+"",r;return{key:i,first:null,c(){t=A("option"),r=Z(n),t.__value=e[9],t.value=t.__value,this.first=t},m(s,l){w(s,t,l),E(t,r)},p(s,l){e=s},d(s){s&&y(t)}}}function PPe(i){let e,t,n,r=[],s=new Map,l,o,a,u,c,f=[],d=new Map,m,p,g,k,$,D=[],F=new Map,C,S,P,I,R,B=ir.getNumberedArray(300);const z=U=>U[9];for(let U=0;U<B.length;U+=1){let Q=ND(i,B,U),V=z(Q);s.set(V,r[U]=MD(V,Q))}let q=ir.getNumberedArray(59);const H=U=>U[9];for(let U=0;U<q.length;U+=1){let Q=PD(i,q,U),V=H(Q);d.set(V,f[U]=LD(V,Q))}let K=ir.getNumberedArray(59);const G=U=>U[9];for(let U=0;U<K.length;U+=1){let Q=AD(i,K,U),V=G(Q);F.set(V,D[U]=OD(V,Q))}return{c(){e=A("div"),t=A("div"),n=A("select");for(let U=0;U<r.length;U+=1)r[U].c();l=Y(),o=A("label"),o.textContent="Hour",a=Y(),u=A("div"),c=A("select");for(let U=0;U<f.length;U+=1)f[U].c();m=Y(),p=A("label"),p.textContent="Min",g=Y(),k=A("div"),$=A("select");for(let U=0;U<D.length;U+=1)D[U].c();C=Y(),S=A("label"),S.textContent="Sec",h(n,"name","hours"),h(n,"id","hours"),h(o,"for","hours"),h(o,"aria-controls","hours"),h(t,"class","unit hours"),h(c,"id","minutes"),h(c,"name","minutes"),h(p,"for","minutes"),h(p,"aria-controls","minutes"),h(u,"class","unit hours"),h($,"id","seconds"),h($,"name","seconds"),h(S,"for","seconds"),h(S,"aria-controls","seconds"),h(k,"class","unit seconds"),h(e,"class",P="n-counter-manual size-"+i[1]+" "+i[0])},m(U,Q){w(U,e,Q),E(e,t),E(t,n);for(let V=0;V<r.length;V+=1)r[V].m(n,null);gn(n,i[2].getUnitValue("hours")),E(t,l),E(t,o),E(e,a),E(e,u),E(u,c);for(let V=0;V<f.length;V+=1)f[V].m(c,null);gn(c,i[2].getUnitValue("minutes")),E(u,m),E(u,p),E(e,g),E(e,k),E(k,$);for(let V=0;V<D.length;V+=1)D[V].m($,null);gn($,i[2].getUnitValue("seconds")),E(k,C),E(k,S),I||(R=[ke(n,"change",i[4]),ke(c,"change",i[5]),ke($,"change",i[6])],I=!0)},p(U,[Q]){Q&0&&(B=ir.getNumberedArray(300),r=qn(r,Q,z,1,U,B,s,n,Sa,MD,null,ND)),Q&0&&(q=ir.getNumberedArray(59),f=qn(f,Q,H,1,U,q,d,c,Sa,LD,null,PD)),Q&0&&(K=ir.getNumberedArray(59),D=qn(D,Q,G,1,U,K,F,$,Sa,OD,null,AD)),Q&3&&P!==(P="n-counter-manual size-"+U[1]+" "+U[0])&&h(e,"class",P)},i:W,o:W,d(U){U&&y(e);for(let Q=0;Q<r.length;Q+=1)r[Q].d();for(let Q=0;Q<f.length;Q+=1)f[Q].d();for(let Q=0;Q<D.length;Q+=1)D[Q].d();I=!1,pt(R)}}}function NPe(i,e,t){let{className:n=""}=e,{value:r=0}=e,{size:s="default"}=e;const l=Dt(),o={add(d){switch(d){case"hours":t(3,r=r+60*60);break;case"minutes":t(3,r=r+60);break;case"seconds":t(3,r=r+1);break}l("change",r)},subtract(d){switch(d){case"hours":r>60*60&&t(3,r=r-60*60);break;case"minutes":r>60&&t(3,r=r-60);break;case"seconds":r>1&&t(3,r=r-1);break}l("change",r)},getUnitValue(d){return a[d]||"00"},setUnitValue(d,m){let p=parseInt(d.target.value),g={hours:a.hours,minutes:a.minutes,seconds:a.seconds};g[m]=ir.padTime(p),t(3,r=ir.unitsToSeconds(g.hours,g.minutes,g.seconds)),l("change",r)},timeStringToNode(d){let m=ir.secondsToTime(d).split(":");return{hours:m[0],minutes:m[1],seconds:m[2]}}};let a={...o.timeStringToNode(r),computed:{totalSeconds:0},localValue:r};const u=d=>{o.setUnitValue(d,"hours")},c=d=>{o.setUnitValue(d,"minutes")},f=d=>{o.setUnitValue(d,"seconds")};return i.$$set=d=>{"className"in d&&t(0,n=d.className),"value"in d&&t(3,r=d.value),"size"in d&&t(1,s=d.size)},i.$$.update=()=>{if(i.$$.dirty&8&&r>-1){let d=o.timeStringToNode(r);a.hours=ir.padTime(d.hours),a.minutes=ir.padTime(d.minutes),a.seconds=ir.padTime(d.seconds)}},[n,s,o,r,u,c,f]}class Lz extends ce{constructor(e){super(),ue(this,e,NPe,PPe,le,{className:0,value:3,size:1})}}var Oz={exports:{}};(function(i,e){(function(n,r){i.exports=r()})(window,function(){return function(t){var n={};function r(s){if(n[s])return n[s].exports;var l=n[s]={i:s,l:!1,exports:{}};return t[s].call(l.exports,l,l.exports,r),l.l=!0,l.exports}return r.m=t,r.c=n,r.d=function(s,l,o){r.o(s,l)||Object.defineProperty(s,l,{enumerable:!0,get:o})},r.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},r.t=function(s,l){if(l&1&&(s=r(s)),l&8||l&4&&typeof s=="object"&&s&&s.__esModule)return s;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:s}),l&2&&typeof s!="string")for(var a in s)r.d(o,a,function(u){return s[u]}.bind(null,a));return o},r.n=function(s){var l=s&&s.__esModule?function(){return s.default}:function(){return s};return r.d(l,"a",l),l},r.o=function(s,l){return Object.prototype.hasOwnProperty.call(s,l)},r.p="",r(r.s="./src/range-slider.js")}({"./src/range-slider.css":function(t,n,r){},"./src/range-slider.js":function(t,n,r){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function S(P,I){for(var R=0;R<I.length;R++){var B=I[R];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(P,B.key,B)}}return function(P,I,R){return I&&S(P.prototype,I),R&&S(P,R),P}}(),l=r("./src/utils/dom.js"),o=c(l),a=r("./src/utils/functions.js"),u=c(a);r("./src/range-slider.css");function c(S){if(S&&S.__esModule)return S;var P={};if(S!=null)for(var I in S)Object.prototype.hasOwnProperty.call(S,I)&&(P[I]=S[I]);return P.default=S,P}function f(S,P){if(!(S instanceof P))throw new TypeError("Cannot call a class as a function")}var d=new RegExp("/[\\n\\t]/","g"),m=100,p=300,g=50,k="rangeSlider",$=o.supportsRange(),D={polyfill:!0,root:document,rangeClass:"rangeSlider",disabledClass:"rangeSlider--disabled",fillClass:"rangeSlider__fill",bufferClass:"rangeSlider__buffer",handleClass:"rangeSlider__handle",startEvent:["mousedown","touchstart","pointerdown"],moveEvent:["mousemove","touchmove","pointermove"],endEvent:["mouseup","touchend","pointerup"],min:null,max:null,step:null,value:null,buffer:null,stick:null,borderRadius:10,vertical:!1},F=!1,C=function(){function S(P,I){f(this,S);var R=void 0,B=void 0,z=void 0,q=void 0,H=void 0;if(S.instances.push(this),this.element=P,this.options=u.simpleExtend(D,I),this.polyfill=this.options.polyfill,this.vertical=this.options.vertical,this.onInit=this.options.onInit,this.onSlide=this.options.onSlide,this.onSlideStart=this.options.onSlideStart,this.onSlideEnd=this.options.onSlideEnd,this.onSlideEventsCount=-1,this.isInteractsNow=!1,this.needTriggerEvents=!1,this._addVerticalSlideScrollFix(),!(!this.polyfill&&$)){this.options.buffer=this.options.buffer||parseFloat(this.element.getAttribute("data-buffer")),this.identifier="js-"+k+"-"+u.uuid(),this.min=u.getFirsNumberLike(this.options.min,parseFloat(this.element.getAttribute("min")),R=0),this.max=u.getFirsNumberLike(this.options.max,parseFloat(this.element.getAttribute("max")),B=m),this.value=u.getFirsNumberLike(this.options.value,this.element.value,parseFloat(this.element.value||this.min+(this.max-this.min)/2)),this.step=u.getFirsNumberLike(this.options.step,parseFloat(this.element.getAttribute("step"))||(z=1)),this.percent=null,u.isArray(this.options.stick)&&this.options.stick.length>=1?this.stick=this.options.stick:(q=this.element.getAttribute("stick"))&&(H=q.split(" "),H.length>=1&&(this.stick=H.map(parseFloat))),this.stick&&this.stick.length===1&&this.stick.push(this.step*1.5),this._updatePercentFromValue(),this.toFixed=this._toFixed(this.step);var K=void 0;this.container=document.createElement("div"),o.addClass(this.container,this.options.fillClass),K=this.vertical?this.options.fillClass+"__vertical":this.options.fillClass+"__horizontal",o.addClass(this.container,K),this.handle=document.createElement("div"),o.addClass(this.handle,this.options.handleClass),K=this.vertical?this.options.handleClass+"__vertical":this.options.handleClass+"__horizontal",o.addClass(this.handle,K),this.range=document.createElement("div"),o.addClass(this.range,this.options.rangeClass),this.range.id=this.identifier;var G=P.getAttribute("title");G&&G.length>0&&this.range.setAttribute("title",G),this.options.bufferClass&&(this.buffer=document.createElement("div"),o.addClass(this.buffer,this.options.bufferClass),this.range.appendChild(this.buffer),K=this.vertical?this.options.bufferClass+"__vertical":this.options.bufferClass+"__horizontal",o.addClass(this.buffer,K)),this.range.appendChild(this.container),this.range.appendChild(this.handle),K=this.vertical?this.options.rangeClass+"__vertical":this.options.rangeClass+"__horizontal",o.addClass(this.range,K),u.isNumberLike(this.options.value)&&(this._setValue(this.options.value,!0),this.element.value=this.options.value),u.isNumberLike(this.options.buffer)&&this.element.setAttribute("data-buffer",this.options.buffer),(u.isNumberLike(this.options.min)||R)&&this.element.setAttribute("min",""+this.min),(u.isNumberLike(this.options.max)||B)&&this.element.setAttribute("max",""+this.max),(u.isNumberLike(this.options.step)||z)&&this.element.setAttribute("step",""+this.step),o.insertAfter(this.element,this.range),o.setCss(this.element,{position:"absolute",width:"1px",height:"1px",overflow:"hidden",opacity:"0"}),this._handleDown=this._handleDown.bind(this),this._handleMove=this._handleMove.bind(this),this._handleEnd=this._handleEnd.bind(this),this._startEventListener=this._startEventListener.bind(this),this._changeEventListener=this._changeEventListener.bind(this),this._handleResize=this._handleResize.bind(this),this._init(),window.addEventListener("resize",this._handleResize,!1),o.addEventListeners(this.options.root,this.options.startEvent,this._startEventListener),this.element.addEventListener("change",this._changeEventListener,!1)}}return s(S,[{key:"update",value:function(I,R){return R&&(this.needTriggerEvents=!0),u.isObject(I)&&(u.isNumberLike(I.min)&&(this.element.setAttribute("min",""+I.min),this.min=I.min),u.isNumberLike(I.max)&&(this.element.setAttribute("max",""+I.max),this.max=I.max),u.isNumberLike(I.step)&&(this.element.setAttribute("step",""+I.step),this.step=I.step,this.toFixed=this._toFixed(I.step)),u.isNumberLike(I.buffer)&&this._setBufferPosition(I.buffer),u.isNumberLike(I.value)&&this._setValue(I.value)),this._update(),this.onSlideEventsCount=0,this.needTriggerEvents=!1,this}},{key:"destroy",value:function(){var I=this;o.removeAllListenersFromEl(this,this.options.root),window.removeEventListener("resize",this._handleResize,!1),this.element.removeEventListener("change",this._changeEventListener,!1),this.element.style.cssText="",delete this.element[k],this.range&&this.range.parentNode.removeChild(this.range),S.instances=S.instances.filter(function(R){return R!==I}),S.instances.some(function(R){return R.vertical})||this._removeVerticalSlideScrollFix()}},{key:"_toFixed",value:function(I){return(I+"").replace(".","").length-1}},{key:"_init",value:function(){this.onInit&&typeof this.onInit=="function"&&this.onInit(),this._update(!1)}},{key:"_updatePercentFromValue",value:function(){this.percent=(this.value-this.min)/(this.max-this.min)}},{key:"_startEventListener",value:function(I,R){var B=this,z=I.target,q=!1;I.which!==1&&!("touches"in I)||(o.forEachAncestors(z,function(H){return q=H.id===B.identifier&&!o.hasClass(H,B.options.disabledClass)},!0),q&&this._handleDown(I,R))}},{key:"_changeEventListener",value:function(I,R){if(!(R&&R.origin===this.identifier)){var B=I.target.value,z=this._getPositionFromValue(B);this._setPosition(z)}}},{key:"_update",value:function(I){var R=this.vertical?"offsetHeight":"offsetWidth";this.handleSize=o.getDimension(this.handle,R),this.rangeSize=o.getDimension(this.range,R),this.maxHandleX=this.rangeSize-this.handleSize,this.grabX=this.handleSize/2,this.position=this._getPositionFromValue(this.value),this.element.disabled?o.addClass(this.range,this.options.disabledClass):o.removeClass(this.range,this.options.disabledClass),this._setPosition(this.position),this.options.bufferClass&&this.options.buffer&&this._setBufferPosition(this.options.buffer),this._updatePercentFromValue(),I!==!1&&o.triggerEvent(this.element,"change",{origin:this.identifier})}},{key:"_addVerticalSlideScrollFix",value:function(){this.vertical&&!F&&(document.addEventListener("touchmove",S._touchMoveScrollHandler,{passive:!1}),F=!0)}},{key:"_removeVerticalSlideScrollFix",value:function(){document.removeEventListener("touchmove",S._touchMoveScrollHandler),F=!1}},{key:"_handleResize",value:function(){var I=this;return u.debounce(function(){u.delay(function(){I._update()},p)},g)()}},{key:"_handleDown",value:function(I){if(this.isInteractsNow=!0,I.preventDefault(),o.addEventListeners(this.options.root,this.options.moveEvent,this._handleMove),o.addEventListeners(this.options.root,this.options.endEvent,this._handleEnd),!((" "+I.target.className+" ").replace(d," ").indexOf(this.options.handleClass)>-1)){var R=this.range.getBoundingClientRect(),B=this._getRelativePosition(I),z=this.vertical?R.bottom:R.left,q=this._getPositionFromNode(this.handle)-z,H=B-this.grabX;this._setPosition(H),B>=q&&B<q+this.options.borderRadius*2&&(this.grabX=B-q),this._updatePercentFromValue()}}},{key:"_handleMove",value:function(I){var R=this._getRelativePosition(I);this.isInteractsNow=!0,I.preventDefault(),this._setPosition(R-this.grabX)}},{key:"_handleEnd",value:function(I){I.preventDefault(),o.removeEventListeners(this.options.root,this.options.moveEvent,this._handleMove),o.removeEventListeners(this.options.root,this.options.endEvent,this._handleEnd),o.triggerEvent(this.element,"change",{origin:this.identifier}),(this.isInteractsNow||this.needTriggerEvents)&&(this.onSlideEnd&&typeof this.onSlideEnd=="function"&&this.onSlideEnd(this.value,this.percent,this.position),this.vertical&&(S.slidingVertically=!1)),this.onSlideEventsCount=0,this.isInteractsNow=!1}},{key:"_setPosition",value:function(I){var R=void 0,B=void 0,z=void 0,q=void 0,H=this._getValueFromPosition(u.between(I,0,this.maxHandleX));this.stick&&(q=this.stick[0],B=this.stick[1]||.1,z=H%q,z<B?H=H-z:Math.abs(q-z)<B&&(H=H-z+q)),R=this._getPositionFromValue(H),this.vertical?(this.container.style.height=R+this.grabX+"px",this.handle.style.webkitTransform="translateY(-"+R+"px)",this.handle.style.msTransform="translateY(-"+R+"px)",this.handle.style.transform="translateY(-"+R+"px)"):(this.container.style.width=R+this.grabX+"px",this.handle.style.webkitTransform="translateX("+R+"px)",this.handle.style.msTransform="translateX("+R+"px)",this.handle.style.transform="translateX("+R+"px)"),this._setValue(H),this.position=R,this.value=H,this._updatePercentFromValue(),(this.isInteractsNow||this.needTriggerEvents)&&(this.onSlideStart&&typeof this.onSlideStart=="function"&&this.onSlideEventsCount===0&&this.onSlideStart(this.value,this.percent,this.position),this.onSlide&&typeof this.onSlide=="function"&&this.onSlide(this.value,this.percent,this.position),this.vertical&&(S.slidingVertically=!0)),this.onSlideEventsCount++}},{key:"_setBufferPosition",value:function(I){var R=!0;if(isFinite(I))I=parseFloat(I);else if(u.isString(I))I.indexOf("px")>0&&(R=!1),I=parseFloat(I);else{console.warn("New position must be XXpx or XX%");return}if(isNaN(I)){console.warn("New position is NaN");return}if(!this.options.bufferClass){console.warn("You disabled buffer, it's className is empty");return}var B=R?I:I/this.rangeSize*100;B<0&&(B=0),B>100&&(B=100),this.options.buffer=B;var z=this.options.borderRadius/this.rangeSize*100,q=B-z;q<0&&(q=0),this.vertical?(this.buffer.style.height=q+"%",this.buffer.style.bottom=z*.5+"%"):(this.buffer.style.width=q+"%",this.buffer.style.left=z*.5+"%"),this.element.setAttribute("data-buffer",B)}},{key:"_getPositionFromNode",value:function(I){for(var R=this.vertical?this.maxHandleX:0;I!==null;)R+=this.vertical?I.offsetTop:I.offsetLeft,I=I.offsetParent;return R}},{key:"_getRelativePosition",value:function(I){var R=this.range.getBoundingClientRect(),B=this.vertical?R.bottom:R.left,z=0,q=this.vertical?"pageY":"pageX";return typeof I[q]<"u"?z=I.touches&&I.touches.length?I.touches[0][q]:I[q]:typeof I.originalEvent<"u"?typeof I.originalEvent[q]<"u"?z=I.originalEvent[q]:I.originalEvent.touches&&I.originalEvent.touches[0]&&typeof I.originalEvent.touches[0][q]<"u"&&(z=I.originalEvent.touches[0][q]):I.touches&&I.touches[0]&&typeof I.touches[0][q]<"u"?z=I.touches[0][q]:I.currentPoint&&(typeof I.currentPoint.x<"u"||typeof I.currentPoint.y<"u")&&(z=this.vertical?I.currentPoint.y:I.currentPoint.x),this.vertical&&(z-=window.pageYOffset),this.vertical?B-z:z-B}},{key:"_getPositionFromValue",value:function(I){var R=(I-this.min)/(this.max-this.min),B=R*this.maxHandleX;return isNaN(B)?0:B}},{key:"_getValueFromPosition",value:function(I){var R=I/(this.maxHandleX||1),B=this.step*Math.round(R*(this.max-this.min)/this.step)+this.min;return Number(B.toFixed(this.toFixed))}},{key:"_setValue",value:function(I,R){I===this.value&&!R||(this.element.value=I,this.value=I,o.triggerEvent(this.element,"input",{origin:this.identifier}))}}],[{key:"create",value:function(I,R){var B=function(q){var H=q[k];H||(H=new S(q,R),q[k]=H)};I.length?Array.prototype.slice.call(I).forEach(function(z){B(z)}):B(I)}},{key:"_touchMoveScrollHandler",value:function(I){S.slidingVertically&&I.preventDefault()}}]),S}();n.default=C,C.version="0.4.11",C.dom=o,C.functions=u,C.instances=[],C.slidingVertically=!1,t.exports=n.default},"./src/utils/dom.js":function(t,n,r){Object.defineProperty(n,"__esModule",{value:!0}),n.supportsRange=n.removeAllListenersFromEl=n.removeEventListeners=n.addEventListeners=n.insertAfter=n.triggerEvent=n.forEachAncestors=n.removeClass=n.addClass=n.hasClass=n.setCss=n.getDimension=n.getHiddenParentNodes=n.isHidden=n.detectIE=void 0;var s=r("./src/utils/functions.js"),l=o(s);function o(g){if(g&&g.__esModule)return g;var k={};if(g!=null)for(var $ in g)Object.prototype.hasOwnProperty.call(g,$)&&(k[$]=g[$]);return k.default=g,k}var a="eventListenerList",u=n.detectIE=function(){var k=window.navigator.userAgent,$=k.indexOf("MSIE ");if($>0)return parseInt(k.substring($+5,k.indexOf(".",$)),10);var D=k.indexOf("Trident/");if(D>0){var F=k.indexOf("rv:");return parseInt(k.substring(F+3,k.indexOf(".",F)),10)}var C=k.indexOf("Edge/");return C>0?parseInt(k.substring(C+5,k.indexOf(".",C)),10):!1},c=u(),f=window.PointerEvent&&!c?{passive:!1}:!1,d=n.isHidden=function(k){return k.offsetWidth===0||k.offsetHeight===0||k.open===!1},m=n.getHiddenParentNodes=function(k){for(var $=[],D=k.parentNode;D&&d(D);)$.push(D),D=D.parentNode;return $};n.getDimension=function(k,$){var D=m(k),F=D.length,C=[],S=k[$],P=function(z){typeof z.open<"u"&&(z.open=!z.open)};if(F){for(var I=0;I<F;I++)C.push({display:D[I].style.display,height:D[I].style.height,overflow:D[I].style.overflow,visibility:D[I].style.visibility}),D[I].style.display="block",D[I].style.height="0",D[I].style.overflow="hidden",D[I].style.visibility="hidden",P(D[I]);S=k[$];for(var R=0;R<F;R++)P(D[R]),D[R].style.display=C[R].display,D[R].style.height=C[R].height,D[R].style.overflow=C[R].overflow,D[R].style.visibility=C[R].visibility}return S},n.setCss=function(k,$){for(var D in $)k.style[D]=$[D];return k.style};var p=n.hasClass=function(k,$){return new RegExp(" "+$+" ").test(" "+k.className+" ")};n.addClass=function(k,$){p(k,$)||(k.className+=" "+$)},n.removeClass=function(k,$){var D=" "+k.className.replace(/[\t\r\n]/g," ")+" ";if(p(k,$)){for(;D.indexOf(" "+$+" ")>=0;)D=D.replace(" "+$+" "," ");k.className=D.replace(/^\s+|\s+$/g,"")}},n.forEachAncestors=function(k,$,D){for(D&&$(k);k.parentNode&&!$(k);)k=k.parentNode;return k},n.triggerEvent=function(k,$,D){if(!l.isString($))throw new TypeError("event name must be String");if(!(k instanceof HTMLElement))throw new TypeError("element must be HTMLElement");$=$.trim();var F=document.createEvent("CustomEvent");F.initCustomEvent($,!1,!1,D),k.dispatchEvent(F)},n.insertAfter=function(k,$){return k.parentNode.insertBefore($,k.nextSibling)},n.addEventListeners=function(k,$,D){$.forEach(function(F){k[a]||(k[a]={}),k[a][F]||(k[a][F]=[]),k.addEventListener(F,D,f),k[a][F].indexOf(D)<0&&k[a][F].push(D)})},n.removeEventListeners=function(k,$,D){$.forEach(function(F){var C=void 0;k.removeEventListener(F,D,!1),k[a]&&k[a][F]&&(C=k[a][F].indexOf(D))>-1&&k[a][F].splice(C,1)})},n.removeAllListenersFromEl=function(k,$){if(!$[a])return;function D(C){C===k._startEventListener&&this.el.removeEventListener(this.eventName,C,!1)}for(var F in $[a])$[a][F].forEach(D,{eventName:F,el:$});$[a]={}},n.supportsRange=function(){var k=document.createElement("input");return k.setAttribute("type","range"),k.type!=="text"}},"./src/utils/functions.js":function(t,n,r){Object.defineProperty(n,"__esModule",{value:!0}),n.uuid=function(){var a=function(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)};return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},n.delay=function(a,u){for(var c=arguments.length,f=Array(c>2?c-2:0),d=2;d<c;d++)f[d-2]=arguments[d];return setTimeout(function(){return a.apply(null,f)},u)},n.debounce=function(a){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;return function(){for(var c=arguments.length,f=Array(c),d=0;d<c;d++)f[d]=arguments[d];return a.debouncing||(a.lastReturnVal=a.apply(window,f),a.debouncing=!0),clearTimeout(a.debounceTimeout),a.debounceTimeout=setTimeout(function(){a.debouncing=!1},u),a.lastReturnVal}};var s=n.isString=function(a){return a===""+a};n.isArray=function(a){return Object.prototype.toString.call(a)==="[object Array]"};var l=n.isNumberLike=function(a){return a!=null&&(s(a)&&isFinite(parseFloat(a))||isFinite(a))};n.getFirsNumberLike=function(){for(var a=arguments.length,u=Array(a),c=0;c<a;c++)u[c]=arguments[c];if(!u.length)return null;for(var f=0,d=u.length;f<d;f++)if(l(u[f]))return u[f];return null},n.isObject=function(a){return Object.prototype.toString.call(a)==="[object Object]"},n.simpleExtend=function(a,u){var c={};for(var f in a)c[f]=a[f];for(var d in u)c[d]=u[d];return c},n.between=function(a,u,c){return a<u?u:a>c?c:a}}})})})(Oz);const MPe=Xj(Oz.exports);function ID(i){let e,t,n=i[3].tracker.minLabel&&BD(i),r=i[3].tracker.maxLabel&&zD(i);return{c(){e=A("div"),n&&n.c(),t=Y(),r&&r.c(),h(e,"class","flex items-center w-full justify-between -mb-2 mt-2 opacity-50 text-xs")},m(s,l){w(s,e,l),n&&n.m(e,null),E(e,t),r&&r.m(e,null)},p(s,l){s[3].tracker.minLabel?n?n.p(s,l):(n=BD(s),n.c(),n.m(e,t)):n&&(n.d(1),n=null),s[3].tracker.maxLabel?r?r.p(s,l):(r=zD(s),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},d(s){s&&y(e),n&&n.d(),r&&r.d()}}}function BD(i){let e,t=i[3].tracker.minLabel+"",n;return{c(){e=A("span"),n=Z(t),h(e,"class","label-min")},m(r,s){w(r,e,s),E(e,n)},p(r,s){s&8&&t!==(t=r[3].tracker.minLabel+"")&&oe(n,t)},d(r){r&&y(e)}}}function zD(i){let e,t=i[3].tracker.maxLabel+"",n;return{c(){e=A("span"),n=Z(t),h(e,"class","label-max")},m(r,s){w(r,e,s),E(e,n)},p(r,s){s&8&&t!==(t=r[3].tracker.maxLabel+"")&&oe(n,t)},d(r){r&&y(e)}}}function LPe(i){let e,t,n,r,s,l,o,a,u,c=(i[3].tracker.minLabel||i[3].tracker.maxLabel)&&ID(i);return{c(){e=A("div"),t=A("div"),n=A("input"),s=Y(),c&&c.c(),h(n,"aria-label",r=i[3].label),h(n,"type","text"),h(n,"class","w-full n-range"),h(n,"min",i[0]),h(n,"max",i[1]),h(n,"step",i[5]),h(t,"class","slider-wrapper"),h(e,"class",l="tracker-input slider py-2 "+i[2]),h(e,"style",o=`--trackable-color:${i[3].color};`),Je(e,"vertical",!i[4]),Je(e,"mini",i[4])},m(f,d){w(f,e,d),E(e,t),E(t,n),i[10](n),mn(n,i[7]),E(t,s),c&&c.m(t,null),a||(u=[ke(n,"input",i[11]),ke(n,"input",i[12]),ke(n,"change",i[13])],a=!0)},p(f,[d]){d&8&&r!==(r=f[3].label)&&h(n,"aria-label",r),d&1&&h(n,"min",f[0]),d&2&&h(n,"max",f[1]),d&32&&h(n,"step",f[5]),d&128&&n.value!==f[7]&&mn(n,f[7]),f[3].tracker.minLabel||f[3].tracker.maxLabel?c?c.p(f,d):(c=ID(f),c.c(),c.m(t,null)):c&&(c.d(1),c=null),d&4&&l!==(l="tracker-input slider py-2 "+f[2])&&h(e,"class",l),d&8&&o!==(o=`--trackable-color:${f[3].color};`)&&h(e,"style",o),d&20&&Je(e,"vertical",!f[4]),d&20&&Je(e,"mini",f[4])},i:W,o:W,d(f){f&&y(e),i[10](null),c&&c.d(),a=!1,pt(u)}}}function OPe(i,e,t){let{min:n=0}=e,{max:r=10}=e,{value:s=5}=e,{className:l=""}=e,{trackable:o}=e,{mini:a=!1}=e,{step:u=1}=e,c,f;const d=Dt();async function m(){f&&d("change",parseInt(f)),MPe.create(c)}wt(m);function p(D){De[D?"unshift":"push"](()=>{c=D,t(6,c)})}function g(){f=this.value,t(7,f),t(9,s)}const k=()=>d("input",parseFloat(f)),$=()=>d("change",parseFloat(f));return i.$$set=D=>{"min"in D&&t(0,n=D.min),"max"in D&&t(1,r=D.max),"value"in D&&t(9,s=D.value),"className"in D&&t(2,l=D.className),"trackable"in D&&t(3,o=D.trackable),"mini"in D&&t(4,a=D.mini),"step"in D&&t(5,u=D.step)},i.$$.update=()=>{i.$$.dirty&512&&t(7,f=s)},[n,r,l,o,a,u,c,f,d,s,p,g,k,$]}class IPe extends ce{constructor(e){super(),ue(this,e,OPe,LPe,le,{min:0,max:1,value:9,className:2,trackable:3,mini:4,step:5})}}function RD(i,e,t){const n=i.slice();return n[16]=e[t],n[17]=e,n[18]=t,n}function BPe(i){let e=i[16].label+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p(n,r){r&1&&e!==(e=n[16].label+"")&&oe(t,e)},d(n){n&&y(t)}}}function jD(i){var n;let e,t;return e=new ou({props:{className:"text-lg font-bold",text:(n=i[16].tracker)==null?void 0:n.displayValue(i[16].value)}}),{c(){O(e.$$.fragment)},m(r,s){N(e,r,s),t=!0},p(r,s){var o;const l={};s&1&&(l.text=(o=r[16].tracker)==null?void 0:o.displayValue(r[16].value)),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){M(e,r)}}}function YD(i){let e;return{c(){e=A("div"),e.textContent="Nested Combos are currently not supported",h(e,"class","dark:text-white filler py-1 text-sm ")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function UD(i){let e,t,n;function r(...s){return i[11](i[16],i[17],i[18],...s)}return t=new IPe({props:{trackable:i[16],step:i[16].tracker.step||1,value:nc(i[16].tracker.default)?i[16].tracker.default:i[16].value,min:parseFloat(`${i[16].tracker.min}`),max:parseFloat(`${i[16].tracker.max}`)||100,className:"w-full"}}),t.$on("input",r),{c(){e=A("div"),O(t.$$.fragment),h(e,"class","")},m(s,l){w(s,e,l),N(t,e,null),n=!0},p(s,l){i=s;const o={};l&1&&(o.trackable=i[16]),l&1&&(o.step=i[16].tracker.step||1),l&1&&(o.value=nc(i[16].tracker.default)?i[16].tracker.default:i[16].value),l&1&&(o.min=parseFloat(`${i[16].tracker.min}`)),l&1&&(o.max=parseFloat(`${i[16].tracker.max}`)||100),t.$set(o)},i(s){n||(_(t.$$.fragment,s),n=!0)},o(s){v(t.$$.fragment,s),n=!1},d(s){s&&y(e),M(t)}}}function zPe(i){var d,m,p;let e,t,n,r,s,l,o,a;n=new Yr({props:{$$slots:{default:[BPe]},$$scope:{ctx:i}}});let u=((d=i[16].tracker)==null?void 0:d.type)=="range"&&jD(i),c=((m=i[16].tracker)==null?void 0:m.type)==="note"&&YD(),f=((p=i[16].tracker)==null?void 0:p.type)==="range"&&UD(i);return{c(){e=A("main"),t=A("header"),O(n.$$.fragment),r=Y(),u&&u.c(),s=Y(),c&&c.c(),l=Y(),f&&f.c(),o=Y(),h(t,"class","flex items-center justify-between"),h(e,"class","filler")},m(g,k){w(g,e,k),E(e,t),N(n,t,null),E(t,r),u&&u.m(t,null),E(e,s),c&&c.m(e,null),E(e,l),f&&f.m(e,null),w(g,o,k),a=!0},p(g,k){var D,F,C;const $={};k&524289&&($.$$scope={dirty:k,ctx:g}),n.$set($),((D=g[16].tracker)==null?void 0:D.type)=="range"?u?(u.p(g,k),k&1&&_(u,1)):(u=jD(g),u.c(),_(u,1),u.m(t,null)):u&&(ie(),v(u,1,1,()=>{u=null}),re()),((F=g[16].tracker)==null?void 0:F.type)==="note"?c||(c=YD(),c.c(),c.m(e,l)):c&&(c.d(1),c=null),((C=g[16].tracker)==null?void 0:C.type)==="range"?f?(f.p(g,k),k&1&&_(f,1)):(f=UD(g),f.c(),_(f,1),f.m(e,null)):f&&(ie(),v(f,1,1,()=>{f=null}),re())},i(g){a||(_(n.$$.fragment,g),_(u),_(f),a=!0)},o(g){v(n.$$.fragment,g),v(u),v(f),a=!1},d(g){g&&y(e),M(n),u&&u.d(),c&&c.d(),f&&f.d(),g&&y(o)}}}function RPe(i){let e,t;return e=new fi({props:{slot:"left",trackable:i[16],size:46}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.trackable=n[16]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function jPe(i){let e,t;function n(...r){return i[10](i[16],i[17],i[18],...r)}return e=new Oi({props:{title:"value"}}),e.$on("change",n),{c(){O(e.$$.fragment)},m(r,s){N(e,r,s),t=!0},p(r,s){i=r},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){M(e,r)}}}function YPe(i){let e,t,n;function r(l){i[9](l,i[16])}let s={size:"sm"};return i[16].value!==void 0&&(s.value=i[16].value),e=new Lz({props:s}),De.push(()=>Ue(e,"value",r,i[16].value)),{c(){O(e.$$.fragment)},m(l,o){N(e,l,o),n=!0},p(l,o){i=l;const a={};!t&&o&1&&(t=!0,a.value=i[16].value,qe(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){M(e,l)}}}function UPe(i){let e,t;function n(...r){return i[8](i[16],i[17],i[18],...r)}return e=new Oi({props:{title:"input"}}),e.$on("change",n),{c(){O(e.$$.fragment)},m(r,s){N(e,r,s),t=!0},p(r,s){i=r},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){M(e,r)}}}function qPe(i){let e,t,n,r,s,l,o,a;function u(){i[6].call(t,i[17],i[18])}function c(){return i[7](i[16],i[17],i[18])}return s=new Me({props:{className:"-ml-8",icon:!0,primary:!0,title:"Add value",$$slots:{default:[HPe]},$$scope:{ctx:i}}}),s.$on("click",c),{c(){e=A("div"),t=A("input"),r=Y(),O(s.$$.fragment),h(t,"aria-label",n=i[16].label),h(t,"class","bg-gray-100 pr-10 stiff mr-2 dark:bg-gray-800 text-black dark:text-white text-lg rounded-md p-2 flex-shrink text-right w-24 font-bold"),h(t,"type","number"),h(e,"class","flex items-center")},m(f,d){w(f,e,d),E(e,t),mn(t,i[16].value),E(e,r),N(s,e,null),l=!0,o||(a=[ke(t,"change",i[5]),ke(t,"focus",ZPe),ke(t,"input",u)],o=!0)},p(f,d){i=f,(!l||d&1&&n!==(n=i[16].label))&&h(t,"aria-label",n),d&1&&vc(t.value)!==i[16].value&&mn(t,i[16].value);const m={};d&524288&&(m.$$scope={dirty:d,ctx:i}),s.$set(m)},i(f){l||(_(s.$$.fragment,f),l=!0)},o(f){v(s.$$.fragment,f),l=!1},d(f){f&&y(e),M(s),o=!1,pt(a)}}}function HPe(i){let e,t;return e=new je({props:{icon:kd}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function WPe(i){let e,t,n,r,s;const l=[qPe,UPe,YPe,jPe],o=[];function a(u,c){var f,d,m;return((f=u[16].tracker)==null?void 0:f.type)==="value"?0:((d=u[16].tracker)==null?void 0:d.type)==="tick"||u[16].type==="context"?1:((m=u[16].tracker)==null?void 0:m.type)==="timer"?2:u[16].person||u[16].context?3:-1}return~(t=a(i))&&(n=o[t]=l[t](i)),{c(){e=A("div"),n&&n.c(),r=Y(),h(e,"slot","right"),h(e,"class","pr-2 text-right ")},m(u,c){w(u,e,c),~t&&o[t].m(e,null),E(e,r),s=!0},p(u,c){let f=t;t=a(u),t===f?~t&&o[t].p(u,c):(n&&(ie(),v(o[f],1,1,()=>{o[f]=null}),re()),~t?(n=o[t],n?n.p(u,c):(n=o[t]=l[t](u),n.c()),_(n,1),n.m(e,r)):n=null)},i(u){s||(_(n),s=!0)},o(u){v(n),s=!1},d(u){u&&y(e),~t&&o[t].d()}}}function qD(i){let e,t,n,r;return n=new xe({props:{bottomLine:64,className:"bg-white dark:bg-gray-900",$$slots:{right:[WPe],left:[RPe],default:[zPe]},$$scope:{ctx:i}}}),{c(){e=A("article"),t=Y(),O(n.$$.fragment),h(e,"class","flex flex-col justify-center items-center")},m(s,l){w(s,e,l),w(s,t,l),N(n,s,l),r=!0},p(s,l){const o={};l&524291&&(o.$$scope={dirty:l,ctx:s}),n.$set(o)},i(s){r||(_(n.$$.fragment,s),r=!0)},o(s){v(n.$$.fragment,s),r=!1},d(s){s&&y(e),s&&y(t),M(n,s)}}}function VPe(i){let e,t,n=i[0],r=[];for(let l=0;l<n.length;l+=1)r[l]=qD(RD(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=$e()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o&7){n=l[0];let a;for(a=0;a<n.length;a+=1){const u=RD(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=qD(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ie(),a=n.length;a<r.length;a+=1)s(a);re()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){it(r,l),l&&y(e)}}}function GPe(i){let e,t,n;return t=new Ft({props:{solo:!0,$$slots:{default:[VPe]},$$scope:{ctx:i}}}),{c(){e=A("div"),O(t.$$.fragment),h(e,"class","h-full tracker-input-combo")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p(r,[s]){const l={};s&524291&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}const ZPe=i=>{i.target.select()};function xPe(i,e,t){let n;Ee(i,It,F=>t(1,n=F));let{value:r="5"}=e,{tracker:s=void 0}=e,l;const o=Dt();let a=[];async function u(){const F=Yo(s.note);t(0,a=F.map(C=>{var P,I;const S=pi(C,n.trackables);return S.person&&(S.value=0),((P=S.tracker)==null?void 0:P.type)=="value"&&S.value==1&&(S.value=0),((I=S.tracker)==null?void 0:I.type)=="tick"&&S.value==1&&(S.value=0),S})),l&&o("change",parseInt(l))}const c=()=>a.filter(F=>F.value===!0?!0:F.value>0||F.value<0).map(F=>(F.value===!0&&(F.value=1),F.getNoteValue())).join(" "),f=()=>{const F=c();o("note",F),o("change",1)};wt(u);const d=F=>{f()};function m(F,C){F[C].value=vc(this.value),t(0,a)}const p=async(F,C,S)=>{const P=await Vb(F,n.trackables,"Next");t(0,C[S].value=P.value,a),f()},g=(F,C,S,P)=>{t(0,C[S].value=P.detail?1:0,a),f()};function k(F,C){i.$$.not_equal(C.value,F)&&(C.value=F,t(0,a))}const $=(F,C,S,P)=>{t(0,C[S].value=P.detail?1:0,a),f()},D=(F,C,S,P)=>{t(0,C[S].value=P.detail,a),f()};return i.$$set=F=>{"value"in F&&t(3,r=F.value),"tracker"in F&&t(4,s=F.tracker)},i.$$.update=()=>{i.$$.dirty&8&&(l=r)},[a,n,f,r,s,d,m,p,g,k,$,D]}class XPe extends ce{constructor(e){super(),ue(this,e,xPe,GPe,le,{value:3,tracker:4})}}function HD(i){return Object.prototype.toString.call(i)==="[object Date]"}function o0(i,e,t,n){if(typeof t=="number"||HD(t)){const r=n-t,s=(t-e)/(i.dt||1/60),l=i.opts.stiffness*r,o=i.opts.damping*s,a=(l-o)*i.inv_mass,u=(s+a)*i.dt;return Math.abs(u)<i.opts.precision&&Math.abs(r)<i.opts.precision?n:(i.settled=!1,HD(t)?new Date(t.getTime()+u):t+u)}else{if(Array.isArray(t))return t.map((r,s)=>o0(i,e[s],t[s],n[s]));if(typeof t=="object"){const r={};for(const s in t)r[s]=o0(i,e[s],t[s],n[s]);return r}else throw new Error(`Cannot spring ${typeof t} values`)}}function KPe(i,e={}){const t=Bt(i),{stiffness:n=.15,damping:r=.8,precision:s=.01}=e;let l,o,a,u=i,c=i,f=1,d=0,m=!1;function p(k,$={}){c=k;const D=a={};return i==null||$.hard||g.stiffness>=1&&g.damping>=1?(m=!0,l=Yf(),u=k,t.set(i=c),Promise.resolve()):($.soft&&(d=1/(($.soft===!0?.5:+$.soft)*60),f=0),o||(l=Yf(),m=!1,o=ap(F=>{if(m)return m=!1,o=null,!1;f=Math.min(f+d,1);const C={inv_mass:f,opts:g,settled:!0,dt:(F-l)*60/1e3},S=o0(C,u,i,c);return l=F,u=i,t.set(i=S),C.settled&&(o=null),!C.settled})),new Promise(F=>{o.promise.then(()=>{D===a&&F()})}))}const g={set:p,update:(k,$)=>p(k(c,i),$),subscribe:t.subscribe,stiffness:n,damping:r,precision:s};return g}function WD(i,e,t){const n=i.slice();return n[28]=e[t],n[30]=t,n}function VD(i){let e,t,n,r,s=(i[6]==="label"||i[7]==="label")&&GD(i);return{c(){e=A("span"),s&&s.c(),h(e,"class","pip first"),h(e,"style",t=i[14]+": 0%;"),Je(e,"selected",i[18](i[0])),Je(e,"in-range",i[17](i[0]))},m(l,o){w(l,e,o),s&&s.m(e,null),n||(r=[ke(e,"click",function(){zt(i[21](i[0]))&&i[21](i[0]).apply(this,arguments)}),ke(e,"touchend",Or(function(){zt(i[21](i[0]))&&i[21](i[0]).apply(this,arguments)}))],n=!0)},p(l,o){i=l,i[6]==="label"||i[7]==="label"?s?s.p(i,o):(s=GD(i),s.c(),s.m(e,null)):s&&(s.d(1),s=null),o&16384&&t!==(t=i[14]+": 0%;")&&h(e,"style",t),o&262145&&Je(e,"selected",i[18](i[0])),o&131073&&Je(e,"in-range",i[17](i[0]))},d(l){l&&y(e),s&&s.d(),n=!1,pt(r)}}}function GD(i){let e,t=i[12](i[16](i[0]),0,0)+"",n,r=i[10]&&ZD(i),s=i[11]&&xD(i);return{c(){e=A("span"),r&&r.c(),n=Z(t),s&&s.c(),h(e,"class","pipVal")},m(l,o){w(l,e,o),r&&r.m(e,null),E(e,n),s&&s.m(e,null)},p(l,o){l[10]?r?r.p(l,o):(r=ZD(l),r.c(),r.m(e,n)):r&&(r.d(1),r=null),o&69633&&t!==(t=l[12](l[16](l[0]),0,0)+"")&&oe(n,t),l[11]?s?s.p(l,o):(s=xD(l),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(l){l&&y(e),r&&r.d(),s&&s.d()}}}function ZD(i){let e,t;return{c(){e=A("span"),t=Z(i[10]),h(e,"class","pipVal-prefix")},m(n,r){w(n,e,r),E(e,t)},p(n,r){r&1024&&oe(t,n[10])},d(n){n&&y(e)}}}function xD(i){let e,t;return{c(){e=A("span"),t=Z(i[11]),h(e,"class","pipVal-suffix")},m(n,r){w(n,e,r),E(e,t)},p(n,r){r&2048&&oe(t,n[11])},d(n){n&&y(e)}}}function XD(i){let e,t=Array(i[20]+1),n=[];for(let r=0;r<t.length;r+=1)n[r]=tC(WD(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=$e()},m(r,s){for(let l=0;l<n.length;l+=1)n[l].m(r,s);w(r,e,s)},p(r,s){if(s&4120131){t=Array(r[20]+1);let l;for(l=0;l<t.length;l+=1){const o=WD(r,t,l);n[l]?n[l].p(o,s):(n[l]=tC(o),n[l].c(),n[l].m(e.parentNode,e))}for(;l<n.length;l+=1)n[l].d(1);n.length=t.length}},d(r){it(n,r),r&&y(e)}}}function KD(i){let e,t,n,r,s,l=(i[6]==="label"||i[9]==="label")&&JD(i);return{c(){e=A("span"),l&&l.c(),t=Y(),h(e,"class","pip"),h(e,"style",n=i[14]+": "+i[15](i[19](i[30]))+"%;"),Je(e,"selected",i[18](i[19](i[30]))),Je(e,"in-range",i[17](i[19](i[30])))},m(o,a){w(o,e,a),l&&l.m(e,null),E(e,t),r||(s=[ke(e,"click",function(){zt(i[21](i[19](i[30])))&&i[21](i[19](i[30])).apply(this,arguments)}),ke(e,"touchend",Or(function(){zt(i[21](i[19](i[30])))&&i[21](i[19](i[30])).apply(this,arguments)}))],r=!0)},p(o,a){i=o,i[6]==="label"||i[9]==="label"?l?l.p(i,a):(l=JD(i),l.c(),l.m(e,t)):l&&(l.d(1),l=null),a&573440&&n!==(n=i[14]+": "+i[15](i[19](i[30]))+"%;")&&h(e,"style",n),a&786432&&Je(e,"selected",i[18](i[19](i[30]))),a&655360&&Je(e,"in-range",i[17](i[19](i[30])))},d(o){o&&y(e),l&&l.d(),r=!1,pt(s)}}}function JD(i){let e,t=i[12](i[19](i[30]),i[30],i[15](i[19](i[30])))+"",n,r=i[10]&&QD(i),s=i[11]&&eC(i);return{c(){e=A("span"),r&&r.c(),n=Z(t),s&&s.c(),h(e,"class","pipVal")},m(l,o){w(l,e,o),r&&r.m(e,null),E(e,n),s&&s.m(e,null)},p(l,o){l[10]?r?r.p(l,o):(r=QD(l),r.c(),r.m(e,n)):r&&(r.d(1),r=null),o&561152&&t!==(t=l[12](l[19](l[30]),l[30],l[15](l[19](l[30])))+"")&&oe(n,t),l[11]?s?s.p(l,o):(s=eC(l),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(l){l&&y(e),r&&r.d(),s&&s.d()}}}function QD(i){let e,t;return{c(){e=A("span"),t=Z(i[10]),h(e,"class","pipVal-prefix")},m(n,r){w(n,e,r),E(e,t)},p(n,r){r&1024&&oe(t,n[10])},d(n){n&&y(e)}}}function eC(i){let e,t;return{c(){e=A("span"),t=Z(i[11]),h(e,"class","pipVal-suffix")},m(n,r){w(n,e,r),E(e,t)},p(n,r){r&2048&&oe(t,n[11])},d(n){n&&y(e)}}}function tC(i){let e=i[19](i[30])!==i[0]&&i[19](i[30])!==i[1],t,n=e&&KD(i);return{c(){n&&n.c(),t=$e()},m(r,s){n&&n.m(r,s),w(r,t,s)},p(r,s){s&524291&&(e=r[19](r[30])!==r[0]&&r[19](r[30])!==r[1]),e?n?n.p(r,s):(n=KD(r),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(r){n&&n.d(r),r&&y(t)}}}function nC(i){let e,t,n,r,s=(i[6]==="label"||i[8]==="label")&&iC(i);return{c(){e=A("span"),s&&s.c(),h(e,"class","pip last"),h(e,"style",t=i[14]+": 100%;"),Je(e,"selected",i[18](i[1])),Je(e,"in-range",i[17](i[1]))},m(l,o){w(l,e,o),s&&s.m(e,null),n||(r=[ke(e,"click",function(){zt(i[21](i[1]))&&i[21](i[1]).apply(this,arguments)}),ke(e,"touchend",Or(function(){zt(i[21](i[1]))&&i[21](i[1]).apply(this,arguments)}))],n=!0)},p(l,o){i=l,i[6]==="label"||i[8]==="label"?s?s.p(i,o):(s=iC(i),s.c(),s.m(e,null)):s&&(s.d(1),s=null),o&16384&&t!==(t=i[14]+": 100%;")&&h(e,"style",t),o&262146&&Je(e,"selected",i[18](i[1])),o&131074&&Je(e,"in-range",i[17](i[1]))},d(l){l&&y(e),s&&s.d(),n=!1,pt(r)}}}function iC(i){let e,t=i[12](i[16](i[1]),i[20],100)+"",n,r=i[10]&&rC(i),s=i[11]&&sC(i);return{c(){e=A("span"),r&&r.c(),n=Z(t),s&&s.c(),h(e,"class","pipVal")},m(l,o){w(l,e,o),r&&r.m(e,null),E(e,n),s&&s.m(e,null)},p(l,o){l[10]?r?r.p(l,o):(r=rC(l),r.c(),r.m(e,n)):r&&(r.d(1),r=null),o&1118210&&t!==(t=l[12](l[16](l[1]),l[20],100)+"")&&oe(n,t),l[11]?s?s.p(l,o):(s=sC(l),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(l){l&&y(e),r&&r.d(),s&&s.d()}}}function rC(i){let e,t;return{c(){e=A("span"),t=Z(i[10]),h(e,"class","pipVal-prefix")},m(n,r){w(n,e,r),E(e,t)},p(n,r){r&1024&&oe(t,n[10])},d(n){n&&y(e)}}}function sC(i){let e,t;return{c(){e=A("span"),t=Z(i[11]),h(e,"class","pipVal-suffix")},m(n,r){w(n,e,r),E(e,t)},p(n,r){r&2048&&oe(t,n[11])},d(n){n&&y(e)}}}function JPe(i){let e,t,n,r=(i[6]&&i[7]!==!1||i[7])&&VD(i),s=(i[6]&&i[9]!==!1||i[9])&&XD(i),l=(i[6]&&i[8]!==!1||i[8])&&nC(i);return{c(){e=A("div"),r&&r.c(),t=Y(),s&&s.c(),n=Y(),l&&l.c(),h(e,"class","rangePips"),Je(e,"disabled",i[5]),Je(e,"hoverable",i[4]),Je(e,"vertical",i[2]),Je(e,"reversed",i[3]),Je(e,"focus",i[13])},m(o,a){w(o,e,a),r&&r.m(e,null),E(e,t),s&&s.m(e,null),E(e,n),l&&l.m(e,null)},p(o,[a]){o[6]&&o[7]!==!1||o[7]?r?r.p(o,a):(r=VD(o),r.c(),r.m(e,t)):r&&(r.d(1),r=null),o[6]&&o[9]!==!1||o[9]?s?s.p(o,a):(s=XD(o),s.c(),s.m(e,n)):s&&(s.d(1),s=null),o[6]&&o[8]!==!1||o[8]?l?l.p(o,a):(l=nC(o),l.c(),l.m(e,null)):l&&(l.d(1),l=null),a&32&&Je(e,"disabled",o[5]),a&16&&Je(e,"hoverable",o[4]),a&4&&Je(e,"vertical",o[2]),a&8&&Je(e,"reversed",o[3]),a&8192&&Je(e,"focus",o[13])},i:W,o:W,d(o){o&&y(e),r&&r.d(),s&&s.d(),l&&l.d()}}}function QPe(i,e,t){let n,r,s,l,o,{range:a=!1}=e,{min:u=0}=e,{max:c=100}=e,{step:f=1}=e,{values:d=[(c+u)/2]}=e,{vertical:m=!1}=e,{reversed:p=!1}=e,{hoverable:g=!0}=e,{disabled:k=!1}=e,{pipstep:$=void 0}=e,{all:D=!0}=e,{first:F=void 0}=e,{last:C=void 0}=e,{rest:S=void 0}=e,{prefix:P=""}=e,{suffix:I=""}=e,{formatter:R=(U,Q)=>U}=e,{focus:B=void 0}=e,{orientationStart:z=void 0}=e,{percentOf:q=void 0}=e,{moveHandle:H=void 0}=e,{fixFloat:K=void 0}=e;function G(U){k||H(void 0,U)}return i.$$set=U=>{"range"in U&&t(22,a=U.range),"min"in U&&t(0,u=U.min),"max"in U&&t(1,c=U.max),"step"in U&&t(23,f=U.step),"values"in U&&t(24,d=U.values),"vertical"in U&&t(2,m=U.vertical),"reversed"in U&&t(3,p=U.reversed),"hoverable"in U&&t(4,g=U.hoverable),"disabled"in U&&t(5,k=U.disabled),"pipstep"in U&&t(25,$=U.pipstep),"all"in U&&t(6,D=U.all),"first"in U&&t(7,F=U.first),"last"in U&&t(8,C=U.last),"rest"in U&&t(9,S=U.rest),"prefix"in U&&t(10,P=U.prefix),"suffix"in U&&t(11,I=U.suffix),"formatter"in U&&t(12,R=U.formatter),"focus"in U&&t(13,B=U.focus),"orientationStart"in U&&t(14,z=U.orientationStart),"percentOf"in U&&t(15,q=U.percentOf),"moveHandle"in U&&t(26,H=U.moveHandle),"fixFloat"in U&&t(16,K=U.fixFloat)},i.$$.update=()=>{i.$$.dirty&41943047&&t(27,n=$||((c-u)/f>=(m?50:100)?(c-u)/(m?10:20):1)),i.$$.dirty&142606339&&t(20,r=parseInt((c-u)/(f*n),10)),i.$$.dirty&142671873&&t(19,s=function(U){return K(u+U*f*n)}),i.$$.dirty&16842752&&t(18,l=function(U){return d.some(Q=>K(Q)===K(U))}),i.$$.dirty&20971520&&t(17,o=function(U){if(a==="min")return d[0]>U;if(a==="max")return d[0]<U;if(a)return d[0]<U&&d[1]>U})},[u,c,m,p,g,k,D,F,C,S,P,I,R,B,z,q,K,o,l,s,r,G,a,f,d,$,H,n]}class eNe extends ce{constructor(e){super(),ue(this,e,QPe,JPe,le,{range:22,min:0,max:1,step:23,values:24,vertical:2,reversed:3,hoverable:4,disabled:5,pipstep:25,all:6,first:7,last:8,rest:9,prefix:10,suffix:11,formatter:12,focus:13,orientationStart:14,percentOf:15,moveHandle:26,fixFloat:16})}}function lC(i,e,t){const n=i.slice();return n[64]=e[t],n[66]=t,n}function oC(i){let e,t=i[21](i[64],i[66],i[23](i[64]))+"",n,r=i[18]&&aC(i),s=i[19]&&uC(i);return{c(){e=A("span"),r&&r.c(),n=Z(t),s&&s.c(),h(e,"class","rangeFloat")},m(l,o){w(l,e,o),r&&r.m(e,null),E(e,n),s&&s.m(e,null)},p(l,o){l[18]?r?r.p(l,o):(r=aC(l),r.c(),r.m(e,n)):r&&(r.d(1),r=null),o[0]&10485761&&t!==(t=l[21](l[64],l[66],l[23](l[64]))+"")&&oe(n,t),l[19]?s?s.p(l,o):(s=uC(l),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(l){l&&y(e),r&&r.d(),s&&s.d()}}}function aC(i){let e,t;return{c(){e=A("span"),t=Z(i[18]),h(e,"class","rangeFloat-prefix")},m(n,r){w(n,e,r),E(e,t)},p(n,r){r[0]&262144&&oe(t,n[18])},d(n){n&&y(e)}}}function uC(i){let e,t;return{c(){e=A("span"),t=Z(i[19]),h(e,"class","rangeFloat-suffix")},m(n,r){w(n,e,r),E(e,t)},p(n,r){r[0]&524288&&oe(t,n[19])},d(n){n&&y(e)}}}function cC(i){let e,t,n,r,s,l,o,a,u,c,f,d,m=i[7]&&oC(i);return{c(){e=A("span"),t=A("span"),n=Y(),m&&m.c(),h(t,"class","rangeNub"),h(e,"role","slider"),h(e,"class","rangeHandle"),h(e,"data-handle",i[66]),h(e,"style",r=i[28]+": "+i[29][i[66]]+"%; z-index: "+(i[26]===i[66]?3:2)+";"),h(e,"aria-valuemin",s=i[2]===!0&&i[66]===1?i[0][0]:i[3]),h(e,"aria-valuemax",l=i[2]===!0&&i[66]===0?i[0][1]:i[4]),h(e,"aria-valuenow",o=i[64]),h(e,"aria-valuetext",a=""+(i[18]+i[21](i[64],i[66],i[23](i[64]))+i[19])),h(e,"aria-orientation",u=i[6]?"vertical":"horizontal"),h(e,"aria-disabled",i[10]),h(e,"disabled",i[10]),h(e,"tabindex",c=i[10]?-1:0),Je(e,"active",i[24]&&i[26]===i[66]),Je(e,"press",i[25]&&i[26]===i[66])},m(p,g){w(p,e,g),E(e,t),E(e,n),m&&m.m(e,null),f||(d=[ke(e,"blur",i[34]),ke(e,"focus",i[35]),ke(e,"keydown",i[36])],f=!0)},p(p,g){p[7]?m?m.p(p,g):(m=oC(p),m.c(),m.m(e,null)):m&&(m.d(1),m=null),g[0]&872415232&&r!==(r=p[28]+": "+p[29][p[66]]+"%; z-index: "+(p[26]===p[66]?3:2)+";")&&h(e,"style",r),g[0]&13&&s!==(s=p[2]===!0&&p[66]===1?p[0][0]:p[3])&&h(e,"aria-valuemin",s),g[0]&21&&l!==(l=p[2]===!0&&p[66]===0?p[0][1]:p[4])&&h(e,"aria-valuemax",l),g[0]&1&&o!==(o=p[64])&&h(e,"aria-valuenow",o),g[0]&11272193&&a!==(a=""+(p[18]+p[21](p[64],p[66],p[23](p[64]))+p[19]))&&h(e,"aria-valuetext",a),g[0]&64&&u!==(u=p[6]?"vertical":"horizontal")&&h(e,"aria-orientation",u),g[0]&1024&&h(e,"aria-disabled",p[10]),g[0]&1024&&h(e,"disabled",p[10]),g[0]&1024&&c!==(c=p[10]?-1:0)&&h(e,"tabindex",c),g[0]&83886080&&Je(e,"active",p[24]&&p[26]===p[66]),g[0]&100663296&&Je(e,"press",p[25]&&p[26]===p[66])},d(p){p&&y(e),m&&m.d(),f=!1,pt(d)}}}function fC(i){let e,t;return{c(){e=A("span"),h(e,"class","rangeBar"),h(e,"style",t=i[28]+": "+i[32](i[29])+"%; "+i[27]+": "+i[33](i[29])+"%;")},m(n,r){w(n,e,r)},p(n,r){r[0]&939524096&&t!==(t=n[28]+": "+n[32](n[29])+"%; "+n[27]+": "+n[33](n[29])+"%;")&&h(e,"style",t)},d(n){n&&y(e)}}}function dC(i){let e,t;return e=new eNe({props:{values:i[0],min:i[3],max:i[4],step:i[5],range:i[2],vertical:i[6],reversed:i[8],orientationStart:i[28],hoverable:i[9],disabled:i[10],all:i[13],first:i[14],last:i[15],rest:i[16],pipstep:i[12],prefix:i[18],suffix:i[19],formatter:i[20],focus:i[24],percentOf:i[23],moveHandle:i[31],fixFloat:i[30]}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[0]&1&&(s.values=n[0]),r[0]&8&&(s.min=n[3]),r[0]&16&&(s.max=n[4]),r[0]&32&&(s.step=n[5]),r[0]&4&&(s.range=n[2]),r[0]&64&&(s.vertical=n[6]),r[0]&256&&(s.reversed=n[8]),r[0]&268435456&&(s.orientationStart=n[28]),r[0]&512&&(s.hoverable=n[9]),r[0]&1024&&(s.disabled=n[10]),r[0]&8192&&(s.all=n[13]),r[0]&16384&&(s.first=n[14]),r[0]&32768&&(s.last=n[15]),r[0]&65536&&(s.rest=n[16]),r[0]&4096&&(s.pipstep=n[12]),r[0]&262144&&(s.prefix=n[18]),r[0]&524288&&(s.suffix=n[19]),r[0]&1048576&&(s.formatter=n[20]),r[0]&16777216&&(s.focus=n[24]),r[0]&8388608&&(s.percentOf=n[23]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function tNe(i){let e,t,n,r,s,l,o=i[0],a=[];for(let f=0;f<o.length;f+=1)a[f]=cC(lC(i,o,f));let u=i[2]&&fC(i),c=i[11]&&dC(i);return{c(){e=A("div");for(let f=0;f<a.length;f+=1)a[f].c();t=Y(),u&&u.c(),n=Y(),c&&c.c(),h(e,"id",i[17]),h(e,"class","rangeSlider"),Je(e,"range",i[2]),Je(e,"disabled",i[10]),Je(e,"hoverable",i[9]),Je(e,"vertical",i[6]),Je(e,"reversed",i[8]),Je(e,"focus",i[24]),Je(e,"min",i[2]==="min"),Je(e,"max",i[2]==="max"),Je(e,"pips",i[11]),Je(e,"pip-labels",i[13]==="label"||i[14]==="label"||i[15]==="label"||i[16]==="label")},m(f,d){w(f,e,d);for(let m=0;m<a.length;m+=1)a[m].m(e,null);E(e,t),u&&u.m(e,null),E(e,n),c&&c.m(e,null),i[50](e),r=!0,s||(l=[ke(window,"mousedown",i[39]),ke(window,"touchstart",i[39]),ke(window,"mousemove",i[40]),ke(window,"touchmove",i[40]),ke(window,"mouseup",i[41]),ke(window,"touchend",i[42]),ke(window,"keydown",i[43]),ke(e,"mousedown",i[37]),ke(e,"mouseup",i[38]),ke(e,"touchstart",Or(i[37])),ke(e,"touchend",Or(i[38]))],s=!0)},p(f,d){if(d[0]&934020317|d[1]&56){o=f[0];let m;for(m=0;m<o.length;m+=1){const p=lC(f,o,m);a[m]?a[m].p(p,d):(a[m]=cC(p),a[m].c(),a[m].m(e,t))}for(;m<a.length;m+=1)a[m].d(1);a.length=o.length}f[2]?u?u.p(f,d):(u=fC(f),u.c(),u.m(e,n)):u&&(u.d(1),u=null),f[11]?c?(c.p(f,d),d[0]&2048&&_(c,1)):(c=dC(f),c.c(),_(c,1),c.m(e,null)):c&&(ie(),v(c,1,1,()=>{c=null}),re()),(!r||d[0]&131072)&&h(e,"id",f[17]),(!r||d[0]&4)&&Je(e,"range",f[2]),(!r||d[0]&1024)&&Je(e,"disabled",f[10]),(!r||d[0]&512)&&Je(e,"hoverable",f[9]),(!r||d[0]&64)&&Je(e,"vertical",f[6]),(!r||d[0]&256)&&Je(e,"reversed",f[8]),(!r||d[0]&16777216)&&Je(e,"focus",f[24]),(!r||d[0]&4)&&Je(e,"min",f[2]==="min"),(!r||d[0]&4)&&Je(e,"max",f[2]==="max"),(!r||d[0]&2048)&&Je(e,"pips",f[11]),(!r||d[0]&122880)&&Je(e,"pip-labels",f[13]==="label"||f[14]==="label"||f[15]==="label"||f[16]==="label")},i(f){r||(_(c),r=!0)},o(f){v(c),r=!1},d(f){f&&y(e),it(a,f),u&&u.d(),c&&c.d(),i[50](null),s=!1,pt(l)}}}function hC(i){if(!i)return-1;for(var e=0;i=i.previousElementSibling;)e++;return e}function zg(i){return i.type.includes("touch")?i.touches[0]:i}function nNe(i,e,t){let n,r,s,l,o,a,u=W,c=()=>(u(),u=ol(Ie,Ke=>t(29,a=Ke)),Ie);i.$$.on_destroy.push(()=>u());let{slider:f=void 0}=e,{range:d=!1}=e,{pushy:m=!1}=e,{min:p=0}=e,{max:g=100}=e,{step:k=1}=e,{values:$=[(g+p)/2]}=e,{vertical:D=!1}=e,{float:F=!1}=e,{reversed:C=!1}=e,{hoverable:S=!0}=e,{disabled:P=!1}=e,{pips:I=!1}=e,{pipstep:R=void 0}=e,{all:B=void 0}=e,{first:z=void 0}=e,{last:q=void 0}=e,{rest:H=void 0}=e,{id:K=void 0}=e,{prefix:G=""}=e,{suffix:U=""}=e,{formatter:Q=(Ke,Mt,tn)=>Ke}=e,{handleFormatter:V=Q}=e,{precision:x=2}=e,{springValues:ee={stiffness:.15,damping:.4}}=e;const J=Dt();let se=0,te=!1,ge=!1,ae=!1,ve=!1,Te=$.length-1,Pe,pe,Ie;const ye=Ke=>parseFloat(Ke.toFixed(x));function st(Ke){const Mt=f.querySelectorAll(".handle"),tn=Array.prototype.includes.call(Mt,Ke),bn=Array.prototype.some.call(Mt,_i=>_i.contains(Ke));return tn||bn}function dt(Ke){return d==="min"||d==="max"?Ke.slice(0,1):d?Ke.slice(0,2):Ke}function lt(){return f.getBoundingClientRect()}function vt(Ke){const Mt=lt();let tn=0,bn=0,_i=0;D?(tn=Ke.clientY-Mt.top,bn=tn/Mt.height*100,bn=C?bn:100-bn):(tn=Ke.clientX-Mt.left,bn=tn/Mt.width*100,bn=C?100-bn:bn),_i=(g-p)/100*bn+p;let Jr;return d===!0&&$[0]===$[1]?_i>$[1]?1:0:(Jr=$.indexOf([...$].sort((qi,Ri)=>Math.abs(_i-qi)-Math.abs(_i-Ri))[0]),Jr)}function kt(Ke){const Mt=lt();let tn=0,bn=0,_i=0;D?(tn=Ke.clientY-Mt.top,bn=tn/Mt.height*100,bn=C?bn:100-bn):(tn=Ke.clientX-Mt.left,bn=tn/Mt.width*100,bn=C?100-bn:bn),_i=(g-p)/100*bn+p,Ze(Te,_i)}function Ze(Ke,Mt){return Mt=s(Mt),typeof Ke>"u"&&(Ke=Te),d&&(Ke===0&&Mt>$[1]?m?t(0,$[1]=Mt,$):Mt=$[1]:Ke===1&&Mt<$[0]&&(m?t(0,$[0]=Mt,$):Mt=$[0])),$[Ke]!==Mt&&t(0,$[Ke]=Mt,$),pe!==Mt&&(Ji(),pe=Mt),Mt}function bt(Ke){return d==="min"?0:Ke[0]}function Yt(Ke){return d==="max"?0:d==="min"?100-Ke[0]:100-Ke[1]}function sn(Ke){ve&&(t(24,te=!1),ge=!1,t(25,ae=!1))}function Ln(Ke){P||(t(26,Te=hC(Ke.target)),t(24,te=!0))}function In(Ke){if(!P){const Mt=hC(Ke.target);let tn=Ke.ctrlKey||Ke.metaKey||Ke.shiftKey?k*10:k,bn=!1;switch(Ke.key){case"PageDown":tn*=10;case"ArrowRight":case"ArrowUp":Ze(Mt,$[Mt]+tn),bn=!0;break;case"PageUp":tn*=10;case"ArrowLeft":case"ArrowDown":Ze(Mt,$[Mt]-tn),bn=!0;break;case"Home":Ze(Mt,p),bn=!0;break;case"End":Ze(Mt,g),bn=!0;break}bn&&(Ke.preventDefault(),Ke.stopPropagation())}}function On(Ke){if(!P){const Mt=Ke.target,tn=zg(Ke);t(24,te=!0),ge=!0,t(25,ae=!0),t(26,Te=vt(tn)),Pe=pe=s($[Te]),mr(),Ke.type==="touchstart"&&!Mt.matches(".pipVal")&&kt(tn)}}function vn(Ke){Ke.type==="touchend"&&pr(),t(25,ae=!1)}function hi(Ke){ve=!1,te&&Ke.target!==f&&!f.contains(Ke.target)&&t(24,te=!1)}function rt(Ke){P||ge&&kt(zg(Ke))}function Ii(Ke){if(!P){const Mt=Ke.target;ge&&((Mt===f||f.contains(Mt))&&(t(24,te=!0),!st(Mt)&&!Mt.matches(".pipVal")&&kt(zg(Ke))),pr())}ge=!1,t(25,ae=!1)}function mi(Ke){ge=!1,t(25,ae=!1)}function Ye(Ke){P||(Ke.target===f||f.contains(Ke.target))&&(ve=!0)}function mr(){!P&&J("start",{activeHandle:Te,value:Pe,values:$.map(Ke=>s(Ke))})}function pr(){!P&&J("stop",{activeHandle:Te,startValue:Pe,value:$[Te],values:$.map(Ke=>s(Ke))})}function Ji(){!P&&J("change",{activeHandle:Te,startValue:Pe,previousValue:typeof pe>"u"?Pe:pe,value:$[Te],values:$.map(Ke=>s(Ke))})}function kl(Ke){De[Ke?"unshift":"push"](()=>{f=Ke,t(1,f)})}return i.$$set=Ke=>{"slider"in Ke&&t(1,f=Ke.slider),"range"in Ke&&t(2,d=Ke.range),"pushy"in Ke&&t(44,m=Ke.pushy),"min"in Ke&&t(3,p=Ke.min),"max"in Ke&&t(4,g=Ke.max),"step"in Ke&&t(5,k=Ke.step),"values"in Ke&&t(0,$=Ke.values),"vertical"in Ke&&t(6,D=Ke.vertical),"float"in Ke&&t(7,F=Ke.float),"reversed"in Ke&&t(8,C=Ke.reversed),"hoverable"in Ke&&t(9,S=Ke.hoverable),"disabled"in Ke&&t(10,P=Ke.disabled),"pips"in Ke&&t(11,I=Ke.pips),"pipstep"in Ke&&t(12,R=Ke.pipstep),"all"in Ke&&t(13,B=Ke.all),"first"in Ke&&t(14,z=Ke.first),"last"in Ke&&t(15,q=Ke.last),"rest"in Ke&&t(16,H=Ke.rest),"id"in Ke&&t(17,K=Ke.id),"prefix"in Ke&&t(18,G=Ke.prefix),"suffix"in Ke&&t(19,U=Ke.suffix),"formatter"in Ke&&t(20,Q=Ke.formatter),"handleFormatter"in Ke&&t(21,V=Ke.handleFormatter),"precision"in Ke&&t(45,x=Ke.precision),"springValues"in Ke&&t(46,ee=Ke.springValues)},i.$$.update=()=>{i.$$.dirty[0]&24&&t(49,r=function(Ke){return Ke<=p?p:Ke>=g?g:Ke}),i.$$.dirty[0]&56|i.$$.dirty[1]&262144&&t(48,s=function(Ke){if(Ke<=p)return ye(p);if(Ke>=g)return ye(g);let Mt=(Ke-p)%k,tn=Ke-Mt;return Math.abs(Mt)*2>=k&&(tn+=Mt>0?k:-k),tn=r(tn),ye(tn)}),i.$$.dirty[0]&24&&t(23,n=function(Ke){let Mt=(Ke-p)/(g-p)*100;return isNaN(Mt)||Mt<=0?0:Mt>=100?100:ye(Mt)}),i.$$.dirty[0]&12582937|i.$$.dirty[1]&229376&&(Array.isArray($)||(t(0,$=[(g+p)/2]),console.error("'values' prop should be an Array (https://github.com/simeydotme/svelte-range-slider-pips#slider-props)")),t(0,$=dt($.map(Ke=>s(Ke)))),se!==$.length?c(t(22,Ie=KPe($.map(Ke=>n(Ke)),ee))):Ie.set($.map(Ke=>n(Ke))),t(47,se=$.length)),i.$$.dirty[0]&320&&t(28,l=D?C?"top":"bottom":C?"right":"left"),i.$$.dirty[0]&320&&t(27,o=D?C?"bottom":"top":C?"left":"right")},[$,f,d,p,g,k,D,F,C,S,P,I,R,B,z,q,H,K,G,U,Q,V,Ie,n,te,ae,Te,o,l,a,ye,Ze,bt,Yt,sn,Ln,In,On,vn,hi,rt,Ii,mi,Ye,m,x,ee,se,s,r,kl]}class iNe extends ce{constructor(e){super(),ue(this,e,nNe,tNe,le,{slider:1,range:2,pushy:44,min:3,max:4,step:5,values:0,vertical:6,float:7,reversed:8,hoverable:9,disabled:10,pips:11,pipstep:12,all:13,first:14,last:15,rest:16,id:17,prefix:18,suffix:19,formatter:20,handleFormatter:21,precision:45,springValues:46},null,[-1,-1,-1])}}function mC(i){let e,t=i[0].minLabel+"",n,r;return{c(){e=A("span"),n=Z(t),h(e,"class",r="min-label range-label "+(jn.emoji(i[0].minLabel)?"text-2xl":"text-xs"))},m(s,l){w(s,e,l),E(e,n)},p(s,l){l&1&&t!==(t=s[0].minLabel+"")&&oe(n,t),l&1&&r!==(r="min-label range-label "+(jn.emoji(s[0].minLabel)?"text-2xl":"text-xs"))&&h(e,"class",r)},d(s){s&&y(e)}}}function pC(i){let e,t=i[0].maxLabel+"",n,r;return{c(){e=A("span"),n=Z(t),h(e,"class",r="max-label range-label "+(jn.emoji(i[0].maxLabel)?"text-2xl":"text-xs"))},m(s,l){w(s,e,l),E(e,n)},p(s,l){l&1&&t!==(t=s[0].maxLabel+"")&&oe(n,t),l&1&&r!==(r="max-label range-label "+(jn.emoji(s[0].maxLabel)?"text-2xl":"text-xs"))&&h(e,"class",r)},d(s){s&&y(e)}}}function rNe(i){let e,t;return e=new ou({props:{text:`${i[1]}`,className:"font-bold text-gray-800 dark:text-white"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.text=`${n[1]}`),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function sNe(i){let e,t;return e=new ou({props:{text:`${i[0].displayValue(i[1])}`,className:" font-bold text-gray-800 dark:text-white"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&3&&(s.text=`${n[0].displayValue(n[1])}`),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function lNe(i){let e,t,n,r,s,l,o,a,u,c,f=i[0].minLabel&&mC(i),d=i[0].maxLabel&&pC(i);s=new iNe({props:{style:"--range-slider:"+i[0].color+";",springValues:{stiffness:.5,damping:.7},formatter:i[7],first:i[0].minLabel,last:i[0].maxLabel,vertical:!0,value:i[1],min:parseFloat(i[0].min),max:parseFloat(i[0].max),steps:parseFloat(i[0].step||1),pips:!0}}),s.$on("change",i[8]);const m=[sNe,rNe],p=[];function g(k,$){return k[0]&&k[0].uom!=="num"?0:k[0]?1:-1}return~(a=g(i))&&(u=p[a]=m[a](i)),{c(){e=A("div"),t=A("div"),f&&f.c(),n=Y(),d&&d.c(),r=Y(),O(s.$$.fragment),l=Y(),o=A("div"),u&&u.c(),h(o,"class","value dark:bg-gray-700 bg-gray-300 px-2 pt-3 pb-1 w-20 -ml-3 -mt-6 rounded-b-xl text-center"),nt(t,"--range-handle-inactive",i[0].color),nt(t,"--range-handle",i[0].color),nt(t,"--range-handle-focus",i[0].color),h(t,"class","relative range-holder pt-5 pb-2 pl-4 flex flex-col items-center justify-center h-full w-full"),h(e,"class","tracker-input-slider relative")},m(k,$){w(k,e,$),E(e,t),f&&f.m(t,null),E(t,n),d&&d.m(t,null),E(t,r),N(s,t,null),E(t,l),E(t,o),~a&&p[a].m(o,null),c=!0},p(k,[$]){k[0].minLabel?f?f.p(k,$):(f=mC(k),f.c(),f.m(t,n)):f&&(f.d(1),f=null),k[0].maxLabel?d?d.p(k,$):(d=pC(k),d.c(),d.m(t,r)):d&&(d.d(1),d=null);const D={};$&1&&(D.style="--range-slider:"+k[0].color+";"),$&1&&(D.formatter=k[7]),$&1&&(D.first=k[0].minLabel),$&1&&(D.last=k[0].maxLabel),$&2&&(D.value=k[1]),$&1&&(D.min=parseFloat(k[0].min)),$&1&&(D.max=parseFloat(k[0].max)),$&1&&(D.steps=parseFloat(k[0].step||1)),s.$set(D);let F=a;a=g(k),a===F?~a&&p[a].p(k,$):(u&&(ie(),v(p[F],1,1,()=>{p[F]=null}),re()),~a?(u=p[a],u?u.p(k,$):(u=p[a]=m[a](k),u.c()),_(u,1),u.m(o,null)):u=null),(!c||$&1)&&nt(t,"--range-handle-inactive",k[0].color),(!c||$&1)&&nt(t,"--range-handle",k[0].color),(!c||$&1)&&nt(t,"--range-handle-focus",k[0].color)},i(k){c||(_(s.$$.fragment,k),_(u),c=!0)},o(k){v(s.$$.fragment,k),v(u),c=!1},d(k){k&&y(e),f&&f.d(),d&&d.d(),M(s),~a&&p[a].d()}}}function oNe(i,e,t){let{min:n="0"}=e,{max:r="10"}=e,{value:s="5"}=e,{tracker:l=void 0}=e,{step:o=l?l.step:"1"}=e,a;const u=Dt();async function c(){a&&u("change",parseInt(a))}wt(c);const f=m=>l.displayValue(m),d=m=>{u("change",parseInt(m.detail.value))};return i.$$set=m=>{"min"in m&&t(3,n=m.min),"max"in m&&t(4,r=m.max),"value"in m&&t(5,s=m.value),"tracker"in m&&t(0,l=m.tracker),"step"in m&&t(6,o=m.step)},i.$$.update=()=>{i.$$.dirty&32&&t(1,a=s)},[l,a,u,n,r,s,o,f,d]}class aNe extends ce{constructor(e){super(),ue(this,e,oNe,lNe,le,{min:3,max:4,value:5,tracker:0,step:6})}}function uNe(i){let e,t,n;return{c(){e=A("div"),t=Z(i[0]),h(e,"class",n="label mr-2 "+i[1])},m(r,s){w(r,e,s),E(e,t)},p(r,s){s&1&&oe(t,r[0]),s&2&&n!==(n="label mr-2 "+r[1])&&h(e,"class",n)},i:W,o:W,d(r){r&&y(e)}}}function cNe(i){let e,t,n;return{c(){e=A("div"),t=Z(i[5]),h(e,"class",n="label mr-2 "+i[1])},m(r,s){w(r,e,s),E(e,t)},p(r,s){s&32&&oe(t,r[5]),s&2&&n!==(n="label mr-2 "+r[1])&&h(e,"class",n)},i:W,o:W,d(r){r&&y(e)}}}function fNe(i){let e,t,n,r=i[6].label+"",s,l,o,a=i[6].formatValue(i[6].value)+"",u,c;return e=new fi({props:{trackable:i[6]}}),{c(){O(e.$$.fragment),t=Y(),n=A("h2"),s=Z(r),l=Y(),o=A("div"),u=Z(a),h(n,"class",""),h(o,"class","opacity-50")},m(f,d){N(e,f,d),w(f,t,d),w(f,n,d),E(n,s),w(f,l,d),w(f,o,d),E(o,u),c=!0},p(f,d){const m={};d&64&&(m.trackable=f[6]),e.$set(m),(!c||d&64)&&r!==(r=f[6].label+"")&&oe(s,r),(!c||d&64)&&a!==(a=f[6].formatValue(f[6].value)+"")&&oe(u,a)},i(f){c||(_(e.$$.fragment,f),c=!0)},o(f){v(e.$$.fragment,f),c=!1},d(f){M(e,f),f&&y(t),f&&y(n),f&&y(l),f&&y(o)}}}function dNe(i){let e,t,n,r=i[6].label+"",s,l,o,a,u=i[6].formatValue(i[6].value)+"",c,f,d,m,p,g,k,$;return e=new fi({props:{trackable:i[6]}}),{c(){O(e.$$.fragment),t=Y(),n=A("h2"),s=Z(r),o=Y(),a=A("div"),c=Z(u),f=Y(),d=A("div"),m=Y(),p=A("div"),g=Z(i[5]),h(n,"class",l=i[3]?"font-bold":"font-medium"),h(a,"class","opacity-50"),h(d,"class","filler"),h(p,"class",k="text-center px-2 "+i[1])},m(D,F){N(e,D,F),w(D,t,F),w(D,n,F),E(n,s),w(D,o,F),w(D,a,F),E(a,c),w(D,f,F),w(D,d,F),w(D,m,F),w(D,p,F),E(p,g),$=!0},p(D,F){const C={};F&64&&(C.trackable=D[6]),e.$set(C),(!$||F&64)&&r!==(r=D[6].label+"")&&oe(s,r),(!$||F&8&&l!==(l=D[3]?"font-bold":"font-medium"))&&h(n,"class",l),(!$||F&64)&&u!==(u=D[6].formatValue(D[6].value)+"")&&oe(c,u),(!$||F&32)&&oe(g,D[5]),(!$||F&2&&k!==(k="text-center px-2 "+D[1]))&&h(p,"class",k)},i(D){$||(_(e.$$.fragment,D),$=!0)},o(D){v(e.$$.fragment,D),$=!1},d(D){M(e,D),D&&y(t),D&&y(n),D&&y(o),D&&y(a),D&&y(f),D&&y(d),D&&y(m),D&&y(p)}}}function hNe(i){let e,t,n,r,s;const l=[dNe,fNe,cNe,uNe],o=[];function a(u,c){return u[4].length&&u[5].length?0:u[4].length?1:u[5].length?2:3}return t=a(i),n=o[t]=l[t](i),{c(){e=A("div"),n.c(),h(e,"class",r="n-label-meta space-x-2 flex items-center "+(i[3]?"selected":"")+" "+i[2]+" h-8")},m(u,c){w(u,e,c),o[t].m(e,null),s=!0},p(u,[c]){let f=t;t=a(u),t===f?o[t].p(u,c):(ie(),v(o[f],1,1,()=>{o[f]=null}),re(),n=o[t],n?n.p(u,c):(n=o[t]=l[t](u),n.c()),_(n,1),n.m(e,null)),(!s||c&12&&r!==(r="n-label-meta space-x-2 flex items-center "+(u[3]?"selected":"")+" "+u[2]+" h-8"))&&h(e,"class",r)},i(u){s||(_(n),s=!0)},o(u){v(n),s=!1},d(u){u&&y(e),o[t].d()}}}function mNe(i,e,t){let n;Ee(i,It,m=>t(9,n=m));let{str:r=void 0}=e,{titleClass:s=""}=e,{className:l=""}=e,{selected:o=!1}=e,a=[],u="",c="",f,d;return i.$$set=m=>{"str"in m&&t(0,r=m.str),"titleClass"in m&&t(1,s=m.titleClass),"className"in m&&t(2,l=m.className),"selected"in m&&t(3,o=m.selected)},i.$$.update=()=>{i.$$.dirty&913&&r!==d&&(t(8,d=r),t(7,a=Yo(r)),t(5,u=a.filter(m=>m.type=="generic").map(m=>m.raw).join(" ").trim()),t(4,c=a.filter(m=>m.type!=="generic").map(m=>m.raw).join(" ").trim()),c.length&&t(6,f=Yae(c,n.trackables)))},[r,s,l,o,c,u,f,a,d,n]}class pNe extends ce{constructor(e){super(),ue(this,e,mNe,hNe,le,{str:0,titleClass:1,className:2,selected:3})}}const _Ne=i=>({}),_C=i=>({});function gC(i,e,t){const n=i.slice();return n[12]=e[t],n[14]=t,n}function vC(i){let e,t;return e=new iu({props:{autocomplete:!0,compact:!0,showClose:!0,className:"p-0 px-2"}}),e.$on("clear",i[6]),e.$on("change",i[7]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function bC(i){let e,t;return e=new Gn({props:{title:_e.t("general.no-matches-found","No matches found")}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function gNe(i){let e,t;function n(){return i[8](i[12])}return e=new xe({props:{bottomLine:54,style:"min-height:40px;",compact:!0,clickable:!0,className:"pl-3 pr-2 compact duration-75  "+(i[0].indexOf(i[12])>-1?"bg-primary-500 bg-opacity-10 text-white":"bg-gray-200 dark:bg-gray-800"),$$slots:{right:[kNe],default:[bNe]},$$scope:{ctx:i}}}),e.$on("click",n),{c(){O(e.$$.fragment)},m(r,s){N(e,r,s),t=!0},p(r,s){i=r;const l={};s&5&&(l.className="pl-3 pr-2 compact duration-75  "+(i[0].indexOf(i[12])>-1?"bg-primary-500 bg-opacity-10 text-white":"bg-gray-200 dark:bg-gray-800")),s&517&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){M(e,r)}}}function vNe(i){let e,t=i[12].replace(":","")+"",n;return{c(){e=A("div"),n=Z(t),h(e,"class","text-gray-800 dark:text-gray-200 text-lg font-bold pt-5 pb-1 px-3 mt-1")},m(r,s){w(r,e,s),E(e,n)},p(r,s){s&4&&t!==(t=r[12].replace(":","")+"")&&oe(n,t)},i:W,o:W,d(r){r&&y(e)}}}function bNe(i){let e,t,n;return t=new pNe({props:{selected:i[0].indexOf(i[12])>-1,className:"w-full space-x-2",str:i[12],titleClass:(i[0].indexOf(i[12])>-1,"")}}),{c(){e=A("div"),O(t.$$.fragment),h(e,"class","flex items-center")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p(r,s){const l={};s&5&&(l.selected=r[0].indexOf(r[12])>-1),s&4&&(l.str=r[12]),s&5&&(l.titleClass=(r[0].indexOf(r[12])>-1,"")),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function kNe(i){let e,t,n;return t=new Oi({props:{title:i[12],value:i[0].indexOf(i[12])>-1}}),{c(){e=A("div"),O(t.$$.fragment),h(e,"slot","right"),h(e,"class","stiff flex items-center")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p(r,s){const l={};s&4&&(l.title=r[12]),s&5&&(l.value=r[0].indexOf(r[12])>-1),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function kC(i,e){let t,n,r,s,l,o;const a=[vNe,gNe],u=[];function c(f,d){return d&4&&(n=null),n==null&&(n=!!wNe(f[12])),n?0:1}return r=c(e,-1),s=u[r]=a[r](e),{key:i,first:null,c(){t=$e(),s.c(),l=$e(),this.first=t},m(f,d){w(f,t,d),u[r].m(f,d),w(f,l,d),o=!0},p(f,d){e=f;let m=r;r=c(e,d),r===m?u[r].p(e,d):(ie(),v(u[m],1,1,()=>{u[m]=null}),re(),s=u[r],s?s.p(e,d):(s=u[r]=a[r](e),s.c()),_(s,1),s.m(l.parentNode,l))},i(f){o||(_(s),o=!0)},o(f){v(s),o=!1},d(f){f&&y(t),u[r].d(f),f&&y(l)}}}function yNe(i){let e,t,n,r=[],s=new Map,l,o,a,u=i[1].picks.length>10&&vC(i),c=i[2].length==0&&i[3]&&bC(),f=i[2]||[];const d=g=>g[14];for(let g=0;g<f.length;g+=1){let k=gC(i,f,g),$=d(k);s.set($,r[g]=kC($,k))}const m=i[5].bottom,p=He(m,i,i[9],_C);return{c(){e=A("div"),u&&u.c(),t=Y(),c&&c.c(),n=Y();for(let g=0;g<r.length;g+=1)r[g].c();l=Y(),o=A("div"),p&&p.c(),h(o,"class","flex"),h(e,"class","w-full p-2 bg-gray-100 dark:bg-gray-800 ")},m(g,k){w(g,e,k),u&&u.m(e,null),E(e,t),c&&c.m(e,null),E(e,n);for(let $=0;$<r.length;$+=1)r[$].m(e,null);E(e,l),E(e,o),p&&p.m(o,null),a=!0},p(g,[k]){g[1].picks.length>10?u?(u.p(g,k),k&2&&_(u,1)):(u=vC(g),u.c(),_(u,1),u.m(e,t)):u&&(ie(),v(u,1,1,()=>{u=null}),re()),g[2].length==0&&g[3]?c?(c.p(g,k),k&12&&_(c,1)):(c=bC(),c.c(),_(c,1),c.m(e,n)):c&&(ie(),v(c,1,1,()=>{c=null}),re()),k&21&&(f=g[2]||[],ie(),r=qn(r,k,d,1,g,f,s,e,Ci,kC,l,gC),re()),p&&p.p&&(!a||k&512)&&Ve(p,m,g,g[9],a?We(m,g[9],k,_Ne):Ge(g[9]),_C)},i(g){if(!a){_(u),_(c);for(let k=0;k<f.length;k+=1)_(r[k]);_(p,g),a=!0}},o(g){v(u),v(c);for(let k=0;k<r.length;k+=1)v(r[k]);v(p,g),a=!1},d(g){g&&y(e),u&&u.d(),c&&c.d();for(let k=0;k<r.length;k+=1)r[k].d();p&&p.d(g)}}}function wNe(i){return i.trim().substr(i.trim().length-1,1)===":"}function $Ne(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=Dt();let{tracker:l}=e,{active:o=[]}=e,a=[],u;function c(g){o.indexOf(g)>-1?t(0,o=o.filter(k=>k!==g)):o.push(g),t(0,o),setTimeout(()=>{try{document.activeElement.blur()}catch{}},120),f()}function f(){s("change",o)}const d=()=>{t(3,u=void 0)},m=g=>{g.detail&&g.detail.length>0?t(3,u=g.detail):t(3,u=void 0)},p=g=>{c(g)};return i.$$set=g=>{"tracker"in g&&t(1,l=g.tracker),"active"in g&&t(0,o=g.active),"$$scope"in g&&t(9,r=g.$$scope)},i.$$.update=()=>{i.$$.dirty&14&&(t(2,a=l&&l.picks?l.picks:[]),u&&t(2,a=a.filter(g=>g.toLowerCase().search(`${u}`.toLowerCase())>-1)))},[o,l,a,u,c,n,d,m,p,r]}class FNe extends ce{constructor(e){super(),ue(this,e,$Ne,yNe,le,{tracker:1,active:0})}}function ENe(i){let e,t;return e=new FNe({props:{tracker:i[0],active:i[1]}}),e.$on("change",i[2]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.tracker=n[0]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function DNe(i){let e,t;return e=new zO({props:{className:"mx-3 mt-3",list:i[0].picks,showHeaderContent:!1}}),e.$on("change",i[3]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.list=n[0].picks),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function CNe(i){let e,t,n,r;const s=[DNe,ENe],l=[];function o(a,u){return 1}return t=o(),n=l[t]=s[t](i),{c(){e=A("div"),n.c(),h(e,"class","picker-input-wrapper filler overflow-y-auto max-h-full min-h-0")},m(a,u){w(a,e,u),l[t].m(e,null),r=!0},p(a,[u]){n.p(a,u)},i(a){r||(_(n),r=!0)},o(a){v(n),r=!1},d(a){a&&y(e),l[t].d()}}}function SNe(i,e,t){const n=Dt();let{tracker:r}=e,s=[];function l(a){n("change",a.detail)}const o=a=>{t(0,r.picks=a.detail,r)};return i.$$set=a=>{"tracker"in a&&t(0,r=a.tracker)},[r,s,l,o]}class TNe extends ce{constructor(e){super(),ue(this,e,SNe,CNe,le,{tracker:0})}}function ANe(i){let e,t,n,r,s;return t=new ou({props:{text:i[4]}}),{c(){e=A("div"),O(t.$$.fragment),h(e,"class",n="n-counter "+i[1]+" "+(i[0]?"large":"small")+" "+(i[3]?"filled":"")+" svelte-2wp3xd"),h(e,"style",r=`color:${i[3]?"#FFF":i[2]}; background-color:${i[3]?i[2]:""}`)},m(l,o){w(l,e,o),N(t,e,null),s=!0},p(l,[o]){const a={};o&16&&(a.text=l[4]),t.$set(a),(!s||o&11&&n!==(n="n-counter "+l[1]+" "+(l[0]?"large":"small")+" "+(l[3]?"filled":"")+" svelte-2wp3xd"))&&h(e,"class",n),(!s||o&12&&r!==(r=`color:${l[3]?"#FFF":l[2]}; background-color:${l[3]?l[2]:""}`))&&h(e,"style",r)},i(l){s||(_(t.$$.fragment,l),s=!0)},o(l){v(t.$$.fragment,l),s=!1},d(l){l&&y(e),M(t)}}}function PNe(i,e,t){let n,{started:r=void 0}=e,{lg:s=void 0}=e,{className:l=""}=e,{color:o="var(--color-red)"}=e,{filled:a=!1}=e;wt(()=>{r&&u.init()});const u={init(){setInterval(()=>{let f=new Date().getTime()-r;t(4,n=u.secondsToTime(u.msToSecond(f)))},1e3);let c=new Date().getTime()-r;t(4,n=u.secondsToTime(u.msToSecond(c)))},normalizeTime(c){return(c+"").length===1?c.padStart(2,"0"):c},secondsToTime(c){let f=c.toFixed(0),d=Math.floor(parseInt(f)/60).toString(),m="";return parseInt(d)>59&&(m=this.normalizeTime(Math.floor(parseInt(d)/60).toString()),d=this.normalizeTime((parseInt(d)-parseInt(m)*60).toString())),f=this.normalizeTime(Math.floor(parseInt(f)%60).toString()),d=this.normalizeTime(d),m!==""?(m=parseInt(m),`${m}:${d}:${f}`):`00:${d}:${f}`},msToSecond(c){return c/1e3}};return i.$$set=c=>{"started"in c&&t(5,r=c.started),"lg"in c&&t(0,s=c.lg),"className"in c&&t(1,l=c.className),"color"in c&&t(2,o=c.color),"filled"in c&&t(3,a=c.filled)},t(4,n="00:00:00"),[s,l,o,a,n,r]}class Hb extends ce{constructor(e){super(),ue(this,e,PNe,ANe,le,{started:5,lg:0,className:1,color:2,filled:3})}}function NNe(i){let e,t,n,r,s,l,o,a,u,c;l=new Lz({props:{value:i[0]}}),l.$on("change",i[3]);let f=!i[1].started&&i[0]&&yC(i);return{c(){e=A("div"),t=A("div"),n=Y(),r=A("div"),s=Y(),O(l.$$.fragment),o=Y(),f&&f.c(),a=Y(),u=A("div"),h(t,"class","filler"),h(r,"class","filler"),h(u,"class","filler"),h(e,"class","flex flex-col items-center justify-center")},m(d,m){w(d,e,m),E(e,t),E(e,n),E(e,r),E(e,s),N(l,e,null),E(e,o),f&&f.m(e,null),E(e,a),E(e,u),c=!0},p(d,m){const p={};m&1&&(p.value=d[0]),l.$set(p),!d[1].started&&d[0]?f?f.p(d,m):(f=yC(d),f.c(),f.m(e,a)):f&&(f.d(1),f=null)},i(d){c||(_(l.$$.fragment,d),c=!0)},o(d){v(l.$$.fragment,d),c=!1},d(d){d&&y(e),M(l),f&&f.d()}}}function MNe(i){let e,t,n,r,s,l,o;return r=new Hb({props:{started:i[1].started,lg:!0,className:"py-5 bg-light"}}),r.$on("change",ONe),{c(){e=A("div"),t=A("div"),n=Y(),O(r.$$.fragment),s=Y(),l=A("div"),h(t,"class","filler"),h(l,"class","filler"),h(e,"class","flex flex-col items-center justify-center")},m(a,u){w(a,e,u),E(e,t),E(e,n),N(r,e,null),E(e,s),E(e,l),o=!0},p(a,u){const c={};u&2&&(c.started=a[1].started),r.$set(c)},i(a){o||(_(r.$$.fragment,a),o=!0)},o(a){v(r.$$.fragment,a),o=!1},d(a){a&&y(e),M(r)}}}function yC(i){let e,t,n;return{c(){e=A("button"),e.textContent=`${_e.t("general.resume","Resume")}`,h(e,"aria-label","Start Timer"),h(e,"class","bg-gray-300 rounded-md px-3 py-1 mt-2 font-medium dark:bg-gray-700 dark:text-white")},m(r,s){w(r,e,s),t||(n=ke(e,"click",i[4]),t=!0)},p:W,d(r){r&&y(e),t=!1,n()}}}function LNe(i){let e,t,n,r;const s=[MNe,NNe],l=[];function o(a,u){return a[1].started?0:1}return t=o(i),n=l[t]=s[t](i),{c(){e=A("div"),n.c(),h(e,"class","n-timer-input w-full")},m(a,u){w(a,e,u),l[t].m(e,null),r=!0},p(a,[u]){let c=t;t=o(a),t===c?l[t].p(a,u):(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),n=l[t],n?n.p(a,u):(n=l[t]=s[t](a),n.c()),_(n,1),n.m(e,null))},i(a){r||(_(n),r=!0)},o(a){v(n),r=!1},d(a){a&&y(e),l[t].d()}}}const ONe=i=>{};function INe(i,e,t){const n=Dt();let{value:r}=e,{tracker:s}=e;(r||"")+"",s.started,wt(()=>{});const l=a=>{n("change",a.detail)},o=()=>{n("forceStart")};return i.$$set=a=>{"value"in a&&t(0,r=a.value),"tracker"in a&&t(1,s=a.tracker)},[r,s,n,l,o]}class BNe extends ce{constructor(e){super(),ue(this,e,INe,LNe,le,{value:0,tracker:1})}}var zNe=P0,RNe=W0;function jNe(i,e,t){var n=i==null?0:i.length;return n?(e=t||e===void 0?1:RNe(e),e=n-e,zNe(i,0,e<0?0:e)):[]}var YNe=jNe;function wC(i,e,t){const n=i.slice();return n[18]=e[t],n[20]=t,n}function $C(i,e,t){const n=i.slice();return n[21]=e[t],n[23]=t,n}function FC(i,e,t){const n=i.slice();return n[24]=e[t],n}function EC(i,e,t){const n=i.slice();return n[24]=e[t],n}function DC(i){let e,t=i[0](i[1])+"",n;return{c(){e=A("div"),n=Z(t),h(e,"class","preview")},m(r,s){w(r,e,s),E(e,n)},p(r,s){s&3&&t!==(t=r[0](r[1])+"")&&oe(n,t)},d(r){r&&y(e)}}}function CC(i){let e,t=i[2],n=[];for(let r=0;r<t.length;r+=1)n[r]=SC(EC(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=$e()},m(r,s){for(let l=0;l<n.length;l+=1)n[l].m(r,s);w(r,e,s)},p(r,s){if(s&4){t=r[2];let l;for(l=0;l<t.length;l+=1){const o=EC(r,t,l);n[l]?n[l].p(o,s):(n[l]=SC(o),n[l].c(),n[l].m(e.parentNode,e))}for(;l<n.length;l+=1)n[l].d(1);n.length=t.length}},d(r){it(n,r),r&&y(e)}}}function SC(i){let e,t=i[24]+"",n;return{c(){e=A("span"),n=Z(t)},m(r,s){w(r,e,s),E(e,n)},p(r,s){s&4&&t!==(t=r[24]+"")&&oe(n,t)},d(r){r&&y(e)}}}function TC(i){let e,t=i[24]+"",n;return{c(){e=A("span"),n=Z(t),h(e,"class","numberUp")},m(r,s){w(r,e,s),E(e,n)},p(r,s){s&2&&t!==(t=r[24]+"")&&oe(n,t)},d(r){r&&y(e)}}}function UNe(i){let e;return{c(){e=A("span"),h(e,"class","empty")},m(t,n){w(t,e,n)},p:W,i:W,o:W,d(t){t&&y(e)}}}function qNe(i){let e,t;function n(){return i[9](i[21])}return e=new Me({props:{id:"calc-button-"+i[21],shape:"round",color:"light",size:"lg",delay:0,className:"r-"+i[20]+" b-"+i[23],$$slots:{default:[HNe]},$$scope:{ctx:i}}}),e.$on("click",n),{c(){O(e.$$.fragment)},m(r,s){N(e,r,s),t=!0},p(r,s){i=r;const l={};s&536870912&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){M(e,r)}}}function HNe(i){let e=i[21]+"",t,n;return{c(){t=Z(e),n=Y()},m(r,s){w(r,t,s),w(r,n,s)},p:W,d(r){r&&y(t),r&&y(n)}}}function AC(i){let e,t,n,r;const s=[qNe,UNe],l=[];function o(a,u){return a[21]!==null?0:1}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=$e()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,u){t.p(a,u)},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function PC(i){let e,t,n=i[18],r=[];for(let l=0;l<n.length;l+=1)r[l]=AC($C(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=$e()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o&80){n=l[18];let a;for(a=0;a<n.length;a+=1){const u=$C(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=AC(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ie(),a=n.length;a<r.length;a+=1)s(a);re()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){it(r,l),l&&y(e)}}}function WNe(i){let e,t,n,r,s,l,o,a,u,c,f,d=i[0]&&DC(i),m=i[2].length>1&&CC(i),p=i[1].toString().split(""),g=[];for(let F=0;F<p.length;F+=1)g[F]=TC(FC(i,p,F));let k=i[4],$=[];for(let F=0;F<k.length;F+=1)$[F]=PC(wC(i,k,F));const D=F=>v($[F],1,1,()=>{$[F]=null});return{c(){e=A("div"),t=A("div"),d&&d.c(),n=Y(),r=A("div"),m&&m.c(),s=Y(),l=A("div");for(let F=0;F<g.length;F+=1)g[F].c();o=Y(),a=A("div");for(let F=0;F<$.length;F+=1)$[F].c();h(r,"class","buffer"),h(l,"class","value"),nt(l,"font-size",i[3]+"px"),h(t,"class","calc-screen"),h(a,"class","buttons"),h(e,"class","w-full n-calculator")},m(F,C){w(F,e,C),E(e,t),d&&d.m(t,null),E(t,n),E(t,r),m&&m.m(r,null),E(t,s),E(t,l);for(let S=0;S<g.length;S+=1)g[S].m(l,null);E(e,o),E(e,a);for(let S=0;S<$.length;S+=1)$[S].m(a,null);u=!0,c||(f=ke(window,"keydown",i[5]),c=!0)},p(F,[C]){if(F[0]?d?d.p(F,C):(d=DC(F),d.c(),d.m(t,n)):d&&(d.d(1),d=null),F[2].length>1?m?m.p(F,C):(m=CC(F),m.c(),m.m(r,null)):m&&(m.d(1),m=null),C&2){p=F[1].toString().split("");let S;for(S=0;S<p.length;S+=1){const P=FC(F,p,S);g[S]?g[S].p(P,C):(g[S]=TC(P),g[S].c(),g[S].m(l,null))}for(;S<g.length;S+=1)g[S].d(1);g.length=p.length}if((!u||C&8)&&nt(l,"font-size",F[3]+"px"),C&80){k=F[4];let S;for(S=0;S<k.length;S+=1){const P=wC(F,k,S);$[S]?($[S].p(P,C),_($[S],1)):($[S]=PC(P),$[S].c(),_($[S],1),$[S].m(a,null))}for(ie(),S=k.length;S<$.length;S+=1)D(S);re()}},i(F){if(!u){for(let C=0;C<k.length;C+=1)_($[C]);u=!0}},o(F){$=$.filter(Boolean);for(let C=0;C<$.length;C+=1)v($[C]);u=!1},d(F){F&&y(e),d&&d.d(),m&&m.d(),it(g,F),it($,F),c=!1,f()}}}function Zh(i){return!isNaN(i)&&i!==null}function VNe(i,e,t){const n=Dt();let r="0",s=[],l=40,{value:o=0}=e,{displayFormat:a=void 0}=e,{defaultEphemeral:u=!0}=e,c=!1;wt(()=>{jn.truthy(o)&&(t(2,s=[o]),m())});const f=[["C","+/-","%","/"],[7,8,9,"*"],[4,5,6,"-"],[1,2,3,"+"],["\u232B",0,".",null]];function d(S){var B;const P=S.key,I=document.getElementById(`calc-button-${P}`);(B=I==null?void 0:I.classList)==null||B.add("pressing"),f.find(z=>z.find(q=>`${q}`==`${P}`))?D(P):`${P}`=="0"?D(0):P=="Backspace"&&D("\u232B"),setTimeout(()=>{var z;(z=I==null?void 0:I.classList)==null||z.remove("pressing")},200)}function m(){s.length==1?t(1,r=s[0]):s.length?t(1,r=p()):t(1,r=0),n("change",r),F()}function p(){return ht.calculate(s)}function g(S){!c&&jn.truthy(o)&&u&&(t(7,o=0),k(),c=!0),D(S)}function k(){t(2,s=[])}function $(){if(s.length){let S=`${s[s.length-1]}`;t(2,s[s.length-1]=YNe(S.split("")).join(""),s),m()}}function D(S){let P=s.length?s[s.length-1]:null;if(Zh(S)&&Zh(P))t(2,s[s.length-1]=parseFloat(`${P}${S}`),s),m();else if(Zh(S)&&P=="."){let I=s[s.length-2],R=S;ht.isFloat(I)||(t(2,s[s.length-2]=`${I}.${R}`,s),s.pop()),m()}else if(Zh(S))s.push(S),m();else switch(S){case"C":t(2,s=[]),m();break;case"\u232B":$();break;case"+/-":r>0?t(2,s=[-Math.abs(r)]):t(2,s=[Math.abs(r)]),m();break;case"%":t(2,s=[r/100]),m();break;default:["+","*","/","-","."].indexOf(S)>-1&&(s.push(S),m());break}t(2,s)}async function F(){await Et(10);let S=r.toString().length;S<10?t(3,l=40):S>=10&&S<18?t(3,l=30):t(3,l=20)}const C=S=>{g(S)};return i.$$set=S=>{"value"in S&&t(7,o=S.value),"displayFormat"in S&&t(0,a=S.displayFormat),"defaultEphemeral"in S&&t(8,u=S.defaultEphemeral)},[a,r,s,l,f,d,g,o,u,C]}class Iz extends ce{constructor(e){super(),ue(this,e,VNe,WNe,le,{value:7,displayFormat:0,defaultEphemeral:8})}}function GNe(i){let e,t;return e=new Mn({}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function ZNe(i){let e,t,n,r;const s=[XNe,xNe],l=[];function o(a,u){return a[0].type==="timer"&&a[2]!==!1?0:a[2]?1:-1}return~(e=o(i))&&(t=l[e]=s[e](i)),{c(){t&&t.c(),n=$e()},m(a,u){~e&&l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?~e&&l[e].p(a,u):(t&&(ie(),v(l[c],1,1,()=>{l[c]=null}),re()),~e?(t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n)):t=null)},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){~e&&l[e].d(a),a&&y(n)}}}function xNe(i){let e,t,n,r;return{c(){e=A("button"),t=Z(i[4]),h(e,"aria-label","Save"),h(e,"type","button"),h(e,"class","action-button bg-primary-500 text-white")},m(s,l){w(s,e,l),E(e,t),n||(r=ke(e,"click",i[12]),n=!0)},p(s,l){l&16&&oe(t,s[4])},i:W,o:W,d(s){s&&y(e),n=!1,r()}}}function XNe(i){let e,t,n,r;const s=[QNe,JNe,KNe],l=[];function o(a,u){return a[0].started?0:!a[0].started&&!a[1]?1:!a[0].started&&a[1]?2:-1}return~(e=o(i))&&(t=l[e]=s[e](i)),{c(){t&&t.c(),n=$e()},m(a,u){~e&&l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?~e&&l[e].p(a,u):(t&&(ie(),v(l[c],1,1,()=>{l[c]=null}),re()),~e?(t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n)):t=null)},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){~e&&l[e].d(a),a&&y(n)}}}function KNe(i){let e,t,n,r;return{c(){e=A("button"),t=Z(i[4]),h(e,"aria-label","Save"),e.autofocus=!0,h(e,"type","button"),h(e,"class","action-button bg-primary-500 text-white")},m(s,l){w(s,e,l),E(e,t),e.focus(),n||(r=ke(e,"click",i[11]),n=!0)},p(s,l){l&16&&oe(t,s[4])},i:W,o:W,d(s){s&&y(e),n=!1,r()}}}function JNe(i){let e,t,n;return{c(){e=A("button"),e.textContent=`${_e.t("general.start","Start")}`,h(e,"aria-label","Start Timer"),h(e,"type","button"),e.autofocus=!0,h(e,"class","action-button bg-primary-500 text-white")},m(r,s){w(r,e,s),e.focus(),t||(n=ke(e,"click",i[10]),t=!0)},p:W,i:W,o:W,d(r){r&&y(e),t=!1,n()}}}function QNe(i){let e,t,n,r,s;return t=new je({props:{icon:uH,size:32,className:"text-white"}}),{c(){e=A("button"),O(t.$$.fragment),h(e,"type","button"),h(e,"aria-label","Save"),e.autofocus=!0,h(e,"class","action-button bg-red-500 text-white")},m(l,o){w(l,e,o),N(t,e,null),n=!0,e.focus(),r||(s=ke(e,"click",i[9]),r=!0)},p:W,i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){v(t.$$.fragment,l),n=!1},d(l){l&&y(e),M(t),r=!1,s()}}}function eMe(i){let e,t,n,r;const s=[ZNe,GNe],l=[];function o(a,u){return a[3]?1:0}return t=o(i),n=l[t]=s[t](i),{c(){e=A("div"),n.c(),h(e,"class","flex items-center justify-center w-full px-2")},m(a,u){w(a,e,u),l[t].m(e,null),r=!0},p(a,u){let c=t;t=o(a),t===c?l[t].p(a,u):(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),n=l[t],n?n.p(a,u):(n=l[t]=s[t](a),n.c()),_(n,1),n.m(e,null))},i(a){r||(_(n),r=!0)},o(a){v(n),r=!1},d(a){a&&y(e),l[t].d()}}}function tMe(i){let e=_e.t("general.close","Close")+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p:W,d(n){n&&y(t)}}}function nMe(i){let e,t,n;return t=new Me({props:{type:"clear",size:"lg",className:"px-2 -ml-2 text-lg md:text-xl text-gray-900 dark:text-white",$$slots:{default:[tMe]},$$scope:{ctx:i}}}),t.$on("click",i[8]),{c(){e=A("div"),O(t.$$.fragment),h(e,"slot","left"),h(e,"class","pr-2")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p(r,s){const l={};s&8192&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function iMe(i){let e,t;return e=new Me({props:{className:"w-16",clear:!0}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function rMe(i){let e,t;return e=new Me({props:{id:"input-insert-button",clear:!0,autofocus:!0,primary:!i[2],size:"lg",title:"Add this to the note without immediately saving.",className:`-mr-2 whitespace-nowrap text-lg md:text-xl 
                `+(i[2]?"text-gray-900 dark:text-white":"")+`
                `+(i[0].started?"hidden":""),$$slots:{default:[oMe]},$$scope:{ctx:i}}}),e.$on("click",i[7]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&4&&(s.primary=!n[2]),r&5&&(s.className=`-mr-2 whitespace-nowrap text-lg md:text-xl 
                `+(n[2]?"text-gray-900 dark:text-white":"")+`
                `+(n[0].started?"hidden":"")),r&8228&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function sMe(i){let e=_e.t("general.Insert","Insert")+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p:W,d(n){n&&y(t)}}}function lMe(i){let e=(i[5]||_e.t("general.next","Next"))+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p(n,r){r&32&&e!==(e=(n[5]||_e.t("general.next","Next"))+"")&&oe(t,e)},d(n){n&&y(t)}}}function oMe(i){let e;function t(s,l){return s[2]?sMe:lMe}let n=t(i),r=n(i);return{c(){r.c(),e=$e()},m(s,l){r.m(s,l),w(s,e,l)},p(s,l){n===(n=t(s))&&r?r.p(s,l):(r.d(1),r=n(s),r&&(r.c(),r.m(e.parentNode,e)))},d(s){r.d(s),s&&y(e)}}}function aMe(i){let e,t,n,r;const s=[rMe,iMe],l=[];function o(a,u){return a[1]!==void 0&&!a[0].started?0:1}return t=o(i),n=l[t]=s[t](i),{c(){e=A("div"),n.c(),h(e,"slot","right")},m(a,u){w(a,e,u),l[t].m(e,null),r=!0},p(a,u){let c=t;t=o(a),t===c?l[t].p(a,u):(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),n=l[t],n?n.p(a,u):(n=l[t]=s[t](a),n.c()),_(n,1),n.m(e,null))},i(a){r||(_(n),r=!0)},o(a){v(n),r=!1},d(a){a&&y(e),l[t].d()}}}function uMe(i){let e,t,n;return t=new Jt({props:{$$slots:{right:[aMe],left:[nMe],default:[eMe]},$$scope:{ctx:i}}}),{c(){e=A("footer"),O(t.$$.fragment),h(e,"class","tracker-input-footer py-3 stiff glass-lite z-50 w-full rounded-b-2xl")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p(r,[s]){const l={};s&8255&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function cMe(i,e,t){let{tracker:n}=e,{value:r}=e,{allowSave:s}=e,{saving:l}=e,{saveLabel:o=_e.t("general.save","Save")}=e,{nextLabel:a=_e.t("general.next","Next")}=e;const u=Dt(),c=()=>{u("add")},f=()=>{u("cancel")},d=()=>u("stopTimer"),m=()=>{u("startTimer")},p=()=>{u("save")},g=()=>{u("save")};return i.$$set=k=>{"tracker"in k&&t(0,n=k.tracker),"value"in k&&t(1,r=k.value),"allowSave"in k&&t(2,s=k.allowSave),"saving"in k&&t(3,l=k.saving),"saveLabel"in k&&t(4,o=k.saveLabel),"nextLabel"in k&&t(5,a=k.nextLabel)},[n,r,s,l,o,a,u,c,f,d,m,p,g]}class fMe extends ce{constructor(e){super(),ue(this,e,cMe,uMe,le,{tracker:0,value:1,allowSave:2,saving:3,saveLabel:4,nextLabel:5})}}function dMe(i){let e,t;return{c:W,m(n,r){e||(t=[ke(document.body,"keyup",i[7]),ke(document.body,"keydown",i[8])],e=!0)},p:W,i:W,o:W,d(n){e=!1,pt(t)}}}function hMe(i,e,t){let n,r,{paused:s=!1}=e,{pauseOnInput:l=!1}=e;const o=Dt();let a=[],u=[];const c=({key:d})=>{t(4,u=u.filter(m=>m!==d)),!(u.length>0)&&t(2,a=[])},f=({key:d,target:m})=>{l&&m.tagName!=="BODY"||(t(4,u=[...u,d]),s||(d in r?o("combo",n):t(2,a=[...a,d]),o(d),o("key",d)))};return i.$$set=d=>{"paused"in d&&t(0,s=d.paused),"pauseOnInput"in d&&t(1,l=d.pauseOnInput)},i.$$.update=()=>{i.$$.dirty&4&&t(3,n=a.join("-")),i.$$.dirty&4&&t(5,r=a.reduce((d,m)=>({...d,[m]:!0}),{})),i.$$.dirty&12&&a.length>0&&o("combo",n)},[s,l,a,n,u,r,o,c,f]}class b_ extends ce{constructor(e){super(),ue(this,e,hMe,dMe,le,{paused:0,pauseOnInput:1})}}function NC(i){let e,t,n,r=i[5].ready===!0&&MC(i);return{c(){e=A("main"),r&&r.c(),h(e,"class",t="relative z-20 "+(i[4].type==="range"?"filler":"h-full"))},m(s,l){w(s,e,l),r&&r.m(e,null),n=!0},p(s,l){s[5].ready===!0?r?(r.p(s,l),l[0]&32&&_(r,1)):(r=MC(s),r.c(),_(r,1),r.m(e,null)):r&&(ie(),v(r,1,1,()=>{r=null}),re()),(!n||l[0]&16&&t!==(t="relative z-20 "+(s[4].type==="range"?"filler":"h-full")))&&h(e,"class",t)},i(s){n||(_(r),n=!0)},o(s){v(r),n=!1},d(s){s&&y(e),r&&r.d()}}}function MC(i){let e,t,n,r,s;const l=[bMe,vMe,gMe,_Me,pMe,mMe],o=[];function a(u,c){return u[4].type==="range"?0:u[4].type==="note"?1:u[4].type==="picker"?2:u[4].type==="value"||u[4].type==="tick"?3:u[4].type==="timer"?4:5}return t=a(i),n=o[t]=l[t](i),{c(){e=A("div"),n.c(),h(e,"class",r="input-modal filler h-full type-"+i[4].type)},m(u,c){w(u,e,c),o[t].m(e,null),s=!0},p(u,c){let f=t;t=a(u),t===f?o[t].p(u,c):(ie(),v(o[f],1,1,()=>{o[f]=null}),re(),n=o[t],n?n.p(u,c):(n=o[t]=l[t](u),n.c()),_(n,1),n.m(e,null)),(!s||c[0]&16&&r!==(r="input-modal filler h-full type-"+u[4].type))&&h(e,"class",r)},i(u){s||(_(n),s=!0)},o(u){v(n),s=!1},d(u){u&&y(e),o[t].d()}}}function mMe(i){let e,t,n;return t=new Iz({props:{value:i[1],displayFormat:i[32]}}),t.$on("change",i[33]),{c(){e=A("div"),O(t.$$.fragment),h(e,"id","keypad-holder")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p(r,s){const l={};s[0]&2&&(l.value=r[1]),s[0]&16&&(l.displayFormat=r[32]),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function pMe(i){let e,t,n,r;function s(o){i[30](o)}let l={tracker:i[5].tracker};return i[5].value!==void 0&&(l.value=i[5].value),t=new BNe({props:l}),De.push(()=>Ue(t,"value",s,i[5].value)),t.$on("forceStart",i[7].startTimer),t.$on("change",i[31]),{c(){e=A("div"),O(t.$$.fragment),nt(e,"min-height",i[6].width>500?"500px":"30vh"),h(e,"class","filler flex items-center justify-center")},m(o,a){w(o,e,a),N(t,e,null),r=!0},p(o,a){const u={};a[0]&32&&(u.tracker=o[5].tracker),!n&&a[0]&32&&(n=!0,u.value=o[5].value,qe(()=>n=!1)),t.$set(u),(!r||a[0]&64)&&nt(e,"min-height",o[6].width>500?"500px":"30vh")},i(o){r||(_(t.$$.fragment,o),r=!0)},o(o){v(t.$$.fragment,o),r=!1},d(o){o&&y(e),M(t)}}}function _Me(i){let e,t;return e=new Iz({props:{value:i[1],displayFormat:i[28]}}),e.$on("change",i[29]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[0]&2&&(s.value=n[1]),r[0]&16&&(s.displayFormat=n[28]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function gMe(i){let e,t;return e=new TNe({props:{tracker:i[4]}}),e.$on("enterEdit",i[25]),e.$on("enterView",i[26]),e.$on("change",i[27]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[0]&16&&(s.tracker=n[4]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function vMe(i){let e,t;return e=new XPe({props:{tracker:i[4]}}),e.$on("note",i[24]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[0]&16&&(s.tracker=n[4]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function bMe(i){let e,t;return e=new aNe({props:{tracker:i[4],value:(i[5].value||i[4].min)+"",min:(i[4].min||0)+"",max:(i[4].max||0)+""}}),e.$on("change",i[23]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[0]&16&&(s.tracker=n[4]),r[0]&48&&(s.value=(n[5].value||n[4].min)+""),r[0]&16&&(s.min=(n[4].min||0)+""),r[0]&16&&(s.max=(n[4].max||0)+""),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function kMe(i){let e,t,n,r;e=new b_({}),e.$on("Escape",i[21]),e.$on("key",i[22]);let s=i[0].tracker&&NC(i);return{c(){O(e.$$.fragment),t=Y(),s&&s.c(),n=$e()},m(l,o){N(e,l,o),w(l,t,o),s&&s.m(l,o),w(l,n,o),r=!0},p(l,o){l[0].tracker?s?(s.p(l,o),o[0]&1&&_(s,1)):(s=NC(l),s.c(),_(s,1),s.m(n.parentNode,n)):s&&(ie(),v(s,1,1,()=>{s=null}),re())},i(l){r||(_(e.$$.fragment,l),_(s),r=!0)},o(l){v(e.$$.fragment,l),v(s),r=!1},d(l){M(e,l),l&&y(t),s&&s.d(l),l&&y(n)}}}function yMe(i){let e,t=i[4].label+"",n,r;return{c(){e=A("span"),n=Z(t),h(e,"class",r="animate line-clamp-1 up text-md ntitle "+(i[5].ready?"visible":"hidden"))},m(s,l){w(s,e,l),E(e,n)},p(s,l){l[0]&16&&t!==(t=s[4].label+"")&&oe(n,t),l[0]&32&&r!==(r="animate line-clamp-1 up text-md ntitle "+(s[5].ready?"visible":"hidden"))&&h(e,"class",r)},d(s){s&&y(e)}}}function wMe(i){let e,t;return e=new je({props:{icon:D0,size:26,className:"text-primary-500"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function $Me(i){let e,t,n;return t=new Me({props:{icon:!0,$$slots:{default:[wMe]},$$scope:{ctx:i}}}),t.$on("click",i[8]),{c(){e=A("div"),O(t.$$.fragment),h(e,"slot","right")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p(r,s){const l={};s[1]&16&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function FMe(i){let e,t,n;return t=new Jt({props:{$$slots:{right:[$Me],default:[yMe]},$$scope:{ctx:i}}}),{c(){e=A("header"),O(t.$$.fragment),h(e,"slot","header")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p(r,s){const l={};s[0]&48|s[1]&16&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function EMe(i){let e,t,n,r,s,l,o;function a(p){i[11](p)}function u(p){i[12](p)}function c(p){i[13](p)}function f(p){i[14](p)}function d(p){i[15](p)}let m={slot:"footer",tracker:i[4]};return i[5].value!==void 0&&(m.value=i[5].value),i[2]!==void 0&&(m.saveLabel=i[2]),i[3]!==void 0&&(m.nextLabel=i[3]),i[0].allowSave!==void 0&&(m.allowSave=i[0].allowSave),i[5].saving!==void 0&&(m.saving=i[5].saving),e=new fMe({props:m}),De.push(()=>Ue(e,"value",a,i[5].value)),De.push(()=>Ue(e,"saveLabel",u,i[2])),De.push(()=>Ue(e,"nextLabel",c,i[3])),De.push(()=>Ue(e,"allowSave",f,i[0].allowSave)),De.push(()=>Ue(e,"saving",d,i[5].saving)),e.$on("add",i[16]),e.$on("startTimer",i[17]),e.$on("stopTimer",i[18]),e.$on("cancel",i[19]),e.$on("save",i[20]),{c(){O(e.$$.fragment)},m(p,g){N(e,p,g),o=!0},p(p,g){const k={};g[0]&16&&(k.tracker=p[4]),!t&&g[0]&32&&(t=!0,k.value=p[5].value,qe(()=>t=!1)),!n&&g[0]&4&&(n=!0,k.saveLabel=p[2],qe(()=>n=!1)),!r&&g[0]&8&&(r=!0,k.nextLabel=p[3],qe(()=>r=!1)),!s&&g[0]&1&&(s=!0,k.allowSave=p[0].allowSave,qe(()=>s=!1)),!l&&g[0]&32&&(l=!0,k.saving=p[5].saving,qe(()=>l=!1)),e.$set(k)},i(p){o||(_(e.$$.fragment,p),o=!0)},o(p){v(e.$$.fragment,p),o=!1},d(p){M(e,p)}}}function DMe(i){let e,t;return e=new _n({props:{className:"tracker-input-modal",$$slots:{footer:[EMe],header:[FMe],default:[kMe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[0]&127|r[1]&16&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function CMe(i,e,t){let n;Ee(i,Hn,te=>t(6,n=te));let{value:r=void 0}=e,{saveLabel:s=_e.t("general.save","Save")}=e,{nextLabel:l=_e.t("general.next","Next")}=e,o,{id:a}=e,{payload:u}=e,c={value:null,tracker:null,ready:!1,suffix:"",calcUsed:!1,editing:!1,saving:!1,note:void 0};const f={onSave(){if(!c.saving){t(5,c.saving=!0,c);const te={value:c.value,tracker:o,suffix:c.suffix,action:"save",note:`#${o.tag}${c.value?`(${c.value})`:""} ${o.getIncluded(c.value)}`.trim()};u.onComplete(te),Ot(a),t(5,c.saving=!1,c)}},onAdd(){u.onComplete({value:c.value,action:"add",tracker:o,suffix:c.suffix,note:`#${o.tag}${c.value?`(${c.value})`:""} ${o.getIncluded(c.value)}`.trim()}),Ot(a)},async onCancel(){Ot(a)},startTimer(){let te=we().subtract(c.value,"second");t(5,c.tracker.started=te.toDate().getTime(),c),IL(c.tracker),f.onCancel()},stopTimer(){c.tracker.started&&(t(5,c.value=(new Date().getTime()-o.started)/1e3,c),t(5,c.tracker.started=void 0,c),BL(c.tracker),t(4,o.started=void 0,o))}};function d(){xi(o.toTrackable())}const m=()=>{t(4,o=u.tracker),r&&c.value!==void 0?t(5,c.value=r,c):(t(5,c.value=o.default||0,c),t(1,r=c.value)),t(5,c.tracker=o,c),setTimeout(()=>{t(5,c.ready=!0,c)},12)};let p;function g(te){i.$$.not_equal(c.value,te)&&(c.value=te,t(5,c),t(4,o),t(0,u),t(10,p))}function k(te){s=te,t(2,s)}function $(te){l=te,t(3,l),t(0,u)}function D(te){i.$$.not_equal(u.allowSave,te)&&(u.allowSave=te,t(0,u))}function F(te){i.$$.not_equal(c.saving,te)&&(c.saving=te,t(5,c),t(4,o),t(0,u),t(10,p))}const C=()=>f.onAdd(),S=()=>f.startTimer(),P=()=>f.stopTimer(),I=()=>f.onCancel(),R=()=>f.onSave(),B=()=>{f.onCancel()},z=te=>{te.detail=="Enter"&&f.onSave()},q=te=>{t(5,c.value=te.detail,c)},H=te=>{t(5,c.suffix=te.detail,c),t(5,c.value=1,c)},K=te=>{t(5,c.editing=!0,c)},G=()=>{t(5,c.editing=!1,c)},U=te=>{t(5,c.suffix=te.detail.join(" "),c)},Q=te=>o.displayValue(te||""),V=te=>{t(5,c.value=te.detail,c),t(1,r=te.detail),t(5,c),t(4,o),t(0,u),t(10,p)};function x(te){i.$$.not_equal(c.value,te)&&(c.value=te,t(5,c),t(4,o),t(0,u),t(10,p))}const ee=te=>{t(5,c.value=te.detail,c),t(1,r=te.detail)},J=te=>o.displayValue(te||""),se=te=>{t(5,c.value=te.detail,c),te=te.detail};return i.$$set=te=>{"value"in te&&t(1,r=te.value),"saveLabel"in te&&t(2,s=te.saveLabel),"nextLabel"in te&&t(3,l=te.nextLabel),"id"in te&&t(9,a=te.id),"payload"in te&&t(0,u=te.payload)},i.$$.update=()=>{i.$$.dirty[0]&1&&t(3,l=u==null?void 0:u.nextLabel),i.$$.dirty[0]&48&&o&&c.tracker&&c.tracker!==o&&setTimeout(()=>{t(5,c.ready=!0,c),t(5,c.tracker=o,c),t(5,c.value=o.default||0,c),t(5,c.ready=!0,c),t(5,c.suffix="",c)},1),i.$$.dirty[0]&17&&(u.tracker||(t(5,c.ready=!0,c),t(5,c.tracker=o,c),t(5,c.value=0,c),t(5,c.suffix="",c))),i.$$.dirty[0]&1025&&u.tracker&&p!==u.tracker&&(t(10,p=u.tracker),t(5,c.suffix="",c),m())},[u,r,s,l,o,c,n,f,d,a,p,g,k,$,D,F,C,S,P,I,R,B,z,q,H,K,G,U,Q,V,x,ee,J,se]}class SMe extends ce{constructor(e){super(),ue(this,e,CMe,DMe,le,{value:1,saveLabel:2,nextLabel:3,id:9,payload:0},null,[-1,-1])}}const Wb={tracker:void 0},Bz=Bt(Wb),k_=async(i,e)=>{let t=await xo({tracker:i,trackables:e,value:i.default,allowSave:!0,expandNote:!0});return t!=null&&t.raw.length&&(xn.addElement(t.raw),t.action==="save"||i.one_tap)&&(await To(xn.asLog()),xn.clear()),t},TMe=()=>{Bz.update(i=>(i={...Wb},i))},AMe=()=>{TMe()},Vb=async(i,e,t=_e.t("general.next","Next"),n={})=>{const r=[];return n.tracker=i.tracker,new Promise((s,l)=>{if(i.type!=="tracker"||i.type=="tracker"&&i.tracker.type=="tick")r.push(i.tag),s({trackable:i,value:void 0,tag:i.tag});else if(i.type=="tracker"&&i.tracker.type!=="tick"){n.trackables=e,n.tracker=i.tracker,n.allowSave=!1,n.nextLabel=t;const o=n.onComplete?n.onComplete.bind({}):void 0;n.onClose=()=>{};const a=u=>{(u.suffix||"").length&&r.push(u.suffix);const c={trackable:i,value:u.value,tag:i.getNoteValue(u.value)};PMe(),o&&o(c),s(c)};n.onComplete=a,zz(n)}})},zz=(i={})=>new Promise((e,t)=>{const n=i.onComplete,r=s=>{e(s)};i.onComplete=s=>{n&&n(s),r(s)},en({id:`tracker-input-${Fn(i)}`,componentProps:{payload:i},component:SMe,position:window.document.body.clientWidth>500?"center":"bottom"})}),PMe=()=>{Bz.update(i=>(i={...Wb},i))},xo=async i=>new Promise(async e=>{let t;const n=async()=>{};if(i.tracker.type==="tick"?t={tracker:i.tracker,value:i.tracker.default}:t=await zz({tracker:i.tracker,trackables:i.trackables,value:i.value,allowSave:i.allowSave,expandNote:i.expandNote,nextLabel:i.nextLabel,onClose:n}),t&&t.tracker){const r=[],s=t.tracker;s.type==="note"||s.type==="picker"?r.push(`#${t.tracker.tag}`):jn.truthy(t.value)?r.push(`#${t.tracker.tag}(${t.value})`):r.push(`#${t.tracker.tag}`),(t.suffix||"").length&&r.push(t.suffix),i.tracker.include&&i.expandNote&&r.push(i.tracker.getIncluded(t.value)),e({raw:r.join(" "),action:t.action,tracker:t.tracker,value:t.value,expandNote:i.expandNote})}else e(void 0);n()});function NMe(i){let e,t,n;return t=new Yc({props:{locations:i[0],records:i[1]}}),{c(){e=A("div"),O(t.$$.fragment),h(e,"class","relative flex-grow h-full")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p(r,s){const l={};s&1&&(l.locations=r[0]),s&2&&(l.records=r[1]),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function LC(i){let e=i[0][0].name+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p(n,r){r&1&&e!==(e=n[0][0].name+"")&&oe(t,e)},d(n){n&&y(t)}}}function MMe(i){let e,t=i[0].length&&LC(i);return{c(){t&&t.c(),e=$e()},m(n,r){t&&t.m(n,r),w(n,e,r)},p(n,r){n[0].length?t?t.p(n,r):(t=LC(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){t&&t.d(n),n&&y(e)}}}function LMe(i){let e,t;return e=new Yr({props:{className:"line-clamp-1",$$slots:{default:[MMe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&33&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function OMe(i){let e;return{c(){e=Z("Close")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function IMe(i){let e,t,n;return t=new Me({props:{primary:!0,clear:!0,$$slots:{default:[OMe]},$$scope:{ctx:i}}}),t.$on("click",i[4]),{c(){e=A("div"),O(t.$$.fragment),h(e,"slot","left")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p(r,s){const l={};s&32&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function BMe(i){let e;return{c(){e=A("div"),h(e,"slot","right")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function zMe(i){let e,t;return e=new Jt({props:{slot:"header",className:"bg-white dark:bg-black shadow-md z-40 relative",$$slots:{right:[BMe],left:[IMe],default:[LMe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&33&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function RMe(i){let e;return{c(){e=A("div"),h(e,"class","mt-2"),h(e,"slot","footer")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function jMe(i){let e,t;return e=new _n({props:{$$slots:{footer:[RMe],header:[zMe],default:[NMe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&35&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function YMe(i,e,t){let{id:n}=e,{locations:r}=e,{logs:s}=e;const l=()=>{Ot(n)},o=()=>l();return i.$$set=a=>{"id"in a&&t(3,n=a.id),"locations"in a&&t(0,r=a.locations),"logs"in a&&t(1,s=a.logs)},[r,s,l,n,o]}class UMe extends ce{constructor(e){super(),ue(this,e,YMe,jMe,le,{id:3,locations:0,logs:1})}}const qMe=(i,e)=>{en({id:`locations-${Fn(i)}`,component:UMe,position:"fullscreen",componentProps:{logs:e,locations:i}})};function OC(i,e,t){const n=i.slice();return n[15]=e[t],n[17]=t,n}function IC(i){let e,t,n,r=i[2].note+"",s,l=i[2].words,o=[];for(let a=0;a<l.length;a+=1)o[a]=zC(OC(i,l,a));return{c(){e=A("div");for(let a=0;a<o.length;a+=1)o[a].c();n=Y(),s=Z(r),h(e,"class",t="n-note-textualized "+(i[0]||"leading-snug text-black dark:text-white")+" "+(i[2].words.length>20?"text-size-sm":"")+" "+(i[2].words.length<20?"text-size-big":""))},m(a,u){w(a,e,u);for(let c=0;c<o.length;c+=1)o[c].m(e,null);w(a,n,u),w(a,s,u)},p(a,u){if(u&54){l=a[2].words;let c;for(c=0;c<l.length;c+=1){const f=OC(a,l,c);o[c]?o[c].p(f,u):(o[c]=zC(f),o[c].c(),o[c].m(e,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=l.length}u&5&&t!==(t="n-note-textualized "+(a[0]||"leading-snug text-black dark:text-white")+" "+(a[2].words.length>20?"text-size-sm":"")+" "+(a[2].words.length<20?"text-size-big":""))&&h(e,"class",t),u&4&&r!==(r=a[2].note+"")&&oe(s,r)},d(a){a&&y(e),it(o,a),a&&y(n),a&&y(s)}}}function HMe(i){let e,t=i[15].raw+" ",n;return{c(){e=A("span"),n=Z(t)},m(r,s){w(r,e,s),E(e,n)},p(r,s){s&4&&t!==(t=r[15].raw+" ")&&oe(n,t)},d(r){r&&y(e)}}}function WMe(i){let e,t,n;function r(...s){return i[13](i[17],...s)}return{c(){e=A("input"),h(e,"type","checkbox"),h(e,"data-index",`${i[17]}`),e.checked=!0},m(s,l){w(s,e,l),t||(n=ke(e,"change",r),t=!0)},p(s,l){i=s},d(s){s&&y(e),t=!1,n()}}}function VMe(i){let e,t,n;function r(...s){return i[12](i[17],...s)}return{c(){e=A("input"),h(e,"type","checkbox"),h(e,"data-index",`${i[17]}`)},m(s,l){w(s,e,l),t||(n=ke(e,"change",r),t=!0)},p(s,l){i=s},d(s){s&&y(e),t=!1,n()}}}function GMe(i){let e;return{c(){e=A("br")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function ZMe(i){let e,t=` ${i[15].id} `,n,r,s,l;function o(){return i[11](i[15])}return{c(){e=A("button"),n=Z(t),h(e,"type","button"),h(e,"class",r="token link "+(i[1]||"default-token-class"))},m(a,u){w(a,e,u),E(e,n),s||(l=ke(e,"click",o),s=!0)},p(a,u){i=a,u&4&&t!==(t=` ${i[15].id} `)&&oe(n,t),u&2&&r!==(r="token link "+(i[1]||"default-token-class"))&&h(e,"class",r)},d(a){a&&y(e),s=!1,l()}}}function xMe(i){let e,t=` ${i[15].raw} `,n,r,s,l;function o(){return i[10](i[15])}return{c(){e=A("button"),n=Z(t),h(e,"type","button"),h(e,"class",r="context token "+(i[1]||"default-token-class"))},m(a,u){w(a,e,u),E(e,n),s||(l=ke(e,"click",o),s=!0)},p(a,u){i=a,u&4&&t!==(t=` ${i[15].raw} `)&&oe(n,t),u&2&&r!==(r="context token "+(i[1]||"default-token-class"))&&h(e,"class",r)},d(a){a&&y(e),s=!1,l()}}}function XMe(i){let e,t=` ${i[15].raw} `,n,r,s,l;function o(){return i[9](i[15])}return{c(){e=A("button"),n=Z(t),h(e,"type","button"),h(e,"class",r="person token "+(i[1]||"default-token-class"))},m(a,u){w(a,e,u),E(e,n),s||(l=ke(e,"click",o),s=!0)},p(a,u){i=a,u&4&&t!==(t=` ${i[15].raw} `)&&oe(n,t),u&2&&r!==(r="person token "+(i[1]||"default-token-class"))&&h(e,"class",r)},d(a){a&&y(e),s=!1,l()}}}function KMe(i){let e,t=` #${i[15].id} `,n,r,s,l;function o(){return i[8](i[15])}return{c(){e=A("button"),n=Z(t),h(e,"type","button"),h(e,"class",r="token "+(i[1]||"default-token-class"))},m(a,u){w(a,e,u),E(e,n),s||(l=ke(e,"click",o),s=!0)},p(a,u){i=a,u&4&&t!==(t=` #${i[15].id} `)&&oe(n,t),u&2&&r!==(r="token "+(i[1]||"default-token-class"))&&h(e,"class",r)},d(a){a&&y(e),s=!1,l()}}}function BC(i){let e,t=i[15].remainder.trim()+"",n;return{c(){e=A("span"),n=Z(t),h(e,"class","remainder")},m(r,s){w(r,e,s),E(e,n)},p(r,s){s&4&&t!==(t=r[15].remainder.trim()+"")&&oe(n,t)},d(r){r&&y(e)}}}function zC(i){let e,t;function n(o,a){if(o[15].type==="tracker")return KMe;if(o[15].type=="person")return XMe;if(o[15].type=="context")return xMe;if(o[15].type=="link")return ZMe;if(o[15].type=="line-break")return GMe;if(o[15].raw=="[]")return VMe;if(o[15].raw=="[x]")return WMe;if(o[15].raw)return HMe}let r=n(i),s=r&&r(i),l=i[15].remainder&&i[15].type!=="person"&&BC(i);return{c(){s&&s.c(),e=Y(),l&&l.c(),t=$e()},m(o,a){s&&s.m(o,a),w(o,e,a),l&&l.m(o,a),w(o,t,a)},p(o,a){r===(r=n(o))&&s?s.p(o,a):(s&&s.d(1),s=r&&r(o),s&&(s.c(),s.m(e.parentNode,e))),o[15].remainder&&o[15].type!=="person"?l?l.p(o,a):(l=BC(o),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},d(o){s&&s.d(o),o&&y(e),l&&l.d(o),o&&y(t)}}}function JMe(i){let e,t=i[3]&&IC(i);return{c(){t&&t.c(),e=$e()},m(n,r){t&&t.m(n,r),w(n,e,r)},p(n,[r]){n[3]?t?t.p(n,r):(t=IC(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:W,o:W,d(n){t&&t.d(n),n&&y(e)}}}function QMe(i,e,t){let{note:n=""}=e,{trackers:r={}}=e,{className:s=void 0}=e,{tokenClass:l=void 0}=e;const o=Dt(),a={words:[],note:""};let u=0;const c=D=>{a.words[D].raw=="[x]"?(t(2,a.words[D].raw="[]",a),t(2,a.words[D].id="[]",a)):(t(2,a.words[D].raw="[x]",a),t(2,a.words[D].id="[x]",a)),t(2,a),t(6,n),o("noteChange",a.words.map(C=>C.raw).join(" "))},f={split(D){return D.split(" ")},tracker_get(D){return(r||{})[D]||new oi({tag:D})},textElementClick(D){o("textClick",D)},linkClick(D){window.open(D,"_system")},note_to_array(D){let F=Zf.parse(D,{includeGeneric:!0})||[],C=F.filter(S=>["person","context","generic"].indexOf(S.type)>-1);return t(3,u=C.length),F}},d=D=>{f.textElementClick(D)},m=D=>{f.textElementClick(D)},p=D=>{f.textElementClick(D)},g=D=>{f.linkClick(D.raw)},k=(D,F)=>{c(D)},$=(D,F)=>{c(D)};return i.$$set=D=>{"note"in D&&t(6,n=D.note),"trackers"in D&&t(7,r=D.trackers),"className"in D&&t(0,s=D.className),"tokenClass"in D&&t(1,l=D.tokenClass)},i.$$.update=()=>{i.$$.dirty&64&&t(2,a.words=f.note_to_array(n),a)},[s,l,a,u,c,f,n,r,d,m,p,g,k,$]}class Gb extends ce{constructor(e){super(),ue(this,e,QMe,JMe,le,{note:6,trackers:7,className:0,tokenClass:1})}}function RC(i){let e,t=i[0].formatValue(i[1])+"",n;return{c(){e=A("span"),n=Z(t),h(e,"class","value")},m(r,s){w(r,e,s),E(e,n)},p(r,s){s&3&&t!==(t=r[0].formatValue(r[1])+"")&&oe(n,t)},d(r){r&&y(e)}}}function eLe(i){let e,t,n,r,s=i[0].label+"",l,o,a,u,c;t=new fi({props:{className:"items-center self-center",trackable:i[0],size:23}});let f=i[1]&&RC(i);return{c(){e=A("button"),O(t.$$.fragment),n=Y(),r=A("span"),l=Z(s),o=Y(),f&&f.c(),h(r,"class","label line-clamp-1"),h(e,"class","tiny-trackable")},m(d,m){w(d,e,m),N(t,e,null),E(e,n),E(e,r),E(r,l),E(e,o),f&&f.m(e,null),a=!0,u||(c=ke(e,"click",i[4]),u=!0)},p(d,[m]){const p={};m&1&&(p.trackable=d[0]),t.$set(p),(!a||m&1)&&s!==(s=d[0].label+"")&&oe(l,s),d[1]?f?f.p(d,m):(f=RC(d),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},i(d){a||(_(t.$$.fragment,d),a=!0)},o(d){v(t.$$.fragment,d),a=!1},d(d){d&&y(e),M(t),f&&f.d(),u=!1,c()}}}function tLe(i,e,t){let{date:n}=e,{trackable:r}=e,{value:s}=e;const l=Dt(),o=()=>l("click");return i.$$set=a=>{"date"in a&&t(3,n=a.date),"trackable"in a&&t(0,r=a.trackable),"value"in a&&t(1,s=a.value)},[r,s,l,n,o]}class nLe extends ce{constructor(e){super(),ue(this,e,tLe,eLe,le,{date:3,trackable:0,value:1})}}const iLe=i=>({}),jC=i=>({});function YC(i,e,t){const n=i.slice();return n[20]=e[t],n[22]=t,n}function UC(i){let e,t,n,r=Eo(i[0].score).emoji+"",s,l,o,a,u,c,f,d,m,p,g,k,$,D,F,C,S,P,I;function R(x,ee){return x[1]?sLe:rLe}let B=R(i),z=B(i);const q=[oLe,lLe],H=[];function K(x,ee){return x[0].location?0:x[0].lng?1:-1}~(f=K(i))&&(d=H[f]=q[f](i)),g=new je({props:{size:22,icon:RU}});let G=i[0].hasNote&&qC(i),U=!i[2]&&HC(i);const Q=i[12]["item-footer"],V=He(Q,i,i[11],jC);return{c(){e=A("div"),t=A("div"),n=A("button"),s=Z(r),l=Y(),o=A("div"),z.c(),a=Y(),u=A("div"),c=A("button"),d&&d.c(),m=Y(),p=A("button"),O(g.$$.fragment),k=Y(),G&&G.c(),$=Y(),U&&U.c(),D=Y(),V&&V.c(),h(n,"class","text-base text-gray-600 dark:text-gray-400"),h(o,"class","text-gray-500 stiff line-clamp-1"),h(c,"aria-label","View Location"),h(c,"class","w-full text-right flex items-center justify-end"),h(u,"class","text-right flex items-center filler text-gray-500"),h(p,"type","button"),nt(p,"margin-right","-10px"),h(p,"class","text-gray-800 dark:text-white h-7 w-7 rounded-full flex items-center justify-center"),h(t,"class","flex items-center justify-between text-xs space-x-3 -mt-2"),h(e,"id",F="log-"+i[5]._id),h(e,"class",C="note-bubble space-y-2 bubble "+i[3]),Je(e,"pinned",i[5].pinned)},m(x,ee){w(x,e,ee),E(e,t),E(t,n),E(n,s),E(t,l),E(t,o),z.m(o,null),E(t,a),E(t,u),E(u,c),~f&&H[f].m(c,null),E(t,m),E(t,p),N(g,p,null),E(e,k),G&&G.m(e,null),E(e,$),U&&U.m(e,null),E(e,D),V&&V.m(e,null),S=!0,P||(I=[ke(n,"click",i[13]),ke(c,"click",i[14]),ke(p,"click",i[15])],P=!0)},p(x,ee){(!S||ee&1)&&r!==(r=Eo(x[0].score).emoji+"")&&oe(s,r),B===(B=R(x))&&z?z.p(x,ee):(z.d(1),z=B(x),z&&(z.c(),z.m(o,null)));let J=f;f=K(x),f===J?~f&&H[f].p(x,ee):(d&&(ie(),v(H[J],1,1,()=>{H[J]=null}),re()),~f?(d=H[f],d?d.p(x,ee):(d=H[f]=q[f](x),d.c()),_(d,1),d.m(c,null)):d=null),x[0].hasNote?G?(G.p(x,ee),ee&1&&_(G,1)):(G=qC(x),G.c(),_(G,1),G.m(e,$)):G&&(ie(),v(G,1,1,()=>{G=null}),re()),x[2]?U&&(ie(),v(U,1,1,()=>{U=null}),re()):U?(U.p(x,ee),ee&4&&_(U,1)):(U=HC(x),U.c(),_(U,1),U.m(e,D)),V&&V.p&&(!S||ee&2048)&&Ve(V,Q,x,x[11],S?We(Q,x[11],ee,iLe):Ge(x[11]),jC),(!S||ee&32&&F!==(F="log-"+x[5]._id))&&h(e,"id",F),(!S||ee&8&&C!==(C="note-bubble space-y-2 bubble "+x[3]))&&h(e,"class",C),(!S||ee&40)&&Je(e,"pinned",x[5].pinned)},i(x){S||(_(d),_(g.$$.fragment,x),_(G),_(U),_(V,x),S=!0)},o(x){v(d),v(g.$$.fragment,x),v(G),v(U),v(V,x),S=!1},d(x){x&&y(e),z.d(),~f&&H[f].d(),M(g),G&&G.d(),U&&U.d(),V&&V.d(x),P=!1,pt(I)}}}function rLe(i){let e=i[0].endDayjs().format(i[9].time)+"",t,n,r,s=i[0].endDayjs().fromNow()+"",l;return{c(){t=Z(e),n=Y(),r=A("span"),l=Z(s),h(r,"class","pl-2 text-gray-300 dark:text-gray-700")},m(o,a){w(o,t,a),w(o,n,a),w(o,r,a),E(r,l)},p(o,a){a&1&&e!==(e=o[0].endDayjs().format(o[9].time)+"")&&oe(t,e),a&1&&s!==(s=o[0].endDayjs().fromNow()+"")&&oe(l,s)},d(o){o&&y(t),o&&y(n),o&&y(r)}}}function sLe(i){let e=i[0].endDayjs().format(`${i[9].date} ${i[9].time}`)+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p(n,r){r&1&&e!==(e=n[0].endDayjs().format(`${n[9].date} ${n[9].time}`)+"")&&oe(t,e)},d(n){n&&y(t)}}}function lLe(i){let e,t;return e=new je({props:{icon:SP,className:"text-green-500",size:16}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function oLe(i){let e,t=i[0].location+"",n;return{c(){e=A("div"),n=Z(t),h(e,"class","line-clamp-1 text-green-500")},m(r,s){w(r,e,s),E(e,n)},p(r,s){s&1&&t!==(t=r[0].location+"")&&oe(n,t)},i:W,o:W,d(r){r&&y(e)}}}function qC(i){let e,t,n;return t=new Gb({props:{note:i[0].note,className:" dark:text-gray-300 text-gray-700 leading-snug"}}),t.$on("noteChange",i[16]),t.$on("textClick",i[17]),{c(){e=A("p"),O(t.$$.fragment),h(e,"class","text-base leading-5")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p(r,s){const l={};s&1&&(l.note=r[0].note),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function HC(i){let e,t=[],n=new Map,r,s,l,o,a,u=i[6];const c=f=>`${f[20].trackable.tag}-${f[22]}`;for(let f=0;f<u.length;f+=1){let d=YC(i,u,f),m=c(d);n.set(m,t[f]=WC(m,d))}return{c(){e=A("div");for(let f=0;f<t.length;f+=1)t[f].c();r=Y(),s=A("button"),s.innerHTML='<span class="value w-5">+</span>',h(s,"class","tiny-trackable bg-transparent"),h(e,"class","trackables -px-1 w-full flex flex-wrap")},m(f,d){w(f,e,d);for(let m=0;m<t.length;m+=1)t[m].m(e,null);E(e,r),E(e,s),l=!0,o||(a=ke(s,"click",i[19]),o=!0)},p(f,d){d&65&&(u=f[6],ie(),t=qn(t,d,c,1,f,u,n,e,Ci,WC,r,YC),re())},i(f){if(!l){for(let d=0;d<u.length;d+=1)_(t[d]);l=!0}},o(f){for(let d=0;d<t.length;d+=1)v(t[d]);l=!1},d(f){f&&y(e);for(let d=0;d<t.length;d+=1)t[d].d();o=!1,a()}}}function WC(i,e){let t,n,r;function s(){return e[18](e[20])}return n=new nLe({props:{trackable:e[20].trackable,value:e[20].value,date:e[0].end}}),n.$on("click",s),{key:i,first:null,c(){t=$e(),O(n.$$.fragment),this.first=t},m(l,o){w(l,t,o),N(n,l,o),r=!0},p(l,o){e=l;const a={};o&64&&(a.trackable=e[20].trackable),o&64&&(a.value=e[20].value),o&1&&(a.date=e[0].end),n.$set(a)},i(l){r||(_(n.$$.fragment,l),r=!0)},o(l){v(n.$$.fragment,l),r=!1},d(l){l&&y(t),M(n,l)}}}function aLe(i){let e,t,n=i[5]&&UC(i);return{c(){n&&n.c(),e=$e()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,[s]){r[5]?n?(n.p(r,s),s&32&&_(n,1)):(n=UC(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ie(),v(n,1,1,()=>{n=null}),re())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function uLe(i,e,t){let n;Ee(i,It,I=>t(4,n=I));let{$$slots:r={},$$scope:s}=e,{log:l=void 0}=e,{fullDate:o=!1}=e,{hideTrackables:a=!1}=e,{className:u=""}=e,c,f,d=[];const m=async I=>{const R=await yQ(I.score);R&&jn.truthy(R.score)&&(I.score=R.score,console.log({score:I.score}),await Mf(I.note,I))},p=async()=>{const I=await Vp();let R;if(await Et(100),I&&I.type=="tracker"){const B=await xo({allowSave:!1,expandNote:!0,trackables:n.trackables,tracker:I.tracker,nextLabel:"Add"});B!=null&&B.raw&&(R=B.raw)}else(I.type=="person"||I.type=="context")&&(R=I.tag);if(R){let B=`${c.note} ${R}`;t(5,c=await Mf(B,c))}};let g=Pn();const k=()=>m(l),$=()=>qMe([l.geoType],[l]),D=()=>{Xe.logOptions(l,{description:l.note})},F=I=>{Mf(I.detail,l)},C=I=>{const R=pi(I.detail,n.trackables);Ui(R)},S=I=>{Ui(I.trackable,{date:l.endDayjs()})},P=()=>p();return i.$$set=I=>{"log"in I&&t(0,l=I.log),"fullDate"in I&&t(1,o=I.fullDate),"hideTrackables"in I&&t(2,a=I.hideTrackables),"className"in I&&t(3,u=I.className),"$$scope"in I&&t(11,s=I.$$scope)},i.$$.update=()=>{i.$$.dirty&1041&&l&&Fn(l)!==f&&(t(10,f=Fn(l)),t(5,c=new Gt(l)),t(6,d=l.elements.filter(I=>I.type!=="generic").map((I,R)=>{const B=pi(I,n.trackables);return{trackable:B,token:I,value:Nn(I.value||(B==null?void 0:B.value)||0)}}).filter(I=>I.trackable)))},[l,o,a,u,n,c,d,m,p,g,f,s,r,k,$,D,F,C,S,P]}class Xo extends ce{constructor(e){super(),ue(this,e,uLe,aLe,le,{log:0,fullDate:1,hideTrackables:2,className:3})}}function VC(i){let e,t,n;return t=new Yc({props:{className:"shadow-md",records:[i[0]],height:152}}),{c(){e=A("div"),O(t.$$.fragment),h(e,"class","sticky top-0 left-0 right-0 w-full z-40 stiff")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p(r,s){const l={};s&1&&(l.records=[r[0]]),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function cLe(i){let e,t,n,r,s=i[0].lat&&VC(i);return n=new Xo({props:{log:i[0]}}),{c(){s&&s.c(),e=Y(),t=A("div"),O(n.$$.fragment),h(t,"class","p-4 relative z-50")},m(l,o){s&&s.m(l,o),w(l,e,o),w(l,t,o),N(n,t,null),r=!0},p(l,o){l[0].lat?s?(s.p(l,o),o&1&&_(s,1)):(s=VC(l),s.c(),_(s,1),s.m(e.parentNode,e)):s&&(ie(),v(s,1,1,()=>{s=null}),re());const a={};o&1&&(a.log=l[0]),n.$set(a)},i(l){r||(_(s),_(n.$$.fragment,l),r=!0)},o(l){v(s),v(n.$$.fragment,l),r=!1},d(l){s&&s.d(l),l&&y(e),l&&y(t),M(n)}}}function fLe(i){let e,t=i[0].endDayjs().format(`ddd ${i[1].date} ${i[1].time}`)+"",n;return{c(){e=A("h2"),n=Z(t),h(e,"class","line-clamp-1 text-black dark:text-white whitespace-normal leading-tight text-base font-semibold")},m(r,s){w(r,e,s),E(e,n)},p(r,s){s&1&&t!==(t=r[0].endDayjs().format(`ddd ${r[1].date} ${r[1].time}`)+"")&&oe(n,t)},d(r){r&&y(e)}}}function dLe(i){let e,t;return e=new je({props:{icon:gl,className:"text-primary-500"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function hLe(i){let e,t;return e=new Me({props:{icon:!0,slot:"left",$$slots:{default:[dLe]},$$scope:{ctx:i}}}),e.$on("click",i[4]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&32&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function mLe(i){let e,t;return e=new Jt({props:{slot:"header",shadow:!0,$$slots:{left:[hLe],default:[fLe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&33&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function pLe(i){let e,t;return e=new _n({props:{mainClass:"overflow-y-auto relative",className:"h-full bg-gray-100 dark:bg-gray-900 w-full rounded-2xl",$$slots:{header:[mLe],default:[cLe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&33&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function _Le(i,e,t){let{id:n}=e,{log:r}=e,s=Pn();const l=async()=>{Ot(n)},o=()=>l();return i.$$set=a=>{"id"in a&&t(3,n=a.id),"log"in a&&t(0,r=a.log)},[r,s,l,n,o]}class gLe extends ce{constructor(e){super(),ue(this,e,_Le,pLe,le,{id:3,log:0})}}const gc=i=>{en({position:"bottom",id:`display-log-${i._id}`,componentProps:{log:i},component:gLe})},GC=Pn(),y_=i=>[{title:`View ${we(i).format(GC.mmm_d_yyyy)}`,icon:Ga,click(){a_(i)}},{title:`Trending ${we(i).format(GC.mmm_d_yyyy)}`,icon:ZP,click(){kz(i)}}],rp=i=>{const e=[...i];return e[0].divider=!0,e},Rz=(i,e=!0)=>{const t=[{title:"View Note",description:e?`${i.note.substring(0,200)}`:void 0,icon:cH,click(){gc(i)}},{title:"Edit Note",icon:IP,click(){uu(i)}}];return i.pinned?t.push({title:"Unpin Note",icon:l0,click(){delete i.pinned,Ut.updateLog(i)}}):t.push({title:"Pin Note",icon:l0,click(){i.pinned=!0,Ut.updateLog(i)}}),t},vLe=i=>[{title:`${$o(i.label)} Usage...`,icon:BP,async click(){await Et(400),Ui(i)}}];function bLe(i){let e,t,n,r;t=new Xv({props:{source:i[0]}});let s=[i[2],{class:n="markdown "+i[2].class}],l={};for(let o=0;o<s.length;o+=1)l=ft(l,s[o]);return{c(){e=A("div"),O(t.$$.fragment),gt(e,l)},m(o,a){w(o,e,a),N(t,e,null),i[3](e),r=!0},p(o,[a]){const u={};a&1&&(u.source=o[0]),t.$set(u),gt(e,l=At(s,[a&4&&o[2],(!r||a&4&&n!==(n="markdown "+o[2].class))&&{class:n}]))},i(o){r||(_(t.$$.fragment,o),r=!0)},o(o){v(t.$$.fragment,o),r=!1},d(o){o&&y(e),M(t),i[3](null)}}}function kLe(i,e,t){const n=["content"];let r=An(e,n),{content:s}=e,l;wt(()=>{l.querySelectorAll("a").forEach(u=>{u.setAttribute("target","_blank")})});function o(a){De[a?"unshift":"push"](()=>{l=a,t(1,l)})}return i.$$set=a=>{e=ft(ft({},e),ci(a)),t(2,r=An(e,n)),"content"in a&&t(0,s=a.content)},[s,l,r,o]}class yLe extends ce{constructor(e){super(),ue(this,e,kLe,bLe,le,{content:0})}}function ZC(i){let e,t=i[0].title+"",n,r;return{c(){e=A("h2"),n=Z(t),h(e,"role","alert"),h(e,"class",r="card-title "+(i[0].message?"has-message":"message-less"))},m(s,l){w(s,e,l),E(e,n)},p(s,l){l&1&&t!==(t=s[0].title+"")&&oe(n,t),l&1&&r!==(r="card-title "+(s[0].message?"has-message":"message-less"))&&h(e,"class",r)},d(s){s&&y(e)}}}function wLe(i){let e,t,n,r;t=new Di({props:{size:"sm",$$slots:{default:[ELe]},$$scope:{ctx:i}}});const s=i[3].default,l=He(s,i,i[5],null);return{c(){e=A("div"),O(t.$$.fragment),n=Y(),l&&l.c(),h(e,"class","pt-0 slot-holder card-body")},m(o,a){w(o,e,a),N(t,e,null),E(e,n),l&&l.m(e,null),r=!0},p(o,a){const u={};a&33&&(u.$$scope={dirty:a,ctx:o}),t.$set(u),l&&l.p&&(!r||a&32)&&Ve(l,s,o,o[5],r?We(s,o[5],a,null):Ge(o[5]),null)},i(o){r||(_(t.$$.fragment,o),_(l,o),r=!0)},o(o){v(t.$$.fragment,o),v(l,o),r=!1},d(o){o&&y(e),M(t),l&&l.d(o)}}}function $Le(i){let e,t;const n=i[3].default,r=He(n,i,i[5],null);return{c(){e=A("div"),r&&r.c(),h(e,"class","pt-0 slot-holder card-body")},m(s,l){w(s,e,l),r&&r.m(e,null),t=!0},p(s,l){r&&r.p&&(!t||l&32)&&Ve(r,n,s,s[5],t?We(n,s[5],l,null):Ge(s[5]),null)},i(s){t||(_(r,s),t=!0)},o(s){v(r,s),t=!1},d(s){s&&y(e),r&&r.d(s)}}}function FLe(i){let e,t,n;return t=new yLe({props:{content:i[0].message}}),{c(){e=A("div"),O(t.$$.fragment),h(e,"role","alert"),h(e,"class","card-body message")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p(r,s){const l={};s&1&&(l.content=r[0].message),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function ELe(i){let e=i[0].message+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p(n,r){r&1&&e!==(e=n[0].message+"")&&oe(t,e)},d(n){n&&y(t)}}}function xC(i){let e,t=i[0].cancel+"",n,r,s,l;return{c(){e=A("button"),n=Z(t),h(e,"id","alert-cancel"),h(e,"color","transparent"),h(e,"aria-label",r=i[0].cancel),h(e,"class","cancel")},m(o,a){w(o,e,a),E(e,n),s||(l=ke(e,"click",i[1].onCancel),s=!0)},p(o,a){a&1&&t!==(t=o[0].cancel+"")&&oe(n,t),a&1&&r!==(r=o[0].cancel)&&h(e,"aria-label",r)},d(o){o&&y(e),s=!1,l()}}}function DLe(i){let e,t,n,r,s,l,o,a,u,c,f,d=i[0].ok+"",m,p,g,k,$,D;e=new b_({}),e.$on("Escape",i[4]);let F=i[0].title&&ZC(i);const C=[FLe,$Le,wLe],S=[];function P(z,q){return z[0].message&&!CLe?0:-1}~(l=P(i))&&(o=S[l]=C[l](i));const I=i[3].default,R=He(I,i,i[5],null);let B=i[0].cancel&&xC(i);return{c(){O(e.$$.fragment),t=Y(),n=A("div"),r=A("div"),F&&F.c(),s=Y(),o&&o.c(),a=Y(),R&&R.c(),u=Y(),c=A("div"),f=A("button"),m=Z(d),g=Y(),B&&B.c(),h(r,"class","px-3 pt-3"),h(f,"id","alert-ok"),h(f,"aria-label",p=i[0].ok),h(f,"class","primary"),h(c,"class","footer"),h(n,"class","alert-dialog-window card"),h(n,"role","alertdialog"),h(n,"aria-modal","true"),h(n,"aria-hidden",!SLe)},m(z,q){N(e,z,q),w(z,t,q),w(z,n,q),E(n,r),F&&F.m(r,null),E(r,s),~l&&S[l].m(r,null),E(r,a),R&&R.m(r,null),E(n,u),E(n,c),E(c,f),E(f,m),E(c,g),B&&B.m(c,null),k=!0,$||(D=ke(f,"click",i[1].onOk),$=!0)},p(z,[q]){z[0].title?F?F.p(z,q):(F=ZC(z),F.c(),F.m(r,s)):F&&(F.d(1),F=null);let H=l;l=P(z),l===H?~l&&S[l].p(z,q):(o&&(ie(),v(S[H],1,1,()=>{S[H]=null}),re()),~l?(o=S[l],o?o.p(z,q):(o=S[l]=C[l](z),o.c()),_(o,1),o.m(r,a)):o=null),R&&R.p&&(!k||q&32)&&Ve(R,I,z,z[5],k?We(I,z[5],q,null):Ge(z[5]),null),(!k||q&1)&&d!==(d=z[0].ok+"")&&oe(m,d),(!k||q&1&&p!==(p=z[0].ok))&&h(f,"aria-label",p),z[0].cancel?B?B.p(z,q):(B=xC(z),B.c(),B.m(c,null)):B&&(B.d(1),B=null)},i(z){k||(_(e.$$.fragment,z),_(o),_(R,z),k=!0)},o(z){v(e.$$.fragment,z),v(o),v(R,z),k=!1},d(z){M(e,z),z&&y(t),z&&y(n),F&&F.d(),~l&&S[l].d(),R&&R.d(z),B&&B.d(),$=!1,D()}}}let CLe=!1,SLe=!1;function TLe(i,e,t){let{$$slots:n={},$$scope:r}=e,{payload:s}=e,{id:l}=e;const o={onOk(){s.onInteract&&(t(0,s.value=s.value||!0,s),s.onInteract(s),Ot(l))},onCancel(){s.onInteract&&(t(0,s.value=s.value||!1,s),s.onInteract(s),Ot(l))}},a=()=>{o.onCancel()};return i.$$set=u=>{"payload"in u&&t(0,s=u.payload),"id"in u&&t(2,l=u.id),"$$scope"in u&&t(5,r=u.$$scope)},[s,o,l,n,a,r]}class a0 extends ce{constructor(e){super(),ue(this,e,TLe,DLe,le,{payload:0,id:2})}}function XC(i,e,t){const n=i.slice();return n[40]=e[t],n[42]=t,n}function KC(i){let e,t,n,r;return n=new Yc({props:{hideFavorite:!0,locations:i[0].active?[i[0].active]:[],picker:!0}}),n.$on("change",i[11]),{c(){e=A("div"),t=A("div"),O(n.$$.fragment),nt(t,"height","200px"),h(t,"class","relative"),nt(e,"height","225px"),h(e,"class","flex-grow-0 flex-shrink-0 relative")},m(s,l){w(s,e,l),E(e,t),N(n,t,null),r=!0},p(s,l){const o={};l[0]&1&&(o.locations=s[0].active?[s[0].active]:[]),n.$set(o)},i(s){r||(_(n.$$.fragment,s),r=!0)},o(s){v(n.$$.fragment,s),r=!1},d(s){s&&y(e),M(n)}}}function JC(i){let e,t;return e=new Ft({props:{solo:!0,className:"mb-2",$$slots:{default:[NLe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[0]&2|r[1]&8192&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function ALe(i){let e,t,n=ht.round(i[1].lat,1e4)+"",r,s,l=ht.round(i[1].lng,1e4)+"",o;return{c(){e=Z("Favorite "),t=A("strong"),r=Z(n),s=Z(","),o=Z(l)},m(a,u){w(a,e,u),w(a,t,u),E(t,r),E(t,s),E(t,o)},p(a,u){u[0]&2&&n!==(n=ht.round(a[1].lat,1e4)+"")&&oe(r,n),u[0]&2&&l!==(l=ht.round(a[1].lng,1e4)+"")&&oe(o,l)},d(a){a&&y(e),a&&y(t)}}}function PLe(i){let e,t,n=ht.round(i[1].lat,1e4)+"",r,s,l=ht.round(i[1].lng,1e4)+"",o;return{c(){e=Z("Select "),t=A("strong"),r=Z(n),s=Z(","),o=Z(l)},m(a,u){w(a,e,u),w(a,t,u),E(t,r),E(t,s),E(t,o)},p(a,u){u[0]&2&&n!==(n=ht.round(a[1].lat,1e4)+"")&&oe(r,n),u[0]&2&&l!==(l=ht.round(a[1].lng,1e4)+"")&&oe(o,l)},d(a){a&&y(e),a&&y(t)}}}function NLe(i){let e,t,n,r;return e=new xe({props:{bottomLine:18,clickable:!0,"aria-label":"Save this Location",$$slots:{default:[ALe]},$$scope:{ctx:i}}}),e.$on("click",i[29]),n=new xe({props:{clickable:!0,"aria-label":"Use this area",$$slots:{default:[PLe]},$$scope:{ctx:i}}}),n.$on("click",i[30]),{c(){O(e.$$.fragment),t=Y(),O(n.$$.fragment)},m(s,l){N(e,s,l),w(s,t,l),N(n,s,l),r=!0},p(s,l){const o={};l[0]&2|l[1]&8192&&(o.$$scope={dirty:l,ctx:s}),e.$set(o);const a={};l[0]&2|l[1]&8192&&(a.$$scope={dirty:l,ctx:s}),n.$set(a)},i(s){r||(_(e.$$.fragment,s),_(n.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(n.$$.fragment,s),r=!1},d(s){M(e,s),s&&y(t),M(n,s)}}}function MLe(i){let e=_e.t("location.locating","Locating...")+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p:W,d(n){n&&y(t)}}}function LLe(i){let e=_e.t("location.use-current-location","Use Current Location")+"",t,n;return{c(){t=Z(e),n=Z("...")},m(r,s){w(r,t,s),w(r,n,s)},p:W,d(r){r&&y(t),r&&y(n)}}}function OLe(i){let e;function t(s,l){return s[0].locating?MLe:LLe}let n=t(i),r=n(i);return{c(){r.c(),e=$e()},m(s,l){r.m(s,l),w(s,e,l)},p(s,l){n===(n=t(s))&&r?r.p(s,l):(r.d(1),r=n(s),r&&(r.c(),r.m(e.parentNode,e)))},d(s){r.d(s),s&&y(e)}}}function QC(i){let e,t;return e=new Mn({props:{size:24}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function ILe(i){let e,t,n=i[0].locating&&QC();return{c(){e=A("div"),n&&n.c(),h(e,"slot","right")},m(r,s){w(r,e,s),n&&n.m(e,null),t=!0},p(r,s){r[0].locating?n?s[0]&1&&_(n,1):(n=QC(),n.c(),_(n,1),n.m(e,null)):n&&(ie(),v(n,1,1,()=>{n=null}),re())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){r&&y(e),n&&n.d()}}}function BLe(i){let e;return{c(){e=Z("Find on Map...")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function zLe(i){let e,t,n,r,s,l;return e=new xe({props:{clickable:!0,className:"clickable py-1 dark:bg-gray-900 bg-white text-primary "+(i[0].locating?"opacity-50":""),$$slots:{right:[ILe],default:[OLe]},$$scope:{ctx:i}}}),e.$on("click",i[31]),n=new Tn({props:{center:!0}}),s=new xe({props:{clickable:!0,$$slots:{default:[BLe]},$$scope:{ctx:i}}}),s.$on("click",i[32]),{c(){O(e.$$.fragment),t=Y(),O(n.$$.fragment),r=Y(),O(s.$$.fragment)},m(o,a){N(e,o,a),w(o,t,a),N(n,o,a),w(o,r,a),N(s,o,a),l=!0},p(o,a){const u={};a[0]&1&&(u.className="clickable py-1 dark:bg-gray-900 bg-white text-primary "+(o[0].locating?"opacity-50":"")),a[0]&1|a[1]&8192&&(u.$$scope={dirty:a,ctx:o}),e.$set(u);const c={};a[1]&8192&&(c.$$scope={dirty:a,ctx:o}),s.$set(c)},i(o){l||(_(e.$$.fragment,o),_(n.$$.fragment,o),_(s.$$.fragment,o),l=!0)},o(o){v(e.$$.fragment,o),v(n.$$.fragment,o),v(s.$$.fragment,o),l=!1},d(o){M(e,o),o&&y(t),M(n,o),o&&y(r),M(s,o)}}}function eS(i){let e,t;return e=new Gn({props:{className:"text-gray-500",$$slots:{default:[RLe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[1]&8192&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function RLe(i){let e=_e.t("general.no-favorites-found","No Favorites Found")+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p:W,d(n){n&&y(t)}}}function tS(i){let e,t;return e=new Ft({props:{solo:!0,$$slots:{default:[XLe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[0]&1|r[1]&8192&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function jLe(i){let e,t;function n(){return i[35](i[43])}return e=new xe({props:{clickable:!0,bottomLine:14,className:" dark:bg-gray-900 bg-white",$$slots:{left:[qLe],default:[ULe]},$$scope:{ctx:i}}}),e.$on("click",n),{c(){O(e.$$.fragment)},m(r,s){N(e,r,s),t=!0},p(r,s){i=r;const l={};s[0]&1|s[1]&12288&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){M(e,r)}}}function YLe(i){let e,t;return e=new xe({props:{bottomLine:14,className:"dark:bg-gray-900 bg-white",$$slots:{right:[ZLe],left:[WLe],default:[HLe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[0]&1|r[1]&12288&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function nS(i){let e,t;return e=new je({props:{icon:Cs,className:"fill-primary"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function ULe(i){let e,t=i[43].name+"",n,r,s,l=i[0].active&&i[43].hash==i[0].active.hash&&nS();return{c(){e=A("h2"),n=Z(t),r=Y(),l&&l.c(),h(e,"class","text-base font-bold leading-tight text-black dark:text-white")},m(o,a){w(o,e,a),E(e,n),E(e,r),l&&l.m(e,null),s=!0},p(o,a){(!s||a[1]&4096)&&t!==(t=o[43].name+"")&&oe(n,t),o[0].active&&o[43].hash==o[0].active.hash?l?(l.p(o,a),a[0]&1|a[1]&4096&&_(l,1)):(l=nS(),l.c(),_(l,1),l.m(e,null)):l&&(ie(),v(l,1,1,()=>{l=null}),re())},i(o){s||(_(l),s=!0)},o(o){v(l),s=!1},d(o){o&&y(e),l&&l.d()}}}function qLe(i){let e,t,n;return t=new je({props:{icon:Kq,className:"text-yellow-500",size:22}}),{c(){e=A("div"),O(t.$$.fragment),h(e,"slot","left")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p:W,i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function iS(i){let e,t;return e=new je({props:{icon:Cs,className:"text-primary-500"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function HLe(i){let e,t=i[43].name+"",n,r,s,l=i[0].active&&i[43].hash==i[0].active.hash&&iS();return{c(){e=A("h2"),n=Z(t),r=Y(),l&&l.c(),h(e,"class","ntitle")},m(o,a){w(o,e,a),E(e,n),E(e,r),l&&l.m(e,null),s=!0},p(o,a){(!s||a[1]&4096)&&t!==(t=o[43].name+"")&&oe(n,t),o[0].active&&o[43].hash==o[0].active.hash?l?(l.p(o,a),a[0]&1|a[1]&4096&&_(l,1)):(l=iS(),l.c(),_(l,1),l.m(e,null)):l&&(ie(),v(l,1,1,()=>{l=null}),re())},i(o){s||(_(l),s=!0)},o(o){v(l),s=!1},d(o){o&&y(e),l&&l.d()}}}function WLe(i){let e,t,n;return t=new je({props:{icon:UP}}),{c(){e=A("div"),O(t.$$.fragment),h(e,"class","menu"),h(e,"slot","left")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p:W,i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function VLe(i){let e,t;return e=new je({props:{icon:GP}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function GLe(i){let e,t;return e=new je({props:{icon:Za,className:"text-red-500"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function ZLe(i){let e,t,n,r,s;function l(){return i[33](i[43])}t=new Me({props:{icon:!0,className:"tap-icon",$$slots:{default:[VLe]},$$scope:{ctx:i}}}),t.$on("click",l);function o(...a){return i[34](i[43],...a)}return r=new Me({props:{icon:!0,$$slots:{default:[GLe]},$$scope:{ctx:i}}}),r.$on("click",o),{c(){e=A("div"),O(t.$$.fragment),n=Y(),O(r.$$.fragment),h(e,"slot","right"),h(e,"class","flex")},m(a,u){w(a,e,u),N(t,e,null),E(e,n),N(r,e,null),s=!0},p(a,u){i=a;const c={};u[1]&8192&&(c.$$scope={dirty:u,ctx:i}),t.$set(c);const f={};u[1]&8192&&(f.$$scope={dirty:u,ctx:i}),r.$set(f)},i(a){s||(_(t.$$.fragment,a),_(r.$$.fragment,a),s=!0)},o(a){v(t.$$.fragment,a),v(r.$$.fragment,a),s=!1},d(a){a&&y(e),M(t),M(r)}}}function xLe(i){let e,t,n,r;const s=[YLe,jLe],l=[];function o(a,u){return a[0].mode==="edit"?0:1}return t=o(i),n=l[t]=s[t](i),{c(){e=A("div"),n.c(),h(e,"class","item-wrapper")},m(a,u){w(a,e,u),l[t].m(e,null),r=!0},p(a,u){let c=t;t=o(a),t===c?l[t].p(a,u):(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),n=l[t],n?n.p(a,u):(n=l[t]=s[t](a),n.c()),_(n,1),n.m(e,null))},i(a){r||(_(n),r=!0)},o(a){v(n),r=!1},d(a){a&&y(e),l[t].d()}}}function XLe(i){let e,t,n;function r(l){i[36](l)}let s={key:"id",direction:"y",enabled:i[0].mode=="edit",handleClass:".menu",$$slots:{default:[xLe,({item:l})=>({43:l}),({item:l})=>[0,l?4096:0]]},$$scope:{ctx:i}};return i[0].locations!==void 0&&(s.items=i[0].locations),e=new jc({props:s}),De.push(()=>Ue(e,"items",r,i[0].locations)),e.$on("update",i[9]),{c(){O(e.$$.fragment)},m(l,o){N(e,l,o),n=!0},p(l,o){const a={};o[0]&1&&(a.enabled=l[0].mode=="edit"),o[0]&1|o[1]&12288&&(a.$$scope={dirty:o,ctx:l}),!t&&o[0]&1&&(t=!0,a.items=l[0].locations,qe(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){M(e,l)}}}function KLe(i){let e,t,n,r,s,l,o,a,u,c,f=i[2]&&KC(i),d=i[1]&&i[1].lat&&JC(i);o=new Ft({props:{solo:!0,className:"mb-2",$$slots:{default:[zLe]},$$scope:{ctx:i}}});let m=i[0].locations.length==0&&eS(i),p=i[6]&&tS(i);return{c(){e=A("main"),t=A("section"),f&&f.c(),n=Y(),r=A("div"),s=A("div"),d&&d.c(),l=Y(),O(o.$$.fragment),a=Y(),m&&m.c(),u=Y(),p&&p.c(),h(s,"class","list-wrapper px-2 lg:px-4 space-y-4"),h(r,"class","flex-grow flex-shrink h-full overflow-y-auto "),h(t,"class","flex flex-col h-full relative h-50vh"),h(e,"class","pt-4 pb-4")},m(g,k){w(g,e,k),E(e,t),f&&f.m(t,null),E(t,n),E(t,r),E(r,s),d&&d.m(s,null),E(s,l),N(o,s,null),E(s,a),m&&m.m(s,null),E(s,u),p&&p.m(s,null),c=!0},p(g,k){g[2]?f?(f.p(g,k),k[0]&4&&_(f,1)):(f=KC(g),f.c(),_(f,1),f.m(t,n)):f&&(ie(),v(f,1,1,()=>{f=null}),re()),g[1]&&g[1].lat?d?(d.p(g,k),k[0]&2&&_(d,1)):(d=JC(g),d.c(),_(d,1),d.m(s,l)):d&&(ie(),v(d,1,1,()=>{d=null}),re());const $={};k[0]&5|k[1]&8192&&($.$$scope={dirty:k,ctx:g}),o.$set($),g[0].locations.length==0?m?(m.p(g,k),k[0]&1&&_(m,1)):(m=eS(g),m.c(),_(m,1),m.m(s,u)):m&&(ie(),v(m,1,1,()=>{m=null}),re()),g[6]?p?(p.p(g,k),k[0]&64&&_(p,1)):(p=tS(g),p.c(),_(p,1),p.m(s,null)):p&&(ie(),v(p,1,1,()=>{p=null}),re())},i(g){c||(_(f),_(d),_(o.$$.fragment,g),_(m),_(p),c=!0)},o(g){v(f),v(d),v(o.$$.fragment,g),v(m),v(p),c=!1},d(g){g&&y(e),f&&f.d(),d&&d.d(),M(o),m&&m.d(),p&&p.d()}}}function JLe(i){let e=_e.t("location.pick-a-location","Pick a Location")+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p:W,d(n){n&&y(t)}}}function QLe(i){let e=i[0].mapLocation.lat+"",t,n,r=i[0].mapLocation.lng+"",s;return{c(){t=Z(e),n=Z(","),s=Z(r)},m(l,o){w(l,t,o),w(l,n,o),w(l,s,o)},p(l,o){o[0]&1&&e!==(e=l[0].mapLocation.lat+"")&&oe(t,e),o[0]&1&&r!==(r=l[0].mapLocation.lng+"")&&oe(s,r)},d(l){l&&y(t),l&&y(n),l&&y(s)}}}function eOe(i){let e=i[0].active.name+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p(n,r){r[0]&1&&e!==(e=n[0].active.name+"")&&oe(t,e)},d(n){n&&y(t)}}}function tOe(i){let e;function t(s,l){return s[0].active?eOe:s[0].mapLocation?QLe:JLe}let n=t(i),r=n(i);return{c(){e=A("h1"),r.c(),h(e,"class","ntitle")},m(s,l){w(s,e,l),r.m(e,null)},p(s,l){n===(n=t(s))&&r?r.p(s,l):(r.d(1),r=n(s),r&&(r.c(),r.m(e,null)))},d(s){s&&y(e),r.d()}}}function nOe(i){let e=_e.t("general.close","Close")+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p:W,d(n){n&&y(t)}}}function iOe(i){let e,t,n;return t=new Me({props:{primary:!0,clear:!0,$$slots:{default:[nOe]},$$scope:{ctx:i}}}),t.$on("click",i[8]),{c(){e=A("div"),O(t.$$.fragment),h(e,"slot","left")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p(r,s){const l={};s[1]&8192&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function rOe(i){let e,t;return e=new Me({props:{clear:!0,primary:!0,$$slots:{default:[lOe]},$$scope:{ctx:i}}}),e.$on("click",i[23]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[1]&8192&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function sOe(i){let e,t,n,r;const s=[aOe,oOe],l=[];function o(a,u){return a[7]?0:1}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=$e()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?l[e].p(a,u):(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function lOe(i){let e=_e.t("general.edit","Edit")+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p:W,d(n){n&&y(t)}}}function oOe(i){let e,t;return e=new Me({props:{clear:!0,primary:!0,type:"clear",$$slots:{default:[uOe]},$$scope:{ctx:i}}}),e.$on("click",i[22]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[1]&8192&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function aOe(i){let e,t;return e=new Mn({props:{size:24}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function uOe(i){let e;return{c(){e=Z("Done")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function cOe(i){let e,t,n,r;const s=[sOe,rOe],l=[];function o(a,u){return a[0].mode=="edit"?0:a[0].locations.length?1:-1}return~(t=o(i))&&(n=l[t]=s[t](i)),{c(){e=A("div"),n&&n.c(),h(e,"slot","right")},m(a,u){w(a,e,u),~t&&l[t].m(e,null),r=!0},p(a,u){let c=t;t=o(a),t===c?~t&&l[t].p(a,u):(n&&(ie(),v(l[c],1,1,()=>{l[c]=null}),re()),~t?(n=l[t],n?n.p(a,u):(n=l[t]=s[t](a),n.c()),_(n,1),n.m(e,null)):n=null)},i(a){r||(_(n),r=!0)},o(a){v(n),r=!1},d(a){a&&y(e),~t&&l[t].d()}}}function rS(i){let e,t,n;return t=new Ft({props:{solo:!0,className:"my-2  shadow-lg ring-1 ring-gray-500 ring-opacity-25",$$slots:{default:[hOe]},$$scope:{ctx:i}}}),{c(){e=A("div"),O(t.$$.fragment),h(e,"value",1),h(e,"class","absolute left-4 right-4 top-8 z-50")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p(r,s){const l={};s[0]&32|s[1]&8192&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function fOe(i){let e=i[40].name+"",t,n;return{c(){t=Z(e),n=Y()},m(r,s){w(r,t,s),w(r,n,s)},p(r,s){s[0]&32&&e!==(e=r[40].name+"")&&oe(t,e)},d(r){r&&y(t),r&&y(n)}}}function sS(i){let e,t;return e=new je({props:{icon:OP,className:"text-yellow-500"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function dOe(i){let e,t,n,r=i[40].saved&&sS();return{c(){e=A("div"),r&&r.c(),t=Y(),h(e,"slot","left")},m(s,l){w(s,e,l),r&&r.m(e,null),E(e,t),n=!0},p(s,l){s[40].saved?r?(r.p(s,l),l[0]&32&&_(r,1)):(r=sS(),r.c(),_(r,1),r.m(e,t)):r&&(ie(),v(r,1,1,()=>{r=null}),re())},i(s){n||(_(r),n=!0)},o(s){v(r),n=!1},d(s){s&&y(e),r&&r.d()}}}function lS(i){let e,t;function n(){return i[28](i[40])}return e=new xe({props:{bottomLine:24,autofocus:!0,$$slots:{left:[dOe],default:[fOe]},$$scope:{ctx:i}}}),e.$on("click",n),{c(){O(e.$$.fragment)},m(r,s){N(e,r,s),t=!0},p(r,s){i=r;const l={};s[0]&32|s[1]&8192&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){M(e,r)}}}function hOe(i){let e,t,n=i[5],r=[];for(let l=0;l<n.length;l+=1)r[l]=lS(XC(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=$e()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o[0]&262176){n=l[5];let a;for(a=0;a<n.length;a+=1){const u=XC(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=lS(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ie(),a=n.length;a<r.length;a+=1)s(a);re()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){it(r,l),l&&y(e)}}}function mOe(i){var d;let e,t,n,r,s,l,o,a;t=new Jt({props:{className:"w-full stiff",$$slots:{right:[cOe],left:[iOe],default:[tOe]},$$scope:{ctx:i}}});function u(m){i[24](m)}let c={};i[3]!==void 0&&(c.searchTerm=i[3]),s=new iu({props:c}),De.push(()=>Ue(s,"searchTerm",u,i[3])),s.$on("focus",i[25]),s.$on("blur",i[26]),s.$on("change",i[27]);let f=i[5].length&&((d=i[3])==null?void 0:d.length)&&!i[4]&&rS(i);return{c(){e=A("header"),O(t.$$.fragment),n=Y(),r=A("div"),O(s.$$.fragment),o=Y(),f&&f.c(),h(r,"class","searchbar-results relative"),h(e,"slot","header"),h(e,"class","bg-white relative dark:bg-black pb-2 shadow-md z-40")},m(m,p){w(m,e,p),N(t,e,null),E(e,n),E(e,r),N(s,r,null),E(r,o),f&&f.m(r,null),a=!0},p(m,p){var $;const g={};p[0]&129|p[1]&8192&&(g.$$scope={dirty:p,ctx:m}),t.$set(g);const k={};!l&&p[0]&8&&(l=!0,k.searchTerm=m[3],qe(()=>l=!1)),s.$set(k),m[5].length&&(($=m[3])==null?void 0:$.length)&&!m[4]?f?(f.p(m,p),p[0]&56&&_(f,1)):(f=rS(m),f.c(),_(f,1),f.m(r,null)):f&&(ie(),v(f,1,1,()=>{f=null}),re())},i(m){a||(_(t.$$.fragment,m),_(s.$$.fragment,m),_(f),a=!0)},o(m){v(t.$$.fragment,m),v(s.$$.fragment,m),v(f),a=!1},d(m){m&&y(e),M(t),M(s),f&&f.d()}}}function pOe(i){let e,t;return e=new _n({props:{className:"h-full bg-white dark:bg-gray-900 w-full",$$slots:{header:[mOe],default:[KLe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[0]&255|r[1]&8192&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function _Oe(i,e,t){let n,r;Ee(i,Wr,Pe=>t(21,n=Pe)),Ee(i,Xe,Pe=>t(39,r=Pe));let{id:s}=e,{onSelect:l}=e;const o={locations:[],active:null,mode:"view",mapLocation:null,locating:!1};let a=null,u=null,c=!1,f,d=!0,m=[],p=!0;const g=async()=>{Ot(s)};let k,$=!1;function D(Pe){if(clearTimeout(k),o.mode=="edit"){t(7,$=!0);let pe=Pe.detail;k=setTimeout(()=>{Wr.updateSync(Ie=>pe).then(()=>{t(7,$=!1)})},300)}}const F=async Pe=>{t(6,p=!1),t(0,o.mode=Pe,o),await Et(100),t(6,p=!0)};function C(Pe){let pe=Pe.detail;a!==pe.hash&&(a=pe.hash,t(1,u=pe))}async function S(Pe){await Xe.confirm("Remove Location?","You can add it later")&&(t(0,o.mode="view",o),t(6,p=!1),await Wr.remove(Pe),await Et(100),F("edit"))}async function P(){t(0,o.locating=!0,o);try{let Pe=await Od();if(Pe){let pe=new vo({lat:Pe.latitude,lng:Pe.longitude,name:Pe.location});R(pe)}}catch{Xe.error(`${_e.t("location.unable-to-get-your-location","Unable to get your location")}`)}t(0,o.locating=!1,o)}async function I(Pe){let pe=await Xe.prompt("New Name",null,{value:Pe.name});pe&&(Pe.name=pe,Wr.upsert(Pe))}function R(Pe){r.locationFinder.onInteract&&r.locationFinder.onInteract(Pe),l&&l(Pe),g()}async function B(Pe){let pe;if(Pe||u?pe=Pe||u:o.active&&(pe=o.active),pe){if(!pe.name){let Ie=await Xe.prompt("\u{1F4CD} Name this location",null,{value:pe.name});pe.name=Ie}pe.name&&await Wr.upsert(pe)}}const z=async Pe=>{let pe=await _ue(Pe),Ie=n.filter(ye=>JSON.stringify(ye).toLowerCase().search(Pe.toLowerCase())>-1).map(ye=>({name:ye.name,lat:ye.lat,lng:ye.lng,magicKey:null,saved:!0}));t(5,m=[...Ie,...pe])},q=async Pe=>{const pe=await pue(Pe);pe&&!Pe.saved&&await B(pe),R(pe),t(4,d=!0)},H=()=>{F("view")},K=()=>{F("edit")};function G(Pe){f=Pe,t(3,f)}const U=()=>{t(4,d=!1)},Q=()=>{t(4,d=!0)},V=Pe=>{z(Pe.detail)},x=Pe=>{q(Pe)},ee=()=>{B(u)},J=()=>{R(u)},se=()=>{P()},te=()=>{t(2,c=!c)},ge=Pe=>{I(Pe)},ae=(Pe,pe)=>{S(Pe)},ve=Pe=>{o.mode=="view"&&R(Pe)};function Te(Pe){i.$$.not_equal(o.locations,Pe)&&(o.locations=Pe,t(0,o),t(21,n))}return i.$$set=Pe=>{"id"in Pe&&t(19,s=Pe.id),"onSelect"in Pe&&t(20,l=Pe.onSelect)},i.$$.update=()=>{i.$$.dirty[0]&2097152&&t(0,o.locations=n,o)},[o,u,c,f,d,m,p,$,g,D,F,C,S,P,I,R,B,z,q,s,l,n,H,K,G,U,Q,V,x,ee,J,se,te,ge,ae,ve,Te]}class gOe extends ce{constructor(e){super(),ue(this,e,_Oe,pOe,le,{id:19,onSelect:20},null,[-1,-1])}}function vOe(i){let e,t,n,r;return{c(){e=A("input"),h(e,"title","input value"),h(e,"name","value"),h(e,"placeholder",t=i[0].placeholder),h(e,"class","h-10 mt-2 form-control")},m(s,l){w(s,e,l),mn(e,i[0].value),n||(r=[ke(e,"keypress",i[8]),ke(e,"input",i[9])],n=!0)},p(s,l){l&1&&t!==(t=s[0].placeholder)&&h(e,"placeholder",t),l&1&&e.value!==s[0].value&&mn(e,s[0].value)},i:W,o:W,d(s){s&&y(e),n=!1,pt(r)}}}function bOe(i){let e,t,n;function r(l){i[6](l)}let s={opened:!0,calendarPosition:"top"};return i[0].value!==void 0&&(s.date=i[0].value),e=new aM({props:s}),De.push(()=>Ue(e,"date",r,i[0].value)),e.$on("change",i[7]),{c(){O(e.$$.fragment)},m(l,o){N(e,l,o),n=!0},p(l,o){const a={};!t&&o&1&&(t=!0,a.date=l[0].value,qe(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){M(e,l)}}}function kOe(i){let e,t,n,r;return{c(){e=A("input"),h(e,"name","value"),h(e,"pattern","[0-9]*"),h(e,"inputmode","numeric"),h(e,"title","input value "),h(e,"placeholder",t=i[0].placeholder),h(e,"type","number"),h(e,"class","h-10 mt-2 form-control stiff")},m(s,l){w(s,e,l),mn(e,i[0].value),n||(r=[ke(e,"keypress",i[4]),ke(e,"input",i[5]),ke(e,"focus",this.select)],n=!0)},p(s,l){l&1&&t!==(t=s[0].placeholder)&&h(e,"placeholder",t),l&1&&vc(e.value)!==s[0].value&&mn(e,s[0].value)},i:W,o:W,d(s){s&&y(e),n=!1,pt(r)}}}function yOe(i){let e,t,n,r;return{c(){e=A("textarea"),h(e,"name","value"),h(e,"title","input value"),h(e,"placeholder",t=i[0].placeholder),h(e,"class","mt-2 form-control"),nt(e,"min-height","200px")},m(s,l){w(s,e,l),mn(e,i[0].value),n||(r=ke(e,"input",i[3]),n=!0)},p(s,l){l&1&&t!==(t=s[0].placeholder)&&h(e,"placeholder",t),l&1&&mn(e,s[0].value)},i:W,o:W,d(s){s&&y(e),n=!1,r()}}}function wOe(i){let e,t,n,r;const s=[yOe,kOe,bOe,vOe],l=[];function o(a,u){return a[0].valueType=="textarea"?0:a[0].valueType=="number"?1:a[0].valueType=="datetime"?2:3}return t=o(i),n=l[t]=s[t](i),{c(){e=A("div"),n.c(),h(e,"class","px-2 pt-1")},m(a,u){w(a,e,u),l[t].m(e,null),r=!0},p(a,u){let c=t;t=o(a),t===c?l[t].p(a,u):(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),n=l[t],n?n.p(a,u):(n=l[t]=s[t](a),n.c()),_(n,1),n.m(e,null))},i(a){r||(_(n),r=!0)},o(a){v(n),r=!1},d(a){a&&y(e),l[t].d()}}}function $Oe(i){let e,t;return e=new a0({props:{id:i[1],payload:i[0],$$slots:{default:[wOe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&2&&(s.id=n[1]),r&1&&(s.payload=n[0]),r&1027&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function FOe(i,e,t){let{id:n}=e,{payload:r}=e;const s=(m,p)=>{m.charCode===13&&p()};function l(){r.value=this.value,t(0,r)}const o=m=>{s(m,()=>{r.onInteract(r),Ot(n)})};function a(){r.value=vc(this.value),t(0,r)}function u(m){i.$$.not_equal(r.value,m)&&(r.value=m,t(0,r))}const c=m=>{t(0,r.value=m.detail.toDate(),r)},f=m=>{s(m,()=>{r.onInteract(r),Ot(n)})};function d(){r.value=this.value,t(0,r)}return i.$$set=m=>{"id"in m&&t(1,n=m.id),"payload"in m&&t(0,r=m.payload)},[r,n,s,l,o,a,u,c,f,d]}class EOe extends ce{constructor(e){super(),ue(this,e,FOe,$Oe,le,{id:1,payload:0})}}function oS(i){let e,t,n,r,s,l;const o=[COe,DOe],a=[];function u(f,d){return f[0].blocker.percent?1:0}n=u(i),r=a[n]=o[n](i);let c=i[0].blocker.message&&aS(i);return{c(){e=A("div"),t=A("div"),r.c(),s=Y(),c&&c.c(),h(t,"class","w-28 h-28 dark:bg-black border glass dark:border-gray-700 bg-white dark:bg-opacity-80 bg-opacity-60 flex flex-col items-center justify-center space-y-4 p-4 rounded-lg"),nt(e,"min-width","100px"),nt(e,"min-height","100px"),h(e,"class","w-28 h-28")},m(f,d){w(f,e,d),E(e,t),a[n].m(t,null),E(t,s),c&&c.m(t,null),l=!0},p(f,d){let m=n;n=u(f),n===m?a[n].p(f,d):(ie(),v(a[m],1,1,()=>{a[m]=null}),re(),r=a[n],r?r.p(f,d):(r=a[n]=o[n](f),r.c()),_(r,1),r.m(t,s)),f[0].blocker.message?c?c.p(f,d):(c=aS(f),c.c(),c.m(t,null)):c&&(c.d(1),c=null)},i(f){l||(_(r),l=!0)},o(f){v(r),l=!1},d(f){f&&y(e),a[n].d(),c&&c.d()}}}function DOe(i){let e,t,n;return t=new Kr({props:{percentage:i[0].blocker.percent,className:"w-20 h-4 flex-shrink-0 bg-gray-200 dark:bg-gray-800"}}),{c(){e=A("div"),O(t.$$.fragment),h(e,"class","py-2")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p(r,s){const l={};s&1&&(l.percentage=r[0].blocker.percent),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function COe(i){let e,t,n;return t=new Mn({props:{size:32}}),{c(){e=A("div"),O(t.$$.fragment),h(e,"class","flex-shrink-0")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p:W,i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function aS(i){let e,t=(i[0].blocker.message||"")+"",n;return{c(){e=A("div"),n=Z(t),h(e,"class","leading-tight text-center line-clamp-3 text-xs dark:text-white ")},m(r,s){w(r,e,s),E(e,n)},p(r,s){s&1&&t!==(t=(r[0].blocker.message||"")+"")&&oe(n,t)},d(r){r&&y(e)}}}function SOe(i){let e,t,n=i[0].blocker.show&&oS(i);return{c(){n&&n.c(),e=$e()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,[s]){r[0].blocker.show?n?(n.p(r,s),s&1&&_(n,1)):(n=oS(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ie(),v(n,1,1,()=>{n=null}),re())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function TOe(i,e,t){let n;return Ee(i,Xe,r=>t(0,n=r)),[n]}class AOe extends ce{constructor(e){super(),ue(this,e,TOe,SOe,le,{})}}const uS={show:!1,title:null,description:null,buttons:[],divider:!1,component:void 0,componentProps:void 0,buttonView:"list",trackable:void 0,headerRightIcon:void 0,headerRightIconClick:void 0},POe={activeTag:null,date:null,terms:[],focused:null},NOe=()=>{const{update:i,subscribe:e,set:t}=Bt({stats:POe,alert:{show:!1,title:null,message:null,ok:"Ok",cancel:null,onInteract:null},blocker:{show:!1,message:void 0,percent:void 0},confetti:{show:!1,title:void 0,message:void 0,timeout:void 0},trackerInput:{show:!1,tracker:null,onInteract:null,value:null,allowSave:!0},logEditor:{show:!1,log:null,onInteract:null,tag:null,value:null},toast:{show:!1,message:null,detail:null,buttonLabel:void 0,buttonClick:void 0,click:void 0,description:void 0},popmenu:{...uS},locationFinder:{show:!1,onInteract:null,location:null},locationViewer:{show:!1,locations:null},prompt:{show:!1,placeholder:void 0,message:void 0,title:void 0,value:void 0,valueType:void 0,cancel:void 0,onInteract:void 0}}),n={alert(r,s,l){return new Promise(o=>{en({id:`alert-${Fn([r,s,l])}`,component:a0,position:"center",componentProps:{payload:{show:!0,title:r,message:s,cancel:null,ok:l||"Ok",onInteract:o}}})})},confetti(r={}){i(s=>(s.confetti.show=r.show!==!1,r.title&&n.alert(r.title,r.message),r.timeout&&setTimeout(()=>{n.confetti({show:!1,title:void 0,message:void 0,timeout:void 0})},r.timeout),s))},blocker(r,s){en({id:"blocker",position:"center",transparent:!0,component:AOe}),i(l=>(l.blocker.show=!0,l.blocker.message=r,l.blocker.percent=s,l))},stopBlocker(){Ot("blocker"),i(r=>(r.blocker.show=!1,r.blocker.message=void 0,r.blocker.percent=void 0,r))},toggleFocusedEditor(){uu(new Gt({}))},loading(r){let s=()=>{i(l=>(l.toast.show=!1,l.toast.message=null,l.toast.detail=null,l.toast.buttonClick=void 0,l.toast.buttonLabel=void 0,l))};return i(l=>(l.toast.show=!0,l.toast.message=r,l)),s},async trackerInput(r,s={}){},dismissTrackerInput(){i(r=>(r.trackerInput.show=!1,r.trackerInput.tracker=null,r.trackerInput.onInteract=null,r))},focusDate(r){i(s=>(s.stats.focused=r,s))},closeStats(){i(r=>(r.stats.terms=[],r))},async selectDate(r=new Date){return(await Xe.prompt("Date / Time",null,{valueType:"datetime",value:r})).getTime()},logOptions(r,s={}){return r=new Gt(r),r.trackers||r.expanded(),new Promise((l,o)=>{const a={title:`${_e.t("general.delete-this-note","Delete this note...")}`,click:async()=>{if(await Et(300),await n.confirm("Delete this note?","Are you sure? Deleting a log cannot be undone.")){try{await Ut.deleteLogs([r]),un({message:_e.t("general.note-deleted","Note Deleted")})}catch(f){n.error(f.message)}return{action:"deleted"}}else return null},icon:Za,divider:!0};let u=[];n.popmenu({title:we(r.end).fromNow(),description:r.note,id:`log-options-${r._id}`,buttons:[...Rz(r,!1),...u,...rp(y_(r.end)),a]})})},showLocations(r){i(s=>(s.locationViewer.locations=r,s.locationViewer.show=!0,s))},dismissLocations(){i(r=>(r.locationViewer.locations=null,r.locationViewer.show=!1,r))},async error(r){return n.alert(`${_e.t("general.error","Error")}`,r)},confirm(r,s,l,o){return new Promise(a=>{const u=`alert-${Fn([r,s,l])}`;en({id:u,component:a0,position:"center",componentProps:{payload:{title:r,message:s,cancel:o||`${_e.t("general.cancel","Cancel")}`,ok:l||"Ok",onInteract:c=>{c.value===!1?a(!1):a(c.value||!0),Ot(u)}}}})})},reload(){document.location.reload()},closePopMenu(){i(r=>(r.popmenu=uS,r))},popmenu(r){ls(r)},pickLocation(r){return new Promise((s,l)=>{en({id:"pickLocation",component:gOe,componentProps:{location:r,onSelect:o=>{s(o)}}})})},prompt(r,s,l={}){return new Promise((o,a)=>{en({id:`prompt-${Fn([r,s,l])}`,position:"center",component:EOe,componentProps:{payload:{show:!0,message:s,title:r,ok:"Next",value:l.value||null,valueType:l.valueType||"text",cancel:`${_e.t("general.cancel","Cancel")}`,placeholder:l.placeholder||"",onInteract:u=>{u&&o(u.value)}}}})})},dismiss(){i(r=>(r.popmenu.show=!1,r.prompt.show=!1,r.popmenu.component=void 0,r.popmenu.componentProps=void 0,r))}};return window.interact=n,{update:i,subscribe:e,set:t,...n}},Xe=NOe();function cS(i,e,t){const n=i.slice();return n[5]=e[t],n[7]=t,n}function MOe(i){let e,t,n=i[0].newAwards,r=[];for(let s=0;s<n.length;s+=1)r[s]=fS(cS(i,n,s));return{c(){e=A("main"),t=A("div");for(let s=0;s<r.length;s+=1)r[s].c();h(t,"class","grid grid-cols-2 lg:grid-cols-3 gap-2 p-4"),h(e,"class","")},m(s,l){w(s,e,l),E(e,t);for(let o=0;o<r.length;o+=1)r[o].m(t,null)},p(s,l){if(l&1){n=s[0].newAwards;let o;for(o=0;o<n.length;o+=1){const a=cS(s,n,o);r[o]?r[o].p(a,l):(r[o]=fS(a),r[o].c(),r[o].m(t,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(s){s&&y(e),it(r,s)}}}function LOe(i){let e,t,n,r,s,l,o,a=i[0].newAwards[0].name+"",u,c,f=i[0].newAwards[0].reason&&dS(i);return{c(){e=A("main"),t=A("div"),n=A("img"),l=Y(),o=A("div"),u=Z(a),c=Y(),f&&f.c(),h(n,"class","mx-auto w-52"),Xi(n.src,r="/images/awards/"+i[0].newAwards[0].id+".svg")||h(n,"src",r),h(n,"alt",s=i[0].newAwards[0].name),h(o,"class","text-4xl my-4 font-bold w-11/12 mx-auto relative text-gray-400 dark:text-gray-200 text-center leading-tight "),h(t,"class","award-badge text-center w-full"),h(e,"class","h-full flex items-center justify-center")},m(d,m){w(d,e,m),E(e,t),E(t,n),E(t,l),E(t,o),E(o,u),E(o,c),f&&f.m(o,null)},p(d,m){m&1&&!Xi(n.src,r="/images/awards/"+d[0].newAwards[0].id+".svg")&&h(n,"src",r),m&1&&s!==(s=d[0].newAwards[0].name)&&h(n,"alt",s),m&1&&a!==(a=d[0].newAwards[0].name+"")&&oe(u,a),d[0].newAwards[0].reason?f?f.p(d,m):(f=dS(d),f.c(),f.m(o,null)):f&&(f.d(1),f=null)},d(d){d&&y(e),f&&f.d()}}}function fS(i){let e,t,n,r,s,l,o=i[5].name+"",a,u;return{c(){e=A("div"),t=A("img"),s=Y(),l=A("div"),a=Z(o),u=Y(),Xi(t.src,n="/images/awards/"+i[5].id+".svg")||h(t,"src",n),h(t,"alt",r=i[5].name),h(l,"class","text-xs -top-2 w-11/12 mx-auto relative text-gray-400 dark:text-gray-200 rounded-full py-1 text-center line-clamp-1 leading-tight "),h(e,"class","award-badge")},m(c,f){w(c,e,f),E(e,t),E(e,s),E(e,l),E(l,a),E(e,u)},p(c,f){f&1&&!Xi(t.src,n="/images/awards/"+c[5].id+".svg")&&h(t,"src",n),f&1&&r!==(r=c[5].name)&&h(t,"alt",r),f&1&&o!==(o=c[5].name+"")&&oe(a,o)},d(c){c&&y(e)}}}function dS(i){let e,t,n=i[0].newAwards[0].reason+"",r,s,l,o=i[0].newAwards[0].getHash()+"",a;return{c(){e=A("p"),t=Z("Reason: "),r=Z(n),s=Y(),l=A("p"),a=Z(o),h(e,"class","text-gray-500 font-medium text-sm mt-2"),h(l,"class","text-gray-500 font-medium text-xs opacity-60 mt-2")},m(u,c){w(u,e,c),E(e,t),E(e,r),w(u,s,c),w(u,l,c),E(l,a)},p(u,c){c&1&&n!==(n=u[0].newAwards[0].reason+"")&&oe(r,n),c&1&&o!==(o=u[0].newAwards[0].getHash()+"")&&oe(a,o)},d(u){u&&y(e),u&&y(s),u&&y(l)}}}function OOe(i){let e;function t(s,l){return s[1]==1?LOe:MOe}let n=t(i),r=n(i);return{c(){r.c(),e=$e()},m(s,l){r.m(s,l),w(s,e,l)},p(s,l){n===(n=t(s))&&r?r.p(s,l):(r.d(1),r=n(s),r&&(r.c(),r.m(e.parentNode,e)))},d(s){r.d(s),s&&y(e)}}}function IOe(i){let e,t=(i[1]==1?_e.t("awards.new-award","New Award!"):_e.t("awards.new-awards","New Awards!"))+"",n;return{c(){e=A("h1"),n=Z(t),h(e,"class","ntitle")},m(r,s){w(r,e,s),E(e,n)},p(r,s){s&2&&t!==(t=(r[1]==1?_e.t("awards.new-award","New Award!"):_e.t("awards.new-awards","New Awards!"))+"")&&oe(n,t)},d(r){r&&y(e)}}}function BOe(i){let e,t;return e=new je({props:{icon:gl,size:28,className:"text-primary-500"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function zOe(i){let e,t;return e=new Me({props:{slot:"left",type:"icon",$$slots:{default:[BOe]},$$scope:{ctx:i}}}),e.$on("click",i[2]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&256&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function ROe(i){let e,t;return e=new Jt({props:{slot:"header",$$slots:{left:[zOe],default:[IOe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&258&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function jOe(i){let e=_e.t("general.close","Close")+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p:W,d(n){n&&y(t)}}}function YOe(i){let e,t;return e=new Me({props:{id:"accept-award-button",className:"w-full bg-primary-600 text-white font-bold",$$slots:{default:[jOe]},$$scope:{ctx:i}}}),e.$on("click",i[4]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&256&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function UOe(i){let e,t;return e=new Sr({props:{slot:"footer",$$slots:{default:[YOe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&256&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function qOe(i){let e,t;return e=new _n({props:{$$slots:{footer:[UOe],header:[ROe],default:[OOe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&259&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function HOe(i,e,t){let n,r;Ee(i,zr,a=>t(0,r=a));let{id:s}=e;const l=async()=>{await Et(200),zr.update(a=>(a.newAwards=[],a)),Ot(s)},o=async()=>{await QOe(),l()};return i.$$set=a=>{"id"in a&&t(3,s=a.id)},i.$$.update=()=>{i.$$.dirty&1&&t(1,n=r.newAwards.length)},[r,n,l,s,o]}class WOe extends ce{constructor(e){super(),ue(this,e,HOe,qOe,le,{id:3})}}const VOe=(i,e,t="days")=>{var n=e.getTime()-i.getTime(),r=n/(1e3*3600*24);return Math.abs(r)},GOe=i=>K0.filter(t=>!i.chain.chain.find(n=>n.id===t.id)).filter(t=>{var n,r;return((n=t.config)==null?void 0:n.type)==="open-streak"?i.streakDays>=t.config.days:((r=t.config)==null?void 0:r.type)==="usage-length"?i.daysUsing>=t.config.days:!1}).map(t=>new um(t)),ZOe={chain:void 0,ready:!1,saving:!1,awards:[],newAwards:[]},zr=Bt(ZOe);zr.subscribe(i=>{i.newAwards.length&&(Vl("new-awards"),en({id:"new-awards",component:WOe,position:"bottom",componentProps:{}}))});const xOe=async()=>{const i=new iY(Vt.getEngine(),Xn.storage.awards());await i.open(),zr.update(e=>(e.chain=i,e.ready=!0,e.awards=i.chain,e.newAwards=[],e)),await Et(1e3),JOe(i)},XOe=()=>jz().chain,jz=()=>{let i;return zr.update(e=>(i=e,e)),i},KOe=i=>{const e=jz();let n=K0.filter(r=>!e.awards.find(s=>s.id==r.id)).find(r=>r.id===i);!e.chain.getById(i)&&n&&zr.update(r=>{let s=new um(n);return s.reason="Created a tracker",r.newAwards=[s],r})},JOe=async i=>{const e=(await Ut.getFirstDate(!1)).toDate(),t=we(new Date),n={lastOpened:t.startOf("day").toDate(),streak:0},r=await Vt.get("open-streak.json")||n,s=Math.floor(VOe(e,new Date)),l=we(r.lastOpened).startOf("day"),o=t.startOf("day"),a=Math.abs(l.diff(o,"hours"));a==24?r.streak=r.streak+1:a>24&&(r.streak=0),r.lastOpened=new Date,zr.update(u=>{const c=GOe({existingAwards:u.awards,chain:i,streakDays:r.streak,daysUsing:s});return u.newAwards=c,u}),Vt.put("open-streak.json",r)},QOe=async()=>{let i=[],e;Xe.blocker("Saving..."),zr.update(n=>(n.saving=!0,i=n.newAwards,e=n.chain,n));let t=[];for(let n=0;n<i.length;n++)await e.add(i[n]).then(()=>{t.push(i[n])});Xe.stopBlocker(),await Et(200),zr.update(n=>(n.saving=!1,n.chain=e,n.awards=e.chain,n.newAwards=[],n))};function hS(i,e,t){const n=i.slice();return n[11]=e[t],n[13]=t,n}function mS(i){let e,t,n;return t=new je({props:{className:"text-gray-800 dark:text-gray-200",icon:fp}}),{c(){e=A("div"),O(t.$$.fragment)},m(r,s){w(r,e,s),N(t,e,null),n=!0},p:W,i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function pS(i){let e,t=i[11].description+"",n,r;return{c(){e=A("p"),n=Z(t),h(e,"class",r=(i[1]=="sm"?"text-xs":"text-sm")+" description")},m(s,l){w(s,e,l),E(e,n)},p(s,l){l&1&&t!==(t=s[11].description+"")&&oe(n,t),l&2&&r!==(r=(s[1]=="sm"?"text-xs":"text-sm")+" description")&&h(e,"class",r)},d(s){s&&y(e)}}}function eIe(i){let e,t;return e=new Si({props:{emoji:i[11].emoji,size:32}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.emoji=n[11].emoji),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function tIe(i){let e,t;return e=new je({props:{icon:i[11].icon,className:"text-black dark:text-white",size:i[5]}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.icon=n[11].icon),r&32&&(s.size=n[5]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function _S(i,e){let t,n,r,s,l=e[11].title+"",o,a,u,c,f,d,m,p,g,k,$,D,F,C,S,P=e[11].checked&&mS(),I=e[11].description&&pS(e);const R=[tIe,eIe],B=[];function z(K,G){return K[11].icon?0:K[11].emoji?1:-1}~(d=z(e))&&(m=B[d]=R[d](e));function q(...K){return e[9](e[11],...K)}function H(){return e[10](e[11])}return{key:i,first:null,c(){t=A("button"),P&&P.c(),n=Y(),r=A("main"),s=A("h1"),o=Z(l),u=Y(),I&&I.c(),c=Y(),f=A("div"),m&&m.c(),p=Y(),h(s,"class",a=(e[11].title.length>25||e[1]=="sm"?"text-sm":"text-lg")+" leading-tight title"),h(r,"class","flex-fill w-full transition-all"),h(f,"class","flex items-center"),h(t,"role","menuitem"),h(t,"data-award-required",g=e[11].awardRequired),h(t,"aria-label",k=e[11].title),t.disabled=$=e[11].disabled,h(t,"class",D="pop-button "+(e[11].checked?"active":"")+" bg-white dark:bg-black bg-opacity-80 dark:bg-opacity-80 nbtn-left pop-button-"+e[13]+" "+(e[11].awardRequired?e[6].awards.find(q)?"unlocked":"locked":"")+" "+(e[11].description?"nbtn-desc":"")),this.first=t},m(K,G){w(K,t,G),P&&P.m(t,null),E(t,n),E(t,r),E(r,s),E(s,o),E(r,u),I&&I.m(r,null),E(t,c),E(t,f),~d&&B[d].m(f,null),E(t,p),F=!0,C||(S=ke(t,"click",H),C=!0)},p(K,G){e=K,e[11].checked?P?(P.p(e,G),G&1&&_(P,1)):(P=mS(),P.c(),_(P,1),P.m(t,n)):P&&(ie(),v(P,1,1,()=>{P=null}),re()),(!F||G&1)&&l!==(l=e[11].title+"")&&oe(o,l),(!F||G&3&&a!==(a=(e[11].title.length>25||e[1]=="sm"?"text-sm":"text-lg")+" leading-tight title"))&&h(s,"class",a),e[11].description?I?I.p(e,G):(I=pS(e),I.c(),I.m(r,null)):I&&(I.d(1),I=null);let U=d;d=z(e),d===U?~d&&B[d].p(e,G):(m&&(ie(),v(B[U],1,1,()=>{B[U]=null}),re()),~d?(m=B[d],m?m.p(e,G):(m=B[d]=R[d](e),m.c()),_(m,1),m.m(f,null)):m=null),(!F||G&1&&g!==(g=e[11].awardRequired))&&h(t,"data-award-required",g),(!F||G&1&&k!==(k=e[11].title))&&h(t,"aria-label",k),(!F||G&1&&$!==($=e[11].disabled))&&(t.disabled=$),(!F||G&65&&D!==(D="pop-button "+(e[11].checked?"active":"")+" bg-white dark:bg-black bg-opacity-80 dark:bg-opacity-80 nbtn-left pop-button-"+e[13]+" "+(e[11].awardRequired?e[6].awards.find(q)?"unlocked":"locked":"")+" "+(e[11].description?"nbtn-desc":"")))&&h(t,"class",D)},i(K){F||(_(P),_(m),F=!0)},o(K){v(P),v(m),F=!1},d(K){K&&y(t),P&&P.d(),I&&I.d(),~d&&B[d].d(),C=!1,S()}}}function nIe(i){let e,t=[],n=new Map,r,s,l=i[0];const o=a=>a[13];for(let a=0;a<l.length;a+=1){let u=hS(i,l,a),c=o(u);n.set(c,t[a]=_S(c,u))}return{c(){e=A("div");for(let a=0;a<t.length;a+=1)t[a].c();h(e,"role","menu"),h(e,"id",i[4]),h(e,"class",r="n-menu size-"+i[1]+" "+i[2]),h(e,"style",i[3])},m(a,u){w(a,e,u);for(let c=0;c<t.length;c+=1)t[c].m(e,null);s=!0},p(a,[u]){u&227&&(l=a[0],ie(),t=qn(t,u,o,1,a,l,n,e,Ci,_S,null,hS),re()),(!s||u&16)&&h(e,"id",a[4]),(!s||u&6&&r!==(r="n-menu size-"+a[1]+" "+a[2]))&&h(e,"class",r),(!s||u&8)&&h(e,"style",a[3])},i(a){if(!s){for(let u=0;u<l.length;u+=1)_(t[u]);s=!0}},o(a){for(let u=0;u<t.length;u+=1)v(t[u]);s=!1},d(a){a&&y(e);for(let u=0;u<t.length;u+=1)t[u].d()}}}function iIe(i,e,t){let n;Ee(i,zr,p=>t(6,n=p));let{buttons:r=[]}=e,{size:s="lg"}=e,{className:l=""}=e,{style:o=""}=e,{id:a=""}=e;const u=Dt();let c=[],f=24;const d=(p,g)=>g.id==p.awardRequired,m=async p=>{await Et(200),p.click(),u("click",p)};return i.$$set=p=>{"buttons"in p&&t(0,r=p.buttons),"size"in p&&t(1,s=p.size),"className"in p&&t(2,l=p.className),"style"in p&&t(3,o=p.style),"id"in p&&t(4,a=p.id)},i.$$.update=()=>{if(i.$$.dirty&257&&r){t(8,c=[[]]);let p=c.length-1;r.forEach(g=>{g.divider&&(c.push([]),p=c.length-1),c[p].push(g)})}i.$$.dirty&2&&s&&(s=="xs"?t(5,f=14):s=="sm"?t(5,f=18):s=="md"?t(5,f=22):s=="lg"?t(5,f=26):s=="xl"&&t(5,f=32))},[r,s,l,o,a,f,n,u,c,d,m]}class Zb extends ce{constructor(e){super(),ue(this,e,iIe,nIe,le,{buttons:0,size:1,className:2,style:3,id:4})}}function rIe(i){return i instanceof Element?i:window.document.body}function gS(i){if(i){const e=rIe(i),t=e.getBoundingClientRect();return{x:t.x,y:t.y,height:t.height,width:t.width,top:Math.abs(t.top),topP:(Math.abs(t.top)-window.innerHeight)/Math.abs(t.top),left:t.left,leftP:(Math.abs(t.left)-window.innerWidth)/Math.abs(t.left),element:e,dir:t.x>t.y?"x":"y"}}else return{x:0,y:0,height:0,width:0,top:0,topP:0,left:0,leftP:0,element:void 0,dir:void 0}}function vS(i){let e,t,n,r,s;return t=new Zb({props:{id:"dropdown-store-menu",className:"dropmenu shadow-2xl rounded-xl "+(i[5]?"open":"closed")+" "+(i[6]?"opacity-100":"opacity-0"),style:(i[1]?`top:${i[1]}px`:`bottom:${i[2]}px`)+"; "+(i[4]?`right:${i[4]}px;`:`left:${i[3]}px;`),size:"md",buttons:i[0].buttons}}),t.$on("click",i[8]),{c(){e=A("div"),O(t.$$.fragment),h(e,"class","drop-menu-background cursor-pointer "),h(e,"id","drop-menu")},m(l,o){w(l,e,o),N(t,e,null),n=!0,r||(s=ke(e,"click",fP(i[9])),r=!0)},p(l,o){const a={};o&96&&(a.className="dropmenu shadow-2xl rounded-xl "+(l[5]?"open":"closed")+" "+(l[6]?"opacity-100":"opacity-0")),o&30&&(a.style=(l[1]?`top:${l[1]}px`:`bottom:${l[2]}px`)+"; "+(l[4]?`right:${l[4]}px;`:`left:${l[3]}px;`)),o&1&&(a.buttons=l[0].buttons),t.$set(a)},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){v(t.$$.fragment,l),n=!1},d(l){l&&y(e),M(t),r=!1,s()}}}function sIe(i){let e,t,n=i[0].visible&&vS(i);return{c(){n&&n.c(),e=$e()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,[s]){r[0].visible?n?(n.p(r,s),s&1&&_(n,1)):(n=vS(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ie(),v(n,1,1,()=>{n=null}),re())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function lIe(i,e,t){let n;Ee(i,e1,g=>t(0,n=g));let r,s,l,o,a,u=!1,c=!1;async function f(){if(t(5,u=!1),r){const g=gS(r);let k=250;t(5,u=!0);let $=gS(document.getElementById("dropdown-store-menu"));$&&g&&(t(1,s=Math.abs(g.y+g.height)+10),t(3,o=Math.abs(g.x)),await Et(40),s+($.height||200)>window.innerHeight&&(t(1,s=void 0),t(2,l=10)),o+k>window.innerWidth?t(4,a=10):o<0&&t(3,o=10),t(6,c=!0))}}const d=async()=>{t(5,u=!1),t(6,c=!1),await Et(200),e1.close()},m=()=>{d()},p=()=>{Et(200).then(()=>{d()})};return i.$$.update=()=>{i.$$.dirty&1&&(r=n.caller),i.$$.dirty&1&&n.visible&&(t(3,o=void 0),t(4,a=void 0),setTimeout(()=>{f()},10))},[n,s,l,o,a,u,c,d,m,p]}class oIe extends ce{constructor(e){super(),ue(this,e,lIe,sIe,le,{})}}function bS(i){return{c:W,m:W,d:W}}function aIe(i){let e,t=i[0].logEditor.show&&bS();return{c(){t&&t.c(),e=$e()},m(n,r){t&&t.m(n,r),w(n,e,r)},p(n,[r]){n[0].logEditor.show?t||(t=bS(),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:W,o:W,d(n){t&&t.d(n),n&&y(e)}}}function uIe(i,e,t){let n;return Ee(i,Xe,r=>t(0,n=r)),[n]}class cIe extends ce{constructor(e){super(),ue(this,e,uIe,aIe,le,{})}}function fIe(i){let e,t;return{c(){e=A("div"),h(e,"class",t="dot z-20 inline-flex rounded-full "+i[1]),nt(e,"width",i[0]+"px"),nt(e,"height",i[0]+"px")},m(n,r){w(n,e,r)},p(n,[r]){r&2&&t!==(t="dot z-20 inline-flex rounded-full "+n[1])&&h(e,"class",t),r&1&&nt(e,"width",n[0]+"px"),r&1&&nt(e,"height",n[0]+"px")},i:W,o:W,d(n){n&&y(e)}}}function dIe(i,e,t){let{size:n=10}=e,{className:r=""}=e;return i.$$set=s=>{"size"in s&&t(0,n=s.size),"className"in s&&t(1,r=s.className)},[n,r]}class Yz extends ce{constructor(e){super(),ue(this,e,dIe,fIe,le,{size:0,className:1})}}function kS(i){let e,t;return{c(){e=A("div"),t=Z(i[4]),h(e,"class","notify")},m(n,r){w(n,e,r),E(e,t)},p(n,r){r&16&&oe(t,n[4])},d(n){n&&y(e)}}}function hIe(i){let e,t,n,r,s,l=i[4]&&kS(i);const o=i[5].default,a=He(o,i,i[6],null);return{c(){l&&l.c(),e=Y(),a&&a.c(),t=Y(),n=A("div"),r=Z(i[0]),h(n,"class","label whitespace-nowrap")},m(u,c){l&&l.m(u,c),w(u,e,c),a&&a.m(u,c),w(u,t,c),w(u,n,c),E(n,r),s=!0},p(u,c){u[4]?l?l.p(u,c):(l=kS(u),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),a&&a.p&&(!s||c&64)&&Ve(a,o,u,u[6],s?We(o,u[6],c,null):Ge(u[6]),null),(!s||c&1)&&oe(r,u[0])},i(u){s||(_(a,u),s=!0)},o(u){v(a,u),s=!1},d(u){l&&l.d(u),u&&y(e),a&&a.d(u),u&&y(t),u&&y(n)}}}function mIe(i){let e,t;return e=new Ode({props:{to:i[2],$$slots:{default:[hIe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&4&&(s.to=n[2]),r&81&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function pIe(i){let e,t;return e=new Me({props:{className:"tab-wrap tab-"+i[1]+" "+i[3],ariaLabel:i[0],$$slots:{default:[mIe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&10&&(s.className="tab-wrap tab-"+n[1]+" "+n[3]),r&1&&(s.ariaLabel=n[0]),r&85&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function _Ie(i,e,t){let{$$slots:n={},$$scope:r}=e,{label:s}=e,{id:l}=e,{link:o}=e,{className:a=""}=e,{notify:u=!1}=e;return i.$$set=c=>{"label"in c&&t(0,s=c.label),"id"in c&&t(1,l=c.id),"link"in c&&t(2,o=c.link),"className"in c&&t(3,a=c.className),"notify"in c&&t(4,u=c.notify),"$$scope"in c&&t(6,r=c.$$scope)},[s,l,o,a,u,n,r]}class Df extends ce{constructor(e){super(),ue(this,e,_Ie,pIe,le,{label:0,id:1,link:2,className:3,notify:4})}}function yS(i){let e,t,n;return t=new Vn({props:{size:"sm",$$slots:{default:[wIe]},$$scope:{ctx:i}}}),{c(){e=A("nav"),O(t.$$.fragment),h(e,"id","app-tabs"),h(e,"class",i[0])},m(r,s){w(r,e,s),N(t,e,null),n=!0},p(r,s){const l={};s&308&&(l.$$scope={dirty:s,ctx:r}),t.$set(l),(!n||s&1)&&h(e,"class",r[0])},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function gIe(i){let e,t,n,r;return e=new je({props:{className:"inactive",icon:Ga}}),n=new je({props:{className:"active",icon:oH}}),{c(){O(e.$$.fragment),t=Y(),O(n.$$.fragment)},m(s,l){N(e,s,l),w(s,t,l),N(n,s,l),r=!0},p:W,i(s){r||(_(e.$$.fragment,s),_(n.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(n.$$.fragment,s),r=!1},d(s){M(e,s),s&&y(t),M(n,s)}}}function vIe(i){let e,t,n,r;return e=new je({props:{className:"inactive",icon:sH}}),n=new je({props:{className:"active",icon:lH}}),{c(){O(e.$$.fragment),t=Y(),O(n.$$.fragment)},m(s,l){N(e,s,l),w(s,t,l),N(n,s,l),r=!0},p:W,i(s){r||(_(e.$$.fragment,s),_(n.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(n.$$.fragment,s),r=!1},d(s){M(e,s),s&&y(t),M(n,s)}}}function wS(i){let e,t;return e=new Yz({props:{size:8,className:"absolute animate-pulse top-1 bg-red-500 ml-2"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function bIe(i){let e,t,n,r,s,l;e=new je({props:{className:"inactive",icon:qP}}),n=new je({props:{className:"active",icon:rH}});let o=i[4].length&&wS();return{c(){O(e.$$.fragment),t=Y(),O(n.$$.fragment),r=Y(),o&&o.c(),s=$e()},m(a,u){N(e,a,u),w(a,t,u),N(n,a,u),w(a,r,u),o&&o.m(a,u),w(a,s,u),l=!0},p(a,u){a[4].length?o?u&16&&_(o,1):(o=wS(),o.c(),_(o,1),o.m(s.parentNode,s)):o&&(ie(),v(o,1,1,()=>{o=null}),re())},i(a){l||(_(e.$$.fragment,a),_(n.$$.fragment,a),_(o),l=!0)},o(a){v(e.$$.fragment,a),v(n.$$.fragment,a),v(o),l=!1},d(a){M(e,a),a&&y(t),M(n,a),a&&y(r),o&&o.d(a),a&&y(s)}}}function kIe(i){let e,t,n,r;return e=new je({props:{className:"inactive",icon:HP}}),n=new je({props:{className:"active",icon:hH}}),{c(){O(e.$$.fragment),t=Y(),O(n.$$.fragment)},m(s,l){N(e,s,l),w(s,t,l),N(n,s,l),r=!0},p:W,i(s){r||(_(e.$$.fragment,s),_(n.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(n.$$.fragment,s),r=!1},d(s){M(e,s),s&&y(t),M(n,s)}}}function $S(i){let e,t;return e=new Df({props:{id:"goals",className:i[2]=="goals"?"start-page":"",link:"/goals",label:_e.t("tabs.goals"," Goals"),notify:i[5].join("/")!=="0/0"?i[5].join("/"):void 0,$$slots:{default:[kIe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&4&&(s.className=n[2]=="goals"?"start-page":""),r&32&&(s.notify=n[5].join("/")!=="0/0"?n[5].join("/"):void 0),r&256&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function yIe(i){let e,t,n,r;return e=new je({props:{className:"inactive",icon:Xu}}),n=new je({props:{className:"active",icon:Xu}}),{c(){O(e.$$.fragment),t=Y(),O(n.$$.fragment)},m(s,l){N(e,s,l),w(s,t,l),N(n,s,l),r=!0},p:W,i(s){r||(_(e.$$.fragment,s),_(n.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(n.$$.fragment,s),r=!1},d(s){M(e,s),s&&y(t),M(n,s)}}}function wIe(i){let e,t,n,r,s,l,o,a=i[5],u,c,f;t=new Df({props:{id:"timeline",className:i[2]=="timeline"?"start-page":"",link:"/timeline",label:_e.t("tabs.timeline","Timeline"),$$slots:{default:[gIe]},$$scope:{ctx:i}}}),r=new Df({props:{id:"dashboard",className:i[2]=="dashboard"?"start-page":"",link:Xn.routes.dashboard(),label:_e.t("tabs.dashboard","Dash"),$$slots:{default:[vIe]},$$scope:{ctx:i}}}),l=new Df({props:{id:"track",className:i[2]=="track"?"start-page":"",link:"/track",label:_e.t("tabs.track","Track"),$$slots:{default:[bIe]},$$scope:{ctx:i}}});let d=$S(i);return c=new Df({props:{id:"settings",link:Xn.routes.settings(),label:_e.t("general.more","More"),$$slots:{default:[yIe]},$$scope:{ctx:i}}}),{c(){e=A("div"),O(t.$$.fragment),n=Y(),O(r.$$.fragment),s=Y(),O(l.$$.fragment),o=Y(),d.c(),u=Y(),O(c.$$.fragment),h(e,"class","flex items-center w-full justify-items-stretch")},m(m,p){w(m,e,p),N(t,e,null),E(e,n),N(r,e,null),E(e,s),N(l,e,null),E(e,o),d.m(e,null),E(e,u),N(c,e,null),f=!0},p(m,p){const g={};p&4&&(g.className=m[2]=="timeline"?"start-page":""),p&256&&(g.$$scope={dirty:p,ctx:m}),t.$set(g);const k={};p&4&&(k.className=m[2]=="dashboard"?"start-page":""),p&256&&(k.$$scope={dirty:p,ctx:m}),r.$set(k);const $={};p&4&&($.className=m[2]=="track"?"start-page":""),p&272&&($.$$scope={dirty:p,ctx:m}),l.$set($),p&32&&le(a,a=m[5])?(ie(),v(d,1,1,W),re(),d=$S(m),d.c(),_(d,1),d.m(e,u)):d.p(m,p);const D={};p&256&&(D.$$scope={dirty:p,ctx:m}),c.$set(D)},i(m){f||(_(t.$$.fragment,m),_(r.$$.fragment,m),_(l.$$.fragment,m),_(d),_(c.$$.fragment,m),f=!0)},o(m){v(t.$$.fragment,m),v(r.$$.fragment,m),v(l.$$.fragment,m),v(d),v(c.$$.fragment,m),f=!1},d(m){m&&y(e),M(t),M(r),M(l),d.d(m),M(c)}}}function $Ie(i){let e,t,n=i[1].mounted&&i[3].width<900&&yS(i);return{c(){n&&n.c(),e=$e()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,[s]){r[1].mounted&&r[3].width<900?n?(n.p(r,s),s&10&&_(n,1)):(n=yS(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ie(),v(n,1,1,()=>{n=null}),re())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function FIe(i,e,t){let n,r,s,l;Ee(i,St,f=>t(7,n=f)),Ee(i,Hn,f=>t(3,r=f)),Ee(i,Up,f=>t(4,s=f)),Ee(i,n_,f=>t(5,l=f));let{className:o=""}=e;const a={mounted:!1};let u="/",c;return wt(()=>{t(1,a.mounted=!0,a)}),i.$$set=f=>{"className"in f&&t(0,o=f.className)},i.$$.update=()=>{if(i.$$.dirty&198&&a.mounted&&(t(6,u=document.location.pathname),u==="/"&&n.startPage==="track"?t(2,c="track"):u==="/"&&n.startPage==="dashboard"?t(2,c="dashboard"):u==="/"&&n.startPage==="goals"?t(2,c="goals"):u==="/"&&n.startPage==="timeline"?t(2,c="timeline"):u==="/"&&n.startPage==="history"&&t(2,c="history"),c))try{setTimeout(()=>{document.querySelector(`.tab-${c} a`).setAttribute("aria-current","page")},500)}catch(f){console.error(f)}},[o,a,c,r,s,l,u,n]}class EIe extends ce{constructor(e){super(),ue(this,e,FIe,$Ie,le,{className:0})}}const Uz=Nn(localStorage.getItem("launchCount")||"1"),qz=Bt(Uz),DIe=()=>{localStorage.setItem("launchCount",`${Uz+1}`)},Hz="last-backup-date",xb=Bt(localStorage.getItem(Hz));xb.subscribe(i=>{localStorage.setItem(Hz,i)});const CIe=cr(xb,i=>i?we().diff(new Date(i),"day"):9e3),Wz=async()=>{xb.update(i=>new Date().toJSON())},Xb=async()=>await Xe.confirm(`${_e.t("settings.export-title","Generate a Backup")}`,`${_e.t("settings.export-confirm","This might take a while if you have a lot of data.")}`)?(await x4e(),Wz(),!0):!1;function FS(i){let e,t,n,r,s,l,o,a;function u(d,m){return d[1]>1e3?TIe:SIe}let c=u(i),f=c(i);return{c(){e=A("div"),t=A("button"),f.c(),n=Y(),r=A("div"),r.textContent=`${_e.t("general.download-backup","Download Backup")}`,s=Z(`
    or
    `),l=A("button"),l.textContent="Skip",h(r,"class","ml-2 font-bold"),h(t,"aria-label","Backup your data"),h(t,"class","flex items-center mr-2 text-xs py-1 text-center rounded-full backup"),h(l,"class","ml-2 font-bold"),h(e,"class","flex text-xs space-x-1 items-center justify-center container-sm bg-red-500 text-white")},m(d,m){w(d,e,m),E(e,t),f.m(t,null),E(t,n),E(t,r),E(e,s),E(e,l),o||(a=[ke(t,"click",Xb),ke(l,"click",i[7])],o=!0)},p(d,m){c===(c=u(d))&&f?f.p(d,m):(f.d(1),f=c(d),f&&(f.c(),f.m(t,n)))},d(d){d&&y(e),f.d(),o=!1,pt(a)}}}function SIe(i){let e,t,n;return{c(){e=A("div"),t=Z(i[1]),n=Z(" days since last backup"),h(e,"class","text-red-200")},m(r,s){w(r,e,s),E(e,t),E(e,n)},p(r,s){s&2&&oe(t,r[1])},d(r){r&&y(e)}}}function TIe(i){let e;return{c(){e=A("div"),e.textContent=`${_e.t("general.no-known-backups","No recent backups")}`,h(e,"class","text-red-200")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function AIe(i){let e,t=i[0]&&i[2]===!0&&FS(i);return{c(){t&&t.c(),e=$e()},m(n,r){t&&t.m(n,r),w(n,e,r)},p(n,[r]){n[0]&&n[2]===!0?t?t.p(n,r):(t=FS(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:W,o:W,d(n){t&&t.d(n),n&&y(e)}}}function PIe(i,e,t){let n,r,s;Ee(i,St,f=>t(4,n=f)),Ee(i,qz,f=>t(5,r=f)),Ee(i,CIe,f=>t(6,s=f));let l=!1,o=!1,a=n.backupDays,u=0;wt(()=>{setTimeout(()=>{t(0,o=!0)},4e3)});const c=()=>{Wz()};return i.$$.update=()=>{i.$$.dirty&64&&(isNaN(s)?t(1,u=1001):t(1,u=s)),i.$$.dirty&59&&(t(3,a=n.backupDays),o&&u&&a>-1&&r>5&&u>=a&&!n.hideBackupMessage?t(2,l=!0):t(2,l=!1))},[o,u,l,a,n,r,s,c]}class NIe extends ce{constructor(e){super(),ue(this,e,PIe,AIe,le,{})}}function MIe(i){let e,t,n,r,s,l;return{c(){e=me("svg"),t=me("title"),n=Z("Bulb"),r=me("path"),h(r,"d","M288 464h-64a16 16 0 000 32h64a16 16 0 000-32zM304 416h-96a16 16 0 000 32h96a16 16 0 000-32zM369.42 62.69C339.35 32.58 299.07 16 256 16A159.62 159.62 0 0096 176c0 46.62 17.87 90.23 49 119.64l4.36 4.09C167.37 316.57 192 339.64 192 360v24a16 16 0 0016 16h24a8 8 0 008-8V274.82a8 8 0 00-5.13-7.47A130.73 130.73 0 01208.71 253a16 16 0 1118.58-26c7.4 5.24 21.65 13 28.71 13s21.31-7.78 28.73-13a16 16 0 0118.56 26 130.73 130.73 0 01-26.16 14.32 8 8 0 00-5.13 7.47V392a8 8 0 008 8h24a16 16 0 0016-16v-24c0-19.88 24.36-42.93 42.15-59.77l4.91-4.66C399.08 265 416 223.61 416 176a159.16 159.16 0 00-46.58-113.31z"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),E(e,t),E(t,n),E(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:W,o:W,d(o){o&&y(e)}}}function LIe(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class OIe extends ce{constructor(e){super(),ue(this,e,LIe,MIe,le,{size:0})}}function ES(i,e,t){const n=i.slice();return n[9]=e[t],n[11]=t,n}function DS(i){let e,t=i[9].format("MMM")+"",n,r,s=i[9].format("D")+"",l,o,a,u,c;function f(){return i[6](i[9],i[11])}return{c(){e=A("button"),n=Z(t),r=Y(),l=Z(s),o=Y(),h(e,"class",a="snap-end "+(i[0]==i[11]?"selected active bg-primary-500 my-1 px-2 text-white font-bold ":" text-primary-500")+" text-xs p-1 stiff rounded-full")},m(d,m){w(d,e,m),E(e,n),E(e,r),E(e,l),E(e,o),u||(c=ke(e,"click",f),u=!0)},p(d,m){i=d,m&1&&a!==(a="snap-end "+(i[0]==i[11]?"selected active bg-primary-500 my-1 px-2 text-white font-bold ":" text-primary-500")+" text-xs p-1 stiff rounded-full")&&h(e,"class",a)},d(d){d&&y(e),u=!1,c()}}}function IIe(i){let e,t=i[1],n=[];for(let r=0;r<t.length;r+=1)n[r]=DS(ES(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=$e()},m(r,s){for(let l=0;l<n.length;l+=1)n[l].m(r,s);w(r,e,s)},p(r,s){if(s&7){t=r[1];let l;for(l=0;l<t.length;l+=1){const o=ES(r,t,l);n[l]?n[l].p(o,s):(n[l]=DS(o),n[l].c(),n[l].m(e.parentNode,e))}for(;l<n.length;l+=1)n[l].d(1);n.length=t.length}},d(r){it(n,r),r&&y(e)}}}function BIe(i){let e,t,n,r;return n=new Oc({props:{activeIndex:i[0],wrapperClass:"space-x-2 pr-1 snap-scroll-x",className:"mr-2",$$slots:{default:[IIe]},$$scope:{ctx:i}}}),{c(){e=A("section"),t=A("div"),O(n.$$.fragment),h(t,"class","filler"),h(e,"aria-label","date-time-setting"),h(e,"class","flex items-center justify-items-stretch")},m(s,l){w(s,e,l),E(e,t),N(n,t,null),r=!0},p(s,[l]){const o={};l&1&&(o.activeIndex=s[0]),l&4097&&(o.$$scope={dirty:l,ctx:s}),n.$set(o)},i(s){r||(_(n.$$.fragment,s),r=!0)},o(s){v(n.$$.fragment,s),r=!1},d(s){s&&y(e),M(n)}}}function zIe(i,e,t){let n,r,s;Ee(i,tl,d=>t(5,s=d));let{time:l=new Date().getTime()}=e,{is24Hour:o=!1}=e;const a=Dt(),u=Array(30).fill(0).map((d,m)=>we(new Date).subtract(m,"day")).reverse(),c=(d,m)=>{t(0,r=m);const p=d.hour(n.hour()).minute(n.minute()).toDate();a("change",p)},f=(d,m)=>{c(d,m)};return i.$$set=d=>{"time"in d&&t(3,l=d.time),"is24Hour"in d&&t(4,o=d.is24Hour)},i.$$.update=()=>{i.$$.dirty&8&&(n=we(new Date(l))),i.$$.dirty&32&&t(0,r=u.findIndex(d=>d.format("YYYY-MM-DD")===s.date.format("YYYY-MM-DD")))},[r,u,c,l,o,s,f]}class RIe extends ce{constructor(e){super(),ue(this,e,zIe,BIe,le,{time:3,is24Hour:4})}}function CS(i,e,t){const n=i.slice();return n[31]=e[t],n}function SS(i,e,t){const n=i.slice();return n[31]=e[t],n}function TS(i){let e,t,n;return t=new Ft({props:{solo:!0,$$slots:{default:[HIe]},$$scope:{ctx:i}}}),{c(){e=A("div"),O(t.$$.fragment),h(e,"class","p-4 lg:rounded-2xl absolute z-10 top-0 right-0 left-0 bottom-0 bg-black bg-opacity-30 backdrop-filter backdrop-blur-sm")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p(r,s){const l={};s[0]&20|s[1]&32&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function jIe(i){let e;return{c(){e=A("h1"),e.textContent="Create a Writing Prompt",h(e,"class","font-bold text-lg")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function YIe(i){let e,t,n,r,s,l,o;return{c(){e=A("option"),e.textContent="Anytime",t=Y(),n=A("option"),n.textContent="Morning",r=Y(),s=A("option"),s.textContent="Afternoon",l=Y(),o=A("option"),o.textContent="Evening",e.__value="any",e.value=e.__value,n.__value="morning",n.value=n.__value,s.__value="afternoon",s.value=s.__value,o.__value="evening",o.value=o.__value},m(a,u){w(a,e,u),w(a,t,u),w(a,n,u),w(a,r,u),w(a,s,u),w(a,l,u),w(a,o,u)},p:W,d(a){a&&y(e),a&&y(t),a&&y(n),a&&y(r),a&&y(s),a&&y(l),a&&y(o)}}}function UIe(i){let e;return{c(){e=A("div"),e.textContent="Save Prompt",h(e,"class","w-full text-center text-primary-500")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function qIe(i){let e;return{c(){e=A("div"),e.textContent="Cancel",h(e,"class","w-full text-center text-red-500")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function HIe(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p,g,k;e=new xe({props:{$$slots:{default:[jIe]},$$scope:{ctx:i}}});function $(S){i[19](S)}let D={type:"select",listItem:!0,label:"Time frame",$$slots:{default:[YIe]},$$scope:{ctx:i}};i[2].time!==void 0&&(D.value=i[2].time),n=new fn({props:D}),De.push(()=>Ue(n,"value",$,i[2].time)),l=new Tn({props:{left:16}});function F(S){i[20](S)}let C={class:"bg-white dark:bg-gray-900 text-black dark:text-white px-4 py-1 w-full focus:outline-none ring-inset focus:ring ring-primary-500 ring-opacity-20",placeholder:"Writing Prompt"};return i[2].text!==void 0&&(C.value=i[2].text),a=new Pz({props:C}),De.push(()=>Ue(a,"value",F,i[2].text)),f=new Tn({props:{left:16}}),m=new xe({props:{clickable:!0,disabled:!i[4],$$slots:{default:[UIe]},$$scope:{ctx:i}}}),m.$on("click",i[21]),g=new xe({props:{clickable:!0,$$slots:{default:[qIe]},$$scope:{ctx:i}}}),g.$on("click",i[22]),{c(){O(e.$$.fragment),t=Y(),O(n.$$.fragment),s=Y(),O(l.$$.fragment),o=Y(),O(a.$$.fragment),c=Y(),O(f.$$.fragment),d=Y(),O(m.$$.fragment),p=Y(),O(g.$$.fragment)},m(S,P){N(e,S,P),w(S,t,P),N(n,S,P),w(S,s,P),N(l,S,P),w(S,o,P),N(a,S,P),w(S,c,P),N(f,S,P),w(S,d,P),N(m,S,P),w(S,p,P),N(g,S,P),k=!0},p(S,P){const I={};P[1]&32&&(I.$$scope={dirty:P,ctx:S}),e.$set(I);const R={};P[1]&32&&(R.$$scope={dirty:P,ctx:S}),!r&&P[0]&4&&(r=!0,R.value=S[2].time,qe(()=>r=!1)),n.$set(R);const B={};!u&&P[0]&4&&(u=!0,B.value=S[2].text,qe(()=>u=!1)),a.$set(B);const z={};P[0]&16&&(z.disabled=!S[4]),P[1]&32&&(z.$$scope={dirty:P,ctx:S}),m.$set(z);const q={};P[1]&32&&(q.$$scope={dirty:P,ctx:S}),g.$set(q)},i(S){k||(_(e.$$.fragment,S),_(n.$$.fragment,S),_(l.$$.fragment,S),_(a.$$.fragment,S),_(f.$$.fragment,S),_(m.$$.fragment,S),_(g.$$.fragment,S),k=!0)},o(S){v(e.$$.fragment,S),v(n.$$.fragment,S),v(l.$$.fragment,S),v(a.$$.fragment,S),v(f.$$.fragment,S),v(m.$$.fragment,S),v(g.$$.fragment,S),k=!1},d(S){M(e,S),S&&y(t),M(n,S),S&&y(s),M(l,S),S&&y(o),M(a,S),S&&y(c),M(f,S),S&&y(d),M(m,S),S&&y(p),M(g,S)}}}function WIe(i){let e,t=i[31].text+"",n,r,s,l=i[31].time+"",o;return{c(){e=A("p"),n=Z(t),r=Y(),s=A("p"),o=Z(l),h(e,"class","font-medium"),h(s,"class","text-gray-500 capitalize")},m(a,u){w(a,e,u),E(e,n),w(a,r,u),w(a,s,u),E(s,o)},p(a,u){u[0]&40&&t!==(t=a[31].text+"")&&oe(n,t),u[0]&40&&l!==(l=a[31].time+"")&&oe(o,l)},d(a){a&&y(e),a&&y(r),a&&y(s)}}}function AS(i){let e,t,n,r;function s(){return i[24](i[31])}e=new Me({props:{className:"text-red-500",icon:!0,$$slots:{default:[VIe]},$$scope:{ctx:i}}}),e.$on("click",s);function l(){return i[25](i[31])}return n=new Me({props:{icon:!0,$$slots:{default:[GIe]},$$scope:{ctx:i}}}),n.$on("click",l),{c(){O(e.$$.fragment),t=Y(),O(n.$$.fragment)},m(o,a){N(e,o,a),w(o,t,a),N(n,o,a),r=!0},p(o,a){i=o;const u={};a[1]&32&&(u.$$scope={dirty:a,ctx:i}),e.$set(u);const c={};a[1]&32&&(c.$$scope={dirty:a,ctx:i}),n.$set(c)},i(o){r||(_(e.$$.fragment,o),_(n.$$.fragment,o),r=!0)},o(o){v(e.$$.fragment,o),v(n.$$.fragment,o),r=!1},d(o){M(e,o),o&&y(t),M(n,o)}}}function VIe(i){let e,t;return e=new je({props:{icon:wd}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function GIe(i){let e,t;return e=new je({props:{icon:_l}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function ZIe(i){let e,t,n=i[0]&&AS(i);return{c(){e=A("div"),n&&n.c(),h(e,"slot","right"),h(e,"class","flex item-center space-x-1 -mr-2")},m(r,s){w(r,e,s),n&&n.m(e,null),t=!0},p(r,s){r[0]?n?(n.p(r,s),s[0]&1&&_(n,1)):(n=AS(r),n.c(),_(n,1),n.m(e,null)):n&&(ie(),v(n,1,1,()=>{n=null}),re())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){r&&y(e),n&&n.d()}}}function PS(i){let e,t;function n(){return i[26](i[31])}return e=new xe({props:{bottomLine:16,detail:!i[0],$$slots:{right:[ZIe],default:[WIe]},$$scope:{ctx:i}}}),e.$on("click",n),{c(){O(e.$$.fragment)},m(r,s){N(e,r,s),t=!0},p(r,s){i=r;const l={};s[0]&1&&(l.detail=!i[0]),s[0]&41|s[1]&32&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){M(e,r)}}}function xIe(i){let e;return{c(){e=A("span"),e.textContent="Add Custom Prompt",h(e,"class","text-primary-500")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function XIe(i){let e,t,n,r=i[5].filter(i[23]),s=[];for(let o=0;o<r.length;o+=1)s[o]=PS(SS(i,r,o));const l=o=>v(s[o],1,1,()=>{s[o]=null});return t=new xe({props:{$$slots:{default:[xIe]},$$scope:{ctx:i}}}),t.$on("click",i[27]),{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=Y(),O(t.$$.fragment)},m(o,a){for(let u=0;u<s.length;u+=1)s[u].m(o,a);w(o,e,a),N(t,o,a),n=!0},p(o,a){if(a[0]&873){r=o[5].filter(o[23]);let c;for(c=0;c<r.length;c+=1){const f=SS(o,r,c);s[c]?(s[c].p(f,a),_(s[c],1)):(s[c]=PS(f),s[c].c(),_(s[c],1),s[c].m(e.parentNode,e))}for(ie(),c=r.length;c<s.length;c+=1)l(c);re()}const u={};a[1]&32&&(u.$$scope={dirty:a,ctx:o}),t.$set(u)},i(o){if(!n){for(let a=0;a<r.length;a+=1)_(s[a]);_(t.$$.fragment,o),n=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)v(s[a]);v(t.$$.fragment,o),n=!1},d(o){it(s,o),o&&y(e),M(t,o)}}}function KIe(i){let e,t=i[31].text+"",n,r;return{c(){e=A("p"),n=Z(t),r=Y(),h(e,"class","font-medium")},m(s,l){w(s,e,l),E(e,n),w(s,r,l)},p(s,l){l[0]&8&&t!==(t=s[31].text+"")&&oe(n,t)},d(s){s&&y(e),s&&y(r)}}}function NS(i){let e,t;function n(){return i[29](i[31])}return e=new xe({props:{bottomLine:16,detail:!i[0],$$slots:{default:[KIe]},$$scope:{ctx:i}}}),e.$on("click",n),{c(){O(e.$$.fragment)},m(r,s){N(e,r,s),t=!0},p(r,s){i=r;const l={};s[0]&1&&(l.detail=!i[0]),s[0]&8|s[1]&32&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){M(e,r)}}}function JIe(i){let e,t,n=c0.filter(i[28]),r=[];for(let l=0;l<n.length;l+=1)r[l]=NS(CS(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=$e()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o[0]&265){n=c0.filter(l[28]);let a;for(a=0;a<n.length;a+=1){const u=CS(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=NS(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ie(),a=n.length;a<r.length;a+=1)s(a);re()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){it(r,l),l&&y(e)}}}function QIe(i){let e,t,n,r,s,l,o,a,u,c,f,d=i[2]&&TS(i);return r=new Ft({props:{solo:!0,$$slots:{default:[XIe]},$$scope:{ctx:i}}}),a=new Ft({props:{solo:!0,$$slots:{default:[JIe]},$$scope:{ctx:i}}}),{c(){d&&d.c(),e=Y(),t=A("div"),n=Y(),O(r.$$.fragment),s=Y(),l=A("div"),o=Y(),O(a.$$.fragment),u=Y(),c=A("div"),h(t,"class","h-4"),h(l,"class","h-4"),h(c,"class","h-8")},m(m,p){d&&d.m(m,p),w(m,e,p),w(m,t,p),w(m,n,p),N(r,m,p),w(m,s,p),w(m,l,p),w(m,o,p),N(a,m,p),w(m,u,p),w(m,c,p),f=!0},p(m,p){m[2]?d?(d.p(m,p),p[0]&4&&_(d,1)):(d=TS(m),d.c(),_(d,1),d.m(e.parentNode,e)):d&&(ie(),v(d,1,1,()=>{d=null}),re());const g={};p[0]&41|p[1]&32&&(g.$$scope={dirty:p,ctx:m}),r.$set(g);const k={};p[0]&9|p[1]&32&&(k.$$scope={dirty:p,ctx:m}),a.$set(k)},i(m){f||(_(d),_(r.$$.fragment,m),_(a.$$.fragment,m),f=!0)},o(m){v(d),v(r.$$.fragment,m),v(a.$$.fragment,m),f=!1},d(m){d&&d.d(m),m&&y(e),m&&y(t),m&&y(n),M(r,m),m&&y(s),m&&y(l),m&&y(o),M(a,m),m&&y(u),m&&y(c)}}}function eBe(i){let e;return{c(){e=A("h1"),e.textContent=`${_e.t("general.writing-prompts","Writing Prompts")}`,h(e,"class","ntitle")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function tBe(i){let e=_e.t("general.close","Close")+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p:W,d(n){n&&y(t)}}}function nBe(i){let e,t;return e=new Me({props:{slot:"left",clear:!0,primary:!0,$$slots:{default:[tBe]},$$scope:{ctx:i}}}),e.$on("click",i[14]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[1]&32&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function iBe(i){let e,t;return e=new Me({props:{clear:!0,primary:!0,$$slots:{default:[sBe]},$$scope:{ctx:i}}}),e.$on("click",i[13]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[1]&32&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function rBe(i){let e,t;return e=new Me({props:{clear:!0,primary:!0,$$slots:{default:[lBe]},$$scope:{ctx:i}}}),e.$on("click",i[12]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[1]&32&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function sBe(i){let e=_e.t("general.edit","Edit")+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p:W,d(n){n&&y(t)}}}function lBe(i){let e;return{c(){e=A("span"),e.textContent=`${_e.t("general.done","Done")}`,h(e,"class","text-red-500")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function oBe(i){let e,t,n,r;const s=[rBe,iBe],l=[];function o(a,u){return a[0]?0:1}return t=o(i),n=l[t]=s[t](i),{c(){e=A("div"),n.c(),h(e,"slot","right")},m(a,u){w(a,e,u),l[t].m(e,null),r=!0},p(a,u){let c=t;t=o(a),t===c?l[t].p(a,u):(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),n=l[t],n?n.p(a,u):(n=l[t]=s[t](a),n.c()),_(n,1),n.m(e,null))},i(a){r||(_(n),r=!0)},o(a){v(n),r=!1},d(a){a&&y(e),l[t].d()}}}function aBe(i){let e,t;return e=new ms({props:{className:"bg-white dark:bg-black",size:"sm",value:i[3],buttons:[{label:"All",active:i[3]=="any",click:i[15]},{label:"Morning",active:i[3]=="morning",click:i[16]},{label:"Afternoon",active:i[3]=="afternoon",click:i[17]},{label:"Evening",active:i[3]=="evening",click:i[18]}]}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[0]&8&&(s.value=n[3]),r[0]&8&&(s.buttons=[{label:"All",active:n[3]=="any",click:n[15]},{label:"Morning",active:n[3]=="morning",click:n[16]},{label:"Afternoon",active:n[3]=="afternoon",click:n[17]},{label:"Evening",active:n[3]=="evening",click:n[18]}]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function uBe(i){let e,t,n,r,s;return t=new Jt({props:{$$slots:{right:[oBe],left:[nBe],default:[eBe]},$$scope:{ctx:i}}}),r=new Sr({props:{$$slots:{default:[aBe]},$$scope:{ctx:i}}}),{c(){e=A("header"),O(t.$$.fragment),n=Y(),O(r.$$.fragment),h(e,"slot","header"),h(e,"class","bg-white dark:bg-gray-950 shadow-sm")},m(l,o){w(l,e,o),N(t,e,null),E(e,n),N(r,e,null),s=!0},p(l,o){const a={};o[0]&3|o[1]&32&&(a.$$scope={dirty:o,ctx:l}),t.$set(a);const u={};o[0]&8|o[1]&32&&(u.$$scope={dirty:o,ctx:l}),r.$set(u)},i(l){s||(_(t.$$.fragment,l),_(r.$$.fragment,l),s=!0)},o(l){v(t.$$.fragment,l),v(r.$$.fragment,l),s=!1},d(l){l&&y(e),M(t),M(r)}}}function cBe(i){let e,t;return e=new _n({props:{mainClass:"px-2 lg:px-4",$$slots:{header:[uBe],default:[QIe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[0]&63|r[1]&32&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function fBe(i,e,t){let n;Ee(i,Gu,x=>t(11,n=x));let{id:r}=e,{editMode:s=!1}=e,{onSelect:l}=e,o="any",a,u=!1;const c=x=>{t(2,a=new Vz(x))};wt(()=>{});let f=[];const d=()=>{t(5,f=[...n])},m=async()=>{(a==null?void 0:a.text.length)>1&&(await Gu.upsert(a),t(2,a=void 0),un({message:"Saved"}))},p=async x=>{s||(vBe(),u0(x),l&&l(x))},g=async x=>{await Xe.confirm("Delete this Prompt?")&&(await Gu.remove(x),un({message:"Deleted"}),d())},k=()=>t(0,s=!1),$=()=>t(0,s=!0),D=()=>Ot(r),F=()=>{t(3,o="any")},C=()=>{t(3,o="morning")},S=()=>{t(3,o="afternoon")},P=()=>{t(3,o="evening")};function I(x){i.$$.not_equal(a.time,x)&&(a.time=x,t(2,a))}function R(x){i.$$.not_equal(a.text,x)&&(a.text=x,t(2,a))}const B=()=>m(),z=()=>{t(2,a=void 0)},q=x=>o==="any"?!0:x.time==o,H=x=>{g(x)},K=x=>c(x),G=x=>p(x),U=()=>{c({text:"",time:o})},Q=x=>o==="any"?!0:x.time==o,V=x=>p(x);return i.$$set=x=>{"id"in x&&t(1,r=x.id),"editMode"in x&&t(0,s=x.editMode),"onSelect"in x&&t(10,l=x.onSelect)},i.$$.update=()=>{var x;i.$$.dirty[0]&4&&t(4,u=!!(((x=a==null?void 0:a.text)==null?void 0:x.length)>1&&(a==null?void 0:a.time))),i.$$.dirty[0]&2048&&n&&n.length&&d()},[s,r,a,o,u,f,c,m,p,g,l,n,k,$,D,F,C,S,P,I,R,B,z,q,H,K,G,U,Q,V]}class dBe extends ce{constructor(e){super(),ue(this,e,fBe,cBe,le,{id:1,editMode:0,onSelect:10},null,[-1,-1])}}const hBe=[{time:"evening",text:"What are you grateful for today?"},{time:"evening",text:"What brought you satisfaction today?"},{time:"evening",text:"What did you do today?"},{time:"evening",text:"What frustrated you today?"},{time:"morning",text:"How did you sleep?"},{time:"morning",text:"What is one positive thing that will happen today?"},{time:"morning",text:"What did you dream about?"},{time:"any",text:"Who is someone you miss hanging out with?"},{time:"any",text:"What is your favorite thing to watch right now?"},{time:"any",text:"What are some of your bad habits that you'd like to work on?"},{time:"any",text:"How can you show your loved ones more love?"},{time:"morning",text:"What are your top 3 goals for this week?"},{time:"evening",text:"What did you do today to work towards your goals?"},{time:"evening",text:"What was the best part of your day?"},{time:"evening",text:"What was the worst part of your day?"},{time:"morning",text:"What 3 things would make today amazing?"},{time:"morning",text:"How can you be kinder to yourself today?"},{time:"afternoon",text:"What are you feeling today?"},{time:"evening",text:"What did you learn today?"},{time:"evening",text:"Did you have feelings of regret today?"},{time:"any",text:"What is one of your favorite memories?"},{time:"any",text:"What has been your biggest accomplishment?"},{time:"any",text:"What is your biggest fear currently? "},{time:"any",text:"When was a time you were really proud of yourself?"},{time:"any",text:"When was the last time you felt really sad?"},{time:"any",text:"When was the last time you felt really embarrassed?"},{time:"any",text:"When was the last time you felt really angry?"},{time:"any",text:"When was the last time you felt really happy?"},{time:"any",text:"In the next few months I want to "},{time:"any",text:"What do you hope to accomplish in the next year?"},{time:"any",text:"What do you hope to accomplish in the next five years?"},{time:"any",text:"What do you hope to accomplish in the next ten years?"},{time:"any",text:"What is your favorite place, and why?"},{time:"any",text:"How are you improving your mental health?"},{time:"any",text:"How are you improving your physical health?"},{time:"any",text:"How can you improve your relationships with others?"},{time:"any",text:"How can you better manage your time and resources?"},{time:"any",text:"What do you do to improve your emotional health?"},{time:"any",text:"How can you become more self-aware and in tune with your needs?"},{time:"any",text:"What do you do to reduce stress and promote relaxation?"},{time:"any",text:"What do you do to improve your diet and nutrition?"},{time:"any",text:"How can you increase your physical activity and exercise?"},{time:"any",text:"What do you do to improve your sleep habits?"},{time:"any",text:"How do you usually feel when you wake up in the morning? "},{time:"any",text:"Did your moods change throughout the day? How so? "},{time:"any",text:"What kind of things usually put you in a bad mood? "},{time:"any",text:"What are some things that always make you happy? "},{time:"any",text:"What do you do when you're feeling down? "},{time:"any",text:"Do you ever get random mood swings? What causes them? "},{time:"any",text:"What is your go-to comfort food when you're feeling sad or stressed? "},{time:"any",text:"What kind of music do you usually listen to when you're in a good mood? "},{time:"any",text:"What do you like to do when you're feeling bored? "},{time:"any",text:"Are there any certain smells that affect your mood?"},{time:"evening",text:"Today I felt "},{time:"any",text:"Three things I'm grateful for are: "},{time:"any",text:"What did you do today that made you feel good?"},{time:"any",text:"The last time I was feeling stressed "},{time:"any",text:"The last time I was feeling down "},{time:"any",text:"The last time I was feeling overwhelmed  "},{time:"any",text:"The last time I was feeling anxious  "},{time:"any",text:"The last time I was feeling angry "},{time:"any",text:"The last time I was feeling lonely  "},{time:"any",text:"The last time I was feeling loved "},{time:"any",text:"What is your favorite thing to do?"}];function mBe(i){let e,t,n,r,s,l,o;return{c(){e=me("svg"),t=me("title"),n=Z("Shuffle"),r=me("path"),s=me("path"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(r,"d","M400 304l48 48-48 48M400 112l48 48-48 48M64 352h85.19a80 80 0 0066.56-35.62L256 256"),h(s,"d","M64 160h85.19a80 80 0 0166.56 35.62l80.5 120.76A80 80 0 00362.81 352H416M416 160h-53.19a80 80 0 00-66.56 35.62L288 208"),h(s,"fill","none"),h(s,"stroke","currentColor"),h(s,"stroke-linecap","round"),h(s,"stroke-linejoin","round"),h(s,"stroke-width","32"),h(e,"height",l=i[0]+"px"),h(e,"width",o=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(a,u){w(a,e,u),E(e,t),E(t,n),E(e,r),E(e,s)},p(a,[u]){u&1&&l!==(l=a[0]+"px")&&h(e,"height",l),u&1&&o!==(o=a[0]+"px")&&h(e,"width",o)},i:W,o:W,d(a){a&&y(e)}}}function pBe(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class _Be extends ce{constructor(e){super(),ue(this,e,pBe,mBe,le,{size:0})}}const u0=i=>{uu({note:`#prompt ${i.text}
`})},gBe=()=>{const i=Gu.rawState(),e=JW(new Date);return[...i.filter(t=>t.time===e).map(t=>({title:t.text,click:()=>{u0(t)}})),{icon:_Be,divider:!0,title:"Prompt Me...",click:()=>{const t=i.filter(s=>s.time===e);let n;const r=[...t,...c0];n=ht.random(r),u0(n)}}]},vBe=()=>{Ot("writing-prompt-modal")},bBe=i=>{en({id:"writing-prompt-modal",component:dBe,componentProps:i||{}})},c0=hBe;class Vz{constructor(e){Ne(this,"time");Ne(this,"text");Ne(this,"id");this.time=(e==null?void 0:e.time)||"any",this.text=(e==null?void 0:e.text)||"",this.id=(e==null?void 0:e.id)||pn()}}const Gu=tu(Xn.storage.writingPrompts(),{label:"Writing Prompts",key:"id",itemInitializer:i=>new Vz(i),itemSerializer:i=>JSON.parse(JSON.stringify(i))});function kBe(i){let e;return{c(){e=A("span"),e.textContent="Plugins",h(e,"class","pl-2 text-xs text-center leading-tight")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function yBe(i){let e,t;return e=new je({props:{size:16,icon:MP,slot:"left"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function wBe(i){let e;return{c(){e=A("span"),e.textContent="Prompts",h(e,"class","pl-2 whitespace-pre text-xs text-center leading-tight")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function $Be(i){let e,t;return e=new je({props:{size:16,icon:_l,slot:"left"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function FBe(i){let e,t,n,r,s;return t=new Me({props:{clear:!0,primary:!0,$$slots:{left:[yBe],default:[kBe]},$$scope:{ctx:i}}}),t.$on("click",LO),r=new Me({props:{clear:!0,primary:!0,$$slots:{left:[$Be],default:[wBe]},$$scope:{ctx:i}}}),r.$on("click",bBe),{c(){e=A("div"),O(t.$$.fragment),n=Y(),O(r.$$.fragment),h(e,"class","w-full flex space-x-2")},m(l,o){w(l,e,o),N(t,e,null),E(e,n),N(r,e,null),s=!0},p(l,[o]){const a={};o&4&&(a.$$scope={dirty:o,ctx:l}),t.$set(a);const u={};o&4&&(u.$$scope={dirty:o,ctx:l}),r.$set(u)},i(l){s||(_(t.$$.fragment,l),_(r.$$.fragment,l),s=!0)},o(l){v(t.$$.fragment,l),v(r.$$.fragment,l),s=!1},d(l){l&&y(e),M(t),M(r)}}}function EBe(i,e,t){let{id:n}=e,{closeEvent:r}=e;return i.$$set=s=>{"id"in s&&t(0,n=s.id),"closeEvent"in s&&t(1,r=s.closeEvent)},[n,r]}class DBe extends ce{constructor(e){super(),ue(this,e,EBe,FBe,le,{id:0,closeEvent:1})}}function MS(i){let e,t,n;return t=new Lc({props:{compact:!0,buttonStyle:"width:40px !important;",y:"bottom",x:"right",id:"prompt-button",buttonClass:"stiff block max-w-8 h-8 w-8 z-40  text-primary bg-transparent rounded-full",menuButtons:i[1],$$slots:{default:[CBe]},$$scope:{ctx:i}}}),{c(){e=A("div"),O(t.$$.fragment),h(e,"class","absolute right-1 top-1 flex items-center ")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p(r,s){const l={};s[0]&2&&(l.menuButtons=r[1]),s[1]&128&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function CBe(i){let e,t;return e=new je({props:{icon:OIe,size:22}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function SBe(i){let e,t,n;return{c(){e=A("textarea"),h(e,"aria-label","Note entry field"),h(e,"class","w-full rounded-full")},m(r,s){w(r,e,s),t||(n=ke(e,"focus",i[23]),t=!0)},p:W,i:W,o:W,d(r){r&&y(e),t=!1,n()}}}function TBe(i){let e,t,n;function r(l){i[20](l)}let s={"aria-label":"Note entry field",id:"textarea-capture-note",class:"overflow-y-scroll",placeholder:i[9]||i[8]?_e.t("general.whats-up","What's up?"):"",disabled:i[6]||zS,autofocus:!0};return i[2].note!==void 0&&(s.value=i[2].note),e=new Nz({props:s}),De.push(()=>Ue(e,"value",r,i[2].note)),i[21](e),e.$on("input",i[14]),e.$on("keydown",i[15].keyPress),e.$on("focus",i[22]),e.$on("blur",RBe),e.$on("paste",i[15].keyPress),{c(){O(e.$$.fragment)},m(l,o){N(e,l,o),n=!0},p(l,o){const a={};o[0]&768&&(a.placeholder=l[9]||l[8]?_e.t("general.whats-up","What's up?"):""),o[0]&64&&(a.disabled=l[6]||zS),!t&&o[0]&4&&(t=!0,a.value=l[2].note,qe(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){i[21](null),M(e,l)}}}function LS(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p,g,k,$;r=new Lc({props:{id:"pos-menu",buttonClass:"text-xl rounded-full flex-shrink-0 focus:bg-gray-500 focus:bg-opacity-20 rounded-md flex items-center justify-center",menuButtons:np(i[2].score,i[24]),y:"bottom",$$slots:{default:[ABe]},$$scope:{ctx:i}}});let D=i[2].lat&&OS();f=new je({props:{icon:Jq,size:22,className:"text-gray-500"}});function F(S){i[26](S)}let C={className:"stiff",is24Hour:i[11].use24hour,showDateButton:!0,dateButtonClass:i[7]?"dark:text-primary-400 text-primary-600":""};return i[3].date!==void 0&&(C.value=i[3].date),m=new oM({props:C}),De.push(()=>Ue(m,"value",F,i[3].date)),m.$on("dateClick",i[27]),m.$on("change",i[28]),{c(){e=A("section"),t=A("div"),n=A("div"),O(r.$$.fragment),s=Y(),l=A("button"),o=Z("\u{1F5FA} "),D&&D.c(),u=Y(),c=A("button"),O(f.$$.fragment),d=Y(),O(m.$$.fragment),h(l,"class",a="flex relative px-1 rounded-lg items-center mx-0 text-2xl "+(i[2].lat?"":"opacity-50")),h(l,"aria-label","Location and Date settings"),h(c,"aria-label","Expand Note"),h(c,"class","clear-button flex items-center"),h(t,"class","flex-grow flex items-center space-x-1 py-1 px-0"),h(e,"aria-label","Note tools"),h(e,"class","bottom-section")},m(S,P){w(S,e,P),E(e,t),E(t,n),N(r,n,null),E(t,s),E(t,l),E(l,o),D&&D.m(l,null),E(t,u),E(t,c),N(f,c,null),E(e,d),N(m,e,null),g=!0,k||($=[ke(l,"click",i[13]),ke(c,"click",i[25])],k=!0)},p(S,P){const I={};P[0]&4&&(I.menuButtons=np(S[2].score,S[24])),P[0]&4|P[1]&128&&(I.$$scope={dirty:P,ctx:S}),r.$set(I),S[2].lat?D||(D=OS(),D.c(),D.m(l,null)):D&&(D.d(1),D=null),(!g||P[0]&4&&a!==(a="flex relative px-1 rounded-lg items-center mx-0 text-2xl "+(S[2].lat?"":"opacity-50")))&&h(l,"class",a);const R={};P[0]&2048&&(R.is24Hour=S[11].use24hour),P[0]&128&&(R.dateButtonClass=S[7]?"dark:text-primary-400 text-primary-600":""),!p&&P[0]&8&&(p=!0,R.value=S[3].date,qe(()=>p=!1)),m.$set(R)},i(S){g||(_(r.$$.fragment,S),_(f.$$.fragment,S),_(m.$$.fragment,S),g=!0)},o(S){v(r.$$.fragment,S),v(f.$$.fragment,S),v(m.$$.fragment,S),g=!1},d(S){S&&y(e),M(r),D&&D.d(),M(f),M(m),k=!1,pt($)}}}function ABe(i){let e,t=Eo(i[2].score,!0)+"",n;return{c(){e=A("span"),n=Z(t),h(e,"class","w-8 dark:text-gray-300")},m(r,s){w(r,e,s),E(e,n)},p(r,s){s[0]&4&&t!==(t=Eo(r[2].score,!0)+"")&&oe(n,t)},d(r){r&&y(e)}}}function OS(i){let e;return{c(){e=A("span"),h(e,"class","dot far-right positive -right-2")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function IS(i){let e,t,n,r,s;function l(a){i[29](a)}let o={is24Hour:i[11].use24hour};return i[3].date!==void 0&&(o.time=i[3].date),t=new RIe({props:o}),De.push(()=>Ue(t,"time",l,i[3].date)),t.$on("change",i[30]),{c(){e=A("div"),O(t.$$.fragment)},m(a,u){w(a,e,u),N(t,e,null),s=!0},p(a,u){i=a;const c={};u[0]&2048&&(c.is24Hour=i[11].use24hour),!n&&u[0]&8&&(n=!0,c.time=i[3].date,qe(()=>n=!1)),t.$set(c)},i(a){s||(_(t.$$.fragment,a),Rn(()=>{r||(r=lr(e,cs,{delay:250,duration:300,easing:al},!0)),r.run(1)}),s=!0)},o(a){v(t.$$.fragment,a),r||(r=lr(e,cs,{delay:250,duration:300,easing:al},!1)),r.run(0),s=!1},d(a){a&&y(e),M(t),a&&r&&r.end()}}}function PBe(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p,g=!i[9]&&MS(i);const k=[TBe,SBe],$=[];function D(S,P){return S[10]?0:1}u=D(i),c=$[u]=k[u](i);let F=(i[8]||i[9])&&LS(i),C=i[7]&&IS(i);return{c(){e=A("div"),n=Y(),r=A("div"),s=A("div"),g&&g.c(),l=Y(),o=A("div"),a=A("div"),c.c(),f=Y(),F&&F.c(),d=Y(),C&&C.c(),h(e,"class",t="save-progress  "+(i[6]?"saving":"")+" "+(i[4]?"saving":"")),h(a,"data-placeholder",_e.t("general.whats-up","What's up?")),h(a,"class","mask-textarea-wrapper top-section mock-textarea"),h(o,"class",m="mask-textarea min-h-10 "+(i[8]?"focused":"blurred")+" "+(i[9]?"populated":"empty")),h(s,"class","p-0 relative"),h(r,"class","capture-log"),Je(r,"negative",i[2].score<0),Je(r,"positive",i[2].score>0)},m(S,P){w(S,e,P),w(S,n,P),w(S,r,P),E(r,s),g&&g.m(s,null),E(s,l),E(s,o),E(o,a),$[u].m(a,null),E(o,f),F&&F.m(o,null),E(o,d),C&&C.m(o,null),p=!0},p(S,P){(!p||P[0]&80&&t!==(t="save-progress  "+(S[6]?"saving":"")+" "+(S[4]?"saving":"")))&&h(e,"class",t),S[9]?g&&(ie(),v(g,1,1,()=>{g=null}),re()):g?(g.p(S,P),P[0]&512&&_(g,1)):(g=MS(S),g.c(),_(g,1),g.m(s,l));let I=u;u=D(S),u===I?$[u].p(S,P):(ie(),v($[I],1,1,()=>{$[I]=null}),re(),c=$[u],c?c.p(S,P):(c=$[u]=k[u](S),c.c()),_(c,1),c.m(a,null)),S[8]||S[9]?F?(F.p(S,P),P[0]&768&&_(F,1)):(F=LS(S),F.c(),_(F,1),F.m(o,d)):F&&(ie(),v(F,1,1,()=>{F=null}),re()),S[7]?C?(C.p(S,P),P[0]&128&&_(C,1)):(C=IS(S),C.c(),_(C,1),C.m(o,null)):C&&(ie(),v(C,1,1,()=>{C=null}),re()),(!p||P[0]&768&&m!==(m="mask-textarea min-h-10 "+(S[8]?"focused":"blurred")+" "+(S[9]?"populated":"empty")))&&h(o,"class",m),(!p||P[0]&4)&&Je(r,"negative",S[2].score<0),(!p||P[0]&4)&&Je(r,"positive",S[2].score>0)},i(S){p||(_(g),_(c),_(F),_(C),p=!0)},o(S){v(g),v(c),v(F),v(C),p=!1},d(S){S&&y(e),S&&y(n),S&&y(r),g&&g.d(),$[u].d(),F&&F.d(),C&&C.d()}}}function BS(i){let e,t,n;return t=new Vn({props:{$$slots:{default:[BBe]},$$scope:{ctx:i}}}),{c(){e=A("div"),O(t.$$.fragment),h(e,"class","glass absolute -bottom-14 xl:-bottom-8 z-50 h-14 w-full pt-2")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p(r,s){const l={};s[0]&16|s[1]&128&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function NBe(i){let e=_e.t("general.cancel","Cancel")+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p:W,d(n){n&&y(t)}}}function MBe(i){let e,t;return e=new Me({props:{className:"bg-green-500 text-white",$$slots:{default:[OBe]},$$scope:{ctx:i}}}),e.$on("click",i[15].logSave),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[1]&128&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function LBe(i){let e,t;return e=new Me({props:{className:"bg-green-500 text-white",disabled:!0,$$slots:{default:[IBe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[1]&128&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function OBe(i){let e=_e.t("general.save","Save")+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p:W,d(n){n&&y(t)}}}function IBe(i){let e=_e.t("general.saving","Saving")+"",t,n;return{c(){t=Z(e),n=Z("...")},m(r,s){w(r,t,s),w(r,n,s)},p:W,d(r){r&&y(t),r&&y(n)}}}function BBe(i){let e,t,n,r,s,l;t=new Me({props:{className:"bg-gray-200 text-gray-700 dark:bg-gray-700 dark:text-gray-300",$$slots:{default:[NBe]},$$scope:{ctx:i}}}),t.$on("click",i[31]);const o=[LBe,MBe],a=[];function u(c,f){return c[4]?0:1}return r=u(i),s=a[r]=o[r](i),{c(){e=A("div"),O(t.$$.fragment),n=Y(),s.c(),h(e,"class","xl:ml-auto xl:w-80 grid grid-cols-2 justify-center gap-4 items-center px-4")},m(c,f){w(c,e,f),N(t,e,null),E(e,n),a[r].m(e,null),l=!0},p(c,f){const d={};f[1]&128&&(d.$$scope={dirty:f,ctx:c}),t.$set(d);let m=r;r=u(c),r===m?a[r].p(c,f):(ie(),v(a[m],1,1,()=>{a[m]=null}),re(),s=a[r],s?s.p(c,f):(s=a[r]=o[r](c),s.c()),_(s,1),s.m(e,null))},i(c){l||(_(t.$$.fragment,c),_(s),l=!0)},o(c){v(t.$$.fragment,c),v(s),l=!1},d(c){c&&y(e),M(t),a[r].d()}}}function zBe(i){let e,t,n,r,s;t=new Vn({props:{$$slots:{default:[PBe]},$$scope:{ctx:i}}});let l=(i[8]||i[9])&&BS(i);return{c(){e=A("div"),O(t.$$.fragment),n=Y(),l&&l.c(),h(e,"class",r="capture-wrapper "+i[0]+" relative"),h(e,"id","note-capture")},m(o,a){w(o,e,a),N(t,e,null),E(e,n),l&&l.m(e,null),s=!0},p(o,a){const u={};a[0]&4094|a[1]&128&&(u.$$scope={dirty:a,ctx:o}),t.$set(u),o[8]||o[9]?l?(l.p(o,a),a[0]&768&&_(l,1)):(l=BS(o),l.c(),_(l,1),l.m(e,null)):l&&(ie(),v(l,1,1,()=>{l=null}),re()),(!s||a[0]&1&&r!==(r="capture-wrapper "+o[0]+" relative"))&&h(e,"class",r)},i(o){s||(_(t.$$.fragment,o),_(l),s=!0)},o(o){v(t.$$.fragment,o),v(l),s=!1},d(o){o&&y(e),M(t),l&&l.d()}}}let zS=!1;const RBe=()=>{};function jBe(i,e,t){let n,r,s,l,o,a,u,c;Ee(i,It,ae=>t(34,n=ae)),Ee(i,xn,ae=>t(2,r=ae)),Ee(i,jr,ae=>t(35,s=ae)),Ee(i,Er,ae=>t(18,l=ae)),Ee(i,Gu,ae=>t(19,o=ae)),Ee(i,St,ae=>t(11,a=ae)),Ee(i,tl,ae=>t(3,u=ae)),Ee(i,Aa,ae=>t(4,c=ae));let f,d=!1,m=!1,p=!1,g=!1,{className:k=""}=e,$=[];const D=()=>{t(10,q=!0),(!r.end||!p)&&APe(new Date().getTime()),t(8,p=!0)};let F=a.use24hour?"HH:mm":"h:mm a";const C=async()=>{if(r.lat)xn.update(ae=>({...ae,lat:void 0,lng:void 0,location:void 0}));else{let ae=await Xe.pickLocation();ae&&xn.update(ve=>(ve.lat=ae.lat,ve.lng=ae.lng,ve.location=ae.name,ve))}};let S;const P=ae=>{clearTimeout(S),S=setTimeout(()=>{t(10,q=!0);const ve=Zf.parse(r.note);wn(xn,r.score=Ja(r.note,new Date,s),r),I(ve||[])},500)},I=ae=>{Mz();for(let ve=0;ve<ae.length;ve++){const Te=ae[ve];try{const Pe=document.querySelector(`button#${Te.type}-${Te.id}`);Pe&&Pe.classList.add("in-note")}catch{}}},R={async logSave(){t(6,d=!0);try{await To(new Gt(r)),t(6,d=!1),await Et(300),R.clear()}catch(ae){console.error(`Error in capture-log logSave ${ae.message}`),t(6,d=!1)}},keyPress(ae){let ve=ae.detail;ve.key==="Enter"&&ve.getModifierState("Shift")?ve.preventDefault():ve.key==="Enter"&&(ve.getModifierState("Control")||ve.getModifierState("Meta"))?R.logSave():ve.key==="Escape"&&(B(),ve.preventDefault(),ve.stopPropagation())},async clear(ae=!1){await Et(100),xn.clear(),t(7,m=!1),t(8,p=!1),t(10,q=!1),setTimeout(()=>{t(7,m=!1),So({knownTrackables:n.trackables,date:we()}),ae&&Hn.scrollToTop()},120)}};Ut.hook("onLogSaved",ae=>{setTimeout(()=>{R.clear()},100)}),xn.hook("onAddElement",ae=>{P()});const B=async()=>{var ae;((ae=r.note)==null?void 0:ae.length)>0?await Xe.confirm("Discard this note?")&&R.clear(!0):R.clear()},z=ae=>{wn(xn,r.end=we(ae.detail).toDate(),r),So({knownTrackables:n.trackables,date:we(ae.detail)})};let q=!1;function H(ae){i.$$.not_equal(r.note,ae)&&(r.note=ae,xn.set(r))}function K(ae){De[ae?"unshift":"push"](()=>{f=ae,t(5,f)})}const G=()=>{D()},U=()=>D(),Q=ae=>{wn(xn,r.score=ae.score,r)},V=async ae=>{ae.preventDefault(),ae.stopPropagation(),uu(r)};function x(ae){i.$$.not_equal(u.date,ae)&&(u.date=ae,tl.set(u))}const ee=()=>{t(7,m=!m)},J=ae=>z(ae);function se(ae){i.$$.not_equal(u.date,ae)&&(u.date=ae,tl.set(u))}const te=ae=>z(ae),ge=()=>B();return i.$$set=ae=>{"className"in ae&&t(0,k=ae.className)},i.$$.update=()=>{var ae;i.$$.dirty[0]&16&&(c?t(6,d=!0):t(6,d=!1)),i.$$.dirty[0]&8&&u.date.format("YYYY-MM-DD")!==we().format("YYYY-MM-DD")&&wn(xn,r.end=u.date.toDate(),r),i.$$.dirty[0]&4&&t(9,g=((ae=r.note)==null?void 0:ae.trim().length)>0),i.$$.dirty[0]&4&&we(new Date(r.end||new Date().getTime())).format(F),i.$$.dirty[0]&786434&&o&&(t(1,$=gBe()),l&&l.length&&l.filter(ve=>ve.addToCaptureMenu&&ve.active).map((ve,Te)=>{$.push({title:ve.name,disabled:ve.locked,divider:Te===0,emoji:ve.emoji,click(){Jv(ve)}})}),$.push({divider:!0,click(){},component:DBe}))},[k,$,r,u,c,f,d,m,p,g,q,a,D,C,P,R,B,z,l,o,H,K,G,U,Q,V,x,ee,J,se,te,ge]}class YBe extends ce{constructor(e){super(),ue(this,e,jBe,zBe,le,{className:0},null,[-1,-1])}}function RS(i){let e,t,n,r,s,l,o;return{c(){e=A("div"),t=A("span"),n=Y(),r=A("span"),s=Z(i[1]),l=Y(),o=A("span"),h(t,"class","buffer filler svelte-3qv0yy"),h(r,"class","label svelte-3qv0yy"),h(o,"class","buffer filler svelte-3qv0yy"),h(e,"class","time-gap svelte-3qv0yy")},m(a,u){w(a,e,u),E(e,t),E(e,n),E(e,r),E(r,s),E(e,l),E(e,o)},p(a,u){u&2&&oe(s,a[1])},d(a){a&&y(e)}}}function UBe(i){let e,t=i[0]>1&&RS(i);return{c(){t&&t.c(),e=$e()},m(n,r){t&&t.m(n,r),w(n,e,r)},p(n,[r]){n[0]>1?t?t.p(n,r):(t=RS(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:W,o:W,d(n){t&&t.d(n),n&&y(e)}}}function qBe(i,e,t){let{log1:n}=e,{log2:r}=e,s=0,l="";async function o(){t(0,s=n.endDayjs().startOf("day").diff(r.endDayjs().startOf("day"),"day")),s>365?t(1,l=`${ht.round(s/365,2)} years later`):s>30?t(1,l=`${ht.round(s/30,2)} months later`):t(1,l=`${s} ${s===1?"day":"days"} later`)}return wt(o),i.$$set=a=>{"log1"in a&&t(2,n=a.log1),"log2"in a&&t(3,r=a.log2)},[s,l,n,r]}class HBe extends ce{constructor(e){super(),ue(this,e,qBe,UBe,le,{log1:2,log2:3})}}function jS(i,e,t){const n=i.slice();return n[12]=e[t],n[14]=t,n}function WBe(i){let e,t=[],n=new Map,r,s,l=i[5];const o=a=>a[12]._key;for(let a=0;a<l.length;a+=1){let u=jS(i,l,a),c=o(u);n.set(c,t[a]=US(c,u))}return{c(){e=A("div");for(let a=0;a<t.length;a+=1)t[a].c();h(e,"class",r="space-y-4 "+i[2]),h(e,"style",i[1])},m(a,u){w(a,e,u);for(let c=0;c<t.length;c+=1)t[c].m(e,null);s=!0},p(a,u){u&121&&(l=a[5],ie(),t=qn(t,u,o,1,a,l,n,e,Ci,US,null,jS),re()),(!s||u&4&&r!==(r="space-y-4 "+a[2]))&&h(e,"class",r),(!s||u&2)&&h(e,"style",a[1])},i(a){if(!s){for(let u=0;u<l.length;u+=1)_(t[u]);s=!0}},o(a){for(let u=0;u<t.length;u+=1)v(t[u]);s=!1},d(a){a&&y(e);for(let u=0;u<t.length;u+=1)t[u].d()}}}function VBe(i){let e,t,n;return t=new Mn({}),{c(){e=A("div"),O(t.$$.fragment),h(e,"class","flex-grow n-panel center-all h-100")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p:W,i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function YS(i){let e,t;return e=new HBe({props:{log1:i[12],log2:i[5][i[14]+1]}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&32&&(s.log1=n[12]),r&32&&(s.log2=n[5][n[14]+1]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function US(i,e){let t,n,r,s,l;n=new Xo({props:{fullDate:e[3],className:e[0]?"compact":"",log:e[12]}}),n.$on("trackerClick",e[8]),n.$on("locationClick",e[9]),n.$on("textClick",e[10]),n.$on("moreClick",e[11]);let o=e[4]&&e[14]!==e[5].length-1&&YS(e);return{key:i,first:null,c(){t=$e(),O(n.$$.fragment),r=Y(),o&&o.c(),s=$e(),this.first=t},m(a,u){w(a,t,u),N(n,a,u),w(a,r,u),o&&o.m(a,u),w(a,s,u),l=!0},p(a,u){e=a;const c={};u&8&&(c.fullDate=e[3]),u&1&&(c.className=e[0]?"compact":""),u&32&&(c.log=e[12]),n.$set(c),e[4]&&e[14]!==e[5].length-1?o?(o.p(e,u),u&48&&_(o,1)):(o=YS(e),o.c(),_(o,1),o.m(s.parentNode,s)):o&&(ie(),v(o,1,1,()=>{o=null}),re())},i(a){l||(_(n.$$.fragment,a),_(o),l=!0)},o(a){v(n.$$.fragment,a),v(o),l=!1},d(a){a&&y(t),M(n,a),a&&y(r),o&&o.d(a),a&&y(s)}}}function GBe(i){let e,t,n,r;const s=[VBe,WBe],l=[];function o(a,u){return 1}return e=o(),t=l[e]=s[e](i),{c(){t.c(),n=$e()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,[u]){t.p(a,u)},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function ZBe(i){return i.map((e,t)=>(e._key=e._id+t,e)).sort((e,t)=>e.end<t.end?1:-1)}function xBe(i,e,t){const n=Dt();let{logs:r=null}=e,{compact:s=!1}=e,{style:l=""}=e,{className:o=""}=e,{fullDate:a=!1}=e,{showTimeDiff:u=!1}=e,c=[];const f=g=>{n("trackerClick",g.detail)},d=g=>{n("locationClick",g.detail)},m=g=>{n("textClick",g.detail)},p=g=>{n("moreClick",g.detail)};return i.$$set=g=>{"logs"in g&&t(7,r=g.logs),"compact"in g&&t(0,s=g.compact),"style"in g&&t(1,l=g.style),"className"in g&&t(2,o=g.className),"fullDate"in g&&t(3,a=g.fullDate),"showTimeDiff"in g&&t(4,u=g.showTimeDiff)},i.$$.update=()=>{i.$$.dirty&128&&r&&t(5,c=ZBe(r))},[s,l,o,a,u,c,n,r,f,d,m,p]}class XBe extends ce{constructor(e){super(),ue(this,e,xBe,GBe,le,{logs:7,compact:0,style:1,className:2,fullDate:3,showTimeDiff:4})}}function qS(i){let e,t,n,r=i[6].format(i[9].date)+"",s;return{c(){e=A("div"),t=Z("Nothing found since now and "),n=A("strong"),s=Z(r),h(e,"class","px-4 py-10 text-center text-gray-800 dark:text-gray-100")},m(l,o){w(l,e,o),E(e,t),E(e,n),E(n,s)},p(l,o){o&64&&r!==(r=l[6].format(l[9].date)+"")&&oe(s,r)},d(l){l&&y(e)}}}function KBe(i){let e,t,n,r,s;return r=new Me({props:{block:!0,className:"mx-auto bg-primary-500 text-white",style:"max-width:300px;",disabled:!0,$$slots:{default:[QBe]},$$scope:{ctx:i}}}),{c(){e=A("div"),t=A("p"),t.textContent="Going back in time...",n=Y(),O(r.$$.fragment),h(t,"class","text-xs font-bold pb-2 text-gray-700 dark:text-gray-300"),h(e,"class","px-4 pb-4 text-center")},m(l,o){w(l,e,o),E(e,t),E(e,n),N(r,e,null),s=!0},p(l,o){const a={};o&1048576&&(a.$$scope={dirty:o,ctx:l}),r.$set(a)},i(l){s||(_(r.$$.fragment,l),s=!0)},o(l){v(r.$$.fragment,l),s=!1},d(l){l&&y(e),M(r)}}}function JBe(i){let e,t,n,r,s,l=i[6].fromNow()+"",o,a,u,c=i[6].format(i[9].date)+"",f,d;return e=new Me({props:{block:!0,className:"mx-auto bg-primary-500 focus:ring-2 ring-yellow-500  text-white",style:"max-width:300px;",$$slots:{default:[eze]},$$scope:{ctx:i}}}),e.$on("click",i[10]),{c(){O(e.$$.fragment),t=Y(),n=A("div"),r=A("p"),s=Z("Point in time: ("),o=Z(l),a=Z(`)
        `),u=A("br"),f=Z(c),h(r,"class","text-xs pb-2 text-gray-500"),h(n,"class","text-center px-4 py-4")},m(m,p){N(e,m,p),w(m,t,p),w(m,n,p),E(n,r),E(r,s),E(r,o),E(r,a),E(r,u),E(r,f),d=!0},p(m,p){const g={};p&1048576&&(g.$$scope={dirty:p,ctx:m}),e.$set(g),(!d||p&64)&&l!==(l=m[6].fromNow()+"")&&oe(o,l),(!d||p&64)&&c!==(c=m[6].format(m[9].date)+"")&&oe(f,c)},i(m){d||(_(e.$$.fragment,m),d=!0)},o(m){v(e.$$.fragment,m),d=!1},d(m){M(e,m),m&&y(t),m&&y(n)}}}function QBe(i){let e,t,n,r;return e=new Mn({props:{size:18}}),{c(){O(e.$$.fragment),t=Y(),n=A("span"),n.textContent=`${_e.t("general.searching","Searching...")}`,h(n,"class","ml-2")},m(s,l){N(e,s,l),w(s,t,l),w(s,n,l),r=!0},p:W,i(s){r||(_(e.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),r=!1},d(s){M(e,s),s&&y(t),s&&y(n)}}}function eze(i){let e=_e.t("general.continue","Continue Looking")+"",t,n;return{c(){t=Z(e),n=Z("...")},m(r,s){w(r,t,s),w(r,n,s)},p:W,d(r){r&&y(t),r&&y(n)}}}function tze(i){let e,t,n,r,s,l,o;t=new XBe({props:{fullDate:i[2],className:"bg-transparent mb-4 "+i[0],compact:i[1],logs:i[5],showTimeDiff:i[3]}}),t.$on("trackerClick",i[15]),t.$on("locationClick",i[16]),t.$on("textClick",i[17]),t.$on("moreClick",i[18]);let a=!i[4]&&i[5].length==0&&qS(i);const u=[JBe,KBe],c=[];function f(d,m){return!d[4]&&d[7]?0:d[4]?1:-1}return~(s=f(i))&&(l=c[s]=u[s](i)),{c(){e=A("div"),O(t.$$.fragment),n=Y(),a&&a.c(),r=Y(),l&&l.c(),h(e,"class","log-list-loader svelte-1qv8767")},m(d,m){w(d,e,m),N(t,e,null),E(e,n),a&&a.m(e,null),E(e,r),~s&&c[s].m(e,null),o=!0},p(d,[m]){const p={};m&4&&(p.fullDate=d[2]),m&1&&(p.className="bg-transparent mb-4 "+d[0]),m&2&&(p.compact=d[1]),m&32&&(p.logs=d[5]),m&8&&(p.showTimeDiff=d[3]),t.$set(p),!d[4]&&d[5].length==0?a?a.p(d,m):(a=qS(d),a.c(),a.m(e,r)):a&&(a.d(1),a=null);let g=s;s=f(d),s===g?~s&&c[s].p(d,m):(l&&(ie(),v(c[g],1,1,()=>{c[g]=null}),re()),~s?(l=c[s],l?l.p(d,m):(l=c[s]=u[s](d),l.c()),_(l,1),l.m(e,null)):l=null)},i(d){o||(_(t.$$.fragment,d),_(l),o=!0)},o(d){v(t.$$.fragment,d),v(l),o=!1},d(d){d&&y(e),M(t),a&&a.d(),~s&&c[s].d()}}}function nze(i,e,t){const n=Dt();let{term:r=null}=e,{limit:s=20}=e,{className:l=""}=e,{compact:o=!1}=e,{fullDate:a=!0}=e,{results:u=[]}=e,{showTimeDiff:c=!1}=e,f=!1,d=[],m,p;const g=Pn();let k;function $(){t(5,d=[]),t(7,p=null),t(6,m=null),t(14,k=null)}async function D(){t(4,f=!0);const I=or.book_time_unit,R=m?we(m).subtract(s,I):we().subtract(s,I),B=p?we(p).subtract(s,I):we();let z=await Ut.query({start:R.toDate(),end:B.toDate(),search:r,caller:"log-list-loader"});t(5,d=[...d,...z].sort((q,H)=>q.end>H.end?1:-1)),t(6,m=R),t(7,p=B),await Fr(12),t(4,f=!1),t(11,u=d)}wt(()=>{$()});const F=I=>{n("trackerClick",I.detail)},C=I=>{n("locationClick",I.detail)},S=I=>{n("textClick",I.detail)},P=I=>{n("moreClick",I.detail)};return i.$$set=I=>{"term"in I&&t(12,r=I.term),"limit"in I&&t(13,s=I.limit),"className"in I&&t(0,l=I.className),"compact"in I&&t(1,o=I.compact),"fullDate"in I&&t(2,a=I.fullDate),"results"in I&&t(11,u=I.results),"showTimeDiff"in I&&t(3,c=I.showTimeDiff)},i.$$.update=()=>{i.$$.dirty&20480&&r&&k!==r&&(t(14,k=r),$(),D())},[l,o,a,c,f,d,m,p,n,g,D,u,r,s,k,F,C,S,P]}class ize extends ce{constructor(e){super(),ue(this,e,nze,tze,le,{term:12,limit:13,className:0,compact:1,fullDate:2,results:11,showTimeDiff:3})}}function HS(i){let e,t,n,r;function s(o){i[3](o)}let l={fullDate:!0,showTimeDiff:!0,term:i[0],limit:20,className:"bg-transparent"};return i[1]!==void 0&&(l.results=i[1]),t=new ize({props:l}),De.push(()=>Ue(t,"results",s,i[1])),t.$on("textClick",i[4]),t.$on("moreClick",i[5]),{c(){e=A("section"),O(t.$$.fragment),h(e,"class","h-full p-4 search-results")},m(o,a){w(o,e,a),N(t,e,null),r=!0},p(o,a){const u={};a&1&&(u.term=o[0]),!n&&a&2&&(n=!0,u.results=o[1],qe(()=>n=!1)),t.$set(u)},i(o){r||(_(t.$$.fragment,o),r=!0)},o(o){v(t.$$.fragment,o),r=!1},d(o){o&&y(e),M(t)}}}function rze(i){let e,t,n=i[0]&&HS(i);return{c(){e=A("main"),n&&n.c(),h(e,"class","h-full mb-4 bg-gray-200 filler dark:bg-gray-800")},m(r,s){w(r,e,s),n&&n.m(e,null),t=!0},p(r,s){r[0]?n?(n.p(r,s),s&1&&_(n,1)):(n=HS(r),n.c(),_(n,1),n.m(e,null)):n&&(ie(),v(n,1,1,()=>{n=null}),re())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){r&&y(e),n&&n.d()}}}function sze(i){let e,t;return e=new Gp({props:{className:"h-full",$$slots:{default:[rze]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&71&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function lze(i,e,t){let n;Ee(i,It,u=>t(2,n=u));let{term:r}=e,s=[];function l(u){s=u,t(1,s)}const o=u=>{Ui(pi(u.detail,n.trackables))},a=u=>{Xe.logOptions(u.detail).then(()=>{})};return i.$$set=u=>{"term"in u&&t(0,r=u.term)},[r,s,n,l,o,a]}class oze extends ce{constructor(e){super(),ue(this,e,lze,sze,le,{term:0})}}function WS(i,e,t){const n=i.slice();return n[9]=e[t],n}function VS(i,e,t){const n=i.slice();return n[9]=e[t],n}function GS(i){let e,t,n,r,s,l;e=new xe({props:{itemDivider:!0,compact:!0,className:"bg-transparent",$$slots:{right:[hze],default:[aze]},$$scope:{ctx:i}}});const o=[pze,mze],a=[];function u(c,f){return c[1].view==="trackers"?0:1}return n=u(i),r=a[n]=o[n](i),{c(){O(e.$$.fragment),t=Y(),r.c(),s=$e()},m(c,f){N(e,c,f),w(c,t,f),a[n].m(c,f),w(c,s,f),l=!0},p(c,f){const d={};f&16388&&(d.$$scope={dirty:f,ctx:c}),e.$set(d);let m=n;n=u(c),n===m?a[n].p(c,f):(ie(),v(a[m],1,1,()=>{a[m]=null}),re(),r=a[n],r?r.p(c,f):(r=a[n]=o[n](c),r.c()),_(r,1),r.m(s.parentNode,s))},i(c){l||(_(e.$$.fragment,c),_(r),l=!0)},o(c){v(e.$$.fragment,c),v(r),l=!1},d(c){M(e,c),c&&y(t),a[n].d(c),c&&y(s)}}}function aze(i){let e=_e.t("search.previous-searches","Previous Searches")+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p:W,d(n){n&&y(t)}}}function uze(i){let e,t;return e=new Me({props:{size:"sm",color:"transparent",className:"text-red",$$slots:{default:[fze]},$$scope:{ctx:i}}}),e.$on("click",i[5]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&16384&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function cze(i){let e,t;return e=new Me({props:{color:"transparent",size:"sm",$$slots:{default:[dze]},$$scope:{ctx:i}}}),e.$on("click",i[4]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&16384&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function fze(i){let e=_e.t("general.done","Done")+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p:W,d(n){n&&y(t)}}}function dze(i){let e=_e.t("general.edit","Edit")+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p:W,d(n){n&&y(t)}}}function hze(i){let e,t,n,r;const s=[cze,uze],l=[];function o(a,u){return a[2]!="edit"?0:1}return t=o(i),n=l[t]=s[t](i),{c(){e=A("div"),n.c(),h(e,"slot","right")},m(a,u){w(a,e,u),l[t].m(e,null),r=!0},p(a,u){let c=t;t=o(a),t===c?l[t].p(a,u):(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),n=l[t],n?n.p(a,u):(n=l[t]=s[t](a),n.c()),_(n,1),n.m(e,null))},i(a){r||(_(n),r=!0)},o(a){v(n),r=!1},d(a){a&&y(e),l[t].d()}}}function mze(i){let e=[],t=new Map,n,r,s=i[0];const l=o=>o[9].term;for(let o=0;o<s.length;o+=1){let a=WS(i,s,o),u=l(a);t.set(u,e[o]=xS(u,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();n=$e()},m(o,a){for(let u=0;u<e.length;u+=1)e[u].m(o,a);w(o,n,a),r=!0},p(o,a){a&5&&(s=o[0],ie(),e=qn(e,a,l,1,o,s,t,n.parentNode,Ci,xS,n,WS),re())},i(o){if(!r){for(let a=0;a<s.length;a+=1)_(e[a]);r=!0}},o(o){for(let a=0;a<e.length;a+=1)v(e[a]);r=!1},d(o){for(let a=0;a<e.length;a+=1)e[a].d(o);o&&y(n)}}}function pze(i){let e,t,n,r;const s=[yze,kze],l=[];function o(a,u){return a[2]!=="edit"?0:1}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=$e()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?l[e].p(a,u):(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function _ze(i){let e=i[9].term+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p(n,r){r&1&&e!==(e=n[9].term+"")&&oe(t,e)},d(n){n&&y(t)}}}function gze(i){let e,t,n;return e=new Di({props:{$$slots:{default:[_ze]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment),t=Y()},m(r,s){N(e,r,s),w(r,t,s),n=!0},p(r,s){const l={};s&16385&&(l.$$scope={dirty:s,ctx:r}),e.$set(l)},i(r){n||(_(e.$$.fragment,r),n=!0)},o(r){v(e.$$.fragment,r),n=!1},d(r){M(e,r),r&&y(t)}}}function ZS(i){let e,t;function n(){return i[7](i[9])}return e=new Me({props:{size:"sm",color:"danger",$$slots:{default:[vze]},$$scope:{ctx:i}}}),e.$on("click",n),{c(){O(e.$$.fragment)},m(r,s){N(e,r,s),t=!0},p(r,s){i=r;const l={};s&16384&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){M(e,r)}}}function vze(i){let e;return{c(){e=Z("Delete")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function bze(i){let e,t,n,r=i[2]=="edit"&&ZS(i);return{c(){e=A("div"),r&&r.c(),t=Y(),h(e,"slot","right")},m(s,l){w(s,e,l),r&&r.m(e,null),E(e,t),n=!0},p(s,l){s[2]=="edit"?r?(r.p(s,l),l&4&&_(r,1)):(r=ZS(s),r.c(),_(r,1),r.m(e,t)):r&&(ie(),v(r,1,1,()=>{r=null}),re())},i(s){n||(_(r),n=!0)},o(s){v(r),n=!1},d(s){s&&y(e),r&&r.d()}}}function xS(i,e){let t,n,r;function s(...l){return e[8](e[9],...l)}return n=new xe({props:{clickable:e[2]!=="edit",bottomLine:42,$$slots:{right:[bze],default:[gze]},$$scope:{ctx:e}}}),n.$on("click",s),{key:i,first:null,c(){t=$e(),O(n.$$.fragment),this.first=t},m(l,o){w(l,t,o),N(n,l,o),r=!0},p(l,o){e=l;const a={};o&4&&(a.clickable=e[2]!=="edit"),o&16389&&(a.$$scope={dirty:o,ctx:e}),n.$set(a)},i(l){r||(_(n.$$.fragment,l),r=!0)},o(l){v(n.$$.fragment,l),r=!1},d(l){l&&y(t),M(n,l)}}}function kze(i){let e=[],t=new Map,n,r,s=i[0].reverse();const l=o=>o[9].term;for(let o=0;o<s.length;o+=1){let a=VS(i,s,o),u=l(a);t.set(u,e[o]=XS(u,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();n=$e()},m(o,a){for(let u=0;u<e.length;u+=1)e[u].m(o,a);w(o,n,a),r=!0},p(o,a){a&1&&(s=o[0].reverse(),ie(),e=qn(e,a,l,1,o,s,t,n.parentNode,Ci,XS,n,VS),re())},i(o){if(!r){for(let a=0;a<s.length;a+=1)_(e[a]);r=!0}},o(o){for(let a=0;a<e.length;a+=1)v(e[a]);r=!1},d(o){for(let a=0;a<e.length;a+=1)e[a].d(o);o&&y(n)}}}function yze(i){return{c:W,m:W,p:W,i:W,o:W,d:W}}function wze(i){let e;return{c(){e=Z("Delete")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function $ze(i){let e,t,n,r;function s(){return i[6](i[9])}return t=new Me({props:{text:!0,size:"sm",style:"color:var(--color-red)",$$slots:{default:[wze]},$$scope:{ctx:i}}}),t.$on("click",s),{c(){e=A("div"),O(t.$$.fragment),n=Y(),h(e,"slot","right")},m(l,o){w(l,e,o),N(t,e,null),E(e,n),r=!0},p(l,o){i=l;const a={};o&16384&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(l){r||(_(t.$$.fragment,l),r=!0)},o(l){v(t.$$.fragment,l),r=!1},d(l){l&&y(e),M(t)}}}function XS(i,e){let t,n,r;return n=new xe({props:{title:e[9].term,$$slots:{right:[$ze]},$$scope:{ctx:e}}}),{key:i,first:null,c(){t=$e(),O(n.$$.fragment),this.first=t},m(s,l){w(s,t,l),N(n,s,l),r=!0},p(s,l){e=s;const o={};l&1&&(o.title=e[9].term),l&16385&&(o.$$scope={dirty:l,ctx:e}),n.$set(o)},i(s){r||(_(n.$$.fragment,s),r=!0)},o(s){v(n.$$.fragment,s),r=!1},d(s){s&&y(t),M(n,s)}}}function Fze(i){let e,t,n=i[0].length&&GS(i);return{c(){n&&n.c(),e=$e()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,[s]){r[0].length?n?(n.p(r,s),s&1&&_(n,1)):(n=GS(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ie(),v(n,1,1,()=>{n=null}),re())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function Eze(i,e,t){let n;Ee(i,Xs,d=>t(1,n=d));let r="view",s;function l(){t(2,r=r==="view"?"edit":"view")}const o=()=>{l()},a=()=>{l()},u=d=>{Xs.remove(d)},c=d=>{Xs.remove(d)},f=(d,m)=>{r=="view"&&Xs.update(p=>(p.active=d,p.view=d.type,p))};return i.$$.update=()=>{i.$$.dirty&3&&(n.saved.length||n.view)&&(t(0,s=n.saved.filter(d=>d.type===n.view).reverse()),t(0,s),t(1,n))},[s,n,r,l,o,a,u,c,f]}class Dze extends ce{constructor(e){super(),ue(this,e,Eze,Fze,le,{})}}function KS(i){let e,t;return e=new Dze({}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Cze(i){let e,t,n,r,s;function l(u){i[13](u)}let o={};i[2]!==void 0&&(o.term=i[2]),t=new oze({props:o}),De.push(()=>Ue(t,"term",l,i[2]));let a=!i[3].active&&i[3].show&&KS();return{c(){e=A("main"),O(t.$$.fragment),r=Y(),a&&a.c()},m(u,c){w(u,e,c),N(t,e,null),E(e,r),a&&a.m(e,null),s=!0},p(u,c){const f={};!n&&c&4&&(n=!0,f.term=u[2],qe(()=>n=!1)),t.$set(f),!u[3].active&&u[3].show?a?c&8&&_(a,1):(a=KS(),a.c(),_(a,1),a.m(e,null)):a&&(ie(),v(a,1,1,()=>{a=null}),re())},i(u){s||(_(t.$$.fragment,u),_(a),s=!0)},o(u){v(t.$$.fragment,u),v(a),s=!1},d(u){u&&y(e),M(t),a&&a.d()}}}function Sze(i){let e=_e.t("general.close","Close")+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p:W,d(n){n&&y(t)}}}function JS(i){let e,t;return e=new b_({}),e.$on("Escape",i[12]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Tze(i){let e,t,n,r,s;e=new Me({props:{clear:!0,primary:!0,$$slots:{default:[Sze]},$$scope:{ctx:i}}}),e.$on("click",i[5]);let l=i[4]===i[1]&&JS(i);return r=new iu({props:{compact:!0,className:"filler",autofocus:!0,searchTerm:i[0]||"",placeholder:_e.t("search.search-history","Search History...")}}),r.$on("search",i[7]),r.$on("clear",i[6]),{c(){O(e.$$.fragment),t=Y(),l&&l.c(),n=Y(),O(r.$$.fragment)},m(o,a){N(e,o,a),w(o,t,a),l&&l.m(o,a),w(o,n,a),N(r,o,a),s=!0},p(o,a){const u={};a&16384&&(u.$$scope={dirty:a,ctx:o}),e.$set(u),o[4]===o[1]?l?(l.p(o,a),a&18&&_(l,1)):(l=JS(o),l.c(),_(l,1),l.m(n.parentNode,n)):l&&(ie(),v(l,1,1,()=>{l=null}),re());const c={};a&1&&(c.searchTerm=o[0]||""),r.$set(c)},i(o){s||(_(e.$$.fragment,o),_(l),_(r.$$.fragment,o),s=!0)},o(o){v(e.$$.fragment,o),v(l),v(r.$$.fragment,o),s=!1},d(o){M(e,o),o&&y(t),l&&l.d(o),o&&y(n),M(r,o)}}}function Aze(i){let e,t;return e=new Sr({props:{slot:"header",$$slots:{default:[Tze]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&16403&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Pze(i){let e;return{c(){e=A("div"),h(e,"slot","footer")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function Nze(i){let e,t;return e=new _n({props:{className:"h-full",headerClass:"glass",$$slots:{footer:[Pze],header:[Aze],default:[Cze]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&16415&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Mze(i,e,t){let n,r;Ee(i,Xs,$=>t(3,n=$)),Ee(i,oN,$=>t(4,r=$));const s=void 0,l=void 0,o="";let{id:a}=e,{term:u}=e,c;function f(){Xs.clear(),t(0,u=void 0),Ot(a)}let d=!1;function m(){Xs.clear(),t(0,u=void 0)}function p($){t(0,u=$.detail),u&&Xs.setActiveTerm(new f0({term:u,type:"history"}))}const g=()=>{Ot(a)};function k($){c=$,t(2,c),t(3,n)}return i.$$set=$=>{"id"in $&&t(1,a=$.id),"term"in $&&t(0,u=$.term)},i.$$.update=()=>{var $,D;i.$$.dirty&8&&n&&(($=n.active)==null?void 0:$.term)&&t(2,c=n.active.term),i.$$.dirty&8&&(D=n.active)!=null&&D.term&&t(0,u=n.active.term),i.$$.dirty&2052&&c&&!d&&(t(11,d=!0),Xs.setActiveTerm(new f0({searchTerm:c,type:"history"})))},[u,a,c,n,r,f,m,p,s,l,o,d,g,k]}class Lze extends ce{constructor(e){super(),ue(this,e,Mze,Nze,le,{location:8,style:9,className:10,id:1,term:0})}get location(){return this.$$.ctx[8]}get style(){return this.$$.ctx[9]}get className(){return this.$$.ctx[10]}}new Uo("\u{1F575}\uFE0F\u200D\u2642\uFE0F $Search Store");class f0{constructor(e){Ne(this,"term");Ne(this,"date");Ne(this,"type");typeof e=="string"?this.term=e:(e=e||{},this.term=e.term,this.date=new Date),this.type=e.type||"history"}}let xh;const Oze=()=>{let i={saved:[],active:null,show:!1,view:"history"};const{update:e,subscribe:t,set:n}=Bt(i);function r(l,o){return l.saved.find(u=>(u.term||"").toLowerCase().trim()==(o.term||"").toLowerCase().trim())||l.saved.push(o),xh.put(Xn.storage.search(),l.saved),l}const s={init(){xh=new N0("search"),e(l=>(l.saved=xh.get(Xn.storage.search())||[],l.saved=l.saved.filter(o=>o).map(o=>new f0(o)),l))},view(l,o){e(a=>(a.view=l,a.active={term:o,date:new Date,type:l},a.show=!0,a)),en({id:`search-${o}`,position:"fullscreen",tappable:!0,component:Lze,componentProps:{searchTerm:o}})},clear(){e(l=>(l.active=void 0,l))},hide(){e(l=>(l.show=!1,l))},search(l,o="history"){s.view("history",l)},setActiveTerm(l){e(o=>(o=r(o,l),o.active=l,o))},save(l){e(o=>(o=r(o,l),o))},close(){e(l=>(l.active=void 0,l.show=!1,l))},remove(l){e(o=>(o.saved=o.saved.filter(a=>(a.term||"").toLowerCase().trim()!=(l.term||"").toLowerCase().trim()),xh.put(Xn.storage.search(),o.saved),o))}};return{update:e,subscribe:t,set:n,...s}},Xs=Oze();function QS(i,e,t){const n=i.slice();return n[35]=e[t],n[37]=t,n}function e7(i,e,t){const n=i.slice();return n[38]=e[t],n[37]=t,n}function t7(i,e,t){const n=i.slice();return n[40]=e[t],n[37]=t,n}function n7(i,e,t){const n=i.slice();return n[42]=e[t],n[37]=t,n}function i7(i){let e,t;return e=new b_({}),e.$on("Escape",i[18]),e.$on("key",i[19]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function r7(i){var C,S,P;let e,t,n=i[2].trackables.length>0||((C=i[0])==null?void 0:C.substring(0,1))==="#"||((S=i[0])==null?void 0:S.substring(0,1))==="@"||((P=i[0])==null?void 0:P.substring(0,1))==="+",r,s,l,o,a,u,c,f,d,m,p,g,k,$=i[2].exactTrackable&&s7(i),D=i[2].commands.length&&a7(i),F=n&&h7(i);return s=new Ft({props:{$$slots:{default:[jze]},$$scope:{ctx:i}}}),o=new Tn({props:{left:1}}),m=new Ft({props:{$$slots:{default:[Yze]},$$scope:{ctx:i}}}),{c(){$&&$.c(),e=Y(),D&&D.c(),t=Y(),F&&F.c(),r=Y(),O(s.$$.fragment),l=Y(),O(o.$$.fragment),a=Y(),u=A("header"),c=Z("Notes"),d=Y(),O(m.$$.fragment),h(u,"class",f="list-header "+(i[4]?"":"opacity-50"))},m(I,R){$&&$.m(I,R),w(I,e,R),D&&D.m(I,R),w(I,t,R),F&&F.m(I,R),w(I,r,R),N(s,I,R),w(I,l,R),N(o,I,R),w(I,a,R),w(I,u,R),E(u,c),w(I,d,R),N(m,I,R),p=!0,g||(k=ke(u,"click",i[27]),g=!0)},p(I,R){var q,H,K;I[2].exactTrackable?$?($.p(I,R),R[0]&4&&_($,1)):($=s7(I),$.c(),_($,1),$.m(e.parentNode,e)):$&&(ie(),v($,1,1,()=>{$=null}),re()),I[2].commands.length?D?(D.p(I,R),R[0]&4&&_(D,1)):(D=a7(I),D.c(),_(D,1),D.m(t.parentNode,t)):D&&(ie(),v(D,1,1,()=>{D=null}),re()),R[0]&5&&(n=I[2].trackables.length>0||((q=I[0])==null?void 0:q.substring(0,1))==="#"||((H=I[0])==null?void 0:H.substring(0,1))==="@"||((K=I[0])==null?void 0:K.substring(0,1))==="+"),n?F?F.p(I,R):(F=h7(I),F.c(),F.m(r.parentNode,r)):F&&(F.d(1),F=null);const B={};R[0]&37|R[1]&8192&&(B.$$scope={dirty:R,ctx:I}),s.$set(B),(!p||R[0]&16&&f!==(f="list-header "+(I[4]?"":"opacity-50")))&&h(u,"class",f);const z={};R[0]&21|R[1]&8192&&(z.$$scope={dirty:R,ctx:I}),m.$set(z)},i(I){p||(_($),_(D),_(s.$$.fragment,I),_(o.$$.fragment,I),_(m.$$.fragment,I),p=!0)},o(I){v($),v(D),v(s.$$.fragment,I),v(o.$$.fragment,I),v(m.$$.fragment,I),p=!1},d(I){$&&$.d(I),I&&y(e),D&&D.d(I),I&&y(t),F&&F.d(I),I&&y(r),M(s,I),I&&y(l),M(o,I),I&&y(a),I&&y(u),I&&y(d),M(m,I),g=!1,k()}}}function s7(i){let e,t=i[2].exactTrackable.label+"",n,r,s,l,o,a,u,c;return s=new Ft({props:{$$slots:{default:[Ize]},$$scope:{ctx:i}}}),o=new Tn({props:{left:1}}),{c(){e=A("header"),n=Z(t),r=Y(),O(s.$$.fragment),l=Y(),O(o.$$.fragment),h(e,"class","list-header")},m(f,d){w(f,e,d),E(e,n),w(f,r,d),N(s,f,d),w(f,l,d),N(o,f,d),a=!0,u||(c=ke(e,"click",Gze),u=!0)},p(f,d){(!a||d[0]&4)&&t!==(t=f[2].exactTrackable.label+"")&&oe(n,t);const m={};d[0]&12|d[1]&8192&&(m.$$scope={dirty:d,ctx:f}),s.$set(m)},i(f){a||(_(s.$$.fragment,f),_(o.$$.fragment,f),a=!0)},o(f){v(s.$$.fragment,f),v(o.$$.fragment,f),a=!1},d(f){f&&y(e),f&&y(r),M(s,f),f&&y(l),M(o,f),u=!1,c()}}}function l7(i){let e,t;return e=new Tn({props:{left:16}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function o7(i){let e,t,n,r,s=i[42].title+"",l,o,a,u,c,f,d,m;t=new fi({props:{trackable:i[2].exactTrackable,size:22}}),a=new je({props:{icon:i[42].icon}});function p(){return i[20](i[42])}let g=i[37]<i[3].length-1&&l7();return{c(){e=A("button"),O(t.$$.fragment),n=Y(),r=A("main"),l=Z(s),o=Y(),O(a.$$.fragment),u=Y(),g&&g.c(),c=$e(),h(e,"class","selectable capitalize")},m(k,$){w(k,e,$),N(t,e,null),E(e,n),E(e,r),E(r,l),E(e,o),N(a,e,null),w(k,u,$),g&&g.m(k,$),w(k,c,$),f=!0,d||(m=ke(e,"click",p),d=!0)},p(k,$){i=k;const D={};$[0]&4&&(D.trackable=i[2].exactTrackable),t.$set(D),(!f||$[0]&8)&&s!==(s=i[42].title+"")&&oe(l,s);const F={};$[0]&8&&(F.icon=i[42].icon),a.$set(F),i[37]<i[3].length-1?g?$[0]&8&&_(g,1):(g=l7(),g.c(),_(g,1),g.m(c.parentNode,c)):g&&(ie(),v(g,1,1,()=>{g=null}),re())},i(k){f||(_(t.$$.fragment,k),_(a.$$.fragment,k),_(g),f=!0)},o(k){v(t.$$.fragment,k),v(a.$$.fragment,k),v(g),f=!1},d(k){k&&y(e),M(t),M(a),k&&y(u),g&&g.d(k),k&&y(c),d=!1,m()}}}function Ize(i){let e,t,n=i[3],r=[];for(let l=0;l<n.length;l+=1)r[l]=o7(n7(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=$e()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o[0]&12){n=l[3];let a;for(a=0;a<n.length;a+=1){const u=n7(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=o7(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ie(),a=n.length;a<r.length;a+=1)s(a);re()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){it(r,l),l&&y(e)}}}function a7(i){let e,t,n,r,s,l,o,a,u,c;return s=new Ft({props:{className:"rounded-none",$$slots:{default:[Bze]},$$scope:{ctx:i}}}),o=new Tn({props:{left:1}}),{c(){e=A("header"),t=Z("Commands"),r=Y(),O(s.$$.fragment),l=Y(),O(o.$$.fragment),h(e,"class",n="list-header "+(i[6]?"":"opacity-50"))},m(f,d){w(f,e,d),E(e,t),w(f,r,d),N(s,f,d),w(f,l,d),N(o,f,d),a=!0,u||(c=ke(e,"click",i[21]),u=!0)},p(f,d){(!a||d[0]&64&&n!==(n="list-header "+(f[6]?"":"opacity-50")))&&h(e,"class",n);const m={};d[0]&68|d[1]&8192&&(m.$$scope={dirty:d,ctx:f}),s.$set(m)},i(f){a||(_(s.$$.fragment,f),_(o.$$.fragment,f),a=!0)},o(f){v(s.$$.fragment,f),v(o.$$.fragment,f),a=!1},d(f){f&&y(e),f&&y(r),M(s,f),f&&y(l),M(o,f),u=!1,c()}}}function u7(i){let e,t,n=i[2].commands,r=[];for(let l=0;l<n.length;l+=1)r[l]=d7(t7(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=$e()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o[0]&4){n=l[2].commands;let a;for(a=0;a<n.length;a+=1){const u=t7(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=d7(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ie(),a=n.length;a<r.length;a+=1)s(a);re()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){it(r,l),l&&y(e)}}}function c7(i){let e,t;return e=new je({props:{icon:i[40].icon}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[0]&4&&(s.icon=n[40].icon),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function f7(i){let e,t;return e=new Tn({props:{left:16}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function d7(i){let e,t,n=i[40].title+"",r,s,l,o,a,u,c,f=i[40].icon&&c7(i);function d(){return i[22](i[40])}let m=i[37]<i[2].commands.length-1&&f7();return{c(){e=A("button"),t=A("main"),r=Z(n),s=Y(),f&&f.c(),l=Y(),m&&m.c(),o=$e(),h(e,"class","selectable")},m(p,g){w(p,e,g),E(e,t),E(t,r),E(e,s),f&&f.m(e,null),w(p,l,g),m&&m.m(p,g),w(p,o,g),a=!0,u||(c=ke(e,"click",d),u=!0)},p(p,g){i=p,(!a||g[0]&4)&&n!==(n=i[40].title+"")&&oe(r,n),i[40].icon?f?(f.p(i,g),g[0]&4&&_(f,1)):(f=c7(i),f.c(),_(f,1),f.m(e,null)):f&&(ie(),v(f,1,1,()=>{f=null}),re()),i[37]<i[2].commands.length-1?m?g[0]&4&&_(m,1):(m=f7(),m.c(),_(m,1),m.m(o.parentNode,o)):m&&(ie(),v(m,1,1,()=>{m=null}),re())},i(p){a||(_(f),_(m),a=!0)},o(p){v(f),v(m),a=!1},d(p){p&&y(e),f&&f.d(),p&&y(l),m&&m.d(p),p&&y(o),u=!1,c()}}}function Bze(i){let e,t,n=i[6]&&u7(i);return{c(){n&&n.c(),e=$e()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,s){r[6]?n?(n.p(r,s),s[0]&64&&_(n,1)):(n=u7(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ie(),v(n,1,1,()=>{n=null}),re())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function h7(i){let e,t,n,r,s;return{c(){e=A("header"),t=Z("Trackables"),h(e,"class",n="list-header "+(i[5]?"":"opacity-50"))},m(l,o){w(l,e,o),E(e,t),r||(s=ke(e,"click",i[23]),r=!0)},p(l,o){o[0]&32&&n!==(n="list-header "+(l[5]?"":"opacity-50"))&&h(e,"class",n)},d(l){l&&y(e),r=!1,s()}}}function m7(i){let e,t,n,r,s,l=i[2].trackables,o=[];for(let d=0;d<l.length;d+=1)o[d]=_7(e7(i,l,d));const a=d=>v(o[d],1,1,()=>{o[d]=null});function u(d,m){var p,g;if(m[0]&5&&(t=null),m[0]&5&&(n=null),t==null&&(t=((p=d[0])==null?void 0:p.substring(0,1))==="#"&&d[2].trackables.length===0),t)return Rze;if(n==null&&(n=((g=d[0])==null?void 0:g.substring(0,1))==="@"&&d[2].trackables.length===0),n)return zze}let c=u(i,[-1,-1]),f=c&&c(i);return{c(){for(let d=0;d<o.length;d+=1)o[d].c();e=Y(),f&&f.c(),r=$e()},m(d,m){for(let p=0;p<o.length;p+=1)o[p].m(d,m);w(d,e,m),f&&f.m(d,m),w(d,r,m),s=!0},p(d,m){if(m[0]&4){l=d[2].trackables;let p;for(p=0;p<l.length;p+=1){const g=e7(d,l,p);o[p]?(o[p].p(g,m),_(o[p],1)):(o[p]=_7(g),o[p].c(),_(o[p],1),o[p].m(e.parentNode,e))}for(ie(),p=l.length;p<o.length;p+=1)a(p);re()}c===(c=u(d,m))&&f?f.p(d,m):(f&&f.d(1),f=c&&c(d),f&&(f.c(),f.m(r.parentNode,r)))},i(d){if(!s){for(let m=0;m<l.length;m+=1)_(o[m]);s=!0}},o(d){o=o.filter(Boolean);for(let m=0;m<o.length;m+=1)v(o[m]);s=!1},d(d){it(o,d),d&&y(e),f&&f.d(d),d&&y(r)}}}function p7(i){let e,t;return e=new Tn({props:{left:48}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function _7(i){let e,t,n,r,s=i[38].label+"",l,o,a,u,c,f,d,m;t=new fi({props:{trackable:i[38],size:22}});function p(){return i[24](i[38])}let g=i[37]<i[2].trackables.length-1&&p7();return{c(){e=A("button"),O(t.$$.fragment),n=Y(),r=A("main"),l=Z(s),o=Y(),a=A("span"),a.textContent="Open",u=Y(),g&&g.c(),c=$e(),h(a,"class","action"),h(e,"class","selectable")},m(k,$){w(k,e,$),N(t,e,null),E(e,n),E(e,r),E(r,l),E(e,o),E(e,a),w(k,u,$),g&&g.m(k,$),w(k,c,$),f=!0,d||(m=ke(e,"click",p),d=!0)},p(k,$){i=k;const D={};$[0]&4&&(D.trackable=i[38]),t.$set(D),(!f||$[0]&4)&&s!==(s=i[38].label+"")&&oe(l,s),i[37]<i[2].trackables.length-1?g?$[0]&4&&_(g,1):(g=p7(),g.c(),_(g,1),g.m(c.parentNode,c)):g&&(ie(),v(g,1,1,()=>{g=null}),re())},i(k){f||(_(t.$$.fragment,k),_(g),f=!0)},o(k){v(t.$$.fragment,k),v(g),f=!1},d(k){k&&y(e),M(t),k&&y(u),g&&g.d(k),k&&y(c),d=!1,m()}}}function zze(i){let e,t,n,r,s,l,o,a;return{c(){e=A("button"),t=A("main"),n=Z(i[0]),r=Z(" not found"),s=Y(),l=A("div"),l.textContent="Create...",h(l,"class","action"),h(e,"class","selectable")},m(u,c){w(u,e,c),E(e,t),E(t,n),E(t,r),E(e,s),E(e,l),o||(a=ke(e,"click",i[26]),o=!0)},p(u,c){c[0]&1&&oe(n,u[0])},d(u){u&&y(e),o=!1,a()}}}function Rze(i){let e,t,n,r,s,l,o,a;return{c(){e=A("button"),t=A("main"),n=Z(i[0]),r=Z(" doesn't exist"),s=Y(),l=A("div"),l.textContent="Create...",h(l,"class","action"),h(e,"class","selectable")},m(u,c){w(u,e,c),E(e,t),E(t,n),E(t,r),E(e,s),E(e,l),o||(a=ke(e,"click",i[25]),o=!0)},p(u,c){c[0]&1&&oe(n,u[0])},d(u){u&&y(e),o=!1,a()}}}function jze(i){let e,t,n=i[5]&&m7(i);return{c(){n&&n.c(),e=$e()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,s){r[5]?n?(n.p(r,s),s[0]&32&&_(n,1)):(n=m7(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ie(),v(n,1,1,()=>{n=null}),re())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function g7(i){let e,t,n,r,s,l,o,a,u,c,f=i[2].logs,d=[];for(let p=0;p<f.length;p+=1)d[p]=v7(QS(i,f,p));const m=p=>v(d[p],1,1,()=>{d[p]=null});return{c(){for(let p=0;p<d.length;p+=1)d[p].c();e=Y(),t=A("button"),n=A("main"),r=Z("Search all notes for: "),s=Z(i[0]),l=Y(),o=A("div"),o.textContent="Search...",h(n,"class","text-sm leading-tight"),h(o,"class","action"),h(t,"class","selectable")},m(p,g){for(let k=0;k<d.length;k+=1)d[k].m(p,g);w(p,e,g),w(p,t,g),E(t,n),E(n,r),E(n,s),E(t,l),E(t,o),a=!0,u||(c=ke(t,"click",i[29]),u=!0)},p(p,g){if(g[0]&260){f=p[2].logs;let k;for(k=0;k<f.length;k+=1){const $=QS(p,f,k);d[k]?(d[k].p($,g),_(d[k],1)):(d[k]=v7($),d[k].c(),_(d[k],1),d[k].m(e.parentNode,e))}for(ie(),k=f.length;k<d.length;k+=1)m(k);re()}(!a||g[0]&1)&&oe(s,p[0])},i(p){if(!a){for(let g=0;g<f.length;g+=1)_(d[g]);a=!0}},o(p){d=d.filter(Boolean);for(let g=0;g<d.length;g+=1)v(d[g]);a=!1},d(p){it(d,p),p&&y(e),p&&y(t),u=!1,c()}}}function v7(i){let e,t,n,r=i[35].endDayjs().format(`${i[8].date} ${i[8].time}`)+"",s,l,o,a=i[35].note+"",u,c,f,d,m,p;function g(){return i[28](i[35])}return f=new Tn({props:{left:1}}),{c(){e=A("button"),t=A("main"),n=A("div"),s=Z(r),l=Y(),o=A("p"),u=Z(a),c=Y(),O(f.$$.fragment),h(n,"class","time text-xs text-gray-500"),h(o,"class","text-sm line-clamp-2 "),h(e,"class","selectable log")},m(k,$){w(k,e,$),E(e,t),E(t,n),E(n,s),E(t,l),E(t,o),E(o,u),w(k,c,$),N(f,k,$),d=!0,m||(p=ke(e,"click",g),m=!0)},p(k,$){i=k,(!d||$[0]&4)&&r!==(r=i[35].endDayjs().format(`${i[8].date} ${i[8].time}`)+"")&&oe(s,r),(!d||$[0]&4)&&a!==(a=i[35].note+"")&&oe(u,a)},i(k){d||(_(f.$$.fragment,k),d=!0)},o(k){v(f.$$.fragment,k),d=!1},d(k){k&&y(e),k&&y(c),M(f,k),m=!1,p()}}}function Yze(i){let e,t,n=i[4]&&g7(i);return{c(){n&&n.c(),e=$e()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,s){r[4]?n?(n.p(r,s),s[0]&16&&_(n,1)):(n=g7(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ie(),v(n,1,1,()=>{n=null}),re())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function b7(i){let e,t,n,r,s,l,o,a,u;return{c(){e=A("button"),t=A("main"),n=Z('"'),r=Z(i[0]),s=Z('"'),l=Y(),o=A("span"),o.textContent="Save as Note",h(t,"class","line-clamp-2"),h(o,"class","stiff action"),h(e,"class","selectable")},m(c,f){w(c,e,f),E(e,t),E(t,n),E(t,r),E(t,s),E(e,l),E(e,o),a||(u=ke(e,"click",i[30]),a=!0)},p(c,f){f[0]&1&&oe(r,c[0])},d(c){c&&y(e),a=!1,u()}}}function Uze(i){let e;return{c(){e=A("div"),e.textContent="Search notes, trackables, and trigger commands (like Create...)",h(e,"class","text-opacity-80 dark:bg-gray-900 text-gray-500 flex px-4 w-full items-center border-t text-xs leading-tight border-gray-500 border-opacity-20 py-2 pb-3 stiff space-x-4")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function qze(i){let e;return{c(){e=A("div"),e.innerHTML=`<div class="text-sm">\u2191\u2193 <span class="text-gray-400 text-sm">Select</span></div> 
      <div class="text-xs">\u2B90 <span class="text-gray-400 text-sm">Open</span></div> 
      <div class="filler"></div> 
      <div class="text-xs">esc <span class="text-gray-400 text-sm">Close</span></div>`,h(e,"class","hidden dark:text-gray-500 xl:flex px-4 w-full items-center border-t border-gray-500 border-opacity-20 py-2 stiff space-x-4")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Hze(i){let e,t,n,r,s,l,o,a,u=i[7]===i[1]&&i7(i),c=i[2]&&r7(i),f=i[0]&&i[0].length>9&&b7(i);function d(g,k){return g[2]?qze:Uze}let m=d(i),p=m(i);return{c(){u&&u.c(),e=Y(),t=A("main"),n=A("div"),r=Y(),c&&c.c(),s=Y(),f&&f.c(),l=Y(),p.c(),o=$e(),h(n,"id","unisearch-scroll-point"),h(t,"class","")},m(g,k){u&&u.m(g,k),w(g,e,k),w(g,t,k),E(t,n),E(t,r),c&&c.m(t,null),E(t,s),f&&f.m(t,null),w(g,l,k),p.m(g,k),w(g,o,k),a=!0},p(g,k){g[7]===g[1]?u?(u.p(g,k),k[0]&130&&_(u,1)):(u=i7(g),u.c(),_(u,1),u.m(e.parentNode,e)):u&&(ie(),v(u,1,1,()=>{u=null}),re()),g[2]?c?(c.p(g,k),k[0]&4&&_(c,1)):(c=r7(g),c.c(),_(c,1),c.m(t,s)):c&&(ie(),v(c,1,1,()=>{c=null}),re()),g[0]&&g[0].length>9?f?f.p(g,k):(f=b7(g),f.c(),f.m(t,null)):f&&(f.d(1),f=null),m!==(m=d(g))&&(p.d(1),p=m(g),p&&(p.c(),p.m(o.parentNode,o)))},i(g){a||(_(u),_(c),a=!0)},o(g){v(u),v(c),a=!1},d(g){u&&u.d(g),g&&y(e),g&&y(t),c&&c.d(),f&&f.d(),g&&y(l),p.d(g),g&&y(o)}}}function Wze(i){let e,t,n,r,s,l,o,a,u,c;return t=new je({props:{size:28,icon:dp,className:"text-gray-600 dark:text-gray-400  text-opacity-50 absolute top-3 left-2"}}),o=new je({props:{size:28,icon:pl,className:"text-gray-500"}}),{c(){e=A("header"),O(t.$$.fragment),n=Y(),r=A("input"),s=Y(),l=A("button"),O(o.$$.fragment),h(r,"id","search-field"),r.autofocus=!0,h(r,"type","text"),h(r,"placeholder","Search your Nomie"),h(r,"class","search-input rounded-t-2xl w-full"),h(l,"class","absolute top-3 rounded-full right-3 h-7 w-7 flex items-center justify-center"),h(e,"slot","header"),h(e,"class","input-wrapper w-full stuff flex items-stretch justify-items-stretch relative border-b border-gray-500 border-opacity-20")},m(f,d){w(f,e,d),N(t,e,null),E(e,n),E(e,r),mn(r,i[0]),E(e,s),E(e,l),N(o,l,null),a=!0,r.focus(),u||(c=[ke(r,"input",i[16]),ke(r,"input",i[17]),ke(l,"click",i[9])],u=!0)},p(f,d){d[0]&1&&r.value!==f[0]&&mn(r,f[0])},i(f){a||(_(t.$$.fragment,f),_(o.$$.fragment,f),a=!0)},o(f){v(t.$$.fragment,f),v(o.$$.fragment,f),a=!1},d(f){f&&y(e),M(t),M(o),u=!1,pt(c)}}}function Vze(i){let e,t;return e=new _n({props:{className:"unisearch",mainClass:"transition-all duration-200 h-50vh relative filler overflow-y-auto w-full",$$slots:{header:[Wze],default:[Hze]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[0]&255|r[1]&8192&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}const Gze=()=>{};function Zze(i,e,t){let n,r,s,l;Ee(i,Pj,te=>t(14,n=te)),Ee(i,It,te=>t(33,r=te)),Ee(i,Gz,te=>t(15,s=te)),Ee(i,oN,te=>t(7,l=te));let{searchTerm:o}=e,{id:a}=e,u,c=[],f=-1,d=Pn(),m=!0,p=!0,g=!0;wt(()=>{document.getElementById("search-field").focus(),s.term&&F(s.term)});let k=!1;const $=async()=>{Ot(a)};let D;const F=async te=>{t(0,o=te),clearTimeout(D),o.length>1&&(D=setTimeout(async()=>{const ge=await Jze(te);t(2,u=u||{commands:[],trackables:[],exactTrackable:void 0,logs:[]}),t(2,u.commands=ge.commands||[],u),t(2,u.trackables=ge.trackables||[],u),t(2,u.exactTrackable=ge.exactTrackable,u),t(2,u.logs=await Ut.query({search:x0(o),start:we().subtract(30,"day")}),u),t(3,c=P()),S(0)},400))},C=()=>{const te=document.querySelectorAll(".unisearch .selectable")[f];te&&te.click()};function S(te){const ge=document.querySelectorAll(".unisearch .selectable");te<0&&f<ge.length&&f>-2?f=f-1:te>0&&f>-2?f=f+1:f=0,f<-1&&(f=0),f>ge.length&&(f=0),ge.forEach((ae,ve)=>{ve!=f?ae.classList.remove("selected"):(ae.classList.add("selected"),ve!==0?ae.scrollIntoView({behavior:"smooth"}):document.getElementById("unisearch-scroll-point").scrollIntoView({behavior:"smooth"}))})}const P=()=>{var te,ge,ae;return[{title:`${(te=u==null?void 0:u.exactTrackable)==null?void 0:te.label} Stats`,icon:AP,click(){Rf(u==null?void 0:u.exactTrackable,{date:new Date,known:r.trackables})}},{title:`Track ${(ge=u==null?void 0:u.exactTrackable)==null?void 0:ge.tag}`,icon:cp,click(){var ve,Te;((ve=u.exactTrackable)==null?void 0:ve.type)==="tracker"?k_(u.exactTrackable.tracker,r.trackables):($(),xn.addElement((Te=u==null?void 0:u.exactTrackable)==null?void 0:Te.tag),xn.focus())}},{title:`Edit ${(ae=u==null?void 0:u.exactTrackable)==null?void 0:ae.label}`,icon:_l,click(){u.exactTrackable.type=="tracker"&&xi(u.exactTrackable.tracker.toTrackable())}}]};function I(){o=this.value,t(0,o),t(15,s),t(13,k)}const R=te=>{F(te.target.value)},B=()=>{Ot(a)},z=te=>{te.preventDefault(),te.stopPropagation(),te.stopImmediatePropagation(),te.detail=="ArrowDown"?S(1):te.detail=="ArrowUp"?S(-1):te.detail=="Enter"&&C()},q=te=>{te.click()},H=()=>{t(6,g=!g)},K=te=>{te.click()},G=()=>{t(5,p=!p)},U=te=>{Ui(te)},Q=()=>{xi(new oi({label:o.replace("#","")}).toTrackable())},V=()=>{Dz(o.replace("@",""))},x=()=>{t(4,m=!m)},ee=te=>{gc(te)},J=()=>{wz({search:o,notes:!0})},se=()=>{To(new Gt({note:o}))};return i.$$set=te=>{"searchTerm"in te&&t(0,o=te.searchTerm),"id"in te&&t(1,a=te.id)},i.$$.update=()=>{var te,ge;i.$$.dirty[0]&40961&&!o&&s.term&&!k&&(t(13,k=!0),t(0,o=s.term)),i.$$.dirty[0]&1&&(o==null?void 0:o.length)===0&&t(2,u=void 0),i.$$.dirty[0]&8193&&o&&!k&&(t(13,k=!0),F(o)),i.$$.dirty[0]&16384&&(n[n.length-1]==="unisearch"?(te=document.querySelector(".unisearch input"))==null||te.focus():(ge=document.querySelector(".unisearch input"))==null||ge.blur())},[o,a,u,c,m,p,g,l,d,$,F,C,S,k,n,s,I,R,B,z,q,H,K,G,U,Q,V,x,ee,J,se]}class xze extends ce{constructor(e){super(),ue(this,e,Zze,Vze,le,{searchTerm:0,id:1},null,[-1,-1])}}const Xze=[{title:"Create Custom tracker",description:"Create and Add a new tracker! ",click(){xi(new ri({type:"tracker"}))}},Ez(),{title:"Write Journal Entry",icon:_l,description:"Browse the nomie library of trackers, add create",click(){xn.journal(new Gt({}))}},{title:"Open Library",description:"Browse the nomie library of trackers, add create",click(){cb.toggle()}},{title:"Dark Theme",click(){St.update(i=>(i.theme="dark",Tf(i.theme),Rg(),i))}},{title:"Light Theme",click(){St.update(i=>(i.theme="light",Tf(i.theme),Rg(),i))}},{title:"System Theme",click(){St.update(i=>(i.theme="auto",Tf(i.theme),Rg(),i))}},{title:"Generate Backup",click(){Xb()}}],Kze={term:void 0,visible:!1},Gz=Bt(Kze),Rg=()=>{Ot("unisearch"),Gz.update(i=>({term:void 0,visible:!1}))},Va=i=>{Vl("open_unisearch"),en({id:"unisearch",component:xze,componentProps:{searchTerm:i},tappable:!0,position:"center"})},Jze=async i=>{let e;if(!i)return{commands:[],trackables:[],logs:[],exactTrackable:void 0};const t=Xze.filter(l=>JSON.stringify(l).toLowerCase().search(i.toLowerCase())>-1),n=await zL(),r=eu(n).filter(l=>JSON.stringify(l).toLowerCase().search(i.toLowerCase())>-1);return n[i]?e=n[i]:n[`#${i}`]?e=n[`#${i}`]:n[`@${i}`]&&(e=n[`@${i}`]),{commands:t,trackables:r,logs:[],exactTrackable:e}};function Qze(i){let e,t,n,r,s,l;return{c(){e=me("svg"),t=me("title"),n=Z("Calendar Number"),r=me("path"),h(r,"d","M416 64h-16V48.45c0-8.61-6.62-16-15.23-16.43A16 16 0 00368 48v16H144V48.45c0-8.61-6.62-16-15.23-16.43A16 16 0 00112 48v16H96a64 64 0 00-64 64v12a4 4 0 004 4h440a4 4 0 004-4v-12a64 64 0 00-64-64zM476 176H36a4 4 0 00-4 4v236a64 64 0 0064 64h320a64 64 0 0064-64V180a4 4 0 00-4-4zM239.58 401.1c-12.17 9.61-28.75 14.9-46.7 14.9-27.87 0-48.48-18.16-57.66-33.7a16 16 0 0127.56-16.3c1.08 1.84 11.15 18 30.1 18 16.66 0 36.12-7.29 36.12-27.82 0-6.25-1.22-14.95-7-20.88-8.54-8.74-22.75-12.67-30.11-12.67a16 16 0 010-32c4.85 0 17.41-2.6 25.28-10.65a22 22 0 006.57-16.08c0-23.23-28.63-23.9-31.89-23.9-17.34 0-23.8 10.61-24.07 11.06a16 16 0 11-27.55-16.26c7.64-13 25.22-26.8 51.62-26.8 16.44 0 31.76 4.77 43.13 13.42 13.39 10.2 20.76 25.28 20.76 42.48A54 54 0 01240 302.35c-1.15 1.18-2.36 2.28-3.59 3.35a66.18 66.18 0 018.42 7.23c10.56 10.8 16.14 25.75 16.14 43.25.03 18.06-7.58 34.01-21.39 44.92zM368 396a16 16 0 01-32 0V256.29l-22.51 16.59a16 16 0 11-19-25.76l43.42-32a16 16 0 019.49-3.12h4.6a16 16 0 0116 16z"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),E(e,t),E(t,n),E(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:W,o:W,d(o){o&&y(e)}}}function eRe(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class tRe extends ce{constructor(e){super(),ue(this,e,eRe,Qze,le,{size:0})}}function nRe(i){let e,t,n,r,s,l,o;return{c(){e=me("svg"),t=me("title"),n=Z("Calendar Number"),r=me("rect"),s=me("path"),h(r,"x","48"),h(r,"y","80"),h(r,"width","416"),h(r,"height","384"),h(r,"rx","48"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(s,"fill","none"),h(s,"stroke","currentColor"),h(s,"stroke-linecap","round"),h(s,"stroke-linejoin","round"),h(s,"stroke-width","32"),h(s,"d","M128 48v32M384 48v32M464 160H48M304 260l43.42-32H352v168M191.87 306.63c9.11 0 25.79-4.28 36.72-15.47a37.9 37.9 0 0011.13-27.26c0-26.12-22.59-39.9-47.89-39.9-21.4 0-33.52 11.61-37.85 18.93M149 374.16c4.88 8.27 19.71 25.84 43.88 25.84 28.59 0 52.12-15.94 52.12-43.82 0-12.62-3.66-24-11.58-32.07-12.36-12.64-31.25-17.48-41.55-17.48"),h(e,"height",l=i[0]+"px"),h(e,"width",o=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(a,u){w(a,e,u),E(e,t),E(t,n),E(e,r),E(e,s)},p(a,[u]){u&1&&l!==(l=a[0]+"px")&&h(e,"height",l),u&1&&o!==(o=a[0]+"px")&&h(e,"width",o)},i:W,o:W,d(a){a&&y(e)}}}function iRe(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class rRe extends ce{constructor(e){super(),ue(this,e,iRe,nRe,le,{size:0})}}function k7(i,e,t){const n=i.slice();return n[8]=e[t],n}function y7(i){let e,t;return{c(){e=A("img"),Xi(e.src,t="/app-icons/nomie6-head-72.png")||h(e,"src",t),h(e,"class","rounded-xl h-12 w-12"),h(e,"alt","app-logo")},m(n,r){w(n,e,r)},d(n){n&&y(e)}}}function sRe(i){let e;return{c(){e=A("div"),h(e,"class","text-gray-500 px-4 h-full text-sm flex flex-col justify-center space-y-4")},m(t,n){w(t,e,n)},p:W,i:W,o:W,d(t){t&&y(e)}}}function lRe(i){let e,t,n,r=Hn.isDesktop(),s,l,o=i[4],a=[];for(let f=0;f<o.length;f+=1)a[f]=F7(k7(i,o,f));const u=f=>v(a[f],1,1,()=>{a[f]=null});let c=r&&uRe(i);return{c(){for(let f=0;f<a.length;f+=1)a[f].c();e=Y(),t=A("div"),n=Y(),c&&c.c(),s=$e(),h(t,"class","filler")},m(f,d){for(let m=0;m<a.length;m+=1)a[m].m(f,d);w(f,e,d),w(f,t,d),w(f,n,d),c&&c.m(f,d),w(f,s,d),l=!0},p(f,d){if(d&30){o=f[4];let m;for(m=0;m<o.length;m+=1){const p=k7(f,o,m);a[m]?(a[m].p(p,d),_(a[m],1)):(a[m]=F7(p),a[m].c(),_(a[m],1),a[m].m(e.parentNode,e))}for(ie(),m=o.length;m<a.length;m+=1)u(m);re()}r&&c.p(f,d)},i(f){if(!l){for(let d=0;d<o.length;d+=1)_(a[d]);_(c),l=!0}},o(f){a=a.filter(Boolean);for(let d=0;d<a.length;d+=1)v(a[d]);v(c),l=!1},d(f){it(a,f),f&&y(e),f&&y(t),f&&y(n),c&&c.d(f),f&&y(s)}}}function w7(i){let e,t;return e=new Yz({props:{size:8,className:"absolute animate-pulse top-1 bg-red-500 ml-2"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function oRe(i){let e,t,n=i[1]&&$7(i);return{c(){n&&n.c(),e=$e()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,s){r[1]?n?(n.p(r,s),s&2&&_(n,1)):(n=$7(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ie(),v(n,1,1,()=>{n=null}),re())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function $7(i){let e,t;return e=new lu({props:{className:`${i[1]>80?"bg-green-300 text-green-900":i[1]>49?"bg-yellow-200 text-yellow-800":"bg-red-200 text-red-800"}`,$$slots:{default:[aRe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.className=`${n[1]>80?"bg-green-300 text-green-900":n[1]>49?"bg-yellow-200 text-yellow-800":"bg-red-200 text-red-800"}`),r&2050&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function aRe(i){let e,t;return e=new ou({props:{text:`${i[1]}%`}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.text=`${n[1]}%`),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function F7(i){let e,t,n,r,s,l,o,a=i[8].title+"",u,c,f,d,m,p,g=i[8].path=="/"&&i[3].length&&w7();n=new je({props:{icon:i[8].icon,className:"inactive"}}),s=new je({props:{icon:i[8].activeIcon,className:"active"}});let k=i[8].path=="/goals"&&oRe(i);function $(){return i[6](i[8])}return{c(){e=A("a"),g&&g.c(),t=Y(),O(n.$$.fragment),r=Y(),O(s.$$.fragment),l=Y(),o=A("div"),u=Z(a),c=Y(),k&&k.c(),h(o,"class","mr-2 link-title"),h(e,"role","menuitem"),h(e,"href",i[8].path),h(e,"class",f="nav-item ntitle "+(window.location.pathname==i[8].path?"current":"")+" "+(window.location.pathname=="/"&&i[2].startPage==i[8].id?"current":""))},m(D,F){w(D,e,F),g&&g.m(e,null),E(e,t),N(n,e,null),E(e,r),N(s,e,null),E(e,l),E(e,o),E(o,u),E(e,c),k&&k.m(e,null),d=!0,m||(p=ke(e,"click",Ro(Or($))),m=!0)},p(D,F){i=D,i[8].path=="/"&&i[3].length?g?F&8&&_(g,1):(g=w7(),g.c(),_(g,1),g.m(e,t)):g&&(ie(),v(g,1,1,()=>{g=null}),re()),i[8].path=="/goals"&&k.p(i,F),(!d||F&4&&f!==(f="nav-item ntitle "+(window.location.pathname==i[8].path?"current":"")+" "+(window.location.pathname=="/"&&i[2].startPage==i[8].id?"current":"")))&&h(e,"class",f)},i(D){d||(_(g),_(n.$$.fragment,D),_(s.$$.fragment,D),_(k),d=!0)},o(D){v(g),v(n.$$.fragment,D),v(s.$$.fragment,D),v(k),d=!1},d(D){D&&y(e),g&&g.d(),M(n),M(s),k&&k.d(),m=!1,p()}}}function uRe(i){let e,t,n,r,s,l,o;return t=new je({props:{icon:dp}}),{c(){e=A("button"),O(t.$$.fragment),n=Y(),r=A("span"),r.textContent="Super Search",h(e,"class","focus:outline-none focus:ring-2 ring-primary-500 py-2 rounded-md flex items-center space-x-2 text-sm leading-tight px-4 text-left text-gray-500 my-10")},m(a,u){w(a,e,u),N(t,e,null),E(e,n),E(e,r),s=!0,l||(o=ke(e,"click",i[7]),l=!0)},p:W,i(a){s||(_(t.$$.fragment,a),s=!0)},o(a){v(t.$$.fragment,a),s=!1},d(a){a&&y(e),M(t),l=!1,o()}}}function cRe(i){let e,t,n,r,s,l,o=i[0]&&y7();const a=[lRe,sRe],u=[];function c(f,d){return f[0]?0:1}return r=c(i),s=u[r]=a[r](i),{c(){e=A("aside"),t=A("div"),o&&o.c(),n=Y(),s.c(),h(t,"class","p-4 flex justify-start items-center space-x-3 my-4"),h(e,"class","desktop-sidebar bg-white dark:bg-gray-900 px-4 shadow-xl z-50"),h(e,"role","menu"),h(e,"aria-hidden","false"),h(e,"title","Nomie Navigation")},m(f,d){w(f,e,d),E(e,t),o&&o.m(t,null),E(e,n),u[r].m(e,null),l=!0},p(f,[d]){f[0]?o||(o=y7(),o.c(),o.m(t,null)):o&&(o.d(1),o=null);let m=r;r=c(f),r===m?u[r].p(f,d):(ie(),v(u[m],1,1,()=>{u[m]=null}),re(),s=u[r],s?s.p(f,d):(s=u[r]=a[r](f),s.c()),_(s,1),s.m(e,null))},i(f){l||(_(s),l=!0)},o(f){v(s),l=!1},d(f){f&&y(e),o&&o.d(),u[r].d()}}}function fRe(i,e,t){let n,r,s;Ee(i,n_,f=>t(5,n=f)),Ee(i,St,f=>t(2,r=f)),Ee(i,Up,f=>t(3,s=f));let{loggedIn:l=!1}=e,o;const a=[{id:"track",path:"/track",title:_e.t("tabs.track","Track"),icon:cp,activeIcon:kP},{id:"timeline",path:"/timeline",title:_e.t("tabs.timeline","Timeline"),icon:w0,activeIcon:FP},{id:"history",path:"/history",title:_e.t("tabs.on-this-day","On This Day"),icon:rRe,activeIcon:tRe},{id:"dashboard",path:"/dashboard",title:_e.t("tabs.dashboard-full","Dashboard"),icon:F0,activeIcon:CP},{id:"goals",path:"/goals",title:_e.t("tabs.goals","Goals"),icon:PP,activeIcon:NP},{id:"settings",path:"/settings",title:_e.t("tabs.more","More"),icon:Xu,activeIcon:Xu}],u=f=>{nl(f.path)},c=()=>{Va()};return i.$$set=f=>{"loggedIn"in f&&t(0,l=f.loggedIn)},i.$$.update=()=>{if(i.$$.dirty&32&&n[1]){const f=Math.round(n[0]/n[1]*100);isNaN(f)||t(1,o=f)}},[l,o,r,s,a,n,u,c]}class dRe extends ce{constructor(e){super(),ue(this,e,fRe,cRe,le,{loggedIn:0})}}const hRe=i=>({}),E7=i=>({}),mRe=i=>({}),D7=i=>({}),pRe=i=>({}),C7=i=>({}),_Re=i=>({}),S7=i=>({});function T7(i){let e,t,n;return{c(){e=A("div"),h(e,"class","menu-blocker bg-transparent fixed w-screen h-screen top-0 left-0 r-0 bottom-0 z-20")},m(r,s){w(r,e,s),t||(n=ke(e,"click",NN),t=!0)},p:W,d(r){r&&y(e),t=!1,n()}}}function A7(i){let e,t,n,r,s;t=new NIe({});const l=i[18].header,o=He(l,i,i[17],S7);return{c(){e=A("header"),O(t.$$.fragment),n=Y(),o&&o.c(),h(e,"class",r="z-50 sticky top-0 glass "+i[4])},m(a,u){w(a,e,u),N(t,e,null),E(e,n),o&&o.m(e,null),s=!0},p(a,u){o&&o.p&&(!s||u&131072)&&Ve(o,l,a,a[17],s?We(l,a[17],u,_Re):Ge(a[17]),S7),(!s||u&16&&r!==(r="z-50 sticky top-0 glass "+a[4]))&&h(e,"class",r)},i(a){s||(_(t.$$.fragment,a),_(o,a),s=!0)},o(a){v(t.$$.fragment,a),v(o,a),s=!1},d(a){a&&y(e),M(t),o&&o.d(a)}}}function gRe(i){let e;const t=i[18].default,n=He(t,i,i[17],null);return{c(){n&&n.c()},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&131072)&&Ve(n,t,r,r[17],e?We(t,r[17],s,null):Ge(r[17]),null)},i(r){e||(_(n,r),e=!0)},o(r){v(n,r),e=!1},d(r){n&&n.d(r)}}}function vRe(i){let e;const t=i[18].content,n=He(t,i,i[17],C7);return{c(){n&&n.c()},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&131072)&&Ve(n,t,r,r[17],e?We(t,r[17],s,pRe):Ge(r[17]),C7)},i(r){e||(_(n,r),e=!0)},o(r){v(n,r),e=!1},d(r){n&&n.d(r)}}}function P7(i){let e,t;return e=new dRe({props:{loggedIn:i[3]}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&8&&(s.loggedIn=n[3]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function N7(i){let e,t;const n=i[18].bottom,r=He(n,i,i[17],D7);return{c(){e=A("main"),r&&r.c(),h(e,"id","nomie-main-bottom"),h(e,"class","glass xl:ml-56")},m(s,l){w(s,e,l),r&&r.m(e,null),t=!0},p(s,l){r&&r.p&&(!t||l&131072)&&Ve(r,n,s,s[17],t?We(n,s[17],l,mRe):Ge(s[17]),D7)},i(s){t||(_(r,s),t=!0)},o(s){v(r,s),t=!1},d(s){s&&y(e),r&&r.d(s)}}}function M7(i){let e,t,n,r,s,l=i[5]&&L7();const o=[kRe,bRe],a=[];function u(c,f){return c[8].width<900?0:1}return t=u(i),n=a[t]=o[t](i),{c(){l&&l.c(),e=Y(),n.c(),r=$e()},m(c,f){l&&l.m(c,f),w(c,e,f),a[t].m(c,f),w(c,r,f),s=!0},p(c,f){c[5]?l?f&32&&_(l,1):(l=L7(),l.c(),_(l,1),l.m(e.parentNode,e)):l&&(ie(),v(l,1,1,()=>{l=null}),re());let d=t;t=u(c),t===d?a[t].p(c,f):(ie(),v(a[d],1,1,()=>{a[d]=null}),re(),n=a[t],n?n.p(c,f):(n=a[t]=o[t](c),n.c()),_(n,1),n.m(r.parentNode,r))},i(c){s||(_(l),_(n),s=!0)},o(c){v(l),v(n),s=!1},d(c){l&&l.d(c),c&&y(e),a[t].d(c),c&&y(r)}}}function L7(i){let e,t;return e=new YBe({props:{slot:"footer"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function bRe(i){let e;return{c(){e=A("div"),h(e,"class","p-4")},m(t,n){w(t,e,n)},p:W,i:W,o:W,d(t){t&&y(e)}}}function kRe(i){let e,t;return e=new EIe({props:{className:(i[14]?"pointer-events-none":"")+" "}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&16384&&(s.className=(n[14]?"pointer-events-none":"")+" "),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function yRe(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p,g,k,$;document.title=e=i[2]?`${i[2]} \u2192 Nomie 6`:"Nomie 6";let D=i[14]&&T7(),F=i[13]&&A7(i);const C=[vRe,gRe],S=[];function P(H,K){return H[11]?0:1}u=P(i),c=S[u]=C[u](i);let I=i[8].width>899&&P7(i),R=i[10]&&N7(i);const B=i[18].footer,z=He(B,i,i[17],E7);let q=i[3]&&M7(i);return{c(){t=Y(),n=A("div"),r=A("div"),D&&D.c(),s=Y(),l=A("section"),F&&F.c(),o=Y(),a=A("main"),c.c(),f=Y(),I&&I.c(),d=Y(),R&&R.c(),m=Y(),p=A("footer"),z&&z.c(),g=Y(),q&&q.c(),h(a,"id","nomie-main"),h(a,"class","layout-main z-20"),nt(a,"--mainHeight",i[9]),h(l,"class","xl:ml-56 layout-section-wrap"),h(r,"class","layout-frame z-10"),h(p,"class","xl:ml-56 sticky self-justify-start left-0 right-0 bottom-0 z-50 border-t border-gray-300 layout-footer glass dark:border-gray-400 dark:border-opacity-20"),h(n,"id",i[15]),h(n,"class",k="n-layout z-50 "+(i[1]?i[1]:"bg-gray-100 dark:bg-gray-800")+" "+(i[12]?"has-footer":"")+" "+(i[13]?"has-header":"")+" "+(i[3]?"has-tabs":"no-tabs")),h(n,"style",i[0])},m(H,K){w(H,t,K),w(H,n,K),E(n,r),D&&D.m(r,null),E(r,s),E(r,l),F&&F.m(l,null),E(l,o),E(l,a),S[u].m(a,null),i[19](a),E(r,f),I&&I.m(r,null),E(n,d),R&&R.m(n,null),E(n,m),E(n,p),z&&z.m(p,null),E(p,g),q&&q.m(p,null),i[20](p),$=!0},p(H,[K]){(!$||K&4)&&e!==(e=H[2]?`${H[2]} \u2192 Nomie 6`:"Nomie 6")&&(document.title=e),H[14]?D?D.p(H,K):(D=T7(),D.c(),D.m(r,s)):D&&(D.d(1),D=null),H[13]?F?(F.p(H,K),K&8192&&_(F,1)):(F=A7(H),F.c(),_(F,1),F.m(l,o)):F&&(ie(),v(F,1,1,()=>{F=null}),re());let G=u;u=P(H),u===G?S[u].p(H,K):(ie(),v(S[G],1,1,()=>{S[G]=null}),re(),c=S[u],c?c.p(H,K):(c=S[u]=C[u](H),c.c()),_(c,1),c.m(a,null)),(!$||K&512)&&nt(a,"--mainHeight",H[9]),H[8].width>899?I?(I.p(H,K),K&256&&_(I,1)):(I=P7(H),I.c(),_(I,1),I.m(r,null)):I&&(ie(),v(I,1,1,()=>{I=null}),re()),H[10]?R?(R.p(H,K),K&1024&&_(R,1)):(R=N7(H),R.c(),_(R,1),R.m(n,m)):R&&(ie(),v(R,1,1,()=>{R=null}),re()),z&&z.p&&(!$||K&131072)&&Ve(z,B,H,H[17],$?We(B,H[17],K,hRe):Ge(H[17]),E7),H[3]?q?(q.p(H,K),K&8&&_(q,1)):(q=M7(H),q.c(),_(q,1),q.m(p,null)):q&&(ie(),v(q,1,1,()=>{q=null}),re()),(!$||K&12298&&k!==(k="n-layout z-50 "+(H[1]?H[1]:"bg-gray-100 dark:bg-gray-800")+" "+(H[12]?"has-footer":"")+" "+(H[13]?"has-header":"")+" "+(H[3]?"has-tabs":"no-tabs")))&&h(n,"class",k),(!$||K&1)&&h(n,"style",H[0])},i(H){$||(_(F),_(c),_(I),_(R),_(z,H),_(q),$=!0)},o(H){v(F),v(c),v(I),v(R),v(z,H),v(q),$=!1},d(H){H&&y(t),H&&y(n),D&&D.d(),F&&F.d(),S[u].d(),i[19](null),I&&I.d(),R&&R.d(),z&&z.d(H),q&&q.d(),i[20](null)}}}function wRe(i,e,t){let n,r,s,l,o,a;Ee(i,Hn,R=>t(8,o=R)),Ee(i,V0,R=>t(14,a=R));let{$$slots:u={},$$scope:c}=e,{style:f=""}=e,{className:d=""}=e,{pageTitle:m=void 0}=e,{showTabs:p=!0}=e,{headerClassNames:g=""}=e,{showCapture:k=!0}=e,$,D="100%",F=`layout-${pn()}`,C,S;function P(R){De[R?"unshift":"push"](()=>{$=R,t(6,$)})}function I(R){De[R?"unshift":"push"](()=>{S=R,t(7,S)})}return i.$$set=R=>{"style"in R&&t(0,f=R.style),"className"in R&&t(1,d=R.className),"pageTitle"in R&&t(2,m=R.pageTitle),"showTabs"in R&&t(3,p=R.showTabs),"headerClassNames"in R&&t(4,g=R.headerClassNames),"showCapture"in R&&t(5,k=R.showCapture),"$$scope"in R&&t(17,c=R.$$scope)},i.$$.update=()=>{if(i.$$.dirty&65664){const R=xf(S);R&&C&&t(16,C.style.height=`${R.eleHeight+70}px`,C)}if(i.$$.dirty&320&&o.height&&$){const R=xf($);t(9,D=`${R.eleHeight}px`)}},t(13,n=(arguments[1].$$slots||{}).hasOwnProperty("header")),t(12,r=(arguments[1].$$slots||{}).hasOwnProperty("footer")),t(11,s=(arguments[1].$$slots||{}).hasOwnProperty("content")),t(10,l=(arguments[1].$$slots||{}).hasOwnProperty("bottom")),[f,d,m,p,g,k,$,S,o,D,l,s,r,n,a,F,C,c,u,P,I]}class Tr extends ce{constructor(e){super(),ue(this,e,wRe,yRe,le,{style:0,className:1,pageTitle:2,showTabs:3,headerClassNames:4,showCapture:5})}}function O7(i){let e,t=(i[0]||_e.t("general.back","Back"))+"",n;return{c(){e=A("span"),n=Z(t),h(e,"class","ml-2 text-primary-500")},m(r,s){w(r,e,s),E(e,n)},p(r,s){s&1&&t!==(t=(r[0]||_e.t("general.back","Back"))+"")&&oe(n,t)},d(r){r&&y(e)}}}function $Re(i){let e,t,n,r,s,l,o;t=new je({props:{icon:qq,className:"text-primary-500"}});let a=i[1].width>400&&O7(i);return{c(){e=A("button"),O(t.$$.fragment),n=Y(),a&&a.c(),h(e,"class",r=(i[1].width<399?"nbtn-icon circle":"clear")+" flex items-center text-primary-500")},m(u,c){w(u,e,c),N(t,e,null),E(e,n),a&&a.m(e,null),s=!0,l||(o=ke(e,"click",i[5]),l=!0)},p(u,[c]){u[1].width>400?a?a.p(u,c):(a=O7(u),a.c(),a.m(e,null)):a&&(a.d(1),a=null),(!s||c&2&&r!==(r=(u[1].width<399?"nbtn-icon circle":"clear")+" flex items-center text-primary-500"))&&h(e,"class",r)},i(u){s||(_(t.$$.fragment,u),s=!0)},o(u){v(t.$$.fragment,u),s=!1},d(u){u&&y(e),M(t),a&&a.d(),l=!1,o()}}}function FRe(i,e,t){let n;Ee(i,Hn,c=>t(1,n=c));let{to:r=void 0}=e,{back:s=void 0}=e,{label:l=void 0}=e;const o=Dt(),a=c=>{document.referrer.match(document.location.origin)?history.back():s?s(c):r&&nl(r),o("click",c)},u=c=>a(c);return i.$$set=c=>{"to"in c&&t(3,r=c.to),"back"in c&&t(4,s=c.back),"label"in c&&t(0,l=c.label)},[l,n,a,r,s,u]}class Uc extends ce{constructor(e){super(),ue(this,e,FRe,$Re,le,{to:3,back:4,label:0})}}function I7(i,e,t){const n=i.slice();return n[23]=e[t],n}function ERe(i){let e,t;return e=new Tr({props:{className:"n-file-browser",showTabs:!1,$$slots:{footer:[URe],default:[IRe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&67108871&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function DRe(i){let e,t;return e=new Tr({props:{className:"n-file-browser",$$slots:{header:[nje],default:[QRe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&67108869&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function CRe(i){let e,t=i[0].file+"",n;return{c(){e=A("h1"),n=Z(t),h(e,"class","ntitle")},m(r,s){w(r,e,s),E(e,n)},p(r,s){s&1&&t!==(t=r[0].file+"")&&oe(n,t)},d(r){r&&y(e)}}}function SRe(i){let e,t;return e=new Uc({props:{slot:"left"}}),e.$on("click",i[5]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function TRe(i){let e,t;return e=new je({props:{icon:iH,className:"text-primary-500"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function ARe(i){let e,t;return e=new je({props:{icon:Za,className:"text-red-500"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function PRe(i){let e,t,n,r,s;return t=new Me({props:{icon:!0,$$slots:{default:[TRe]},$$scope:{ctx:i}}}),t.$on("click",i[17]),r=new Me({props:{icon:!0,$$slots:{default:[ARe]},$$scope:{ctx:i}}}),r.$on("click",i[18]),{c(){e=A("div"),O(t.$$.fragment),n=Y(),O(r.$$.fragment),h(e,"slot","right"),h(e,"class","flex items-center space-x-2")},m(l,o){w(l,e,o),N(t,e,null),E(e,n),N(r,e,null),s=!0},p(l,o){const a={};o&67108864&&(a.$$scope={dirty:o,ctx:l}),t.$set(a);const u={};o&67108864&&(u.$$scope={dirty:o,ctx:l}),r.$set(u)},i(l){s||(_(t.$$.fragment,l),_(r.$$.fragment,l),s=!0)},o(l){v(t.$$.fragment,l),v(r.$$.fragment,l),s=!1},d(l){l&&y(e),M(t),M(r)}}}function NRe(i){let e,t,n;return t=new Mn({props:{size:30}}),{c(){e=A("div"),O(t.$$.fragment),h(e,"class","p-4 n-panel h-20 flex items-center justify-center")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p:W,i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function MRe(i){let e;function t(s,l){return s[0].edit?LRe:ORe}let n=t(i),r=n(i);return{c(){r.c(),e=$e()},m(s,l){r.m(s,l),w(s,e,l)},p(s,l){n===(n=t(s))&&r?r.p(s,l):(r.d(1),r=n(s),r&&(r.c(),r.m(e.parentNode,e)))},i:W,o:W,d(s){r.d(s),s&&y(e)}}}function LRe(i){let e;return{c(){e=A("textarea"),h(e,"id","file-editor"),h(e,"class","min-h-screen"),h(e,"autocapitalize","off"),h(e,"autocorrect","off"),e.value=i[1]},m(t,n){w(t,e,n)},p(t,n){n&2&&(e.value=t[1])},d(t){t&&y(e)}}}function ORe(i){let e,t;return{c(){e=A("pre"),t=Z(i[1]),h(e,"class","text-gray-800 dark:text-gray-200")},m(n,r){w(n,e,r),E(e,t)},p(n,r){r&2&&oe(t,n[1])},d(n){n&&y(e)}}}function IRe(i){let e,t,n,r,s,l;e=new Jt({props:{$$slots:{right:[PRe],left:[SRe],default:[CRe]},$$scope:{ctx:i}}});const o=[MRe,NRe],a=[];function u(c,f){return c[1]?0:1}return r=u(i),s=a[r]=o[r](i),{c(){O(e.$$.fragment),t=Y(),n=A("div"),s.c(),h(n,"class","min-h-screen bg-gray-100 dark:bg-gray-900 flex filler pb-12")},m(c,f){N(e,c,f),w(c,t,f),w(c,n,f),a[r].m(n,null),l=!0},p(c,f){const d={};f&67108865&&(d.$$scope={dirty:f,ctx:c}),e.$set(d);let m=r;r=u(c),r===m?a[r].p(c,f):(ie(),v(a[m],1,1,()=>{a[m]=null}),re(),s=a[r],s?s.p(c,f):(s=a[r]=o[r](c),s.c()),_(s,1),s.m(n,null))},i(c){l||(_(e.$$.fragment,c),_(s),l=!0)},o(c){v(e.$$.fragment,c),v(s),l=!1},d(c){M(e,c),c&&y(t),c&&y(n),a[r].d()}}}function B7(i){let e,t,n,r;const s=[zRe,BRe],l=[];function o(a,u){return a[0].edit?0:1}return t=o(i),n=l[t]=s[t](i),{c(){e=A("div"),n.c(),h(e,"class","px-2 pt-1 pb-2 flex")},m(a,u){w(a,e,u),l[t].m(e,null),r=!0},p(a,u){let c=t;t=o(a),t===c?l[t].p(a,u):(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),n=l[t],n?n.p(a,u):(n=l[t]=s[t](a),n.c()),_(n,1),n.m(e,null))},i(a){r||(_(n),r=!0)},o(a){v(n),r=!1},d(a){a&&y(e),l[t].d()}}}function BRe(i){let e,t;return e=new Me({props:{clear:!0,primary:!0,block:!0,$$slots:{default:[RRe]},$$scope:{ctx:i}}}),e.$on("click",i[9]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&67108864&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function zRe(i){let e,t,n,r;return e=new Me({props:{clear:!0,primary:!0,block:!0,$$slots:{default:[jRe]},$$scope:{ctx:i}}}),e.$on("click",i[3]),n=new Me({props:{primary:!0,block:!0,$$slots:{default:[YRe]},$$scope:{ctx:i}}}),n.$on("click",i[4]),{c(){O(e.$$.fragment),t=Y(),O(n.$$.fragment)},m(s,l){N(e,s,l),w(s,t,l),N(n,s,l),r=!0},p(s,l){const o={};l&67108864&&(o.$$scope={dirty:l,ctx:s}),e.$set(o);const a={};l&67108864&&(a.$$scope={dirty:l,ctx:s}),n.$set(a)},i(s){r||(_(e.$$.fragment,s),_(n.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(n.$$.fragment,s),r=!1},d(s){M(e,s),s&&y(t),M(n,s)}}}function RRe(i){let e;return{c(){e=Z("Edit")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function jRe(i){let e;return{c(){e=Z("Cancel")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function YRe(i){let e;return{c(){e=Z("Save Changes")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function URe(i){let e,t,n=i[2].allowFileEdit&&B7(i);return{c(){e=A("div"),n&&n.c(),h(e,"slot","footer")},m(r,s){w(r,e,s),n&&n.m(e,null),t=!0},p(r,s){r[2].allowFileEdit?n?(n.p(r,s),s&4&&_(n,1)):(n=B7(r),n.c(),_(n,1),n.m(e,null)):n&&(ie(),v(n,1,1,()=>{n=null}),re())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){r&&y(e),n&&n.d()}}}function z7(i){let e,t,n;return t=new Mn({props:{size:30}}),{c(){e=A("div"),O(t.$$.fragment),h(e,"class","p-4 n-panel h-20 flex items-center justify-center")},m(r,s){w(r,e,s),N(t,e,null),n=!0},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function qRe(i){let e,t;function n(){return i[15](i[23])}return e=new xe({props:{bottomLine:!0,detail:!0,$$slots:{left:[VRe],default:[WRe]},$$scope:{ctx:i}}}),e.$on("click",n),{c(){O(e.$$.fragment)},m(r,s){N(e,r,s),t=!0},p(r,s){i=r;const l={};s&67108865&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){M(e,r)}}}function HRe(i){let e,t;function n(){return i[14](i[23])}return e=new xe({props:{bottomLine:!0,detail:!0,$$slots:{left:[ZRe],default:[GRe]},$$scope:{ctx:i}}}),e.$on("click",n),{c(){O(e.$$.fragment)},m(r,s){N(e,r,s),t=!0},p(r,s){i=r;const l={};s&67108865&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){M(e,r)}}}function WRe(i){let e=i[23]+"",t,n;return{c(){t=Z(e),n=Y()},m(r,s){w(r,t,s),w(r,n,s)},p(r,s){s&1&&e!==(e=r[23]+"")&&oe(t,e)},d(r){r&&y(t),r&&y(n)}}}function VRe(i){let e;return{c(){e=A("div"),e.innerHTML=`<span class="text-md">\u{1F4DD}</span> 
                `,h(e,"slot","left")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function GRe(i){let e=i[23]+"",t,n;return{c(){t=Z(e),n=Y()},m(r,s){w(r,t,s),w(r,n,s)},p(r,s){s&1&&e!==(e=r[23]+"")&&oe(t,e)},d(r){r&&y(t),r&&y(n)}}}function ZRe(i){let e;return{c(){e=A("div"),e.innerHTML=`<span class="text-md">\u{1F5C2}</span> 
                `,h(e,"slot","left")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function R7(i){let e,t,n,r,s;const l=[HRe,qRe],o=[];function a(u,c){return c&1&&(e=null),e==null&&(e=!u[8](u[23])),e?0:1}return t=a(i,-1),n=o[t]=l[t](i),{c(){n.c(),r=$e()},m(u,c){o[t].m(u,c),w(u,r,c),s=!0},p(u,c){let f=t;t=a(u,c),t===f?o[t].p(u,c):(ie(),v(o[f],1,1,()=>{o[f]=null}),re(),n=o[t],n?n.p(u,c):(n=o[t]=l[t](u),n.c()),_(n,1),n.m(r.parentNode,r))},i(u){s||(_(n),s=!0)},o(u){v(n),s=!1},d(u){o[t].d(u),u&&y(r)}}}function xRe(i){let e,t,n,r=i[0].loading&&z7(),s=i[0].files,l=[];for(let a=0;a<s.length;a+=1)l[a]=R7(I7(i,s,a));const o=a=>v(l[a],1,1,()=>{l[a]=null});return{c(){r&&r.c(),e=Y();for(let a=0;a<l.length;a+=1)l[a].c();t=$e()},m(a,u){r&&r.m(a,u),w(a,e,u);for(let c=0;c<l.length;c+=1)l[c].m(a,u);w(a,t,u),n=!0},p(a,u){if(a[0].loading?r?u&1&&_(r,1):(r=z7(),r.c(),_(r,1),r.m(e.parentNode,e)):r&&(ie(),v(r,1,1,()=>{r=null}),re()),u&1281){s=a[0].files;let c;for(c=0;c<s.length;c+=1){const f=I7(a,s,c);l[c]?(l[c].p(f,u),_(l[c],1)):(l[c]=R7(f),l[c].c(),_(l[c],1),l[c].m(t.parentNode,t))}for(ie(),c=s.length;c<l.length;c+=1)o(c);re()}},i(a){if(!n){_(r);for(let u=0;u<s.length;u+=1)_(l[u]);n=!0}},o(a){v(r),l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)v(l[u]);n=!1},d(a){r&&r.d(a),a&&y(e),it(l,a),a&&y(t)}}}function XRe(i){let e,t;return{c(){e=Z(`Edit data files.
            `),t=A("span"),t.textContent="Use with caution.",h(t,"class","text-red")},m(n,r){w(n,e,r),w(n,t,r)},p:W,d(n){n&&y(e),n&&y(t)}}}function KRe(i){let e,t;return e=new Di({props:{size:"sm",faded:!0,$$slots:{default:[XRe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&67108864&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function JRe(i){let e,t,n,r;function s(o){i[16](o)}let l={};return i[2].allowFileEdit!==void 0&&(l.value=i[2].allowFileEdit),t=new Oi({props:l}),De.push(()=>Ue(t,"value",s,i[2].allowFileEdit)),{c(){e=A("div"),O(t.$$.fragment),h(e,"slot","right")},m(o,a){w(o,e,a),N(t,e,null),r=!0},p(o,a){const u={};!n&&a&4&&(n=!0,u.value=o[2].allowFileEdit,qe(()=>n=!1)),t.$set(u)},i(o){r||(_(t.$$.fragment,o),r=!0)},o(o){v(t.$$.fragment,o),r=!1},d(o){o&&y(e),M(t)}}}function j7(i){return{c:W,m:W,d:W}}function QRe(i){let e,t,n,r,s,l,o;n=new Ft({props:{className:"mt-2",solo:!0,role:"menu",$$slots:{default:[xRe]},$$scope:{ctx:i}}}),s=new xe({props:{className:"bg-transparent mt-2",title:_e.t("settings.allow-file-editing","Allow file editing"),$$slots:{right:[JRe],default:[KRe]},$$scope:{ctx:i}}});let a=i[2].allowFileEdit&&j7();return{c(){e=A("div"),t=A("div"),O(n.$$.fragment),r=Y(),O(s.$$.fragment),l=Y(),a&&a.c(),h(t,"class",""),h(e,"class","content n-panel vertical scroll-y")},m(u,c){w(u,e,c),E(e,t),N(n,t,null),E(t,r),N(s,t,null),E(t,l),a&&a.m(t,null),o=!0},p(u,c){const f={};c&67108865&&(f.$$scope={dirty:c,ctx:u}),n.$set(f);const d={};c&67108868&&(d.$$scope={dirty:c,ctx:u}),s.$set(d),u[2].allowFileEdit?a||(a=j7(),a.c(),a.m(t,null)):a&&(a.d(1),a=null)},i(u){o||(_(n.$$.fragment,u),_(s.$$.fragment,u),o=!0)},o(u){v(n.$$.fragment,u),v(s.$$.fragment,u),o=!1},d(u){u&&y(e),M(n),M(s),a&&a.d()}}}function eje(i){let e,t=i[0].title+"",n;return{c(){e=A("h1"),n=Z(t),h(e,"class","ntitle")},m(r,s){w(r,e,s),E(e,n)},p(r,s){s&1&&t!==(t=r[0].title+"")&&oe(n,t)},d(r){r&&y(e)}}}function tje(i){let e,t;return e=new Uc({props:{slot:"left"}}),e.$on("click",i[13]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function nje(i){let e,t;return e=new Jt({props:{slot:"header",$$slots:{left:[tje],default:[eje]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&67108865&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Y7(i){return{c:W,m:W,d:W}}function ije(i){let e,t,n,r,s;const l=[DRe,ERe],o=[];function a(c,f){return c[0].file?1:0}e=a(i),t=o[e]=l[e](i);let u=i[0].showMassEditor&&Y7();return{c(){t.c(),n=Y(),u&&u.c(),r=$e()},m(c,f){o[e].m(c,f),w(c,n,f),u&&u.m(c,f),w(c,r,f),s=!0},p(c,[f]){let d=e;e=a(c),e===d?o[e].p(c,f):(ie(),v(o[d],1,1,()=>{o[d]=null}),re(),t=o[e],t?t.p(c,f):(t=o[e]=l[e](c),t.c()),_(t,1),t.m(n.parentNode,n)),c[0].showMassEditor?u||(u=Y7(),u.c(),u.m(r.parentNode,r)):u&&(u.d(1),u=null)},i(c){s||(_(t),s=!0)},o(c){v(t),s=!1},d(c){o[e].d(c),c&&y(n),u&&u.d(c),c&&y(r)}}}function rje(i){var e={};if(!(i instanceof Array))throw new Error("Expected an Array of file paths, but saw "+i);function t(r,s,l,o){return l===o.length-1&&(r[s]="file"),r.hasOwnProperty(s)||(r[s]={}),r[s]}function n(r){var s=r.split("/");if(s.length===1)return e[s[0]]="file";s.reduce(t,e)}return i.forEach(n),e}function sje(i){if(i.code,i.keyCode===9){var e=this.value,t=this.selectionStart,n=this.selectionEnd;return this.value=(e||"").substring(0,t)+"	"+(e||"").substring(n),this.selectionStart=this.selectionEnd=(t||0)+1,!1}}function lje(i,e,t){let n;Ee(i,St,z=>t(2,n=z));const r={title:"File Browser",path:[],tree:{},files:[],animateForward:!1,animateBack:!1,file:null,loading:!0,edit:!1,showMassEditor:!1};let s,l,{path:o=void 0}=e,a=null;async function u(){t(0,r.file=null,r),t(0,r.edit=!1,r),t(12,a=o),o.substr(0,1)=="/"&&t(11,o=o.replace("/","")),t(11,o=o.replace(/\/\//g,"/"));let z=o.split("/");if(z.length>0){let q=z[z.length-1];$(q)?(t(0,r.file=q,r),t(0,r.path=z,r),g()):(t(0,r.path=z,r),t(0,r.files=m(),r))}t(0,r.title=z.join("/"),r),t(0,r.path=z,r)}function c(){t(0,r.edit=!1,r)}async function f(){l||(l=document.getElementById("file-editor"));let z;if(l){z=l.value;try{let q=JSON.parse(z);l.value=JSON.stringify(q,null,2),await Vt.put(r.path.join("/"),q),un({message:"File Saved",buttonLabel:"Reload",timeout:2500,buttonClick(){window.location.href=window.location.href}})}catch(q){Xe.error(q.message)}}}async function d(){r.path.length?(r.path.pop(),await Fr(10),t(0,r.files=m(),r),u()):nl("/settings")}function m(){if(r.path.length){let z={...r.tree};return r.path.forEach(q=>{z.hasOwnProperty(q)&&(z=z[q])}),Object.keys(z)}else return Object.keys(r.tree)}wt(async()=>{t(0,r.loading=!0,r),Vt.getEngine().onReady(async()=>{let z=await Vt.list();t(0,r.tree=rje(z),r),t(0,r.files=m(),r),t(0,r.loading=!1,r)}),await Vt.init()});async function p(z){let q=`${r.path.join("/")}`;await Xe.confirm(`Really delete ${z}?`,`This can cause serious issues if you don't know what you're doing. File to delete: ${q}`,"Yes, Delete")&&(await Vt.delete(q),un({message:"Deleted"}),d())}async function g(){const z=Vt.getEngine().basePath();let q=await Vt.get(o.replace(`${z}/`,""));return q&&t(1,s=JSON.stringify(q,null,2)),s}async function k(z){let q=r.path[r.path.length-1],H=await Vt.get(r.path.join("/"));Pc.json(q,H)}function $(z){const q=["last-usage","nomie-capture"];return z.split(".").length>1||q.indexOf(z)>-1?!0:r.path[r.path.length-1]=="books"}async function D(){t(0,r.edit=!0,r),await Fr(200),l=document.getElementById("file-editor"),l.addEventListener("onkeydown",sje)}function F(z){let q;if(r.path.length==1){let H=r.path[0];H.substr(0,1)=="/"&&(H=H.substr(1,H.length-2)),q=`/files/${H}/${z}`}else q=`/files/${r.path.join("/")}/${z}`;return q.replace("//","/")}const C=()=>d(),S=z=>{nl(F(z))},P=z=>{nl(F(z))};function I(z){i.$$.not_equal(n.allowFileEdit,z)&&(n.allowFileEdit=z,St.set(n))}const R=()=>{k(r.file)},B=()=>{p(r.file)};return i.$$set=z=>{"path"in z&&t(11,o=z.path)},i.$$.update=()=>{i.$$.dirty&6144&&o&&o!==a&&u()},[r,s,n,c,f,d,p,k,$,D,F,o,a,C,S,P,I,R,B]}class oje extends ce{constructor(e){super(),ue(this,e,lje,ije,le,{path:11})}}function aje(i){let e,t;return e=new oje({props:{path:i[0].replace("//","/")}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&1&&(s.path=n[0].replace("//","/")),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function uje(i,e,t){let{path:n=null}=e;return i.$$set=r=>{"path"in r&&t(0,n=r.path)},[n]}class cje extends ce{constructor(e){super(),ue(this,e,uje,aje,le,{path:0})}}function fje(){return new Worker("/assets/csv-column-worker.1089065e.js")}const dje=async(i,e,t)=>new Promise(n=>{let r=new fje;r.onmessage=s=>{let l=s.data;n(l)},r.postMessage({logs:i,includeTrackables:e,knownTrackables:t})}),hje=(i,e)=>{let t=["epoch","start","end","offset","note","lat","lng","location","score"],n=[],r=e.map(s=>s.tag);return i.forEach(s=>{s.getMeta();const l=(s.offset||new Date().getTimezoneOffset())*6e4,o=new Date(s.start.getTime()-l).toISOString().slice(0,-1),a=new Date(s.end.getTime()-l).toISOString().slice(0,-1),c=s.elements.filter(d=>d.type!=="generic").map(d=>sM(d)).filter(d=>r.indexOf(d)!==-1);let f=!1;r.length?c.length&&(f=!0):f=!0,f&&n.push([s.end.getTime(),o,a,s.offset,(s.note||"").replace(/(\"|\,|\n|\r)/g," "),s.lat,s.lng,`${s.location||""}`.replace(/(\"|\,|\n|\r)/g," "),s.score])}),[t,...n.reverse()]};function U7(i,e,t){const n=i.slice();return n[18]=e[t],n}function q7(i,e,t){const n=i.slice();return n[21]=e[t],n}function H7(i,e,t){const n=i.slice();return n[24]=e[t],n}function W7(i,e,t){const n=i.slice();return n[27]=e[t],n}function mje(i){let e,t,n=i[27].label+"",r,s,l,o=i[27].description+"",a,u;return{c(){e=A("main"),t=A("h1"),r=Z(n),s=Y(),l=A("p"),a=Z(o),u=Y(),h(t,"class","ntitle"),h(l,"class","text-gray-500 text-xs leading-tight")},m(c,f){w(c,e,f),E(e,t),E(t,r),E(e,s),E(e,l),E(l,a),w(c,u,f)},p:W,d(c){c&&y(e),c&&y(u)}}}function pje(i){let e,t;return e=new je({props:{slot:"left",icon:i[27]===i[0]?Cs:Vg,className:i[27]===i[0]?"text-primary-500":""}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.icon=n[27]===n[0]?Cs:Vg),r&1&&(s.className=n[27]===n[0]?"text-primary-500":""),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function V7(i){let e,t;function n(){return i[11](i[27])}return e=new xe({props:{clickable:!0,$$slots:{left:[pje],default:[mje]},$$scope:{ctx:i}}}),e.$on("click",n),{c(){O(e.$$.fragment)},m(r,s){N(e,r,s),t=!0},p(r,s){i=r;const l={};s&1073741825&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){M(e,r)}}}function _je(i){let e,t,n=i[5],r=[];for(let l=0;l<n.length;l+=1)r[l]=V7(W7(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=$e()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o&49){n=l[5];let a;for(a=0;a<n.length;a+=1){const u=W7(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=V7(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ie(),a=n.length;a<r.length;a+=1)s(a);re()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){it(r,l),l&&y(e)}}}function gje(i){let e,t,n;function r(l){i[12](l)}let s={title:"Export all Known Trackables",slot:"right"};return i[2]!==void 0&&(s.value=i[2]),e=new Oi({props:s}),De.push(()=>Ue(e,"value",r,i[2])),{c(){O(e.$$.fragment)},m(l,o){N(e,l,o),n=!0},p(l,o){const a={};!t&&o&4&&(t=!0,a.value=l[2],qe(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){M(e,l)}}}function G7(i){let e,t,n,r;e=new xe({props:{disabled:i[2],title:i[0].required.indexOf("trackables")>-1?"Select Trackables (required)":"Trackables",$$slots:{right:[vje]},$$scope:{ctx:i}}}),e.$on("click",i[6].selectTrackers);let s=i[3].trackables,l=[];for(let a=0;a<s.length;a+=1)l[a]=Z7(H7(i,s,a));const o=a=>v(l[a],1,1,()=>{l[a]=null});return{c(){O(e.$$.fragment),t=Y();for(let a=0;a<l.length;a+=1)l[a].c();n=$e()},m(a,u){N(e,a,u),w(a,t,u);for(let c=0;c<l.length;c+=1)l[c].m(a,u);w(a,n,u),r=!0},p(a,u){const c={};if(u&4&&(c.disabled=a[2]),u&1&&(c.title=a[0].required.indexOf("trackables")>-1?"Select Trackables (required)":"Trackables"),u&1073741824&&(c.$$scope={dirty:u,ctx:a}),e.$set(c),u&8){s=a[3].trackables;let f;for(f=0;f<s.length;f+=1){const d=H7(a,s,f);l[f]?(l[f].p(d,u),_(l[f],1)):(l[f]=Z7(d),l[f].c(),_(l[f],1),l[f].m(n.parentNode,n))}for(ie(),f=s.length;f<l.length;f+=1)o(f);re()}},i(a){if(!r){_(e.$$.fragment,a);for(let u=0;u<s.length;u+=1)_(l[u]);r=!0}},o(a){v(e.$$.fragment,a),l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)v(l[u]);r=!1},d(a){M(e,a),a&&y(t),it(l,a),a&&y(n)}}}function vje(i){let e;return{c(){e=A("div"),e.textContent=`${_e.t("general.add","Add")}`,h(e,"class","text-primary"),h(e,"slot","right")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function bje(i){let e,t,n;return e=new vl({props:{trackable:i[24],hideValue:!0}}),{c(){O(e.$$.fragment),t=Y()},m(r,s){N(e,r,s),w(r,t,s),n=!0},p(r,s){const l={};s&8&&(l.trackable=r[24]),e.$set(l)},i(r){n||(_(e.$$.fragment,r),n=!0)},o(r){v(e.$$.fragment,r),n=!1},d(r){M(e,r),r&&y(t)}}}function kje(i){let e,t;return e=new je({props:{icon:oq}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function yje(i){let e,t;function n(...r){return i[13](i[24],...r)}return e=new Me({props:{size:"sm",type:"clear",className:"text-sm  text-red-500",slot:"right",$$slots:{default:[kje]},$$scope:{ctx:i}}}),e.$on("click",n),{c(){O(e.$$.fragment)},m(r,s){N(e,r,s),t=!0},p(r,s){i=r;const l={};s&1073741824&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){M(e,r)}}}function Z7(i){let e,t;return e=new xe({props:{$$slots:{right:[yje],default:[bje]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1073741832&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function wje(i){let e,t,n,r;e=new xe({props:{title:"All Official Trackables",$$slots:{right:[gje]},$$scope:{ctx:i}}});let s=!i[2]&&G7(i);return{c(){O(e.$$.fragment),t=Y(),s&&s.c(),n=$e()},m(l,o){N(e,l,o),w(l,t,o),s&&s.m(l,o),w(l,n,o),r=!0},p(l,o){const a={};o&1073741828&&(a.$$scope={dirty:o,ctx:l}),e.$set(a),l[2]?s&&(ie(),v(s,1,1,()=>{s=null}),re()):s?(s.p(l,o),o&4&&_(s,1)):(s=G7(l),s.c(),_(s,1),s.m(n.parentNode,n))},i(l){r||(_(e.$$.fragment,l),_(s),r=!0)},o(l){v(e.$$.fragment,l),v(s),r=!1},d(l){M(e,l),l&&y(t),s&&s.d(l),l&&y(n)}}}function $je(i){let e;return{c(){e=A("span"),e.textContent=`${_e.t("general.preview","Preview")}...`},m(t,n){w(t,e,n)},p:W,i:W,o:W,d(t){t&&y(e)}}}function Fje(i){let e,t,n,r,s;return t=new Mn({props:{size:22}}),{c(){e=A("span"),O(t.$$.fragment),n=Y(),r=A("span"),r.textContent=`${_e.t("general.generating","Generating")}...`,h(e,"class","mr-2")},m(l,o){w(l,e,o),N(t,e,null),w(l,n,o),w(l,r,o),s=!0},p:W,i(l){s||(_(t.$$.fragment,l),s=!0)},o(l){v(t.$$.fragment,l),s=!1},d(l){l&&y(e),M(t),l&&y(n),l&&y(r)}}}function Eje(i){let e,t,n,r;const s=[Fje,$je],l=[];function o(a,u){return a[1]?0:1}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=$e()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?l[e].p(a,u):(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function x7(i){let e,t;return e=new Me({props:{disabled:i[4].length==0,className:"bg-green-500 text-white w-full",$$slots:{default:[Dje]},$$scope:{ctx:i}}}),e.$on("click",i[6].download),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&16&&(s.disabled=n[4].length==0),r&1073741824&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Dje(i){let e,t,n,r;return e=new je({props:{icon:yd,className:"mr-2"}}),{c(){O(e.$$.fragment),t=Y(),n=A("span"),n.textContent=`${_e.t("general.download","Download")}`},m(s,l){N(e,s,l),w(s,t,l),w(s,n,l),r=!0},p:W,i(s){r||(_(e.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),r=!1},d(s){M(e,s),s&&y(t),s&&y(n)}}}function Cje(i){let e,t,n,r,s,l,o,a,u,c;function f(k){i[14](k)}let d={listItem:!0,type:"date",label:_e.t("general.start-date","Start Date")};i[3].start!==void 0&&(d.value=i[3].start),e=new fn({props:d}),De.push(()=>Ue(e,"value",f,i[3].start));function m(k){i[15](k)}let p={listItem:!0,type:"date",label:_e.t("general.end-date","End Date")};i[3].end!==void 0&&(p.value=i[3].end),r=new fn({props:p}),De.push(()=>Ue(r,"value",m,i[3].end)),a=new Me({props:{disabled:i[1],className:"text-primary-50 w-full bg-primary-500",$$slots:{default:[Eje]},$$scope:{ctx:i}}}),a.$on("click",i[6].generateCSV);let g=i[4].length&&x7(i);return{c(){O(e.$$.fragment),n=Y(),O(r.$$.fragment),l=Y(),o=A("div"),O(a.$$.fragment),u=Y(),g&&g.c(),h(o,"class","p-4 flex items-center space-x-2")},m(k,$){N(e,k,$),w(k,n,$),N(r,k,$),w(k,l,$),w(k,o,$),N(a,o,null),E(o,u),g&&g.m(o,null),c=!0},p(k,$){const D={};!t&&$&8&&(t=!0,D.value=k[3].start,qe(()=>t=!1)),e.$set(D);const F={};!s&&$&8&&(s=!0,F.value=k[3].end,qe(()=>s=!1)),r.$set(F);const C={};$&2&&(C.disabled=k[1]),$&1073741826&&(C.$$scope={dirty:$,ctx:k}),a.$set(C),k[4].length?g?(g.p(k,$),$&16&&_(g,1)):(g=x7(k),g.c(),_(g,1),g.m(o,null)):g&&(ie(),v(g,1,1,()=>{g=null}),re())},i(k){c||(_(e.$$.fragment,k),_(r.$$.fragment,k),_(a.$$.fragment,k),_(g),c=!0)},o(k){v(e.$$.fragment,k),v(r.$$.fragment,k),v(a.$$.fragment,k),v(g),c=!1},d(k){M(e,k),k&&y(n),M(r,k),k&&y(l),k&&y(o),M(a),g&&g.d()}}}function X7(i){let e,t=i[4].filter(Q7),n=[];for(let r=0;r<t.length;r+=1)n[r]=J7(U7(i,t,r));return{c(){e=A("table");for(let r=0;r<n.length;r+=1)n[r].c();h(e,"class","border border-gray-500 p-2 w-full rounded-lg ")},m(r,s){w(r,e,s);for(let l=0;l<n.length;l+=1)n[l].m(e,null)},p(r,s){if(s&16){t=r[4].filter(Q7);let l;for(l=0;l<t.length;l+=1){const o=U7(r,t,l);n[l]?n[l].p(o,s):(n[l]=J7(o),n[l].c(),n[l].m(e,null))}for(;l<n.length;l+=1)n[l].d(1);n.length=t.length}},d(r){r&&y(e),it(n,r)}}}function K7(i){let e,t=(i[21]||"")+"",n;return{c(){e=A("td"),n=Z(t),h(e,"class","cell text-xs p-2 border border-gray-500 text-gray-600 font-mono dark:text-gray-300")},m(r,s){w(r,e,s),E(e,n)},p(r,s){s&16&&t!==(t=(r[21]||"")+"")&&oe(n,t)},d(r){r&&y(e)}}}function J7(i){let e,t,n=i[18],r=[];for(let s=0;s<n.length;s+=1)r[s]=K7(q7(i,n,s));return{c(){e=A("tr");for(let s=0;s<r.length;s+=1)r[s].c();t=Y()},m(s,l){w(s,e,l);for(let o=0;o<r.length;o+=1)r[o].m(e,null);E(e,t)},p(s,l){if(l&16){n=s[18];let o;for(o=0;o<n.length;o+=1){const a=q7(s,n,o);r[o]?r[o].p(a,l):(r[o]=K7(a),r[o].c(),r[o].m(e,t))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(s){s&&y(e),it(r,s)}}}function Sje(i){let e,t,n,r,s,l,o,a,u,c,f;t=new Ft({props:{solo:!0,className:"pt-2 mb-4",$$slots:{default:[_je]},$$scope:{ctx:i}}}),l=new Ft({props:{solo:!0,className:"pt-2 mb-4",$$slots:{default:[wje]},$$scope:{ctx:i}}}),a=new Ft({props:{solo:!0,$$slots:{default:[Cje]},$$scope:{ctx:i}}});let d=i[4].length>1&&X7(i);return{c(){e=A("div"),O(t.$$.fragment),n=Y(),r=A("div"),r.textContent="Which trackables would you like to include?",s=Y(),O(l.$$.fragment),o=Y(),O(a.$$.fragment),u=Y(),c=A("div"),d&&d.c(),h(r,"class","list-note"),h(c,"class","csv-preview overflow-y-auto py-4 px-2"),h(e,"class","csv pt-4")},m(m,p){w(m,e,p),N(t,e,null),E(e,n),E(e,r),E(e,s),N(l,e,null),E(e,o),N(a,e,null),E(e,u),E(e,c),d&&d.m(c,null),f=!0},p(m,p){const g={};p&1073741841&&(g.$$scope={dirty:p,ctx:m}),t.$set(g);const k={};p&1073741837&&(k.$$scope={dirty:p,ctx:m}),l.$set(k);const $={};p&1073741850&&($.$$scope={dirty:p,ctx:m}),a.$set($),m[4].length>1?d?d.p(m,p):(d=X7(m),d.c(),d.m(c,null)):d&&(d.d(1),d=null)},i(m){f||(_(t.$$.fragment,m),_(l.$$.fragment,m),_(a.$$.fragment,m),f=!0)},o(m){v(t.$$.fragment,m),v(l.$$.fragment,m),v(a.$$.fragment,m),f=!1},d(m){m&&y(e),M(t),M(l),M(a),d&&d.d()}}}function Tje(i){let e,t;return e=new Vn({props:{$$slots:{default:[Sje]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1073741855&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Aje(i){let e;return{c(){e=A("h1"),e.textContent="Export to CSV",h(e,"class","ntitle")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function Pje(i){let e,t;return e=new Uc({props:{slot:"left",to:"/"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Nje(i){let e,t;return e=new Jt({props:{slot:"header",$$slots:{left:[Pje],default:[Aje]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1073741824&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Mje(i){let e,t;return e=new Tr({props:{pageTitle:"Export your Data",className:"Export",$$slots:{header:[Nje],default:[Tje]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&1073741855&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}const Q7=(i,e)=>e<10;function Lje(i,e,t){let n,r;Ee(i,It,C=>t(17,n=C)),Ee(i,lue,C=>t(10,r=C));let s=[{type:"column",required:["trackables"],label:"Trackable Per Column",description:"Each day is a row, with each trackable and its value a column"},{type:"detailed",required:[],label:"Note View",description:"Each Note containing any matching trackables"}],l=s[0],o=!1,a=!0,u={trackables:[],start:we().subtract(1,"month").format("YYYY-MM-DD"),end:we().format("YYYY-MM-DD")},c,f,d=!a,m=[];const p={async generateCSV(){t(1,o=!0);const C=await Ut.query({start:c,end:f,fresh:!0,caller:"csv"});return l.type==="column"?(t(1,o=!0),t(4,m=await dje(C,u.trackables,n.trackables)),t(1,o=!1)):t(4,m=hje(C,u.trackables)),t(1,o=!1),setTimeout(()=>{const S=document.querySelector(".csv-preview");S&&S.scrollIntoView({behavior:"smooth"})},400),m},async download(){let C=`export-${c.format("YYYY-M-D")}-${f.format("YYYY-M-D")}.${pn(6)}.6.1.csv`;Pc.csv(C,m.join(`\r
`)),await Fr(120),Xe.stopBlocker(),t(1,o=!1)},async selectTrackers(){const C=await Bc();t(3,u.trackables=Co([...u.trackables,...C],"tag"),u),t(4,m=[])},export(){}};wt(()=>{});const g=C=>{t(0,l=C),t(4,m=[])};function k(C){a=C,t(2,a)}const $=(C,S)=>{t(3,u.trackables=u.trackables.filter(P=>P.tag!==C.tag),u)};function D(C){i.$$.not_equal(u.start,C)&&(u.start=C,t(3,u),t(2,a),t(9,d),t(10,r))}function F(C){i.$$.not_equal(u.end,C)&&(u.end=C,t(3,u),t(2,a),t(9,d),t(10,r))}return i.$$.update=()=>{i.$$.dirty&1540&&a!==d&&(t(9,d=a),a?t(3,u.trackables=r,u):t(3,u.trackables=[],u)),i.$$.dirty&136&&u.start&&we(u.start,"YYYY-MM-DD")!==c&&(t(7,c=we(u.start,"YYYY-MM-DD")),t(4,m=[])),i.$$.dirty&264&&u.end&&we(u.end,"YYYY-MM-DD")!==f&&(t(8,f=we(u.end,"YYYY-MM-DD")),t(4,m=[])),i.$$.dirty&11&&l.required.indexOf("trackables")>-1&&u.trackables.length>0},[l,o,a,u,m,s,p,c,f,d,r,g,k,$,D,F]}class Oje extends ce{constructor(e){super(),ue(this,e,Lje,Mje,le,{})}}function Ije(i,e,t){let n;const r=jv();return Ee(i,r,s=>t(1,n=s)),i.$$.update=()=>{i.$$.dirty&2&&(document.body.dataset.path=`${n.pathname}`)},[r,n]}class Bje extends ce{constructor(e){super(),ue(this,e,Ije,null,le,{})}}function e9(i){let e,t;return e=new Me({props:{className:"bg-primary-500 text-white",shape:"round",size:"sm",$$slots:{default:[zje]},$$scope:{ctx:i}}}),e.$on("click",i[5]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&2048&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function zje(i){let e=_e.t("general.save","Save Changes")+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p:W,d(n){n&&y(t)}}}function Rje(i){let e,t,n=i[1].label!==i[0].label&&e9(i);return{c(){e=A("div"),n&&n.c(),h(e,"slot","right")},m(r,s){w(r,e,s),n&&n.m(e,null),t=!0},p(r,s){r[1].label!==r[0].label?n?(n.p(r,s),s&3&&_(n,1)):(n=e9(r),n.c(),_(n,1),n.m(e,null)):n&&(ie(),v(n,1,1,()=>{n=null}),re())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){r&&y(e),n&&n.d()}}}function jje(i){let e,t,n,r;function s(o){i[6](o)}let l={listItem:!0,label:"Dashboard Label",placeholder:"Dashboard Label",type:"text",$$slots:{right:[Rje]},$$scope:{ctx:i}};return i[1].label!==void 0&&(l.value=i[1].label),t=new fn({props:l}),De.push(()=>Ue(t,"value",s,i[1].label)),{c(){e=A("div"),O(t.$$.fragment),h(e,"class","bg-white rounded-md dark:bg-black mt-4 ")},m(o,a){w(o,e,a),N(t,e,null),r=!0},p(o,a){const u={};a&2051&&(u.$$scope={dirty:a,ctx:o}),!n&&a&2&&(n=!0,u.value=o[1].label,qe(()=>n=!1)),t.$set(u)},i(o){r||(_(t.$$.fragment,o),r=!0)},o(o){v(t.$$.fragment,o),r=!1},d(o){o&&y(e),M(t)}}}function Yje(i){let e=i[10].token.raw+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p(n,r){r&1024&&e!==(e=n[10].token.raw+"")&&oe(t,e)},i:W,o:W,d(n){n&&y(t)}}}function Uje(i){var n;let e,t;return e=new vl({props:{transparent:!0,trackable:i[2].trackables[(n=i[10].token)==null?void 0:n.raw],hideValue:!0,size:32}}),{c(){O(e.$$.fragment)},m(r,s){N(e,r,s),t=!0},p(r,s){var o;const l={};s&1028&&(l.trackable=r[2].trackables[(o=r[10].token)==null?void 0:o.raw]),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){M(e,r)}}}function qje(i){var I;let e,t,n,r,s,l,o,a,u=((I=P1.find(P))==null?void 0:I.label)+"",c,f,d=i[10].timeRange+"",m,p,g,k,$;n=new je({props:{icon:gl,className:"text-white",size:12}});function D(){return i[7](i[10])}const F=[Uje,Yje],C=[];function S(R,B){var z,q;return R[10].token&&((q=R[2])==null?void 0:q.trackables[(z=R[10].token)==null?void 0:z.raw])?0:R[10].token?1:-1}~(s=S(i))&&(l=C[s]=F[s](i));function P(...R){return i[8](i[10],...R)}return{c(){e=A("div"),t=A("button"),O(n.$$.fragment),r=Y(),l&&l.c(),o=Y(),a=A("div"),c=Z(u),f=Y(),m=Z(d),h(t,"class","delete-button"),h(a,"class","text-gray-500 text-sm"),h(e,"class",p=`mock-widget animate-shake
        ${i[10].size=="sm"?"w-40 lg:w-60":""} 
        ${i[10].size=="md"?"w-80 lg:w-80":""} 
        ${i[10].size=="lg"?"w-96":""} 
      `)},m(R,B){w(R,e,B),E(e,t),N(n,t,null),E(e,r),~s&&C[s].m(e,null),E(e,o),E(e,a),E(a,c),E(a,f),E(a,m),g=!0,k||($=ke(t,"click",D),k=!0)},p(R,B){var q;i=R;let z=s;s=S(i),s===z?~s&&C[s].p(i,B):(l&&(ie(),v(C[z],1,1,()=>{C[z]=null}),re()),~s?(l=C[s],l?l.p(i,B):(l=C[s]=F[s](i),l.c()),_(l,1),l.m(e,o)):l=null),(!g||B&1024)&&u!==(u=((q=P1.find(P))==null?void 0:q.label)+"")&&oe(c,u),(!g||B&1024)&&d!==(d=i[10].timeRange+"")&&oe(m,d),(!g||B&1024&&p!==(p=`mock-widget animate-shake
        ${i[10].size=="sm"?"w-40 lg:w-60":""} 
        ${i[10].size=="md"?"w-80 lg:w-80":""} 
        ${i[10].size=="lg"?"w-96":""} 
      `))&&h(e,"class",p)},i(R){g||(_(n.$$.fragment,R),_(l),g=!0)},o(R){v(n.$$.fragment,R),v(l),g=!1},d(R){R&&y(e),M(n),~s&&C[s].d(),k=!1,$()}}}function t9(i){let e,t;return e=new jc({props:{direction:"xy",className:"",items:i[1].widgets,key:"id",$$slots:{default:[qje,({item:n})=>({10:n}),({item:n})=>n?1024:0]},$$scope:{ctx:i}}}),e.$on("update",i[9]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.items=n[1].widgets),r&3076&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Hje(i){let e,t,n,r=i[1].hash,s;t=new Vn({props:{size:"md",className:"px-4 lg:px-0",$$slots:{default:[jje]},$$scope:{ctx:i}}});let l=t9(i);return{c(){e=A("section"),O(t.$$.fragment),n=Y(),l.c(),h(e,"class","max-w-full w-96 lg:w-full lg:max-w-screen-xl mx-auto")},m(o,a){w(o,e,a),N(t,e,null),E(e,n),l.m(e,null),s=!0},p(o,[a]){const u={};a&2051&&(u.$$scope={dirty:a,ctx:o}),t.$set(u),a&2&&le(r,r=o[1].hash)?(ie(),v(l,1,1,W),re(),l=t9(o),l.c(),_(l,1),l.m(e,null)):l.p(o,a)},i(o){s||(_(t.$$.fragment,o),_(l),s=!0)},o(o){v(t.$$.fragment,o),v(l),s=!1},d(o){o&&y(e),M(t),l.d(o)}}}function Wje(i,e,t){let n;Ee(i,It,m=>t(2,n=m));let{dashboard:r}=e;const s=Dt();let l;const o=async m=>{await Xe.confirm("Remove Widget?","You can always add it back later.")&&t(1,l.widgets=Co(l.widgets,"id"),l),t(1,l),t(0,r)},a=()=>{s("save",l)};function u(m){i.$$.not_equal(l.label,m)&&(l.label=m,t(1,l),t(0,r))}const c=m=>o(),f=(m,p)=>p.id===m.type,d=m=>{t(1,l.widgets=m.detail,l),t(1,l=new ac(l)),s("update",l)};return i.$$set=m=>{"dashboard"in m&&t(0,r=m.dashboard)},i.$$.update=()=>{i.$$.dirty&3&&r&&!l&&(t(1,l=new ac(r)),t(1,l.widgets=Co(l.widgets,"id"),l))},[r,l,n,s,o,a,u,c,f,d]}class Vje extends ce{constructor(e){super(),ue(this,e,Wje,Hje,le,{dashboard:0})}}function Gje(i){let e,t;return e=new Gn({props:{className:"mt-6",title:_e.t("dashboard.empty-dashboard","Empty Dashboard"),description:_e.t("dashboard.starter-message","Mix and match charts, notes, and other widgets to create your own custom views of your life."),buttonLabel:_e.t("dashboard.add-a-widget","Add a Widget..."),buttonClick:i[0]}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Zje(i){return[()=>{M1()}]}class xje extends ce{constructor(e){super(),ue(this,e,Zje,Gje,le,{})}}function n9(i,e,t){const n=i.slice();return n[2]=e[t],n[4]=t,n}function i9(i,e){let t,n=e[2].label+"",r,s,l,o,a;function u(){return e[1](e[4])}return{key:i,first:null,c(){t=A("button"),r=Z(n),s=Y(),h(t,"class",l="tab board-"+e[2].id+" whitespace-nowrap truncate-1 "+(e[4]==e[0].activeIndex?"selected":"inactive opacity-80")),this.first=t},m(c,f){w(c,t,f),E(t,r),E(t,s),o||(a=ke(t,"click",u),o=!0)},p(c,f){e=c,f&1&&n!==(n=e[2].label+"")&&oe(r,n),f&1&&l!==(l="tab board-"+e[2].id+" whitespace-nowrap truncate-1 "+(e[4]==e[0].activeIndex?"selected":"inactive opacity-80"))&&h(t,"class",l)},d(c){c&&y(t),o=!1,a()}}}function Xje(i){let e=[],t=new Map,n,r=i[0].dashboards||[];const s=l=>l[2].id;for(let l=0;l<r.length;l+=1){let o=n9(i,r,l),a=s(o);t.set(a,e[l]=i9(a,o))}return{c(){for(let l=0;l<e.length;l+=1)e[l].c();n=$e()},m(l,o){for(let a=0;a<e.length;a+=1)e[a].m(l,o);w(l,n,o)},p(l,o){o&1&&(r=l[0].dashboards||[],e=qn(e,o,s,1,l,r,t,n.parentNode,Sa,i9,n,n9))},d(l){for(let o=0;o<e.length;o+=1)e[o].d(l);l&&y(n)}}}function Kje(i){let e,t;return e=new Oc({props:{centerIfPossible:!0,activeIndex:i[0].activeIndex,className:"n-dashboard-tabs filler",wrapperClass:"space-x-4",$$slots:{default:[Xje]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&1&&(s.activeIndex=n[0].activeIndex),r&33&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Jje(i,e,t){let n;return Ee(i,hl,s=>t(0,n=s)),[n,s=>{$O(s)}]}class Qje extends ce{constructor(e){super(),ue(this,e,Jje,Kje,le,{})}}function eYe(i,e){let t=[],n={};e.forEach(l=>{let o=l.trackers.find(a=>a.id==i);if(o){let u=we(l.end).format("YYYY-MM-DD");n[u]=n[u]||[],(!n[u].end||n[u].end>l.end)&&(n[u].end=l.end);let c=we(l.end).subtract(o.value,"second").toDate().getTime();(!n[u].start||n[u].start>c)&&(n[u].start=c)}else console.error("Tracker not found?",l)}),t=Object.keys(n).map(l=>({...n[l],date:l,hours:ht.round(we(n[l].end).diff(we(n[l].start),"minute")/60,100),startTimeFormatted:we(n[l].start).format("h:mm a"),endTimeFormatted:we(n[l].end).format("h:mm a"),startTime:we(n[l].start).format("HHmm"),endTime:we(n[l].end).format("HHmm"),percent:0}));let r=t.map(l=>l.hours),s=ht.percentile(r);return t=t.map((l,o)=>(l.percent=s[o],l)),t}function r9(i,e,t){const n=i.slice();return n[4]=e[t],n}function tYe(i){let e,t=i[7].message+"",n;return{c(){e=Z("error"),n=Z(t)},m(r,s){w(r,e,s),w(r,n,s)},p:W,d(r){r&&y(e),r&&y(n)}}}function nYe(i){let e,t,n=i[0],r=[];for(let s=0;s<n.length;s+=1)r[s]=s9(r9(i,n,s));return{c(){e=A("div"),t=A("div");for(let s=0;s<r.length;s+=1)r[s].c();h(t,"class","days svelte-rtowbd"),h(e,"class","time-graph svelte-rtowbd")},m(s,l){w(s,e,l),E(e,t);for(let o=0;o<r.length;o+=1)r[o].m(t,null)},p(s,l){if(l&1){n=s[0];let o;for(o=0;o<n.length;o+=1){const a=r9(s,n,o);r[o]?r[o].p(a,l):(r[o]=s9(a),r[o].c(),r[o].m(t,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(s){s&&y(e),it(r,s)}}}function s9(i){let e,t,n;return{c(){e=A("div"),t=A("div"),n=Y(),h(t,"class","bar svelte-rtowbd"),nt(t,"height",i[4].percent+"%"),h(e,"class","day svelte-rtowbd")},m(r,s){w(r,e,s),E(e,t),E(e,n)},p(r,s){s&1&&nt(t,"height",r[4].percent+"%")},d(r){r&&y(e)}}}function iYe(i){let e;return{c(){e=Z("Loading...")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function rYe(i){let e,t={ctx:i,current:null,token:null,hasCatch:!0,pending:iYe,then:nYe,catch:tYe,value:3,error:7};return v0(i[1](),t),{c(){e=$e(),t.block.c()},m(n,r){w(n,e,r),t.block.m(n,t.anchor=r),t.mount=()=>e.parentNode,t.anchor=e},p(n,[r]){i=n,b0(t,i,r)},i:W,o:W,d(n){n&&y(e),t.block.d(n),t.token=null,t=null}}}function sYe(i,e,t){let{widget:n}=e,r=[];async function s(){t(0,r=eYe(n.token.id,n.logs))}return i.$$set=l=>{"widget"in l&&t(2,n=l.widget)},[r,s,n]}class lYe extends ce{constructor(e){super(),ue(this,e,sYe,rYe,le,{widget:2})}}function l9(i,e,t){const n=i.slice();return n[2]=e[t],n}function o9(i){let e,t,n,r=i[2].focus.emoji+"",s,l,o,a=i[2].focus.label+"",u,c;return{c(){e=A("div"),t=A("div"),n=A("div"),s=Z(r),l=Y(),o=A("div"),u=Z(a),c=Y(),h(n,"class","-mt-6 text-4xl"),h(t,"class","bar w-full rounded-2xl text-center"),nt(t,"height",i[2].score+"%"),nt(t,"background-color",i[2].focus.color),h(o,"class","label my-2 leading-tight text-center text-sm"),h(e,"class","focus-column")},m(f,d){w(f,e,d),E(e,t),E(t,n),E(n,s),E(e,l),E(e,o),E(o,u),E(e,c)},p(f,d){d&1&&r!==(r=f[2].focus.emoji+"")&&oe(s,r),d&1&&nt(t,"height",f[2].score+"%"),d&1&&nt(t,"background-color",f[2].focus.color),d&1&&a!==(a=f[2].focus.label+"")&&oe(u,a)},d(f){f&&y(e)}}}function oYe(i){let e,t=i[0],n=[];for(let r=0;r<t.length;r+=1)n[r]=o9(l9(i,t,r));return{c(){e=A("div");for(let r=0;r<n.length;r+=1)n[r].c();h(e,"class","focus-graph")},m(r,s){w(r,e,s);for(let l=0;l<n.length;l+=1)n[l].m(e,null)},p(r,[s]){if(s&1){t=r[0];let l;for(l=0;l<t.length;l+=1){const o=l9(r,t,l);n[l]?n[l].p(o,s):(n[l]=o9(o),n[l].c(),n[l].m(e,null))}for(;l<n.length;l+=1)n[l].d(1);n.length=t.length}},i:W,o:W,d(r){r&&y(e),it(n,r)}}}function aYe(i,e,t){let{scores:n=[]}=e,r=[];return i.$$set=s=>{"scores"in s&&t(1,n=s.scores)},i.$$.update=()=>{if(i.$$.dirty&2&&n){const s=ht.percentile(n.map(l=>l.score));t(0,r=n.map((l,o)=>({score:s[o],focus:l.focus})))}},[r,n]}class uYe extends ce{constructor(e){super(),ue(this,e,aYe,oYe,le,{scores:1})}}function cYe(i){let e,t=i[5].message+"",n;return{c(){e=Z("error"),n=Z(t)},m(r,s){w(r,e,s),w(r,n,s)},p:W,i:W,o:W,d(r){r&&y(e),r&&y(n)}}}function fYe(i){let e,t,n;return t=new uYe({props:{scores:i[0]}}),{c(){e=A("div"),O(t.$$.fragment),h(e,"class","mind-body-spirit flex item-center justify-center h-full")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p(r,s){const l={};s&1&&(l.scores=r[0]),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function dYe(i){let e;return{c(){e=Z("Loading...")},m(t,n){w(t,e,n)},p:W,i:W,o:W,d(t){t&&y(e)}}}function hYe(i){let e,t,n={ctx:i,current:null,token:null,hasCatch:!0,pending:dYe,then:fYe,catch:cYe,value:4,error:5,blocks:[,,,]};return v0(i[1](),n),{c(){e=$e(),n.block.c()},m(r,s){w(r,e,s),n.block.m(r,n.anchor=s),n.mount=()=>e.parentNode,n.anchor=e,t=!0},p(r,[s]){i=r,b0(n,i,s)},i(r){t||(_(n.block),t=!0)},o(r){for(let s=0;s<3;s+=1){const l=n.blocks[s];v(l)}t=!1},d(r){r&&y(e),n.block.d(r),n.token=null,n=null}}}function mYe(i,e,t){let n;Ee(i,It,o=>t(3,n=o));let{logs:r}=e,s=[];async function l(){return t(0,s=RO(r,n.trackables)),s}return i.$$set=o=>{"logs"in o&&t(2,r=o.logs)},[s,l,r]}class pYe extends ce{constructor(e){super(),ue(this,e,mYe,hYe,le,{logs:2})}}function a9(i){let e,t;function n(l,o){return l[2]?gYe:_Ye}let r=n(i),s=r(i);return{c(){e=A("div"),t=A("div"),s.c(),h(t,"class","current"),h(e,"class","value last-used h-full flex flex-col items-center justify-center space-y-2")},m(l,o){w(l,e,o),E(e,t),s.m(t,null)},p(l,o){r===(r=n(l))&&s?s.p(l,o):(s.d(1),s=r(l),s&&(s.c(),s.m(t,null)))},d(l){l&&y(e),s.d()}}}function _Ye(i){let e;return{c(){e=A("div"),e.textContent="Unknown"},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function gYe(i){let e,t,n=i[1].formatValue(i[3])+"",r,s,l,o=we(i[2]).fromNow()+"",a,u,c,f=we(i[2]).format(`${i[4].mmm_d_yyyy} ${i[4].time} `)+"",d;return{c(){e=A("div"),t=A("div"),r=Z(n),s=Y(),l=A("div"),a=Z(o),u=Y(),c=A("div"),d=Z(f),h(t,"class","text-2xl font-bold text-solid ml-1"),h(l,"class","text-base line-clamp-1 font-medium"),h(e,"class","mb-1 dark:text-white break-words leading-tight px-2 text-center"),h(c,"class","text-xs font-normal leading-tight text-gray-500")},m(m,p){w(m,e,p),E(e,t),E(t,r),E(e,s),E(e,l),E(l,a),w(m,u,p),w(m,c,p),E(c,d)},p(m,p){p&10&&n!==(n=m[1].formatValue(m[3])+"")&&oe(r,n),p&4&&o!==(o=we(m[2]).fromNow()+"")&&oe(a,o),p&4&&f!==(f=we(m[2]).format(`${m[4].mmm_d_yyyy} ${m[4].time} `)+"")&&oe(d,f)},d(m){m&&y(e),m&&y(u),m&&y(c)}}}function vYe(i){let e,t=i[0]&&a9(i);return{c(){t&&t.c(),e=$e()},m(n,r){t&&t.m(n,r),w(n,e,r)},p(n,[r]){n[0]?t?t.p(n,r):(t=a9(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:W,o:W,d(n){t&&t.d(n),n&&y(e)}}}function bYe(i,e,t){let n;Ee(i,Br,f=>t(7,n=f));let{widget:r}=e,{trackable:s}=e,{usage:l}=e,o=Pn(),a,u,c;return i.$$set=f=>{"widget"in f&&t(0,r=f.widget),"trackable"in f&&t(1,s=f.trackable),"usage"in f&&t(5,l=f.usage)},i.$$.update=()=>{i.$$.dirty&194&&n[s.tag]&&(t(6,c=n[s.tag].last),c&&(t(2,a=new Date(c.d)),t(3,u=c.v)))},[r,s,a,u,o,l,c,n]}class kYe extends ce{constructor(e){super(),ue(this,e,bYe,vYe,le,{widget:0,trackable:1,usage:5})}}function u9(i){let e,t,n;return t=new v_({props:{id:`usage-${pn(i[1].trackable.tag)}`,hideValues:i[0].size=="sm",usages:[i[3]],type:i[2],className:"w-full"}}),{c(){e=A("div"),O(t.$$.fragment),h(e,"class","chart-value relative h-full svelte-10sb5n7")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p(r,s){const l={};s&2&&(l.id=`usage-${pn(r[1].trackable.tag)}`),s&1&&(l.hideValues=r[0].size=="sm"),s&8&&(l.usages=[r[3]]),s&4&&(l.type=r[2]),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function yYe(i){let e,t,n=i[0]&&u9(i);return{c(){n&&n.c(),e=$e()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,[s]){r[0]?n?(n.p(r,s),s&1&&_(n,1)):(n=u9(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ie(),v(n,1,1,()=>{n=null}),re())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function wYe(i,e,t){let n;Ee(i,St,a=>t(4,n=a));let{widget:r}=e,{usage:s}=e,l="bar",o;return i.$$set=a=>{"widget"in a&&t(0,r=a.widget),"usage"in a&&t(1,s=a.usage)},i.$$.update=()=>{i.$$.dirty&19&&s&&(["last-365","this-year"].indexOf(r.timeframe.details.id)>-1?t(3,o=s.reverse().groupBy("week","YYYY-MM-D").backfill(r.getStartDate(n.weekStarts).toDate(),r.getEndDate(n.weekStarts).toDate())):t(3,o=s.reverse().byDay.backfill(r.getStartDate(n.weekStarts).toDate(),r.getEndDate(n.weekStarts).toDate()))),i.$$.dirty&3&&s&&(r.type=="barchart"?t(2,l="bar"):t(2,l="line"))},[r,s,l,o,n]}class $Ye extends ce{constructor(e){super(),ue(this,e,wYe,yYe,le,{widget:0,usage:1})}}function FYe(i){var r;let e,t=(((r=i[1])==null?void 0:r.totalDisplay)||0)+"",n;return{c(){e=A("div"),n=Z(t),h(e,"class","mb-2 text-3xl leading-tight")},m(s,l){w(s,e,l),E(e,n)},p(s,l){var o;l&2&&t!==(t=(((o=s[1])==null?void 0:o.totalDisplay)||0)+"")&&oe(n,t)},i:W,o:W,d(s){s&&y(e)}}}function EYe(i){let e,t=(i[1].totalDisplay||0)+"",n,r,s,l;return s=new Kr({props:{className:"w-20 mx-auto h-2 bg-gray-500 bg-opacity-40",percentage:ht.percentage(i[1].trackable.tracker.max||10,i[1].total)}}),{c(){e=A("div"),n=Z(t),r=Y(),O(s.$$.fragment),h(e,"class","mb-2 text-3xl leading-tight")},m(o,a){w(o,e,a),E(e,n),w(o,r,a),N(s,o,a),l=!0},p(o,a){(!l||a&2)&&t!==(t=(o[1].totalDisplay||0)+"")&&oe(n,t);const u={};a&2&&(u.percentage=ht.percentage(o[1].trackable.tracker.max||10,o[1].total)),s.$set(u)},i(o){l||(_(s.$$.fragment,o),l=!0)},o(o){v(s.$$.fragment,o),l=!1},d(o){o&&y(e),o&&y(r),M(s,o)}}}function c9(i){let e,t,n,r=i[1].trackable.formatValue(ht.average(i[1].byDay.values))+"",s;return{c(){e=A("div"),t=Z("Avg "),n=A("span"),s=Z(r),h(n,"class","font-bold"),h(e,"class","avg text-primary-500 font-medium text-sm mt-1")},m(l,o){w(l,e,o),E(e,t),E(e,n),E(n,s)},p(l,o){o&2&&r!==(r=l[1].trackable.formatValue(ht.average(l[1].byDay.values))+"")&&oe(s,r)},d(l){l&&y(e)}}}function DYe(i){let e,t,n,r,s,l,o;const a=[EYe,FYe],u=[];function c(d,m){var p,g,k;return((k=(g=(p=d[1])==null?void 0:p.trackable)==null?void 0:g.tracker)==null?void 0:k.type)==="range"?0:1}n=c(i),r=u[n]=a[n](i);let f=i[0].includeAvg&&i[1]&&c9(i);return{c(){e=A("div"),t=A("div"),r.c(),s=Y(),f&&f.c(),h(t,"class","current dark:text-white h-full w-full flex items-center justify-center flex-col"),h(e,"class",l="value px-4 flex flex-col items-center h-full justify-center "+(i[0].includeAvg?"value-sm":""))},m(d,m){w(d,e,m),E(e,t),u[n].m(t,null),E(e,s),f&&f.m(e,null),o=!0},p(d,[m]){let p=n;n=c(d),n===p?u[n].p(d,m):(ie(),v(u[p],1,1,()=>{u[p]=null}),re(),r=u[n],r?r.p(d,m):(r=u[n]=a[n](d),r.c()),_(r,1),r.m(t,null)),d[0].includeAvg&&d[1]?f?f.p(d,m):(f=c9(d),f.c(),f.m(e,null)):f&&(f.d(1),f=null),(!o||m&1&&l!==(l="value px-4 flex flex-col items-center h-full justify-center "+(d[0].includeAvg?"value-sm":"")))&&h(e,"class",l)},i(d){o||(_(r),o=!0)},o(d){v(r),o=!1},d(d){d&&y(e),u[n].d(),f&&f.d()}}}function CYe(i,e,t){let{widget:n}=e,{usage:r}=e;return i.$$set=s=>{"widget"in s&&t(0,n=s.widget),"usage"in s&&t(1,r=s.usage)},[n,r]}class SYe extends ce{constructor(e){super(),ue(this,e,CYe,DYe,le,{widget:0,usage:1})}}function TYe(i){let e,t,n,r,s=i[3].length>1&&f9(i),l=i[2]>-1&&d9(i),o=i[3].length>1&&h9(i);return{c(){e=A("div"),s&&s.c(),t=Y(),l&&l.c(),n=Y(),o&&o.c(),h(e,"class","note-navigator flex items-start px-2 sm:px-0 h-full space-x-1")},m(a,u){w(a,e,u),s&&s.m(e,null),E(e,t),l&&l.m(e,null),E(e,n),o&&o.m(e,null),r=!0},p(a,u){a[3].length>1?s?(s.p(a,u),u&8&&_(s,1)):(s=f9(a),s.c(),_(s,1),s.m(e,t)):s&&(ie(),v(s,1,1,()=>{s=null}),re()),a[2]>-1?l?(l.p(a,u),u&4&&_(l,1)):(l=d9(a),l.c(),_(l,1),l.m(e,n)):l&&(ie(),v(l,1,1,()=>{l=null}),re()),a[3].length>1?o?(o.p(a,u),u&8&&_(o,1)):(o=h9(a),o.c(),_(o,1),o.m(e,null)):o&&(ie(),v(o,1,1,()=>{o=null}),re())},i(a){r||(_(s),_(l),_(o),r=!0)},o(a){v(s),v(l),v(o),r=!1},d(a){a&&y(e),s&&s.d(),l&&l.d(),o&&o.d()}}}function AYe(i){let e;return{c(){e=A("div"),e.textContent=`${_e.t("general.no-note-found","No note found")}`,h(e,"class","empty value")},m(t,n){w(t,e,n)},p:W,i:W,o:W,d(t){t&&y(e)}}}function f9(i){let e,t;return e=new Me({props:{title:"Previous Note",className:"tap-icon",icon:!0,$$slots:{default:[PYe]},$$scope:{ctx:i}}}),e.$on("click",i[5]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&256&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function PYe(i){let e,t;return e=new je({props:{icon:WP}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function d9(i){let e,t,n,r,s,l=i[3][i[2]].endDayjs().format(`${i[4].date}`)+"",o,a,u=i[3][i[2]].endDayjs().fromNow()+"",c,f;return n=new Gb({props:{className:(i[0].size==="sm"?"text-xs":"text-sm")+" leading-tight",note:i[3][i[2]].note}}),n.$on("noteChange",i[7]),{c(){e=A("div"),t=A("div"),O(n.$$.fragment),r=Y(),s=A("div"),o=Z(l),a=Z(`
          - `),c=Z(u),h(t,"class","text-center overflow-y-auto max-h-36"),h(s,"class","text-center leading-tight text-xs line-clamp-2 w-full mt-2 text-gray-500"),h(e,"class","note-wrapper flex flex-col h-full w-full max-h-full items-center justify-center "),nt(e,"font-size","12px")},m(d,m){w(d,e,m),E(e,t),N(n,t,null),E(e,r),E(e,s),E(s,o),E(s,a),E(s,c),f=!0},p(d,m){const p={};m&1&&(p.className=(d[0].size==="sm"?"text-xs":"text-sm")+" leading-tight"),m&12&&(p.note=d[3][d[2]].note),n.$set(p),(!f||m&12)&&l!==(l=d[3][d[2]].endDayjs().format(`${d[4].date}`)+"")&&oe(o,l),(!f||m&12)&&u!==(u=d[3][d[2]].endDayjs().fromNow()+"")&&oe(c,u)},i(d){f||(_(n.$$.fragment,d),f=!0)},o(d){v(n.$$.fragment,d),f=!1},d(d){d&&y(e),M(n)}}}function h9(i){let e,t;return e=new Me({props:{title:"Next note",className:"tap-icon",icon:!0,$$slots:{default:[NYe]},$$scope:{ctx:i}}}),e.$on("click",i[6]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&256&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function NYe(i){let e,t;return e=new je({props:{icon:VP}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function MYe(i){let e,t,n,r;const s=[AYe,TYe],l=[];function o(a,u){return a[1]?1:0}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=$e()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,[u]){let c=e;e=o(a),e===c?l[e].p(a,u):(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function LYe(i,e,t){let{widget:n}=e,{usage:r}=e,s=-1,l=Pn(),o=[];const a=()=>{s==0?t(2,s=o.length-1):t(2,s=s-1)},u=()=>{s>=o.length-1?t(2,s=0):t(2,s=s+1)},c=f=>{Mf(f.detail,o[s])};return i.$$set=f=>{"widget"in f&&t(0,n=f.widget),"usage"in f&&t(1,r=f.usage)},i.$$.update=()=>{i.$$.dirty&2&&r&&r.logs.length>0&&(t(2,s=0),t(3,o=r.logs.sort((f,d)=>f.end<d.end?1:-1)))},[n,r,s,o,l,a,u,c]}class OYe extends ce{constructor(e){super(),ue(this,e,LYe,MYe,le,{widget:0,usage:1})}}function IYe(i){let e,t,n,r=i[0].formatValue(i[1].min.value)+"",s,l,o,a,u,c,f=we(i[1].min.date).format(i[2].shortDate)+"",d,m,p,g,k=i[0].formatValue(i[1].max.value)+"",$,D,F,C,S,P,I=we(i[1].max.date).format(i[2].shortDate)+"",R,B,z;return{c(){e=A("div"),t=A("div"),n=A("div"),s=Z(r),l=Y(),o=A("div"),a=A("span"),a.textContent="Min",u=Y(),c=A("button"),d=Z(f),m=Y(),p=A("div"),g=A("div"),$=Z(k),D=Y(),F=A("div"),C=A("span"),C.textContent="Max",S=Y(),P=A("button"),R=Z(I),h(n,"class","value"),h(a,"class","label"),h(c,"class","date"),h(o,"class","label-date"),h(t,"class","min mm-block"),h(g,"class","value"),h(C,"class","label"),h(P,"class","date"),h(F,"class","label-date"),h(p,"class","min mm-block"),h(e,"class","min-max-widget")},m(q,H){w(q,e,H),E(e,t),E(t,n),E(n,s),E(t,l),E(t,o),E(o,a),E(o,u),E(o,c),E(c,d),E(e,m),E(e,p),E(p,g),E(g,$),E(p,D),E(p,F),E(F,C),E(F,S),E(F,P),E(P,R),B||(z=[ke(c,"click",i[3]),ke(P,"click",i[4])],B=!0)},p(q,[H]){H&3&&r!==(r=q[0].formatValue(q[1].min.value)+"")&&oe(s,r),H&6&&f!==(f=we(q[1].min.date).format(q[2].shortDate)+"")&&oe(d,f),H&3&&k!==(k=q[0].formatValue(q[1].max.value)+"")&&oe($,k),H&6&&I!==(I=we(q[1].max.date).format(q[2].shortDate)+"")&&oe(R,I)},i:W,o:W,d(q){q&&y(e),B=!1,pt(z)}}}function BYe(i,e,t){let n,{trackable:r}=e,{usage:s}=e;const l=()=>Oa(s.min.date.toDate()),o=()=>Oa(s.max.date.toDate());return i.$$set=a=>{"trackable"in a&&t(0,r=a.trackable),"usage"in a&&t(1,s=a.usage)},t(2,n=Pn()),[r,s,n,l,o]}class zYe extends ce{constructor(e){super(),ue(this,e,BYe,IYe,le,{trackable:0,usage:1})}}function m9(i){let e,t;return e=new v_({props:{id:"positivity-chart",usages:[i[1]]}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.usages=[n[1]]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function RYe(i){let e,t,n=i[0]&&i[0].length&&m9(i);return{c(){e=A("div"),n&&n.c(),h(e,"class","value")},m(r,s){w(r,e,s),n&&n.m(e,null),t=!0},p(r,[s]){r[0]&&r[0].length?n?(n.p(r,s),s&1&&_(n,1)):(n=m9(r),n.c(),_(n,1),n.m(e,null)):n&&(ie(),v(n,1,1,()=>{n=null}),re())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){r&&y(e),n&&n.d()}}}function jYe(i,e,t){let{widget:n}=e,{logs:r}=e,{usage:s}=e,l,o=[];return i.$$set=a=>{"widget"in a&&t(2,n=a.widget),"logs"in a&&t(0,r=a.logs),"usage"in a&&t(3,s=a.usage)},i.$$.update=()=>{var a;i.$$.dirty&17&&r&&r.length&&(t(4,o=r.map(u=>{let c=`#int_score(${u.score||0})`;return new Gt({note:c,end:u.end})})),t(1,l=(a=Ms(o)["#int_score"])==null?void 0:a.byDay))},[r,l,n,s,o]}class YYe extends ce{constructor(e){super(),ue(this,e,jYe,RYe,le,{widget:2,logs:0,usage:3})}}function p9(i){let e,t,n;return t=new Yc({props:{height:190,records:i[1].logs}}),{c(){e=A("div"),O(t.$$.fragment),h(e,"class","map-value relative h-full"),nt(e,"width","100%")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p(r,s){const l={};s&2&&(l.records=r[1].logs),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function UYe(i){let e,t,n=i[0]&&p9(i);return{c(){n&&n.c(),e=$e()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,[s]){r[0]?n?(n.p(r,s),s&1&&_(n,1)):(n=p9(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ie(),v(n,1,1,()=>{n=null}),re())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function qYe(i,e,t){let{widget:n}=e,{usage:r}=e;return i.$$set=s=>{"widget"in s&&t(0,n=s.widget),"usage"in s&&t(1,r=s.usage)},[n,r]}class HYe extends ce{constructor(e){super(),ue(this,e,qYe,UYe,le,{widget:0,usage:1})}}function WYe(i){let e;return{c(){e=Z("Streaks currently only support Trackers")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function VYe(i){let e,t;return{c(){e=A("div"),t=Z(i[1]),h(e,"class","calendar-wrapper svelte-fhlbio")},m(n,r){w(n,e,r),E(e,t)},p(n,r){r&2&&oe(t,n[1])},d(n){n&&y(e)}}}function GYe(i){let e;function t(s,l){return s[0]&&s[0].token.type=="tracker"?VYe:WYe}let n=t(i),r=n(i);return{c(){r.c(),e=$e()},m(s,l){r.m(s,l),w(s,e,l)},p(s,[l]){n===(n=t(s))&&r?r.p(s,l):(r.d(1),r=n(s),r&&(r.c(),r.m(e.parentNode,e)))},i:W,o:W,d(s){r.d(s),s&&y(e)}}}function ZYe(i,e,t){let{widget:n}=e,r=0;async function s(){let l=n.stats._stats.getStreakData();t(1,r=l.streak)}return wt(s),i.$$set=l=>{"widget"in l&&t(0,n=l.widget)},[n,r]}class xYe extends ce{constructor(e){super(),ue(this,e,ZYe,GYe,le,{widget:0})}}function XYe(i){let e,t,n,r,s=i[1].length>1&&_9(i),l=i[2]>-1&&g9(i),o=i[1].length>1&&v9(i);return{c(){e=A("div"),s&&s.c(),t=Y(),l&&l.c(),n=Y(),o&&o.c(),h(e,"class","note-navigator flex items-start px-2 sm:px-0 h-full space-x-1")},m(a,u){w(a,e,u),s&&s.m(e,null),E(e,t),l&&l.m(e,null),E(e,n),o&&o.m(e,null),r=!0},p(a,u){a[1].length>1?s?(s.p(a,u),u&2&&_(s,1)):(s=_9(a),s.c(),_(s,1),s.m(e,t)):s&&(ie(),v(s,1,1,()=>{s=null}),re()),a[2]>-1?l?(l.p(a,u),u&4&&_(l,1)):(l=g9(a),l.c(),_(l,1),l.m(e,n)):l&&(ie(),v(l,1,1,()=>{l=null}),re()),a[1].length>1?o?(o.p(a,u),u&2&&_(o,1)):(o=v9(a),o.c(),_(o,1),o.m(e,null)):o&&(ie(),v(o,1,1,()=>{o=null}),re())},i(a){r||(_(s),_(l),_(o),r=!0)},o(a){v(s),v(l),v(o),r=!1},d(a){a&&y(e),s&&s.d(),l&&l.d(),o&&o.d()}}}function KYe(i){let e,t=_e.t("general.no-todos-found","No todos found.")+"",n,r,s,l;return{c(){e=A("div"),n=Z(t),r=Y(),s=A("br"),l=Z("Include [] or [x] to turn an entry into a todo"),h(e,"class","text-center px-4 -mt-2 empty value flex items-center justify-center text-gray-500 h-full text-xs")},m(o,a){w(o,e,a),E(e,n),E(e,r),E(e,s),E(e,l)},p:W,i:W,o:W,d(o){o&&y(e)}}}function _9(i){let e,t;return e=new Me({props:{title:"Previous Note",className:"tap-icon",icon:!0,$$slots:{default:[JYe]},$$scope:{ctx:i}}}),e.$on("click",i[4]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&256&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function JYe(i){let e,t;return e=new je({props:{icon:WP}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function g9(i){let e,t,n,r,s,l=i[1][i[2]].endDayjs().format(`${i[3].date}`)+"",o,a,u=i[1][i[2]].endDayjs().fromNow()+"",c,f;return n=new Gb({props:{className:(i[0].size==="sm"?"text-xs":"text-sm")+" leading-1",note:i[1][i[2]].note}}),n.$on("noteChange",i[7]),{c(){e=A("div"),t=A("div"),O(n.$$.fragment),r=Y(),s=A("div"),o=Z(l),a=Z(`
          - `),c=Z(u),h(t,"class","text-xs overflow-y-auto max-h-36"),h(s,"class","leading-tight text-xs line-clamp-2 w-full mt-2 text-gray-500"),h(e,"class","note-wrapper pb-4 px-2 lg:px-4 pt-2 flex flex-col h-full w-full max-h-full "),nt(e,"font-size","12px")},m(d,m){w(d,e,m),E(e,t),N(n,t,null),E(e,r),E(e,s),E(s,o),E(s,a),E(s,c),f=!0},p(d,m){const p={};m&1&&(p.className=(d[0].size==="sm"?"text-xs":"text-sm")+" leading-1"),m&6&&(p.note=d[1][d[2]].note),n.$set(p),(!f||m&6)&&l!==(l=d[1][d[2]].endDayjs().format(`${d[3].date}`)+"")&&oe(o,l),(!f||m&6)&&u!==(u=d[1][d[2]].endDayjs().fromNow()+"")&&oe(c,u)},i(d){f||(_(n.$$.fragment,d),f=!0)},o(d){v(n.$$.fragment,d),f=!1},d(d){d&&y(e),M(n)}}}function v9(i){let e,t;return e=new Me({props:{title:"Next note",className:"tap-icon",icon:!0,$$slots:{default:[QYe]},$$scope:{ctx:i}}}),e.$on("click",i[5]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&256&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function QYe(i){let e,t;return e=new je({props:{icon:VP}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function eUe(i){let e,t,n,r;const s=[KYe,XYe],l=[];function o(a,u){return!a[1]||!a[1].length?0:1}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=$e()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,[u]){let c=e;e=o(a),e===c?l[e].p(a,u):(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function tUe(i,e,t){let{widget:n}=e,{logs:r=[]}=e,s=-1,l=Pn(),o=[];const a=()=>{s==0?t(2,s=o.length-1):t(2,s=s-1)},u=()=>{s>=o.length-1?t(2,s=0):t(2,s=s+1)},c=f=>{Mf(f.detail,o[s])};return i.$$set=f=>{"widget"in f&&t(0,n=f.widget),"logs"in f&&t(6,r=f.logs)},i.$$.update=()=>{i.$$.dirty&64&&t(1,o=r.filter(f=>f.hasTodo)),i.$$.dirty&2&&o.length>0&&t(2,s=0)},[n,o,s,l,a,u,r,c]}class nUe extends ce{constructor(e){super(),ue(this,e,tUe,eUe,le,{widget:0,logs:6})}}function iUe(i){let e;return{c(){e=A("div"),e.textContent="Plugin not found or disabled",h(e,"class","w-full h-full flex text-xs text-gray-500 items-center justify-center")},m(t,n){w(t,e,n)},p:W,i:W,o:W,d(t){t&&y(e)}}}function rUe(i){let e,t;return e=new Kv({props:{lid:"widget-"+i[0].id,openAction:"onWidget",plugin:i[1]}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.lid="widget-"+n[0].id),r&2&&(s.plugin=n[1]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function sUe(i){let e,t,n,r;const s=[rUe,iUe],l=[];function o(a,u){return a[1]?0:1}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=$e()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,[u]){let c=e;e=o(a),e===c?l[e].p(a,u):(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function lUe(i,e,t){let n;Ee(i,Er,l=>t(2,n=l));let{widget:r}=e,s;return i.$$set=l=>{"widget"in l&&t(0,r=l.widget)},i.$$.update=()=>{var l;i.$$.dirty&5&&r&&((l=r.data)==null?void 0:l.pluginId)&&t(1,s=n.find(o=>o.id==r.data.pluginId&&o.active==!0))},[r,s,n]}class oUe extends ce{constructor(e){super(),ue(this,e,lUe,sUe,le,{widget:0})}}function b9(i){let e,t,n,r,s;const l=[kUe,bUe,vUe,gUe,_Ue,pUe,mUe,hUe,dUe,fUe,cUe,uUe,aUe],o=[];function a(u,c){return c[0]&6&&(e=null),e==null&&(e=!!(["barchart","linechart"].indexOf(u[1].type)>-1&&u[2])),e?0:u[1].type=="value"?1:u[1].type=="note"&&u[2]?2:u[1].type=="what-time"?3:u[1].type=="last-used"?4:u[1].type=="focus"?5:u[1].type=="positivity"?6:u[1].type=="min-max"&&u[2]?7:u[1].type=="map"&&u[2]?8:u[1].type=="streak"&&u[2]?9:u[1].type=="todos"&&u[3].length?10:u[1].type=="plugin"?11:12}return t=a(i,[-1,-1]),n=o[t]=l[t](i),{c(){n.c(),r=$e()},m(u,c){o[t].m(u,c),w(u,r,c),s=!0},p(u,c){let f=t;t=a(u,c),t===f?o[t].p(u,c):(ie(),v(o[f],1,1,()=>{o[f]=null}),re(),n=o[t],n?n.p(u,c):(n=o[t]=l[t](u),n.c()),_(n,1),n.m(r.parentNode,r))},i(u){s||(_(n),s=!0)},o(u){v(n),s=!1},d(u){o[t].d(u),u&&y(r)}}}function aUe(i){let e;return{c(){e=A("div"),e.textContent="Not enough data",h(e,"class","value -mt-2 text-xs text-gray-300 flex w-full justify-center items-center h-full dark:text-gray-500")},m(t,n){w(t,e,n)},p:W,i:W,o:W,d(t){t&&y(e)}}}function uUe(i){let e,t,n;function r(l){i[35](l)}let s={};return i[1]!==void 0&&(s.widget=i[1]),e=new oUe({props:s}),De.push(()=>Ue(e,"widget",r,i[1])),{c(){O(e.$$.fragment)},m(l,o){N(e,l,o),n=!0},p(l,o){const a={};!t&&o[0]&2&&(t=!0,a.widget=l[1],qe(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){M(e,l)}}}function cUe(i){let e,t,n;function r(l){i[34](l)}let s={logs:i[3]};return i[1]!==void 0&&(s.widget=i[1]),e=new nUe({props:s}),De.push(()=>Ue(e,"widget",r,i[1])),{c(){O(e.$$.fragment)},m(l,o){N(e,l,o),n=!0},p(l,o){const a={};o[0]&8&&(a.logs=l[3]),!t&&o[0]&2&&(t=!0,a.widget=l[1],qe(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){M(e,l)}}}function fUe(i){let e,t,n,r,s;function l(c){i[31](c)}function o(c){i[32](c)}function a(c){i[33](c)}let u={};return i[1]!==void 0&&(u.widget=i[1]),i[0]!==void 0&&(u.trackable=i[0]),i[2]!==void 0&&(u.usage=i[2]),e=new xYe({props:u}),De.push(()=>Ue(e,"widget",l,i[1])),De.push(()=>Ue(e,"trackable",o,i[0])),De.push(()=>Ue(e,"usage",a,i[2])),{c(){O(e.$$.fragment)},m(c,f){N(e,c,f),s=!0},p(c,f){const d={};!t&&f[0]&2&&(t=!0,d.widget=c[1],qe(()=>t=!1)),!n&&f[0]&1&&(n=!0,d.trackable=c[0],qe(()=>n=!1)),!r&&f[0]&4&&(r=!0,d.usage=c[2],qe(()=>r=!1)),e.$set(d)},i(c){s||(_(e.$$.fragment,c),s=!0)},o(c){v(e.$$.fragment,c),s=!1},d(c){M(e,c)}}}function dUe(i){let e,t,n,r,s;function l(c){i[28](c)}function o(c){i[29](c)}function a(c){i[30](c)}let u={};return i[1]!==void 0&&(u.widget=i[1]),i[0]!==void 0&&(u.trackable=i[0]),i[2]!==void 0&&(u.usage=i[2]),e=new HYe({props:u}),De.push(()=>Ue(e,"widget",l,i[1])),De.push(()=>Ue(e,"trackable",o,i[0])),De.push(()=>Ue(e,"usage",a,i[2])),{c(){O(e.$$.fragment)},m(c,f){N(e,c,f),s=!0},p(c,f){const d={};!t&&f[0]&2&&(t=!0,d.widget=c[1],qe(()=>t=!1)),!n&&f[0]&1&&(n=!0,d.trackable=c[0],qe(()=>n=!1)),!r&&f[0]&4&&(r=!0,d.usage=c[2],qe(()=>r=!1)),e.$set(d)},i(c){s||(_(e.$$.fragment,c),s=!0)},o(c){v(e.$$.fragment,c),s=!1},d(c){M(e,c)}}}function hUe(i){let e,t,n,r,s;function l(c){i[25](c)}function o(c){i[26](c)}function a(c){i[27](c)}let u={};return i[1]!==void 0&&(u.widget=i[1]),i[0]!==void 0&&(u.trackable=i[0]),i[2]!==void 0&&(u.usage=i[2]),e=new zYe({props:u}),De.push(()=>Ue(e,"widget",l,i[1])),De.push(()=>Ue(e,"trackable",o,i[0])),De.push(()=>Ue(e,"usage",a,i[2])),{c(){O(e.$$.fragment)},m(c,f){N(e,c,f),s=!0},p(c,f){const d={};!t&&f[0]&2&&(t=!0,d.widget=c[1],qe(()=>t=!1)),!n&&f[0]&1&&(n=!0,d.trackable=c[0],qe(()=>n=!1)),!r&&f[0]&4&&(r=!0,d.usage=c[2],qe(()=>r=!1)),e.$set(d)},i(c){s||(_(e.$$.fragment,c),s=!0)},o(c){v(e.$$.fragment,c),s=!1},d(c){M(e,c)}}}function mUe(i){let e,t,n,r,s,l;function o(d){i[21](d)}function a(d){i[22](d)}function u(d){i[23](d)}function c(d){i[24](d)}let f={};return i[1]!==void 0&&(f.widget=i[1]),i[0]!==void 0&&(f.trackable=i[0]),i[3]!==void 0&&(f.logs=i[3]),i[2]!==void 0&&(f.usage=i[2]),e=new YYe({props:f}),De.push(()=>Ue(e,"widget",o,i[1])),De.push(()=>Ue(e,"trackable",a,i[0])),De.push(()=>Ue(e,"logs",u,i[3])),De.push(()=>Ue(e,"usage",c,i[2])),{c(){O(e.$$.fragment)},m(d,m){N(e,d,m),l=!0},p(d,m){const p={};!t&&m[0]&2&&(t=!0,p.widget=d[1],qe(()=>t=!1)),!n&&m[0]&1&&(n=!0,p.trackable=d[0],qe(()=>n=!1)),!r&&m[0]&8&&(r=!0,p.logs=d[3],qe(()=>r=!1)),!s&&m[0]&4&&(s=!0,p.usage=d[2],qe(()=>s=!1)),e.$set(p)},i(d){l||(_(e.$$.fragment,d),l=!0)},o(d){v(e.$$.fragment,d),l=!1},d(d){M(e,d)}}}function pUe(i){let e,t,n,r;function s(a){i[19](a)}function l(a){i[20](a)}let o={};return i[1]!==void 0&&(o.widget=i[1]),i[3]!==void 0&&(o.logs=i[3]),e=new pYe({props:o}),De.push(()=>Ue(e,"widget",s,i[1])),De.push(()=>Ue(e,"logs",l,i[3])),{c(){O(e.$$.fragment)},m(a,u){N(e,a,u),r=!0},p(a,u){const c={};!t&&u[0]&2&&(t=!0,c.widget=a[1],qe(()=>t=!1)),!n&&u[0]&8&&(n=!0,c.logs=a[3],qe(()=>n=!1)),e.$set(c)},i(a){r||(_(e.$$.fragment,a),r=!0)},o(a){v(e.$$.fragment,a),r=!1},d(a){M(e,a)}}}function _Ue(i){let e,t,n,r,s;function l(c){i[16](c)}function o(c){i[17](c)}function a(c){i[18](c)}let u={};return i[1]!==void 0&&(u.widget=i[1]),i[0]!==void 0&&(u.trackable=i[0]),i[2]!==void 0&&(u.usage=i[2]),e=new kYe({props:u}),De.push(()=>Ue(e,"widget",l,i[1])),De.push(()=>Ue(e,"trackable",o,i[0])),De.push(()=>Ue(e,"usage",a,i[2])),{c(){O(e.$$.fragment)},m(c,f){N(e,c,f),s=!0},p(c,f){const d={};!t&&f[0]&2&&(t=!0,d.widget=c[1],qe(()=>t=!1)),!n&&f[0]&1&&(n=!0,d.trackable=c[0],qe(()=>n=!1)),!r&&f[0]&4&&(r=!0,d.usage=c[2],qe(()=>r=!1)),e.$set(d)},i(c){s||(_(e.$$.fragment,c),s=!0)},o(c){v(e.$$.fragment,c),s=!1},d(c){M(e,c)}}}function gUe(i){let e,t,n,r,s;function l(c){i[13](c)}function o(c){i[14](c)}function a(c){i[15](c)}let u={};return i[1]!==void 0&&(u.widget=i[1]),i[0]!==void 0&&(u.trackable=i[0]),i[2]!==void 0&&(u.usage=i[2]),e=new lYe({props:u}),De.push(()=>Ue(e,"widget",l,i[1])),De.push(()=>Ue(e,"trackable",o,i[0])),De.push(()=>Ue(e,"usage",a,i[2])),{c(){O(e.$$.fragment)},m(c,f){N(e,c,f),s=!0},p(c,f){const d={};!t&&f[0]&2&&(t=!0,d.widget=c[1],qe(()=>t=!1)),!n&&f[0]&1&&(n=!0,d.trackable=c[0],qe(()=>n=!1)),!r&&f[0]&4&&(r=!0,d.usage=c[2],qe(()=>r=!1)),e.$set(d)},i(c){s||(_(e.$$.fragment,c),s=!0)},o(c){v(e.$$.fragment,c),s=!1},d(c){M(e,c)}}}function vUe(i){let e,t,n,r,s;function l(c){i[10](c)}function o(c){i[11](c)}function a(c){i[12](c)}let u={};return i[1]!==void 0&&(u.widget=i[1]),i[0]!==void 0&&(u.trackable=i[0]),i[2]!==void 0&&(u.usage=i[2]),e=new OYe({props:u}),De.push(()=>Ue(e,"widget",l,i[1])),De.push(()=>Ue(e,"trackable",o,i[0])),De.push(()=>Ue(e,"usage",a,i[2])),{c(){O(e.$$.fragment)},m(c,f){N(e,c,f),s=!0},p(c,f){const d={};!t&&f[0]&2&&(t=!0,d.widget=c[1],qe(()=>t=!1)),!n&&f[0]&1&&(n=!0,d.trackable=c[0],qe(()=>n=!1)),!r&&f[0]&4&&(r=!0,d.usage=c[2],qe(()=>r=!1)),e.$set(d)},i(c){s||(_(e.$$.fragment,c),s=!0)},o(c){v(e.$$.fragment,c),s=!1},d(c){M(e,c)}}}function bUe(i){let e,t,n,r,s;function l(c){i[7](c)}function o(c){i[8](c)}function a(c){i[9](c)}let u={};return i[1]!==void 0&&(u.widget=i[1]),i[0]!==void 0&&(u.trackable=i[0]),i[2]!==void 0&&(u.usage=i[2]),e=new SYe({props:u}),De.push(()=>Ue(e,"widget",l,i[1])),De.push(()=>Ue(e,"trackable",o,i[0])),De.push(()=>Ue(e,"usage",a,i[2])),{c(){O(e.$$.fragment)},m(c,f){N(e,c,f),s=!0},p(c,f){const d={};!t&&f[0]&2&&(t=!0,d.widget=c[1],qe(()=>t=!1)),!n&&f[0]&1&&(n=!0,d.trackable=c[0],qe(()=>n=!1)),!r&&f[0]&4&&(r=!0,d.usage=c[2],qe(()=>r=!1)),e.$set(d)},i(c){s||(_(e.$$.fragment,c),s=!0)},o(c){v(e.$$.fragment,c),s=!1},d(c){M(e,c)}}}function kUe(i){let e,t,n,r,s;function l(c){i[4](c)}function o(c){i[5](c)}function a(c){i[6](c)}let u={};return i[0]!==void 0&&(u.trackable=i[0]),i[1]!==void 0&&(u.widget=i[1]),i[2]!==void 0&&(u.usage=i[2]),e=new $Ye({props:u}),De.push(()=>Ue(e,"trackable",l,i[0])),De.push(()=>Ue(e,"widget",o,i[1])),De.push(()=>Ue(e,"usage",a,i[2])),{c(){O(e.$$.fragment)},m(c,f){N(e,c,f),s=!0},p(c,f){const d={};!t&&f[0]&1&&(t=!0,d.trackable=c[0],qe(()=>t=!1)),!n&&f[0]&2&&(n=!0,d.widget=c[1],qe(()=>n=!1)),!r&&f[0]&4&&(r=!0,d.usage=c[2],qe(()=>r=!1)),e.$set(d)},i(c){s||(_(e.$$.fragment,c),s=!0)},o(c){v(e.$$.fragment,c),s=!1},d(c){M(e,c)}}}function yUe(i){let e,t,n=i[1]&&b9(i);return{c(){n&&n.c(),e=$e()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,s){r[1]?n?(n.p(r,s),s[0]&2&&_(n,1)):(n=b9(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ie(),v(n,1,1,()=>{n=null}),re())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function wUe(i,e,t){let n;Ee(i,It,ae=>t(36,n=ae));let{trackable:r=void 0}=e,{widget:s}=e,{usage:l}=e,{logs:o}=e;wt(()=>{r&&l&&t(2,l.trackable=r||(n==null?void 0:n.trackables[l.trackable.tag])||l.trackable,l)});function a(ae){r=ae,t(0,r)}function u(ae){s=ae,t(1,s)}function c(ae){l=ae,t(2,l)}function f(ae){s=ae,t(1,s)}function d(ae){r=ae,t(0,r)}function m(ae){l=ae,t(2,l)}function p(ae){s=ae,t(1,s)}function g(ae){r=ae,t(0,r)}function k(ae){l=ae,t(2,l)}function $(ae){s=ae,t(1,s)}function D(ae){r=ae,t(0,r)}function F(ae){l=ae,t(2,l)}function C(ae){s=ae,t(1,s)}function S(ae){r=ae,t(0,r)}function P(ae){l=ae,t(2,l)}function I(ae){s=ae,t(1,s)}function R(ae){o=ae,t(3,o)}function B(ae){s=ae,t(1,s)}function z(ae){r=ae,t(0,r)}function q(ae){o=ae,t(3,o)}function H(ae){l=ae,t(2,l)}function K(ae){s=ae,t(1,s)}function G(ae){r=ae,t(0,r)}function U(ae){l=ae,t(2,l)}function Q(ae){s=ae,t(1,s)}function V(ae){r=ae,t(0,r)}function x(ae){l=ae,t(2,l)}function ee(ae){s=ae,t(1,s)}function J(ae){r=ae,t(0,r)}function se(ae){l=ae,t(2,l)}function te(ae){s=ae,t(1,s)}function ge(ae){s=ae,t(1,s)}return i.$$set=ae=>{"trackable"in ae&&t(0,r=ae.trackable),"widget"in ae&&t(1,s=ae.widget),"usage"in ae&&t(2,l=ae.usage),"logs"in ae&&t(3,o=ae.logs)},[r,s,l,o,a,u,c,f,d,m,p,g,k,$,D,F,C,S,P,I,R,B,z,q,H,K,G,U,Q,V,x,ee,J,se,te,ge]}class $Ue extends ce{constructor(e){super(),ue(this,e,wUe,yUe,le,{trackable:0,widget:1,usage:2,logs:3},null,[-1,-1])}}function FUe(i){let e,t=i[0].description+"",n,r,s,l;return{c(){e=A("div"),n=Z(t),h(e,"id",i[8]),h(e,"class",r="dashboard-text type-text text-center widget-size-"+i[0].size)},m(o,a){w(o,e,a),E(e,n),s||(l=ke(e,"click",i[16]),s=!0)},p(o,a){a&1&&t!==(t=o[0].description+"")&&oe(n,t),a&1&&r!==(r="dashboard-text type-text text-center widget-size-"+o[0].size)&&h(e,"class",r)},i:W,o:W,d(o){o&&y(e),s=!1,l()}}}function EUe(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p,g,k,$,D;const F=[SUe,CUe,DUe],C=[];function S(H,K){return H[1]?0:H[0].type=="plugin"?1:2}n=S(i),r=C[n]=F[n](i);let P=!i[5]&&k9(i);const I=[NUe,PUe,AUe],R=[];function B(H,K){return H[2]?H[3]||H[4]?1:H[2]&&!H[3]?2:-1:0}~(c=B(i))&&(f=R[c]=I[c](i));let z=i[0].timeRange&&i[0].type!=="plugin"&&y9(i),q=!i[5]&&w9(i);return{c(){e=A("div"),t=A("div"),r.c(),s=Y(),l=A("div"),o=Y(),P&&P.c(),a=Y(),u=A("div"),f&&f.c(),d=Y(),m=A("footer"),z&&z.c(),p=Y(),q&&q.c(),g=Y(),k=A("div"),h(l,"class","filler"),h(t,"class","flex widget-header px-2 py-1"),h(u,"class","widget-main"),h(k,"class","filler pointer-events-none"),h(m,"class","px-1 flex widget-footer space-x-2 justify-between"),h(e,"class",$="dashboard-widget "+$9(i[0])),h(e,"id",i[8])},m(H,K){w(H,e,K),E(e,t),C[n].m(t,null),E(t,s),E(t,l),E(t,o),P&&P.m(t,null),E(e,a),E(e,u),~c&&R[c].m(u,null),E(e,d),E(e,m),z&&z.m(m,null),E(m,p),q&&q.m(m,null),E(m,g),E(m,k),D=!0},p(H,K){let G=n;n=S(H),n===G?C[n].p(H,K):(ie(),v(C[G],1,1,()=>{C[G]=null}),re(),r=C[n],r?r.p(H,K):(r=C[n]=F[n](H),r.c()),_(r,1),r.m(t,s)),H[5]?P&&(ie(),v(P,1,1,()=>{P=null}),re()):P?(P.p(H,K),K&32&&_(P,1)):(P=k9(H),P.c(),_(P,1),P.m(t,null));let U=c;c=B(H),c===U?~c&&R[c].p(H,K):(f&&(ie(),v(R[U],1,1,()=>{R[U]=null}),re()),~c?(f=R[c],f?f.p(H,K):(f=R[c]=I[c](H),f.c()),_(f,1),f.m(u,null)):f=null),H[0].timeRange&&H[0].type!=="plugin"?z?z.p(H,K):(z=y9(H),z.c(),z.m(m,p)):z&&(z.d(1),z=null),H[5]?q&&(q.d(1),q=null):q?q.p(H,K):(q=w9(H),q.c(),q.m(m,g)),(!D||K&1&&$!==($="dashboard-widget "+$9(H[0])))&&h(e,"class",$)},i(H){D||(_(r),_(P),_(f),D=!0)},o(H){v(r),v(P),v(f),D=!1},d(H){H&&y(e),C[n].d(),P&&P.d(),~c&&R[c].d(),z&&z.d(),q&&q.d()}}}function DUe(i){let e,t=i[0].getTitle()+"",n;return{c(){e=A("span"),n=Z(t),h(e,"class","capitalize text-xs font-semibold pt-1 pl-1")},m(r,s){w(r,e,s),E(e,n)},p(r,s){s&1&&t!==(t=r[0].getTitle()+"")&&oe(n,t)},i:W,o:W,d(r){r&&y(e)}}}function CUe(i){let e;return{c(){e=Z(i[6])},m(t,n){w(t,e,n)},p(t,n){n&64&&oe(e,t[6])},i:W,o:W,d(t){t&&y(e)}}}function SUe(i){let e,t;return e=new vl({props:{hideValue:!0,size:30,transparent:!0,trackable:i[1]}}),e.$on("click",i[9]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.trackable=n[1]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function k9(i){let e,t;return e=new Me({props:{size:"xs",icon:!0,primary:!0,className:"p-1 -mr-1 bg-gray-500 bg-opacity-5 mt-px",$$slots:{default:[TUe]},$$scope:{ctx:i}}}),e.$on("click",i[13]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&131072&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function TUe(i){let e,t;return e=new je({props:{icon:D0,size:16}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function AUe(i){let e;return{c(){e=A("div"),e.textContent="No Value",h(e,"class","flex items-center justify-center px-4 py-6 h-28")},m(t,n){w(t,e,n)},p:W,i:W,o:W,d(t){t&&y(e)}}}function PUe(i){let e,t;return e=new $Ue({props:{widget:i[0],trackable:i[1],logs:i[4],usage:i[3]}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.widget=n[0]),r&2&&(s.trackable=n[1]),r&16&&(s.logs=n[4]),r&8&&(s.usage=n[3]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function NUe(i){let e,t,n;return t=new Mn({props:{size:32}}),{c(){e=A("div"),O(t.$$.fragment),h(e,"class","flex items-center justify-center px-4 py-6 h-28")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p:W,i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function y9(i){let e,t=i[0].getLabel().replace("days","")+"",n,r,s;return{c(){e=A("button"),n=Z(t),h(e,"class","")},m(l,o){w(l,e,o),E(e,n),r||(s=ke(e,"click",i[14]),r=!0)},p(l,o){o&1&&t!==(t=l[0].getLabel().replace("days","")+"")&&oe(n,t)},d(l){l&&y(e),r=!1,s()}}}function w9(i){let e,t,n;return{c(){e=A("button"),e.innerHTML='<svg width="13" height="13" viewBox="0 0 13 13" fill="none" xmlns="http://www.w3.org/2000/svg"><rect y="6" width="7" height="7" fill="#868686" fill-opacity="0.31"></rect><rect x="0.5" y="6.5" width="6" height="6" stroke="white" stroke-opacity="0.34"></rect><rect x="3" width="10" height="10" fill="#868686" fill-opacity="0.31"></rect><rect x="3.5" y="0.5" width="9" height="9" stroke="white" stroke-opacity="0.34"></rect></svg>',h(e,"class","text-xs px-1 ")},m(r,s){w(r,e,s),t||(n=ke(e,"click",i[15]),t=!0)},p:W,d(r){r&&y(e),t=!1,n()}}}function MUe(i){let e,t,n,r;const s=[EUe,FUe],l=[];function o(a,u){return a[0]&&a[0].type!=="text"?0:1}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=$e()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,[u]){let c=e;e=o(a),e===c?l[e].p(a,u):(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function $9(i){let e=[`type-${i.type}`],t;return i.stats&&(i.type=="last-used"?t=i.stats.daysPast:t=i.math!=="sum"?i.stats.avg:i.stats.sum),t=t||0,i.compareValue&&(t>i.compareValue?e.push(`over widget-${i.compareOverColor}`):t<i.compareValue&&e.push(`over widget-${i.compareUnderColor}`)),e.push(`widget-size-${i.size}`),e.join(" ")}function LUe(i,e,t){let n;Ee(i,Er,C=>t(12,n=C));const r=Dt(),s=pn();let{widget:l}=e,{trackable:o}=e,{loaded:a}=e,{usage:u}=e,{logs:c}=e,{hideTools:f=!1}=e;function d(){Ui(o,{title:o.label})}const m=C=>{const S=[{id:"sm",label:"Small"},{id:"md",label:"Medium"},{id:"lg",label:"Large"}].map(P=>({title:P.label,click(){t(0,l.size=P.id,l),Em(l)}}));G0(C,S)},p=C=>{const S=Fm.map(P=>({title:P.label,async click(){t(0,l.timeRange=P.id,l);try{await Em(l),un({message:_e.t("general.saved","Saved")})}catch(I){un({message:I.message})}}}));Xe.popmenu({id:"widget-time-frame",title:"Time Frame",buttons:S})};let g="loading";const k=()=>{rme(l)},$=C=>p(),D=C=>{m(C.target)},F=()=>{r("click")};return i.$$set=C=>{"widget"in C&&t(0,l=C.widget),"trackable"in C&&t(1,o=C.trackable),"loaded"in C&&t(2,a=C.loaded),"usage"in C&&t(3,u=C.usage),"logs"in C&&t(4,c=C.logs),"hideTools"in C&&t(5,f=C.hideTools)},i.$$.update=()=>{if(i.$$.dirty&4097&&l.type=="plugin"){let C=n.find(S=>S.id==l.data.pluginId);C?t(6,g=`${C.emoji} ${C.name}`):t(6,g="Unknown Plugin")}},[l,o,a,u,c,f,g,r,s,d,m,p,n,k,$,D,F]}class OUe extends ce{constructor(e){super(),ue(this,e,LUe,MUe,le,{widget:0,trackable:1,loaded:2,usage:3,logs:4,hideTools:5})}}function F9(i,e,t){const n=i.slice();return n[10]=e[t],n}function E9(i){let e,t=i[0].label+"",n,r,s=we().format(i[4].mmm_d_yyyy)+"",l,o,a;return{c(){e=A("h1"),n=Z(t),r=Z(" - "),l=Z(s),o=Y(),a=A("p"),a.textContent="Nomie.app",h(e,"class","text-lg font-bold text-center mt-2 dark:text-white"),h(a,"class","mb-2 text-sm text-center text-primary")},m(u,c){w(u,e,c),E(e,n),E(e,r),E(e,l),w(u,o,c),w(u,a,c)},p(u,c){c&1&&t!==(t=u[0].label+"")&&oe(n,t)},d(u){u&&y(e),u&&y(o),u&&y(a)}}}function D9(i){let e,t,n;function r(l){i[5](l)}let s={hideTools:i[1],widget:i[10].widget,trackable:i[10].trackable,usage:i[10].usage,logs:i[10].logs};return i[2]!==void 0&&(s.loaded=i[2]),e=new OUe({props:s}),De.push(()=>Ue(e,"loaded",r,i[2])),{c(){O(e.$$.fragment)},m(l,o){N(e,l,o),n=!0},p(l,o){const a={};o&2&&(a.hideTools=l[1]),o&8&&(a.widget=l[10].widget),o&8&&(a.trackable=l[10].trackable),o&8&&(a.usage=l[10].usage),o&8&&(a.logs=l[10].logs),!t&&o&4&&(t=!0,a.loaded=l[2],qe(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){M(e,l)}}}function IUe(i){let e,t,n,r,s,l=i[1]&&E9(i),o=i[3],a=[];for(let c=0;c<o.length;c+=1)a[c]=D9(F9(i,o,c));const u=c=>v(a[c],1,1,()=>{a[c]=null});return{c(){e=A("div"),l&&l.c(),t=Y(),n=A("div");for(let c=0;c<a.length;c+=1)a[c].c();h(n,"id","widget-grid"),h(n,"class","grid grid-cols-2 lg:grid-cols-6 gap-2 lg:gap-4 lg:gap-6 p-2 lg:p-4 "),h(e,"id","widgets-frame"),h(e,"class",r=i[1]?"bg-gray-100 pt-4 dark:bg-gray-800":"")},m(c,f){w(c,e,f),l&&l.m(e,null),E(e,t),E(e,n);for(let d=0;d<a.length;d+=1)a[d].m(n,null);s=!0},p(c,[f]){if(c[1]?l?l.p(c,f):(l=E9(c),l.c(),l.m(e,t)):l&&(l.d(1),l=null),f&14){o=c[3];let d;for(d=0;d<o.length;d+=1){const m=F9(c,o,d);a[d]?(a[d].p(m,f),_(a[d],1)):(a[d]=D9(m),a[d].c(),_(a[d],1),a[d].m(n,null))}for(ie(),d=o.length;d<a.length;d+=1)u(d);re()}(!s||f&2&&r!==(r=c[1]?"bg-gray-100 pt-4 dark:bg-gray-800":""))&&h(e,"class",r)},i(c){if(!s){for(let f=0;f<o.length;f+=1)_(a[f]);s=!0}},o(c){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)v(a[f]);s=!1},d(c){c&&y(e),l&&l.d(),it(a,c)}}}function BUe(i,e,t){let n,r;Ee(i,St,m=>t(7,n=m)),Ee(i,It,m=>t(8,r=m));let{dashboard:s}=e,{showDate:l=!1}=e,o=!1,a=[],u=[],c=Pn();const f=async()=>{t(2,o=!1),await Et(200);const m=r.trackables;let p=Co([...s.widgets],"id"),g=s.timeframe.start,k=s.timeframe.end;t(3,u=p.map(D=>{let F;return D.token&&(F=pi(D.token,m)),{hash:ul(JSON.stringify(D)),id:D.id,widget:D,trackable:F,usage:void 0,logs:[]}})),a=await Ut.query({start:g,end:k,caller:"dashboard-widget-grid"});let $=p.map((D,F)=>{let C=ul(JSON.stringify(D));if(D.token){let S=pi(D.token,m);const P=Tw(a,{trackables:[S],start:D.getStartDate(n.weekStarts),end:D.getEndDate(n.weekStarts)}),I=Ms(P,{trackables:m}),R=I[S.tag]?new $r(I[S.tag]):void 0;return t(2,o=!0),{id:D.id,widget:D,trackable:S,usage:R,logs:(R==null?void 0:R.logs)||[],hash:C}}else{const S=Tw(a,{start:D.getStartDate(n.weekStarts),end:D.getEndDate(n.weekStarts)});return{widget:D,id:D.id,trackable:void 0,usage:void 0,logs:S,hash:C}}});t(3,u=$),t(2,o=!0)};function d(m){o=m,t(2,o)}return i.$$set=m=>{"dashboard"in m&&t(0,s=m.dashboard),"showDate"in m&&t(1,l=m.showDate)},i.$$.update=()=>{i.$$.dirty&1&&s&&f()},[s,l,o,u,c,d]}class zUe extends ce{constructor(e){super(),ue(this,e,BUe,IUe,le,{dashboard:0,showDate:1})}}function RUe(i){let e,t,n,r,s,l,o;return{c(){e=me("svg"),t=me("title"),n=Z("Caret Down Circle"),r=me("path"),s=me("path"),h(r,"d","M342.43 238.23l-74.13 89.09a16 16 0 01-24.6 0l-74.13-89.09A16 16 0 01181.86 212h148.28a16 16 0 0112.29 26.23z"),h(s,"d","M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"),h(s,"fill","none"),h(s,"stroke","currentColor"),h(s,"stroke-miterlimit","10"),h(s,"stroke-width","32"),h(e,"height",l=i[0]+"px"),h(e,"width",o=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(a,u){w(a,e,u),E(e,t),E(t,n),E(e,r),E(e,s)},p(a,[u]){u&1&&l!==(l=a[0]+"px")&&h(e,"height",l),u&1&&o!==(o=a[0]+"px")&&h(e,"width",o)},i:W,o:W,d(a){a&&y(e)}}}function jUe(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class Kb extends ce{constructor(e){super(),ue(this,e,jUe,RUe,le,{size:0})}}function YUe(i,e){if(i.match(/^[a-z]+:\/\//i))return i;if(i.match(/^\/\//))return window.location.protocol+i;if(i.match(/^[a-z]+:/i))return i;const t=document.implementation.createHTMLDocument(),n=t.createElement("base"),r=t.createElement("a");return t.head.appendChild(n),t.body.appendChild(r),e&&(n.href=e),r.href=i,r.href}const UUe=(()=>{let i=0;const e=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(i+=1,`u${e()}${i}`)})();function zo(i){const e=[];for(let t=0,n=i.length;t<n;t++)e.push(i[t]);return e}function sp(i,e){const n=(i.ownerDocument.defaultView||window).getComputedStyle(i).getPropertyValue(e);return n?parseFloat(n.replace("px","")):0}function qUe(i){const e=sp(i,"border-left-width"),t=sp(i,"border-right-width");return i.clientWidth+e+t}function HUe(i){const e=sp(i,"border-top-width"),t=sp(i,"border-bottom-width");return i.clientHeight+e+t}function Zz(i,e={}){const t=e.width||qUe(i),n=e.height||HUe(i);return{width:t,height:n}}function WUe(){let i,e;try{e=process}catch{}const t=e&&e.env?e.env.devicePixelRatio:null;return t&&(i=parseInt(t,10),Number.isNaN(i)&&(i=1)),i||window.devicePixelRatio||1}const qr=16384;function VUe(i){(i.width>qr||i.height>qr)&&(i.width>qr&&i.height>qr?i.width>i.height?(i.height*=qr/i.width,i.width=qr):(i.width*=qr/i.height,i.height=qr):i.width>qr?(i.height*=qr/i.width,i.width=qr):(i.width*=qr/i.height,i.height=qr))}function GUe(i,e={}){return i.toBlob?new Promise(t=>{i.toBlob(t,e.type?e.type:"image/png",e.quality?e.quality:1)}):new Promise(t=>{const n=window.atob(i.toDataURL(e.type?e.type:void 0,e.quality?e.quality:void 0).split(",")[1]),r=n.length,s=new Uint8Array(r);for(let l=0;l<r;l+=1)s[l]=n.charCodeAt(l);t(new Blob([s],{type:e.type?e.type:"image/png"}))})}function lp(i){return new Promise((e,t)=>{const n=new Image;n.decode=()=>e(n),n.onload=()=>e(n),n.onerror=t,n.crossOrigin="anonymous",n.decoding="async",n.src=i})}async function ZUe(i){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(i)).then(encodeURIComponent).then(e=>`data:image/svg+xml;charset=utf-8,${e}`)}async function xUe(i,e,t){const n="http://www.w3.org/2000/svg",r=document.createElementNS(n,"svg"),s=document.createElementNS(n,"foreignObject");return r.setAttribute("width",`${e}`),r.setAttribute("height",`${t}`),r.setAttribute("viewBox",`0 0 ${e} ${t}`),s.setAttribute("width","100%"),s.setAttribute("height","100%"),s.setAttribute("x","0"),s.setAttribute("y","0"),s.setAttribute("externalResourcesRequired","true"),r.appendChild(s),s.appendChild(i),ZUe(r)}function XUe(i){const e=i.getPropertyValue("content");return`${i.cssText} content: '${e.replace(/'|"/g,"")}';`}function KUe(i){return zo(i).map(e=>{const t=i.getPropertyValue(e),n=i.getPropertyPriority(e);return`${e}: ${t}${n?" !important":""};`}).join(" ")}function JUe(i,e,t){const n=`.${i}:${e}`,r=t.cssText?XUe(t):KUe(t);return document.createTextNode(`${n}{${r}}`)}function C9(i,e,t){const n=window.getComputedStyle(i,t),r=n.getPropertyValue("content");if(r===""||r==="none")return;const s=UUe();try{e.className=`${e.className} ${s}`}catch{return}const l=document.createElement("style");l.appendChild(JUe(s,t,n)),e.appendChild(l)}function QUe(i,e){C9(i,e,":before"),C9(i,e,":after")}const S9="application/font-woff",T9="image/jpeg",eqe={woff:S9,woff2:S9,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:T9,jpeg:T9,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function tqe(i){const e=/\.([^./]*?)$/g.exec(i);return e?e[1]:""}function Jb(i){const e=tqe(i).toLowerCase();return eqe[e]||""}function nqe(i){return i.split(/,/)[1]}function d0(i){return i.search(/^(data:)/)!==-1}function xz(i,e){return`data:${e};base64,${i}`}async function Xz(i,e,t){const n=await fetch(i,e);if(n.status===404)throw new Error(`Resource "${n.url}" not found`);const r=await n.blob();return new Promise((s,l)=>{const o=new FileReader;o.onerror=l,o.onloadend=()=>{try{s(t({res:n,result:o.result}))}catch(a){l(a)}},o.readAsDataURL(r)})}const jg={};function iqe(i,e,t){let n=i.replace(/\?.*/,"");return t&&(n=i),/ttf|otf|eot|woff2?/i.test(n)&&(n=n.replace(/.*\//,"")),e?`[${e}]${n}`:n}async function Qb(i,e,t){const n=iqe(i,e,t.includeQueryParams);if(jg[n]!=null)return jg[n];t.cacheBust&&(i+=(/\?/.test(i)?"&":"?")+new Date().getTime());let r;try{const s=await Xz(i,t.fetchRequestInit,({res:l,result:o})=>(e||(e=l.headers.get("Content-Type")||""),nqe(o)));r=xz(s,e)}catch(s){r=t.imagePlaceholder||"";let l=`Failed to fetch resource: ${i}`;s&&(l=typeof s=="string"?s:s.message),l&&console.warn(l)}return jg[n]=r,r}async function rqe(i){const e=i.toDataURL();return e==="data:,"?i.cloneNode(!1):lp(e)}async function sqe(i,e){if(i.currentSrc){const s=document.createElement("canvas"),l=s.getContext("2d");s.width=i.clientWidth,s.height=i.clientHeight,l==null||l.drawImage(i,0,0,s.width,s.height);const o=s.toDataURL();return lp(o)}const t=i.poster,n=Jb(t),r=await Qb(t,n,e);return lp(r)}async function lqe(i){var e;try{if(!((e=i==null?void 0:i.contentDocument)===null||e===void 0)&&e.body)return await w_(i.contentDocument.body,{},!0)}catch{}return i.cloneNode(!1)}async function oqe(i,e){return i instanceof HTMLCanvasElement?rqe(i):i instanceof HTMLVideoElement?sqe(i,e):i instanceof HTMLIFrameElement?lqe(i):i.cloneNode(!1)}const aqe=i=>i.tagName!=null&&i.tagName.toUpperCase()==="SLOT";async function uqe(i,e,t){var n;const r=aqe(i)&&i.assignedNodes?zo(i.assignedNodes()):zo(((n=i.shadowRoot)!==null&&n!==void 0?n:i).childNodes);return r.length===0||i instanceof HTMLVideoElement||await r.reduce((s,l)=>s.then(()=>w_(l,t)).then(o=>{o&&e.appendChild(o)}),Promise.resolve()),e}function cqe(i,e){const t=e.style;if(!t)return;const n=window.getComputedStyle(i);n.cssText?(t.cssText=n.cssText,t.transformOrigin=n.transformOrigin):zo(n).forEach(r=>{let s=n.getPropertyValue(r);r==="font-size"&&s.endsWith("px")&&(s=`${Math.floor(parseFloat(s.substring(0,s.length-2)))-.1}px`),t.setProperty(r,s,n.getPropertyPriority(r))})}function fqe(i,e){i instanceof HTMLTextAreaElement&&(e.innerHTML=i.value),i instanceof HTMLInputElement&&e.setAttribute("value",i.value)}function dqe(i,e){if(i instanceof HTMLSelectElement){const t=e,n=Array.from(t.children).find(r=>i.value===r.getAttribute("value"));n&&n.setAttribute("selected","")}}function hqe(i,e){return e instanceof Element&&(cqe(i,e),QUe(i,e),fqe(i,e),dqe(i,e)),e}async function mqe(i,e){const t=i.querySelectorAll?i.querySelectorAll("use"):[];if(t.length===0)return i;const n={};for(let s=0;s<t.length;s++){const o=t[s].getAttribute("xlink:href");if(o){const a=i.querySelector(o),u=document.querySelector(o);!a&&u&&!n[o]&&(n[o]=await w_(u,e,!0))}}const r=Object.values(n);if(r.length){const s="http://www.w3.org/1999/xhtml",l=document.createElementNS(s,"svg");l.setAttribute("xmlns",s),l.style.position="absolute",l.style.width="0",l.style.height="0",l.style.overflow="hidden",l.style.display="none";const o=document.createElementNS(s,"defs");l.appendChild(o);for(let a=0;a<r.length;a++)o.appendChild(r[a]);i.appendChild(l)}return i}async function w_(i,e,t){return!t&&e.filter&&!e.filter(i)?null:Promise.resolve(i).then(n=>oqe(n,e)).then(n=>uqe(i,n,e)).then(n=>hqe(i,n)).then(n=>mqe(n,e))}const Kz=/url\((['"]?)([^'"]+?)\1\)/g,pqe=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,_qe=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function gqe(i){const e=i.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${e})(['"]?\\))`,"g")}function vqe(i){const e=[];return i.replace(Kz,(t,n,r)=>(e.push(r),t)),e.filter(t=>!d0(t))}async function bqe(i,e,t,n,r){try{const s=t?YUe(e,t):e,l=Jb(e);let o;if(r){const a=await r(s);o=xz(a,l)}else o=await Qb(s,l,n);return i.replace(gqe(e),`$1${o}$3`)}catch{}return i}function kqe(i,{preferredFontFormat:e}){return e?i.replace(_qe,t=>{for(;;){const[n,,r]=pqe.exec(t)||[];if(!r)return"";if(r===e)return`src: ${n};`}}):i}function Jz(i){return i.search(Kz)!==-1}async function Qz(i,e,t){if(!Jz(i))return i;const n=kqe(i,t);return vqe(n).reduce((s,l)=>s.then(o=>bqe(o,l,e,t)),Promise.resolve(n))}async function yqe(i,e){var t;const n=(t=i.style)===null||t===void 0?void 0:t.getPropertyValue("background");if(n){const r=await Qz(n,null,e);i.style.setProperty("background",r,i.style.getPropertyPriority("background"))}}async function wqe(i,e){if(!(i instanceof HTMLImageElement&&!d0(i.src))&&!(i instanceof SVGImageElement&&!d0(i.href.baseVal)))return;const t=i instanceof HTMLImageElement?i.src:i.href.baseVal,n=await Qb(t,Jb(t),e);await new Promise((r,s)=>{i.onload=r,i.onerror=s;const l=i;l.decode&&(l.decode=r),i instanceof HTMLImageElement?(i.srcset="",i.src=n):i.href.baseVal=n})}async function $qe(i,e){const n=zo(i.childNodes).map(r=>eR(r,e));await Promise.all(n).then(()=>i)}async function eR(i,e){i instanceof Element&&(await yqe(i,e),await wqe(i,e),await $qe(i,e))}function Fqe(i,e){const{style:t}=i;e.backgroundColor&&(t.backgroundColor=e.backgroundColor),e.width&&(t.width=`${e.width}px`),e.height&&(t.height=`${e.height}px`);const n=e.style;return n!=null&&Object.keys(n).forEach(r=>{t[r]=n[r]}),i}const A9={};async function P9(i){let e=A9[i];if(e!=null)return e;const n=await(await fetch(i)).text();return e={url:i,cssText:n},A9[i]=e,e}async function N9(i,e){let t=i.cssText;const n=/url\(["']?([^"')]+)["']?\)/g,s=(t.match(/url\([^)]+\)/g)||[]).map(async l=>{let o=l.replace(n,"$1");return o.startsWith("https://")||(o=new URL(o,i.url).href),Xz(o,e.fetchRequestInit,({result:a})=>(t=t.replace(l,`url(${a})`),[l,a]))});return Promise.all(s).then(()=>t)}function M9(i){if(i==null)return[];const e=[],t=/(\/\*[\s\S]*?\*\/)/gi;let n=i.replace(t,"");const r=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const a=r.exec(n);if(a===null)break;e.push(a[0])}n=n.replace(r,"");const s=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,l="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",o=new RegExp(l,"gi");for(;;){let a=s.exec(n);if(a===null){if(a=o.exec(n),a===null)break;s.lastIndex=o.lastIndex}else o.lastIndex=s.lastIndex;e.push(a[0])}return e}async function Eqe(i,e){const t=[],n=[];return i.forEach(r=>{if("cssRules"in r)try{zo(r.cssRules||[]).forEach((s,l)=>{if(s.type===CSSRule.IMPORT_RULE){let o=l+1;const a=s.href,u=P9(a).then(c=>N9(c,e)).then(c=>M9(c).forEach(f=>{try{r.insertRule(f,f.startsWith("@import")?o+=1:r.cssRules.length)}catch(d){console.error("Error inserting rule from remote css",{rule:f,error:d})}})).catch(c=>{console.error("Error loading remote css",c.toString())});n.push(u)}})}catch(s){const l=i.find(o=>o.href==null)||document.styleSheets[0];r.href!=null&&n.push(P9(r.href).then(o=>N9(o,e)).then(o=>M9(o).forEach(a=>{l.insertRule(a,r.cssRules.length)})).catch(o=>{console.error("Error loading remote stylesheet",o.toString())})),console.error("Error inlining remote css file",s.toString())}}),Promise.all(n).then(()=>(i.forEach(r=>{if("cssRules"in r)try{zo(r.cssRules||[]).forEach(s=>{t.push(s)})}catch(s){console.error(`Error while reading CSS rules from ${r.href}`,s.toString())}}),t))}function Dqe(i){return i.filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>Jz(e.style.getPropertyValue("src")))}async function Cqe(i,e){if(i.ownerDocument==null)throw new Error("Provided element is not within a Document");const t=zo(i.ownerDocument.styleSheets),n=await Eqe(t,e);return Dqe(n)}async function Sqe(i,e){const t=await Cqe(i,e);return(await Promise.all(t.map(r=>{const s=r.parentStyleSheet?r.parentStyleSheet.href:null;return Qz(r.cssText,s,e)}))).join(`
`)}async function Tqe(i,e){const t=e.fontEmbedCSS!=null?e.fontEmbedCSS:e.skipFonts?null:await Sqe(i,e);if(t){const n=document.createElement("style"),r=document.createTextNode(t);n.appendChild(r),i.firstChild?i.insertBefore(n,i.firstChild):i.appendChild(n)}}async function Aqe(i,e={}){const{width:t,height:n}=Zz(i,e),r=await w_(i,e,!0);return await Tqe(r,e),await eR(r,e),Fqe(r,e),await xUe(r,t,n)}async function Pqe(i,e={}){const{width:t,height:n}=Zz(i,e),r=await Aqe(i,e),s=await lp(r),l=document.createElement("canvas"),o=l.getContext("2d"),a=e.pixelRatio||WUe(),u=e.canvasWidth||t,c=e.canvasHeight||n;return l.width=u*a,l.height=c*a,e.skipAutoScale||VUe(l),l.style.width=`${u}`,l.style.height=`${c}`,e.backgroundColor&&(o.fillStyle=e.backgroundColor,o.fillRect(0,0,l.width,l.height)),o.drawImage(s,0,0,l.width,l.height),l}async function L9(i,e={}){const t=await Pqe(i,e);return await GUe(t)}let pf=(i,e,t)=>{let n="",r=encodeURIComponent(e),s=encodeURIComponent(t);switch(i){case"twitter":n=`https://twitter.com/intent/tweet?url=${s}&text=${r}&via=nomieapp&hashtags=quantifedself`;break;case"facebook":n=`https://www.facebook.com/sharer.php?u=${s}`;break;case"linkedin":n=`https://www.linkedin.com/shareArticle?mini=true&url=${s}&title=${r}&summary=&source=nomie.app`;break;case"reddit":n=`https://reddit.com/submit?url=${s}&title=${r}`;break;case"email":n=`mailto:?subject=Check%20out%20Nomie&body=${r}%0A%0A${t}`;break}n&&window.open(n,"_system")};const tR=(i,e,t)=>{let n=[{title:"Twitter",click(){pf("twitter",i,e)}},{title:"Facebook",click(){pf("facebook",i,e)}},{title:"LinkedIn",click(){pf("linkedin",i,e)}},{title:"Reddit",click(){pf("reddit",i,e)}},{title:"Email",click(){pf("email",i,e)}}];if(navigator.share){if(e)return navigator.share({title:i,url:e});if(t){let r=[t];navigator.share({files:r,title:i})}}else e&&!t?Xe.popmenu({id:"share",buttons:n}):t&&Pc.file(t);return Promise.resolve(null)};function Nqe(i){let e,t;return e=new Gn({props:{title:"No Dashboard Selected",description:"Create custom dashboards to highlight your data",buttonLabel:"Create a Dashboard",buttonClick:i[14]}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Mqe(i){let e,t,n,r,s,l;return e=new Vn({props:{size:"xl",$$slots:{default:[Bqe]},$$scope:{ctx:i}}}),s=new Vn({props:{size:"md",$$slots:{default:[Vqe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment),t=Y(),n=A("hr"),r=Y(),O(s.$$.fragment),h(n,"class","mt-4 mb-6 border-gray-500 dark:border-opacity-20 dark:border-gray-200 border-opacity-20")},m(o,a){N(e,o,a),w(o,t,a),w(o,n,a),w(o,r,a),N(s,o,a),l=!0},p(o,a){const u={};a&65541&&(u.$$scope={dirty:a,ctx:o}),e.$set(u);const c={};a&65537&&(c.$$scope={dirty:a,ctx:o}),s.$set(c)},i(o){l||(_(e.$$.fragment,o),_(s.$$.fragment,o),l=!0)},o(o){v(e.$$.fragment,o),v(s.$$.fragment,o),l=!1},d(o){M(e,o),o&&y(t),o&&y(n),o&&y(r),M(s,o)}}}function Lqe(i){let e,t;return e=new zUe({props:{showDate:i[2],dashboard:i[0].activeDashboard}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&4&&(s.showDate=n[2]),r&1&&(s.dashboard=n[0].activeDashboard),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Oqe(i){let e,t;return e=new Vje({props:{dashboard:i[0].activeDashboard}}),e.$on("save",i[8]),e.$on("update",i[9]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.dashboard=n[0].activeDashboard),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Iqe(i){let e,t;return e=new xje({}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Bqe(i){let e,t,n,r;const s=[Iqe,Oqe,Lqe],l=[];function o(a,u){return a[0].activeDashboard.widgets.length===0?0:a[0].editMode?1:2}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=$e()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?l[e].p(a,u):(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function zqe(i){let e;return{c(){e=A("span"),e.textContent="Add Widget",h(e,"class","")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function Rqe(i){let e,t;return e=new je({props:{icon:kd,slot:"left"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function O9(i){let e,t,n,r;return e=new xe({props:{clickable:!0,bottomLine:24,$$slots:{left:[Yqe],default:[jqe]},$$scope:{ctx:i}}}),e.$on("click",i[11]),n=new xe({props:{bottomLine:24,clickable:!0,$$slots:{left:[qqe],default:[Uqe]},$$scope:{ctx:i}}}),n.$on("click",i[12]),{c(){O(e.$$.fragment),t=Y(),O(n.$$.fragment)},m(s,l){N(e,s,l),w(s,t,l),N(n,s,l),r=!0},p(s,l){const o={};l&65536&&(o.$$scope={dirty:l,ctx:s}),e.$set(o);const a={};l&65536&&(a.$$scope={dirty:l,ctx:s}),n.$set(a)},i(s){r||(_(e.$$.fragment,s),_(n.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(n.$$.fragment,s),r=!1},d(s){M(e,s),s&&y(t),M(n,s)}}}function jqe(i){let e;return{c(){e=Z("Share Dashboard View")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Yqe(i){let e,t;return e=new je({props:{icon:LP,slot:"left"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Uqe(i){let e;return{c(){e=A("span"),e.textContent="Edit Dashboard"},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function qqe(i){let e,t;return e=new je({props:{icon:TP,slot:"left"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Hqe(i){let e;return{c(){e=A("span"),e.textContent="Delete Dashboard",h(e,"class","text-danger")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function Wqe(i){let e,t;return e=new je({props:{icon:wd,slot:"left"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Vqe(i){var o,a;let e,t,n,r,s;e=new xe({props:{clickable:!0,bottomLine:24,$$slots:{left:[Rqe],default:[zqe]},$$scope:{ctx:i}}}),e.$on("click",i[10]);let l=((a=(o=i[0].activeDashboard)==null?void 0:o.widgets)==null?void 0:a.length)>0&&O9(i);return r=new xe({props:{clickable:!0,$$slots:{left:[Wqe],default:[Hqe]},$$scope:{ctx:i}}}),r.$on("click",i[13]),{c(){O(e.$$.fragment),t=Y(),l&&l.c(),n=Y(),O(r.$$.fragment)},m(u,c){N(e,u,c),w(u,t,c),l&&l.m(u,c),w(u,n,c),N(r,u,c),s=!0},p(u,c){var m,p;const f={};c&65536&&(f.$$scope={dirty:c,ctx:u}),e.$set(f),((p=(m=u[0].activeDashboard)==null?void 0:m.widgets)==null?void 0:p.length)>0?l?(l.p(u,c),c&1&&_(l,1)):(l=O9(u),l.c(),_(l,1),l.m(n.parentNode,n)):l&&(ie(),v(l,1,1,()=>{l=null}),re());const d={};c&65536&&(d.$$scope={dirty:c,ctx:u}),r.$set(d)},i(u){s||(_(e.$$.fragment,u),_(l),_(r.$$.fragment,u),s=!0)},o(u){v(e.$$.fragment,u),v(l),v(r.$$.fragment,u),s=!1},d(u){M(e,u),u&&y(t),l&&l.d(u),u&&y(n),M(r,u)}}}function Gqe(i){let e,t,n,r,s;const l=[Mqe,Nqe],o=[];function a(u,c){return u[0].activeDashboard?0:1}return e=a(i),t=o[e]=l[e](i),{c(){t.c(),n=Y(),r=A("div"),h(r,"class","h-40")},m(u,c){o[e].m(u,c),w(u,n,c),w(u,r,c),s=!0},p(u,c){let f=e;e=a(u),e===f?o[e].p(u,c):(ie(),v(o[f],1,1,()=>{o[f]=null}),re(),t=o[e],t?t.p(u,c):(t=o[e]=l[e](u),t.c()),_(t,1),t.m(n.parentNode,n))},i(u){s||(_(t),s=!0)},o(u){v(t),s=!1},d(u){o[e].d(u),u&&y(n),u&&y(r)}}}function Zqe(i){let e,t;return e=new je({props:{className:"text-primary-500",icon:Kb,size:32}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function xqe(i){let e,t;return e=new Me({props:{shape:"round",size:"sm",className:"ml-2 bg-primary-500 text-white w-32",$$slots:{default:[Kqe]},$$scope:{ctx:i}}}),e.$on("click",i[7]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&65536&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Xqe(i){let e,t;return e=new Qje({}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Kqe(i){let e;return{c(){e=Z("Done")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Jqe(i){let e,t,n,r,s,l;e=new Lc({props:{id:"dashboard-menu",menuButtons:i[1],buttonClass:"menu-button-icon",$$slots:{default:[Zqe]},$$scope:{ctx:i}}});const o=[Xqe,xqe],a=[];function u(c,f){return c[0].editMode?1:0}return n=u(i),r=a[n]=o[n](i),{c(){O(e.$$.fragment),t=Y(),r.c(),s=$e()},m(c,f){N(e,c,f),w(c,t,f),a[n].m(c,f),w(c,s,f),l=!0},p(c,f){const d={};f&2&&(d.menuButtons=c[1]),f&65536&&(d.$$scope={dirty:f,ctx:c}),e.$set(d);let m=n;n=u(c),n===m?a[n].p(c,f):(ie(),v(a[m],1,1,()=>{a[m]=null}),re(),r=a[n],r?r.p(c,f):(r=a[n]=o[n](c),r.c()),_(r,1),r.m(s.parentNode,s))},i(c){l||(_(e.$$.fragment,c),_(r),l=!0)},o(c){v(e.$$.fragment,c),v(r),l=!1},d(c){M(e,c),c&&y(t),a[n].d(c),c&&y(s)}}}function Qqe(i){let e,t;return e=new Sr({props:{slot:"header",className:"pr-8",$$slots:{default:[Jqe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&65539&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function eHe(i){let e,t;return e=new Tr({props:{className:"h-full",$$slots:{header:[Qqe],default:[Gqe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&65543&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function tHe(i,e,t){let n,r;Ee(i,hl,F=>t(0,n=F)),Ee(i,It,F=>t(6,r=F));let s=[];const l=()=>{var F;return[{title:"Add New Widget",icon:kd,click(){M1()}},{title:"Add New Dashboard",icon:F0,click(){J$()}},{title:`Edit ${((F=n.activeDashboard)==null?void 0:F.label)||""}`,disabled:!n.activeDashboard,icon:_l,divider:!0,click(){Dh()}}]},o=async()=>{if(await Xe.confirm("Delete this dashboard?","This cannot be undone"))try{const C=await Qhe(n.activeDashboard);$O(0),wn(hl,n.editMode=!1,n)}catch(C){Xe.error(C.message)}};let a=!1;const u=async()=>{Xe.blocker("Generating..."),t(2,a=!0);try{await Et(600);const F=document.getElementById("widgets-frame");let C=await L9(F,{pixelRatio:1});C=await L9(F,{pixelRatio:1});const S=new File([C],`${n.activeDashboard.id.substring(0,5)}-dashboard.png`,{type:"image/png"});return t(2,a=!1),Xe.stopBlocker(),Xe.popmenu({title:"Dashboard Report Generated",description:"You can now share this as an image",id:"share-dashboard",buttons:[{title:navigator.share?"Share...":"Download...",click(){tR(n.activeDashboard.label,void 0,S)}}]}),S}catch(F){Xe.error(F.message),t(2,a=!1),Xe.stopBlocker();return}},c=(F,C=!1)=>{try{uc(F),C||Dh()}catch(S){Xe.error(S.message)}},f=()=>{Dh()},d=F=>{c(F.detail)},m=F=>{c(F.detail,!0)},p=()=>M1(),g=async()=>{await u()},k=()=>{Dh()},$=()=>{o()},D=()=>{J$()};return i.$$.update=()=>{i.$$.dirty&64&&Object.keys(r.trackables)&&Hv(),i.$$.dirty&1&&n&&t(1,s=l())},[n,s,a,o,u,c,r,f,d,m,p,g,k,$,D]}class nHe extends ce{constructor(e){super(),ue(this,e,tHe,eHe,le,{})}}function iHe(i){let e,t;return e=new nHe({}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}class nR extends ce{constructor(e){super(),ue(this,e,null,iHe,le,{})}}const rHe=i=>({}),I9=i=>({});function B9(i,e,t){const n=i.slice();return n[18]=e[t],n}function sHe(i){let e,t,n,r,s;const l=[aHe,oHe],o=[];function a(u,c){return u[4].editMode?u[5]?1:-1:0}return~(t=a(i))&&(n=o[t]=l[t](i)),{c(){e=A("div"),n&&n.c(),h(e,"class",r="n-board-tabs "+i[0])},m(u,c){w(u,e,c),~t&&o[t].m(e,null),s=!0},p(u,c){let f=t;t=a(u),t===f?~t&&o[t].p(u,c):(n&&(ie(),v(o[f],1,1,()=>{o[f]=null}),re()),~t?(n=o[t],n?n.p(u,c):(n=o[t]=l[t](u),n.c()),_(n,1),n.m(e,null)):n=null),(!s||c&1&&r!==(r="n-board-tabs "+u[0]))&&h(e,"class",r)},i(u){s||(_(n),s=!0)},o(u){v(n),s=!1},d(u){u&&y(e),~t&&o[t].d()}}}function lHe(i){let e,t;return{c(){e=A("div"),h(e,"class",t="flex items-center flex-grow flex-shrink n-board-tabs min-h-14 max-h-14 h-14 "+i[0]),h(e,"data-scroll","0")},m(n,r){w(n,e,r)},p(n,r){r&1&&t!==(t="flex items-center flex-grow flex-shrink n-board-tabs min-h-14 max-h-14 h-14 "+n[0])&&h(e,"class",t)},i:W,o:W,d(n){n&&y(e)}}}function oHe(i){let e,t,n;function r(l){i[15](l)}let s={containerClass:"w-full items-center flex-nowrap flex overflow-x-auto overflow-y-hidden mx-auto max-w-screen-xl border-2 border-gray-500 border-opacity-20 rounded-full",className:"items-center h-10",handleClass:"board-tab",key:"id",direction:"x",$$slots:{default:[fHe,({item:l})=>({21:l}),({item:l})=>l?2097152:0]},$$scope:{ctx:i}};return i[1]!==void 0&&(s.items=i[1]),e=new jc({props:s}),De.push(()=>Ue(e,"items",r,i[1])),e.$on("update",i[16]),{c(){O(e.$$.fragment)},m(l,o){N(e,l,o),n=!0},p(l,o){const a={};o&2228228&&(a.$$scope={dirty:o,ctx:l}),!t&&o&2&&(t=!0,a.items=l[1],qe(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){M(e,l)}}}function aHe(i){let e,t;return e=new Oc({props:{activeIndex:i[4].activeIndex,wrapperClass:"space-x-2",className:"n-board-tabs overflow-y-hidden",$$slots:{default:[mHe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&16&&(s.activeIndex=n[4].activeIndex),r&131078&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function uHe(i){let e=i[21].label+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p(n,r){r&2097152&&e!==(e=n[21].label+"")&&oe(t,e)},i:W,o:W,d(n){n&&y(t)}}}function cHe(i){let e,t;return e=new je({props:{icon:i[21].icon,size:22}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&2097152&&(s.icon=n[21].icon),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function fHe(i){let e,t,n,r,s,l,o,a,u,c,f;n=new je({props:{className:"text-white",icon:pl,size:10}});function d(){return i[14](i[21])}const m=[cHe,uHe],p=[];function g(k,$){return k[21].icon?0:1}return l=g(i),o=p[l]=m[l](i),{c(){e=A("div"),t=A("button"),O(n.$$.fragment),r=Y(),s=A("button"),o.c(),h(t,"class","rounded-full h-4 w-4 absolute z-50 -right-2 bg-red-500 text-white"),h(s,"class",a="tab animate-shake-big board-tab mt-1 board-"+i[21].id+" "+(i[21]==i[2]?"selected ":"inactive")),h(e,"class","px-1")},m(k,$){w(k,e,$),E(e,t),N(n,t,null),E(e,r),E(e,s),p[l].m(s,null),u=!0,c||(f=ke(t,"click",Or(d)),c=!0)},p(k,$){i=k;let D=l;l=g(i),l===D?p[l].p(i,$):(ie(),v(p[D],1,1,()=>{p[D]=null}),re(),o=p[l],o?o.p(i,$):(o=p[l]=m[l](i),o.c()),_(o,1),o.m(s,null)),(!u||$&2097156&&a!==(a="tab animate-shake-big board-tab mt-1 board-"+i[21].id+" "+(i[21]==i[2]?"selected ":"inactive")))&&h(s,"class",a)},i(k){u||(_(n.$$.fragment,k),_(o),u=!0)},o(k){v(n.$$.fragment,k),v(o),u=!1},d(k){k&&y(e),M(n),p[l].d(),c=!1,f()}}}function dHe(i){let e=i[18].label+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p(n,r){r&2&&e!==(e=n[18].label+"")&&oe(t,e)},i:W,o:W,d(n){n&&y(t)}}}function hHe(i){let e,t;return e=new je({props:{icon:i[18].icon,size:22}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.icon=n[18].icon),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function z9(i){let e,t,n,r,s,l,o,a;const u=[hHe,dHe],c=[];function f(m,p){return m[18].icon?0:1}t=f(i),n=c[t]=u[t](i);function d(){return i[13](i[18])}return{c(){e=A("button"),n.c(),h(e,"title",r=`${i[18].label} board tab`),h(e,"type","menu"),h(e,"class",s="tab board-"+i[18].id+" "+(i[18]==i[2]?"selected":"inactive"))},m(m,p){w(m,e,p),c[t].m(e,null),l=!0,o||(a=ke(e,"click",d),o=!0)},p(m,p){i=m;let g=t;t=f(i),t===g?c[t].p(i,p):(ie(),v(c[g],1,1,()=>{c[g]=null}),re(),n=c[t],n?n.p(i,p):(n=c[t]=u[t](i),n.c()),_(n,1),n.m(e,null)),(!l||p&2&&r!==(r=`${i[18].label} board tab`))&&h(e,"title",r),(!l||p&6&&s!==(s="tab board-"+i[18].id+" "+(i[18]==i[2]?"selected":"inactive")))&&h(e,"class",s)},i(m){l||(_(n),l=!0)},o(m){v(n),l=!1},d(m){m&&y(e),c[t].d(),o=!1,a()}}}function mHe(i){let e,t,n,r=i[1],s=[];for(let f=0;f<r.length;f+=1)s[f]=z9(B9(i,r,f));const l=f=>v(s[f],1,1,()=>{s[f]=null}),o=i[12].default,a=He(o,i,i[17],null),u=i[12].right,c=He(u,i,i[17],I9);return{c(){for(let f=0;f<s.length;f+=1)s[f].c();e=Y(),a&&a.c(),t=Y(),c&&c.c()},m(f,d){for(let m=0;m<s.length;m+=1)s[m].m(f,d);w(f,e,d),a&&a.m(f,d),w(f,t,d),c&&c.m(f,d),n=!0},p(f,d){if(d&70){r=f[1];let m;for(m=0;m<r.length;m+=1){const p=B9(f,r,m);s[m]?(s[m].p(p,d),_(s[m],1)):(s[m]=z9(p),s[m].c(),_(s[m],1),s[m].m(e.parentNode,e))}for(ie(),m=r.length;m<s.length;m+=1)l(m);re()}a&&a.p&&(!n||d&131072)&&Ve(a,o,f,f[17],n?We(o,f[17],d,null):Ge(f[17]),null),c&&c.p&&(!n||d&131072)&&Ve(c,u,f,f[17],n?We(u,f[17],d,rHe):Ge(f[17]),I9)},i(f){if(!n){for(let d=0;d<r.length;d+=1)_(s[d]);_(a,f),_(c,f),n=!0}},o(f){s=s.filter(Boolean);for(let d=0;d<s.length;d+=1)v(s[d]);v(a,f),v(c,f),n=!1},d(f){it(s,f),f&&y(e),a&&a.d(f),f&&y(t),c&&c.d(f)}}}function pHe(i){let e,t,n,r;const s=[lHe,sHe],l=[];function o(a,u){return a[3]&&a[3].length===1?0:a[3]&&a[3].length>1?1:-1}return~(e=o(i))&&(t=l[e]=s[e](i)),{c(){t&&t.c(),n=$e()},m(a,u){~e&&l[e].m(a,u),w(a,n,u),r=!0},p(a,[u]){let c=e;e=o(a),e===c?~e&&l[e].p(a,u):(t&&(ie(),v(l[c],1,1,()=>{l[c]=null}),re()),~e?(t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n)):t=null)},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){~e&&l[e].d(a),a&&y(n)}}}function _He(i,e,t){let n,r,s;Ee(i,jp,S=>t(10,n=S)),Ee(i,Md,S=>t(3,r=S)),Ee(i,St,S=>t(11,s=S));let{$$slots:l={},$$scope:o}=e,{boards:a=[]}=e,{className:u=""}=e,{editMode:c=!1}=e;const f=Dt(),d={active:null,activeIndex:0,hasTimers:!1,editMode:!1};let m=!0,p=[],g;async function k(S){await Xe.confirm("Delete "+S.label+" tab?","You can recreate it later, but it's not super easy.")===!0&&(t(5,m=!1),await Xae(S),t(5,m=!0),un({message:"Deleted"}))}const $=S=>{f("tabTap",S)},D=S=>{k(S)};function F(S){p=S,t(1,p),t(3,r),t(11,s),t(10,n)}const C=S=>{tue(S.detail)};return i.$$set=S=>{"boards"in S&&t(8,a=S.boards),"className"in S&&t(0,u=S.className),"editMode"in S&&t(9,c=S.editMode),"$$scope"in S&&t(17,o=S.$$scope)},i.$$.update=()=>{i.$$.dirty&3082&&r&&s&&(t(1,p=r||[]),t(2,g=n),t(1,p),t(3,r),t(11,s),t(10,n)),i.$$.dirty&512&&(c===!0?t(4,d.editMode=!0,d):c===!1&&t(4,d.editMode=!1,d)),i.$$.dirty&260&&a.length&&g&&a.forEach((S,P)=>{S.id==g.id&&S.id!=="_all"&&S.id!=="_timers"&&t(4,d.activeIndex=P,d)})},[u,p,g,r,d,m,f,k,a,c,n,s,l,$,D,F,C,o]}class gHe extends ce{constructor(e){super(),ue(this,e,_He,pHe,le,{boards:8,className:0,editMode:9})}}function R9(i,e,t){const n=i.slice();return n[2]=e[t],n}function j9(i){let e,t;return{c(){e=A("div"),h(e,"class","active"),h(e,"style",t=(i[1]?`background-color:${i[1]};`:"")+" --index:"+i[2]+";")},m(n,r){w(n,e,r)},p(n,r){r&3&&t!==(t=(n[1]?`background-color:${n[1]};`:"")+" --index:"+n[2]+";")&&h(e,"style",t)},d(n){n&&y(e)}}}function vHe(i){let e,t=i[0],n=[];for(let r=0;r<t.length;r+=1)n[r]=j9(R9(i,t,r));return{c(){e=A("div");for(let r=0;r<n.length;r+=1)n[r].c();h(e,"class","time-balls")},m(r,s){w(r,e,s);for(let l=0;l<n.length;l+=1)n[l].m(e,null)},p(r,[s]){if(s&3){t=r[0];let l;for(l=0;l<t.length;l+=1){const o=R9(r,t,l);n[l]?n[l].p(o,s):(n[l]=j9(o),n[l].c(),n[l].m(e,null))}for(;l<n.length;l+=1)n[l].d(1);n.length=t.length}},i:W,o:W,d(r){r&&y(e),it(n,r)}}}function bHe(i,e,t){let{hours:n=[]}=e,{color:r=void 0}=e;return i.$$set=s=>{"hours"in s&&t(0,n=s.hours),"color"in s&&t(1,r=s.color)},[n,r]}class kHe extends ce{constructor(e){super(),ue(this,e,bHe,vHe,le,{hours:0,color:1})}}const yHe=i=>({}),Y9=i=>({}),wHe=i=>({}),U9=i=>({});function q9(i){let e,t,n,r,s,l;return t=new je({props:{icon:i[12],size:20}}),{c(){e=A("button"),O(t.$$.fragment),h(e,"type","button"),h(e,"aria-label","More about this Trackable"),h(e,"class",n="more "+(jn.truthy(i[2])?"has-value text-white":"no-value text-gray-500 dark:text-white"))},m(o,a){w(o,e,a),N(t,e,null),r=!0,s||(l=ke(e,"click",i[20]),s=!0)},p(o,a){const u={};a&4096&&(u.icon=o[12]),t.$set(u),(!r||a&4&&n!==(n="more "+(jn.truthy(o[2])?"has-value text-white":"no-value text-gray-500 dark:text-white")))&&h(e,"class",n)},i(o){r||(_(t.$$.fragment,o),r=!0)},o(o){v(t.$$.fragment,o),r=!1},d(o){o&&y(e),M(t),s=!1,l()}}}function H9(i){let e=i[4]||i[5]||i[0],t,n,r=W9(i);return{c(){r.c(),t=$e()},m(s,l){r.m(s,l),w(s,t,l),n=!0},p(s,l){l&49&&le(e,e=s[4]||s[5]||s[0])?(ie(),v(r,1,1,W),re(),r=W9(s),r.c(),_(r,1),r.m(t.parentNode,t)):r.p(s,l)},i(s){n||(_(r),n=!0)},o(s){v(r),n=!1},d(s){s&&y(t),r.d(s)}}}function W9(i){let e,t;return e=new Si({props:{label:i[0],emoji:i[4],src:i[5],size:i[16]}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.label=n[0]),r&16&&(s.emoji=n[4]),r&32&&(s.src=n[5]),r&65536&&(s.size=n[16]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function V9(i){let e,t,n;return{c(){e=A("div"),t=Z(i[0]),h(e,"class",n="title "+(i[0].length>15?"long":"")+" "+(i[11]?"line-clamp-1":"line-clamp-2"))},m(r,s){w(r,e,s),E(e,t)},p(r,s){s&1&&oe(t,r[0]),s&2049&&n!==(n="title "+(r[0].length>15?"long":"")+" "+(r[11]?"line-clamp-1":"line-clamp-2"))&&h(e,"class",n)},d(r){r&&y(e)}}}function G9(i){let e,t;return{c(){e=A("span"),t=Z(i[2]),h(e,"class","value")},m(n,r){w(n,e,r),E(e,t)},p(n,r){r&4&&oe(t,n[2])},d(n){n&&y(e)}}}function Z9(i){let e,t;return{c(){e=A("span"),t=Z(i[1]),h(e,"class","subtitle")},m(n,r){w(n,e,r),E(e,t)},p(n,r){r&2&&oe(t,n[1])},d(n){n&&y(e)}}}function $He(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p,g,k,$=(i[4]||i[5]||i[0])&&H9(i);const D=i[19].emoji,F=He(D,i,i[23],U9),C=i[19].subtitle,S=He(C,i,i[23],Y9),P=i[19].default,I=He(P,i,i[23],null);let R=i[0]&&V9(i),B=i[2]&&!i[9]&&G9(i),z=i[1]&&Z9(i);return p=new kHe({props:{color:"#FFF",hours:i[14]}}),{c(){e=A("div"),$&&$.c(),t=Y(),F&&F.c(),r=Y(),s=A("div"),S&&S.c(),l=Y(),I&&I.c(),o=Y(),a=A("div"),R&&R.c(),u=Y(),c=A("div"),B&&B.c(),f=Y(),z&&z.c(),d=Y(),m=A("div"),O(p.$$.fragment),h(e,"class","emoji-holder"),h(e,"style",n=jn.truthy(i[2])?"color:#FFF":`color:${i[3]}`),h(s,"class","subtitle-slot"),h(c,"class","value-sub"),h(a,"class","title-value"),h(m,"class",g="highlight "+(i[13]?"one-tap":""))},m(q,H){w(q,e,H),$&&$.m(e,null),E(e,t),F&&F.m(e,null),w(q,r,H),w(q,s,H),S&&S.m(s,null),w(q,l,H),I&&I.m(q,H),w(q,o,H),w(q,a,H),R&&R.m(a,null),E(a,u),E(a,c),B&&B.m(c,null),E(c,f),z&&z.m(c,null),w(q,d,H),w(q,m,H),N(p,m,null),k=!0},p(q,H){q[4]||q[5]||q[0]?$?($.p(q,H),H&49&&_($,1)):($=H9(q),$.c(),_($,1),$.m(e,t)):$&&(ie(),v($,1,1,()=>{$=null}),re()),F&&F.p&&(!k||H&8388608)&&Ve(F,D,q,q[23],k?We(D,q[23],H,wHe):Ge(q[23]),U9),(!k||H&12&&n!==(n=jn.truthy(q[2])?"color:#FFF":`color:${q[3]}`))&&h(e,"style",n),S&&S.p&&(!k||H&8388608)&&Ve(S,C,q,q[23],k?We(C,q[23],H,yHe):Ge(q[23]),Y9),I&&I.p&&(!k||H&8388608)&&Ve(I,P,q,q[23],k?We(P,q[23],H,null):Ge(q[23]),null),q[0]?R?R.p(q,H):(R=V9(q),R.c(),R.m(a,u)):R&&(R.d(1),R=null),q[2]&&!q[9]?B?B.p(q,H):(B=G9(q),B.c(),B.m(c,f)):B&&(B.d(1),B=null),q[1]?z?z.p(q,H):(z=Z9(q),z.c(),z.m(c,null)):z&&(z.d(1),z=null);const K={};H&16384&&(K.hours=q[14]),p.$set(K),(!k||H&8192&&g!==(g="highlight "+(q[13]?"one-tap":"")))&&h(m,"class",g)},i(q){k||(_($),_(F,q),_(S,q),_(I,q),_(p.$$.fragment,q),k=!0)},o(q){v($),v(F,q),v(S,q),v(I,q),v(p.$$.fragment,q),k=!1},d(q){q&&y(e),$&&$.d(),F&&F.d(q),q&&y(r),q&&y(s),S&&S.d(q),q&&y(l),I&&I.d(q),q&&y(o),q&&y(a),R&&R.d(),B&&B.d(),z&&z.d(),q&&y(d),q&&y(m),M(p)}}}function FHe(i){let e,t,n,r,s,l=!i[8]&&q9(i);return n=new Me({props:{id:i[7],ariaLabel:i[0]||"button",title:i[0]||"button",color:"clear",className:"w-full "+i[10]+" "+(i[11]?"compact":"normal")+" shortcut-button "+(jn.truthy(i[2])?"has-value":"no-value bg-white dark:bg-black")+`
  `+(i[11]?"compact":""),style:[i[6],`--tracker-color:${i[3]};`,i[2]?`background-color:${i[3]};`:""].join(""),$$slots:{default:[$He]},$$scope:{ctx:i}}}),n.$on("longpress",i[21]),n.$on("click",i[22]),{c(){e=A("div"),l&&l.c(),t=Y(),O(n.$$.fragment),h(e,"class",r="button-wrapper relative w-full flex-grow flex-shrink "+(i[11]?"compact":"normal"))},m(o,a){w(o,e,a),l&&l.m(e,null),E(e,t),N(n,e,null),s=!0},p(o,[a]){o[8]?l&&(ie(),v(l,1,1,()=>{l=null}),re()):l?(l.p(o,a),a&256&&_(l,1)):(l=q9(o),l.c(),_(l,1),l.m(e,t));const u={};a&128&&(u.id=o[7]),a&1&&(u.ariaLabel=o[0]||"button"),a&1&&(u.title=o[0]||"button"),a&3076&&(u.className="w-full "+o[10]+" "+(o[11]?"compact":"normal")+" shortcut-button "+(jn.truthy(o[2])?"has-value":"no-value bg-white dark:bg-black")+`
  `+(o[11]?"compact":"")),a&76&&(u.style=[o[6],`--tracker-color:${o[3]};`,o[2]?`background-color:${o[3]};`:""].join("")),a&8481343&&(u.$$scope={dirty:a,ctx:o}),n.$set(u),(!s||a&2048&&r!==(r="button-wrapper relative w-full flex-grow flex-shrink "+(o[11]?"compact":"normal")))&&h(e,"class",r)},i(o){s||(_(l),_(n.$$.fragment,o),s=!0)},o(o){v(l),v(n.$$.fragment,o),s=!1},d(o){o&&y(e),l&&l.d(),M(n)}}}function EHe(i,e,t){let n,{$$slots:r={},$$scope:s}=e,{title:l=void 0}=e,{subtitle:o=void 0}=e,{value:a=void 0}=e,{color:u=void 0}=e,{emoji:c=void 0}=e,{avatar:f=void 0}=e,{style:d=""}=e,{id:m=void 0}=e,{hideMore:p=!1}=e,{hideValue:g=!1}=e,{className:k=""}=e,{compact:$=!1}=e,{moreIcon:D=D0}=e,{oneTap:F=!1}=e,{hoursUsed:C=[]}=e,S;const P=Dt();async function I(){P("more")}const R=q=>{q.preventDefault(),q.stopPropagation(),I()},B=()=>{P("longpress"),t(15,S=!0)},z=()=>{S||P("click"),t(15,S=void 0)};return i.$$set=q=>{"title"in q&&t(0,l=q.title),"subtitle"in q&&t(1,o=q.subtitle),"value"in q&&t(2,a=q.value),"color"in q&&t(3,u=q.color),"emoji"in q&&t(4,c=q.emoji),"avatar"in q&&t(5,f=q.avatar),"style"in q&&t(6,d=q.style),"id"in q&&t(7,m=q.id),"hideMore"in q&&t(8,p=q.hideMore),"hideValue"in q&&t(9,g=q.hideValue),"className"in q&&t(10,k=q.className),"compact"in q&&t(11,$=q.compact),"moreIcon"in q&&t(12,D=q.moreIcon),"oneTap"in q&&t(13,F=q.oneTap),"hoursUsed"in q&&t(14,C=q.hoursUsed),"$$scope"in q&&t(23,s=q.$$scope)},i.$$.update=()=>{i.$$.dirty&2048&&t(16,n=$?30:40)},[l,o,a,u,c,f,d,m,p,g,k,$,D,F,C,S,n,P,I,r,R,B,z,s]}class iR extends ce{constructor(e){super(),ue(this,e,EHe,FHe,le,{title:0,subtitle:1,value:2,color:3,emoji:4,avatar:5,style:6,id:7,hideMore:8,hideValue:9,className:10,compact:11,moreIcon:12,oneTap:13,hoursUsed:14})}}function x9(i,e,t){const n=i.slice();return n[17]=e[t],n[19]=t,n}const DHe=i=>({}),X9=i=>({});function K9(i){let e;const t=i[11]["no-results"],n=He(t,i,i[16],X9);return{c(){n&&n.c()},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&65536)&&Ve(n,t,r,r[16],e?We(t,r[16],s,DHe):Ge(r[16]),X9)},i(r){e||(_(n,r),e=!0)},o(r){v(n,r),e=!1},d(r){n&&n.d(r)}}}function J9(i){var l,o;let e,t;function n(){return i[12](i[17])}function r(){return i[13](i[17])}function s(){return i[14](i[17])}return e=new iR({props:{compact:i[5].compactTrackers,id:i[17].type+"-"+`${i[17].tag}`.replace(/(\#|\@|\+)/gi,""),title:i[17].label,hoursUsed:i[4].usage[i[17].tag]?i[4].usage[i[17].tag].hours:[],subtitle:i[6][i[17].tag]?ir.fromNow((l=i[6][i[17].tag])==null?void 0:l.d):void 0,emoji:i[17].emoji,avatar:i[17].avatar,value:i[4].usage[i[17].tag]?i[4].usage[i[17].tag].displayValue:void 0,oneTap:(o=i[17].tracker)==null?void 0:o.one_tap,color:i[17].color,className:i[17].type+"-"+Kf(i[17].tag)+" tracker-board-button",hideMore:i[1],$$slots:{subtitle:[CHe]},$$scope:{ctx:i}}}),e.$on("longpress",n),e.$on("click",r),e.$on("more",s),{c(){O(e.$$.fragment)},m(a,u){N(e,a,u),t=!0},p(a,u){var f,d;i=a;const c={};u&32&&(c.compact=i[5].compactTrackers),u&1&&(c.id=i[17].type+"-"+`${i[17].tag}`.replace(/(\#|\@|\+)/gi,"")),u&1&&(c.title=i[17].label),u&17&&(c.hoursUsed=i[4].usage[i[17].tag]?i[4].usage[i[17].tag].hours:[]),u&65&&(c.subtitle=i[6][i[17].tag]?ir.fromNow((f=i[6][i[17].tag])==null?void 0:f.d):void 0),u&1&&(c.emoji=i[17].emoji),u&1&&(c.avatar=i[17].avatar),u&17&&(c.value=i[4].usage[i[17].tag]?i[4].usage[i[17].tag].displayValue:void 0),u&1&&(c.oneTap=(d=i[17].tracker)==null?void 0:d.one_tap),u&1&&(c.color=i[17].color),u&1&&(c.className=i[17].type+"-"+Kf(i[17].tag)+" tracker-board-button"),u&2&&(c.hideMore=i[1]),u&65537&&(c.$$scope={dirty:u,ctx:i}),e.$set(c)},i(a){t||(_(e.$$.fragment,a),t=!0)},o(a){v(e.$$.fragment,a),t=!1},d(a){M(e,a)}}}function Q9(i){let e,t;return e=new Hb({props:{started:i[17].tracker.started,color:i[17].tracker.color}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.started=n[17].tracker.started),r&1&&(s.color=n[17].tracker.color),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function CHe(i){var r;let e,t,n=((r=i[17].tracker)==null?void 0:r.started)&&Q9(i);return{c(){e=A("div"),n&&n.c(),h(e,"slot","subtitle")},m(s,l){w(s,e,l),n&&n.m(e,null),t=!0},p(s,l){var o;(o=s[17].tracker)!=null&&o.started?n?(n.p(s,l),l&1&&_(n,1)):(n=Q9(s),n.c(),_(n,1),n.m(e,null)):n&&(ie(),v(n,1,1,()=>{n=null}),re())},i(s){t||(_(n),t=!0)},o(s){v(n),t=!1},d(s){s&&y(e),n&&n.d()}}}function eT(i){let e,t,n=i[17]&&i[17].tag&&J9(i);return{c(){n&&n.c(),e=$e()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,s){r[17]&&r[17].tag?n?(n.p(r,s),s&1&&_(n,1)):(n=J9(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ie(),v(n,1,1,()=>{n=null}),re())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function tT(i){let e,t,n,r,s,l;return t=new je({props:{className:"text-gray-500",icon:y0}}),{c(){e=A("button"),O(t.$$.fragment),h(e,"class",n="addButton filler border border-gray-500 rounded-2xl flex items-center justify-center opacity-25 hover:opacity-100 "+(i[5].compactTrackers?"h-14":"h-28 lg:h-32"))},m(o,a){w(o,e,a),N(t,e,null),r=!0,s||(l=ke(e,"click",i[15]),s=!0)},p(o,a){(!r||a&32&&n!==(n="addButton filler border border-gray-500 rounded-2xl flex items-center justify-center opacity-25 hover:opacity-100 "+(o[5].compactTrackers?"h-14":"h-28 lg:h-32")))&&h(e,"class",n)},i(o){r||(_(t.$$.fragment,o),r=!0)},o(o){v(t.$$.fragment,o),r=!1},d(o){o&&y(e),M(t),s=!1,l()}}}function SHe(i){let e,t,n,r,s=!i[0].length&&K9(i),l=i[0],o=[];for(let c=0;c<l.length;c+=1)o[c]=eT(x9(i,l,c));const a=c=>v(o[c],1,1,()=>{o[c]=null});let u=!i[2]&&!i[3]&&tT(i);return{c(){s&&s.c(),e=Y(),t=A("div");for(let c=0;c<o.length;c+=1)o[c].c();n=Y(),u&&u.c(),h(t,"class","item-grid")},m(c,f){s&&s.m(c,f),w(c,e,f),w(c,t,f);for(let d=0;d<o.length;d+=1)o[d].m(t,null);E(t,n),u&&u.m(t,null),r=!0},p(c,[f]){if(c[0].length?s&&(ie(),v(s,1,1,()=>{s=null}),re()):s?(s.p(c,f),f&1&&_(s,1)):(s=K9(c),s.c(),_(s,1),s.m(e.parentNode,e)),f&243){l=c[0];let d;for(d=0;d<l.length;d+=1){const m=x9(c,l,d);o[d]?(o[d].p(m,f),_(o[d],1)):(o[d]=eT(m),o[d].c(),_(o[d],1),o[d].m(t,n))}for(ie(),d=l.length;d<o.length;d+=1)a(d);re()}!c[2]&&!c[3]?u?(u.p(c,f),f&12&&_(u,1)):(u=tT(c),u.c(),_(u,1),u.m(t,null)):u&&(ie(),v(u,1,1,()=>{u=null}),re())},i(c){if(!r){_(s);for(let f=0;f<l.length;f+=1)_(o[f]);_(u),r=!0}},o(c){v(s),o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)v(o[f]);v(u),r=!1},d(c){s&&s.d(c),c&&y(e),c&&y(t),it(o,c),u&&u.d()}}}function THe(i,e,t){let n,r,s,l,o;Ee(i,tl,C=>t(4,n=C)),Ee(i,It,C=>t(9,r=C)),Ee(i,Ut,C=>t(10,s=C)),Ee(i,St,C=>t(5,l=C)),Ee(i,gL,C=>t(6,o=C));let{$$slots:a={},$$scope:u}=e;const c=Dt();let{trackables:f=[]}=e,{hideMore:d=!1}=e,{hideAdd:m=!1}=e,{searching:p=!1}=e,g="";const k=C=>{c("longpress",C)},$=C=>{c("tap",C)},D=C=>{c("more",C)},F=()=>{c("add")};return i.$$set=C=>{"trackables"in C&&t(0,f=C.trackables),"hideMore"in C&&t(1,d=C.hideMore),"hideAdd"in C&&t(2,m=C.hideAdd),"searching"in C&&t(3,p=C.searching),"$$scope"in C&&t(16,u=C.$$scope)},i.$$.update=()=>{i.$$.dirty&1808&&s.hash!==g&&(t(8,g=s.hash),So({knownTrackables:r.trackables,date:n.date}))},[f,d,m,p,n,l,o,c,g,r,s,a,k,$,D,F,u]}class AHe extends ce{constructor(e){super(),ue(this,e,THe,SHe,le,{trackables:0,hideMore:1,hideAdd:2,searching:3})}}function PHe(i){let e;const t=i[4].default,n=He(t,i,i[6],null);return{c(){n&&n.c()},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&64)&&Ve(n,t,r,r[6],e?We(t,r[6],s,null):Ge(r[6]),null)},i(r){e||(_(n,r),e=!0)},o(r){v(n,r),e=!1},d(r){n&&n.d(r)}}}function NHe(i){let e,t,n,r;return t=new Oc({props:{wrapperClass:"swiper-wrapper",captureCenter:!0,$$slots:{default:[PHe]},$$scope:{ctx:i}}}),t.$on("centerElement",i[5]),{c(){e=A("div"),O(t.$$.fragment),h(e,"class",n="n-swiper "+i[1]),h(e,"id",i[0])},m(s,l){w(s,e,l),N(t,e,null),r=!0},p(s,[l]){const o={};l&64&&(o.$$scope={dirty:l,ctx:s}),t.$set(o),(!r||l&2&&n!==(n="n-swiper "+s[1]))&&h(e,"class",n),(!r||l&1)&&h(e,"id",s[0])},i(s){r||(_(t.$$.fragment,s),r=!0)},o(s){v(t.$$.fragment,s),r=!1},d(s){s&&y(e),M(t)}}}function MHe(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=Dt();let{id:l=`sw-${pn()}`}=e,{className:o=""}=e;const a=c=>{if(c>-1){const f=document.querySelector(`#${l} [data-child-id='${c}']`);f&&f.scrollIntoView()}};wt(()=>{setTimeout(()=>{const c=document.querySelector(".n-swiper [data-index]");c&&c.classList.add("active-slide")},100)});const u=c=>{const f=c.detail.ele.dataset.childId;isNaN(f)||s("index",f)};return i.$$set=c=>{"id"in c&&t(0,l=c.id),"className"in c&&t(1,o=c.className),"$$scope"in c&&t(6,r=c.$$scope)},[l,o,s,a,n,u,r]}class LHe extends ce{constructor(e){super(),ue(this,e,MHe,NHe,le,{id:0,className:1,scrollTo:3})}get scrollTo(){return this.$$.ctx[3]}}function OHe(i){let e,t,n;function r(l){i[10](l)}let s={type:"text",listItem:!0,placeholder:"Tab Label"};return i[0].label!==void 0&&(s.value=i[0].label),e=new fn({props:s}),De.push(()=>Ue(e,"value",r,i[0].label)),e.$on("input",i[11]),{c(){O(e.$$.fragment)},m(l,o){N(e,l,o),n=!0},p(l,o){const a={};!t&&o&1&&(t=!0,a.value=l[0].label,qe(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){M(e,l)}}}function IHe(i){let e,t;return e=new Ft({props:{solo:!0,$$slots:{default:[OHe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&262145&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function BHe(i){let e,t,n,r,s;t=new je({props:{icon:gl,className:"text-white",size:12}});function l(){return i[12](i[17])}return{c(){e=A("button"),O(t.$$.fragment),h(e,"class","delete-button")},m(o,a){w(o,e,a),N(t,e,null),n=!0,r||(s=ke(e,"click",l),r=!0)},p(o,a){i=o},i(o){n||(_(t.$$.fragment,o),n=!0)},o(o){v(t.$$.fragment,o),n=!1},d(o){o&&y(e),M(t),r=!1,s()}}}function zHe(i){var n,r;let e,t;return e=new iR({props:{hideMore:!0,style:"width:"+(i[2].size==="xs"?"150px; margin:6px;":i[2].size==="sm"?"150px; margin:8px;":i[2].size==="md"?"150px; margin:10px;":"160px; margin:12px;"),compact:i[3].compactTrackers,id:"tracker-"+i[17].tag,title:i[17].label,hoursUsed:i[4].usage[i[17].tag]?i[4].usage[i[17].tag].hours:[],subtitle:i[5][i[17].tag]?ir.fromNow(i[5][i[17].tag].d):void 0,emoji:(n=i[17].tracker)==null?void 0:n.emoji,value:i[4].usage[i[17].tag]?i[4].usage[i[17].tag].displayValue:void 0,oneTap:(r=i[17].tracker)==null?void 0:r.one_tap,color:i[17].color,className:"tracker-"+i[17].id+" animate-shake tracker-board-button",$$slots:{default:[BHe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(s,l){N(e,s,l),t=!0},p(s,l){var a,u;const o={};l&4&&(o.style="width:"+(s[2].size==="xs"?"150px; margin:6px;":s[2].size==="sm"?"150px; margin:8px;":s[2].size==="md"?"150px; margin:10px;":"160px; margin:12px;")),l&8&&(o.compact=s[3].compactTrackers),l&131072&&(o.id="tracker-"+s[17].tag),l&131072&&(o.title=s[17].label),l&131088&&(o.hoursUsed=s[4].usage[s[17].tag]?s[4].usage[s[17].tag].hours:[]),l&131104&&(o.subtitle=s[5][s[17].tag]?ir.fromNow(s[5][s[17].tag].d):void 0),l&131072&&(o.emoji=(a=s[17].tracker)==null?void 0:a.emoji),l&131088&&(o.value=s[4].usage[s[17].tag]?s[4].usage[s[17].tag].displayValue:void 0),l&131072&&(o.oneTap=(u=s[17].tracker)==null?void 0:u.one_tap),l&131072&&(o.color=s[17].color),l&131072&&(o.className="tracker-"+s[17].id+" animate-shake tracker-board-button"),l&393216&&(o.$$scope={dirty:l,ctx:s}),e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){v(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function RHe(i){let e,t;return e=new jc({props:{key:"id",items:i[1],direction:"xy",$$slots:{default:[zHe,({item:n})=>({17:n}),({item:n})=>n?131072:0]},$$scope:{ctx:i}}}),e.$on("update",i[13]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.items=n[1]),r&393276&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function nT(i){let e,t;return e=new Vn({props:{size:"md",$$slots:{default:[RHe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&262207&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function jHe(i){let e,t,n,r=i[0].elements.length,s;t=new Vn({props:{$$slots:{default:[IHe]},$$scope:{ctx:i}}});let l=nT(i);return{c(){e=A("section"),O(t.$$.fragment),n=Y(),l.c(),h(e,"aria-label","Edit this Tabs name and trackables")},m(o,a){w(o,e,a),N(t,e,null),E(e,n),l.m(e,null),s=!0},p(o,[a]){const u={};a&262145&&(u.$$scope={dirty:a,ctx:o}),t.$set(u),a&1&&le(r,r=o[0].elements.length)?(ie(),v(l,1,1,W),re(),l=nT(o),l.c(),_(l,1),l.m(e,null)):l.p(o,a)},i(o){s||(_(t.$$.fragment,o),_(l),s=!0)},o(o){v(t.$$.fragment,o),v(l),s=!1},d(o){o&&y(e),M(t),l.d(o)}}}function YHe(i,e,t){let n,r,s,l,o;Ee(i,It,C=>t(9,n=C)),Ee(i,Hn,C=>t(2,r=C)),Ee(i,St,C=>t(3,s=C)),Ee(i,tl,C=>t(4,l=C)),Ee(i,gL,C=>t(5,o=C));let{board:a}=e;const u=Dt();let c,f,d;const m=()=>c.elements.map(C=>f.find(S=>S.tag===C)).filter(C=>C),p=()=>{u("updated",c)},g=async C=>{await Xe.confirm(`Remove ${C.tag} from this tab?`,"You can always add it back later.")&&(t(0,c.elements=c.elements.filter(P=>P!==C.tag),c),p()),t(0,c),t(8,a),t(9,n),t(1,d=m())};function k(C){i.$$.not_equal(c.label,C)&&(c.label=C,t(0,c),t(8,a),t(9,n))}const $=()=>{p()},D=C=>g(C),F=C=>{let S=C.detail;t(0,c.elements=S.map(P=>new ri(P).tag),c),p()};return i.$$set=C=>{"board"in C&&t(8,a=C.board)},i.$$.update=()=>{i.$$.dirty&769&&a&&!c&&(t(0,c={...a}),f=eu(n.trackables),t(1,d=m()))},[c,d,r,s,l,o,p,g,a,n,k,$,D,F]}class UHe extends ce{constructor(e){super(),ue(this,e,YHe,jHe,le,{board:8})}}const qHe=async(i,e)=>{let t;if(i.type=="timer")if(i.started){const n=(new Date().getTime()-i.started)/1e3;t=i.toNoteString(n),BL(i)}else IL(i);else i.type!=="note"&&i.type!=="picker"&&(t=i.toNoteString());return t&&t.length?await Xe.confirm("Save Note?",t)&&(xn.addElement(t),await To(xn.asLog()),await xn.clear()):i.type!=="timer"&&k_(i,e),!1};function iT(i,e,t){const n=i.slice();return n[33]=e[t],n}function rT(i,e,t){const n=i.slice();return n[36]=e[t],n}function HHe(i){let e,t,n;return t=new Mn({props:{size:32}}),{c(){e=A("div"),O(t.$$.fragment),h(e,"class","loading-box")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p:W,i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function WHe(i){let e,t,n={id:"uniboard-swiper",$$slots:{default:[QHe]},$$scope:{ctx:i}};return e=new LHe({props:n}),i[29](e),e.$on("index",i[30]),{c(){O(e.$$.fragment)},m(r,s){N(e,r,s),t=!0},p(r,s){const l={};s[0]&497|s[1]&256&&(l.$$scope={dirty:s,ctx:r}),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){i[29](null),M(e,r)}}}function VHe(i){let e,t=[1,2,3,4,5,6],n=[];for(let r=0;r<6;r+=1)n[r]=sT(rT(i,t,r));return{c(){e=A("div");for(let r=0;r<6;r+=1)n[r].c();h(e,"class","item-grid mock")},m(r,s){w(r,e,s);for(let l=0;l<6;l+=1)n[l].m(e,null)},p(r,s){if(s[0]&256){t=[1,2,3,4,5,6];let l;for(l=0;l<6;l+=1){const o=rT(r,t,l);n[l]?n[l].p(o,s):(n[l]=sT(o),n[l].c(),n[l].m(e,null))}for(;l<6;l+=1)n[l].d(1)}},i:W,o:W,d(r){r&&y(e),it(n,r)}}}function GHe(i){let e,t,n,r,s;const l=[xHe,ZHe],o=[];function a(c,f){return c[5].editMode?c[5].editMode?1:-1:0}~(e=a(i))&&(t=o[e]=l[e](i));let u=i[4].elements.length===0&&oT(i);return{c(){t&&t.c(),n=Y(),u&&u.c(),r=$e()},m(c,f){~e&&o[e].m(c,f),w(c,n,f),u&&u.m(c,f),w(c,r,f),s=!0},p(c,f){let d=e;e=a(c),e===d?~e&&o[e].p(c,f):(t&&(ie(),v(o[d],1,1,()=>{o[d]=null}),re()),~e?(t=o[e],t?t.p(c,f):(t=o[e]=l[e](c),t.c()),_(t,1),t.m(n.parentNode,n)):t=null),c[4].elements.length===0?u?(u.p(c,f),f[0]&16&&_(u,1)):(u=oT(c),u.c(),_(u,1),u.m(r.parentNode,r)):u&&(ie(),v(u,1,1,()=>{u=null}),re())},i(c){s||(_(t),_(u),s=!0)},o(c){v(t),v(u),s=!1},d(c){~e&&o[e].d(c),c&&y(n),u&&u.d(c),c&&y(r)}}}function sT(i){let e,t;return{c(){e=A("div"),h(e,"class",t="mock shortcut h-3 rounded-xl "+(i[8].compactTrackers?"h-14":"h-28 lg:h-32")+" bg-gray-300 opacity-30 animate-pulse dark:bg-gray-700")},m(n,r){w(n,e,r)},p(n,r){r[0]&256&&t!==(t="mock shortcut h-3 rounded-xl "+(n[8].compactTrackers?"h-14":"h-28 lg:h-32")+" bg-gray-300 opacity-30 animate-pulse dark:bg-gray-700")&&h(e,"class",t)},d(n){n&&y(e)}}}function ZHe(i){let e,t;return e=new UHe({props:{board:i[4]}}),e.$on("updated",i[28]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[0]&16&&(s.board=n[4]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function xHe(i){let e,t;return e=new AHe({props:{searching:!!i[0],hideAdd:!i[4].elements.length,trackables:i[7],$$slots:{"no-results":[JHe]},$$scope:{ctx:i}}}),e.$on("tap",i[24]),e.$on("more",i[25]),e.$on("add",i[26]),e.$on("longpress",i[27]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[0]&1&&(s.searching=!!n[0]),r[0]&16&&(s.hideAdd=!n[4].elements.length),r[0]&128&&(s.trackables=n[7]),r[0]&1|r[1]&256&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function lT(i){let e,t,n,r,s,l,o,a,u,c;return o=new Me({props:{size:"sm",clear:!0,primary:!0,$$slots:{default:[XHe]},$$scope:{ctx:i}}}),o.$on("click",i[22]),u=new Me({props:{size:"sm",clear:!0,primary:!0,$$slots:{default:[KHe]},$$scope:{ctx:i}}}),u.$on("click",i[23]),{c(){e=A("div"),t=A("span"),n=Z("No trackables found for '"),r=Z(i[0]),s=Z("'"),l=Y(),O(o.$$.fragment),a=Y(),O(u.$$.fragment),h(t,"class","text-gray-500"),h(e,"class","text-center px-4 py-1 flex flex-col space-y-2 max-w-lg mx-auto")},m(f,d){w(f,e,d),E(e,t),E(t,n),E(t,r),E(t,s),E(e,l),N(o,e,null),E(e,a),N(u,e,null),c=!0},p(f,d){(!c||d[0]&1)&&oe(r,f[0]);const m={};d[1]&256&&(m.$$scope={dirty:d,ctx:f}),o.$set(m);const p={};d[0]&1|d[1]&256&&(p.$$scope={dirty:d,ctx:f}),u.$set(p)},i(f){c||(_(o.$$.fragment,f),_(u.$$.fragment,f),c=!0)},o(f){v(o.$$.fragment,f),v(u.$$.fragment,f),c=!1},d(f){f&&y(e),M(o),M(u)}}}function XHe(i){let e;return{c(){e=Z("Search Everything \u2192")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function KHe(i){let e,t,n;return{c(){e=Z('Create new "'),t=Z(i[0]),n=Z('" tracker \u2192')},m(r,s){w(r,e,s),w(r,t,s),w(r,n,s)},p(r,s){s[0]&1&&oe(t,r[0])},d(r){r&&y(e),r&&y(t),r&&y(n)}}}function JHe(i){let e,t,n=i[0]&&lT(i);return{c(){e=A("div"),n&&n.c(),h(e,"slot","no-results")},m(r,s){w(r,e,s),n&&n.m(e,null),t=!0},p(r,s){r[0]?n?(n.p(r,s),s[0]&1&&_(n,1)):(n=lT(r),n.c(),_(n,1),n.m(e,null)):n&&(ie(),v(n,1,1,()=>{n=null}),re())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){r&&y(e),n&&n.d()}}}function oT(i){let e,t,n,r,s,l,o,a=i[33].label+"",u,c,f,d,m;return d=new Zb({props:{size:"sm",buttons:i[14](),className:"max-w-xs mx-auto rounded-2xl border border-gray-500 border-opacity-30"}}),{c(){e=A("div"),t=A("div"),n=A("div"),r=A("h1"),r.textContent="Empty.",s=Y(),l=A("p"),o=Z("This is your "),u=Z(a),c=Z(` board; used to display your trackable buttons. Get started by adding a trackable
                      below.`),f=Y(),O(d.$$.fragment),h(r,"class","text-black dark:text-white font-bold mb-1"),h(l,"class","text-xs"),h(n,"class","text-center text-gray-500 dark:text-gray-400 leading-snug px-6 mb-6 lg:mb-10 flex-fill "),h(t,"class","text-center py-4"),h(e,"class","px-4 max-w-md mx-auto pb-10")},m(p,g){w(p,e,g),E(e,t),E(t,n),E(n,r),E(n,s),E(n,l),E(l,o),E(l,u),E(l,c),E(e,f),N(d,e,null),m=!0},p(p,g){(!m||g[0]&64)&&a!==(a=p[33].label+"")&&oe(u,a)},i(p){m||(_(d.$$.fragment,p),m=!0)},o(p){v(d.$$.fragment,p),m=!1},d(p){p&&y(e),M(d)}}}function aT(i){let e,t,n,r,s,l;const o=[GHe,VHe],a=[];function u(c,f){var d;return c[4]&&c[4].id===((d=c[33])==null?void 0:d.id)?0:1}return t=u(i),n=a[t]=o[t](i),{c(){var c;e=A("section"),n.c(),r=Y(),h(e,"class","min-w-full w-full text-white"),h(e,"id",s=`b-${(c=i[33])==null?void 0:c.id}`),nt(e,"min-height","45vh")},m(c,f){w(c,e,f),a[t].m(e,null),E(e,r),l=!0},p(c,f){var m;let d=t;t=u(c),t===d?a[t].p(c,f):(ie(),v(a[d],1,1,()=>{a[d]=null}),re(),n=a[t],n?n.p(c,f):(n=a[t]=o[t](c),n.c()),_(n,1),n.m(e,r)),(!l||f[0]&64&&s!==(s=`b-${(m=c[33])==null?void 0:m.id}`))&&h(e,"id",s)},i(c){l||(_(n),l=!0)},o(c){v(n),l=!1},d(c){c&&y(e),a[t].d()}}}function QHe(i){let e,t,n=i[6].filter(uT),r=[];for(let l=0;l<n.length;l+=1)r[l]=aT(iT(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=$e()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o[0]&32753){n=l[6].filter(uT);let a;for(a=0;a<n.length;a+=1){const u=iT(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=aT(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ie(),a=n.length;a<r.length;a+=1)s(a);re()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){it(r,l),l&&y(e)}}}function eWe(i){let e,t,n,r;const s=[WHe,HHe],l=[];function o(a,u){return a[6]?0:!a[3].ready&&!a[6]?1:-1}return~(t=o(i))&&(n=l[t]=s[t](i)),{c(){e=A("section"),n&&n.c(),h(e,"class","nomie-board-tab py-2"),nt(e,"min-height","45vh")},m(a,u){w(a,e,u),~t&&l[t].m(e,null),r=!0},p(a,u){let c=t;t=o(a),t===c?~t&&l[t].p(a,u):(n&&(ie(),v(l[c],1,1,()=>{l[c]=null}),re()),~t?(n=l[t],n?n.p(a,u):(n=l[t]=s[t](a),n.c()),_(n,1),n.m(e,null)):n=null)},i(a){r||(_(n),r=!0)},o(a){v(n),r=!1},d(a){a&&y(e),~t&&l[t].d()}}}const uT=i=>i;function tWe(i,e,t){let n,r,s,l,o,a,u,c,f;Ee(i,It,J=>t(3,n=J)),Ee(i,Zl,J=>t(20,r=J)),Ee(i,jp,J=>t(4,s=J)),Ee(i,Rr,J=>t(5,l=J)),Ee(i,Md,J=>t(6,o=J)),Ee(i,xn,J=>t(31,a=J)),Ee(i,jr,J=>t(32,u=J)),Ee(i,Br,J=>t(21,c=J)),Ee(i,St,J=>t(8,f=J));const d=Dt();let{searching:m=void 0}=e,{sort:p}=e,{filter:g=J=>!0}=e,k=[];const $=J=>{J.type==="tracker"?k_(J.tracker,n.trackables):(xn.addElement(J.tag),xn.focus())},D=J=>{Ui(J,{title:`${J.label}`})},F=async J=>{J.type==="tracker"?qHe(J.tracker,u):(xn.addElement(J.tag),await To(new Gt(a)),xn.clear())},C=async()=>{XAe(l.boards.find(J=>J.id==l.activeId),n.trackables)},S=()=>{const J=[{...Sz,description:"Browse Nomie's pre-built tracker library"},{...$z(),description:_e.t("general.create-a-tracker-description","Create a custom tracker to monitor any aspect of your life"),title:_e.t("general.create-tracker","Create Custom Tracker")},{title:`${_e.t("general.import-from-backup"," Import from Backup")}`,description:`${_e.t("general.import-from-backup-description","Have a Nomie backup file? Import it here")}`,icon:gH,click(){HI()}}];return Object.keys(n.trackables).length&&J.unshift(Cz(s)),J};let P,I=!1,R="",B="",z="";const q=()=>{Va(m)},H=()=>{let J=new ri({type:"tracker",tracker:new oi({label:m})});xi(J)},K=J=>$(J.detail),G=J=>D(J.detail),U=J=>C(),Q=J=>F(J.detail),V=J=>{d("editted",J.detail)};function x(J){De[J?"unshift":"push"](()=>{P=J,t(1,P)})}const ee=J=>{let se=J.detail;I?E1(o[se]):t(2,I=!0)};return i.$$set=J=>{"searching"in J&&t(0,m=J.searching),"sort"in J&&t(15,p=J.sort),"filter"in J&&t(16,g=J.filter)},i.$$.update=()=>{if(i.$$.dirty[0]&2195480&&n.trackables){const J=c,se=s;t(7,k=eu(n.trackables).filter(te=>g(te)).map(te=>te).sort((te,ge)=>{var ae,ve,Te,Pe;if(((se==null?void 0:se.id)||"").substring(0,1)==="_"){let pe=(ve=(ae=J[te.tag])==null?void 0:ae.last)!=null&&ve.d?new Date(J[te.tag].last.d):1,Ie=(Pe=(Te=J[ge.tag])==null?void 0:Te.last)!=null&&Pe.d?new Date(J[ge.tag].last.d):0;return pe>Ie?-1:1}else{if(p)return p(te,ge);{let pe=se.elements.indexOf(te.tag),Ie=se.elements.indexOf(ge.tag);return pe>Ie?1:-1}}}))}i.$$.dirty[0]&131182&&l.activeId&&o.length&&n.ready&&!I&&!R.length&&P&&(t(17,R=l.activeId),E1(l.activeId),t(2,I=!0)),i.$$.dirty[0]&131088&&s&&s.id!==R&&(t(17,R=s.id),setTimeout(()=>{let J=document.querySelector(`#uniboard-swiper .wrapper #b-${s.id}`);J&&J.scrollIntoView(!1),Hn.scrollToTop()},200)),i.$$.dirty[0]&262152&&Fn(n.trackables)!==B&&Object.keys(n.trackables).length>0&&(t(18,B=Fn(n.trackables)),km(n.trackables)),i.$$.dirty[0]&1572872&&Fn(r)!==z&&Object.keys(r).length>0&&(t(19,z=Fn(r)),Mc(),setTimeout(()=>{km(n.trackables)},200))},[m,P,I,n,s,l,o,k,f,d,$,D,F,C,S,p,g,R,B,z,r,c,q,H,K,G,U,Q,V,x,ee]}class nWe extends ce{constructor(e){super(),ue(this,e,tWe,eWe,le,{searching:0,sort:15,filter:16},null,[-1,-1])}}function cT(i,e,t){const n=i.slice();return n[6]=e[t],n[8]=t,n}function iWe(i){let e,t=i[6].label+"",n;return{c(){e=A("h1"),n=Z(t),h(e,"class","ntitle py-3")},m(r,s){w(r,e,s),E(e,n)},p(r,s){s&1&&t!==(t=r[6].label+"")&&oe(n,t)},d(r){r&&y(e)}}}function rWe(i){let e,t;return e=new fi({props:{trackable:i[6],slot:"left"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.trackable=n[6]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function sWe(i){let e,t;return e=new Hb({props:{slot:"right",started:i[6].tracker.started,color:i[6].tracker.color}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.started=n[6].tracker.started),r&1&&(s.color=n[6].tracker.color),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function fT(i){let e,t;return e=new Tn({props:{center:!0}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function dT(i){let e,t,n,r;function s(){return i[5](i[6])}e=new xe({props:{$$slots:{right:[sWe],left:[rWe],default:[iWe]},$$scope:{ctx:i}}}),e.$on("click",s);let l=i[8]<i[0].length-1&&fT();return{c(){O(e.$$.fragment),t=Y(),l&&l.c(),n=$e()},m(o,a){N(e,o,a),w(o,t,a),l&&l.m(o,a),w(o,n,a),r=!0},p(o,a){i=o;const u={};a&513&&(u.$$scope={dirty:a,ctx:i}),e.$set(u),i[8]<i[0].length-1?l?a&1&&_(l,1):(l=fT(),l.c(),_(l,1),l.m(n.parentNode,n)):l&&(ie(),v(l,1,1,()=>{l=null}),re())},i(o){r||(_(e.$$.fragment,o),_(l),r=!0)},o(o){v(e.$$.fragment,o),v(l),r=!1},d(o){M(e,o),o&&y(t),l&&l.d(o),o&&y(n)}}}function hT(i){let e,t;return e=new xe({props:{$$slots:{default:[lWe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&512&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function lWe(i){let e=_e.t("trackers.no-running-timers","No Running Timers")+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p:W,d(n){n&&y(t)}}}function oWe(i){let e,t,n,r=i[0],s=[];for(let a=0;a<r.length;a+=1)s[a]=dT(cT(i,r,a));const l=a=>v(s[a],1,1,()=>{s[a]=null});let o=i[0].length===0&&hT(i);return{c(){for(let a=0;a<s.length;a+=1)s[a].c();e=Y(),o&&o.c(),t=$e()},m(a,u){for(let c=0;c<s.length;c+=1)s[c].m(a,u);w(a,e,u),o&&o.m(a,u),w(a,t,u),n=!0},p(a,u){if(u&3){r=a[0];let c;for(c=0;c<r.length;c+=1){const f=cT(a,r,c);s[c]?(s[c].p(f,u),_(s[c],1)):(s[c]=dT(f),s[c].c(),_(s[c],1),s[c].m(e.parentNode,e))}for(ie(),c=r.length;c<s.length;c+=1)l(c);re()}a[0].length===0?o?(o.p(a,u),u&1&&_(o,1)):(o=hT(a),o.c(),_(o,1),o.m(t.parentNode,t)):o&&(ie(),v(o,1,1,()=>{o=null}),re())},i(a){if(!n){for(let u=0;u<r.length;u+=1)_(s[u]);_(o),n=!0}},o(a){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)v(s[u]);v(o),n=!1},d(a){it(s,a),a&&y(e),o&&o.d(a),a&&y(t)}}}function aWe(i){let e,t,n;return t=new Ft({props:{solo:!0,$$slots:{default:[oWe]},$$scope:{ctx:i}}}),{c(){e=A("main"),O(t.$$.fragment),nt(e,"min-height","40vh")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p(r,s){const l={};s&515&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function uWe(i){let e;return{c(){e=A("h1"),e.textContent="Running Timers",h(e,"class","ntitle")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function cWe(i){let e=_e.t("general.close","Close")+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p:W,d(n){n&&y(t)}}}function fWe(i){let e,t;return e=new Me({props:{primary:!0,clear:!0,slot:"left",$$slots:{default:[cWe]},$$scope:{ctx:i}}}),e.$on("click",i[2]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&512&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function dWe(i){let e,t;return e=new Jt({props:{slot:"header",$$slots:{left:[fWe],default:[uWe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&512&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function hWe(i){let e,t;return e=new _n({props:{className:"h-full bg-gray-100 dark:bg-gray-900",$$slots:{header:[dWe],default:[aWe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&515&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function mWe(i,e,t){let n,r,s;Ee(i,Up,u=>t(4,r=u)),Ee(i,jr,u=>t(1,s=u));let{id:l}=e;const o=()=>{Ot(l)},a=u=>{k_(u.tracker,s)};return i.$$set=u=>{"id"in u&&t(3,l=u.id)},i.$$.update=()=>{i.$$.dirty&16&&t(0,n=r.map(u=>u.toTrackable()))},[n,s,o,l,r,a]}class pWe extends ce{constructor(e){super(),ue(this,e,mWe,hWe,le,{id:3})}}const _We=async()=>{en({id:"timers-modal",component:pWe,tappable:!0,componentProps:{},position:"bottom"})};function gWe(i){let e,t,n;return{c(){e=me("svg"),t=me("path"),h(t,"fill-rule","evenodd"),h(t,"clip-rule","evenodd"),h(t,"d",`M63.9958 40.8859C68.1747 45.8904 70.2642 53.4456 70.2642 63.5517V97.2225C70.2642 100.429 69.268 102.956 67.2757 104.802C65.2835
    106.648 62.5866 107.571 59.1852 107.571C55.7837 107.571 53.1112 106.648 51.1675 104.802C49.2238 102.956 48.2519 100.429 48.2519
    97.2225V64.5721C48.2519 59.7133 47.353 56.1665 45.5551 53.9315C43.7572 51.6965 40.9631 50.579 37.1729 50.579C32.6053 50.579 28.9366
    52.0366 26.1668 54.9518C23.3971 57.867 22.0122 61.754 22.0122 66.6127V97.2225C22.0122 100.429 21.0404 102.956 19.0967 104.802C17.153
    106.648 14.4805 107.571 11.079 107.571C7.67753 107.571 4.9807 106.648 2.98841 104.802C0.996128 102.956 0 100.429 0 97.2225V43.7282C0
    40.7158 1.04472 38.2865 3.13419 36.4402C5.22366 34.5939 7.92049 33.6707 11.2248 33.6707C14.2375 33.6707 16.6914 34.5696 18.5865
    36.3673C20.4816 38.165 21.4291 40.4729 21.4291 43.291V45.3316C23.9559 41.4446 27.2358 38.4808 31.269 36.4402C35.3022 34.3995 39.8455
    33.3792 44.8991 33.3792C53.4513 33.3792 59.8168 35.8814 63.9958 40.8859ZM92.9735 103.272C87.2396 100.211 82.8178 95.8864 79.7079
    90.2988C76.598 84.7113 75.043 78.1278 75.043 70.5482C75.043 62.9686 76.598 56.3852 79.7079 50.7976C82.8178 45.2101 87.2396 40.9102
    92.9735 37.8978C98.7074 34.8854 105.364 33.3792 112.945 33.3792C120.525 33.3792 127.182 34.8854 132.916 37.8978C138.65 40.9102 143.072
    45.2101 146.182 50.7976C149.292 56.3852 150.847 62.9686 150.847 70.5482C150.847 78.1278 149.292 84.7113 146.182 90.2988C143.072 95.8864
    138.65 100.211 132.916 103.272C127.182 106.333 120.525 107.863 112.945 107.863C105.364 107.863 98.7074 106.333 92.9735 103.272ZM128.98
    70.5482C128.98 63.6489 127.595 58.4987 124.826 55.0976C122.056 51.6965 118.096 49.996 112.945 49.996C102.255 49.996 96.9095 56.8467
    96.9095 70.5482C96.9095 84.2498 102.255 91.1005 112.945 91.1005C123.635 91.1005 128.98 84.2498 128.98 70.5482ZM261.318 40.4486C265.497
    45.1616 267.586 52.8625 267.586 63.5517V97.2225C267.586 100.624 266.566 103.199 264.525 104.948C262.484 106.697 259.86 107.571 256.653
    107.571C253.543 107.571 250.919 106.697 248.781 104.948C246.643 103.199 245.574 100.624 245.574 97.2225V63.2602C245.574 58.5958 244.772
    55.3162 243.169 53.4213C241.565 51.5264 239.112 50.579 235.807 50.579C231.725 50.579 228.47 51.988 226.04 54.8061C223.611 57.6241
    222.396 61.5596 222.396 66.6127V97.2225C222.396 100.624 221.375 103.199 219.335 104.948C217.294 106.697 214.67 107.571 211.463
    107.571C208.353 107.571 205.729 106.697 203.591 104.948C201.453 103.199 200.384 100.624 200.384 97.2225V63.2602C200.384 58.5958 199.582
    55.3162 197.978 53.4213C196.375 51.5264 193.921 50.579 190.617 50.579C186.535 50.579 183.279 51.988 180.85 54.8061C178.42 57.6241
    177.205 61.5596 177.205 66.6127V97.2225C177.205 100.624 176.16 103.199 174.071 104.948C171.982 106.697 169.382 107.571 166.272
    107.571C163.162 107.571 160.538 106.697 158.4 104.948C156.262 103.199 155.193 100.624 155.193 97.2225V43.7282C155.193 40.5215 156.286
    38.0436 158.473 36.2944C160.66 34.5453 163.308 33.6707 166.418 33.6707C169.333 33.6707 171.763 34.521 173.707 36.2216C175.65 37.9221
    176.622 40.2785 176.622 43.291V44.7486C178.955 41.0559 181.991 38.2379 185.733 36.2944C189.475 34.3509 193.726 33.3792 198.489
    33.3792C203.639 33.3792 207.988 34.4238 211.535 36.5131C215.083 38.6023 217.828 41.9791 219.772 46.6435C222.007 42.5621 225.19 39.3312
    229.32 36.9504C233.451 34.5696 238.14 33.3792 243.388 33.3792C251.162 33.3792 257.139 35.7357 261.318 40.4486ZM276.534 104.948C274.445
    103.199 273.4 100.624 273.4 97.2225V44.0198C273.4 40.6187 274.469 38.0436 276.607 36.2944C278.745 34.5453 281.369 33.6707 284.479
    33.6707C287.589 33.6707 290.188 34.5453 292.278 36.2944C294.367 38.0436 295.412 40.6187 295.412 44.0198V97.2225C295.412 100.624 294.367
    103.199 292.278 104.948C290.188 106.697 287.589 107.571 284.479 107.571C281.272 107.571 278.624 106.697 276.534 104.948ZM275.295
    20.9819C273.06 18.7845 271.942 15.8101 271.942 12.0585C271.942 8.30697 273.06 5.35936 275.295 3.21561C277.53 1.07185 280.591 0 284.479
    0C288.269 0 291.306 1.09864 293.59 3.29599C295.874 5.49334 297.016 8.41415 297.016 12.0585C297.016 15.8101 295.898 18.7845 293.663
    20.9819C291.428 23.1792 288.366 24.2779 284.479 24.2779C280.591 24.2779 277.53 23.1792 275.295 20.9819ZM365.431 87.748C366.645 89.3028
    367.253 91.2949 367.253 93.7242C367.253 95.3762 366.767 96.9066 365.795 98.3157C364.823 99.7247 363.463 100.915 361.713 101.887C358.409
    103.636 354.57 105.069 350.197 106.187C345.824 107.304 341.79 107.863 338.097 107.863C330.323 107.863 323.544 106.357 317.762
    103.344C311.979 100.332 307.533 96.0321 304.423 90.4446C301.313 84.8571 299.758 78.2736 299.758 70.694C299.758 63.4059 301.265 56.9439
    304.277 51.3078C307.29 45.6717 311.469 41.2746 316.814 38.1165C322.159 34.9583 328.233 33.3792 335.036 33.3792C341.548 33.3792 347.257
    34.8125 352.165 37.6792C357.073 40.5458 360.887 44.6271 363.608 49.9231C366.33 55.2191 367.69 61.4138 367.69 68.5076C367.69 70.6454
    367.18 72.2731 366.159 73.3906C365.139 74.5081 363.706 75.0668 361.859 75.0668H321.042C321.722 80.8001 323.471 84.9542 326.29
    87.5294C329.108 90.1045 333.141 91.392 338.389 91.392C341.207 91.392 343.734 91.0519 345.969 90.3717C348.205 89.6915 350.683 88.7684
    353.404 87.6023C354.765 87.0192 356.077 86.5091 357.34 86.0718C358.603 85.6345 359.721 85.4158 360.693 85.4158C362.637 85.4158 364.216
    86.1932 365.431 87.748ZM325.561 52.5468C323.034 55.2191 321.528 59.0817 321.042 64.1348H349.176C348.885 58.9845 347.597 55.0976 345.313
    52.4739C343.03 49.8502 339.798 48.5384 335.619 48.5384C331.44 48.5384 328.088 49.8745 325.561 52.5468ZM363.349 33.1092C363.349 33.9515
    363.511 34.7506 363.835 35.5065C364.16 36.2624 364.603 36.9265 365.165 37.4988C365.728 38.0711 366.387 38.5193 367.144 38.8432C367.901
    39.1672 368.712 39.3292 369.577 39.3292C370.442 39.3292 371.253 39.1672 372.01 38.8432C372.767 38.5193 373.427 38.0711 373.989
    37.4988C374.551 36.9265 374.995 36.2624 375.319 35.5065C375.643 34.7506 375.806 33.9515 375.806 33.1092C375.806 32.2453 375.643 31.4354
    375.319 30.6795C374.995 29.9236 374.551 29.2649 373.989 28.7033C373.427 28.1418 372.767 27.6991 372.01 27.3751C371.253 27.0512 370.442
    26.8892 369.577 26.8892C368.712 26.8892 367.901 27.0512 367.144 27.3751C366.387 27.6991 365.728 28.1418 365.165 28.7033C364.603 29.2649
    364.16 29.9236 363.835 30.6795C363.511 31.4354 363.349 32.2453 363.349 33.1092ZM372.886 36.0027C372.886 36.1819 372.814 36.3292 372.67
    36.4445C372.526 36.5597 372.358 36.6173 372.165 36.6173C372.044 36.6173 371.925 36.5885 371.81 36.5309C371.695 36.4733 371.599 36.3836
    371.522 36.262L370.254 34.3798C370.145 34.2133 370.03 34.0932 369.908 34.0196C369.787 33.946 369.633 33.9092 369.447
    33.9092H368.67V35.8491C368.67 36.0795 368.604 36.262 368.473 36.3964C368.341 36.5309 368.164 36.5981 367.94 36.5981C367.709 36.5981
    367.527 36.5309 367.392 36.3964C367.258 36.262 367.19 36.0795 367.19 35.8491V30.4712C367.19 30.2471 367.251 30.0743 367.373
    29.9526C367.495 29.831 367.668 29.7702 367.892 29.7702H370.302C371.096 29.7702 371.697 29.9446 372.103 30.2935C372.51 30.6425 372.713
    31.1466 372.713 31.8061C372.713 32.3246 372.569 32.7568 372.281 33.1025C371.993 33.4482 371.586 33.6755 371.061 33.7843C371.253 33.8227
    371.424 33.898 371.575 34.01C371.725 34.122 371.871 34.2837 372.012 34.495L372.742 35.5898C372.838 35.7306 372.886 35.8682 372.886
    36.0027ZM371.013 32.5503C371.205 32.3999 371.301 32.1646 371.301 31.8445C371.301 31.518 371.205 31.2811 371.013 31.1339C370.821 30.9866
    370.51 30.913 370.081 30.913H368.65V32.776H370.081C370.51 32.776 370.821 32.7008 371.013 32.5503Z`),h(t,"fill",i[1]),h(e,"height",i[0]),h(e,"style",i[3]),h(e,"viewBox","0 0 376 108"),h(e,"fill","none"),h(e,"aria-label","Nomie Logo"),h(e,"class",n=i[2]+" nomie-logo wordmark"),h(e,"xmlns","http://www.w3.org/2000/svg")},m(r,s){w(r,e,s),E(e,t)},p(r,[s]){s&2&&h(t,"fill",r[1]),s&1&&h(e,"height",r[0]),s&8&&h(e,"style",r[3]),s&4&&n!==(n=r[2]+" nomie-logo wordmark")&&h(e,"class",n)},i:W,o:W,d(r){r&&y(e)}}}function vWe(i,e,t){let{size:n=32}=e,{color:r="#319ED7"}=e,{className:s=""}=e,{style:l=""}=e;return i.$$set=o=>{"size"in o&&t(0,n=o.size),"color"in o&&t(1,r=o.color),"className"in o&&t(2,s=o.className),"style"in o&&t(3,l=o.style)},[n,r,s,l]}class rR extends ce{constructor(e){super(),ue(this,e,vWe,gWe,le,{size:0,color:1,className:2,style:3})}}function bWe(i){let e,t=we().subtract(Bu-(i[6]+1),"day").format(i[1].tinyDate)+"",n,r,s,l,o;function a(){return i[4](i[6])}return{c(){e=A("button"),n=Z(t),h(e,"id",r="bit-"+i[6]),h(e,"class",s=(we().subtract(Bu-(i[6]+1),"day").format("YYYY-MM-DD")===i[0].date.format("YYYY-MM-DD")?"active ring-2 ring-white":"inactive")+" bit-button whitespace-nowrap py-1 my-1 w-auto stiff flex-wrap leading-tight text-sm font-semibold px-2 rounded-lg")},m(u,c){w(u,e,c),E(e,n),l||(o=ke(e,"click",a),l=!0)},p(u,c){i=u,c&64&&t!==(t=we().subtract(Bu-(i[6]+1),"day").format(i[1].tinyDate)+"")&&oe(n,t),c&64&&r!==(r="bit-"+i[6])&&h(e,"id",r),c&65&&s!==(s=(we().subtract(Bu-(i[6]+1),"day").format("YYYY-MM-DD")===i[0].date.format("YYYY-MM-DD")?"active ring-2 ring-white":"inactive")+" bit-button whitespace-nowrap py-1 my-1 w-auto stiff flex-wrap leading-tight text-sm font-semibold px-2 rounded-lg")&&h(e,"class",s)},d(u){u&&y(e),l=!1,o()}}}function kWe(i){let e,t,n,r,s,l,o,a;return t=new Um({props:{className:"filler min-w-0 py-2",start:"end",snapToItem:"center",direction:"x",items:Array(Bu).fill(0).map(yWe),$$slots:{default:[bWe,({item:u})=>({6:u}),({item:u})=>u?64:0]},$$scope:{ctx:i}}}),{c(){e=A("div"),O(t.$$.fragment),n=Y(),r=A("button"),r.textContent="Done",h(r,"class","bg-white text-red-500 py-1 w-auto leading-tight px-3 rounded-full mx-2 stiff"),h(e,"class","date-setting flex items-center justify-center bg-red-500")},m(u,c){w(u,e,c),N(t,e,null),E(e,n),E(e,r),l=!0,o||(a=ke(r,"click",i[3]),o=!0)},p(u,[c]){i=u;const f={};c&193&&(f.$$scope={dirty:c,ctx:i}),t.$set(f)},i(u){l||(_(t.$$.fragment,u),Rn(()=>{s||(s=lr(e,cs,{delay:250,duration:300,easing:al},!0)),s.run(1)}),l=!0)},o(u){v(t.$$.fragment,u),s||(s=lr(e,cs,{delay:250,duration:300,easing:al},!1)),s.run(0),l=!1},d(u){u&&y(e),M(t),u&&s&&s.end(),o=!1,a()}}}let Bu=30;const yWe=(i,e)=>e;function wWe(i,e,t){let n,r;Ee(i,It,u=>t(5,n=u)),Ee(i,tl,u=>t(0,r=u));let s=Pn();const l=u=>{So({knownTrackables:n.trackables,date:we().subtract(u,"day")})},o=()=>{So({knownTrackables:n.trackables,date:we(),showController:!1})};return wt(()=>{setTimeout(()=>{document.querySelector(".date-setting .time-wrapper").scrollTo({left:1e6})},100)}),[r,s,l,o,u=>{l(Bu-(u+1)),Hn.scrollToTop()}]}class $We extends ce{constructor(e){super(),ue(this,e,wWe,kWe,le,{})}}function mT(i){let e,t;return e=new iu({props:{className:"",compact:!0,$$slots:{"right-inside":[EWe]},$$scope:{ctx:i}}}),e.$on("clear",i[26]),e.$on("change",i[27]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[0]&1|r[1]&2&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function FWe(i){let e,t;return e=new je({props:{icon:E0,className:"text-gray-500",size:18}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function EWe(i){let e,t;return e=new Me({props:{icon:!0,slot:"right-inside",$$slots:{default:[FWe]},$$scope:{ctx:i}}}),e.$on("click",i[25]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[1]&2&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function DWe(i){let e=!i[2].editMode&&Object.keys(i[3].trackables).length>5&&i[11].width<699,t,n,r,s,l,o=e&&mT(i);function a(f){i[28](f)}function u(f){i[29](f)}let c={searching:i[0]};return i[8]!==void 0&&(c.sort=i[8]),i[7]!==void 0&&(c.filter=i[7]),n=new nWe({props:c}),De.push(()=>Ue(n,"sort",a,i[8])),De.push(()=>Ue(n,"filter",u,i[7])),n.$on("editted",i[30]),{c(){o&&o.c(),t=Y(),O(n.$$.fragment)},m(f,d){o&&o.m(f,d),w(f,t,d),N(n,f,d),l=!0},p(f,d){d[0]&2060&&(e=!f[2].editMode&&Object.keys(f[3].trackables).length>5&&f[11].width<699),e?o?(o.p(f,d),d[0]&2060&&_(o,1)):(o=mT(f),o.c(),_(o,1),o.m(t.parentNode,t)):o&&(ie(),v(o,1,1,()=>{o=null}),re());const m={};d[0]&1&&(m.searching=f[0]),!r&&d[0]&256&&(r=!0,m.sort=f[8],qe(()=>r=!1)),!s&&d[0]&128&&(s=!0,m.filter=f[7],qe(()=>s=!1)),n.$set(m)},i(f){l||(_(o),_(n.$$.fragment,f),l=!0)},o(f){v(o),v(n.$$.fragment,f),l=!1},d(f){o&&o.d(f),f&&y(t),M(n,f)}}}function pT(i){let e,t;return e=new $We({}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function _T(i){let e,t,n,r,s;t=new Me({props:{size:"sm",shape:"round",className:"bg-red-500 text-white w-32",$$slots:{default:[CWe]},$$scope:{ctx:i}}}),t.$on("click",i[19]);let l=i[5]&&gT(i);return{c(){e=A("div"),O(t.$$.fragment),n=Y(),l&&l.c(),h(e,"class","flex bg-white dark:bg-black items-center justify-center space-x-4 px-4 py-2")},m(o,a){w(o,e,a),N(t,e,null),E(e,n),l&&l.m(e,null),s=!0},p(o,a){i=o;const u={};a[1]&2&&(u.$$scope={dirty:a,ctx:i}),t.$set(u),i[5]?l?(l.p(i,a),a[0]&32&&_(l,1)):(l=gT(i),l.c(),_(l,1),l.m(e,null)):l&&(ie(),v(l,1,1,()=>{l=null}),re())},i(o){s||(_(t.$$.fragment,o),_(l),Rn(()=>{r||(r=lr(e,cs,{delay:250,duration:300,easing:al},!0)),r.run(1)}),s=!0)},o(o){v(t.$$.fragment,o),v(l),r||(r=lr(e,cs,{delay:250,duration:300,easing:al},!1)),r.run(0),s=!1},d(o){o&&y(e),M(t),l&&l.d(),o&&r&&r.end()}}}function CWe(i){let e;return{c(){e=A("span"),e.textContent="Close",h(e,"class","text-base")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function gT(i){let e,t;return e=new Me({props:{size:"sm",shape:"round",className:"ml-2 bg-primary-500 text-white w-32",$$slots:{default:[SWe]},$$scope:{ctx:i}}}),e.$on("click",i[20]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[1]&2&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function SWe(i){let e;return{c(){e=A("span"),e.textContent="Save",h(e,"class","text-base")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function vT(i){let e,t,n,r;e=new Lc({props:{id:"add-menu-button",x:"left",y:"top",menuButtons:i[6],buttonClass:"add-menu-button menu-icon-button",$$slots:{default:[TWe]},$$scope:{ctx:i}}});let s=i[10].length&&bT(i);return{c(){O(e.$$.fragment),t=Y(),s&&s.c(),n=$e()},m(l,o){N(e,l,o),w(l,t,o),s&&s.m(l,o),w(l,n,o),r=!0},p(l,o){const a={};o[0]&64&&(a.menuButtons=l[6]),o[1]&2&&(a.$$scope={dirty:o,ctx:l}),e.$set(a),l[10].length?s?(s.p(l,o),o[0]&1024&&_(s,1)):(s=bT(l),s.c(),_(s,1),s.m(n.parentNode,n)):s&&(ie(),v(s,1,1,()=>{s=null}),re())},i(l){r||(_(e.$$.fragment,l),_(s),r=!0)},o(l){v(e.$$.fragment,l),v(s),r=!1},d(l){M(e,l),l&&y(t),s&&s.d(l),l&&y(n)}}}function TWe(i){let e,t;return e=new je({props:{className:"text-primary-500",icon:Kb,size:32}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function bT(i){let e,t;return e=new Me({props:{icon:!0,$$slots:{default:[AWe]},$$scope:{ctx:i}}}),e.$on("click",i[21]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[1]&2&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function AWe(i){let e,t;return e=new je({props:{className:"text-red-500 flex justify-center animate-pulse ",size:30,icon:fH}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function PWe(i){let e,t,n,r,s,l;return n=new rR({props:{color:or.primary_color,className:"-mt-2 ml-2 mr-10",size:20}}),{c(){e=A("div"),t=Y(),O(n.$$.fragment),r=Y(),s=A("div"),h(e,"class","filler lg:hidden"),h(s,"class","filler")},m(o,a){w(o,e,a),w(o,t,a),N(n,o,a),w(o,r,a),w(o,s,a),l=!0},p:W,i(o){l||(_(n.$$.fragment,o),l=!0)},o(o){v(n.$$.fragment,o),l=!1},d(o){o&&y(e),o&&y(t),M(n,o),o&&y(r),o&&y(s)}}}function NWe(i){let e,t;return e=new gHe({props:{editMode:i[2].editMode,className:"w-full filler"}}),e.$on("tabTap",i[22]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[0]&4&&(s.editMode=n[2].editMode),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function kT(i){let e,t;return e=new iu({props:{style:"max-width:220px;",compact:!0}}),e.$on("clear",i[23]),e.$on("change",i[24]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function MWe(i){let e,t,n,r,s,l=!i[2].editMode&&Object.keys(i[3].trackables).length>5&&i[11].width>699,o,a,u=!i[2].editMode&&vT(i);const c=[NWe,PWe],f=[];function d(p,g){return p[4]&&p[4].length>1?0:1}n=d(i),r=f[n]=c[n](i);let m=l&&kT(i);return{c(){e=A("div"),u&&u.c(),t=Y(),r.c(),s=Y(),m&&m.c(),o=$e(),h(e,"class","flex items-center space-x-1")},m(p,g){w(p,e,g),u&&u.m(e,null),w(p,t,g),f[n].m(p,g),w(p,s,g),m&&m.m(p,g),w(p,o,g),a=!0},p(p,g){p[2].editMode?u&&(ie(),v(u,1,1,()=>{u=null}),re()):u?(u.p(p,g),g[0]&4&&_(u,1)):(u=vT(p),u.c(),_(u,1),u.m(e,null));let k=n;n=d(p),n===k?f[n].p(p,g):(ie(),v(f[k],1,1,()=>{f[k]=null}),re(),r=f[n],r?r.p(p,g):(r=f[n]=c[n](p),r.c()),_(r,1),r.m(s.parentNode,s)),g[0]&2060&&(l=!p[2].editMode&&Object.keys(p[3].trackables).length>5&&p[11].width>699),l?m?(m.p(p,g),g[0]&2060&&_(m,1)):(m=kT(p),m.c(),_(m,1),m.m(o.parentNode,o)):m&&(ie(),v(m,1,1,()=>{m=null}),re())},i(p){a||(_(u),_(r),_(m),a=!0)},o(p){v(u),v(r),v(m),a=!1},d(p){p&&y(e),u&&u.d(),p&&y(t),f[n].d(p),p&&y(s),m&&m.d(p),p&&y(o)}}}function LWe(i){let e,t,n,r,s,l=i[9].showController&&pT(),o=i[2].editMode&&_T(i);return r=new Sr({props:{slot:"header",className:"stiff h-14 max-h-14 min-h-14",$$slots:{default:[MWe]},$$scope:{ctx:i}}}),{c(){e=A("header"),l&&l.c(),t=Y(),o&&o.c(),n=Y(),O(r.$$.fragment),h(e,"slot","header"),h(e,"class","")},m(a,u){w(a,e,u),l&&l.m(e,null),E(e,t),o&&o.m(e,null),E(e,n),N(r,e,null),s=!0},p(a,u){a[9].showController?l?u[0]&512&&_(l,1):(l=pT(),l.c(),_(l,1),l.m(e,t)):l&&(ie(),v(l,1,1,()=>{l=null}),re()),a[2].editMode?o?(o.p(a,u),u[0]&4&&_(o,1)):(o=_T(a),o.c(),_(o,1),o.m(e,n)):o&&(ie(),v(o,1,1,()=>{o=null}),re());const c={};u[0]&3165|u[1]&2&&(c.$$scope={dirty:u,ctx:a}),r.$set(c)},i(a){s||(_(l),_(o),_(r.$$.fragment,a),s=!0)},o(a){v(l),v(o),v(r.$$.fragment,a),s=!1},d(a){a&&y(e),l&&l.d(),o&&o.d(),M(r)}}}function OWe(i){var n;let e,t;return e=new Tr({props:{pageTitle:`${((n=i[1])==null?void 0:n.label)||""} Track`,$$slots:{header:[LWe],default:[DWe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(r,s){N(e,r,s),t=!0},p(r,s){var o;const l={};s[0]&2&&(l.pageTitle=`${((o=r[1])==null?void 0:o.label)||""} Track`),s[0]&4093|s[1]&2&&(l.$$scope={dirty:s,ctx:r}),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){M(e,r)}}}function IWe(i,e,t){let n,r,s,l,o,a,u,c;Ee(i,jp,ee=>t(1,n=ee)),Ee(i,Rr,ee=>t(2,r=ee)),Ee(i,It,ee=>t(3,s=ee)),Ee(i,St,ee=>t(18,l=ee)),Ee(i,Md,ee=>t(4,o=ee)),Ee(i,tl,ee=>t(9,a=ee)),Ee(i,Up,ee=>t(10,u=ee)),Ee(i,Hn,ee=>t(11,c=ee));const f=void 0,d="";let m,p,g,k="",$=[],D=!1,F=ee=>ee.type,C=(ee,J)=>ee.label.toLowerCase()>J.label.toLowerCase()?1:-1;const S=async ee=>{ee&&(t(8,C=(J,se)=>ee.elements.indexOf(J.tag)>ee.elements.indexOf(se.tag)?1:-1),t(7,F=J=>ee.elements.indexOf(J.tag)>-1))},P=async()=>{const ee={...g};await VAe(ee),t(5,g=void 0),eue(),un({message:`${ee.label} updated`})},I=()=>ML(),R=()=>P(),B=ee=>_We(),z=async ee=>{const J=ee.detail;E1(J),Hn.scrollToTop()},q=()=>{t(0,p=void 0)},H=ee=>{t(0,p=ee.detail)},K=()=>Va(p),G=()=>{t(0,p=void 0)},U=ee=>{t(0,p=ee.detail)};function Q(ee){C=ee,t(8,C)}function V(ee){F=ee,t(7,F),t(0,p),t(17,D),t(15,m),t(4,o),t(2,r)}const x=ee=>{t(5,g=ee.detail)};return i.$$.update=()=>{i.$$.dirty[0]&32788&&o&&o.length&&r.activeId&&r.activeId!==(m==null?void 0:m.id)&&(t(15,m=o.find(ee=>ee.id===r.activeId)),m&&S(m)),i.$$.dirty[0]&262154&&l&&t(6,$=[...Tz(n,s.trackables),...rp(KAe()),{title:"Search Nomie",divider:!0,icon:dp,click(){Va()}}]),i.$$.dirty[0]&65542&&r.hash!==k&&(t(16,k=r.hash),S(n)),i.$$.dirty[0]&163841&&(p?(t(17,D=!0),t(7,F=ee=>JSON.stringify(ee).toLowerCase().search(p.toLowerCase())>-1)):D&&(t(17,D=!1),S(m)))},[p,n,r,s,o,g,$,F,C,a,u,c,P,f,d,m,k,D,l,I,R,B,z,q,H,K,G,U,Q,V,x]}class e2 extends ce{constructor(e){super(),ue(this,e,IWe,OWe,le,{location:13,style:14},null,[-1,-1])}get location(){return this.$$.ctx[13]}get style(){return this.$$.ctx[14]}}function yT(i){let e,t;return e=new Vn({props:{className:"px-4 py-2",$$slots:{default:[BWe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&16777218&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function BWe(i){let e,t,n;function r(l){i[17](l)}let s={height:150};return i[1]!==void 0&&(s.date=i[1]),e=new _B({props:s}),De.push(()=>Ue(e,"date",r,i[1])),e.$on("item-click",WWe),{c(){O(e.$$.fragment)},m(l,o){N(e,l,o),n=!0},p(l,o){const a={};!t&&o&2&&(t=!0,a.date=l[1],qe(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){M(e,l)}}}function zWe(i){let e,t,n,r,s,l,o,a=i[4].context&&yT(i);function u(d){i[18](d)}function c(d){i[19](d)}let f={};return i[0]!==void 0&&(f.startingDate=i[0]),i[4]!==void 0&&(f.filters=i[4]),t=new yz({props:f}),De.push(()=>Ue(t,"startingDate",u,i[0])),De.push(()=>Ue(t,"filters",c,i[4])),t.$on("xfilters",i[20]),t.$on("topItem",i[21]),{c(){a&&a.c(),e=Y(),O(t.$$.fragment),s=Y(),l=A("div"),h(l,"class","h-14")},m(d,m){a&&a.m(d,m),w(d,e,m),N(t,d,m),w(d,s,m),w(d,l,m),o=!0},p(d,m){d[4].context?a?(a.p(d,m),m&16&&_(a,1)):(a=yT(d),a.c(),_(a,1),a.m(e.parentNode,e)):a&&(ie(),v(a,1,1,()=>{a=null}),re());const p={};!n&&m&1&&(n=!0,p.startingDate=d[0],qe(()=>n=!1)),!r&&m&16&&(r=!0,p.filters=d[4],qe(()=>r=!1)),t.$set(p)},i(d){o||(_(a),_(t.$$.fragment,d),o=!0)},o(d){v(a),v(t.$$.fragment,d),o=!1},d(d){a&&a.d(d),d&&y(e),M(t,d),d&&y(s),d&&y(l)}}}function RWe(i){let e,t;return e=new je({props:{className:"text-primary-500",icon:Kb,size:32}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function wT(i){let e,t,n,r,s;return t=new ou({props:{className:"font-bold",text:i[1].format(`ddd ${i[7].mmm_d_yyyy}`)}}),r=new je({props:{icon:jo,className:"text-gray-500",size:12}}),{c(){e=A("h1"),O(t.$$.fragment),n=Y(),O(r.$$.fragment),h(e,"class","flex-nowrap flex items-center")},m(l,o){w(l,e,o),N(t,e,null),E(e,n),N(r,e,null),s=!0},p(l,o){const a={};o&2&&(a.text=l[1].format(`ddd ${l[7].mmm_d_yyyy}`)),t.$set(a)},i(l){s||(_(t.$$.fragment,l),_(r.$$.fragment,l),s=!0)},o(l){v(t.$$.fragment,l),v(r.$$.fragment,l),s=!1},d(l){l&&y(e),M(t),M(r)}}}function jWe(i){let e,t;return e=new je({props:{className:i[3]?"text-white":"text-primary",icon:Ga,size:28}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&8&&(s.className=n[3]?"text-white":"text-primary"),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function YWe(i){let e,t;return e=new je({props:{className:"text-primary-500",icon:bc,size:28}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function UWe(i){var D;let e,t,n,r,s=i[6],l,o,a,u,c,f,d,m,p,g,k;e=new Lc({props:{id:"timeline-filter",menuButtons:i[5],buttonClass:"menu-icon-button",$$slots:{default:[RWe]},$$scope:{ctx:i}}});let $=wT(i);return a=new gB({props:{className:"h-3",logs:((D=i[2])==null?void 0:D.logs)||[]}}),f=new Me({props:{className:`${i[3]?"bg-red-500 ":""}`,icon:!0,$$slots:{default:[jWe]},$$scope:{ctx:i}}}),f.$on("click",i[15]),m=new Me({props:{icon:!0,className:"mr-6",$$slots:{default:[YWe]},$$scope:{ctx:i}}}),m.$on("click",i[16]),{c(){O(e.$$.fragment),t=Y(),n=A("div"),r=A("button"),$.c(),l=Y(),o=A("div"),O(a.$$.fragment),u=Y(),c=A("div"),O(f.$$.fragment),d=Y(),O(m.$$.fragment),h(r,"type","button"),h(r,"class","mx-auto mb-1 hover:text-gray-500 transform-gpu transition-all duration-200 items-center grid grid-cols-1"),h(o,"class","max-w-xl w-full mt-1 mx-auto items-center stiff"),h(n,"class","ntitle w-full mt-2 px-4 justify-center items-center grid grid-cols-1"),h(c,"class","space-x-2 flex-nowrap flex")},m(F,C){N(e,F,C),w(F,t,C),w(F,n,C),E(n,r),$.m(r,null),E(n,l),E(n,o),N(a,o,null),w(F,u,C),w(F,c,C),N(f,c,null),E(c,d),N(m,c,null),p=!0,g||(k=ke(r,"click",i[14]),g=!0)},p(F,C){var B;const S={};C&32&&(S.menuButtons=F[5]),C&16777216&&(S.$$scope={dirty:C,ctx:F}),e.$set(S),C&64&&le(s,s=F[6])?(ie(),v($,1,1,W),re(),$=wT(F),$.c(),_($,1),$.m(r,null)):$.p(F,C);const P={};C&4&&(P.logs=((B=F[2])==null?void 0:B.logs)||[]),a.$set(P);const I={};C&8&&(I.className=`${F[3]?"bg-red-500 ":""}`),C&16777224&&(I.$$scope={dirty:C,ctx:F}),f.$set(I);const R={};C&16777216&&(R.$$scope={dirty:C,ctx:F}),m.$set(R)},i(F){p||(_(e.$$.fragment,F),_($),_(a.$$.fragment,F),_(f.$$.fragment,F),_(m.$$.fragment,F),p=!0)},o(F){v(e.$$.fragment,F),v($),v(a.$$.fragment,F),v(f.$$.fragment,F),v(m.$$.fragment,F),p=!1},d(F){M(e,F),F&&y(t),F&&y(n),$.d(F),M(a),F&&y(u),F&&y(c),M(f),M(m),g=!1,k()}}}function qWe(i){let e,t;return e=new Sr({props:{slot:"header",className:"py-2 h-14",$$slots:{default:[UWe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&16777326&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function HWe(i){let e,t;return e=new Tr({props:{pageTitle:"Timeline",className:"timeline-layout bg-gray-200 dark:bg-gray-800",$$slots:{header:[qWe],default:[zWe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&16777343&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Cf(i){const e={...i};return e.search=void 0,e}const WWe=i=>{};function VWe(i,e,t){let n,r;Ee(i,mf,z=>t(12,n=z)),Ee(i,It,z=>t(13,r=z));let s=new Date,l=we(s),o=we(),a,u=!1;const c=Pn();let f;const d=async()=>{const z=await vb(we(l),!1);z&&(t(10,l=we(z)),t(0,s=z.toDate()),t(1,o=l),s.toDateString()!==new Date().toDateString()?t(3,u=!0):t(3,u=!1))};let p={...{notes:!0,maps:!1,trackables:!1,context:!1}};const g=()=>[{title:"Notes",checked:p.notes,icon:_l,click(){t(4,p.notes=!p.notes,p),mf.setItem("filters",Cf(p))}},{title:"Trackables",checked:p.trackables,icon:cp,click(){t(4,p.trackables=!p.trackables,p),mf.setItem("filters",Cf(p))}},{title:"Context Chart",icon:wP,checked:p.context,click(){t(4,p.context=!p.context,p),mf.setItem("filters",Cf(p))}}];let k=g(),$;wt(async()=>{t(6,$=!0)});const D=()=>{a_(o.toDate())},F=()=>d(),C=()=>Va();function S(z){o=z,t(1,o)}function P(z){s=z,t(0,s)}function I(z){p=z,t(4,p),t(12,n)}const R=z=>{t(4,p={...p,...z.detail}),mf.setItem("filters",p)},B=z=>{t(2,a=z.detail),t(1,o=a.time)};return i.$$.update=()=>{i.$$.dirty&11264&&l&&l!==f&&r.ready&&t(11,f=l),i.$$.dirty&4096&&n.filters&&(t(4,p=n.filters),t(5,k=g()))},[s,o,a,u,p,k,$,c,d,Cf,l,f,n,r,D,F,C,S,P,I,R,B]}class t2 extends ce{constructor(e){super(),ue(this,e,VWe,HWe,le,{clearFilterSearch:9})}get clearFilterSearch(){return Cf}}function GWe(i){let e,t,n,r,s,l;return{c(){e=me("svg"),t=me("title"),n=Z("Remove Circle"),r=me("path"),h(r,"d","M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm80 224H176a16 16 0 010-32h160a16 16 0 010 32z"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),E(e,t),E(t,n),E(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:W,o:W,d(o){o&&y(e)}}}function ZWe(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class xWe extends ce{constructor(e){super(),ue(this,e,ZWe,GWe,le,{size:0})}}function $T(i,e,t){const n=i.slice();return n[23]=e[t],n[25]=t,n}function FT(i,e,t){const n=i.slice();return n[26]=e[t],n}function ET(i){let e,t;return e=new Ft({props:{solo:!0,className:"max-w-screen-lg mx-auto",$$slots:{default:[aVe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&536870938&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function DT(i){let e,t;return e=new je({props:{icon:Cs,className:"text-green-500"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function CT(i){var k;let e,t,n,r,s,l,o,a=((k=i[4].trackables[i[23].goal.tag])==null?void 0:k.formatValue(i[23].goal.target))+"",u,c,f,d;function m($,D){return $[23].trackableUsage?XWe:KWe}let p=m(i),g=p(i);return f=new je({props:{icon:jo,size:14,className:"opacity-50"}}),{c(){e=A("div"),t=A("span"),n=A("span"),g.c(),r=Y(),s=A("span"),s.textContent="/",l=Y(),o=A("span"),u=Z(a),c=Y(),O(f.$$.fragment),h(n,"class","usage-value font-semibold "),h(s,"class","opacity-40"),h(o,"class","target-value opacity-70"),h(e,"class","filler whitespace-nowrap text-right")},m($,D){w($,e,D),E(e,t),E(t,n),g.m(n,null),E(t,r),E(t,s),E(t,l),E(t,o),E(o,u),E(e,c),N(f,e,null),d=!0},p($,D){var F;p===(p=m($))&&g?g.p($,D):(g.d(1),g=p($),g&&(g.c(),g.m(n,null))),(!d||D&18)&&a!==(a=((F=$[4].trackables[$[23].goal.tag])==null?void 0:F.formatValue($[23].goal.target))+"")&&oe(u,a)},i($){d||(_(f.$$.fragment,$),d=!0)},o($){v(f.$$.fragment,$),d=!1},d($){$&&y(e),g.d(),M(f)}}}function XWe(i){let e=i[23].trackableUsage.totalOnly+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p(n,r){r&2&&e!==(e=n[23].trackableUsage.totalOnly+"")&&oe(t,e)},d(n){n&&y(t)}}}function KWe(i){let e;return{c(){e=Z("0")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function ST(i){let e,t;return e=new Kr({props:{percentage:0}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function JWe(i){let e,t;return e=new Kr({props:{r2l:i[23].goal.isDontDoIt,percentage:i[26].percent||0}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.r2l=n[23].goal.isDontDoIt),r&2&&(s.percentage=n[26].percent||0),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function QWe(i){let e,t;return e=new Kr({props:{percentage:i[26].percent||0,r2l:i[23].goal.isDontDoIt,barClass:"bg-green-500"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.percentage=n[26].percent||0),r&2&&(s.r2l=n[23].goal.isDontDoIt),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function eVe(i){let e,t;return e=new Kr({props:{r2l:i[23].goal.isDontDoIt,barClass:"bg-yellow-500",percentage:i[26].percent||0}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.r2l=n[23].goal.isDontDoIt),r&2&&(s.percentage=n[26].percent||0),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function tVe(i){let e,t;return e=new Kr({props:{barClass:"bg-red-500",r2l:i[23].goal.isDontDoIt,percentage:i[26].percent||0}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.r2l=n[23].goal.isDontDoIt),r&2&&(s.percentage=n[26].percent||0),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function TT(i){let e,t,n,r;const s=[tVe,eVe,QWe,JWe],l=[];function o(a,u){return a[26].failure?0:a[23].goal.isDontDoIt&&a[26].percent>80?1:a[26].success?2:3}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=$e()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?l[e].p(a,u):(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function nVe(i){var F,C;let e,t,n,r,s=((F=i[4].trackables[i[23].goal.tag])==null?void 0:F.label)+"",l,o,a,u,c,f,d,m=(i[23].scores&&((C=i[23].scores[0])==null?void 0:C.success)||i[23].goal.isDontDoIt&&!i[23].scores.length)&&DT(),p=!i[3]&&CT(i),g=!i[23].scores.length&&ST(),k=i[23].scores||[],$=[];for(let S=0;S<k.length;S+=1)$[S]=TT(FT(i,k,S));const D=S=>v($[S],1,1,()=>{$[S]=null});return{c(){e=A("div"),t=A("div"),n=A("h1"),r=A("div"),l=Z(s),o=Y(),m&&m.c(),a=Y(),p&&p.c(),u=Y(),c=A("div"),g&&g.c(),f=Y();for(let S=0;S<$.length;S+=1)$[S].c();h(r,"class","line-clamp-1"),h(n,"class","font-semibold flex items-center space-x-2"),h(t,"class","flex items-center justify-between mb-2"),h(c,"class","progress pb-2"),h(e,"class","title-progress filler")},m(S,P){w(S,e,P),E(e,t),E(t,n),E(n,r),E(r,l),E(n,o),m&&m.m(n,null),E(t,a),p&&p.m(t,null),E(e,u),E(e,c),g&&g.m(c,null),E(c,f);for(let I=0;I<$.length;I+=1)$[I].m(c,null);d=!0},p(S,P){var I,R;if((!d||P&18)&&s!==(s=((I=S[4].trackables[S[23].goal.tag])==null?void 0:I.label)+"")&&oe(l,s),S[23].scores&&((R=S[23].scores[0])==null?void 0:R.success)||S[23].goal.isDontDoIt&&!S[23].scores.length?m?(m.p(S,P),P&2&&_(m,1)):(m=DT(),m.c(),_(m,1),m.m(n,null)):m&&(ie(),v(m,1,1,()=>{m=null}),re()),S[3]?p&&(ie(),v(p,1,1,()=>{p=null}),re()):p?(p.p(S,P),P&8&&_(p,1)):(p=CT(S),p.c(),_(p,1),p.m(t,null)),S[23].scores.length?g&&(ie(),v(g,1,1,()=>{g=null}),re()):g?P&2&&_(g,1):(g=ST(),g.c(),_(g,1),g.m(c,f)),P&2){k=S[23].scores||[];let B;for(B=0;B<k.length;B+=1){const z=FT(S,k,B);$[B]?($[B].p(z,P),_($[B],1)):($[B]=TT(z),$[B].c(),_($[B],1),$[B].m(c,null))}for(ie(),B=k.length;B<$.length;B+=1)D(B);re()}},i(S){if(!d){_(m),_(p),_(g);for(let P=0;P<k.length;P+=1)_($[P]);d=!0}},o(S){v(m),v(p),v(g),$=$.filter(Boolean);for(let P=0;P<$.length;P+=1)v($[P]);d=!1},d(S){S&&y(e),m&&m.d(),p&&p.d(),g&&g.d(),it($,S)}}}function iVe(i){let e,t,n,r,s,l;n=new fi({props:{className:" my-2",trackable:i[4].trackables[i[23].goal.tag],size:48}});function o(...a){return i[17](i[23],...a)}return{c(){e=A("div"),t=A("button"),O(n.$$.fragment),h(e,"slot","left"),h(e,"class","flex items-center space-x-2 stiff")},m(a,u){w(a,e,u),E(e,t),N(n,t,null),r=!0,s||(l=ke(t,"click",Ro(Or(o)),!0),s=!0)},p(a,u){i=a;const c={};u&18&&(c.trackable=i[4].trackables[i[23].goal.tag]),n.$set(c)},i(a){r||(_(n.$$.fragment,a),r=!0)},o(a){v(n.$$.fragment,a),r=!1},d(a){a&&y(e),M(n),s=!1,l()}}}function AT(i){let e,t,n,r,s,l,o;function a(...c){return i[15](i[23],...c)}r=new Me({props:{clear:!0,icon:!0,$$slots:{default:[rVe]},$$scope:{ctx:i}}}),r.$on("click",a);function u(...c){return i[16](i[23],...c)}return l=new Me({props:{clear:!0,icon:!0,$$slots:{default:[sVe]},$$scope:{ctx:i}}}),l.$on("click",u),{c(){e=A("div"),t=Y(),n=A("div"),O(r.$$.fragment),s=Y(),O(l.$$.fragment),h(e,"class","w-4 stiff"),h(n,"class","flex items-center space-x-1")},m(c,f){w(c,e,f),w(c,t,f),w(c,n,f),N(r,n,null),E(n,s),N(l,n,null),o=!0},p(c,f){i=c;const d={};f&536870912&&(d.$$scope={dirty:f,ctx:i}),r.$set(d);const m={};f&536870912&&(m.$$scope={dirty:f,ctx:i}),l.$set(m)},i(c){o||(_(r.$$.fragment,c),_(l.$$.fragment,c),o=!0)},o(c){v(r.$$.fragment,c),v(l.$$.fragment,c),o=!1},d(c){c&&y(e),c&&y(t),c&&y(n),M(r),M(l)}}}function rVe(i){let e,t;return e=new je({props:{icon:_l,size:28,className:"text-black dark:text-white"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function sVe(i){let e,t;return e=new je({props:{icon:xWe,size:28,className:"text-red-500"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function lVe(i){let e,t,n=i[3]&&AT(i);return{c(){e=A("div"),n&&n.c(),h(e,"slot","right"),h(e,"class","flex items-center")},m(r,s){w(r,e,s),n&&n.m(e,null),t=!0},p(r,s){r[3]?n?(n.p(r,s),s&8&&_(n,1)):(n=AT(r),n.c(),_(n,1),n.m(e,null)):n&&(ie(),v(n,1,1,()=>{n=null}),re())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){r&&y(e),n&&n.d()}}}function PT(i,e){let t,n,r;function s(...l){return e[18](e[23],...l)}return n=new xe({props:{clickable:!0,bottomLine:72,className:"relative transition-all duration-200",$$slots:{right:[lVe],left:[iVe],default:[nVe]},$$scope:{ctx:e}}}),n.$on("click",s),{key:i,first:null,c(){t=$e(),O(n.$$.fragment),this.first=t},m(l,o){w(l,t,o),N(n,l,o),r=!0},p(l,o){e=l;const a={};o&536870938&&(a.$$scope={dirty:o,ctx:e}),n.$set(a)},i(l){r||(_(n.$$.fragment,l),r=!0)},o(l){v(n.$$.fragment,l),r=!1},d(l){l&&y(t),M(n,l)}}}function oVe(i){let e;return{c(){e=A("div"),e.textContent="Add Goal",h(e,"class","text-center text-primary")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function aVe(i){let e=[],t=new Map,n,r,s,l=i[1];const o=a=>a[23].id;for(let a=0;a<l.length;a+=1){let u=$T(i,l,a),c=o(u);t.set(c,e[a]=PT(c,u))}return r=new xe({props:{$$slots:{default:[oVe]},$$scope:{ctx:i}}}),r.$on("click",i[6]),{c(){for(let a=0;a<e.length;a+=1)e[a].c();n=Y(),O(r.$$.fragment)},m(a,u){for(let c=0;c<e.length;c+=1)e[c].m(a,u);w(a,n,u),N(r,a,u),s=!0},p(a,u){u&442&&(l=a[1],ie(),e=qn(e,u,o,1,a,l,t,n.parentNode,Ci,PT,n,$T),re());const c={};u&536870912&&(c.$$scope={dirty:u,ctx:a}),r.$set(c)},i(a){if(!s){for(let u=0;u<l.length;u+=1)_(e[u]);_(r.$$.fragment,a),s=!0}},o(a){for(let u=0;u<e.length;u+=1)v(e[u]);v(r.$$.fragment,a),s=!1},d(a){for(let u=0;u<e.length;u+=1)e[u].d(a);a&&y(n),M(r,a)}}}function uVe(i){let e,t;return e=new Gn({props:{$$slots:{default:[fVe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&536870912&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function cVe(i){let e,t;return e=new Gn({props:{icon:HP,title:"No goals found",$$slots:{default:[vVe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&536870912&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function fVe(i){let e,t;return e=new Mn({props:{size:32}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function dVe(i){let e,t;return e=new Me({props:{className:"mt-2",clear:!0,primary:!0,$$slots:{default:[pVe]},$$scope:{ctx:i}}}),e.$on("click",i[6]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&536870912&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function hVe(i){let e,t;return e=new Me({props:{className:"mt-2",clear:!0,primary:!0,$$slots:{default:[_Ve]},$$scope:{ctx:i}}}),e.$on("click",i[6]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&536870912&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function mVe(i){let e,t;return e=new Me({props:{className:"mt-2",clear:!0,primary:!0,$$slots:{default:[gVe]},$$scope:{ctx:i}}}),e.$on("click",i[6]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&536870912&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function pVe(i){let e;return{c(){e=Z("Create a Monthly Goal \u2192")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function _Ve(i){let e;return{c(){e=Z("Create a Weekly Goal \u2192")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function gVe(i){let e;return{c(){e=Z("Create a Daily Goal \u2192")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function vVe(i){let e,t,n,r;const s=[mVe,hVe,dVe],l=[];function o(a,u){return 0}return~(e=o())&&(t=l[e]=s[e](i)),{c(){t&&t.c(),n=$e()},m(a,u){~e&&l[e].m(a,u),w(a,n,u),r=!0},p(a,u){t&&t.p(a,u)},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){~e&&l[e].d(a),a&&y(n)}}}function bVe(i){let e,t,n,r;const s=[cVe,uVe],l=[];function o(a,u){return a[0].length===0&&!a[2]?0:a[2]?1:-1}return~(e=o(i))&&(t=l[e]=s[e](i)),{c(){t&&t.c(),n=$e()},m(a,u){~e&&l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?~e&&l[e].p(a,u):(t&&(ie(),v(l[c],1,1,()=>{l[c]=null}),re()),~e?(t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n)):t=null)},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){~e&&l[e].d(a),a&&y(n)}}}function kVe(i){let e,t,n,r,s=i[0].length&&ET(i);return n=new Ft({props:{transparent:!0,className:"max-w-md mx-auto",$$slots:{default:[bVe]},$$scope:{ctx:i}}}),{c(){e=A("main"),s&&s.c(),t=Y(),O(n.$$.fragment),h(e,"class","py-4 relative z-10 px-2 lg:px-4")},m(l,o){w(l,e,o),s&&s.m(e,null),E(e,t),N(n,e,null),r=!0},p(l,o){l[0].length?s?(s.p(l,o),o&1&&_(s,1)):(s=ET(l),s.c(),_(s,1),s.m(e,t)):s&&(ie(),v(s,1,1,()=>{s=null}),re());const a={};o&536870917&&(a.$$scope={dirty:o,ctx:l}),n.$set(a)},i(l){r||(_(s),_(n.$$.fragment,l),r=!0)},o(l){v(s),v(n.$$.fragment,l),r=!1},d(l){l&&y(e),s&&s.d(),M(n)}}}function yVe(i){let e;return{c(){e=A("h1"),e.textContent=`${_e.t("goals.my-goals","My Goals")}`,h(e,"class","ntitle outline-none focus:ring-none")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function wVe(i){let e,t;return e=new je({props:{icon:C0,size:32}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function $Ve(i){let e,t,n;return t=new Me({props:{primary:!0,clear:!0,icon:!0,$$slots:{default:[wVe]},$$scope:{ctx:i}}}),t.$on("click",i[6]),{c(){e=A("div"),O(t.$$.fragment),h(e,"slot","left")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p(r,s){const l={};s&536870912&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function FVe(i){let e,t;return e=new Me({props:{clear:!0,primary:!0,$$slots:{default:[DVe]},$$scope:{ctx:i}}}),e.$on("click",i[14]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&536870912&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function EVe(i){let e,t;return e=new Me({props:{clear:!0,primary:!0,$$slots:{default:[CVe]},$$scope:{ctx:i}}}),e.$on("click",i[13]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&536870912&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function DVe(i){let e;return{c(){e=Z("Edit")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function CVe(i){let e;return{c(){e=Z("Done")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function SVe(i){let e,t,n,r;const s=[EVe,FVe],l=[];function o(a,u){return a[3]?0:a[0].length?1:-1}return~(t=o(i))&&(n=l[t]=s[t](i)),{c(){e=A("div"),n&&n.c(),h(e,"slot","right")},m(a,u){w(a,e,u),~t&&l[t].m(e,null),r=!0},p(a,u){let c=t;t=o(a),t===c?~t&&l[t].p(a,u):(n&&(ie(),v(l[c],1,1,()=>{l[c]=null}),re()),~t?(n=l[t],n?n.p(a,u):(n=l[t]=s[t](a),n.c()),_(n,1),n.m(e,null)):n=null)},i(a){r||(_(n),r=!0)},o(a){v(n),r=!1},d(a){a&&y(e),~t&&l[t].d()}}}function TVe(i){let e,t,n;return t=new Jt({props:{$$slots:{right:[SVe],left:[$Ve],default:[yVe]},$$scope:{ctx:i}}}),{c(){e=A("header"),O(t.$$.fragment),h(e,"slot","header"),h(e,"class","glass z-50")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p(r,s){const l={};s&536870921&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function AVe(i){let e,t;return e=new Tr({props:{pageTitle:_e.t("goals.goals","Goals"),$$slots:{header:[TVe],default:[kVe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&536870943&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}let PVe="day";function NVe(i,e,t){let n,r,s;Ee(i,Ha,z=>t(11,n=z)),Ee(i,n_,z=>t(12,r=z)),Ee(i,It,z=>t(4,s=z));let l=[],o=[],a=!0,u=!1,c=we(),f=!0;const d=()=>{f=!1,setTimeout(()=>{f=!0},500)},m=Q0(()=>{try{n.length&&(t(2,a=!0),t(0,l=[...n]),II(l,s.trackables,c).then(z=>{t(1,o=z)})),t(2,a=!1)}catch(z){Xe.error(z.message),t(2,a=!1)}t(1,o=[...o])},1e3);let p="";const g=()=>{const z=new Bm({duration:PVe});j1(z)},k=z=>{!D&&f&&wwe(z.goal)},$=async z=>{await Xe.confirm(`Delete the ${z.tag} goal?`,"You can always recreate it")&&(await Ha.remove(z),m())};let D=!1,F;wt(()=>{t(9,u=!0),F=Ut.hook("onLogSaved",z=>{m()})}),Dr(()=>{F&&F()});const C=()=>{t(3,D=!1)},S=()=>{t(3,D=!0)},P=(z,q)=>{q.detail.preventDefault(),q.detail.stopPropagation(),j1(z.goal)},I=(z,q)=>{q.detail.preventDefault(),q.detail.stopPropagation(),$(z.goal)},R=(z,q)=>{d(),Ui(s.trackables[z.goal.tag])},B=(z,q)=>{k(z)};return i.$$.update=()=>{i.$$.dirty&5632&&r.join(",")!==p&&u&&(t(10,p=r.join(",")),m()),i.$$.dirty&2048&&n&&m()},[l,o,a,D,s,d,g,k,$,u,p,n,r,C,S,P,I,R,B]}class MVe extends ce{constructor(e){super(),ue(this,e,NVe,AVe,le,{})}}function LVe(i){let e,t;return e=new MVe({}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}class sR extends ce{constructor(e){super(),ue(this,e,null,LVe,le,{})}}function OVe(i){let e;return{c(){e=A("main"),h(e,"class","p-4 analytics-view")},m(t,n){w(t,e,n)},p:W,i:W,o:W,d(t){t&&y(e)}}}class IVe extends ce{constructor(e){super(),ue(this,e,null,OVe,le,{})}}function BVe(i){let e,t;return e=new IVe({props:{endDate:i[0],startDate:i[1]}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.endDate=n[0]),r&2&&(s.startDate=n[1]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function zVe(i){let e=i[1].format(i[2].tinyDate)+"",t,n,r,s,l=i[0].format(i[2].tinyDate)+"",o,a,u=i[0].format("YYYY")+"",c;return{c(){t=Z(e),n=Y(),r=A("span"),r.textContent="to",s=Y(),o=Z(l),a=Y(),c=Z(u),h(r,"class","font-normal px-2")},m(f,d){w(f,t,d),w(f,n,d),w(f,r,d),w(f,s,d),w(f,o,d),w(f,a,d),w(f,c,d)},p(f,d){d&2&&e!==(e=f[1].format(f[2].tinyDate)+"")&&oe(t,e),d&1&&l!==(l=f[0].format(f[2].tinyDate)+"")&&oe(o,l),d&1&&u!==(u=f[0].format("YYYY")+"")&&oe(c,u)},d(f){f&&y(t),f&&y(n),f&&y(r),f&&y(s),f&&y(o),f&&y(a),f&&y(c)}}}function RVe(i){let e,t,n;return t=new Ec({props:{className:" items-center justify-center",hideCal:!0,$$slots:{default:[zVe]},$$scope:{ctx:i}}}),t.$on("next",i[4]),t.$on("previous",i[3]),{c(){e=A("h1"),O(t.$$.fragment),h(e,"class","ntitle w-full")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p(r,s){const l={};s&35&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function jVe(i){let e,t;return e=new Sr({props:{slot:"header",$$slots:{default:[RVe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&35&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function YVe(i){let e,t;return e=new Tr({props:{pageTitle:"My Analytics",$$slots:{header:[jVe],default:[BVe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&35&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function UVe(i,e,t){let n=we(),r=we().subtract(90,"days");const s=Pn(),l=()=>{t(0,n=n.subtract(90,"days"))},o=()=>{t(0,n=n.add(90,"days"))};return i.$$.update=()=>{i.$$.dirty&1&&t(1,r=n.subtract(90,"days"))},[n,r,s,l,o]}class qVe extends ce{constructor(e){super(),ue(this,e,UVe,YVe,le,{})}}function NT(i,e,t){const n=i.slice();return n[31]=e[t],n[33]=t,n}function MT(i,e,t){const n=i.slice();return n[34]=e[t],n[33]=t,n}function LT(i,e,t){const n=i.slice();return n[31]=e[t],n[33]=t,n}function OT(i,e,t){const n=i.slice();return n[37]=e[t],n}function IT(i,e,t){const n=i.slice();return n[40]=e[t],n[33]=t,n}function BT(i,e,t){const n=i.slice();return n[42]=e[t],n[33]=t,n}const HVe=i=>({}),zT=i=>({});function RT(i){let e,t=i[42]+"",n;return{c(){e=A("option"),n=Z(t),e.__value=i[33],e.value=e.__value},m(r,s){w(r,e,s),E(e,n)},p:W,d(r){r&&y(e)}}}function jT(i){let e,t=i[40]+"",n;return{c(){e=A("option"),n=Z(t),e.__value=i[40],e.value=e.__value},m(r,s){w(r,e,s),E(e,n)},p:W,d(r){r&&y(e)}}}function YT(i){let e,t,n;return{c(){e=A("button"),e.textContent="Today",h(e,"class","nselect"),Je(e,"sm",i[1]=="sm")},m(r,s){w(r,e,s),t||(n=ke(e,"click",i[25]),t=!0)},p(r,s){s[0]&2&&Je(e,"sm",r[1]=="sm")},d(r){r&&y(e),t=!1,n()}}}function UT(i){let e,t=i[37].substring(0,3)+"",n,r;return{c(){e=A("div"),n=Z(t),r=Y(),h(e,"class","cell")},m(s,l){w(s,e,l),E(e,n),E(e,r)},p:W,d(s){s&&y(e)}}}function qT(i){let e,t,n=i[8]-(i[7]-(i[33]+1))+"",r,s,l,o,a,u,c,f;function d(){return i[26](i[33])}return{c(){var m,p,g;e=A("button"),t=A("span"),r=Z(n),s=Y(),h(e,"data-positivity",l=(m=i[3][i[2].toDate().toDateString()])==null?void 0:m.positivity),h(e,"data-value",o=(p=i[3][i[2].toDate().toDateString()])==null?void 0:p.value),h(e,"data-max",a=(g=i[3][i[2].toDate().toDateString()])==null?void 0:g.max),h(e,"class",u="past-month day d-"+i[2].format("YYYY-MM-DD")),Je(e,"today",i[2].format("YYYY-MM-DD")===i[10])},m(m,p){w(m,e,p),E(e,t),E(t,r),E(e,s),c||(f=ke(e,"click",d),c=!0)},p(m,p){var g,k,$;i=m,p[0]&384&&n!==(n=i[8]-(i[7]-(i[33]+1))+"")&&oe(r,n),p[0]&12&&l!==(l=(g=i[3][i[2].toDate().toDateString()])==null?void 0:g.positivity)&&h(e,"data-positivity",l),p[0]&12&&o!==(o=(k=i[3][i[2].toDate().toDateString()])==null?void 0:k.value)&&h(e,"data-value",o),p[0]&12&&a!==(a=($=i[3][i[2].toDate().toDateString()])==null?void 0:$.max)&&h(e,"data-max",a),p[0]&4&&u!==(u="past-month day d-"+i[2].format("YYYY-MM-DD"))&&h(e,"class",u),p[0]&1028&&Je(e,"today",i[2].format("YYYY-MM-DD")===i[10])},d(m){m&&y(e),c=!1,f()}}}function HT(i){let e,t;return e=new Kr({props:{className:" h-1 absolute bottom-1 left-1 right-1",barClass:"h-1 "+(i[34].positivity==="positive"?"bg-green-500":i[34].positivity=="negative"?"bg-red-500":"bg-primary-500"),percentage:i[34].percentage}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r[0]&524&&(s.barClass="h-1 "+(n[34].positivity==="positive"?"bg-green-500":n[34].positivity=="negative"?"bg-red-500":"bg-primary-500")),r[0]&524&&(s.percentage=n[34].percentage),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function WT(i){let e,t,n=i[33]+1+"",r,s,l,o,a,u,c,f=i[34].percentage&&HT(i);function d(){return i[28](i[34])}return{c(){e=A("button"),t=A("span"),r=Z(n),s=Y(),f&&f.c(),l=Y(),h(e,"class",o="cell day day-"+i[33]+" positivity-"+i[34].positivity),Je(e,"today",i[34].date.format("YYYY-MM-DD")===i[10])},m(m,p){w(m,e,p),E(e,t),E(t,r),E(e,s),f&&f.m(e,null),E(e,l),a=!0,u||(c=ke(e,"click",d),u=!0)},p(m,p){i=m,i[34].percentage?f?(f.p(i,p),p[0]&524&&_(f,1)):(f=HT(i),f.c(),_(f,1),f.m(e,l)):f&&(ie(),v(f,1,1,()=>{f=null}),re()),(!a||p[0]&524&&o!==(o="cell day day-"+i[33]+" positivity-"+i[34].positivity))&&h(e,"class",o),(!a||p[0]&1548)&&Je(e,"today",i[34].date.format("YYYY-MM-DD")===i[10])},i(m){a||(_(f),a=!0)},o(m){v(f),a=!1},d(m){m&&y(e),f&&f.d(),u=!1,c()}}}function VT(i){let e,t,n=i[33]+1+"",r,s,l,o,a;function u(){return i[29](i[33])}return{c(){e=A("button"),t=A("span"),r=Z(n),s=Y(),h(e,"class",l="next-month day d-"+i[2].format("YYYY-MM-DD")),Je(e,"today",i[2].format("YYYY-MM-DD")==i[10])},m(c,f){w(c,e,f),E(e,t),E(t,r),E(e,s),o||(a=ke(e,"click",u),o=!0)},p(c,f){i=c,f[0]&4&&l!==(l="next-month day d-"+i[2].format("YYYY-MM-DD"))&&h(e,"class",l),f[0]&1028&&Je(e,"today",i[2].format("YYYY-MM-DD")==i[10])},d(c){c&&y(e),o=!1,a()}}}function WVe(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p,g,k,$,D=i[0].toDateString()!==new Date().toDateString(),F,C,S,P,I,R,B,z,q;const H=i[18]["header-left"],K=He(H,i,i[17],zT);let G=Array(12).fill(0).map(i[19]),U=[];for(let pe=0;pe<G.length;pe+=1)U[pe]=RT(BT(i,G,pe));let Q=Array(12).fill(0).map(i[21]),V=[];for(let pe=0;pe<Q.length;pe+=1)V[pe]=jT(IT(i,Q,pe));m=new je({props:{icon:hp,size:22}}),k=new je({props:{icon:jo,size:22}});let x=D&&YT(i),ee=i[12],J=[];for(let pe=0;pe<ee.length;pe+=1)J[pe]=UT(OT(i,ee,pe));let se=Array(i[7]).fill(0),te=[];for(let pe=0;pe<se.length;pe+=1)te[pe]=qT(LT(i,se,pe));let ge=Array(i[9]).fill(0).map(i[27]),ae=[];for(let pe=0;pe<ge.length;pe+=1)ae[pe]=WT(MT(i,ge,pe));const ve=pe=>v(ae[pe],1,1,()=>{ae[pe]=null});let Te=Array(7-i[6]).fill(0),Pe=[];for(let pe=0;pe<Te.length;pe+=1)Pe[pe]=VT(NT(i,Te,pe));return{c(){e=A("div"),t=A("header"),n=A("div"),K&&K.c(),r=Y(),s=A("div"),l=A("select");for(let pe=0;pe<U.length;pe+=1)U[pe].c();o=Y(),a=A("select");for(let pe=0;pe<V.length;pe+=1)V[pe].c();u=Y(),c=A("div"),f=Y(),d=A("button"),O(m.$$.fragment),p=Y(),g=A("button"),O(k.$$.fragment),$=Y(),x&&x.c(),F=Y(),C=A("div");for(let pe=0;pe<J.length;pe+=1)J[pe].c();S=Y(),P=A("main");for(let pe=0;pe<te.length;pe+=1)te[pe].c();I=Y();for(let pe=0;pe<ae.length;pe+=1)ae[pe].c();R=Y();for(let pe=0;pe<Pe.length;pe+=1)Pe[pe].c();h(l,"class","nselect rounded-r-none"),Je(l,"sm",i[1]=="sm"),h(a,"class","nselect rounded-l-none"),Je(a,"sm",i[1]=="sm"),h(s,"class","divide-x-2 divide-opacity-30 divide-gray-500 flex items-center nselect-group"),h(c,"class","filler"),h(d,"class","nselect clear"),Je(d,"sm",i[1]=="sm"),h(g,"class","nselect clear"),Je(g,"sm",i[1]=="sm"),h(n,"class","title py-2 px-2 ntitle flex items-center space-x-1"),h(C,"class","header-days grid grid-cols-7 w-full"),h(P,"class","grid grid-cols-7 w-full calendar-days"),h(e,"class","calendar-4"),h(e,"style","")},m(pe,Ie){w(pe,e,Ie),E(e,t),E(t,n),K&&K.m(n,null),E(n,r),E(n,s),E(s,l);for(let ye=0;ye<U.length;ye+=1)U[ye].m(l,null);gn(l,i[5]),E(s,o),E(s,a);for(let ye=0;ye<V.length;ye+=1)V[ye].m(a,null);gn(a,i[4]),E(n,u),E(n,c),E(n,f),E(n,d),N(m,d,null),E(n,p),E(n,g),N(k,g,null),E(n,$),x&&x.m(n,null),E(t,F),E(t,C);for(let ye=0;ye<J.length;ye+=1)J[ye].m(C,null);E(e,S),E(e,P);for(let ye=0;ye<te.length;ye+=1)te[ye].m(P,null);E(P,I);for(let ye=0;ye<ae.length;ye+=1)ae[ye].m(P,null);E(P,R);for(let ye=0;ye<Pe.length;ye+=1)Pe[ye].m(P,null);B=!0,z||(q=[ke(l,"input",i[20]),ke(a,"input",i[22]),ke(d,"click",i[23]),ke(g,"click",i[24])],z=!0)},p(pe,Ie){if(K&&K.p&&(!B||Ie[0]&131072)&&Ve(K,H,pe,pe[17],B?We(H,pe[17],Ie,HVe):Ge(pe[17]),zT),Ie&0){G=Array(12).fill(0).map(pe[19]);let ye;for(ye=0;ye<G.length;ye+=1){const st=BT(pe,G,ye);U[ye]?U[ye].p(st,Ie):(U[ye]=RT(st),U[ye].c(),U[ye].m(l,null))}for(;ye<U.length;ye+=1)U[ye].d(1);U.length=G.length}if((!B||Ie[0]&32)&&gn(l,pe[5]),(!B||Ie[0]&2)&&Je(l,"sm",pe[1]=="sm"),Ie&0){Q=Array(12).fill(0).map(pe[21]);let ye;for(ye=0;ye<Q.length;ye+=1){const st=IT(pe,Q,ye);V[ye]?V[ye].p(st,Ie):(V[ye]=jT(st),V[ye].c(),V[ye].m(a,null))}for(;ye<V.length;ye+=1)V[ye].d(1);V.length=Q.length}if((!B||Ie[0]&16)&&gn(a,pe[4]),(!B||Ie[0]&2)&&Je(a,"sm",pe[1]=="sm"),(!B||Ie[0]&2)&&Je(d,"sm",pe[1]=="sm"),(!B||Ie[0]&2)&&Je(g,"sm",pe[1]=="sm"),Ie[0]&1&&(D=pe[0].toDateString()!==new Date().toDateString()),D?x?x.p(pe,Ie):(x=YT(pe),x.c(),x.m(n,null)):x&&(x.d(1),x=null),Ie[0]&4096){ee=pe[12];let ye;for(ye=0;ye<ee.length;ye+=1){const st=OT(pe,ee,ye);J[ye]?J[ye].p(st,Ie):(J[ye]=UT(st),J[ye].c(),J[ye].m(C,null))}for(;ye<J.length;ye+=1)J[ye].d(1);J.length=ee.length}if(Ie[0]&17804){se=Array(pe[7]).fill(0);let ye;for(ye=0;ye<se.length;ye+=1){const st=LT(pe,se,ye);te[ye]?te[ye].p(st,Ie):(te[ye]=qT(st),te[ye].c(),te[ye].m(P,I))}for(;ye<te.length;ye+=1)te[ye].d(1);te.length=se.length}if(Ie[0]&17932){ge=Array(pe[9]).fill(0).map(pe[27]);let ye;for(ye=0;ye<ge.length;ye+=1){const st=MT(pe,ge,ye);ae[ye]?(ae[ye].p(st,Ie),_(ae[ye],1)):(ae[ye]=WT(st),ae[ye].c(),_(ae[ye],1),ae[ye].m(P,R))}for(ie(),ye=ge.length;ye<ae.length;ye+=1)ve(ye);re()}if(Ie[0]&17476){Te=Array(7-pe[6]).fill(0);let ye;for(ye=0;ye<Te.length;ye+=1){const st=NT(pe,Te,ye);Pe[ye]?Pe[ye].p(st,Ie):(Pe[ye]=VT(st),Pe[ye].c(),Pe[ye].m(P,null))}for(;ye<Pe.length;ye+=1)Pe[ye].d(1);Pe.length=Te.length}},i(pe){if(!B){_(K,pe),_(m.$$.fragment,pe),_(k.$$.fragment,pe);for(let Ie=0;Ie<ge.length;Ie+=1)_(ae[Ie]);B=!0}},o(pe){v(K,pe),v(m.$$.fragment,pe),v(k.$$.fragment,pe),ae=ae.filter(Boolean);for(let Ie=0;Ie<ae.length;Ie+=1)v(ae[Ie]);B=!1},d(pe){pe&&y(e),K&&K.d(pe),it(U,pe),it(V,pe),M(m),M(k),x&&x.d(),it(J,pe),it(te,pe),it(ae,pe),it(Pe,pe),z=!1,pt(q)}}}function VVe(i,e,t){let n,r,s,l,o,a,u,{$$slots:c={},$$scope:f}=e,{date:d=new Date}=e,{weekStarts:m="sunday"}=e,{days:p=[]}=e,{size:g="base"}=e,k=we().format("YYYY-MM-DD");const $=Dt();let D=[_e.t("days.monday","Monday"),_e.t("days.tuesday","Tuesday"),_e.t("days.wednesday","Wednesday"),_e.t("days.thursday","Thursday"),_e.t("days.friday","Friday"),_e.t("days.saturday","Saturday"),_e.t("days.sunday","Sunday")],F={};const C=V=>{V==="next"?t(0,d=we(d).add(1,"month").toDate()):t(0,d=we(d).subtract(1,"month").toDate()),$("dateChange",d)},S=V=>{$("input",V.toDate())},P=(V,x)=>we().month(x).startOf("month").format("MMM"),I=V=>{let x=n.month(V.target.value);t(0,d=x.toDate()),$("dateChange",x.toDate())},R=(V,x)=>Nn(we().format("YYYY"))-x,B=V=>{let x=n.year(Nn(V.target.value));t(0,d=x.toDate()),$("dateChange",x)},z=()=>C("previous"),q=()=>C("next"),H=()=>{t(0,d=new Date)},K=V=>{let x=s-(l-(V+1));S(n.subtract(1,"month").date(x))},G=(V,x)=>{const ee=n.date(x+1);let J=F[ee.toDate().toDateString()];return{date:ee,key:ee.toDate().toDateString(),value:J==null?void 0:J.value,positivity:(J==null?void 0:J.positivity)>0?"positive":(J==null?void 0:J.positivity)<0?"negative":"neutral",percentage:(J==null?void 0:J.percentage)||ht.percentage((J==null?void 0:J.max)||10,(J==null?void 0:J.value)||0)}},U=V=>{S(V.date)},Q=V=>{S(n.add(1,"month").date(V+1))};return i.$$set=V=>{"date"in V&&t(0,d=V.date),"weekStarts"in V&&t(15,m=V.weekStarts),"days"in V&&t(16,p=V.days),"size"in V&&t(1,g=V.size),"$$scope"in V&&t(17,f=V.$$scope)},i.$$.update=()=>{if(i.$$.dirty[0]&65536&&Fn(p)&&p.forEach(V=>{t(3,F[V.date.toDateString()]=V,F)}),i.$$.dirty[0]&1&&t(2,n=we(d).startOf("month")),i.$$.dirty[0]&4&&t(9,r=n.daysInMonth()),i.$$.dirty[0]&4&&t(8,s=n.subtract(1,"month").daysInMonth()),i.$$.dirty[0]&32772&&t(7,l=n.day()-(m==="monday"?1:0)),i.$$.dirty[0]&32772&&t(6,o=n.endOf("month").day()+(m==="monday"?0:1)),i.$$.dirty[0]&4&&t(5,a=n.month()),i.$$.dirty[0]&4&&t(4,u=Nn(n.format("YYYY"))),i.$$.dirty[0]&32768&&m=="sunday"){const V=D.pop();D.unshift(V)}},[d,g,n,F,u,a,o,l,s,r,k,$,D,C,S,m,p,f,c,P,I,R,B,z,q,H,K,G,U,Q]}class GVe extends ce{constructor(e){super(),ue(this,e,VVe,WVe,le,{date:0,weekStarts:15,days:16,size:1},null,[-1,-1])}}function ZVe(i){let e;return{c(){e=Z("Ripple Test")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function xVe(i){let e,t,n,r,s,l;return e=new fn({props:{listItem:!0,placeholder:"Name"}}),n=new Tn({props:{left:16}}),s=new fn({props:{listItem:!0,placeholder:"Address"}}),{c(){O(e.$$.fragment),t=Y(),O(n.$$.fragment),r=Y(),O(s.$$.fragment)},m(o,a){N(e,o,a),w(o,t,a),N(n,o,a),w(o,r,a),N(s,o,a),l=!0},p:W,i(o){l||(_(e.$$.fragment,o),_(n.$$.fragment,o),_(s.$$.fragment,o),l=!0)},o(o){v(e.$$.fragment,o),v(n.$$.fragment,o),v(s.$$.fragment,o),l=!1},d(o){M(e,o),o&&y(t),M(n,o),o&&y(r),M(s,o)}}}function XVe(i){let e,t,n=i[3]+"",r,s;return{c(){e=A("div"),t=A("div"),r=Z(n),h(t,"class",s="text-center "+(i[3]===i[2]?"bg-green-400":"bg-blue-500")+" rounded-lg h-10"),h(e,"class","item p-2 P "),nt(e,"width","10vw")},m(l,o){w(l,e,o),E(e,t),E(t,r)},p(l,o){o&8&&n!==(n=l[3]+"")&&oe(r,n),o&12&&s!==(s="text-center "+(l[3]===l[2]?"bg-green-400":"bg-blue-500")+" rounded-lg h-10")&&h(t,"class",s)},d(l){l&&y(e)}}}function KVe(i){let e,t,n=i[3]+"",r,s,l;return{c(){e=A("div"),t=A("div"),r=Z(n),s=Z("}"),h(t,"class",l="text-center "+(i[3]===i[2]?"bg-green-400":"bg-blue-500")+" h-12 rounded-lg"),h(e,"class","item p-2")},m(o,a){w(o,e,a),E(e,t),E(t,r),E(t,s)},p(o,a){a&8&&n!==(n=o[3]+"")&&oe(r,n),a&12&&l!==(l="text-center "+(o[3]===o[2]?"bg-green-400":"bg-blue-500")+" h-12 rounded-lg")&&h(t,"class",l)},d(o){o&&y(e)}}}function JVe(i){let e,t,n,r,s;return e=new Um({props:{snapToItem:"start",direction:"x",start:"start",scrollToIndex:6,items:Array(20).fill(0).map(rGe),itemClass:"",$$slots:{default:[XVe,({firstPosItem:l,centerPosItem:o,item:a})=>({1:l,2:o,3:a}),({firstPosItem:l,centerPosItem:o,item:a})=>(l?2:0)|(o?4:0)|(a?8:0)]},$$scope:{ctx:i}}}),e.$on("change",sGe),r=new Um({props:{snapToItem:"end",start:"center",direction:"y",items:[1,2,3,4,5,6,7,8,9,10],itemClass:"",$$slots:{default:[KVe,({firstPosItem:l,centerPosItem:o,item:a})=>({1:l,2:o,3:a}),({firstPosItem:l,centerPosItem:o,item:a})=>(l?2:0)|(o?4:0)|(a?8:0)]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment),t=Y(),n=A("div"),O(r.$$.fragment),h(n,"class","h-80 bg-green-800 max-h-80 flex flex-col")},m(l,o){N(e,l,o),w(l,t,o),w(l,n,o),N(r,n,null),s=!0},p(l,o){const a={};o&28&&(a.$$scope={dirty:o,ctx:l}),e.$set(a);const u={};o&28&&(u.$$scope={dirty:o,ctx:l}),r.$set(u)},i(l){s||(_(e.$$.fragment,l),_(r.$$.fragment,l),s=!0)},o(l){v(e.$$.fragment,l),v(r.$$.fragment,l),s=!1},d(l){M(e,l),l&&y(t),l&&y(n),M(r)}}}function QVe(i){let e,t;return e=new GVe({props:{weekStarts:i[0].weekStarts,date:new Date,days:[{date:we().subtract(2,"day").toDate(),value:24,max:24,positivity:-1},{date:new Date,value:12,max:24}]}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.weekStarts=n[0].weekStarts),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function eGe(i){let e,t,n,r,s,l,o,a,u,c,f;return t=new Me({props:{className:"bg-primary-500",size:"lg",$$slots:{default:[ZVe]},$$scope:{ctx:i}}}),l=new Ft({props:{solo:!0,className:"mb-5",$$slots:{default:[xVe]},$$scope:{ctx:i}}}),a=new Ft({props:{solo:!0,className:"mb-5",$$slots:{default:[JVe]},$$scope:{ctx:i}}}),c=new Ft({props:{solo:!0,$$slots:{default:[QVe]},$$scope:{ctx:i}}}),{c(){e=A("main"),O(t.$$.fragment),n=Y(),r=A("div"),s=Y(),O(l.$$.fragment),o=Y(),O(a.$$.fragment),u=Y(),O(c.$$.fragment),h(r,"class","h-12"),h(e,"class","p-4")},m(d,m){w(d,e,m),N(t,e,null),E(e,n),E(e,r),E(e,s),N(l,e,null),E(e,o),N(a,e,null),E(e,u),N(c,e,null),f=!0},p(d,m){const p={};m&16&&(p.$$scope={dirty:m,ctx:d}),t.$set(p);const g={};m&16&&(g.$$scope={dirty:m,ctx:d}),l.$set(g);const k={};m&16&&(k.$$scope={dirty:m,ctx:d}),a.$set(k);const $={};m&17&&($.$$scope={dirty:m,ctx:d}),c.$set($)},i(d){f||(_(t.$$.fragment,d),_(l.$$.fragment,d),_(a.$$.fragment,d),_(c.$$.fragment,d),f=!0)},o(d){v(t.$$.fragment,d),v(l.$$.fragment,d),v(a.$$.fragment,d),v(c.$$.fragment,d),f=!1},d(d){d&&y(e),M(t),M(l),M(a),M(c)}}}function tGe(i){let e;return{c(){e=A("h1"),e.textContent="UI Tests N6",h(e,"class","ntitle")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function nGe(i){let e,t;return e=new Jt({props:{slot:"header",className:"shadow-md",$$slots:{default:[tGe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&16&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function iGe(i){let e,t;return e=new Tr({props:{$$slots:{header:[nGe],default:[eGe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&17&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}const rGe=(i,e)=>e,sGe=i=>{};function lGe(i,e,t){let n;return Ee(i,St,r=>t(0,n=r)),[n]}class oGe extends ce{constructor(e){super(),ue(this,e,lGe,iGe,le,{})}}function aGe(i){let e;return{c(){e=A("h1"),e.textContent="Units of Measure",h(e,"class","ntitle")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function uGe(i){let e,t;return e=new je({props:{icon:Qq,className:"text-primary-500"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function cGe(i){let e,t;return e=new Me({props:{slot:"left",icon:!0,$$slots:{default:[uGe]},$$scope:{ctx:i}}}),e.$on("click",hGe),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function fGe(i){let e,t;return e=new Jt({props:{slot:"header",$$slots:{left:[cGe],default:[aGe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function dGe(i){let e,t;return e=new Tr({props:{$$slots:{header:[fGe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&1&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}const hGe=()=>{};class mGe extends ce{constructor(e){super(),ue(this,e,null,dGe,le,{})}}function pGe(i){let e,t,n,r,s,l,o,a=i[1].name+"",u,c,f,d=we(i[1].timestamp).fromNow()+"",m;return{c(){e=A("div"),t=A("img"),s=Y(),l=A("div"),o=A("div"),u=Z(a),c=Y(),f=A("p"),m=Z(d),Xi(t.src,n=`/images/awards/${i[1].id}.svg`)||h(t,"src",n),h(t,"alt",r=i[1].name),h(t,"class","w-100"),h(o,"class","title"),h(f,"class","desc"),h(l,"class","main"),h(e,"class","award-badge"),Je(e,"sm",i[0])},m(p,g){w(p,e,g),E(e,t),E(e,s),E(e,l),E(l,o),E(o,u),E(l,c),E(l,f),E(f,m)},p(p,[g]){g&2&&!Xi(t.src,n=`/images/awards/${p[1].id}.svg`)&&h(t,"src",n),g&2&&r!==(r=p[1].name)&&h(t,"alt",r),g&2&&a!==(a=p[1].name+"")&&oe(u,a),g&2&&d!==(d=we(p[1].timestamp).fromNow()+"")&&oe(m,d),g&1&&Je(e,"sm",p[0])},i:W,o:W,d(p){p&&y(e)}}}function _Ge(i,e,t){let{sm:n=!1}=e,{award:r}=e;return i.$$set=s=>{"sm"in s&&t(0,n=s.sm),"award"in s&&t(1,r=s.award)},[n,r]}class gGe extends ce{constructor(e){super(),ue(this,e,_Ge,pGe,le,{sm:0,award:1})}}function GT(i,e,t){const n=i.slice();return n[1]=e[t],n[3]=t,n}function ZT(i){let e,t;return e=new gGe({props:{award:i[1]}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.award=n[1]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function vGe(i){let e,t,n=i[0].awards,r=[];for(let l=0;l<n.length;l+=1)r[l]=ZT(GT(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){e=A("div");for(let l=0;l<r.length;l+=1)r[l].c();h(e,"class","px-4 grid grid-cols-3 gap-3")},m(l,o){w(l,e,o);for(let a=0;a<r.length;a+=1)r[a].m(e,null);t=!0},p(l,o){if(o&1){n=l[0].awards;let a;for(a=0;a<n.length;a+=1){const u=GT(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=ZT(u),r[a].c(),_(r[a],1),r[a].m(e,null))}for(ie(),a=n.length;a<r.length;a+=1)s(a);re()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){l&&y(e),it(r,l)}}}function bGe(i){let e,t,n;return t=new Vn({props:{className:"py-4",$$slots:{default:[vGe]},$$scope:{ctx:i}}}),{c(){e=A("main"),O(t.$$.fragment),h(e,"class","h-full ")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p(r,s){const l={};s&17&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function kGe(i){let e;return{c(){e=A("h1"),e.textContent="My Awards",h(e,"class","ntitle")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function yGe(i){let e,t,n;return t=new Uc({props:{to:"/settings"}}),{c(){e=A("div"),O(t.$$.fragment),h(e,"slot","left")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p:W,i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function wGe(i){let e,t,n;return t=new Jt({props:{$$slots:{left:[yGe],default:[kGe]},$$scope:{ctx:i}}}),{c(){e=A("header"),O(t.$$.fragment),h(e,"slot","header")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p(r,s){const l={};s&16&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function $Ge(i){let e,t;return e=new Tr({props:{$$slots:{header:[wGe],default:[bGe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&17&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function FGe(i,e,t){let n;return Ee(i,zr,r=>t(0,n=r)),[n]}class EGe extends ce{constructor(e){super(),ue(this,e,FGe,$Ge,le,{})}}function DGe(i){let e,t;return e=new EGe({}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}class CGe extends ce{constructor(e){super(),ue(this,e,null,DGe,le,{})}}const xT=[{question:"What should I track?",answer:`That's really up to you. But, you can't go wrong tracking your 
				mood a couple times a day, and each time you drink water. From there, you'll start to see what 
				else you might want to track and understand.`},{question:"Can I order my trackers?",answer:'On the Track view, tap the \u2022\u2022\u2022 icon in the upper right, then select "Manage this tab"'},{question:"Can I delete a tracker off the main screen?",answer:"Only if you want to delete that tracker from Nomie. You can always recreate it, and the data you tracked with that tracker will remain. Only the tracker button will be deleted."},{question:"When should I track?",answer:`That's really up to you too, but the key is to keep it balanced, 
				track a few times throughout the day maybe?`},{question:"Where's my data stored?",answer:`If you went with the cloud option, your data is stored encrypted in Blockstack's instance of GaiaHub. 
				The only person able to decrypt your data is you. If you picked local storage, then your data is stored 
				in the browser that's running this instance of Nomie.`},{question:"Can I host my own data?",answer:`Yes! If you're technical search "Blockstack DigitalOcean GaiaHub" and follow the instructions.
				This will direct you to Blockstack where you'll set your own GaiaHub storage`},{question:"Can the Nomie API export data from Nomie?",answer:"No, the API is only for pulling content INTO Nomie. To get your data out, either use the Backup or CSV Export methods."},{question:"What are the limits of Nomie's API?",answer:`You get 10 slots to store data to push into Nomie. When Nomie imports a record, it will be removed, freeing up the slot. 
    I do this to ensure people don't go hog wild like they did with Nomie 2 and 3's API`},{question:"Can I auto import things into this version of Nomie?",answer:`Yes! Using the Nomie API, or by using a custom URL parameter. If you add "/?note=Hi" to the end of any Nomie URL - it will create a note. Apps like Tasker (Android) and 
				Shortcuts in iOS can open web browsers. So you url encode a note with the 
				data you need. For example: #water(34)`},{question:"Why create Nomie?",answer:"Because I (@brandoncorbin) need it."}];function XT(i,e,t){const n=i.slice();return n[0]=e[t],n}function SGe(i){let e,t=i[0].question+"",n,r,s,l=i[0].answer+"",o;return{c(){e=A("div"),n=Z(t),r=Y(),s=A("p"),o=Z(l),h(e,"class","mb-1 font-bold leading-tight"),h(s,"class","leading-tight text-gray-700 dark:text-gray-300 font-sm")},m(a,u){w(a,e,u),E(e,n),w(a,r,u),w(a,s,u),E(s,o)},p:W,d(a){a&&y(e),a&&y(r),a&&y(s)}}}function KT(i){let e,t,n,r;return t=new xe({props:{className:"solo py-3 bg-white dark:bg-gray-900",$$slots:{default:[SGe]},$$scope:{ctx:i}}}),{c(){e=A("div"),O(t.$$.fragment),n=Y(),h(e,"class","my-3")},m(s,l){w(s,e,l),N(t,e,null),E(e,n),r=!0},p(s,l){const o={};l&8&&(o.$$scope={dirty:l,ctx:s}),t.$set(o)},i(s){r||(_(t.$$.fragment,s),r=!0)},o(s){v(t.$$.fragment,s),r=!1},d(s){s&&y(e),M(t)}}}function TGe(i){let e,t,n=xT,r=[];for(let l=0;l<n.length;l+=1)r[l]=KT(XT(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){e=A("div");for(let l=0;l<r.length;l+=1)r[l].c();h(e,"class","min-h-full bg-gray-200 dark:bg-gray-800")},m(l,o){w(l,e,o);for(let a=0;a<r.length;a+=1)r[a].m(e,null);t=!0},p(l,o){if(o&0){n=xT;let a;for(a=0;a<n.length;a+=1){const u=XT(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=KT(u),r[a].c(),_(r[a],1),r[a].m(e,null))}for(ie(),a=n.length;a<r.length;a+=1)s(a);re()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){l&&y(e),it(r,l)}}}function AGe(i){let e,t,n,r,s,l,o,a;return n=new Uc({}),{c(){e=A("div"),t=A("div"),O(n.$$.fragment),r=Y(),s=A("div"),s.textContent="Q&A",l=Y(),o=A("div"),h(t,"class","left"),h(s,"class","main title"),h(o,"class","right"),h(e,"slot","header"),h(e,"class","n-toolbar-grid")},m(u,c){w(u,e,c),E(e,t),N(n,t,null),E(e,r),E(e,s),E(e,l),E(e,o),a=!0},p:W,i(u){a||(_(n.$$.fragment,u),a=!0)},o(u){v(n.$$.fragment,u),a=!1},d(u){u&&y(e),M(n)}}}function PGe(i){let e,t;return e=new Tr({props:{className:"faq",pageTitle:"Common Questions about Nomie",showTabs:!1,$$slots:{header:[AGe],default:[TGe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&8&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}class NGe extends ce{constructor(e){super(),ue(this,e,null,PGe,le,{})}}const MGe=()=>{const{update:i,subscribe:e,set:t}=Bt({logs:[],lastSync:void 0,status:"idle"}),n={async init(){let o=await Vt.engines.local.get(`${or.data_root}/offline-queue`)||{logs:[],lastSync:void 0};o.logs=(o.logs||[]).map(a=>new Gt(a)).sort((a,u)=>a.end<u.end?1:-1),n.state(o)},async sync(){let o=n.state({status:"syncing"}),a=[];for(let u=0;u<o.logs.length;u++){const c=o.logs[u];let f=await Ut._saveLog(c);await Fr(500),f&&a.push(c)}return o.logs.length==a.length?l({status:"idle",logs:[]}):(Xe.alert("Error","Some logs did not save, check the console for more information"),console.error({logs:a,stateLogs:o.logs})),a},state(o={}){let a;return i(u=>(a={...u,...o},a)),a},async record(o){let a=n.state();return a.logs.push(o),l(a),!0}};async function r(o){try{if(confirm(_e.t("board.delete-log-from-offline-queue","Delete this note from offline queue?"))){const u=n.state();u.logs=u.logs.filter(c=>c!==o),await l(u)}return!0}catch(a){alert(a.message)}}async function s(){return await Xe.confirm(_e.t("board.empty-offline-title","Delete logs in offline queue?"),"This cannot be undone")&&(await l({status:"idle",logs:[]}),un({message:"Offline Queue cleared"})),!0}function l(o){i(a=>(a={...a,...o},Vt.engines.local.put(`${or.data_root}/offline-queue`,a),a))}return{update:i,subscribe:e,set:t,...n,clear:s,removeLog:r}},gd=MGe();window.OQ=gd;function JT(i,e,t){const n=i.slice();return n[5]=e[t],n}function QT(i){let e,t,n,r,s,l,o,a,u,c;s=new Me({props:{className:`offline-queue-button ${i[0]?"active":""}`,shape:"round",size:"sm",color:"light",$$slots:{default:[HGe]},$$scope:{ctx:i}}}),s.$on("click",i[3]);let f=i[0]&&eA(i);return{c(){e=A("div"),t=A("div"),n=A("div"),r=Y(),O(s.$$.fragment),l=Y(),o=A("div"),a=Y(),f&&f.c(),u=$e(),h(n,"class","filler"),h(o,"class","filler"),h(t,"class","items-center flex justify-center"),h(e,"class","mx-auto")},m(d,m){w(d,e,m),E(e,t),E(t,n),E(t,r),N(s,t,null),E(t,l),E(t,o),w(d,a,m),f&&f.m(d,m),w(d,u,m),c=!0},p(d,m){const p={};m&1&&(p.className=`offline-queue-button ${d[0]?"active":""}`),m&262&&(p.$$scope={dirty:m,ctx:d}),s.$set(p),d[0]?f?(f.p(d,m),m&1&&_(f,1)):(f=eA(d),f.c(),_(f,1),f.m(u.parentNode,u)):f&&(ie(),v(f,1,1,()=>{f=null}),re())},i(d){c||(_(s.$$.fragment,d),_(f),c=!0)},o(d){v(s.$$.fragment,d),v(f),c=!1},d(d){d&&y(e),M(s),d&&y(a),f&&f.d(d),d&&y(u)}}}function LGe(i){let e,t;return e=new Di({props:{size:"sm",$$slots:{default:[IGe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&256&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function OGe(i){let e,t,n,r,s,l;e=new Di({props:{inline:!0,size:"sm",faded:!0,$$slots:{default:[BGe]},$$scope:{ctx:i}}});const o=[RGe,zGe],a=[];function u(c,f){return c[2].offline?1:0}return n=u(i),r=a[n]=o[n](i),{c(){O(e.$$.fragment),t=Y(),r.c(),s=$e()},m(c,f){N(e,c,f),w(c,t,f),a[n].m(c,f),w(c,s,f),l=!0},p(c,f){const d={};f&258&&(d.$$scope={dirty:f,ctx:c}),e.$set(d);let m=n;n=u(c),n===m?a[n].p(c,f):(ie(),v(a[m],1,1,()=>{a[m]=null}),re(),r=a[n],r?r.p(c,f):(r=a[n]=o[n](c),r.c()),_(r,1),r.m(s.parentNode,s))},i(c){l||(_(e.$$.fragment,c),_(r),l=!0)},o(c){v(e.$$.fragment,c),v(r),l=!1},d(c){M(e,c),c&&y(t),a[n].d(c),c&&y(s)}}}function IGe(i){let e,t,n;return e=new Mn({props:{size:16}}),{c(){O(e.$$.fragment),t=Z(`
            Syncing...`)},m(r,s){N(e,r,s),w(r,t,s),n=!0},p:W,i(r){n||(_(e.$$.fragment,r),n=!0)},o(r){v(e.$$.fragment,r),n=!1},d(r){M(e,r),r&&y(t)}}}function BGe(i){let e=i[1].logs.length+"",t,n,r=i[1].logs.length>1?"logs":"log",s,l;return{c(){t=Z(e),n=Y(),s=Z(r),l=Z(" in the offline queue.")},m(o,a){w(o,t,a),w(o,n,a),w(o,s,a),w(o,l,a)},p(o,a){a&2&&e!==(e=o[1].logs.length+"")&&oe(t,e),a&2&&r!==(r=o[1].logs.length>1?"logs":"log")&&oe(s,r)},d(o){o&&y(t),o&&y(n),o&&y(s),o&&y(l)}}}function zGe(i){let e,t;return e=new Di({props:{inline:!0,className:"ml-2",size:"sm",$$slots:{default:[jGe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&256&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function RGe(i){let e,t,n,r,s,l;return e=new Di({props:{inline:!0,underline:!0,color:"primary-bright",className:"ml-2",size:"sm",$$slots:{default:[YGe]},$$scope:{ctx:i}}}),e.$on("click",gd.sync),n=new Di({props:{inline:!0,color:"fill-solid-3",className:"ml-2",size:"sm",$$slots:{default:[UGe]},$$scope:{ctx:i}}}),s=new Me({props:{size:"sm",icon:!0,$$slots:{default:[qGe]},$$scope:{ctx:i}}}),s.$on("click",gd.clear),{c(){O(e.$$.fragment),t=Y(),O(n.$$.fragment),r=Y(),O(s.$$.fragment)},m(o,a){N(e,o,a),w(o,t,a),N(n,o,a),w(o,r,a),N(s,o,a),l=!0},p(o,a){const u={};a&256&&(u.$$scope={dirty:a,ctx:o}),e.$set(u);const c={};a&256&&(c.$$scope={dirty:a,ctx:o}),n.$set(c);const f={};a&256&&(f.$$scope={dirty:a,ctx:o}),s.$set(f)},i(o){l||(_(e.$$.fragment,o),_(n.$$.fragment,o),_(s.$$.fragment,o),l=!0)},o(o){v(e.$$.fragment,o),v(n.$$.fragment,o),v(s.$$.fragment,o),l=!1},d(o){M(e,o),o&&y(t),M(n,o),o&&y(r),M(s,o)}}}function jGe(i){let e;return{c(){e=Z("Offline")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function YGe(i){let e=_e.t("general.sync-now","Sync")+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p:W,d(n){n&&y(t)}}}function UGe(i){let e;return{c(){e=Z("or")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function qGe(i){let e,t;return e=new je({props:{icon:Za}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function HGe(i){let e,t,n,r;const s=[OGe,LGe],l=[];function o(a,u){return a[1].status!=="syncing"?0:1}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=$e()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?l[e].p(a,u):(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function eA(i){let e,t;return e=new Ft({props:{className:"bg-transparent container-sm",$$slots:{default:[GGe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&258&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function WGe(i){let e,t;return e=new je({props:{icon:Za,size:24,className:"text-red-500"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function VGe(i){let e,t,n,r;function s(){return i[4](i[5])}return t=new Me({props:{icon:!0,$$slots:{default:[WGe]},$$scope:{ctx:i}}}),t.$on("click",s),{c(){e=A("div"),O(t.$$.fragment),n=Y(),h(e,"slot","more"),h(e,"class","ml-4")},m(l,o){w(l,e,o),N(t,e,null),E(e,n),r=!0},p(l,o){i=l;const a={};o&256&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(l){r||(_(t.$$.fragment,l),r=!0)},o(l){v(t.$$.fragment,l),r=!1},d(l){l&&y(e),M(t)}}}function tA(i){let e,t;return e=new Xo({props:{log:i[5],hideMore:!0,$$slots:{more:[VGe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.log=n[5]),r&258&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function GGe(i){let e,t,n=i[1].logs,r=[];for(let l=0;l<n.length;l+=1)r[l]=tA(JT(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=$e()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o&2){n=l[1].logs;let a;for(a=0;a<n.length;a+=1){const u=JT(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=tA(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ie(),a=n.length;a<r.length;a+=1)s(a);re()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){it(r,l),l&&y(e)}}}function ZGe(i){let e,t,n=i[1].logs&&i[1].logs.length&&QT(i);return{c(){n&&n.c(),e=$e()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,[s]){r[1].logs&&r[1].logs.length?n?(n.p(r,s),s&2&&_(n,1)):(n=QT(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ie(),v(n,1,1,()=>{n=null}),re())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function xGe(i,e,t){let n,r;Ee(i,gd,a=>t(1,n=a)),Ee(i,Hn,a=>t(2,r=a));let s=!1;return[s,n,r,()=>{t(0,s=!s)},a=>{gd.removeLog(a)}]}class XGe extends ce{constructor(e){super(),ue(this,e,xGe,ZGe,le,{})}}function KGe(i){let e,t;return e=new je({props:{className:"text-primary-500",icon:bc,size:24}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function nA(i){let e,t;return e=new Mn({props:{size:16}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function JGe(i){let e,t,n,r,s=i[1].date.format("ddd")+"",l,o,a=i[1].date.format(i[9].date)+"",u,c,f,d,m,p;e=new Me({props:{icon:!0,$$slots:{default:[KGe]},$$scope:{ctx:i}}}),e.$on("click",i[11].search);let g=i[3]&&nA();return m=new Ec({props:{isToday:i[6]}}),m.$on("previous",i[11].previous),m.$on("next",i[11].next),m.$on("calendar",i[11].selectDate),{c(){O(e.$$.fragment),t=Y(),g&&g.c(),n=Y(),r=A("h1"),l=Z(s),o=Y(),u=Z(a),c=Y(),f=A("div"),d=Y(),O(m.$$.fragment),h(r,"class","leading-none ntitle line-clamp-1 text-left ml-2"),h(r,"aria-label","Current Active Date"),h(f,"class","filler")},m(k,$){N(e,k,$),w(k,t,$),g&&g.m(k,$),w(k,n,$),w(k,r,$),E(r,l),E(r,o),E(r,u),w(k,c,$),w(k,f,$),w(k,d,$),N(m,k,$),p=!0},p(k,$){const D={};$&2097152&&(D.$$scope={dirty:$,ctx:k}),e.$set(D),k[3]?g?$&8&&_(g,1):(g=nA(),g.c(),_(g,1),g.m(n.parentNode,n)):g&&(ie(),v(g,1,1,()=>{g=null}),re()),(!p||$&2)&&s!==(s=k[1].date.format("ddd")+"")&&oe(l,s),(!p||$&2)&&a!==(a=k[1].date.format(k[9].date)+"")&&oe(u,a);const F={};$&64&&(F.isToday=k[6]),m.$set(F)},i(k){p||(_(e.$$.fragment,k),_(g),_(m.$$.fragment,k),p=!0)},o(k){v(e.$$.fragment,k),v(g),v(m.$$.fragment,k),p=!1},d(k){M(e,k),k&&y(t),g&&g.d(k),k&&y(n),k&&y(r),k&&y(c),k&&y(f),k&&y(d),M(m,k)}}}function iA(i){let e,t;return e=new Sr({props:{className:"px-4",$$slots:{default:[QGe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&2097280&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function QGe(i){let e,t,n;function r(l){i[15](l)}let s={compact:!0,buttons:xI.map(oZe)};return i[7]!==void 0&&(s.value=i[7]),e=new ms({props:s}),De.push(()=>Ue(e,"value",r,i[7])),{c(){O(e.$$.fragment)},m(l,o){N(e,l,o),n=!0},p(l,o){const a={};!t&&o&128&&(t=!0,a.value=l[7],qe(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){M(e,l)}}}function eZe(i){let e,t,n,r;e=new Sr({props:{className:" px-2 items-center",$$slots:{default:[JGe]},$$scope:{ctx:i}}});let s=i[4].length&&iA(i);return{c(){O(e.$$.fragment),t=Y(),s&&s.c(),n=$e()},m(l,o){N(e,l,o),w(l,t,o),s&&s.m(l,o),w(l,n,o),r=!0},p(l,o){const a={};o&2097226&&(a.$$scope={dirty:o,ctx:l}),e.$set(a),l[4].length?s?(s.p(l,o),o&16&&_(s,1)):(s=iA(l),s.c(),_(s,1),s.m(n.parentNode,n)):s&&(ie(),v(s,1,1,()=>{s=null}),re())},i(l){r||(_(e.$$.fragment,l),_(s),r=!0)},o(l){v(e.$$.fragment,l),v(s),r=!1},d(l){M(e,l),l&&y(t),s&&s.d(l),l&&y(n)}}}function tZe(i){let e,t,n;return t=new Vn({props:{$$slots:{default:[eZe]},$$scope:{ctx:i}}}),{c(){e=A("header"),O(t.$$.fragment),h(e,"slot","header"),h(e,"class","items-center flex-column z-30")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p(r,s){const l={};s&2097370&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function nZe(i){let e,t;return e=new Vn({props:{className:"flex items-center justify-center max-h-full h-75vh",$$slots:{default:[rZe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&2097410&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function iZe(i){let e,t,n;return t=new Mn({}),{c(){e=A("div"),O(t.$$.fragment),h(e,"class","flex items-center justify-center w-full max-h-full h-75vh")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p:W,i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function rZe(i){let e,t;return e=new Gn({props:{emoji:"\u23F3",title:i[1].date.format(i[8].use24hour?"ddd Do MMM YYYY":"ddd MMM Do YYYY"),description:`${_e.t("history.empty-day","No data was found on this day")}`,buttonLabel:_e.t("history.add-a-note","Add a Note..."),buttonClick:i[10]}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&258&&(s.title=n[1].date.format(n[8].use24hour?"ddd Do MMM YYYY":"ddd MMM Do YYYY")),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function sZe(i){let e,t,n,r,s,l,o,a,u,c,f;n=new XGe({});const d=[iZe,nZe],m=[];function p(g,k){return g[5]?0:!g[5]&&!g[4].length?1:-1}return~(s=p(i))&&(l=m[s]=d[s](i)),a=new vB({props:{view:i[7],logs:i[4]}}),a.$on("date",i[14]),{c(){e=A("main"),t=A("div"),O(n.$$.fragment),r=Y(),l&&l.c(),o=Y(),O(a.$$.fragment),u=Y(),c=A("div"),h(t,"class","relative flex-grow min-h-full h-full"),h(c,"class","h-20"),h(e,"slot","content"),h(e,"class","flex flex-col h-full page flex-grow h-75vh page-history")},m(g,k){w(g,e,k),E(e,t),N(n,t,null),E(t,r),~s&&m[s].m(t,null),E(t,o),N(a,t,null),E(e,u),E(e,c),f=!0},p(g,k){let $=s;s=p(g),s===$?~s&&m[s].p(g,k):(l&&(ie(),v(m[$],1,1,()=>{m[$]=null}),re()),~s?(l=m[s],l?l.p(g,k):(l=m[s]=d[s](g),l.c()),_(l,1),l.m(t,o)):l=null);const D={};k&128&&(D.view=g[7]),k&16&&(D.logs=g[4]),a.$set(D)},i(g){f||(_(n.$$.fragment,g),_(l),_(a.$$.fragment,g),f=!0)},o(g){v(n.$$.fragment,g),v(l),v(a.$$.fragment,g),f=!1},d(g){g&&y(e),M(n),~s&&m[s].d(),M(a)}}}function lZe(i){let e,t;return e=new Tr({props:{pageTitle:i[2],style:i[0],$$slots:{content:[sZe],header:[tZe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&4&&(s.pageTitle=n[2]),r&1&&(s.style=n[0]),r&2097658&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}const oZe=i=>({label:i.view,icon:i.icon,value:i.view});function aZe(i,e,t){let n,r;Ee(i,It,R=>t(19,n=R)),Ee(i,St,R=>t(8,r=R));const s=void 0;let{style:l=void 0}=e,o=null;const a=Pn(),u={date:we(new Date),logs:[],ledger:null,locations:[],showAllLocations:!1};let c=!1,f=[],d=!0,m=!0,p="all",g;function k(){let R={end:void 0};m||(R.end=u.date.hour(we().hour()).toDate().getTime());let B=new Gt(R);xn.journal(B)}const $={async textClick(R){let B=R.detail,z=pi(B,n.trackables);Ui(z)},async getLogs(R){return R=R!==!1,t(5,d=!0),t(4,f=await Ut.query({start:u.date.startOf("day"),end:u.date.endOf("day"),fresh:R})),t(4,f=f||[]),t(5,d=!1),f||[]},previous(){$.getDate(u.date.subtract(1,"day"))},getDate(R){t(1,u.date=R,u),$.getLogs(),$.scrollTop()},next(){$.getDate(u.date.add(1,"day"))},scrollTop(){document.getElementById("nomie-main").scrollTo({top:0})},goto(R){t(1,u.date=R,u),$.getLogs(),$.scrollTop()},search(){Va()},trackerTapped(R,B){Rf(R.toTrackable())},personTapped(R,B){Rf(R.toTrackable())},contextTapped(R,B){Rf(new ri({type:"context",context:R}))},showLogOptions(R){Xe.logOptions(R)},async selectDate(){const R=await vb(u.date,m);$.goto(R)}};async function D(){t(3,c=!0),await Fr(500),await $.getLogs(!0),await Ut.getMemories(),t(3,c=!1)}let F,C,S;wt(()=>{Hn.scrollToTop(),D(),F=Ut.hook("onLogUpdate",async R=>{await Fr(600),D()}),C=Ut.hook("onLogSaved",async R=>{await Fr(600),D()}),S=Ut.hook("onLogsDeleted",async()=>{await Fr(600),D()})}),Dr(()=>{C(),F(),S()});const P=R=>{$.getDate(we(R.detail))};function I(R){p=R,t(7,p)}return i.$$set=R=>{"style"in R&&t(0,l=R.style)},i.$$.update=()=>{i.$$.dirty&8194&&u.date&&u.date!==g&&(t(13,g=u.date),t(6,m=new Date().toDateString()==u.date.toDate().toDateString())),i.$$.dirty&2&&t(2,o=`History ${u.date.format("YYYY-MM-DD")}`)},[l,u,o,c,f,d,m,p,r,a,k,$,s,g,P,I]}class lR extends ce{constructor(e){super(),ue(this,e,aZe,lZe,le,{location:12,style:0})}get location(){return this.$$.ctx[12]}}function rA(i,e,t){const n=i.slice();return n[8]=e[t],n}function uZe(i){let e,t;return e=new Si({props:{slot:"left",emoji:"\u{1F4D0}",className:"-ml-1 mr-2",size:22}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function cZe(i){let e,t,n;return t=new ms({props:{buttons:[{label:_e.t("settings.imperial","Imperial"),active:i[0].useMetric==!1,click:i[2]},{label:_e.t("settings.metric","Metric"),active:i[0].useMetric==!0,click:i[3]}]}}),{c(){e=A("div"),O(t.$$.fragment),h(e,"slot","right")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p(r,s){const l={};s&1&&(l.buttons=[{label:_e.t("settings.imperial","Imperial"),active:r[0].useMetric==!1,click:r[2]},{label:_e.t("settings.metric","Metric"),active:r[0].useMetric==!0,click:r[3]}]),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function fZe(i){let e,t;return e=new Si({props:{slot:"left",emoji:"\u{1F5D3}",className:"-ml-1 mr-2",size:22}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function dZe(i){let e,t,n,r;function s(o){i[4](o)}let l={buttons:[{label:_e.t("settings.sun","Sun"),value:"sunday"},{label:_e.t("settings.mon","Mon"),value:"monday"}]};return i[0].weekStarts!==void 0&&(l.value=i[0].weekStarts),t=new ms({props:l}),De.push(()=>Ue(t,"value",s,i[0].weekStarts)),{c(){e=A("div"),O(t.$$.fragment),h(e,"slot","right")},m(o,a){w(o,e,a),N(t,e,null),r=!0},p(o,a){const u={};!n&&a&1&&(n=!0,u.value=o[0].weekStarts,qe(()=>n=!1)),t.$set(u)},i(o){r||(_(t.$$.fragment,o),r=!0)},o(o){v(t.$$.fragment,o),r=!1},d(o){o&&y(e),M(t)}}}function hZe(i){let e,t;return e=new Si({props:{slot:"left",emoji:"\u231A\uFE0F",className:"-ml-1 mr-2",size:22}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function mZe(i){let e,t,n,r;function s(o){i[5](o)}let l={title:"24 Hour Mode"};return i[0].use24hour!==void 0&&(l.value=i[0].use24hour),t=new Oi({props:l}),De.push(()=>Ue(t,"value",s,i[0].use24hour)),{c(){e=A("div"),O(t.$$.fragment),h(e,"slot","right")},m(o,a){w(o,e,a),N(t,e,null),r=!0},p(o,a){const u={};!n&&a&1&&(n=!0,u.value=o[0].use24hour,qe(()=>n=!1)),t.$set(u)},i(o){r||(_(t.$$.fragment,o),r=!0)},o(o){v(t.$$.fragment,o),r=!1},d(o){o&&y(e),M(t)}}}function pZe(i){let e,t;return e=new Si({props:{slot:"left",emoji:"\u{1F30E}",className:"-ml-1 mr-2",size:22}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function sA(i){let e,t=i[8].label+"",n;return{c(){e=A("option"),n=Z(t),e.__value=i[8].key,e.value=e.__value},m(r,s){w(r,e,s),E(e,n)},p:W,d(r){r&&y(e)}}}function _Ze(i){let e,t,n,r,s=_e.getLangs(),l=[];for(let o=0;o<s.length;o+=1)l[o]=sA(rA(i,s,o));return{c(){e=A("div"),t=A("select");for(let o=0;o<l.length;o+=1)l[o].c();h(t,"title","Select a Language"),h(t,"class","nselect clear"),i[1].lang===void 0&&Rn(()=>i[6].call(t)),h(e,"slot","right")},m(o,a){w(o,e,a),E(e,t);for(let u=0;u<l.length;u+=1)l[u].m(t,null);gn(t,i[1].lang),n||(r=[ke(t,"change",i[6]),ke(t,"change",i[7])],n=!0)},p(o,a){if(a&0){s=_e.getLangs();let u;for(u=0;u<s.length;u+=1){const c=rA(o,s,u);l[u]?l[u].p(c,a):(l[u]=sA(c),l[u].c(),l[u].m(t,null))}for(;u<l.length;u+=1)l[u].d(1);l.length=s.length}a&2&&gn(t,o[1].lang)},d(o){o&&y(e),it(l,o),n=!1,pt(r)}}}function gZe(i){let e,t,n,r,s,l,o,a;return e=new xe({props:{bottomLine:42,title:_e.t("settings.unit-system,","Units"),$$slots:{right:[cZe],left:[uZe]},$$scope:{ctx:i}}}),n=new xe({props:{bottomLine:42,title:_e.t("settings.week-starts","Week Starts"),$$slots:{right:[dZe],left:[fZe]},$$scope:{ctx:i}}}),s=new xe({props:{bottomLine:42,title:_e.t("settings.24-hour-clock","24 hour clock"),$$slots:{right:[mZe],left:[hZe]},$$scope:{ctx:i}}}),o=new xe({props:{bottomLine:42,title:_e.t("settings.language","Language"),$$slots:{right:[_Ze],left:[pZe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment),t=Y(),O(n.$$.fragment),r=Y(),O(s.$$.fragment),l=Y(),O(o.$$.fragment)},m(u,c){N(e,u,c),w(u,t,c),N(n,u,c),w(u,r,c),N(s,u,c),w(u,l,c),N(o,u,c),a=!0},p(u,c){const f={};c&2049&&(f.$$scope={dirty:c,ctx:u}),e.$set(f);const d={};c&2049&&(d.$$scope={dirty:c,ctx:u}),n.$set(d);const m={};c&2049&&(m.$$scope={dirty:c,ctx:u}),s.$set(m);const p={};c&2050&&(p.$$scope={dirty:c,ctx:u}),o.$set(p)},i(u){a||(_(e.$$.fragment,u),_(n.$$.fragment,u),_(s.$$.fragment,u),_(o.$$.fragment,u),a=!0)},o(u){v(e.$$.fragment,u),v(n.$$.fragment,u),v(s.$$.fragment,u),v(o.$$.fragment,u),a=!1},d(u){M(e,u),u&&y(t),M(n,u),u&&y(r),M(s,u),u&&y(l),M(o,u)}}}function vZe(i){let e,t;return e=new Ft({props:{solo:!0,outside:!0,title:_e.t("settings.locale","Locale"),className:"pb-2",$$slots:{default:[gZe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&2051&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function bZe(i,e,t){let n,r;Ee(i,St,f=>t(0,n=f)),Ee(i,_e,f=>t(1,r=f));const s=function(){wn(St,n.useMetric=!1,n)},l=function(){wn(St,n.useMetric=!0,n)};function o(f){i.$$.not_equal(n.weekStarts,f)&&(n.weekStarts=f,St.set(n))}function a(f){i.$$.not_equal(n.use24hour,f)&&(n.use24hour=f,St.set(n))}function u(){r.lang=Ks(this),_e.set(r)}return[n,r,s,l,o,a,u,f=>{_e.setLang(r.lang)}]}class kZe extends ce{constructor(e){super(),ue(this,e,bZe,vZe,le,{})}}function lA(i){let e;return{c(){e=A("div"),h(e,"class","gap"),nt(e,"height",i[2]*4+"px"),nt(e,"width",i[2]*4+"px")},m(t,n){w(t,e,n)},p(t,n){n&4&&nt(e,"height",t[2]*4+"px"),n&4&&nt(e,"width",t[2]*4+"px")},d(t){t&&y(e)}}}function yZe(i){let e,t,n=i[2]&&lA(i);return{c(){e=A("div"),n&&n.c(),h(e,"class",t=(i[1]?"w-0":"flex-grow flex-shrink w-full")+" "+i[0])},m(r,s){w(r,e,s),n&&n.m(e,null)},p(r,[s]){r[2]?n?n.p(r,s):(n=lA(r),n.c(),n.m(e,null)):n&&(n.d(1),n=null),s&3&&t!==(t=(r[1]?"w-0":"flex-grow flex-shrink w-full")+" "+r[0])&&h(e,"class",t)},i:W,o:W,d(r){r&&y(e),n&&n.d()}}}function wZe(i,e,t){let{className:n=""}=e,{noFill:r=!1}=e,{gap:s=void 0}=e;return i.$$set=l=>{"className"in l&&t(0,n=l.className),"noFill"in l&&t(1,r=l.noFill),"gap"in l&&t(2,s=l.gap)},[n,r,s]}class oR extends ce{constructor(e){super(),ue(this,e,wZe,yZe,le,{className:0,noFill:1,gap:2})}}function oA(i){let e={url:void 0,original:i,valid:!1};const t=n=>{let r=!0,s=(n||"").split("/");return s[0].search("http")==-1&&(r=!1),s.length<2&&(r=!1),r};try{e.url=new URL(i),e.valid=t(i)}catch{e.valid=!1}return e}function aA(i){let e,t,n,r=i[0].canSync&&uA(i),s=(!i[0].syncing||i[3])&&cA(i);return{c(){e=A("div"),r&&r.c(),t=Y(),s&&s.c(),h(e,"class","pouchdb storage-option")},m(l,o){w(l,e,o),r&&r.m(e,null),E(e,t),s&&s.m(e,null),n=!0},p(l,o){l[0].canSync?r?(r.p(l,o),o&1&&_(r,1)):(r=uA(l),r.c(),_(r,1),r.m(e,t)):r&&(ie(),v(r,1,1,()=>{r=null}),re()),!l[0].syncing||l[3]?s?(s.p(l,o),o&9&&_(s,1)):(s=cA(l),s.c(),_(s,1),s.m(e,null)):s&&(ie(),v(s,1,1,()=>{s=null}),re())},i(l){n||(_(r),_(s),n=!0)},o(l){v(r),v(s),n=!1},d(l){l&&y(e),r&&r.d(),s&&s.d()}}}function uA(i){let e,t;return e=new xe({props:{title:"Sync",$$slots:{right:[EZe],left:[FZe],default:[$Ze]},$$scope:{ctx:i}}}),e.$on("click",i[12]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&131089&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function $Ze(i){let e,t;return{c(){e=A("div"),t=Z(i[4]),h(e,"class","line-clamp-1 text-xs text-gray-500")},m(n,r){w(n,e,r),E(e,t)},p(n,r){r&16&&oe(t,n[4])},d(n){n&&y(e)}}}function FZe(i){let e,t,n;return{c(){e=A("div"),t=Z("\u267B\uFE0F"),h(e,"slot","left"),h(e,"class",n=i[0].remote.syncEnabled?"":"opacity-20")},m(r,s){w(r,e,s),E(e,t)},p(r,s){s&1&&n!==(n=r[0].remote.syncEnabled?"":"opacity-20")&&h(e,"class",n)},d(r){r&&y(e)}}}function EZe(i){let e,t,n,r;function s(o){i[10](o)}let l={};return i[0].remote.syncEnabled!==void 0&&(l.value=i[0].remote.syncEnabled),t=new Oi({props:l}),De.push(()=>Ue(t,"value",s,i[0].remote.syncEnabled)),t.$on("change",i[11]),{c(){e=A("div"),O(t.$$.fragment),h(e,"slot","right")},m(o,a){w(o,e,a),N(t,e,null),r=!0},p(o,a){const u={};!n&&a&1&&(n=!0,u.value=o[0].remote.syncEnabled,qe(()=>n=!1)),t.$set(u)},i(o){r||(_(t.$$.fragment,o),r=!0)},o(o){v(t.$$.fragment,o),r=!1},d(o){o&&y(e),M(t)}}}function cA(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p,g,k,$,D,F,C,S,P,I,R,B,z;function q(ve){i[13](ve)}let H={listItem:!0,type:"text",label:"Server URL",placeholder:"https://my-couch-server:12345",autocomplete:"off",autocorrect:"false",autocapitalize:"off"};i[0].form.host!==void 0&&(H.value=i[0].form.host),e=new fn({props:H}),De.push(()=>Ue(e,"value",q,i[0].form.host)),r=new Tn({props:{left:16}});function K(ve){i[14](ve)}let G={listItem:!0,type:"text",placeholder:"Database Name",autocomplete:"off",autocorrect:"false",autocapitalize:"off"};i[0].form.database!==void 0&&(G.value=i[0].form.database),l=new fn({props:G}),De.push(()=>Ue(l,"value",K,i[0].form.database)),u=new Tn({props:{left:16}});function U(ve){i[15](ve)}let Q={listItem:!0,className:"mr-1 w-50",autocomplete:"off",autocorrect:"false",autocapitalize:"off",type:"email",placeholder:"Username"};i[0].form.username!==void 0&&(Q.value=i[0].form.username),d=new fn({props:Q}),De.push(()=>Ue(d,"value",U,i[0].form.username));function V(ve){i[16](ve)}let x={listItem:!0,className:"mr-1 w-50",autocomplete:"off",autocorrect:"false",autocapitalize:"off",type:"password",placeholder:"Password"};i[0].form.password!==void 0&&(x.value=i[0].form.password),g=new fn({props:x}),De.push(()=>Ue(g,"value",V,i[0].form.password)),D=new Tn({props:{left:16}});function ee(ve,Te){return ve[4]?CZe:DZe}let J=ee(i),se=J(i);const te=[TZe,SZe],ge=[];function ae(ve,Te){return ve[0].isValidSyncURL?0:1}return R=ae(i),B=ge[R]=te[R](i),{c(){O(e.$$.fragment),n=Y(),O(r.$$.fragment),s=Y(),O(l.$$.fragment),a=Y(),O(u.$$.fragment),c=Y(),f=A("div"),O(d.$$.fragment),p=Y(),O(g.$$.fragment),$=Y(),O(D.$$.fragment),F=Y(),C=A("div"),S=A("div"),se.c(),P=Y(),I=A("div"),B.c(),h(f,"class","grid grid-cols-2"),h(S,"class","connection-string text-gray-500 text-sm py-2"),h(I,"class","actions mb-4"),h(C,"class","grid grid-cols-1 xl:grid-cols-2 px-4 mt-4 items-center")},m(ve,Te){N(e,ve,Te),w(ve,n,Te),N(r,ve,Te),w(ve,s,Te),N(l,ve,Te),w(ve,a,Te),N(u,ve,Te),w(ve,c,Te),w(ve,f,Te),N(d,f,null),E(f,p),N(g,f,null),w(ve,$,Te),N(D,ve,Te),w(ve,F,Te),w(ve,C,Te),E(C,S),se.m(S,null),E(C,P),E(C,I),ge[R].m(I,null),z=!0},p(ve,Te){const Pe={};!t&&Te&1&&(t=!0,Pe.value=ve[0].form.host,qe(()=>t=!1)),e.$set(Pe);const pe={};!o&&Te&1&&(o=!0,pe.value=ve[0].form.database,qe(()=>o=!1)),l.$set(pe);const Ie={};!m&&Te&1&&(m=!0,Ie.value=ve[0].form.username,qe(()=>m=!1)),d.$set(Ie);const ye={};!k&&Te&1&&(k=!0,ye.value=ve[0].form.password,qe(()=>k=!1)),g.$set(ye),J===(J=ee(ve))&&se?se.p(ve,Te):(se.d(1),se=J(ve),se&&(se.c(),se.m(S,null)));let st=R;R=ae(ve),R===st?ge[R].p(ve,Te):(ie(),v(ge[st],1,1,()=>{ge[st]=null}),re(),B=ge[R],B?B.p(ve,Te):(B=ge[R]=te[R](ve),B.c()),_(B,1),B.m(I,null))},i(ve){z||(_(e.$$.fragment,ve),_(r.$$.fragment,ve),_(l.$$.fragment,ve),_(u.$$.fragment,ve),_(d.$$.fragment,ve),_(g.$$.fragment,ve),_(D.$$.fragment,ve),_(B),z=!0)},o(ve){v(e.$$.fragment,ve),v(r.$$.fragment,ve),v(l.$$.fragment,ve),v(u.$$.fragment,ve),v(d.$$.fragment,ve),v(g.$$.fragment,ve),v(D.$$.fragment,ve),v(B),z=!1},d(ve){M(e,ve),ve&&y(n),M(r,ve),ve&&y(s),M(l,ve),ve&&y(a),M(u,ve),ve&&y(c),ve&&y(f),M(d),M(g),ve&&y($),M(D,ve),ve&&y(F),ve&&y(C),se.d(),ge[R].d()}}}function DZe(i){let e;return{c(){e=Z("No Connection String")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function CZe(i){let e;return{c(){e=Z(i[4])},m(t,n){w(t,e,n)},p(t,n){n&16&&oe(e,t[4])},d(t){t&&y(e)}}}function SZe(i){let e,t;return e=new Me({props:{disabled:!0,block:!0,className:"bg-gray-100 dark:bg-gray-900 text-gray-500 font-bold",$$slots:{default:[AZe]},$$scope:{ctx:i}}}),e.$on("click",i[5].connect),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&131072&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function TZe(i){let e,t,n,r;const s=[NZe,PZe],l=[];function o(a,u){return a[2]?1:0}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=$e()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?l[e].p(a,u):(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function AZe(i){let e;return{c(){e=Z("Connect...")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function PZe(i){let e,t;return e=new Me({props:{block:!0,className:"bg-primary-500 text-white font-bold",$$slots:{default:[MZe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&131072&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function NZe(i){let e,t;return e=new Me({props:{block:!0,className:"bg-primary-500 text-white font-bold",$$slots:{default:[LZe]},$$scope:{ctx:i}}}),e.$on("click",i[5].connect),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&131072&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function MZe(i){let e,t,n;return e=new Mn({props:{size:20}}),{c(){O(e.$$.fragment),t=Z(`
                Connecting...`)},m(r,s){N(e,r,s),w(r,t,s),n=!0},p:W,i(r){n||(_(e.$$.fragment,r),n=!0)},o(r){v(e.$$.fragment,r),n=!1},d(r){M(e,r),r&&y(t)}}}function LZe(i){let e;return{c(){e=Z("Connect...")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function OZe(i){let e,t,n=i[1]&&aA(i);return{c(){n&&n.c(),e=$e()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,[s]){r[1]?n?(n.p(r,s),s&2&&_(n,1)):(n=aA(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ie(),v(n,1,1,()=>{n=null}),re())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function IZe(i,e,t){let n,r=!1,s=!1,l={engine:null,isValidSyncURL:!1,form:{username:null,password:null,host:null,database:null},success:!1,syncing:!1,canSync:!1};const o={init(){l.remote.isValid()&&(t(0,l.form.host=l.remote.url.toString(),l),t(0,l.form.username=l.remote.username,l),t(0,l.form.password=l.remote.password,l),t(0,l.form.database=l.remote.database,l),t(0,l.canSync=!0,l))},isValidURL(){return oA(l.form.host).valid},isSyncing(){return n.syncer!==null},saveRemote(){let C=new cL({url:l.form.host,database:l.form.database,username:l.form.username?l.form.username:null,password:l.form.password?l.form.password:null,syncEnabled:!0});t(0,l.canSync=!0,l),t(0,l.remote=C,l),n.saveRemote(C)},startSync(){t(0,l.syncing=!0,l),t(0,l.remote.syncEnabled=!0,l),n.saveRemote(l.remote),n.startSync()},stopSync(){t(0,l.syncing=!1,l),n.stopSync(),t(0,l.remote.syncEnabled=!1,l)},async connect(){try{t(2,r=!0);let C=o.getConnectionURL(),S={};(l.form.username||l.form.password)&&(S={auth:{username:l.form.username,password:l.form.password}});let I=await new Xt(C,S).info();console.info(I),await Xe.confirm(_e.t("general.success"),"Connected successfully! Would you like to save this connection?")&&(o.saveRemote(),setTimeout(()=>{o.startSync(),t(0,l.syncing=!0,l),t(0,l.remote.syncEnabled=!0,l)},120)),t(2,r=!1)}catch(C){console.error("error connecting",C.message),Xe.alert(_e.t("general.error-connecting","Error Connecting"),C.message),t(2,r=!1)}},getConnectionURL(C=!1){let S=P=>"\u{1F511}";try{let P=oA(l.form.host);t(0,l.isValidSyncURL=P.valid,l);let I=`${P.url.protocol}//`;const R=l.form.username||"",B=l.form.password||"";let z="";return C&&(R.length||B.length)?z=`${R}:${S(B)}@`:(R.length||B.length)&&(z=`${R}:${B}@`),I=`${I}${z}${P.url.host||""}/${l.form.database||""}`,I}catch{return t(0,l.isValidSyncURL=!1,l),""}}};let a=null,u=null,c=null,f=null,d=null;wt(async()=>{t(1,n=Vt.getEngine()),t(0,l.remote=n.getRemote(),l),n.onReady(()=>{setTimeout(()=>{t(0,l.syncing=n.syncer!==null,l)},500)}),o.init()});function m(C){i.$$.not_equal(l.remote.syncEnabled,C)&&(l.remote.syncEnabled=C,t(0,l))}const p=C=>{C.detail==!1?o.stopSync():C.detail===!0&&o.startSync()},g=()=>{t(3,s=!s)};function k(C){i.$$.not_equal(l.form.host,C)&&(l.form.host=C,t(0,l))}function $(C){i.$$.not_equal(l.form.database,C)&&(l.form.database=C,t(0,l))}function D(C){i.$$.not_equal(l.form.username,C)&&(l.form.username=C,t(0,l))}function F(C){i.$$.not_equal(l.form.password,C)&&(l.form.password=C,t(0,l))}return i.$$.update=()=>{i.$$.dirty&65&&l.form.host&&l.form.host!==u&&(t(6,u=l.form.host),t(4,a=o.getConnectionURL(!0))),i.$$.dirty&129&&l.form.database&&l.form.database!==c&&(t(7,c=l.form.database),t(4,a=o.getConnectionURL(!0))),i.$$.dirty&257&&l.form.username&&l.form.username!==f&&(t(8,f=l.form.username),t(4,a=o.getConnectionURL(!0))),i.$$.dirty&513&&l.form.password&&l.form.password!==d&&(t(9,d=l.form.password),t(4,a=o.getConnectionURL(!0)))},[l,n,r,s,a,o,u,c,f,d,m,p,g,k,$,D,F]}class BZe extends ce{constructor(e){super(),ue(this,e,IZe,OZe,le,{})}}function zZe(i){let e,t,n=(i[1]||i[2])+"",r,s,l,o,a,u,c;l=new je({props:{icon:$0,size:16}});let f=[{class:o="select-pop "+(i[4].class||"")+" "+(i[0]||"")},i[4]],d={};for(let m=0;m<f.length;m+=1)d=ft(d,f[m]);return{c(){e=A("button"),t=A("span"),r=Z(n),s=Y(),O(l.$$.fragment),h(t,"class","mr-4 font-medium"),gt(e,d),Je(e,"svelte-17szjqg",!0)},m(m,p){w(m,e,p),E(e,t),E(t,r),E(e,s),N(l,e,null),e.autofocus&&e.focus(),a=!0,u||(c=ke(e,"click",i[3]),u=!0)},p(m,[p]){(!a||p&6)&&n!==(n=(m[1]||m[2])+"")&&oe(r,n),gt(e,d=At(f,[(!a||p&17&&o!==(o="select-pop "+(m[4].class||"")+" "+(m[0]||"")))&&{class:o},p&16&&m[4]])),Je(e,"svelte-17szjqg",!0)},i(m){a||(_(l.$$.fragment,m),a=!0)},o(m){v(l.$$.fragment,m),a=!1},d(m){m&&y(e),M(l),u=!1,c()}}}function RZe(i,e,t){const n=["className","value","options","placeholder","id"];let r=An(e,n),{className:s=""}=e,{value:l}=e,{options:o=[]}=e,{placeholder:a=""}=e,{id:u}=e;const c=Dt(),f=()=>{const d=o.map(m=>({title:m.value,icon:m.selected?qY:void 0,click(){c("change",m)}}));ls({id:u,buttons:d})};return i.$$set=d=>{e=ft(ft({},e),ci(d)),t(4,r=An(e,n)),"className"in d&&t(0,s=d.className),"value"in d&&t(1,l=d.value),"options"in d&&t(5,o=d.options),"placeholder"in d&&t(2,a=d.placeholder),"id"in d&&t(6,u=d.id)},[s,l,a,f,r,o,u]}class n2 extends ce{constructor(e){super(),ue(this,e,RZe,zZe,le,{className:0,value:1,options:5,placeholder:2,id:6})}}function jZe(i){let e,t,n;return t=new n2({props:{id:"start-page",value:i[2],options:i[0]}}),t.$on("change",i[5]),{c(){e=A("div"),O(t.$$.fragment),h(e,"slot","right")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p(r,s){const l={};s&4&&(l.value=r[2]),s&1&&(l.options=r[0]),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function YZe(i){let e,t,n,r;return e=new xe({props:{bottomLine:16,detail:!0,title:_e.t("general.backup-now","Backup Data")}}),e.$on("click",i[4]),n=new xe({props:{bottomLine:16,title:_e.t("settings.backup-reminder","Backup Reminder"),$$slots:{right:[jZe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment),t=Y(),O(n.$$.fragment)},m(s,l){N(e,s,l),w(s,t,l),N(n,s,l),r=!0},p(s,l){const o={};l&71&&(o.$$scope={dirty:l,ctx:s}),n.$set(o)},i(s){r||(_(e.$$.fragment,s),_(n.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(n.$$.fragment,s),r=!1},d(s){M(e,s),s&&y(t),M(n,s)}}}function UZe(i){let e,t;return e=new Ft({props:{solo:!0,$$slots:{default:[YZe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&71&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function qZe(i,e,t){let n;Ee(i,St,u=>t(1,n=u));let r=[],s="",l=n.backupDays||7;const o=()=>{Xb()},a=u=>{wn(St,n.backupDays=u.detail.key,n)};return i.$$.update=()=>{i.$$.dirty&2&&n.backupDays&&t(3,l=n.backupDays),i.$$.dirty&9&&(t(0,r=[{key:-1,value:"Never",selected:`${l}`=="-1"},{key:1,value:"Daily",selected:`${l}`=="1"},{key:3,value:"Every Few Days",selected:`${l}`=="3"},{key:7,value:"Weekly",selected:`${l}`=="7"},{key:14,value:"Every Other Week",selected:`${l}`=="14"}]),t(2,s=(r.find(u=>u.selected)||{}).value))},[r,n,s,l,o,a]}class HZe extends ce{constructor(e){super(),ue(this,e,qZe,UZe,le,{})}}function WZe(i){let e,t,n=i[1].name+"",r,s,l,o=i[1].description+"",a;return{c(){e=A("div"),t=Z("Stored on "),r=Z(n),s=Y(),l=A("div"),a=Z(o),h(e,"class","font-semibold leading-tight"),h(l,"class","text-xs text-gray-500 line-clamp-2 leading-tight mt-1")},m(u,c){w(u,e,c),E(e,t),E(e,r),w(u,s,c),w(u,l,c),E(l,a)},p(u,c){c&2&&n!==(n=u[1].name+"")&&oe(r,n),c&2&&o!==(o=u[1].description+"")&&oe(a,o)},d(u){u&&y(e),u&&y(s),u&&y(l)}}}function VZe(i){let e;return{c(){e=Z("\u{1F6CB}")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function GZe(i){let e;return{c(){e=Z("\u2601\uFE0F")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function ZZe(i){let e;return{c(){e=Z("\u{1F5C4}")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function xZe(i){let e;function t(s,l){if(s[0].storageType==="local")return ZZe;if(s[0].storageType==="firebase")return GZe;if(s[0].storageType=="pouchdb")return VZe}let n=t(i),r=n&&n(i);return{c(){e=A("span"),r&&r.c(),h(e,"slot","left")},m(s,l){w(s,e,l),r&&r.m(e,null)},p(s,l){n!==(n=t(s))&&(r&&r.d(1),r=n&&n(s),r&&(r.c(),r.m(e,null)))},d(s){s&&y(e),r&&r.d()}}}function fA(i){let e,t,n,r;return e=new Tn({props:{left:32}}),n=new BZe({}),{c(){O(e.$$.fragment),t=Y(),O(n.$$.fragment)},m(s,l){N(e,s,l),w(s,t,l),N(n,s,l),r=!0},i(s){r||(_(e.$$.fragment,s),_(n.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(n.$$.fragment,s),r=!1},d(s){M(e,s),s&&y(t),M(n,s)}}}function XZe(i){let e,t,n,r;e=new xe({props:{detail:!0,$$slots:{left:[xZe],default:[WZe]},$$scope:{ctx:i}}}),e.$on("click",i[3]);let s=i[0].storageType==="pouchdb"&&fA();return{c(){O(e.$$.fragment),t=Y(),s&&s.c(),n=$e()},m(l,o){N(e,l,o),w(l,t,o),s&&s.m(l,o),w(l,n,o),r=!0},p(l,o){const a={};o&131&&(a.$$scope={dirty:o,ctx:l}),e.$set(a),l[0].storageType==="pouchdb"?s?o&1&&_(s,1):(s=fA(),s.c(),_(s,1),s.m(n.parentNode,n)):s&&(ie(),v(s,1,1,()=>{s=null}),re())},i(l){r||(_(e.$$.fragment,l),_(s),r=!0)},o(l){v(e.$$.fragment,l),v(s),r=!1},d(l){M(e,l),l&&y(t),s&&s.d(l),l&&y(n)}}}function KZe(i){let e;return{c(){e=A("div"),e.textContent="CSV or Nomie Backup",h(e,"slot","right"),h(e,"class","opacity-50 text-sm")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function JZe(i){let e,t,n,r;return e=new xe({props:{bottomLine:16,detail:!0,title:_e.t("general.import-data","Import Data"),$$slots:{right:[KZe]},$$scope:{ctx:i}}}),e.$on("click",i[4]),n=new xe({props:{bottomLine:16,detail:!0,title:_e.t("settings.download-csv","Download CSV"),to:"/settings/export/csv"}}),{c(){O(e.$$.fragment),t=Y(),O(n.$$.fragment)},m(s,l){N(e,s,l),w(s,t,l),N(n,s,l),r=!0},p(s,l){const o={};l&128&&(o.$$scope={dirty:l,ctx:s}),e.$set(o)},i(s){r||(_(e.$$.fragment,s),_(n.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(n.$$.fragment,s),r=!1},d(s){M(e,s),s&&y(t),M(n,s)}}}function QZe(i){let e,t,n,r;return e=new xe({props:{bottomLine:16,detail:!0,title:_e.t("general.browse-files","Browse Files")}}),e.$on("click",i[5]),n=new xe({props:{bottomLine:16,detail:!0,clickable:!0,title:_e.t("settings.update-last-used-date","Update Last-Used Dates")}}),n.$on("click",i[2]),{c(){O(e.$$.fragment),t=Y(),O(n.$$.fragment)},m(s,l){N(e,s,l),w(s,t,l),N(n,s,l),r=!0},p:W,i(s){r||(_(e.$$.fragment,s),_(n.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(n.$$.fragment,s),r=!1},d(s){M(e,s),s&&y(t),M(n,s)}}}function exe(i){let e,t,n,r,s,l,o,a;return e=new Ft({props:{solo:!0,className:"mb-4",title:_e.t("settings.my-data","My Data"),outside:!0,$$slots:{default:[XZe]},$$scope:{ctx:i}}}),n=new HZe({}),s=new Ft({props:{solo:!0,className:"mb-3 mt-4",outside:!0,$$slots:{default:[JZe]},$$scope:{ctx:i}}}),o=new Ft({props:{solo:!0,className:"mb-3",outside:!0,$$slots:{default:[QZe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment),t=Y(),O(n.$$.fragment),r=Y(),O(s.$$.fragment),l=Y(),O(o.$$.fragment)},m(u,c){N(e,u,c),w(u,t,c),N(n,u,c),w(u,r,c),N(s,u,c),w(u,l,c),N(o,u,c),a=!0},p(u,[c]){const f={};c&131&&(f.$$scope={dirty:c,ctx:u}),e.$set(f);const d={};c&128&&(d.$$scope={dirty:c,ctx:u}),s.$set(d);const m={};c&128&&(m.$$scope={dirty:c,ctx:u}),o.$set(m)},i(u){a||(_(e.$$.fragment,u),_(n.$$.fragment,u),_(s.$$.fragment,u),_(o.$$.fragment,u),a=!0)},o(u){v(e.$$.fragment,u),v(n.$$.fragment,u),v(s.$$.fragment,u),v(o.$$.fragment,u),a=!1},d(u){M(e,u),u&&y(t),M(n,u),u&&y(r),M(s,u),u&&y(l),M(o,u)}}}function txe(i,e,t){let n,r;Ee(i,St,c=>t(0,n=c)),Ee(i,It,c=>t(6,r=c));const s=async()=>{await Xe.confirm("Update all streaks and last used data?","Depending on how much you track, this can take a while.")&&(await Et(100),Xe.blocker("Analyzing Usage Data..."),await _ae(r.trackables),Xe.stopBlocker(),un({message:"Update Complete"}))},l=()=>{Aie({current:n.storageType,async onSelect(c){await Xe.confirm("Switch storage?","You can always switch back. No data is shared between storage types.")&&(O0(c),await Et(500),Hn.reload())}})};let o;const a=()=>{ab()},u=()=>{nl("/files")};return i.$$.update=()=>{i.$$.dirty&1&&t(1,o=Yle(n.storageType))},[n,o,s,l,a,u]}class nxe extends ce{constructor(e){super(),ue(this,e,txe,exe,le,{})}}const ixe=[{version:"6.0.17",title:"adding support for plugins to open trackable editor"},{version:"6.0.17",title:"allowing direct image urls for trackable images"},{version:"6.0.17",title:"updated positivity score emojis"},{version:"6.0.17",title:"allowing editing of score at the list item level"},{version:"6.0.16",title:"adding language selection to plugin registration"},{version:"6.0.15",title:"adding irl integration"},{version:"6.0.15",title:"Adding a todo widget"},{version:"6.0.15",title:"adding backup reminder selection to more tab"},{version:"6.0.15",title:"allowing pinning from the expanded note entry modal"},{version:"6.0.15",title:"allowing combo trackers to have a custom default value"},{version:"6.0.15",title:"when adding people using the streak scroller, it will open the editor now"},{version:"6.0.15",title:"adding positivity chart widget"},{version:"6.0.15",title:"including duplication back into the trackable editor"},{version:"6.0.15",title:"adding location look up on expanded journal modal"},{version:"6.0.15",title:"better UI for longer trackable names and tags"},{version:"6.0.15",title:"adding date controls to the trending modal"},{version:"6.0.15",title:"adding url validation to is lib"},{version:"6.0.15",title:"adding connect library for plugin developers"},{version:"6.0.15",title:"plugins version 1"},{version:"6.0.15",title:"adding markdown support to alertbox descriptions"},{version:"6.0.15",title:"adding direct url support for opening external templates"},{version:"6.0.15",title:"adding plugin widget support"},{version:"6.0.15",title:"adding plugin access in capture menu"},{version:"6.0.15",title:"adding permissions access for plugins"},{version:"6.0.15",title:"adding openNoteEditor"},{version:"6.0.15",title:"adding initialization and data passing to KVStore"},{version:"6.0.13",title:"integrating irl.nomie.app - beta feature"},{version:"6.0.13",title:"note pinning for the day"},{version:"6.0.12",title:"adding templates"},{version:"6.0.12",title:"added [] and [x] support to notes"},{version:"6.0.12",title:"writing prompts can not be edited."},{version:"6.0.12",title:"improved onboarding flow"},{version:"6.0.12",title:"created pop select to start replacing traditional selects"},{version:"6.0.12",title:"adding title to iframe modal"},{version:"6.0.12",title:"convert metric if needed for templates"},{version:"6.0.12",title:"merging streak and calendar modals"},{version:"6.0.12",title:"improved goal view"},{version:"6.0.12",title:"added an Add button to the log card"},{version:"6.0.12",title:"adding min max labels for range trackers"},{version:"6.0.12",title:"limiting controls for encrypted cloud storage without a subscription"},{version:"6.0.11",title:"adding CSV importer back"},{version:"6.0.11",title:"preparing for other payment systems - like iOS maybe"},{version:"6.0.11",title:"including custom prompts in Prompt selector"},{version:"6.0.11",title:"requesting the browser persist storage if available"},{version:"6.0.11",title:"ability to delete a dashboard"},{version:"6.0.11",title:"dashboard sharing on mobile / downloading on desktop"},{version:"6.0.11",title:"timeline componentized and used for notes"},{version:"6.0.11",title:"better chart widget displays"}],rxe=[{version:"6.0.18",title:"tally trackers also include ignored by typeahead"},{version:"6.0.18",title:"dark mode positivity icon is hard to see"},{version:"6.0.18",title:"tracker editor - advanced not expanding if has also include"},{version:"6.0.17",title:"backup message slide down breaks page routing"},{version:"6.0.17",title:"highlighted trackable buttons are flickering when typing"},{version:"6.0.17",title:"note list item displays wrong values in trackable"},{version:"6.0.17",title:"renaming close to exit on plugin window"},{version:"6.0.17",title:"avatars are not centered vertically"},{version:"6.0.16",title:"slider needs a better value display"},{version:"6.0.16",title:"running time showing a TRUE on track tab"},{version:"6.0.16",title:"all plugin widgets are being selected when one is"},{version:"6.0.16",title:"allowing up to 3 plugins"},{version:"6.0.16",title:"combo not respecting also include"},{version:"6.0.15",title:"dashboard note with todo is not updating."},{version:"6.0.15",title:"editor ui with super long tags and labels looks awful"},{version:"6.0.15",title:"respecting defaults of zero in the note combo tracker"},{version:"6.0.15",title:"working on trackable popmenu"},{version:"6.0.15",title:"deduping positivity calcs"},{version:"6.0.15",title:"decreasing location lookup timeout to 3 seconds"},{version:"6.0.15",title:"trending modal is flipping values"},{version:"6.0.15",title:"todo widget says 'What is it?'"},{version:"6.0.15",title:"trackable selector errors when adding + to the search"},{version:"6.0.15",title:"trackable editor default value not selectable."},{version:"6.0.15",title:"display value widget showing wrong value for timer"},{version:"6.0.15",title:"latest note widget showing oldest first."},{version:"6.0.15",title:"catching error if storage engine cannot be found."},{version:"6.0.15",title:"related labels being cut off"},{version:"6.0.15",title:"6m and 1y chart is jacked"},{version:"6.0.15",title:"removing some opacities to help speed things up."},{version:"6.0.15",title:"update usage / streaks showing oldest dates first"},{version:"6.0.15",title:"capture menu / footer z-index height bug"},{version:"6.0.15",title:"adding plugin iframe portal for plugins that need to be on launch"},{version:"6.0.15",title:"plugin booting before account validation"},{version:"6.0.15",title:"allow createArrayStore to support initializing of data"},{version:"6.0.15",title:"disabling auto correct on plugin url"},{version:"6.0.15",title:"if missing dashboard plugin - wait for plugin store"},{version:"6.0.15",title:"test"},{version:"6.0.15",title:"tally default does not work"},{version:"6.0.15",title:"default value being over written with last tracked value"},{version:"6.0.15",title:"removing ripple effect to help with resources"},{version:"6.0.15",title:"writing prompt not opening prompt"},{version:"6.0.15",title:"weather fixes"},{version:"6.0.15",title:"multiple  dashboard widgets have Unknown as title"},{version:"6.0.15",title:"making global adjustments for smaller screen sizes"},{version:"6.0.15",title:"combo list editor doesn't allow manual adds, and is buggy in general"},{version:"6.0.15",title:"trackable not allowing default changes"},{version:"6.0.15",title:"dashboard duplicate error when importing dashboards"},{version:"6.0.13",title:"making widgets index more unique incase someone double imports"},{version:"6.0.13",title:"input styling work"},{version:"6.0.13",title:"resurrecting notes after using a list."},{version:"6.0.13",title:"track on this day failed for list and combo trackers"},{version:"6.0.13",title:"security passcode modal not showing after user hits ok"},{version:"6.0.13",title:"importing from onboarding is throwing an error"},{version:"6.0.13",title:"adding ability to delete context"},{version:"6.0.13",title:"tracking location if enabled"},{version:"6.0.12",title:"typeahead selected values ignoring the positivity score"},{version:"6.0.12",title:"positivity editor not allowing additional settings"},{version:"6.0.12",title:"auto import loop causing multiple imports"},{version:"6.0.12",title:"android scroll performance"},{version:"6.0.12",title:"catching if usage is found in widget"},{version:"6.0.12",title:"combo box using a tick item was saving it as a 1 on save"},{version:"6.0.12",title:"login register fiasco"},{version:"6.0.12",title:"double tracker value bug"},{version:"6.0.12",title:"grammar"},{version:"6.0.12",title:"reloading board, trackables and dashboard after template install"},{version:"6.0.11",title:"memories not linking properly"},{version:"6.0.11",title:"clearing on log save."},{version:"6.0.11",title:"timeselect not bound to value"},{version:"6.0.11",title:"adding smart merge, to ensure n6 imports merge properly"},{version:"6.0.11",title:"combo box - value trackers not always capturing value"},{version:"6.0.11",title:"dashboard share not working in production on iOS"},{version:"6.0.11",title:"catching error on widgets not having a type"},{version:"6.0.11",title:"trackable label should be visible while scrolling stats"},{version:"6.0.11",title:"chartjs touch improvements"},{version:"6.0.11",title:"stop scroll to top of trackable board after a note is saved"},{version:"6.0.11",title:"goal edit button not opening modal"},{version:"6.0.11",title:"goal config erased after setting the goal target value"},{version:"6.0.11",title:"app freezes after toggling goal edit mode, and navigating to dashboard"},{version:"6.0.11",title:"updating terminology for prompts"},{version:"6.0.11",title:"combo box range does not respect the step setting"},{version:"6.0.11",title:"allowing multiple note modals open at one time"}],sxe=[],lxe="2022-09-21T14:06:29.915Z",Yg={features:ixe,fixes:rxe,chores:sxe,build_date:lxe},Mr={version:Ya,features:Yg.features,fixes:Yg.fixes,chores:Yg.chores};function dA(i,e,t){const n=i.slice();return n[6]=e[t],n}function hA(i,e,t){const n=i.slice();return n[9]=e[t],n}function mA(i){let e;return{c(){e=A("div"),e.textContent=`Nomie 6.1 adds ${Mr.features.length} features, and ${Mr.fixes.length} bug fixes.`,h(e,"class","p-6 text-gray-800 dark:text-gray-200")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function pA(i){let e,t,n,r=Mr.features.length&&oxe(i),s=Mr.fixes.length&&cxe(i);return{c(){r&&r.c(),e=Y(),s&&s.c(),t=$e()},m(l,o){r&&r.m(l,o),w(l,e,o),s&&s.m(l,o),w(l,t,o),n=!0},p(l,o){Mr.features.length&&r.p(l,o),Mr.fixes.length&&s.p(l,o)},i(l){n||(_(r),_(s),n=!0)},o(l){v(r),v(s),n=!1},d(l){r&&r.d(l),l&&y(e),s&&s.d(l),l&&y(t)}}}function oxe(i){let e,t;return e=new Ft({props:{solo:!0,outside:!0,title:"Features",$$slots:{default:[uxe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&4096&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function axe(i){let e=i[9].title+"",t,n;return{c(){t=Z(e),n=Y()},m(r,s){w(r,t,s),w(r,n,s)},p:W,d(r){r&&y(t),r&&y(n)}}}function _A(i){let e,t;return e=new xe({props:{bottomLine:16,className:"text-sm py-1",compact:!0,$$slots:{default:[axe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&4096&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function uxe(i){let e,t,n=Mr.features,r=[];for(let l=0;l<n.length;l+=1)r[l]=_A(hA(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=$e()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o&0){n=Mr.features;let a;for(a=0;a<n.length;a+=1){const u=hA(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=_A(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ie(),a=n.length;a<r.length;a+=1)s(a);re()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){it(r,l),l&&y(e)}}}function cxe(i){let e,t;return e=new Ft({props:{outside:!0,solo:!0,title:"Bug Fixes",$$slots:{"header-right":[mxe],default:[dxe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&4098&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function gA(i){let e,t,n=Mr.fixes,r=[];for(let l=0;l<n.length;l+=1)r[l]=vA(dA(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=$e()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o&0){n=Mr.fixes;let a;for(a=0;a<n.length;a+=1){const u=dA(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=vA(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ie(),a=n.length;a<r.length;a+=1)s(a);re()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){it(r,l),l&&y(e)}}}function fxe(i){let e=i[6].title+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p:W,d(n){n&&y(t)}}}function vA(i){let e,t;return e=new xe({props:{bottomLine:16,className:"text-sm py-1",compact:!0,$$slots:{default:[fxe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&4096&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function dxe(i){let e,t,n=i[1]&&gA(i);return{c(){n&&n.c(),e=$e()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,s){r[1]?n?(n.p(r,s),s&2&&_(n,1)):(n=gA(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ie(),v(n,1,1,()=>{n=null}),re())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function hxe(i){let e;return{c(){e=Z("Show Fixes")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function mxe(i){let e,t;return e=new Me({props:{slot:"header-right",clear:!0,primary:!0,size:"sm",$$slots:{default:[hxe]},$$scope:{ctx:i}}}),e.$on("click",i[5]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&4096&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function pxe(i){let e,t,n,r=Mr&&!i[2]&&mA(),s=Mr&&i[2]&&pA(i);return{c(){r&&r.c(),e=Y(),s&&s.c(),t=$e()},m(l,o){r&&r.m(l,o),w(l,e,o),s&&s.m(l,o),w(l,t,o),n=!0},p(l,o){Mr&&!l[2]?r?r.p(l,o):(r=mA(),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),Mr&&l[2]?s?(s.p(l,o),o&4&&_(s,1)):(s=pA(l),s.c(),_(s,1),s.m(t.parentNode,t)):s&&(ie(),v(s,1,1,()=>{s=null}),re())},i(l){n||(_(s),n=!0)},o(l){v(s),n=!1},d(l){r&&r.d(l),l&&y(e),s&&s.d(l),l&&y(t)}}}function _xe(i){let e;return{c(){e=A("h2"),e.textContent="Nomie 6.1",h(e,"class","ntitle")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function gxe(i){let e=_e.t("general.close","Close")+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p:W,d(n){n&&y(t)}}}function vxe(i){let e,t,n;return t=new Me({props:{clear:!0,primary:!0,$$slots:{default:[gxe]},$$scope:{ctx:i}}}),t.$on("click",i[4]),{c(){e=A("div"),O(t.$$.fragment),h(e,"slot","left")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p(r,s){const l={};s&4096&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function bxe(i){let e,t,n;return t=new Jt({props:{$$slots:{left:[vxe],default:[_xe]},$$scope:{ctx:i}}}),{c(){e=A("header"),O(t.$$.fragment),h(e,"slot","header")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p(r,s){const l={};s&4097&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function bA(i){let e,t;return e=new Me({props:{block:!0,color:"primary",$$slots:{default:[kxe]},$$scope:{ctx:i}}}),e.$on("click",i[3]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&4096&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function kxe(i){let e;return{c(){e=Z("View Changes")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function yxe(i){let e,t,n=!i[2]&&bA(i);return{c(){e=A("footer"),n&&n.c(),h(e,"slot","footer"),h(e,"class","flex-shrink-0 p-4")},m(r,s){w(r,e,s),n&&n.m(e,null),t=!0},p(r,s){r[2]?n&&(ie(),v(n,1,1,()=>{n=null}),re()):n?(n.p(r,s),s&4&&_(n,1)):(n=bA(r),n.c(),_(n,1),n.m(e,null))},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){r&&y(e),n&&n.d()}}}function wxe(i){let e,t;return e=new _n({props:{$$slots:{footer:[yxe],header:[bxe],default:[pxe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&4103&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function $xe(i,e,t){let{id:n}=e,r=!1,s=!1;const l=()=>{t(2,s=!0)},o=()=>{Ot(n)},a=()=>t(1,r=!0);return i.$$set=u=>{"id"in u&&t(0,n=u.id)},[n,r,s,l,o,a]}class Fxe extends ce{constructor(e){super(),ue(this,e,$xe,wxe,le,{id:0})}}function Exe(i){let e;return{c(){e=A("span"),e.textContent="Read",h(e,"slot","right"),h(e,"class","text-inverse-3")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function Dxe(i){let e;return{c(){e=A("span"),e.textContent="Nomie.app",h(e,"slot","right"),h(e,"class","text-inverse-3")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function Cxe(i){let e;return{c(){e=A("span"),e.textContent="/r/nomie",h(e,"slot","right"),h(e,"class","flex text-inverse-3")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function Sxe(i){let e;return{c(){e=A("span"),e.textContent="@nomieapp",h(e,"slot","right"),h(e,"class","flex text-inverse-3")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function Txe(i){let e,t,n,r,s,l,o,a;return e=new xe({props:{bottomLine:16,detail:!0,title:"N6 Docs",href:"https://docs.nomie.app",$$slots:{right:[Exe]},$$scope:{ctx:i}}}),n=new xe({props:{bottomLine:16,detail:!0,title:"Learn More",href:"https://nomie.app?s=dap",$$slots:{right:[Dxe]},$$scope:{ctx:i}}}),s=new xe({props:{bottomLine:16,title:"Reddit r/nomie",detail:!0,href:"https://reddit.com/r/nomie",$$slots:{right:[Cxe]},$$scope:{ctx:i}}}),o=new xe({props:{bottomLine:16,title:"Nomie on TikTok",detail:!0,href:"https://www.tiktok.com/@nomieapp",$$slots:{right:[Sxe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment),t=Y(),O(n.$$.fragment),r=Y(),O(s.$$.fragment),l=Y(),O(o.$$.fragment)},m(u,c){N(e,u,c),w(u,t,c),N(n,u,c),w(u,r,c),N(s,u,c),w(u,l,c),N(o,u,c),a=!0},p(u,c){const f={};c&2048&&(f.$$scope={dirty:c,ctx:u}),e.$set(f);const d={};c&2048&&(d.$$scope={dirty:c,ctx:u}),n.$set(d);const m={};c&2048&&(m.$$scope={dirty:c,ctx:u}),s.$set(m);const p={};c&2048&&(p.$$scope={dirty:c,ctx:u}),o.$set(p)},i(u){a||(_(e.$$.fragment,u),_(n.$$.fragment,u),_(s.$$.fragment,u),_(o.$$.fragment,u),a=!0)},o(u){v(e.$$.fragment,u),v(n.$$.fragment,u),v(s.$$.fragment,u),v(o.$$.fragment,u),a=!1},d(u){M(e,u),u&&y(t),M(n,u),u&&y(r),M(s,u),u&&y(l),M(o,u)}}}function Axe(i){return{c:W,m:W,p:W,d:W}}function Pxe(i){let e,t=i[10].format("MMM YYYY")+"",n;return{c(){e=A("div"),n=Z(t),h(e,"class","text-sm")},m(r,s){w(r,e,s),E(e,n)},p:W,d(r){r&&y(e)}}}function Nxe(i){let e;return{c(){e=Z("Loading...")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function Mxe(i){let e,t={ctx:i,current:null,token:null,hasCatch:!1,pending:Nxe,then:Pxe,catch:Axe,value:10};return v0(Ut.getFirstDate(!0),t),{c(){e=A("div"),t.block.c(),h(e,"class",""),h(e,"slot","right")},m(n,r){w(n,e,r),t.block.m(e,t.anchor=null),t.mount=()=>e,t.anchor=null},p(n,r){i=n,b0(t,i,r)},d(n){n&&y(e),t.block.d(),t.token=null,t=null}}}function Lxe(i){let e,t;return{c(){e=A("div"),t=Z(i[1]),h(e,"class",""),h(e,"slot","right")},m(n,r){w(n,e,r),E(e,t)},p(n,r){r&2&&oe(t,n[1])},d(n){n&&y(e)}}}function Oxe(i){let e,t=i[2].device+"",n;return{c(){e=A("span"),n=Z(t),h(e,"slot","right")},m(r,s){w(r,e,s),E(e,n)},p(r,s){s&4&&t!==(t=r[2].device+"")&&oe(n,t)},d(r){r&&y(e)}}}function Ixe(i){let e,t=i[2].platform+"",n;return{c(){e=A("span"),n=Z(t),h(e,"slot","right")},m(r,s){w(r,e,s),E(e,n)},p(r,s){s&4&&t!==(t=r[2].platform+"")&&oe(n,t)},d(r){r&&y(e)}}}function Bxe(i){let e,t=i[2].pwa+"",n;return{c(){e=A("span"),n=Z(t),h(e,"slot","right")},m(r,s){w(r,e,s),E(e,n)},p(r,s){s&4&&t!==(t=r[2].pwa+"")&&oe(n,t)},d(r){r&&y(e)}}}function zxe(i){let e;return{c(){e=A("span"),e.textContent="Counts",h(e,"class","text-gray-500 text-sm")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function Rxe(i){let e,t=i[0].trackers+"",n;return{c(){e=A("div"),n=Z(t),h(e,"slot","right")},m(r,s){w(r,e,s),E(e,n)},p(r,s){s&1&&t!==(t=r[0].trackers+"")&&oe(n,t)},d(r){r&&y(e)}}}function jxe(i){let e,t=i[0].people+"",n;return{c(){e=A("div"),n=Z(t),h(e,"slot","right")},m(r,s){w(r,e,s),E(e,n)},p(r,s){s&1&&t!==(t=r[0].people+"")&&oe(n,t)},d(r){r&&y(e)}}}function Yxe(i){let e,t=i[0].context+"",n;return{c(){e=A("div"),n=Z(t),h(e,"slot","right")},m(r,s){w(r,e,s),E(e,n)},p(r,s){s&1&&t!==(t=r[0].context+"")&&oe(n,t)},d(r){r&&y(e)}}}function Uxe(i){let e,t=i[0].locations+"",n;return{c(){e=A("div"),n=Z(t),h(e,"slot","right")},m(r,s){w(r,e,s),E(e,n)},p(r,s){s&1&&t!==(t=r[0].locations+"")&&oe(n,t)},d(r){r&&y(e)}}}function qxe(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p,g,k,$,D,F,C,S,P;return e=new xe({props:{bottomLine:16,title:_e.t("general.first_log","First Log"),$$slots:{right:[Mxe]},$$scope:{ctx:i}}}),n=new xe({props:{bottomLine:16,title:_e.t("general.launch_count","Launch Count"),$$slots:{right:[Lxe]},$$scope:{ctx:i}}}),s=new xe({props:{bottomLine:16,title:_e.t("general.device","Device"),$$slots:{right:[Oxe]},$$scope:{ctx:i}}}),o=new xe({props:{bottomLine:16,title:_e.t("general.platform","Platform"),$$slots:{right:[Ixe]},$$scope:{ctx:i}}}),u=new xe({props:{bottomLine:16,title:_e.t("general.pwa","PWA"),$$slots:{right:[Bxe]},$$scope:{ctx:i}}}),f=new xe({props:{bottomLine:16,title:"UI Test",to:"/test",detail:!0}}),m=new xe({props:{$$slots:{default:[zxe]},$$scope:{ctx:i}}}),g=new xe({props:{bottomLine:16,title:"Trackers",$$slots:{right:[Rxe]},$$scope:{ctx:i}}}),$=new xe({props:{bottomLine:16,title:"People",$$slots:{right:[jxe]},$$scope:{ctx:i}}}),F=new xe({props:{bottomLine:16,title:"Context",$$slots:{right:[Yxe]},$$scope:{ctx:i}}}),S=new xe({props:{bottomLine:16,title:"Locations",$$slots:{right:[Uxe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment),t=Y(),O(n.$$.fragment),r=Y(),O(s.$$.fragment),l=Y(),O(o.$$.fragment),a=Y(),O(u.$$.fragment),c=Y(),O(f.$$.fragment),d=Y(),O(m.$$.fragment),p=Y(),O(g.$$.fragment),k=Y(),O($.$$.fragment),D=Y(),O(F.$$.fragment),C=Y(),O(S.$$.fragment)},m(I,R){N(e,I,R),w(I,t,R),N(n,I,R),w(I,r,R),N(s,I,R),w(I,l,R),N(o,I,R),w(I,a,R),N(u,I,R),w(I,c,R),N(f,I,R),w(I,d,R),N(m,I,R),w(I,p,R),N(g,I,R),w(I,k,R),N($,I,R),w(I,D,R),N(F,I,R),w(I,C,R),N(S,I,R),P=!0},p(I,R){const B={};R&2048&&(B.$$scope={dirty:R,ctx:I}),e.$set(B);const z={};R&2050&&(z.$$scope={dirty:R,ctx:I}),n.$set(z);const q={};R&2052&&(q.$$scope={dirty:R,ctx:I}),s.$set(q);const H={};R&2052&&(H.$$scope={dirty:R,ctx:I}),o.$set(H);const K={};R&2052&&(K.$$scope={dirty:R,ctx:I}),u.$set(K);const G={};R&2048&&(G.$$scope={dirty:R,ctx:I}),m.$set(G);const U={};R&2049&&(U.$$scope={dirty:R,ctx:I}),g.$set(U);const Q={};R&2049&&(Q.$$scope={dirty:R,ctx:I}),$.$set(Q);const V={};R&2049&&(V.$$scope={dirty:R,ctx:I}),F.$set(V);const x={};R&2049&&(x.$$scope={dirty:R,ctx:I}),S.$set(x)},i(I){P||(_(e.$$.fragment,I),_(n.$$.fragment,I),_(s.$$.fragment,I),_(o.$$.fragment,I),_(u.$$.fragment,I),_(f.$$.fragment,I),_(m.$$.fragment,I),_(g.$$.fragment,I),_($.$$.fragment,I),_(F.$$.fragment,I),_(S.$$.fragment,I),P=!0)},o(I){v(e.$$.fragment,I),v(n.$$.fragment,I),v(s.$$.fragment,I),v(o.$$.fragment,I),v(u.$$.fragment,I),v(f.$$.fragment,I),v(m.$$.fragment,I),v(g.$$.fragment,I),v($.$$.fragment,I),v(F.$$.fragment,I),v(S.$$.fragment,I),P=!1},d(I){M(e,I),I&&y(t),M(n,I),I&&y(r),M(s,I),I&&y(l),M(o,I),I&&y(a),M(u,I),I&&y(c),M(f,I),I&&y(d),M(m,I),I&&y(p),M(g,I),I&&y(k),M($,I),I&&y(D),M(F,I),I&&y(C),M(S,I)}}}function Hxe(i){let e;return{c(){e=A("span"),e.textContent="What's New",h(e,"slot","right"),h(e,"class","flex text-sm text-primary-500")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function Wxe(i){let e;return{c(){e=A("span"),e.textContent=`${_e.t("settings.redo-setup","Redo Setup")}`,h(e,"slot","right"),h(e,"class","text-sm text-primary-500")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function Vxe(i){let e,t,n,r;return e=new xe({props:{bottomLine:16,title:"Version 6.1 ",detail:!0,$$slots:{right:[Hxe]},$$scope:{ctx:i}}}),e.$on("click",i[3]),n=new xe({props:{detail:!0,title:"Onboarded",$$slots:{right:[Wxe]},$$scope:{ctx:i}}}),n.$on("click",i[4]),{c(){O(e.$$.fragment),t=Y(),O(n.$$.fragment)},m(s,l){N(e,s,l),w(s,t,l),N(n,s,l),r=!0},p(s,l){const o={};l&2048&&(o.$$scope={dirty:l,ctx:s}),e.$set(o);const a={};l&2048&&(a.$$scope={dirty:l,ctx:s}),n.$set(a)},i(s){r||(_(e.$$.fragment,s),_(n.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(n.$$.fragment,s),r=!1},d(s){M(e,s),s&&y(t),M(n,s)}}}function Gxe(i){let e,t,n,r,s,l;return e=new Ft({props:{solo:!0,className:" mb-3",title:_e.t("settings.learn-more","Learn More"),outside:!0,$$slots:{default:[Txe]},$$scope:{ctx:i}}}),n=new Ft({props:{solo:!0,className:"mb-3",outside:!0,title:"App",$$slots:{default:[qxe]},$$scope:{ctx:i}}}),s=new Ft({props:{solo:!0,title:"Version",outside:!0,className:"mb-3",$$slots:{default:[Vxe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment),t=Y(),O(n.$$.fragment),r=Y(),O(s.$$.fragment)},m(o,a){N(e,o,a),w(o,t,a),N(n,o,a),w(o,r,a),N(s,o,a),l=!0},p(o,[a]){const u={};a&2048&&(u.$$scope={dirty:a,ctx:o}),e.$set(u);const c={};a&2055&&(c.$$scope={dirty:a,ctx:o}),n.$set(c);const f={};a&2048&&(f.$$scope={dirty:a,ctx:o}),s.$set(f)},i(o){l||(_(e.$$.fragment,o),_(n.$$.fragment,o),_(s.$$.fragment,o),l=!0)},o(o){v(e.$$.fragment,o),v(n.$$.fragment,o),v(s.$$.fragment,o),l=!1},d(o){M(e,o),o&&y(t),M(n,o),o&&y(r),M(s,o)}}}function Zxe(i,e,t){let n,r,s,l,o,a,u;Ee(i,Wr,m=>t(5,n=m)),Ee(i,It,m=>t(6,r=m)),Ee(i,Zl,m=>t(7,s=m)),Ee(i,Ld,m=>t(8,l=m)),Ee(i,jr,m=>t(9,o=m)),Ee(i,qz,m=>t(1,a=m)),Ee(i,Hn,m=>t(2,u=m));let c={trackers:0,people:0,context:0,locations:0,total:0};return wt(()=>{t(0,c.trackers=Object.keys(o).length,c),t(0,c.context=Object.keys(l).length,c),t(0,c.people=Object.keys(s).length,c),t(0,c.total=Object.keys(r).length,c),t(0,c.locations=n.length,c)}),[c,a,u,()=>{en({id:"whats-new",component:Fxe,position:"bottom"})},()=>{nl("/setup")}]}class xxe extends ce{constructor(e){super(),ue(this,e,Zxe,Gxe,le,{})}}function Xxe(i){let e;return{c(){e=Z("1")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Kxe(i){let e;return{c(){e=Z("2")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Jxe(i){let e;return{c(){e=Z("3")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Qxe(i){let e;return{c(){e=Z("4")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function eXe(i){let e;return{c(){e=Z("5")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function tXe(i){let e;return{c(){e=Z("6")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function nXe(i){let e;return{c(){e=Z("7")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function iXe(i){let e;return{c(){e=Z("8")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function rXe(i){let e;return{c(){e=Z("9")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function sXe(i){let e;return{c(){e=Z("Clear")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function lXe(i){let e;return{c(){e=Z("0")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function oXe(i){let e;return{c(){e=Z("Submit")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function aXe(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p,g,k,$,D,F,C,S,P,I,R,B;return t=new Me({props:{delay:0,color:"clear",$$slots:{default:[Xxe]},$$scope:{ctx:i}}}),t.$on("click",i[1](1)),r=new Me({props:{delay:0,color:"clear",$$slots:{default:[Kxe]},$$scope:{ctx:i}}}),r.$on("click",i[1](2)),l=new Me({props:{delay:0,color:"clear",$$slots:{default:[Jxe]},$$scope:{ctx:i}}}),l.$on("click",i[1](3)),a=new Me({props:{delay:0,color:"clear",$$slots:{default:[Qxe]},$$scope:{ctx:i}}}),a.$on("click",i[1](4)),c=new Me({props:{delay:0,color:"clear",$$slots:{default:[eXe]},$$scope:{ctx:i}}}),c.$on("click",i[1](5)),d=new Me({props:{delay:0,color:"clear",$$slots:{default:[tXe]},$$scope:{ctx:i}}}),d.$on("click",i[1](6)),p=new Me({props:{delay:0,color:"clear",$$slots:{default:[nXe]},$$scope:{ctx:i}}}),p.$on("click",i[1](7)),k=new Me({props:{delay:0,color:"clear",$$slots:{default:[iXe]},$$scope:{ctx:i}}}),k.$on("click",i[1](8)),D=new Me({props:{delay:0,color:"clear",$$slots:{default:[rXe]},$$scope:{ctx:i}}}),D.$on("click",i[1](9)),C=new Me({props:{delay:0,color:"clear",disabled:!i[0],$$slots:{default:[sXe]},$$scope:{ctx:i}}}),C.$on("click",i[2]),P=new Me({props:{delay:0,color:"clear",$$slots:{default:[lXe]},$$scope:{ctx:i}}}),P.$on("click",i[1](0)),R=new Me({props:{delay:0,color:"clear",disabled:!i[0],$$slots:{default:[oXe]},$$scope:{ctx:i}}}),R.$on("click",i[3]),{c(){e=A("div"),O(t.$$.fragment),n=Y(),O(r.$$.fragment),s=Y(),O(l.$$.fragment),o=Y(),O(a.$$.fragment),u=Y(),O(c.$$.fragment),f=Y(),O(d.$$.fragment),m=Y(),O(p.$$.fragment),g=Y(),O(k.$$.fragment),$=Y(),O(D.$$.fragment),F=Y(),O(C.$$.fragment),S=Y(),O(P.$$.fragment),I=Y(),O(R.$$.fragment),h(e,"class","keypad")},m(z,q){w(z,e,q),N(t,e,null),E(e,n),N(r,e,null),E(e,s),N(l,e,null),E(e,o),N(a,e,null),E(e,u),N(c,e,null),E(e,f),N(d,e,null),E(e,m),N(p,e,null),E(e,g),N(k,e,null),E(e,$),N(D,e,null),E(e,F),N(C,e,null),E(e,S),N(P,e,null),E(e,I),N(R,e,null),B=!0},p(z,[q]){const H={};q&32&&(H.$$scope={dirty:q,ctx:z}),t.$set(H);const K={};q&32&&(K.$$scope={dirty:q,ctx:z}),r.$set(K);const G={};q&32&&(G.$$scope={dirty:q,ctx:z}),l.$set(G);const U={};q&32&&(U.$$scope={dirty:q,ctx:z}),a.$set(U);const Q={};q&32&&(Q.$$scope={dirty:q,ctx:z}),c.$set(Q);const V={};q&32&&(V.$$scope={dirty:q,ctx:z}),d.$set(V);const x={};q&32&&(x.$$scope={dirty:q,ctx:z}),p.$set(x);const ee={};q&32&&(ee.$$scope={dirty:q,ctx:z}),k.$set(ee);const J={};q&32&&(J.$$scope={dirty:q,ctx:z}),D.$set(J);const se={};q&1&&(se.disabled=!z[0]),q&32&&(se.$$scope={dirty:q,ctx:z}),C.$set(se);const te={};q&32&&(te.$$scope={dirty:q,ctx:z}),P.$set(te);const ge={};q&1&&(ge.disabled=!z[0]),q&32&&(ge.$$scope={dirty:q,ctx:z}),R.$set(ge)},i(z){B||(_(t.$$.fragment,z),_(r.$$.fragment,z),_(l.$$.fragment,z),_(a.$$.fragment,z),_(c.$$.fragment,z),_(d.$$.fragment,z),_(p.$$.fragment,z),_(k.$$.fragment,z),_(D.$$.fragment,z),_(C.$$.fragment,z),_(P.$$.fragment,z),_(R.$$.fragment,z),B=!0)},o(z){v(t.$$.fragment,z),v(r.$$.fragment,z),v(l.$$.fragment,z),v(a.$$.fragment,z),v(c.$$.fragment,z),v(d.$$.fragment,z),v(p.$$.fragment,z),v(k.$$.fragment,z),v(D.$$.fragment,z),v(C.$$.fragment,z),v(P.$$.fragment,z),v(R.$$.fragment,z),B=!1},d(z){z&&y(e),M(t),M(r),M(l),M(a),M(c),M(d),M(p),M(k),M(D),M(C),M(P),M(R)}}}function uXe(i,e,t){let{value:n=""}=e;const r=Dt(),s=a=>()=>t(0,n+=a),l=()=>t(0,n=""),o=a=>{setTimeout(()=>{r("submit"),a.stopPropagation()},10)};return i.$$set=a=>{"value"in a&&t(0,n=a.value)},[n,s,l,o]}class cXe extends ce{constructor(e){super(),ue(this,e,uXe,aXe,le,{value:0})}}function kA(i,e,t){const n=i.slice();return n[7]=e[t],n}function fXe(i){let e=_e.t("settings.pin-requirements","1 to 6 digits")+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p:W,d(n){n&&y(t)}}}function yA(i){let e;return{c(){e=Z("\u2022")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function wA(i){let e,t;return e=new Me({props:{icon:!0,color:"clear",className:"pin-close-btn",ariaLabel:"Cancel",$$slots:{default:[dXe]},$$scope:{ctx:i}}}),e.$on("click",i[3].cancelInput),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1024&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function dXe(i){let e,t;return e=new je({props:{icon:gl,size:32}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function hXe(i){let e,t,n,r,s,l,o,a,u,c,f,d;t=new Di({props:{center:!0,size:"sm",faded:!0,className:"text-white mb-2",$$slots:{default:[fXe]},$$scope:{ctx:i}}});let m=i[2].split(""),p=[];for(let D=0;D<m.length;D+=1)p[D]=yA(kA(i,m,D));function g(D){i[6](D)}let k={};i[2]!==void 0&&(k.value=i[2]),u=new cXe({props:k}),De.push(()=>Ue(u,"value",g,i[2])),u.$on("submit",i[3].submit);let $=i[1]&&wA(i);return{c(){e=A("div"),O(t.$$.fragment),n=Y(),r=A("h1"),s=Z(i[0]),l=Y(),o=A("div");for(let D=0;D<p.length;D+=1)p[D].c();a=Y(),O(u.$$.fragment),f=Y(),$&&$.c(),h(o,"class","text-2xl text-white pin-holder "),h(e,"aria-modal",""),h(e,"aria-label","Lock Screen"),nt(e,"zIndex","10000"),h(e,"class","lock-screen relative p-4 w-full rounded-xl shadow-xl flex-col full-screen bg-primary-500")},m(D,F){w(D,e,F),N(t,e,null),E(e,n),E(e,r),E(r,s),E(e,l),E(e,o);for(let C=0;C<p.length;C+=1)p[C].m(o,null);E(e,a),N(u,e,null),E(e,f),$&&$.m(e,null),d=!0},p(D,F){const C={};if(F&1024&&(C.$$scope={dirty:F,ctx:D}),t.$set(C),(!d||F&1)&&oe(s,D[0]),F&4){const P=m.length;m=D[2].split("");let I;for(I=P;I<m.length;I+=1)kA(D,m,I),p[I]||(p[I]=yA(),p[I].c(),p[I].m(o,null));for(I=m.length;I<P;I+=1)p[I].d(1);p.length=m.length}const S={};!c&&F&4&&(c=!0,S.value=D[2],qe(()=>c=!1)),u.$set(S),D[1]?$?($.p(D,F),F&2&&_($,1)):($=wA(D),$.c(),_($,1),$.m(e,null)):$&&(ie(),v($,1,1,()=>{$=null}),re())},i(D){d||(_(t.$$.fragment,D),_(u.$$.fragment,D),_($),d=!0)},o(D){v(t.$$.fragment,D),v(u.$$.fragment,D),v($),d=!1},d(D){D&&y(e),M(t),it(p,D),M(u),$&&$.d()}}}function mXe(i){let e,t;return e=new _n({props:{$$slots:{default:[hXe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&1031&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function pXe(i,e,t){let n="",{id:r}=e,{onPin:s}=e,{title:l="Enter a Pin"}=e,{canClose:o=!1}=e;wt(()=>{t(2,n="")});const a={submit(){let c=n||"";c.length<7&&c.length>0?(s(pn(n)),o&&Ot(r)):Xe.error("Pin must be between 1 and 6 characters")},cancelInput(){Ot(r)}};function u(c){n=c,t(2,n)}return i.$$set=c=>{"id"in c&&t(4,r=c.id),"onPin"in c&&t(5,s=c.onPin),"title"in c&&t(0,l=c.title),"canClose"in c&&t(1,o=c.canClose)},i.$$.update=()=>{i.$$.dirty&4&&n.length>6&&t(2,n=n.substring(0,6))},[l,o,n,a,r,s,u]}class _Xe extends ce{constructor(e){super(),ue(this,e,pXe,mXe,le,{id:4,onPin:5,title:0,canClose:1})}}const aR=async i=>new Promise(e=>{en({id:"pin-lock",position:"center",component:_Xe,tappable:i.canClose,componentProps:{title:i.title,canClose:i.canClose,onPin:t=>{i.isMatch(t)?e(t):Xe.error("Invalid Pin. Try again")}}})});function $A(i,e,t){const n=i.slice();return n[19]=e[t],n}function gXe(i){let e,t,n;return t=new n2({props:{id:"start-page",value:$o(i[0].startPage),options:["track","dashboard","goals","timeline","history"].map(i[5])}}),t.$on("change",i[6]),{c(){e=A("div"),O(t.$$.fragment),h(e,"slot","right")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p(r,s){const l={};s&1&&(l.value=$o(r[0].startPage)),s&1&&(l.options=["track","dashboard","goals","timeline","history"].map(r[5])),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function vXe(i){let e,t,n,r;function s(o){i[7](o)}let l={title:"Location Lookup"};return i[0].alwaysLocate!==void 0&&(l.value=i[0].alwaysLocate),t=new Oi({props:l}),De.push(()=>Ue(t,"value",s,i[0].alwaysLocate)),{c(){e=A("div"),O(t.$$.fragment),h(e,"slot","right"),h(e,"class","ml-2")},m(o,a){w(o,e,a),N(t,e,null),r=!0},p(o,a){const u={};!n&&a&1&&(n=!0,u.value=o[0].alwaysLocate,qe(()=>n=!1)),t.$set(u)},i(o){r||(_(t.$$.fragment,o),r=!0)},o(o){v(t.$$.fragment,o),r=!1},d(o){o&&y(e),M(t)}}}function bXe(i){let e,t,n;return{c(){e=A("button"),e.textContent=`${_e.t("settings.set-pin","Set Lock Pin")}`,h(e,"class","toggle-pin-button whitespace-nowrap text-primary-500 text-right")},m(r,s){w(r,e,s),t||(n=ke(e,"click",i[9]),t=!0)},p:W,d(r){r&&y(e),t=!1,n()}}}function kXe(i){let e,t,n;return{c(){e=A("button"),e.textContent=`${_e.t("settings.disable","Disable Pin")}`,h(e,"class","toggle-pin-button whitespace-nowrap text-primary-500 text-right")},m(r,s){w(r,e,s),t||(n=ke(e,"click",i[8]),t=!0)},p:W,d(r){r&&y(e),t=!1,n()}}}function yXe(i){let e;function t(s,l){return s[1]?kXe:bXe}let n=t(i),r=n(i);return{c(){e=A("div"),r.c(),h(e,"slot","right"),h(e,"class","ml-2")},m(s,l){w(s,e,l),r.m(e,null)},p(s,l){n===(n=t(s))&&r?r.p(s,l):(r.d(1),r=n(s),r&&(r.c(),r.m(e,null)))},d(s){s&&y(e),r.d()}}}function wXe(i){let e,t,n,r,s,l;return e=new xe({props:{bottomLine:16,title:_e.t("settings.start-page","Start Page"),$$slots:{right:[gXe]},$$scope:{ctx:i}}}),n=new xe({props:{bottomLine:16,title:_e.t("settings.use-location","Use Location"),$$slots:{right:[vXe]},$$scope:{ctx:i}}}),s=new xe({props:{bottomLine:16,title:_e.t("settings.require-pin","Require Access Pin"),$$slots:{right:[yXe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment),t=Y(),O(n.$$.fragment),r=Y(),O(s.$$.fragment)},m(o,a){N(e,o,a),w(o,t,a),N(n,o,a),w(o,r,a),N(s,o,a),l=!0},p(o,a){const u={};a&4194305&&(u.$$scope={dirty:a,ctx:o}),e.$set(u);const c={};a&4194305&&(c.$$scope={dirty:a,ctx:o}),n.$set(c);const f={};a&4194306&&(f.$$scope={dirty:a,ctx:o}),s.$set(f)},i(o){l||(_(e.$$.fragment,o),_(n.$$.fragment,o),_(s.$$.fragment,o),l=!0)},o(o){v(e.$$.fragment,o),v(n.$$.fragment,o),v(s.$$.fragment,o),l=!1},d(o){M(e,o),o&&y(t),M(n,o),o&&y(r),M(s,o)}}}function $Xe(i){let e,t;return e=new Si({props:{slot:"left",className:"-ml-1 mr-2",emoji:"\u{1F4A1}",size:22}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function FXe(i){let e,t,n;return t=new n2({props:{id:"theme",value:$o(i[0].theme),options:i[3].map(i[10])}}),t.$on("change",i[11]),{c(){e=A("div"),O(t.$$.fragment),h(e,"slot","right")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p(r,s){const l={};s&1&&(l.value=$o(r[0].theme)),s&1&&(l.options=r[3].map(r[10])),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function EXe(i){let e,t;return e=new Si({props:{slot:"left",className:"-ml-1 mr-2",emoji:"\u{1F50E}",size:22}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function DXe(i){let e;return{c(){e=A("div"),e.textContent="A",h(e,"class","text-xs leading-7")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function CXe(i){let e;return{c(){e=A("div"),e.textContent="A",h(e,"class","text-sm leading-7")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function SXe(i){let e;return{c(){e=A("div"),e.textContent="A",h(e,"class","text-base leading-7")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function TXe(i){let e;return{c(){e=A("div"),e.textContent="A",h(e,"class","text-lg leading-7")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function AXe(i){let e;return{c(){e=A("div"),e.textContent="A",h(e,"class","text-xl leading-7")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function PXe(i){let e,t,n,r,s,l=i[19]=="xs"&&DXe(),o=i[19]=="sm"&&CXe(),a=i[19]=="md"&&SXe(),u=i[19]=="lg"&&TXe(),c=i[19]=="xl"&&AXe();return{c(){l&&l.c(),e=Y(),o&&o.c(),t=Y(),a&&a.c(),n=Y(),u&&u.c(),r=Y(),c&&c.c(),s=Y()},m(f,d){l&&l.m(f,d),w(f,e,d),o&&o.m(f,d),w(f,t,d),a&&a.m(f,d),w(f,n,d),u&&u.m(f,d),w(f,r,d),c&&c.m(f,d),w(f,s,d)},p:W,d(f){l&&l.d(f),f&&y(e),o&&o.d(f),f&&y(t),a&&a.d(f),f&&y(n),u&&u.d(f),f&&y(r),c&&c.d(f),f&&y(s)}}}function FA(i){let e,t;function n(){return i[12](i[19])}return e=new Me({props:{style:"padding:0 10px !important;",id:"font-size-"+i[19],color:"",size:"sm",className:`${i[2].fontSize===i[19]?"active":""}`,$$slots:{default:[PXe]},$$scope:{ctx:i}}}),e.$on("click",n),{c(){O(e.$$.fragment)},m(r,s){N(e,r,s),t=!0},p(r,s){i=r;const l={};s&4&&(l.className=`${i[2].fontSize===i[19]?"active":""}`),s&4194304&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){M(e,r)}}}function NXe(i){let e,t,n=["xs","sm","md","lg","xl"],r=[];for(let l=0;l<5;l+=1)r[l]=FA($A(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<5;l+=1)r[l].c();e=$e()},m(l,o){for(let a=0;a<5;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o&4){n=["xs","sm","md","lg","xl"];let a;for(a=0;a<5;a+=1){const u=$A(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=FA(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ie(),a=5;a<5;a+=1)s(a);re()}},i(l){if(!t){for(let o=0;o<5;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<5;o+=1)v(r[o]);t=!1},d(l){it(r,l),l&&y(e)}}}function MXe(i){let e,t,n;return t=new ms({props:{style:"width:170px;",$$slots:{default:[NXe]},$$scope:{ctx:i}}}),{c(){e=A("div"),O(t.$$.fragment),h(e,"slot","right")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p(r,s){const l={};s&4194308&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function LXe(i){let e,t,n,r;return e=new xe({props:{bottomLine:52,title:_e.t("settings.theme","Theme"),$$slots:{right:[FXe],left:[$Xe]},$$scope:{ctx:i}}}),n=new xe({props:{bottomLine:52,title:_e.t("settings.font-size","Font Size"),$$slots:{right:[MXe],left:[EXe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment),t=Y(),O(n.$$.fragment)},m(s,l){N(e,s,l),w(s,t,l),N(n,s,l),r=!0},p(s,l){const o={};l&4194305&&(o.$$scope={dirty:l,ctx:s}),e.$set(o);const a={};l&4194308&&(a.$$scope={dirty:l,ctx:s}),n.$set(a)},i(s){r||(_(e.$$.fragment,s),_(n.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(n.$$.fragment,s),r=!1},d(s){M(e,s),s&&y(t),M(n,s)}}}function OXe(i){let e,t;return e=new je({props:{icon:SL,slot:"left"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function IXe(i){let e,t,n,r;function s(o){i[13](o)}let l={title:"Toggle People Board"};return i[0].allBoard!==void 0&&(l.value=i[0].allBoard),t=new Oi({props:l}),De.push(()=>Ue(t,"value",s,i[0].allBoard)),{c(){e=A("div"),O(t.$$.fragment),h(e,"slot","right")},m(o,a){w(o,e,a),N(t,e,null),r=!0},p(o,a){const u={};!n&&a&1&&(n=!0,u.value=o[0].allBoard,qe(()=>n=!1)),t.$set(u)},i(o){r||(_(t.$$.fragment,o),r=!0)},o(o){v(t.$$.fragment,o),r=!1},d(o){o&&y(e),M(t)}}}function BXe(i){let e,t;return e=new je({props:{icon:TL,slot:"left"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function zXe(i){let e,t,n,r;function s(o){i[14](o)}let l={title:"Toggle People Board"};return i[0].peopleBoard!==void 0&&(l.value=i[0].peopleBoard),t=new Oi({props:l}),De.push(()=>Ue(t,"value",s,i[0].peopleBoard)),{c(){e=A("div"),O(t.$$.fragment),h(e,"slot","right")},m(o,a){w(o,e,a),N(t,e,null),r=!0},p(o,a){const u={};!n&&a&1&&(n=!0,u.value=o[0].peopleBoard,qe(()=>n=!1)),t.$set(u)},i(o){r||(_(t.$$.fragment,o),r=!0)},o(o){v(t.$$.fragment,o),r=!1},d(o){o&&y(e),M(t)}}}function RXe(i){let e,t;return e=new je({props:{icon:AL,slot:"left"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function jXe(i){let e,t,n,r;function s(o){i[15](o)}let l={title:"Toggle Context Board"};return i[0].contextBoard!==void 0&&(l.value=i[0].contextBoard),t=new Oi({props:l}),De.push(()=>Ue(t,"value",s,i[0].contextBoard)),{c(){e=A("div"),O(t.$$.fragment),h(e,"slot","right")},m(o,a){w(o,e,a),N(t,e,null),r=!0},p(o,a){const u={};!n&&a&1&&(n=!0,u.value=o[0].contextBoard,qe(()=>n=!1)),t.$set(u)},i(o){r||(_(t.$$.fragment,o),r=!0)},o(o){v(t.$$.fragment,o),r=!1},d(o){o&&y(e),M(t)}}}function YXe(i){let e,t,n,r,s,l;return e=new xe({props:{bottomLine:52,title:_e.t("settings.show-all-board","Show All Board"),$$slots:{right:[IXe],left:[OXe]},$$scope:{ctx:i}}}),n=new xe({props:{bottomLine:52,title:_e.t("settings.show-people-board","Show People Board"),$$slots:{right:[zXe],left:[BXe]},$$scope:{ctx:i}}}),s=new xe({props:{bottomLine:52,title:_e.t("settings.show-context-board","Show Context Board"),$$slots:{right:[jXe],left:[RXe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment),t=Y(),O(n.$$.fragment),r=Y(),O(s.$$.fragment)},m(o,a){N(e,o,a),w(o,t,a),N(n,o,a),w(o,r,a),N(s,o,a),l=!0},p(o,a){const u={};a&4194305&&(u.$$scope={dirty:a,ctx:o}),e.$set(u);const c={};a&4194305&&(c.$$scope={dirty:a,ctx:o}),n.$set(c);const f={};a&4194305&&(f.$$scope={dirty:a,ctx:o}),s.$set(f)},i(o){l||(_(e.$$.fragment,o),_(n.$$.fragment,o),_(s.$$.fragment,o),l=!0)},o(o){v(e.$$.fragment,o),v(n.$$.fragment,o),v(s.$$.fragment,o),l=!1},d(o){M(e,o),o&&y(t),M(n,o),o&&y(r),M(s,o)}}}function UXe(i){let e,t;return e=new Si({props:{slot:"left",className:"-ml-1 mr-2",emoji:"\u{1F42D}",size:22}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function qXe(i){let e,t,n,r;function s(o){i[16](o)}let l={title:"Compact Tracker Buttons"};return i[0].compactTrackers!==void 0&&(l.value=i[0].compactTrackers),t=new Oi({props:l}),De.push(()=>Ue(t,"value",s,i[0].compactTrackers)),{c(){e=A("div"),O(t.$$.fragment),h(e,"slot","right")},m(o,a){w(o,e,a),N(t,e,null),r=!0},p(o,a){const u={};!n&&a&1&&(n=!0,u.value=o[0].compactTrackers,qe(()=>n=!1)),t.$set(u)},i(o){r||(_(t.$$.fragment,o),r=!0)},o(o){v(t.$$.fragment,o),r=!1},d(o){o&&y(e),M(t)}}}function HXe(i){let e,t;return e=new Si({props:{slot:"left",className:"-ml-1 mr-2",emoji:"\u{1F4BE}",size:22}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function WXe(i){let e,t,n,r;function s(o){i[17](o)}let l={title:"Hide Backup Message"};return i[0].hideBackupMessage!==void 0&&(l.value=i[0].hideBackupMessage),t=new Oi({props:l}),De.push(()=>Ue(t,"value",s,i[0].hideBackupMessage)),{c(){e=A("div"),O(t.$$.fragment),h(e,"slot","right")},m(o,a){w(o,e,a),N(t,e,null),r=!0},p(o,a){const u={};!n&&a&1&&(n=!0,u.value=o[0].hideBackupMessage,qe(()=>n=!1)),t.$set(u)},i(o){r||(_(t.$$.fragment,o),r=!0)},o(o){v(t.$$.fragment,o),r=!1},d(o){o&&y(e),M(t)}}}function VXe(i){let e,t;return e=new Si({props:{slot:"left",className:"-ml-1 mr-2",emoji:"\u{1F4E2}",size:22}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function GXe(i){let e,t,n,r;function s(o){i[18](o)}let l={title:"Hide Nomie Messages"};return i[0].hideMessages!==void 0&&(l.value=i[0].hideMessages),t=new Oi({props:l}),De.push(()=>Ue(t,"value",s,i[0].hideMessages)),{c(){e=A("div"),O(t.$$.fragment),h(e,"slot","right")},m(o,a){w(o,e,a),N(t,e,null),r=!0},p(o,a){const u={};!n&&a&1&&(n=!0,u.value=o[0].hideMessages,qe(()=>n=!1)),t.$set(u)},i(o){r||(_(t.$$.fragment,o),r=!0)},o(o){v(t.$$.fragment,o),r=!1},d(o){o&&y(e),M(t)}}}function ZXe(i){let e,t,n,r,s,l;return e=new xe({props:{bottomLine:52,title:_e.t("settings.small-tracker-buttons","Compact Trackers"),$$slots:{right:[qXe],left:[UXe]},$$scope:{ctx:i}}}),n=new xe({props:{bottomLine:52,title:_e.t("settings.hide-backup-reminder","Hide Backup Reminder"),$$slots:{right:[WXe],left:[HXe]},$$scope:{ctx:i}}}),s=new xe({props:{bottomLine:52,title:_e.t("settings.hide-message-notifications","Hide Message Alerts"),$$slots:{right:[GXe],left:[VXe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment),t=Y(),O(n.$$.fragment),r=Y(),O(s.$$.fragment)},m(o,a){N(e,o,a),w(o,t,a),N(n,o,a),w(o,r,a),N(s,o,a),l=!0},p(o,a){const u={};a&4194305&&(u.$$scope={dirty:a,ctx:o}),e.$set(u);const c={};a&4194305&&(c.$$scope={dirty:a,ctx:o}),n.$set(c);const f={};a&4194305&&(f.$$scope={dirty:a,ctx:o}),s.$set(f)},i(o){l||(_(e.$$.fragment,o),_(n.$$.fragment,o),_(s.$$.fragment,o),l=!0)},o(o){v(e.$$.fragment,o),v(n.$$.fragment,o),v(s.$$.fragment,o),l=!1},d(o){M(e,o),o&&y(t),M(n,o),o&&y(r),M(s,o)}}}function xXe(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p;return e=new Ft({props:{solo:!0,outside:!0,title:"Customize",$$slots:{default:[wXe]},$$scope:{ctx:i}}}),s=new Ft({props:{solo:!0,$$slots:{default:[LXe]},$$scope:{ctx:i}}}),u=new Ft({props:{solo:!0,$$slots:{default:[YXe]},$$scope:{ctx:i}}}),m=new Ft({props:{solo:!0,$$slots:{default:[ZXe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment),t=Y(),n=A("div"),r=Y(),O(s.$$.fragment),l=Y(),o=A("div"),a=Y(),O(u.$$.fragment),c=Y(),f=A("div"),d=Y(),O(m.$$.fragment),h(n,"class","mb-4"),h(o,"class","mb-4"),h(f,"class","mb-4")},m(g,k){N(e,g,k),w(g,t,k),w(g,n,k),w(g,r,k),N(s,g,k),w(g,l,k),w(g,o,k),w(g,a,k),N(u,g,k),w(g,c,k),w(g,f,k),w(g,d,k),N(m,g,k),p=!0},p(g,[k]){const $={};k&4194307&&($.$$scope={dirty:k,ctx:g}),e.$set($);const D={};k&4194309&&(D.$$scope={dirty:k,ctx:g}),s.$set(D);const F={};k&4194305&&(F.$$scope={dirty:k,ctx:g}),u.$set(F);const C={};k&4194305&&(C.$$scope={dirty:k,ctx:g}),m.$set(C)},i(g){p||(_(e.$$.fragment,g),_(s.$$.fragment,g),_(u.$$.fragment,g),_(m.$$.fragment,g),p=!0)},o(g){v(e.$$.fragment,g),v(s.$$.fragment,g),v(u.$$.fragment,g),v(m.$$.fragment,g),p=!1},d(g){M(e,g),g&&y(t),g&&y(n),g&&y(r),M(s,g),g&&y(l),g&&y(o),g&&y(a),M(u,g),g&&y(c),g&&y(f),g&&y(d),M(m,g)}}}function XXe(i,e,t){let n,r;Ee(i,St,P=>t(0,n=P)),Ee(i,Hn,P=>t(2,r=P));const s=["light","dark","auto"];let l=!1;wt(()=>{n.usePin&&t(1,l=!0)});let o={async lockToggle(P){if(await Fr(100),P===!0){t(1,l=!1);let R=await aR({canClose:!0,isMatch(B){return!0}});R?(wn(St,n.usePin=R,n),un({message:"\u{1F510} Pin Enabled"})):wn(St,n.usePin=void 0,n)}else await Xe.confirm(" Disable Pin?")&&(wn(St,n.usePin=void 0,n),t(1,l=!1),un({message:"\u{1F513} Pin Disabled"}))}};const a=P=>({key:P,value:$o(P),selected:n.startPage==P}),u=P=>{wn(St,n.startPage=P.detail.key,n)};function c(P){i.$$.not_equal(n.alwaysLocate,P)&&(n.alwaysLocate=P,St.set(n))}const f=()=>{o.lockToggle(!1)},d=()=>{o.lockToggle(!0)},m=P=>({key:P,value:$o(P),selected:n.theme==P}),p=P=>{wn(St,n.theme=P.detail.key,n),Tf(n.theme)},g=P=>{QQ(P)};function k(P){i.$$.not_equal(n.allBoard,P)&&(n.allBoard=P,St.set(n))}function $(P){i.$$.not_equal(n.peopleBoard,P)&&(n.peopleBoard=P,St.set(n))}function D(P){i.$$.not_equal(n.contextBoard,P)&&(n.contextBoard=P,St.set(n))}function F(P){i.$$.not_equal(n.compactTrackers,P)&&(n.compactTrackers=P,St.set(n))}function C(P){i.$$.not_equal(n.hideBackupMessage,P)&&(n.hideBackupMessage=P,St.set(n))}function S(P){i.$$.not_equal(n.hideMessages,P)&&(n.hideMessages=P,St.set(n))}return i.$$.update=()=>{i.$$.dirty&1&&(n.usePin||"").length&&t(1,l=!0)},[n,l,r,s,o,a,u,c,f,d,m,p,g,k,$,D,F,C,S]}class KXe extends ce{constructor(e){super(),ue(this,e,XXe,xXe,le,{})}}function EA(i,e,t){const n=i.slice();return n[2]=e[t],n[4]=t,n}function JXe(i){let e;return{c(){e=A("div"),e.textContent="\u{1F947}",h(e,"slot","left")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function QXe(i){let e;return{c(){e=Z("None")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function eKe(i){let e,t=i[0],n=[];for(let r=0;r<t.length;r+=1)n[r]=DA(EA(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=$e()},m(r,s){for(let l=0;l<n.length;l+=1)n[l].m(r,s);w(r,e,s)},p(r,s){if(s&1){t=r[0];let l;for(l=0;l<t.length;l+=1){const o=EA(r,t,l);n[l]?n[l].p(o,s):(n[l]=DA(o),n[l].c(),n[l].m(e.parentNode,e))}for(;l<n.length;l+=1)n[l].d(1);n.length=t.length}},d(r){it(n,r),r&&y(e)}}}function DA(i){let e,t;return{c(){e=A("img"),h(e,"alt","award"),Xi(e.src,t=`/images/awards/${i[2].id}.svg`)||h(e,"src",t),h(e,"class","h-4 w-4")},m(n,r){w(n,e,r)},p(n,r){r&1&&!Xi(e.src,t=`/images/awards/${n[2].id}.svg`)&&h(e,"src",t)},d(n){n&&y(e)}}}function tKe(i){let e;function t(s,l){return s[0].length?eKe:QXe}let n=t(i),r=n(i);return{c(){e=A("div"),r.c(),h(e,"slot","right"),h(e,"class","flex items-center space-x-1")},m(s,l){w(s,e,l),r.m(e,null)},p(s,l){n===(n=t(s))&&r?r.p(s,l):(r.d(1),r=n(s),r&&(r.c(),r.m(e,null)))},d(s){s&&y(e),r.d()}}}function nKe(i){let e,t;return e=new xe({props:{title:"Awards",detail:!0,to:"/awards",$$slots:{right:[tKe],left:[JXe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&33&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function iKe(i,e,t){let n,r;return Ee(i,zr,s=>t(1,r=s)),i.$$.update=()=>{i.$$.dirty&2&&t(0,n=r.awards.sort((s,l)=>l.timestamp>s.timestamp?1:-1).filter((s,l)=>l<4))},[n,r]}class rKe extends ce{constructor(e){super(),ue(this,e,iKe,nKe,le,{})}}function CA(i,e,t){const n=i.slice();return n[3]=e[t],n}function sKe(i){let e,t=i[3].emoji+"",n;return{c(){e=A("span"),n=Z(t),h(e,"slot","left")},m(r,s){w(r,e,s),E(e,n)},p(r,s){s&1&&t!==(t=r[3].emoji+"")&&oe(n,t)},d(r){r&&y(e)}}}function SA(i){let e,t;function n(){return i[2](i[3])}return e=new xe({props:{detail:!0,bottomLine:16,title:i[3].name,$$slots:{left:[sKe]},$$scope:{ctx:i}}}),e.$on("click",n),{c(){O(e.$$.fragment)},m(r,s){N(e,r,s),t=!0},p(r,s){i=r;const l={};s&1&&(l.title=i[3].name),s&65&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){M(e,r)}}}function lKe(i){let e,t,n=i[0],r=[];for(let l=0;l<n.length;l+=1)r[l]=SA(CA(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=$e()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,[o]){if(o&1){n=l[0];let a;for(a=0;a<n.length;a+=1){const u=CA(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=SA(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ie(),a=n.length;a<r.length;a+=1)s(a);re()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){it(r,l),l&&y(e)}}}function oKe(i,e,t){let n;Ee(i,Er,l=>t(1,n=l));let r=[];const s=l=>Jv(l);return i.$$.update=()=>{i.$$.dirty&2&&n&&t(0,r=n.filter(l=>l.addToMoreMenu&&l.active))},[r,n,s]}class aKe extends ce{constructor(e){super(),ue(this,e,oKe,lKe,le,{})}}function uKe(i){let e,t,n,r,s,l;return s=new EP({}),{c(){e=A("div"),t=A("a"),n=A("span"),n.textContent=`${_e.t("general.feedback","Feedback")}`,r=Y(),O(s.$$.fragment),h(t,"title","Find a bug? Want to provide feedback?"),h(t,"href","https://airtable.com/shrY9p9UJjC1PMMbI"),h(t,"class","font-semibold text-black dark:text-white text-sm flex items-center space-x-2"),h(t,"target","_blank"),h(e,"slot","right")},m(o,a){w(o,e,a),E(e,t),E(t,n),E(t,r),N(s,t,null),l=!0},p:W,i(o){l||(_(s.$$.fragment,o),l=!0)},o(o){v(s.$$.fragment,o),l=!1},d(o){o&&y(e),M(s)}}}function cKe(i){let e,t;return e=new Jt({props:{$$slots:{right:[uKe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&512&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function fKe(i){let e,t,n;return t=new Vn({props:{$$slots:{default:[cKe]},$$scope:{ctx:i}}}),{c(){e=A("div"),O(t.$$.fragment),h(e,"slot","header"),h(e,"class","z-40")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p(r,s){const l={};s&512&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function TA(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p,g,k,$,D,F,C,S,P,I,R,B,z,q,H,K,G,U,Q,V=we().format("YYYY")+"",x,ee,J,se;return s=new Ft({props:{solo:!0,outside:!0,$$slots:{default:[dKe]},$$scope:{ctx:i}}}),o=new Ft({props:{solo:!0,className:"mt-4",$$slots:{default:[mKe]},$$scope:{ctx:i}}}),u=new Ft({props:{solo:!0,className:"mt-4",$$slots:{default:[_Ke]},$$scope:{ctx:i}}}),m=new nxe({}),m.$on("showImporter",i[6]),g=new KXe({}),$=new kZe({}),F=new Ft({props:{solo:!0,className:"mt-4",$$slots:{default:[kKe]},$$scope:{ctx:i}}}),I=new xxe({}),B=new oR({props:{gap:1}}),{c(){e=A("div"),t=A("div"),n=A("div"),r=Y(),O(s.$$.fragment),l=Y(),O(o.$$.fragment),a=Y(),O(u.$$.fragment),c=Y(),f=A("div"),d=Y(),O(m.$$.fragment),p=Y(),O(g.$$.fragment),k=Y(),O($.$$.fragment),D=Y(),O(F.$$.fragment),C=Y(),S=A("div"),P=Y(),O(I.$$.fragment),R=Y(),O(B.$$.fragment),z=Y(),q=A("button"),H=A("div"),H.textContent="Version v6.1",K=Y(),G=A("div"),U=A("strong"),U.textContent="Happy Data",Q=Z(", LLC \xA9 Copyright 2014 - "),x=Z(V),h(n,"id","settings-marker"),h(f,"id","data-marker"),h(S,"id","about-marker"),h(H,"class","text-sm text-black dark:text-white"),h(G,"class","text-xs text-gray-800 dark:text-gray-500"),h(q,"class","w-full px-4 mt-4 mb-3 text-sm text-center "),h(t,"class","p-0 pt-4"),h(e,"class","page page-settings")},m(te,ge){w(te,e,ge),E(e,t),E(t,n),E(t,r),N(s,t,null),E(t,l),N(o,t,null),E(t,a),N(u,t,null),E(t,c),E(t,f),E(t,d),N(m,t,null),E(t,p),N(g,t,null),E(t,k),N($,t,null),E(t,D),N(F,t,null),E(t,C),E(t,S),E(t,P),N(I,t,null),E(t,R),N(B,t,null),E(t,z),E(t,q),E(q,H),E(q,K),E(q,G),E(G,U),E(G,Q),E(G,x),ee=!0,J||(se=ke(q,"click",i[1]),J=!0)},p(te,ge){const ae={};ge&512&&(ae.$$scope={dirty:ge,ctx:te}),s.$set(ae);const ve={};ge&512&&(ve.$$scope={dirty:ge,ctx:te}),o.$set(ve);const Te={};ge&512&&(Te.$$scope={dirty:ge,ctx:te}),u.$set(Te);const Pe={};ge&512&&(Pe.$$scope={dirty:ge,ctx:te}),F.$set(Pe)},i(te){ee||(_(s.$$.fragment,te),_(o.$$.fragment,te),_(u.$$.fragment,te),_(m.$$.fragment,te),_(g.$$.fragment,te),_($.$$.fragment,te),_(F.$$.fragment,te),_(I.$$.fragment,te),_(B.$$.fragment,te),ee=!0)},o(te){v(s.$$.fragment,te),v(o.$$.fragment,te),v(u.$$.fragment,te),v(m.$$.fragment,te),v(g.$$.fragment,te),v($.$$.fragment,te),v(F.$$.fragment,te),v(I.$$.fragment,te),v(B.$$.fragment,te),ee=!1},d(te){te&&y(e),M(s),M(o),M(u),M(m),M(g),M($),M(F),M(I),M(B),J=!1,se()}}}function dKe(i){let e,t;return e=new rKe({}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function hKe(i){let e;return{c(){e=A("span"),e.textContent="\u{1F50C}",h(e,"slot","left")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function mKe(i){let e,t,n,r;return e=new xe({props:{detail:!0,bottomLine:16,title:"Plugins",$$slots:{left:[hKe]},$$scope:{ctx:i}}}),e.$on("click",i[4]),n=new aKe({}),{c(){O(e.$$.fragment),t=Y(),O(n.$$.fragment)},m(s,l){N(e,s,l),w(s,t,l),N(n,s,l),r=!0},p(s,l){const o={};l&512&&(o.$$scope={dirty:l,ctx:s}),e.$set(o)},i(s){r||(_(e.$$.fragment,s),_(n.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(n.$$.fragment,s),r=!1},d(s){M(e,s),s&&y(t),M(n,s)}}}function pKe(i){let e;return{c(){e=A("span"),e.textContent="\u{1F3ED}",h(e,"slot","left")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function _Ke(i){let e,t;return e=new xe({props:{detail:!0,bottomLine:16,title:"Templates",$$slots:{left:[pKe]},$$scope:{ctx:i}}}),e.$on("click",i[5]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&512&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function gKe(i){let e;return{c(){e=A("span"),e.textContent="\u{1F198}",h(e,"slot","left")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function vKe(i){let e;return{c(){e=Z("Email")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function bKe(i){let e,t,n,r;return n=new lu({props:{pad:!0,className:"bg-gray-300 text-black",$$slots:{default:[vKe]},$$scope:{ctx:i}}}),{c(){e=A("div"),t=A("a"),O(n.$$.fragment),h(t,"href",`mailto:${or.support_email}?subject=Nomie ${Ya} `),h(e,"slot","right")},m(s,l){w(s,e,l),E(e,t),N(n,t,null),r=!0},p(s,l){const o={};l&512&&(o.$$scope={dirty:l,ctx:s}),n.$set(o)},i(s){r||(_(n.$$.fragment,s),r=!0)},o(s){v(n.$$.fragment,s),r=!1},d(s){s&&y(e),M(n)}}}function kKe(i){let e,t;return e=new xe({props:{title:_e.t("general.questions","Questions"),detail:!0,$$slots:{right:[bKe],left:[gKe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&512&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function yKe(i){let e=_e.t("settings.destroy-all-data","Destroy all Data")+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p:W,d(n){n&&y(t)}}}function wKe(i){let e,t;return e=new Di({props:{className:"text-red",$$slots:{default:[yKe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&512&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function $Ke(i){let e,t;return e=new xe({props:{detail:!0,clickable:!0,$$slots:{default:[wKe]},$$scope:{ctx:i}}}),e.$on("click",Pie),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&512&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function FKe(i){let e,t,n,r=i[0]&&TA(i);return t=new Ft({props:{solo:!0,className:"mb-3",outside:!0,title:_e.t("settings.danger-zone","Danger Zone"),$$slots:{default:[$Ke]},$$scope:{ctx:i}}}),{c(){r&&r.c(),e=Y(),O(t.$$.fragment)},m(s,l){r&&r.m(s,l),w(s,e,l),N(t,s,l),n=!0},p(s,l){s[0]?r?(r.p(s,l),l&1&&_(r,1)):(r=TA(s),r.c(),_(r,1),r.m(e.parentNode,e)):r&&(ie(),v(r,1,1,()=>{r=null}),re());const o={};l&512&&(o.$$scope={dirty:l,ctx:s}),t.$set(o)},i(s){n||(_(r),_(t.$$.fragment,s),n=!0)},o(s){v(r),v(t.$$.fragment,s),n=!1},d(s){r&&r.d(s),s&&y(e),M(t,s)}}}function EKe(i){let e,t,n;return t=new Vn({props:{$$slots:{default:[FKe]},$$scope:{ctx:i}}}),{c(){e=A("div"),O(t.$$.fragment),h(e,"slot","content"),h(e,"class","pt-2 z-10 relative lg:px-4")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p(r,s){const l={};s&513&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function DKe(i){let e,t;return e=new Tr({props:{pageTitle:"Settings",showCapture:!1,$$slots:{content:[EKe],header:[fKe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&513&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function CKe(i,e,t){let n;Ee(i,St,d=>t(0,n=d));const r=void 0,s=void 0;let l=0;async function o(){l=l+1,l>9&&a.unlockFeatures()}let a={share(){tR("I track my life with Nomie! It's free, private, and you get to design what you track. @nomieapp","https://nomie.app")},async unlockFeatures(){qW(),Xe.confetti({show:!0}),un({type:"success",message:"\u{1F381}  Secret Beta Features Unlocked"})},locations(){Xe.pickLocation()},bookAge(d){return we(`${d}-01`).fromNow()},faq(){nl("/faq")},shop(){nl("/shop")}};return wt(()=>{Hn.scrollToTop()}),[n,o,r,s,()=>LO(),()=>X4e(),()=>{ab()}]}class SKe extends ce{constructor(e){super(),ue(this,e,CKe,DKe,le,{location:2,style:3})}get location(){return this.$$.ctx[2]}get style(){return this.$$.ctx[3]}}function TKe(i){let e,t;return e=new SKe({}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function AKe(i,e,t){return[void 0,void 0]}class PKe extends ce{constructor(e){super(),ue(this,e,AKe,TKe,le,{location:0,style:1})}get location(){return this.$$.ctx[0]}get style(){return this.$$.ctx[1]}}function NKe(i){let e,t,n,r,s;return t=new oR({props:{gap:4}}),r=new Gn({props:{title:_e.t("export.export-date","Create a Backup"),description:_e.t("export.backup-description","Export all your data as a single readable JSON file. This can be used to restore Nomie, or to inspect with your own programs."),emoji:"\u{1F4E6}",buttonLabel:_e.t("export.backup-download","Download Backup"),buttonClick:i[0].export}}),{c(){e=A("div"),O(t.$$.fragment),n=Y(),O(r.$$.fragment),h(e,"class","backup")},m(l,o){w(l,e,o),N(t,e,null),E(e,n),N(r,e,null),s=!0},p:W,i(l){s||(_(t.$$.fragment,l),_(r.$$.fragment,l),s=!0)},o(l){v(t.$$.fragment,l),v(r.$$.fragment,l),s=!1},d(l){l&&y(e),M(t),M(r)}}}function MKe(i){let e;return{c(){e=A("h1"),e.textContent="Generate Backup",h(e,"class","ntitle")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function LKe(i){let e,t;return e=new Uc({props:{slot:"left"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function OKe(i){let e,t;return e=new Jt({props:{slot:"header",$$slots:{left:[LKe],default:[MKe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function IKe(i){let e,t;return e=new Tr({props:{pageTitle:"Export your Data",className:"Export",$$slots:{header:[OKe],default:[NKe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&2&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function BKe(i){const e={export(){}};return wt(()=>{}),[e]}class zKe extends ce{constructor(e){super(),ue(this,e,BKe,IKe,le,{})}}function AA(i){let e,t;return e=new Gn({props:{$$slots:{default:[RKe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function RKe(i){let e,t;return e=new Mn({props:{size:32}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function jKe(i){let e,t,n,r,s,l=i[1]&&AA(i);return r=new Xv({props:{source:i[2]}}),{c(){e=A("div"),l&&l.c(),t=Y(),n=A("div"),O(r.$$.fragment),h(n,"class","prose sm px-4 dark:text-white max-w-screen-lg mx-auto"),h(e,"class","min-h-full pt-4 pb-6 bg-white dark:bg-gray-900")},m(o,a){w(o,e,a),l&&l.m(e,null),E(e,t),E(e,n),N(r,n,null),s=!0},p(o,a){o[1]?l?a&2&&_(l,1):(l=AA(o),l.c(),_(l,1),l.m(e,t)):l&&(ie(),v(l,1,1,()=>{l=null}),re());const u={};a&4&&(u.source=o[2]),r.$set(u)},i(o){s||(_(l),_(r.$$.fragment,o),s=!0)},o(o){v(l),v(r.$$.fragment,o),s=!1},d(o){o&&y(e),l&&l.d(),M(r)}}}function YKe(i){let e,t=i[0].title+"",n;return{c(){e=A("h2"),n=Z(t),h(e,"class","text-black dark:text-white text-sm line-clamp-1 font-bold text-center")},m(r,s){w(r,e,s),E(e,n)},p(r,s){s&1&&t!==(t=r[0].title+"")&&oe(n,t)},d(r){r&&y(e)}}}function UKe(i){let e,t;return e=new je({props:{icon:gl,size:28}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function qKe(i){let e,t;return e=new Me({props:{slot:"left",primary:!0,icon:!0,$$slots:{default:[UKe]},$$scope:{ctx:i}}}),e.$on("click",i[3]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&128&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function HKe(i){let e;return{c(){e=A("span"),e.textContent="Reply",h(e,"class","text-sm")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function WKe(i){let e,t;return e=new Me({props:{slot:"right",primary:!0,size:"sm",clear:!0,$$slots:{default:[HKe]},$$scope:{ctx:i}}}),e.$on("click",i[5]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&128&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function VKe(i){let e,t;return e=new Jt({props:{slot:"header",className:"dark:bg-gray-900 bg-white",$$slots:{right:[WKe],left:[qKe],default:[YKe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&129&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function GKe(i){let e,t;return e=new _n({props:{className:"min-h-75vh",$$slots:{header:[VKe],default:[jKe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&135&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function ZKe(i,e,t){let n=!0,r,{id:s}=e,{props:l}=e;const o=async()=>{t(1,n=!0);const f=await(await fetch(l.path)).text();t(2,r=f),t(1,n=!1)};wt(()=>{o()});const a=()=>{Ot(s)},u=()=>{LJ("support@happydata.org",`RE: ${l.title}`,"")};return i.$$set=c=>{"id"in c&&t(4,s=c.id),"props"in c&&t(0,l=c.props)},[l,n,r,a,s,u]}class xKe extends ce{constructor(e){super(),ue(this,e,ZKe,GKe,le,{id:4,props:0})}}const uR=i=>{en({id:`markdown-${Fn(i.path)}`,component:xKe,position:"fullscreen",componentProps:{props:i}})},XKe=()=>{uR({title:"Terms of Service",path:"/content/terms.md"})},KKe=()=>{uR({title:"Privacy Policy",path:"/content/privacy.md"})};function JKe(i){let e;return{c(){e=A("p"),e.textContent="\u{1F44B} Nomie has been updated.",h(e,"class","text-2xl leading-none font-extrabold text-center md:text-3xl text-black dark:text-white")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function QKe(i){let e;return{c(){e=A("p"),e.textContent="Daily Journal for short attention spans.",h(e,"class","text-2xl leading-none font-extrabold text-center md:text-3xl text-black dark:text-white")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function eJe(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p,g,k,$;n=new rR({props:{size:32}});function D(S,P){return S[0].storageType?JKe:QKe}let F=D(i),C=F(i);return{c(){e=A("div"),t=A("div"),O(n.$$.fragment),r=Y(),C.c(),s=Y(),l=A("div"),o=A("p"),o.textContent=`Nomie is a super fast, and super private way to journal, collect your life's data, and reflect on your life's
        direction.`,a=Y(),u=A("p"),c=Z(`By continuing, you agree to the
        `),f=A("button"),f.textContent="Privacy Policy",d=Z(` and
        `),m=A("button"),m.textContent="Terms of Service",p=Z("."),nt(o,"font-size","0.6rem"),h(o,"class","mt-4 lg:text-sm text-center text-gray-700 dark:text-gray-400"),h(f,"class","inline-flex underline"),h(m,"class","inline-flex underline"),nt(u,"font-size","0.6rem"),h(u,"class","mt-1 lg:text-sm text-center text-gray-700 dark:text-gray-400"),h(t,"class","max-w-xl flex items-center justify-center flex-col space-y-4"),h(e,"class","flex flex-col px-6 py-4 min-h-fill justify-center items-center -mt-4")},m(S,P){w(S,e,P),E(e,t),N(n,t,null),E(t,r),C.m(t,null),E(t,s),E(t,l),E(l,o),E(l,a),E(l,u),E(u,c),E(u,f),E(u,d),E(u,m),E(u,p),g=!0,k||($=[ke(f,"click",KKe),ke(m,"click",XKe)],k=!0)},p(S,[P]){F!==(F=D(S))&&(C.d(1),C=F(S),C&&(C.c(),C.m(t,s)))},i(S){g||(_(n.$$.fragment,S),g=!0)},o(S){v(n.$$.fragment,S),g=!1},d(S){S&&y(e),M(n),C.d(),k=!1,pt($)}}}function tJe(i,e,t){let n;return Ee(i,St,r=>t(0,n=r)),[n]}class nJe extends ce{constructor(e){super(),ue(this,e,tJe,eJe,le,{})}}function iJe(i){let e;return{c(){e=Z("Tap Safari's Share Icon")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function rJe(i){let e;return{c(){e=A("span"),e.textContent="1.",h(e,"slot","left"),h(e,"class","text-lg font-extrabold")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function sJe(i){let e,t;return e=new je({props:{slot:"right",icon:eH,className:"text-gray-500"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function lJe(i){let e,t;return{c(){e=Z("Scroll to & select "),t=A("strong"),t.textContent='"Add to Home Screen"'},m(n,r){w(n,e,r),w(n,t,r)},p:W,d(n){n&&y(e),n&&y(t)}}}function oJe(i){let e;return{c(){e=A("span"),e.textContent="2.",h(e,"slot","left"),h(e,"class","text-lg font-extrabold")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function aJe(i){let e,t;return e=new je({props:{slot:"right",icon:Hq,className:"text-gray-500"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function uJe(i){let e;return{c(){e=Z("When added, go to your Home Screen and launch Nomie 6")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function cJe(i){let e;return{c(){e=A("span"),e.textContent="3.",h(e,"slot","left"),h(e,"class","text-lg font-extrabold")},m(t,n){w(t,e,n)},p:W,d(t){t&&y(e)}}}function fJe(i){let e,t,n,r,s,l;return e=new xe({props:{bottomLine:48,$$slots:{right:[sJe],left:[rJe],default:[iJe]},$$scope:{ctx:i}}}),n=new xe({props:{bottomLine:48,$$slots:{right:[aJe],left:[oJe],default:[lJe]},$$scope:{ctx:i}}}),s=new xe({props:{$$slots:{left:[cJe],default:[uJe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment),t=Y(),O(n.$$.fragment),r=Y(),O(s.$$.fragment)},m(o,a){N(e,o,a),w(o,t,a),N(n,o,a),w(o,r,a),N(s,o,a),l=!0},p(o,a){const u={};a&1&&(u.$$scope={dirty:a,ctx:o}),e.$set(u);const c={};a&1&&(c.$$scope={dirty:a,ctx:o}),n.$set(c);const f={};a&1&&(f.$$scope={dirty:a,ctx:o}),s.$set(f)},i(o){l||(_(e.$$.fragment,o),_(n.$$.fragment,o),_(s.$$.fragment,o),l=!0)},o(o){v(e.$$.fragment,o),v(n.$$.fragment,o),v(s.$$.fragment,o),l=!1},d(o){M(e,o),o&&y(t),M(n,o),o&&y(r),M(s,o)}}}function dJe(i){let e,t,n,r,s;return r=new Ft({props:{solo:!0,$$slots:{default:[fJe]},$$scope:{ctx:i}}}),{c(){e=A("p"),e.textContent="\u{1F525} WAIT! For the best experience, install me on your iOS homescreen! \u{1F4F2}",t=Y(),n=A("div"),O(r.$$.fragment),h(e,"class","px-10 mb-10 text-center text-xl leading-tight text-gray-800 dark:text-gray-200 font-bold"),h(n,"class","px-2")},m(l,o){w(l,e,o),w(l,t,o),w(l,n,o),N(r,n,null),s=!0},p(l,o){const a={};o&1&&(a.$$scope={dirty:o,ctx:l}),r.$set(a)},i(l){s||(_(r.$$.fragment,l),s=!0)},o(l){v(r.$$.fragment,l),s=!1},d(l){l&&y(e),l&&y(t),l&&y(n),M(r)}}}function hJe(i){let e,t;return e=new Vn({props:{className:"filler  flex items-center justify-center  flex-col px-2 slide-location -mt-14",$$slots:{default:[dJe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&1&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}class PA extends ce{constructor(e){super(),ue(this,e,null,hJe,le,{})}}function mJe(i){let e=we().format("h:mma")+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p:W,d(n){n&&y(t)}}}function pJe(i){let e=we().format("HH:mm")+"",t;return{c(){t=Z(e)},m(n,r){w(n,t,r)},p:W,d(n){n&&y(t)}}}function _Je(i){let e;return{c(){e=Z("10 lbs")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function gJe(i){let e;return{c(){e=Z("4.5 kg")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function vJe(i){let e;return{c(){e=Z("Sun")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function bJe(i){let e;return{c(){e=Z("Mon")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function kJe(i){let e;return{c(){e=Z("Disabled")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function yJe(i){let e;return{c(){e=Z("Enabled")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function wJe(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p,g,k,$,D,F,C,S,P,I,R,B,z,q,H,K;return s=new Me({props:{className:"whitespace-no-wrap "+(i[0].use24hour?"bg-white dark:bg-black text-gray-500":"bg-primary text-white font-bold"),block:!0,size:"md",type:"clear",delay:20,$$slots:{default:[mJe]},$$scope:{ctx:i}}}),s.$on("click",i[1]),o=new Me({props:{className:"whitespace-nowrap "+(i[0].use24hour?"bg-primary text-white font-bold":"bg-white dark:bg-black text-gray-500"),type:"clear",block:!0,size:"md",delay:20,$$slots:{default:[pJe]},$$scope:{ctx:i}}}),o.$on("click",i[2]),c=new Me({props:{className:i[0].useMetric?"bg-white dark:bg-black text-gray-500":"bg-primary text-white font-bold",block:!0,size:"md",type:"clear",delay:20,$$slots:{default:[_Je]},$$scope:{ctx:i}}}),c.$on("click",i[3]),d=new Me({props:{className:" "+(i[0].useMetric?"bg-primary text-white font-bold":"bg-white dark:bg-black text-gray-500"),type:"clear",block:!0,size:"md",delay:20,$$slots:{default:[gJe]},$$scope:{ctx:i}}}),d.$on("click",i[4]),$=new Me({props:{className:i[0].weekStarts=="sunday"?"bg-primary text-white font-bold":"bg-white dark:bg-black text-gray-500",block:!0,size:"md",type:"clear",delay:20,$$slots:{default:[vJe]},$$scope:{ctx:i}}}),$.$on("click",i[5]),F=new Me({props:{className:" "+(i[0].weekStarts=="monday"?"bg-primary text-white font-bold":"bg-white dark:bg-black text-gray-500"),type:"clear",block:!0,size:"md",delay:20,$$slots:{default:[bJe]},$$scope:{ctx:i}}}),F.$on("click",i[6]),I=new lu({props:{value:"?"}}),I.$on("click",i[7]),z=new Me({props:{className:"whitespace-no-wrap "+(i[0].alwaysLocate?"bg-white dark:bg-black text-gray-500":"bg-primary text-white font-bold"),block:!0,size:"md",type:"clear",delay:20,$$slots:{default:[kJe]},$$scope:{ctx:i}}}),z.$on("click",i[8]),H=new Me({props:{className:"whitespace-nowrap "+(i[0].alwaysLocate?"bg-primary text-white font-bold":"bg-white dark:bg-black text-gray-500"),type:"clear",block:!0,size:"md",delay:20,$$slots:{default:[yJe]},$$scope:{ctx:i}}}),H.$on("click",i[9]),{c(){e=A("div"),t=A("p"),t.textContent="Which looks right?",n=Y(),r=A("div"),O(s.$$.fragment),l=Y(),O(o.$$.fragment),a=Y(),u=A("div"),O(c.$$.fragment),f=Y(),O(d.$$.fragment),m=Y(),p=A("p"),p.textContent="Week Starts On:",g=Y(),k=A("div"),O($.$$.fragment),D=Y(),O(F.$$.fragment),C=Y(),S=A("p"),P=Z("Location Tracking "),O(I.$$.fragment),R=Y(),B=A("div"),O(z.$$.fragment),q=Y(),O(H.$$.fragment),h(t,"class","mb-4 text-gray-500 dark:text-gray-400 text-center text-sm"),h(r,"class","big-group p-2 bg-white dark:bg-black flex items-center shadow-lg rounded-2xl"),h(u,"class","big-group p-2 mt-4 bg-white dark:bg-black flex items-center shadow-lg rounded-2xl"),h(p,"class","mt-4 mb-1 text-gray-500 dark:text-gray-400 text-center text-sm"),h(k,"class","big-group p-2 mt-2 bg-white dark:bg-black flex items-center shadow-lg rounded-2xl"),h(S,"class","mt-4 mb-1 text-gray-500 dark:text-gray-400 text-center text-sm"),h(B,"class","big-group p-2 bg-white dark:bg-black flex items-center shadow-lg rounded-2xl"),h(e,"class","pt-3 mx-auto top center-grow min-w-full max-w-xl")},m(G,U){w(G,e,U),E(e,t),E(e,n),E(e,r),N(s,r,null),E(r,l),N(o,r,null),E(e,a),E(e,u),N(c,u,null),E(u,f),N(d,u,null),E(e,m),E(e,p),E(e,g),E(e,k),N($,k,null),E(k,D),N(F,k,null),E(e,C),E(e,S),E(S,P),N(I,S,null),E(e,R),E(e,B),N(z,B,null),E(B,q),N(H,B,null),K=!0},p(G,U){const Q={};U&1&&(Q.className="whitespace-no-wrap "+(G[0].use24hour?"bg-white dark:bg-black text-gray-500":"bg-primary text-white font-bold")),U&2048&&(Q.$$scope={dirty:U,ctx:G}),s.$set(Q);const V={};U&1&&(V.className="whitespace-nowrap "+(G[0].use24hour?"bg-primary text-white font-bold":"bg-white dark:bg-black text-gray-500")),U&2048&&(V.$$scope={dirty:U,ctx:G}),o.$set(V);const x={};U&1&&(x.className=G[0].useMetric?"bg-white dark:bg-black text-gray-500":"bg-primary text-white font-bold"),U&2048&&(x.$$scope={dirty:U,ctx:G}),c.$set(x);const ee={};U&1&&(ee.className=" "+(G[0].useMetric?"bg-primary text-white font-bold":"bg-white dark:bg-black text-gray-500")),U&2048&&(ee.$$scope={dirty:U,ctx:G}),d.$set(ee);const J={};U&1&&(J.className=G[0].weekStarts=="sunday"?"bg-primary text-white font-bold":"bg-white dark:bg-black text-gray-500"),U&2048&&(J.$$scope={dirty:U,ctx:G}),$.$set(J);const se={};U&1&&(se.className=" "+(G[0].weekStarts=="monday"?"bg-primary text-white font-bold":"bg-white dark:bg-black text-gray-500")),U&2048&&(se.$$scope={dirty:U,ctx:G}),F.$set(se);const te={};U&1&&(te.className="whitespace-no-wrap "+(G[0].alwaysLocate?"bg-white dark:bg-black text-gray-500":"bg-primary text-white font-bold")),U&2048&&(te.$$scope={dirty:U,ctx:G}),z.$set(te);const ge={};U&1&&(ge.className="whitespace-nowrap "+(G[0].alwaysLocate?"bg-primary text-white font-bold":"bg-white dark:bg-black text-gray-500")),U&2048&&(ge.$$scope={dirty:U,ctx:G}),H.$set(ge)},i(G){K||(_(s.$$.fragment,G),_(o.$$.fragment,G),_(c.$$.fragment,G),_(d.$$.fragment,G),_($.$$.fragment,G),_(F.$$.fragment,G),_(I.$$.fragment,G),_(z.$$.fragment,G),_(H.$$.fragment,G),K=!0)},o(G){v(s.$$.fragment,G),v(o.$$.fragment,G),v(c.$$.fragment,G),v(d.$$.fragment,G),v($.$$.fragment,G),v(F.$$.fragment,G),v(I.$$.fragment,G),v(z.$$.fragment,G),v(H.$$.fragment,G),K=!1},d(G){G&&y(e),M(s),M(o),M(c),M(d),M($),M(F),M(I),M(z),M(H)}}}function $Je(i){let e,t;return e=new Vn({props:{className:"filler px-5 flex items-center justify-center flex-col slide-location -mt-10",$$slots:{default:[wJe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&2049&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function FJe(i,e,t){let n;Ee(i,St,p=>t(0,n=p));let r=!1;return wt(()=>{r||(new Date(new Date().setHours(20)).toLocaleTimeString().search("PM")===-1&&(wn(St,n.use24hour=!0,n),wn(St,n.useMetric=!0,n),wn(St,n.weekStarts="monday",n)),r=!0)}),[n,()=>{wn(St,n.use24hour=!1,n)},()=>{wn(St,n.use24hour=!0,n)},()=>{wn(St,n.useMetric=!1,n)},()=>{wn(St,n.useMetric=!0,n)},()=>{wn(St,n.weekStarts="sunday",n)},()=>{wn(St,n.weekStarts="monday",n)},()=>{Xe.alert("Location Tracking","Have Nomie save your current location (lat,long) each time you record data.")},()=>{wn(St,n.alwaysLocate=!1,n)},()=>{wn(St,n.alwaysLocate=!0,n)}]}class EJe extends ce{constructor(e){super(),ue(this,e,FJe,$Je,le,{})}}function DJe(i){let e;return{c(){e=Z("Show Advanced")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function CJe(i){let e;return{c(){e=Z("Hide Advanced")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function SJe(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p,g,k;a=new Zb({props:{size:"sm",className:"border border-gray-500 border-opacity-20",buttons:i[1]}});function $(C,S){return C[0]?CJe:DJe}let D=$(i),F=D(i);return{c(){e=A("div"),t=A("h1"),t.textContent="Data Storage",n=Y(),r=A("p"),r.textContent="Where would you like your data stored?",s=Y(),l=A("div"),o=Y(),O(a.$$.fragment),u=Y(),c=A("div"),f=A("button"),F.c(),d=Y(),m=A("div"),h(t,"class","leading-tight dark:text-white text-center font-bold px-4 text-xl"),h(r,"class","text-description text-center text-sm pt-1 px-1"),h(l,"class","h-4"),h(f,"class","nbtn-badge bg-gray-500 bg-opacity-10 text-gray-600 dark:text-gray-300 text-xs"),h(c,"class","flex items-center justify-center pt-4"),h(m,"class","h-20"),h(e,"class","max-w-screen-lg mx-auto pt-6")},m(C,S){w(C,e,S),E(e,t),E(e,n),E(e,r),E(e,s),E(e,l),E(e,o),N(a,e,null),E(e,u),E(e,c),E(c,f),F.m(f,null),E(e,d),E(e,m),p=!0,g||(k=ke(f,"click",i[4]),g=!0)},p(C,S){const P={};S&2&&(P.buttons=C[1]),a.$set(P),D!==(D=$(C))&&(F.d(1),F=D(C),F&&(F.c(),F.m(f,null)))},i(C){p||(_(a.$$.fragment,C),p=!0)},o(C){v(a.$$.fragment,C),p=!1},d(C){C&&y(e),M(a),F.d(),g=!1,k()}}}function TJe(i){let e,t;return e=new Vn({props:{className:"filler  flex items-center lg:justify-center flex-col pt-3 px-5 slide-storage ",$$slots:{default:[SJe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&67&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function AJe(i,e,t){let n;Ee(i,St,u=>t(3,n=u));const r=Op;let s="local";s=n.storageType;let l=!1,o=[];const a=()=>{t(0,l=!l)};return i.$$.update=()=>{i.$$.dirty&15&&(t(1,o=r.map(u=>({title:u.name,id:u.id,disabled:["firebase","s3"].indexOf(u.id)>-1&&!n.betaFeatures,description:`${u.description}  ${u.price}`,checked:`${s}`==`${u.id}`,click(){t(2,s=u.id),wn(St,n.storageType=s,n)}})).filter(u=>l?!0:u.id!=="pouchdb")),t(1,o),t(3,n),t(2,s),t(0,l))},[l,o,s,n,a]}class Ug extends ce{constructor(e){super(),ue(this,e,AJe,TJe,le,{})}}function NA(i,e,t){const n=i.slice();return n[4]=e[t],n}function MA(i,e,t){const n=i.slice();return n[4]=e[t],n}function PJe(i){let e=i[4].title+"",t,n;return{c(){t=Z(e),n=Y()},m(r,s){w(r,t,s),w(r,n,s)},p(r,s){s&1&&e!==(e=r[4].title+"")&&oe(t,e)},d(r){r&&y(t),r&&y(n)}}}function LA(i){let e,t;function n(){return i[2](i[4])}return e=new xe({props:{detail:!0,bottomLine:16,$$slots:{default:[PJe]},$$scope:{ctx:i}}}),e.$on("click",n),{c(){O(e.$$.fragment)},m(r,s){N(e,r,s),t=!0},p(r,s){i=r;const l={};s&513&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){M(e,r)}}}function NJe(i){let e,t,n=i[0],r=[];for(let l=0;l<n.length;l+=1)r[l]=LA(MA(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=$e()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o&1){n=l[0];let a;for(a=0;a<n.length;a+=1){const u=MA(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=LA(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ie(),a=n.length;a<r.length;a+=1)s(a);re()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){it(r,l),l&&y(e)}}}function MJe(i){let e=i[4].title+"",t,n;return{c(){t=Z(e),n=Y()},m(r,s){w(r,t,s),w(r,n,s)},p:W,d(r){r&&y(t),r&&y(n)}}}function OA(i){let e,t;function n(){return i[3](i[4])}return e=new xe({props:{bottomLine:16,$$slots:{default:[MJe]},$$scope:{ctx:i}}}),e.$on("click",n),{c(){O(e.$$.fragment)},m(r,s){N(e,r,s),t=!0},p(r,s){i=r;const l={};s&512&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){M(e,r)}}}function LJe(i){let e,t,n=i[1],r=[];for(let l=0;l<n.length;l+=1)r[l]=OA(NA(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=$e()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o&2){n=l[1];let a;for(a=0;a<n.length;a+=1){const u=NA(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=OA(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ie(),a=n.length;a<r.length;a+=1)s(a);re()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){it(r,l),l&&y(e)}}}function OJe(i){let e,t,n,r,s,l,o,a,u,c,f,d,m;return a=new Ft({props:{solo:!0,outside:!0,title:"Templates",$$slots:{default:[NJe]},$$scope:{ctx:i}}}),c=new Ft({props:{solo:!0,outside:!0,title:"Other Options",$$slots:{default:[LJe]},$$scope:{ctx:i}}}),{c(){e=A("div"),t=A("h1"),t.textContent="Starter Templates",n=Y(),r=A("p"),r.textContent="Want Nomie to be set up automatically? Use one of the following templates.",s=Y(),l=A("div"),o=Y(),O(a.$$.fragment),u=Y(),O(c.$$.fragment),f=Y(),d=A("div"),h(t,"class","leading-tight dark:text-white text-center font-bold px-4 text-lg"),h(r,"class","text-gray-500 text-sm leading-tight text-center px-2 py-1"),h(l,"class","h-4"),h(e,"class","max-w-screen-lg mx-auto pt-6"),h(d,"class","h-20")},m(p,g){w(p,e,g),E(e,t),E(e,n),E(e,r),E(e,s),E(e,l),E(e,o),N(a,e,null),E(e,u),N(c,e,null),w(p,f,g),w(p,d,g),m=!0},p(p,g){const k={};g&513&&(k.$$scope={dirty:g,ctx:p}),a.$set(k);const $={};g&512&&($.$$scope={dirty:g,ctx:p}),c.$set($)},i(p){m||(_(a.$$.fragment,p),_(c.$$.fragment,p),m=!0)},o(p){v(a.$$.fragment,p),v(c.$$.fragment,p),m=!1},d(p){p&&y(e),M(a),M(c),p&&y(f),p&&y(d)}}}function IJe(i){let e,t;return e=new Vn({props:{className:"filler  flex items-center  flex-col pt-3 px-5 slide-templates ",$$slots:{default:[OJe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&513&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function BJe(i,e,t){let n=[{title:"Open Template URL...",click:WI}],r=[];const s=o=>o.click(),l=o=>o.click();return i.$$.update=()=>{i.$$.dirty&1&&t(0,r=[...A1.map(o=>({...o,click(){ub(o.url)}}))])},[r,n,s,l]}class IA extends ce{constructor(e){super(),ue(this,e,BJe,IJe,le,{})}}function BA(i,e,t){const n=i.slice();return n[7]=e[t],n}function zA(i){let e,t;return{c(){e=A("div"),h(e,"class",t="step "+i[1]+" "+(i[7]?"active":"inactive"))},m(n,r){w(n,e,r)},p(n,r){r&10&&t!==(t="step "+n[1]+" "+(n[7]?"active":"inactive"))&&h(e,"class",t)},d(n){n&&y(e)}}}function zJe(i){let e,t,n=i[3],r=[];for(let s=0;s<n.length;s+=1)r[s]=zA(BA(i,n,s));return{c(){e=A("div");for(let s=0;s<r.length;s+=1)r[s].c();h(e,"class",t="n-stepper "+(i[0]?"dark":"light")),h(e,"style",i[2])},m(s,l){w(s,e,l);for(let o=0;o<r.length;o+=1)r[o].m(e,null)},p(s,[l]){if(l&10){n=s[3];let o;for(o=0;o<n.length;o+=1){const a=BA(s,n,o);r[o]?r[o].p(a,l):(r[o]=zA(a),r[o].c(),r[o].m(e,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}l&1&&t!==(t="n-stepper "+(s[0]?"dark":"light"))&&h(e,"class",t),l&4&&h(e,"style",s[2])},i:W,o:W,d(s){s&&y(e),it(r,s)}}}function RJe(i,e,t){let{steps:n=0}=e,{current:r=0}=e,{dark:s=!1}=e,{stepClass:l=""}=e,{single:o=!1}=e,{style:a=""}=e,u=[];return i.$$set=c=>{"steps"in c&&t(4,n=c.steps),"current"in c&&t(5,r=c.current),"dark"in c&&t(0,s=c.dark),"stepClass"in c&&t(1,l=c.stepClass),"single"in c&&t(6,o=c.single),"style"in c&&t(2,a=c.style)},i.$$.update=()=>{if(i.$$.dirty&120&&(n||r)){t(3,u=[]);for(let c=0;c<n;c++)o?u.push(r==c):u.push(r>=c)}},[s,l,a,u,n,r,o]}class jJe extends ce{constructor(e){super(),ue(this,e,RJe,zJe,le,{steps:4,current:5,dark:0,stepClass:1,single:6,style:2})}}const YJe=i=>({}),RA=i=>({});function UJe(i){let e,t;return e=new jJe({props:{steps:i[1],stepClass:"primary-bright",current:i[0]}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.steps=n[1]),r&1&&(s.current=n[0]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function qJe(i){let e;return{c(){e=Z("\u2190 Back")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function HJe(i){let e,t;return e=new Me({props:{slot:"left",className:(i[4]?"opacity-0":"")+" text-gray-500 whitespace-nowrap",clear:!0,$$slots:{default:[qJe]},$$scope:{ctx:i}}}),e.$on("click",i[10]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&16&&(s.className=(n[4]?"opacity-0":"")+" text-gray-500 whitespace-nowrap"),r&2048&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function WJe(i){let e,t;return{c(){e=Z(i[2]),t=Z(" \u2192")},m(n,r){w(n,e,r),w(n,t,r)},p(n,r){r&4&&oe(e,n[2])},d(n){n&&y(e),n&&y(t)}}}function VJe(i){let e,t;return e=new Me({props:{slot:"right",className:"font-bold whitespace-nowrap",disabled:i[3],primary:!0,$$slots:{default:[WJe]},$$scope:{ctx:i}}}),e.$on("click",i[9]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&8&&(s.disabled=n[3]),r&2052&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function GJe(i){let e,t,n,r,s,l,o;const a=i[7].header,u=He(a,i,i[11],RA);var c=i[5];function f(d){return{}}return c&&(n=an(c,f()),n.$on("next",i[8])),l=new Jt({props:{className:"mx-auto max-w-xl py-1",$$slots:{right:[VJe],left:[HJe],default:[UJe]},$$scope:{ctx:i}}}),{c(){e=A("div"),u&&u.c(),t=Y(),n&&O(n.$$.fragment),r=Y(),s=A("div"),O(l.$$.fragment),h(s,"class","fixed bottom-0 w-full"),h(e,"class","min-h-fill flex flex-col w-full z-50")},m(d,m){w(d,e,m),u&&u.m(e,null),E(e,t),n&&N(n,e,null),E(e,r),E(e,s),N(l,s,null),o=!0},p(d,[m]){if(u&&u.p&&(!o||m&2048)&&Ve(u,a,d,d[11],o?We(a,d[11],m,YJe):Ge(d[11]),RA),c!==(c=d[5])){if(n){ie();const g=n;v(g.$$.fragment,1,0,()=>{M(g,1)}),re()}c?(n=an(c,f()),n.$on("next",d[8]),O(n.$$.fragment),_(n.$$.fragment,1),N(n,e,r)):n=null}const p={};m&2079&&(p.$$scope={dirty:m,ctx:d}),l.$set(p)},i(d){o||(_(u,d),n&&_(n.$$.fragment,d),_(l.$$.fragment,d),o=!0)},o(d){v(u,d),n&&v(n.$$.fragment,d),v(l.$$.fragment,d),o=!1},d(d){d&&y(e),u&&u.d(d),n&&M(n),M(l)}}}function ZJe(i,e,t){let{$$slots:n={},$$scope:r}=e,{activeIndex:s=0}=e,{totalSlides:l=0}=e,{nextTitle:o="Next"}=e,{nextDisabled:a=!1}=e,{hideBack:u=!1}=e,{component:c}=e;const f=Dt(),d=()=>{console.log(" On Next")},m=()=>f("next"),p=()=>f("back");return i.$$set=g=>{"activeIndex"in g&&t(0,s=g.activeIndex),"totalSlides"in g&&t(1,l=g.totalSlides),"nextTitle"in g&&t(2,o=g.nextTitle),"nextDisabled"in g&&t(3,a=g.nextDisabled),"hideBack"in g&&t(4,u=g.hideBack),"component"in g&&t(5,c=g.component),"$$scope"in g&&t(11,r=g.$$scope)},[s,l,o,a,u,c,f,n,d,m,p,r]}class xJe extends ce{constructor(e){super(),ue(this,e,ZJe,GJe,le,{activeIndex:0,totalSlides:1,nextTitle:2,nextDisabled:3,hideBack:4,component:5})}}function jA(i){let e,t,n;function r(l){i[6](l)}let s={activeIndex:i[0].activeSlide,totalSlides:i[5].length,hideBack:i[0].activeSlide==0,nextDisabled:!i[3],nextTitle:i[4]};return i[1]!==void 0&&(s.component=i[1]),e=new xJe({props:s}),De.push(()=>Ue(e,"component",r,i[1])),e.$on("next",i[7]),e.$on("back",i[8]),{c(){O(e.$$.fragment)},m(l,o){N(e,l,o),n=!0},p(l,o){const a={};o&1&&(a.activeIndex=l[0].activeSlide),o&1&&(a.hideBack=l[0].activeSlide==0),o&8&&(a.nextDisabled=!l[3]),o&16&&(a.nextTitle=l[4]),!t&&o&2&&(t=!0,a.component=l[1],qe(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){M(e,l)}}}function XJe(i){let e,t,n=i[1]&&jA(i);return{c(){n&&n.c(),e=$e()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,[s]){r[1]?n?(n.p(r,s),s&2&&_(n,1)):(n=jA(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ie(),v(n,1,1,()=>{n=null}),re())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function KJe(i,e,t){let n,r;Ee(i,St,m=>t(2,n=m)),Ee(i,Hn,m=>t(9,r=m));const s={ready:!1,showMore:!1,activeSlide:0,showNext:!0,transitioning:!1,isTiny:!1,redirecting:!1,timeFormat:n.use24hour,theme:n.theme};let l=[nJe];Hn.iOS()&&!r.pwa&&l.push(PA),l.push(EJe),l.push(Ug),l.push(IA),wt(()=>{setTimeout(()=>{window.document.body.offsetHeight<640&&t(0,s.isTiny=!0,s)},12)});let o=!0,a="Next",u;function c(m){u=m,t(1,u),t(5,l),t(0,s),t(2,n)}const f=()=>{s.activeSlide<l.length-1?t(0,s.activeSlide=s.activeSlide+1,s):s.activeSlide===l.length-1&&(wn(St,n.onboarded=!0,n),Et(100).then(()=>{window.location.href="/"}))},d=()=>{s.activeSlide>0&&t(0,s.activeSlide=s.activeSlide-1,s)};return i.$$.update=()=>{i.$$.dirty&7&&(t(1,u=l[s.activeSlide]),t(4,a="Next"),u==Ug&&!n.storageType?t(3,o=!1):u==PA?t(4,a="Skip"):u==Ug&&!n.storageType?t(3,o=!1):u==IA?t(4,a="Begin"):t(3,o=!0))},[s,u,n,o,a,l,c,f,d]}class cR extends ce{constructor(e){super(),ue(this,e,KJe,XJe,le,{})}}function JJe(i){let e,t;return e=new cR({}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}class QJe extends ce{constructor(e){super(),ue(this,e,null,JJe,le,{})}}function eQe(i){let e,t;return e=new e2({}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function tQe(i){let e,t;return e=new sR({}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function nQe(i){let e,t;return e=new t2({}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function iQe(i){let e,t;return e=new t2({}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function rQe(i){let e,t;return e=new nR({}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function sQe(i){let e,t;return e=new e2({}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function lQe(i){let e,t,n,r;const s=[sQe,rQe,iQe,nQe,tQe,eQe],l=[];function o(a,u){return a[0].startPage==="track"?0:a[0].startPage==="dashboard"?1:a[0].startPage==="timeline"?2:a[0].startPage==="history"?3:a[0].startPage==="goals"?4:5}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=$e()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e!==c&&(ie(),v(l[c],1,1,()=>{l[c]=null}),re(),t=l[e],t||(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function oQe(i){let e,t;return e=new e2({}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function aQe(i){let e,t;return e=new qVe({}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function uQe(i){let e,t;return e=new t2({}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function cQe(i){let e,t;return e=new sR({}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function fQe(i){let e,t;return e=new oGe({}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function dQe(i){let e,t;return e=new mGe({}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function hQe(i){let e,t;return e=new CGe({}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function mQe(i){let e,t;return e=new nR({}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function pQe(i){let e,t;return e=new NGe({}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function _Qe(i){let e,t;return e=new lR({}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function gQe(i){let e,t;return e=new lR({}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function vQe(i){let e,t;return e=new PKe({}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function bQe(i){let e,t;return e=new zKe({}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function kQe(i){let e,t;return e=new Oje({}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function yQe(i){let e,t;return e=new cje({props:{path:i[1].path}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.path=n[1].path),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function wQe(i){let e,t;return e=new QJe({}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function $Qe(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p,g,k,$,D,F,C,S,P,I,R,B,z,q,H,K,G,U,Q,V,x,ee,J;return e=new Bje({}),n=new Wi({props:{path:"/",$$slots:{default:[lQe]},$$scope:{ctx:i}}}),s=new Wi({props:{path:"/track",$$slots:{default:[oQe]},$$scope:{ctx:i}}}),o=new Wi({props:{path:"/analytics",$$slots:{default:[aQe]},$$scope:{ctx:i}}}),u=new Wi({props:{path:"/timeline",$$slots:{default:[uQe]},$$scope:{ctx:i}}}),f=new Wi({props:{path:"/goals",$$slots:{default:[cQe]},$$scope:{ctx:i}}}),m=new Wi({props:{path:"/test",$$slots:{default:[fQe]},$$scope:{ctx:i}}}),g=new Wi({props:{path:"/uoms",$$slots:{default:[dQe]},$$scope:{ctx:i}}}),$=new Wi({props:{path:"/awards",$$slots:{default:[hQe]},$$scope:{ctx:i}}}),F=new Wi({props:{path:"/dashboard",$$slots:{default:[mQe]},$$scope:{ctx:i}}}),S=new Wi({props:{path:"/faq",$$slots:{default:[pQe]},$$scope:{ctx:i}}}),I=new Wi({props:{path:"/history",$$slots:{default:[_Qe]},$$scope:{ctx:i}}}),B=new Wi({props:{path:"/history/:date",$$slots:{default:[gQe]},$$scope:{ctx:i}}}),q=new Wi({props:{path:"/settings",$$slots:{default:[vQe]},$$scope:{ctx:i}}}),K=new Wi({props:{path:"/settings/export",$$slots:{default:[bQe]},$$scope:{ctx:i}}}),U=new Wi({props:{path:"/settings/export/csv",$$slots:{default:[kQe]},$$scope:{ctx:i}}}),V=new Wi({props:{path:"/files/*path",$$slots:{default:[yQe,({params:se})=>({1:se}),({params:se})=>se?2:0]},$$scope:{ctx:i}}}),ee=new Wi({props:{path:"/setup",$$slots:{default:[wQe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment),t=Y(),O(n.$$.fragment),r=Y(),O(s.$$.fragment),l=Y(),O(o.$$.fragment),a=Y(),O(u.$$.fragment),c=Y(),O(f.$$.fragment),d=Y(),O(m.$$.fragment),p=Y(),O(g.$$.fragment),k=Y(),O($.$$.fragment),D=Y(),O(F.$$.fragment),C=Y(),O(S.$$.fragment),P=Y(),O(I.$$.fragment),R=Y(),O(B.$$.fragment),z=Y(),O(q.$$.fragment),H=Y(),O(K.$$.fragment),G=Y(),O(U.$$.fragment),Q=Y(),O(V.$$.fragment),x=Y(),O(ee.$$.fragment)},m(se,te){N(e,se,te),w(se,t,te),N(n,se,te),w(se,r,te),N(s,se,te),w(se,l,te),N(o,se,te),w(se,a,te),N(u,se,te),w(se,c,te),N(f,se,te),w(se,d,te),N(m,se,te),w(se,p,te),N(g,se,te),w(se,k,te),N($,se,te),w(se,D,te),N(F,se,te),w(se,C,te),N(S,se,te),w(se,P,te),N(I,se,te),w(se,R,te),N(B,se,te),w(se,z,te),N(q,se,te),w(se,H,te),N(K,se,te),w(se,G,te),N(U,se,te),w(se,Q,te),N(V,se,te),w(se,x,te),N(ee,se,te),J=!0},p(se,te){const ge={};te&5&&(ge.$$scope={dirty:te,ctx:se}),n.$set(ge);const ae={};te&4&&(ae.$$scope={dirty:te,ctx:se}),s.$set(ae);const ve={};te&4&&(ve.$$scope={dirty:te,ctx:se}),o.$set(ve);const Te={};te&4&&(Te.$$scope={dirty:te,ctx:se}),u.$set(Te);const Pe={};te&4&&(Pe.$$scope={dirty:te,ctx:se}),f.$set(Pe);const pe={};te&4&&(pe.$$scope={dirty:te,ctx:se}),m.$set(pe);const Ie={};te&4&&(Ie.$$scope={dirty:te,ctx:se}),g.$set(Ie);const ye={};te&4&&(ye.$$scope={dirty:te,ctx:se}),$.$set(ye);const st={};te&4&&(st.$$scope={dirty:te,ctx:se}),F.$set(st);const dt={};te&4&&(dt.$$scope={dirty:te,ctx:se}),S.$set(dt);const lt={};te&4&&(lt.$$scope={dirty:te,ctx:se}),I.$set(lt);const vt={};te&4&&(vt.$$scope={dirty:te,ctx:se}),B.$set(vt);const kt={};te&4&&(kt.$$scope={dirty:te,ctx:se}),q.$set(kt);const Ze={};te&4&&(Ze.$$scope={dirty:te,ctx:se}),K.$set(Ze);const bt={};te&4&&(bt.$$scope={dirty:te,ctx:se}),U.$set(bt);const Yt={};te&6&&(Yt.$$scope={dirty:te,ctx:se}),V.$set(Yt);const sn={};te&4&&(sn.$$scope={dirty:te,ctx:se}),ee.$set(sn)},i(se){J||(_(e.$$.fragment,se),_(n.$$.fragment,se),_(s.$$.fragment,se),_(o.$$.fragment,se),_(u.$$.fragment,se),_(f.$$.fragment,se),_(m.$$.fragment,se),_(g.$$.fragment,se),_($.$$.fragment,se),_(F.$$.fragment,se),_(S.$$.fragment,se),_(I.$$.fragment,se),_(B.$$.fragment,se),_(q.$$.fragment,se),_(K.$$.fragment,se),_(U.$$.fragment,se),_(V.$$.fragment,se),_(ee.$$.fragment,se),J=!0)},o(se){v(e.$$.fragment,se),v(n.$$.fragment,se),v(s.$$.fragment,se),v(o.$$.fragment,se),v(u.$$.fragment,se),v(f.$$.fragment,se),v(m.$$.fragment,se),v(g.$$.fragment,se),v($.$$.fragment,se),v(F.$$.fragment,se),v(S.$$.fragment,se),v(I.$$.fragment,se),v(B.$$.fragment,se),v(q.$$.fragment,se),v(K.$$.fragment,se),v(U.$$.fragment,se),v(V.$$.fragment,se),v(ee.$$.fragment,se),J=!1},d(se){M(e,se),se&&y(t),M(n,se),se&&y(r),M(s,se),se&&y(l),M(o,se),se&&y(a),M(u,se),se&&y(c),M(f,se),se&&y(d),M(m,se),se&&y(p),M(g,se),se&&y(k),M($,se),se&&y(D),M(F,se),se&&y(C),M(S,se),se&&y(P),M(I,se),se&&y(R),M(B,se),se&&y(z),M(q,se),se&&y(H),M(K,se),se&&y(G),M(U,se),se&&y(Q),M(V,se),se&&y(x),M(ee,se)}}}function FQe(i){let e,t;return e=new _O({props:{$$slots:{default:[$Qe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&5&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function EQe(i,e,t){let n;return Ee(i,St,r=>t(0,n=r)),[n]}class DQe extends ce{constructor(e){super(),ue(this,e,EQe,FQe,le,{})}}function CQe(i){let e,t;return{c:W,m(n,r){e||(t=ke(window,"keydown",i[0]),e=!0)},p:W,i:W,o:W,d(n){e=!1,t()}}}function SQe(i){return[t=>{t.key=="p"&&t.metaKey&&(Va(),t.preventDefault())}]}class TQe extends ce{constructor(e){super(),ue(this,e,SQe,CQe,le,{})}}function AQe(i){let e,t,n,r,s,l,o;return{c(){e=me("svg"),t=me("title"),n=Z("Close Circle"),r=me("path"),s=me("path"),h(r,"d","M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-miterlimit","10"),h(r,"stroke-width","32"),h(s,"fill","none"),h(s,"stroke","currentColor"),h(s,"stroke-linecap","round"),h(s,"stroke-linejoin","round"),h(s,"stroke-width","32"),h(s,"d","M320 320L192 192M192 320l128-128"),h(e,"height",l=i[0]+"px"),h(e,"width",o=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(a,u){w(a,e,u),E(e,t),E(t,n),E(e,r),E(e,s)},p(a,[u]){u&1&&l!==(l=a[0]+"px")&&h(e,"height",l),u&1&&o!==(o=a[0]+"px")&&h(e,"width",o)},i:W,o:W,d(a){a&&y(e)}}}function PQe(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class NQe extends ce{constructor(e){super(),ue(this,e,PQe,AQe,le,{size:0})}}function YA(i){let e,t,n,r,s,l,o=i[0].message+"",a,u,c,f,d,m,p,g,k;const $=[LQe,MQe],D=[];function F(I,R){return I[0].type==="success"?0:I[0].type==="failure"?1:-1}~(t=F(i))&&(n=D[t]=$[t](i));let C=i[0].buttonLabel&&UA(i),S=i[0].timeout>2500&&qA(),P=i[0].buttonLabel&&HA(i);return{c(){e=A("div"),n&&n.c(),r=Y(),s=A("div"),l=A("p"),a=Z(o),u=Y(),C&&C.c(),c=Y(),S&&S.c(),f=Y(),P&&P.c(),h(l,"class","filler line-clamp-3 leading-tight text-sm"),h(s,"class","toast"),h(e,"role","dialog"),h(e,"class","toast-wrapper transition-all duration-200")},m(I,R){w(I,e,R),~t&&D[t].m(e,null),E(e,r),E(e,s),E(s,l),E(l,a),E(s,u),C&&C.m(s,null),E(s,c),S&&S.m(s,null),E(e,f),P&&P.m(e,null),p=!0,g||(k=ke(s,"click",i[4]),g=!0)},p(I,R){let B=t;t=F(I),t===B?~t&&D[t].p(I,R):(n&&(ie(),v(D[B],1,1,()=>{D[B]=null}),re()),~t?(n=D[t],n?n.p(I,R):(n=D[t]=$[t](I),n.c()),_(n,1),n.m(e,r)):n=null),(!p||R&1)&&o!==(o=I[0].message+"")&&oe(a,o),I[0].buttonLabel?C?C.p(I,R):(C=UA(I),C.c(),C.m(s,c)):C&&(C.d(1),C=null),I[0].timeout>2500?S?(S.p(I,R),R&1&&_(S,1)):(S=qA(),S.c(),_(S,1),S.m(s,null)):S&&(ie(),v(S,1,1,()=>{S=null}),re()),I[0].buttonLabel?P?(P.p(I,R),R&1&&_(P,1)):(P=HA(I),P.c(),_(P,1),P.m(e,null)):P&&(ie(),v(P,1,1,()=>{P=null}),re())},i(I){p||(_(n),_(S),_(P),Rn(()=>{m&&m.end(1),d=up(e,qf,{}),d.start()}),p=!0)},o(I){v(n),v(S),v(P),d&&d.invalidate(),m=g0(e,xu,{y:100}),p=!1},d(I){I&&y(e),~t&&D[t].d(),C&&C.d(),S&&S.d(),P&&P.d(),I&&m&&m.end(),g=!1,k()}}}function MQe(i){let e,t,n;return t=new je({props:{icon:NQe,size:24}}),{c(){e=A("div"),O(t.$$.fragment),h(e,"class","toast-type failure")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p:W,i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function LQe(i){let e,t,n;return t=new je({props:{icon:Uv,size:24}}),{c(){e=A("div"),O(t.$$.fragment),h(e,"class","toast-type success")},m(r,s){w(r,e,s),N(t,e,null),n=!0},p:W,i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),M(t)}}}function UA(i){let e,t=i[0].buttonLabel+"",n,r,s;return{c(){e=A("button"),n=Z(t),h(e,"class","text-primary-500 uppercase font-semibold text-sm px-2 py-1 rounded-full focus:outline-none focus:ring-2 ring-primary-500")},m(l,o){w(l,e,o),E(e,n),r||(s=ke(e,"click",Ro(Or(i[3]))),r=!0)},p(l,o){o&1&&t!==(t=l[0].buttonLabel+"")&&oe(n,t)},d(l){l&&y(e),r=!1,s()}}}function qA(i){let e,t;return e=new je({props:{icon:pl,className:"text-gray-500 pr-2"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function HA(i){let e,t,n=i[1]&&WA(i);return{c(){e=A("div"),n&&n.c(),h(e,"class","progress h-1 absolute bottom-1 left-1 right-1 overflow-hidden;")},m(r,s){w(r,e,s),n&&n.m(e,null),t=!0},p(r,s){r[1]?n?(n.p(r,s),s&2&&_(n,1)):(n=WA(r),n.c(),_(n,1),n.m(e,null)):n&&(ie(),v(n,1,1,()=>{n=null}),re())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){r&&y(e),n&&n.d()}}}function WA(i){let e,t;return e=new Kr({props:{percentage:100-i[1],className:"bg-black h-1",barClass:"h-1 bg-gray-800 w-full"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.percentage=100-n[1]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function OQe(i){let e,t,n=i[0]&&YA(i);return{c(){n&&n.c(),e=$e()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,[s]){r[0]?n?(n.p(r,s),s&1&&_(n,1)):(n=YA(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ie(),v(n,1,1,()=>{n=null}),re())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function IQe(i,e,t){let{toast:n}=e,r=0,s,l=0;wt(()=>{n&&(t(2,r=0),s=setInterval(()=>{if(t(2,r=r+100),r>=n.timeout){t(1,l=100);try{s()}catch{}}},100))}),Dr(()=>{try{s()}catch{}});const o=()=>{n.buttonClick(),ik(n)},a=()=>{ik(n)};return i.$$set=u=>{"toast"in u&&t(0,n=u.toast)},i.$$.update=()=>{i.$$.dirty&5&&n&&t(1,l=ht.percentage((n.timeout||3e3)-200,r))},[n,l,r,o,a]}class BQe extends ce{constructor(e){super(),ue(this,e,IQe,OQe,le,{toast:0})}}function VA(i,e,t){const n=i.slice();return n[1]=e[t],n[3]=t,n}function GA(i,e){let t,n,r;return n=new BQe({props:{toast:e[1]}}),{key:i,first:null,c(){t=$e(),O(n.$$.fragment),this.first=t},m(s,l){w(s,t,l),N(n,s,l),r=!0},p(s,l){e=s;const o={};l&1&&(o.toast=e[1]),n.$set(o)},i(s){r||(_(n.$$.fragment,s),r=!0)},o(s){v(n.$$.fragment,s),r=!1},d(s){s&&y(t),M(n,s)}}}function zQe(i){let e,t=[],n=new Map,r,s,l,o=i[0];const a=u=>u[3];for(let u=0;u<o.length;u+=1){let c=VA(i,o,u),f=a(c);n.set(f,t[u]=GA(f,c))}return{c(){e=A("div");for(let u=0;u<t.length;u+=1)t[u].c();h(e,"class","toasts")},m(u,c){w(u,e,c);for(let f=0;f<t.length;f+=1)t[f].m(e,null);l=!0},p(u,[c]){c&1&&(o=u[0],ie(),t=qn(t,c,a,1,u,o,n,e,Ci,GA,null,VA),re())},i(u){if(!l){for(let c=0;c<o.length;c+=1)_(t[c]);Rn(()=>{s&&s.end(1),r=up(e,xu,{y:100}),r.start()}),l=!0}},o(u){for(let c=0;c<t.length;c+=1)v(t[c]);r&&r.invalidate(),s=g0(e,xu,{y:100}),l=!1},d(u){u&&y(e);for(let c=0;c<t.length;c+=1)t[c].d();u&&s&&s.end()}}}function RQe(i,e,t){let n;return Ee(i,Hf,r=>t(0,n=r)),[n]}class jQe extends ce{constructor(e){super(),ue(this,e,RQe,zQe,le,{})}}function ZA(i,e,t){const n=i.slice();return n[6]=e[t],n[8]=t,n}function xA(i){let e,t;return e=new Mj({}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function XA(i){let e,t,n;return{c(){e=A("div"),h(e,"class","background-cover pointer-events-none absolute top-0 right-0 left-0 bottom-0 bg-black bg-opacity-10 backdrop-filter backdrop-blur-sm"),nt(e,"z-index",vd+(i[8]+3))},m(r,s){w(r,e,s),n=!0},p(r,s){(!n||s&4)&&nt(e,"z-index",vd+(r[8]+3))},i(r){n||(Rn(()=>{t||(t=lr(e,qf,{},!0)),t.run(1)}),n=!0)},o(r){t||(t=lr(e,qf,{},!1)),t.run(0),n=!1},d(r){r&&y(e),r&&t&&t.end()}}}function KA(i,e){let t,n,r,s,l,o,a,u,c;const f=[{id:e[6].id},e[6].componentProps];var d=e[6].component;function m(g){let k={};for(let $=0;$<f.length;$+=1)k=ft(k,f[$]);return{props:k}}d&&(n=an(d,m()),e[4](n));let p=e[8]<e[2].length-1&&XA(e);return{key:i,first:null,c(){t=A("div"),n&&O(n.$$.fragment),a=Y(),p&&p.c(),u=$e(),h(t,"class",r="backdrop-modal modal-"+(e[6].position||"fullscreen")),h(t,"id",s=e[6].id),nt(t,"--zIndex",vd+(e[8]+2)),nt(t,"--index",e[8]+2),Je(t,"in-background",e[8]<e[2].length-1),Je(t,"in-forground",e[8]==e[2].length-1),this.first=t},m(g,k){w(g,t,k),n&&N(n,t,null),w(g,a,k),p&&p.m(g,k),w(g,u,k),c=!0},p(g,k){e=g;const $=k&4?At(f,[{id:e[6].id},Ki(e[6].componentProps)]):{};if(d!==(d=e[6].component)){if(n){ie();const D=n;v(D.$$.fragment,1,0,()=>{M(D,1)}),re()}d?(n=an(d,m()),e[4](n),O(n.$$.fragment),_(n.$$.fragment,1),N(n,t,null)):n=null}else d&&n.$set($);(!c||k&4&&r!==(r="backdrop-modal modal-"+(e[6].position||"fullscreen")))&&h(t,"class",r),(!c||k&4&&s!==(s=e[6].id))&&h(t,"id",s),(!c||k&4)&&nt(t,"--zIndex",vd+(e[8]+2)),(!c||k&4)&&nt(t,"--index",e[8]+2),(!c||k&4)&&Je(t,"in-background",e[8]<e[2].length-1),(!c||k&4)&&Je(t,"in-forground",e[8]==e[2].length-1),e[8]<e[2].length-1?p?(p.p(e,k),k&4&&_(p,1)):(p=XA(e),p.c(),_(p,1),p.m(u.parentNode,u)):p&&(ie(),v(p,1,1,()=>{p=null}),re())},i(g){c||(n&&_(n.$$.fragment,g),Rn(()=>{o&&o.end(1),l=up(t,xu,{y:200,duration:60,easing:q2}),l.start()}),_(p),c=!0)},o(g){n&&v(n.$$.fragment,g),l&&l.invalidate(),o=g0(t,xu,{y:200,duration:60,easing:q2}),v(p),c=!1},d(g){g&&y(t),e[4](null),n&&M(n),g&&o&&o.end(),g&&y(a),p&&p.d(g),g&&y(u)}}}function YQe(i){let e,t,n=[],r=new Map,s,l,o,a,u=i[2].length&&xA(),c=i[2];const f=d=>d[6].id;for(let d=0;d<c.length;d+=1){let m=ZA(i,c,d),p=f(m);r.set(p,n[d]=KA(p,m))}return{c(){u&&u.c(),e=Y(),t=A("div");for(let d=0;d<n.length;d+=1)n[d].c();h(t,"class",s="backdrop2 "+(i[0].transparent?"bg-transparent":"bg-nnormal")),nt(t,"--zIndex",vd)},m(d,m){u&&u.m(d,m),w(d,e,m),w(d,t,m);for(let p=0;p<n.length;p+=1)n[p].m(t,null);l=!0,o||(a=ke(t,"click",fP(i[5])),o=!0)},p(d,[m]){d[2].length?u?m&4&&_(u,1):(u=xA(),u.c(),_(u,1),u.m(e.parentNode,e)):u&&(ie(),v(u,1,1,()=>{u=null}),re()),m&6&&(c=d[2],ie(),n=qn(n,m,f,1,d,c,r,t,Ci,KA,null,ZA),re()),(!l||m&1&&s!==(s="backdrop2 "+(d[0].transparent?"bg-transparent":"bg-nnormal")))&&h(t,"class",s)},i(d){if(!l){_(u);for(let m=0;m<c.length;m+=1)_(n[m]);l=!0}},o(d){v(u);for(let m=0;m<n.length;m+=1)v(n[m]);l=!1},d(d){u&&u.d(d),d&&y(e),d&&y(t);for(let m=0;m<n.length;m+=1)n[m].d();o=!1,a()}}}const vd=5e3;function UQe(i,e,t){let n;Ee(i,Ku,u=>t(2,n=u));let r,s=n[n.length-1],l;function o(u){De[u?"unshift":"push"](()=>{l=u,t(1,l)})}const a=()=>{s.tappable&&wn(Ku,n=n.slice(0,-1),n)};return i.$$.update=()=>{if(i.$$.dirty&4&&t(0,s=n[n.length-1]),i.$$.dirty&11){if(s&&r!==s.id)t(3,r=s.id);else if(!s&&r)try{l.$destroy()}catch{}}},[s,l,n,r,o,a]}class qQe extends ce{constructor(e){super(),ue(this,e,UQe,YQe,le,{})}}const fR=async i=>new Promise(e=>{aR({canClose:!1,title:"Pin to Unlock",isMatch(t){return t===i.usePin}}).then(t=>{t===i.usePin?(Ot("pin-lock"),e(!0)):(Xe.error("Invalid Pin Code."),fR(i))})}),dR=async i=>(So({knownTrackables:i,date:new Date}),km(i),Wr.init(),Hn.init(),Br.init(),Ha.init(),Xs.init(),Gu.init(),xOe(),!0),HQe=async i=>{let e=!!i.usePin;return new Promise(t=>{try{Vt.onReady(async()=>{e&&i.usePin&&await fR(i),await Ut.init();const n=await Mc();dR(n),t(!0)})}catch(n){console.error(n)}})};function WQe(i){let e,t;return{c(){e=A("iframe"),Xi(e.src,t=i[1])||h(e,"src",t),h(e,"title",i[0]),h(e,"class","w-full h-full")},m(n,r){w(n,e,r),i[6](e)},p(n,r){r&2&&!Xi(e.src,t=n[1])&&h(e,"src",t),r&1&&h(e,"title",n[0])},d(n){n&&y(e),i[6](null)}}}function VQe(i){let e,t;return{c(){e=A("h2"),t=Z(i[0]),h(e,"class","ntitle sm")},m(n,r){w(n,e,r),E(e,t)},p(n,r){r&1&&oe(t,n[0])},d(n){n&&y(e)}}}function GQe(i){let e,t;return e=new je({props:{icon:pl}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:W,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function ZQe(i){let e,t;return e=new Me({props:{icon:!0,primary:!0,slot:"left",$$slots:{default:[GQe]},$$scope:{ctx:i}}}),e.$on("click",i[3]),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&128&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function xQe(i){let e,t;return e=new Jt({props:{slot:"header",$$slots:{left:[ZQe],default:[VQe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&129&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function XQe(i){let e,t;return e=new _n({props:{$$slots:{header:[xQe],default:[WQe]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){const s={};r&135&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function KQe(i,e,t){let{title:n}=e,{url:r}=e,{id:s}=e,{messagePayload:l}=e,o;const a=()=>{Ot(s)};wt(()=>{l&&t(2,o.onload=()=>{setTimeout(()=>{o.contentWindow.postMessage(l,"*")},120)},o)});function u(c){De[c?"unshift":"push"](()=>{o=c,t(2,o)})}return i.$$set=c=>{"title"in c&&t(0,n=c.title),"url"in c&&t(1,r=c.url),"id"in c&&t(4,s=c.id),"messagePayload"in c&&t(5,l=c.messagePayload)},[n,r,o,a,s,l,u]}class JQe extends ce{constructor(e){super(),ue(this,e,KQe,XQe,le,{title:0,url:1,id:4,messagePayload:5})}}const QQe=(i,e,t)=>{en({component:JQe,id:`id-${ul(i)}`,componentProps:{url:i,title:e||i,messagePayload:t}})};function JA(i,e,t){const n=i.slice();return n[23]=e[t],n[25]=t,n}function QA(i){let e,t;return e=new Kv({props:{lid:"auto",plugin:i[23],openAction:"onLaunch"}}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.plugin=n[23]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function eet(i){let e,t,n=i[0],r=[];for(let l=0;l<n.length;l+=1)r[l]=QA(JA(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){e=A("div");for(let l=0;l<r.length;l+=1)r[l].c();h(e,"id","live-plugin-holder"),h(e,"class","w-0 h-0 overflow-hidden")},m(l,o){w(l,e,o);for(let a=0;a<r.length;a+=1)r[a].m(e,null);t=!0},p(l,[o]){if(o&1){n=l[0];let a;for(a=0;a<n.length;a+=1){const u=JA(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=QA(u),r[a].c(),_(r[a],1),r[a].m(e,null))}for(ie(),a=n.length;a<r.length;a+=1)s(a);re()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){l&&y(e),it(r,l)}}}function tet(i,e,t){let n,r;Ee(i,Er,z=>t(1,n=z)),Ee(i,It,z=>t(3,r=z));const s=async z=>{var U;let q=z.data,H=q.action,K=q.data,G=(U=q.data)==null?void 0:U.lid;if(H&&K){let Q=K.pid,V=n.find(x=>x.id===`${Q}`);V&&(!G&&H!=="register"&&console.error(`${H} was called without a LID`,V),H=="createNote"?f(V,H,K):H=="register"||(H=="selectTrackables"?S(V,H,K):H==="openURL"?QQe(K.url,K.title||K.url):H==="openPlugin"?Jv(V):H==="openNoteEditor"?o(V,K):H==="openTemplateURL"?WI(K.url):H==="openTrackableEditor"?u(V,K):H==="getTrackableUsage"?P(V,H,K):H==="getLocation"?I(V,H,K):H==="prompt"?k(V,K):H==="alert"?$(V,K):H==="confirm"?g(V,K):H==="searchNotes"?d(V,H,K):H==="getStorageItem"?D(V,K):H==="setStorageItem"?C(V,K):H==="getTrackable"?c(V,K):H==="getTrackableInput"&&a(V,K)))}},l=z=>{const q=Gf(z);return pi(q,r.trackables)},o=(z,q)=>{if(q.note){let H=new Gt(q.note);uu(H)}},a=async(z,q)=>{const H=l(q.tag);let K={};if(H.type=="tracker"){const G=await xo({tracker:H.tracker,trackables:r.trackables,expandNote:!0,allowSave:!1});G&&(K.note=G.raw,K.value=Nn(G.value))}else H.type=="context"?(K.note=H.getNoteValue(),K.value=H.ctx.duration):K.note=H.getNoteValue();F(z,"getTrackableReply",{id:q.id,lid:q.lid,note:K.note,value:K.value})},u=(z,q)=>{let H=r.trackables[q.trackable.tag];H||(H=new ri(q.trackable)),xi(H)},c=async(z,q)=>{const H=l(q.tag);F(z,"getTrackableReply",{id:q.id,lid:q.lid,trackable:H})},f=async(z,q,H)=>{if(z.uses.includes("createNote")){let K=new Gt(H);To(K,{silent:!0})}else m(z,q)},d=async(z,q,H)=>{if(z.uses.includes("searchNotes")){let K=we(H.date||new Date).endOf("day"),G=H.daysBack>60?60:H.daysBack,U=K.subtract(G,"days").startOf("day"),Q=await Ut.query({search:x0(H.term),start:U,end:K});Zs({action:"searchReply",data:{id:H.id,results:Q.map(V=>{let x=V.toObject();return x.elements=V.elements,x.hasNote=V.hasNote,x.hasTodo=V.hasTodo,x})}},z.id,H.lid)}else m(z,q)},m=(z,q)=>{Xe.alert("Action Not Registered",`${q} needs to be provided in the plugins (${z.name}) use: [] array`)},p=(z,q,H,K)=>{Zs({action:z,data:{...H,value:K}},q.id,H.lid)},g=async(z,q)=>{await Et(200);const H=await Xe.confirm(q.title,q.message);p("confirmReply",z,q,H)},k=async(z,q)=>{await Et(200);const H=await Xe.prompt(`${q.title}`,`${q.message||""} - for ${z.name}`,{placeholder:q.title,valueType:q.type});H&&p("promptReply",z,q,H)},$=async(z,q)=>{await Et(200);const H=await Xe.alert(`${q.title}`,`${q.message||""} - for ${z.name}`);H&&p("alertReply",z,q,H.value)},D=async(z,q)=>{let H=`plugins/${z.id}/${qu(q.key)}.json`,K;try{K=await Vt.get(H)}catch(G){console.error(G)}F(z,"getStorageItemReply",{id:q.id,lid:q.lid,value:K})},F=(z,q,H)=>{Zs({action:q,data:H},z.id,H.lid)},C=async(z,q)=>{let H=`plugins/${z.id}/${qu(q.key)}.json`;try{await Vt.put(H,q.value)}catch(K){console.error(K)}F(z,"setStorageItemReply",{id:q.id,lid:q.lid})},S=async(z,q,H)=>{if(z.uses.includes("selectTrackables")){const K=H.type,G=await Bc(K,H.multiple!=!1);G&&Zs({action:"trackablesSelected",data:{id:H.id,selected:G}},z.id,H.lid)}else m(z,q)},P=async(z,q,H)=>{if(z.uses.includes("getTrackableUsage")){const K=pi(Gf(H.tag),r.trackables);H.daysBack=H.daysBack||7;let G=H.date?new Date(H.date):new Date,U=H.daysBack>90?90:H.daysBack,Q=!!H.groupByDay;const V={end:we(G),start:we(G).subtract(U,"days")},x=await Id(K,V,r.trackables),ee=Q?x.byDay:x;ee.dates=ee.dates.map(J=>J.toDate());try{Zs({action:"getTrackableUsageReply",data:{id:H.id,trackable:K,usage:ee}},z.id,H.lid)}catch(J){console.error(J)}}else m(z,q)},I=async(z,q,H)=>{if(z.uses.includes("getLocation")){let K={lat:void 0,lng:void 0};try{K=await Od()}catch{}K.latitude&&Zs({action:"locationReply",data:{id:H.id,lat:K.latitude,lng:K.longitude}},z.id,H.lid)}else m(z,q)};let R=[],B;return wt(()=>{window.addEventListener("message",s),B=Ut.hook("onLogSaved",z=>{Zs({action:"onNote",data:z.expanded()})})}),Dr(()=>{window.removeEventListener("message",s),B()}),i.$$.update=()=>{i.$$.dirty&2&&n&&t(0,R=n.filter(z=>z.active&&!z.locked).filter(z=>z.uses.includes("onLaunch")||z.uses.includes("onNote")))},[R,n]}class net extends ce{constructor(e){super(),ue(this,e,tet,eet,le,{})}}function eP(i){let e,t;return e=new cR({}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function tP(i){let e,t;return e=new DQe({}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function nP(i){let e,t;return e=new qQe({}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function iP(i){let e,t;return e=new tY({}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function rP(i){let e,t;return e=new jQe({}),{c(){O(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function iet(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p,g,k,$,D,F;e=new Zj({});let C=i[2]&&eP(),S=!i[2]&&i[0].storageType&&!i[1]&&tP();s=new TQe({});let P=i[3].length&&nP();a=new cIe({}),c=new Vj({});let I=i[4].confetti.show&&iP(),R=i[5].length&&rP();return p=new oIe({}),k=new net({}),{c(){O(e.$$.fragment),t=Y(),C&&C.c(),n=Y(),S&&S.c(),r=Y(),O(s.$$.fragment),l=Y(),P&&P.c(),o=Y(),O(a.$$.fragment),u=Y(),O(c.$$.fragment),f=Y(),I&&I.c(),d=Y(),R&&R.c(),m=Y(),O(p.$$.fragment),g=Y(),O(k.$$.fragment),$=Y(),D=A("div"),D.innerHTML='<img id="photo-holder-image " alt="avatar-holder"/>',h(D,"id","photo-holder"),h(D,"class","hidden"),nt(D,"display","none")},m(B,z){N(e,B,z),w(B,t,z),C&&C.m(B,z),w(B,n,z),S&&S.m(B,z),w(B,r,z),N(s,B,z),w(B,l,z),P&&P.m(B,z),w(B,o,z),N(a,B,z),w(B,u,z),N(c,B,z),w(B,f,z),I&&I.m(B,z),w(B,d,z),R&&R.m(B,z),w(B,m,z),N(p,B,z),w(B,g,z),N(k,B,z),w(B,$,z),w(B,D,z),F=!0},p(B,[z]){B[2]?C?z&4&&_(C,1):(C=eP(),C.c(),_(C,1),C.m(n.parentNode,n)):C&&(ie(),v(C,1,1,()=>{C=null}),re()),!B[2]&&B[0].storageType&&!B[1]?S?z&7&&_(S,1):(S=tP(),S.c(),_(S,1),S.m(r.parentNode,r)):S&&(ie(),v(S,1,1,()=>{S=null}),re()),B[3].length?P?z&8&&_(P,1):(P=nP(),P.c(),_(P,1),P.m(o.parentNode,o)):P&&(ie(),v(P,1,1,()=>{P=null}),re()),B[4].confetti.show?I?z&16&&_(I,1):(I=iP(),I.c(),_(I,1),I.m(d.parentNode,d)):I&&(ie(),v(I,1,1,()=>{I=null}),re()),B[5].length?R?z&32&&_(R,1):(R=rP(),R.c(),_(R,1),R.m(m.parentNode,m)):R&&(ie(),v(R,1,1,()=>{R=null}),re())},i(B){F||(_(e.$$.fragment,B),_(C),_(S),_(s.$$.fragment,B),_(P),_(a.$$.fragment,B),_(c.$$.fragment,B),_(I),_(R),_(p.$$.fragment,B),_(k.$$.fragment,B),F=!0)},o(B){v(e.$$.fragment,B),v(C),v(S),v(s.$$.fragment,B),v(P),v(a.$$.fragment,B),v(c.$$.fragment,B),v(I),v(R),v(p.$$.fragment,B),v(k.$$.fragment,B),F=!1},d(B){M(e,B),B&&y(t),C&&C.d(B),B&&y(n),S&&S.d(B),B&&y(r),M(s,B),B&&y(l),P&&P.d(B),B&&y(o),M(a,B),B&&y(u),M(c,B),B&&y(f),I&&I.d(B),B&&y(d),R&&R.d(B),B&&y(m),M(p,B),B&&y(g),M(k,B),B&&y($),B&&y(D)}}}let sP="YYYY-MM-DD";function ret(i,e,t){let n,r,s,l,o,a;Ee(i,St,F=>t(0,n=F)),Ee(i,It,F=>t(9,r=F)),Ee(i,Ha,F=>t(10,s=F)),Ee(i,Ku,F=>t(3,l=F)),Ee(i,Xe,F=>t(4,o=F)),Ee(i,Hf,F=>t(5,a=F)),xj(),window.Feature={beta(){wn(St,n.betaFeatures=!0,n)}};let u=1e3*60*2,c=we().format(sP),f=!0,d;const m=()=>{let F=we().format(sP);c!==F&&(un({message:`It's ${we().format("dddd")}!`}),c=F,dR(r.trackables),setTimeout(()=>{D(),So({knownTrackables:r.trackables,date:we()})},500))};setInterval(()=>{m(),g()},u);const p=()=>{document.querySelectorAll(".delete-on-app").forEach(F=>{F.classList.add("deleted"),setTimeout(()=>{F.remove()},500)})},g=()=>{Tf(n.theme)};window.addEventListener("load",async()=>{g()});let k=!1;window.location.href.search(/\?bypass/gi)>-1&&(wn(St,n.storageType="local",n),window.location.href="/");const $=async F=>ywe(s,r.trackables,{caller:F}),D=async()=>{t(6,k=!1),t(1,f=!0),t(6,k=!0),Xe.blocker("");try{await HQe(n)}catch(F){Xe.error(F.message)}Xe.stopBlocker(),t(1,f=!1)};return wt(async()=>{await D(),Er.init({}),Ut.hook("onLogSaved",F=>{setTimeout(()=>{$("on-log-save")},3500)}),Ut.hook("onLogsDeleted",F=>{setTimeout(()=>{$("on-log-deleted")},3500)}),document.location.pathname.search("/modal")>-1&&(document.location.href="/")}),i.$$.update=()=>{i.$$.dirty&65&&(k&&!n.onboarded?(t(2,d=!n.onboarded),Xe.stopBlocker(),t(1,f=!1),p()):k&&n.storageType&&(Et(200).then(()=>{p()}),Vt.init().then(async()=>{Et(2e3).then(()=>{$("storage-init"),DIe()})})))},[n,f,d,l,o,a,k]}class set extends ce{constructor(e){super(),ue(this,e,ret,iet,le,{})}}var hR={exports:{}};(function(i,e){(function(t,n){i.exports=n()})(Yn,function(){var t="week",n="year";return function(r,s,l){var o=s.prototype;o.week=function(a){if(a===void 0&&(a=null),a!==null)return this.add(7*(a-this.week()),"day");var u=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var c=l(this).startOf(n).add(1,n).date(u),f=l(this).endOf(t);if(c.isBefore(f))return 1}var d=l(this).startOf(n).date(u).startOf(t).subtract(1,"millisecond"),m=this.diff(d,t,!0);return m<0?l(this).startOf("week").week():Math.ceil(m)},o.weeks=function(a){return a===void 0&&(a=null),this.week(a)}}})})(hR);const oet=hR.exports;var mR={exports:{}};(function(i,e){(function(t,n){i.exports=n()})(Yn,function(){return function(t,n){var r=n.prototype,s=r.format;r.format=function(l){var o=this,a=this.$locale();if(!this.isValid())return s.bind(this)(l);var u=this.$utils(),c=(l||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(f){switch(f){case"Q":return Math.ceil((o.$M+1)/3);case"Do":return a.ordinal(o.$D);case"gggg":return o.weekYear();case"GGGG":return o.isoWeekYear();case"wo":return a.ordinal(o.week(),"W");case"w":case"ww":return u.s(o.week(),f==="w"?1:2,"0");case"W":case"WW":return u.s(o.isoWeek(),f==="W"?1:2,"0");case"k":case"kk":return u.s(String(o.$H===0?24:o.$H),f==="k"?1:2,"0");case"X":return Math.floor(o.$d.getTime()/1e3);case"x":return o.$d.getTime();case"z":return"["+o.offsetName()+"]";case"zzz":return"["+o.offsetName("long")+"]";default:return f}});return s.bind(this)(c)}}})})(mR);const aet=mR.exports;var pR={exports:{}};(function(i,e){(function(t,n){i.exports=n()})(Yn,function(){return function(t,n,r){n.prototype.dayOfYear=function(s){var l=Math.round((r(this).startOf("day")-r(this).startOf("year"))/864e5)+1;return s==null?l:this.add(s-l,"day")}}})})(pR);const uet=pR.exports;var _R={exports:{}};(function(i,e){(function(t,n){i.exports=n()})(Yn,function(){var t="day";return function(n,r,s){var l=function(u){return u.add(4-u.isoWeekday(),t)},o=r.prototype;o.isoWeekYear=function(){return l(this).year()},o.isoWeek=function(u){if(!this.$utils().u(u))return this.add(7*(u-this.isoWeek()),t);var c,f,d,m,p=l(this),g=(c=this.isoWeekYear(),f=this.$u,d=(f?s.utc:s)().year(c).startOf("year"),m=4-d.isoWeekday(),d.isoWeekday()>4&&(m+=7),d.add(m,t));return p.diff(g,"week")+1},o.isoWeekday=function(u){return this.$utils().u(u)?this.day()||7:this.day(this.day()%7?u:u-7)};var a=o.startOf;o.startOf=function(u,c){var f=this.$utils(),d=!!f.u(c)||c;return f.p(u)==="isoweek"?d?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):a.bind(this)(u,c)}}})})(_R);const cet=_R.exports,fet=60*60*1e3;_P({onRegistered(i){i&&i.update(),i&&setInterval(()=>{i.update()},fet)}});we.extend(I0);we.extend(oet);we.extend(aet);we.extend(uet);we.extend(cet);new set({target:document.body})});export default det();
